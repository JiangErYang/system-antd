{"version":3,"sources":["../node_modules/_antd@3.26.18@antd/es/card/Grid.js","../node_modules/_antd@3.26.18@antd/es/card/Meta.js","../node_modules/_antd@3.26.18@antd/es/row/index.js","../node_modules/_antd@3.26.18@antd/es/col/index.js","../node_modules/_antd@3.26.18@antd/es/card/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/interface/config.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/layer.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/theme/default.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/theme/factory.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/theme/index.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/global.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/base.js","../node_modules/_@antv_matrix-util@2.0.7@@antv/matrix-util/esm/mat3.js","../node_modules/_@antv_matrix-util@2.0.7@@antv/matrix-util/esm/vec2.js","../node_modules/_@antv_matrix-util@2.0.7@@antv/matrix-util/esm/vec3.js","../node_modules/_@antv_path-util@2.0.8@@antv/path-util/esm/catmull-rom-2-bezier.js","../node_modules/_@antv_path-util@2.0.8@@antv/path-util/esm/parse-path-string.js","../node_modules/_@antv_path-util@2.0.8@@antv/path-util/esm/path-2-absolute.js","../node_modules/_@antv_path-util@2.0.8@@antv/path-util/esm/path-2-curve.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/animate/util.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/animate/action.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/animate/animate.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/animate/index.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/register.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/base.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/category/base.js","../node_modules/_fecha@3.0.3@fecha/src/fecha.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/time.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/bisector.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/category/time.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/base.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/linear.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/math.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/log.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/pow.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/time.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/quantize.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/continuous/quantile.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/factory.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/identity/index.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/extended.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/cat.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/d3-linear.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/interval.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/strict-limit.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/util/pretty.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/quantile.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/time-pretty.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/index.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/time-cat.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/linear.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/r-prettry.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/time.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/log.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/pow.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/tick-method/d3-linear.js","../node_modules/_@antv_scale@0.3.1@@antv/scale/esm/index.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/constant.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/adjusts/adjust.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/factory.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/adjusts/dodge.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/adjusts/jitter.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/adjusts/stack.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/adjusts/symmetric.js","../node_modules/_@antv_adjust@0.2.2@@antv/adjust/esm/index.js","../node_modules/_@antv_coord@0.2.7@@antv/coord/esm/coord/base.js","../node_modules/_@antv_coord@0.2.7@@antv/coord/esm/coord/cartesian.js","../node_modules/_@antv_coord@0.2.7@@antv/coord/esm/coord/helix.js","../node_modules/_@antv_coord@0.2.7@@antv/coord/esm/coord/polar.js","../node_modules/_@antv_coord@0.2.7@@antv/coord/esm/factory.js","../node_modules/_@antv_coord@0.2.7@@antv/coord/esm/index.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/attributes/base.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/attributes/color.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/attributes/opacity.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/attributes/position.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/attributes/shape.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/attributes/size.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/factory.js","../node_modules/_@antv_attr@0.3.2@@antv/attr/esm/index.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/scale.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/coordinate.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/label/adjust/util/greedy.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/label/adjust/position.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/label/adjust/spiral.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/tooltip/theme.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/label/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/label/adjust/bbox.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/label/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/tooltip/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/tooltip/crosshair.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/const.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/tooltip/util/position.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/tooltip/html.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/tooltip/canvas.js","../node_modules/_@antv_matrix-util@2.0.7@@antv/matrix-util/esm/transform.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/axis/theme.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/axis/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/axis/circle.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/axis/helix.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/axis/line.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/continuous/constant/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/continuous/components/slider.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/continuous/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/continuous/size.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/continuous/color.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/category/arrow/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/category/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/category/canvas.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/legend/category/html.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/line.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/text.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/arc.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/region.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/image.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/html.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/data-marker.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/esm/annotation/data-region.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/annotation.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/util/path.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/base.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/legend.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/axis.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/tooltip.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/shape-state.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/controller/event.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/facet/base.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/facet/index.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/factory.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/tooltip.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/label/components/base.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/label/components/interval.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/label/components/polar.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/label/components/pie.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/label/components/factory.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/label/index.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/state.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/util/parse-fields.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/base.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/interaction/base.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/interaction/factory.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/view.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/util.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/plot/plot.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/util/shape.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/area.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/util/split-data.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/area.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/controller/size.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/box.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/box.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/edge.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/edge.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/heatmap.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/util/symbol.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/interval.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/interval.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/k-line.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/k-line.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/line.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/path.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/line.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/point.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/point.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/polygon.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/polygon.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/shape/text.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/element/text.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/facet/rect.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/common.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/esm/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/description.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/formatter.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/axis/parser.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/math.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/guide-line.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/axis/state.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/label/parser.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/state-manager.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/controller/state.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/label/state.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/factory.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/tooltip/state.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/interaction/base.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/scroll-bar/style.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/scroll-bar/index.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/arrow/index.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/icon/index.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/trend/constant.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/trend/path.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/trend/index.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/slider/constant.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/slider/handler.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/slider/index.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/time-line/button.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/interaction/helper/data-range.js","../node_modules/_@antv_gui@0.1.2@@antv/gui/esm/time-line/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/interaction/scrollbar.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/interaction/slider.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/interaction/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/controller/padding.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/theme/default.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/theme/global.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/theme/dark.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/theme/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/axis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/default.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/controller/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/theme/utils.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/view-layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/bbox.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/controller/canvas.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/controller/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/global.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/base/plot.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/base.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/area/main.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/path.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/area/mini.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/area/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/interval/main.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/interval/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/line/main.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/line/guide.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/line/mini.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/line/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/point/circle.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/point/guide.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/factory.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/point/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/scale.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/animation/clipIn-with-data.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/node/shape-nodes.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/ring-thickness.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/element-dist.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/element-dist-vertical.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/element-collision.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/element-width.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/column-width.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/constraints/min-ring-thickness.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/text-hide.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/clear-overlapping.js","../node_modules/_fecha@4.1.0@fecha/lib/fecha.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/datetime-string-abbrevaite.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/digits-abbreviate.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/nodes-resampling.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-state.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/text-abbreviate.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/text-wrapper.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/text-rotation.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/robust-abbrevaite.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-abbrevate.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/nodes-resampling-by-change.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/node-jitter.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/rules/node-jitter-upward.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/responsive.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/apply/base.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/apply/axis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/apply/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/apply-responsive/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/apply-responsive/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/apply-responsive/axis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/apply-responsive/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/component/label/line-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/component/label/point-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/interaction/line-active.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/interaction/line-select.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/line/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/area/apply-responsive/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/area/apply-responsive/axis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/area/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/area/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/area/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/density/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/density/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/conversion-tag.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/apply-responsive/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/apply-responsive/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/apply-responsive/axis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/color.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/apply-responsive/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/component/label/column-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/column/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/scatter/components/label/scatter-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/scatter/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/scatter/components/quadrant.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/utils/points.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/utils/determination.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/utils/geometry.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/utils/interpose.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/utils/ols.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/exponential.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/linear.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/utils/median.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/loess.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/logarithmic.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/quadratic.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/power.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/scatter/components/trendline.js","../node_modules/_d3-regression@1.3.4@d3-regression/src/polynomial.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/scatter/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bubble/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bubble/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/scatter/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/group-column/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/group-column/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/connected-area.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-column/component/label/stack-column-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-column/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-column/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/data.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/percentage-stack-column/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/percentage-stack-column/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/histogram/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/histogram/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/apply-responsive/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/apply-responsive/axis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/component/label/bar-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bar/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-bar/component/label/stack-bar-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-bar/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-bar/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/percentage-stack-bar/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/percentage-stack-bar/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/group-bar/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/group-bar/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-bar/component/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-bar/animation.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-bar/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-bar/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-column/component/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-column/animation.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-column/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/range-column/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/spider-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/utils/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/utils/text.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/base-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/inner-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/outer-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/component/label/outer-center-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/pie/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/util/responsive/node/variable-node.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/apply-responsive/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/apply-responsive/geometry.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/apply-responsive/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/component/statistic-template.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/ring/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/radar/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/radar/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/radar/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/liquid/geometry/shape/liquid.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/liquid/animation/liquid-move-in.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/liquid/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/liquid/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/gauge/geometry/shape/pointer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/gauge/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/gauge/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/gauge/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/area/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-area/component/label/area-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-area/component/label/line-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-area/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/stack-area/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/percentage-stack-area/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/percentage-stack-area/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/component/label/funnel-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/animation/funnel-scale-in-x.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/animation/funnel-scale-in-y.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/theme.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/geometry/shape/funnel-dynamic-rect.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/geometry/shape/funnel-basic-rect.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/component/label/funnel-label-parser.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/funnel/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/geoms/heatmap/linear.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/heatmap/components/legend.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/heatmap/components/background.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/heatmap/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/heatmap/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/matrix/component/legend.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/matrix/shape.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/matrix/component/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/matrix/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/matrix/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/waterfall/geometry/shape/waterfall.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/waterfall/component/label/waterfall-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/waterfall/component/label/diff-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/waterfall/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/waterfall/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/layout/dice.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/layout/slice.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/layout/squarify.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/base.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/components/breadcrumb.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/interaction/animation.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/interaction/drillDown.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/interaction/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/components/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/treemap/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/step-line/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/step-line/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/word-cloud/word-cloud-tooltips.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/word-cloud/wordcloud2.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/word-cloud/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/word-cloud/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/rose/component/label/utils/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/rose/component/label/rose-label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/rose/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/rose/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bullet/component/bulletRect.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bullet/component/bulletTarget.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bullet/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/bullet/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/layout/partition.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/interaction/drillDown.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/interaction/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/components/label.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/plots/sunburst/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/progress/component/marker.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/progress/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/progress/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/progress/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/ring-progress/animation/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/ring-progress/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/ring-progress/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/ring-progress/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-column/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-column/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-column/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-area/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-area/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-area/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-line/event.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-line/layer.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/sparkline/tiny-line/index.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/base.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/util/adjustColorConfig.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/util/globalLegend.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/util/padding.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/util/globalAxis.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/util/globalTooltip.js","../node_modules/_@antv_g2plot@0.11.41@@antv/g2plot/esm/combo-plots/overlapped.js","pages/datastat/index.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-array-like.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/contains.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/filter.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/difference.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-type.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-function.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-nil.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-array.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-object.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/each.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/keys.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-match.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-object-like.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-plain-object.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/find.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/find-index.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/first-value.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/flatten.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/flatten-deep.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/get-range.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/pull.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/pull-at.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/reduce.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/remove.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-string.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/sort-by.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/uniq.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/union.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/values-of-key.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/head.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/last.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/starts-with.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/ends-with.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/every.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/some.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/group-by.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/group-to-map.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/group.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/get-wrap-behavior.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/wrap-behavior.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/number2color.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/parse-radius.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/clamp.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/fixed-base.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-number.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-decimal.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-even.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-integer.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-negative.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-number-equal.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-odd.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-positive.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/max-by.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/min-by.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/mod.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/to-degree.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/to-integer.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/to-radian.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/for-in.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/has.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/has-key.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/values.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/has-value.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/to-string.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/lower-case.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/lower-first.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/substitute.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/upper-case.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/upper-first.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/get-type.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-arguments.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-boolean.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-date.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-error.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-finite.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-null.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-prototype.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-reg-exp.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-undefined.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-element.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/request-animation-frame.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/clear-animation-frame.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/mix.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/augment.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/clone.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/debounce.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/memoize.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/deep-mix.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/extend.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/index-of.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-empty.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-equal.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/is-equal-with.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/map.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/map-values.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/get.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/set.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/pick.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/throttle.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/to-array.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/unique-id.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/noop.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/identity.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/size.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/cache.js","../node_modules/_@antv_util@2.0.9@@antv/util/esm/index.js","../node_modules/_tslib@1.13.0@tslib/tslib.es6.js","../node_modules/_@antv_g@3.5.0-beta.6@@antv/g/dist/g.min.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/add-event-listener.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/create-dom.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/get-style.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/get-height.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/get-outer-height.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/get-width.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/get-outer-width.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/get-ratio.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/modify-css.js","../node_modules/_@antv_dom-util@2.0.2@@antv/dom-util/esm/index.js","config/domain.js","utils/getFetch.js","utils/handleObject.js","../node_modules/_rc-util@4.21.1@rc-util/es/createChainedFunction.js","../node_modules/_rc-util@4.21.1@rc-util/es/Dom/addEventListener.js","../node_modules/_@antv_event-emitter@0.1.2@@antv/event-emitter/esm/index.js","../node_modules/_rc-util@4.21.1@rc-util/es/Dom/contains.js","../node_modules/_rc-util@4.21.1@rc-util/es/ContainerRender.js","../node_modules/_rc-util@4.21.1@rc-util/es/Portal.js","../node_modules/_add-dom-event-listener@1.1.0@add-dom-event-listener/lib/index.js","../node_modules/_@antv_color-util@2.0.5@@antv/color-util/esm/index.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-array.js","../node_modules/_add-dom-event-listener@1.1.0@add-dom-event-listener/lib/EventObject.js","../node_modules/_add-dom-event-listener@1.1.0@add-dom-event-listener/lib/EventBaseObject.js","../node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/common.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/continuous/constant/index.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/each.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-type.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-string.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/continuous/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/const.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/category/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/tooltip/theme.js","../node_modules/_@antv_g2@3.6.0-beta.21@@antv/g2/lib/element/util/shape.js","../node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/mat3.js","../node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/vec2.js","../node_modules/_@antv_gl-matrix@2.7.1@@antv/gl-matrix/lib/gl-matrix/vec3.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-object.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-equal.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-object-like.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/is-array-like.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/mod.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/to-radian.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/continuous/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/continuous/size.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/continuous/components/slider.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/continuous/color.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/category/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/category/canvas.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/category/arrow/index.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/legend/category/html.js","../node_modules/_@antv_util@2.0.9@@antv/util/lib/clone.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/tooltip/html.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/tooltip/base.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/tooltip/crosshair.js","../node_modules/_@antv_component@0.4.0-beta.14@@antv/component/lib/tooltip/util/position.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","props","_ref","obj","value","getPrefixCls","customizePrefixCls","prefixCls","className","_props$hoverable","hoverable","others","classString","concat","defineProperty","enumerable","configurable","writable","avatar","title","description","avatarDom","titleDom","descriptionDom","MetaDetail","_typeof","Symbol","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_setPrototypeOf","o","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","getPrototypeOf","getAction","actions","map","action","index","style","width","_React$Component","subClass","superClass","create","_inherits","Card","protoProps","staticProps","_super","_this","onTabChange","renderCard","_classNames","_extraProps","head","_a","extra","_a$headStyle","headStyle","_a$bodyStyle","bodyStyle","loading","_a$bordered","bordered","_a$size","size","type","cover","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","getCompatibleHoverable","isContainGrid","loadingBlockStyle","padding","undefined","loadingBlock","gutter","span","hasActiveTabKey","extraProps","tabs","onChange","item","TabPane","tab","disabled","coverDom","body","actionDom","divProps","warning","noHovering","_this$props","containGrid","forEach","element","Grid","Meta","DAY","timeIntervals","second","format","miniute","hour","day","week","month","year","EVENT_MAP","onViewClick","onViewDblClick","onViewMousemove","onViewMousedown","onViewMouseup","onViewMouseenter","onViewMouseleave","onViewContextmenu","onAxisClick","onAxisDblClick","onAxisMousemove","onAxisMousedown","onAxisMouseup","onAxisMouseenter","onAxisMouseleave","onAxisContextmenu","onLabelClick","onLabelDblClick","onLabelMousemove","onLabelMouseup","onLabelMousedown","onLabelMouseenter","onLabelMouseleave","onLabelContextmenu","onLegendClick","onLegendDblClick","onLegendMouseMove","onLegendMouseDown","onLegendMouseUp","onLegendMouseLeave","onLegendMouseEnter","onLegendContextmenu","CANVAS_EVENT_MAP","onPlotClick","onPlotDblClick","onPlotMousemove","onPlotMousedown","onPlotMouseup","onPlotMouseenter","onPlotMouseleave","onPlotContextmenu","onTitleClick","onTitleDblClick","onTitleMousemove","onTitleMousedown","onTitleMouseup","onTitleMouseenter","onTitleMouseleave","onTitleContextmenu","onDescriptionClick","onDescriptionDblClick","onDescriptionMousemove","onDescriptionMousedown","onDescriptionMouseup","onDescriptionMouseenter","onDescriptionMouseleave","onDescriptionContextmenu","onBreadcrumbClick","onBreadcrumbDblClick","onBreadcrumbMousemove","onBreadcrumbMousedown","onBreadcrumbMouseup","onBreadcrumbMouseenter","onBreadcrumbMouseleave","onBreadcrumbContextmenu","LAYER_EVENT_MAP","onLayerClick","onLayerDblClick","onLayerMousemove","onLayerMousedown","onLayerMouseup","onLayerMouseenter","onLayerMouseleave","onLayerContextmenu","onEvent","layer","eventName","handler","view","on","Layer","layers","destroyed","visibility","rendered","eventHandlers","options","getOptions","processOptions","container","id","x","y","height","canvas","parent","updateConfig","cfg","beforeInit","init","layerBBox","getLayerBBox","layerRegion","getLayerRegion","eachLayer","afterInit","render","add","transform","draw","clear","destroy","h","off","remove","show","set","hide","addLayer","push","removeLayer","idx","splice","updateBBox","recursive","originRange","newRange","updateBBoxByParent","region","start","end","getGlobalPosition","globalX","globalY","getGlobalBBox","globalPosition","parentWidth","parentHeight","defaultOptions","cb","parseEvents","eventParser","eventsName","k","name","parentX","parentY","THEME_MAP","getTheme","toLowerCase","FONT_FAMILY","SHAPE_STYLE","area","lineWidth","fill","fillOpacity","hollowArea","stroke","box","edge","interval","hollowInterval","kline","line","polygon","hollowPolygon","point","radius","hollowPoint","text","textAlign","textBaseline","opacity","strokeOpacity","LINEWIDTH_ACTIVE_STYLE","POINT_ACTIVE_STYLE","color","fillStyle","shadowBlur","shadowColor","HOLLOW_POINT_ACTIVE_STYLE","strokeStyle","DEFAULT_AXIS_CONFIG","autoRotateLabel","autoHideLabel","autoRotateTitle","showTitle","gridType","textStyle","fontSize","fontFamily","offset","label","lineHeight","tickLine","alignWithLabel","grid","lineDash","DEFAULT_LEGEND_CONFIG","unSelectedColor","titleStyle","flipPage","theme","Error","registerTheme","pixelRatio","defaultColor","colors","colors_20","shapes","sizes","opacities","backgroundStyle","axis","top","position","bottom","left","right","circle","helix","treemapLabels","fontStyle","innerLabels","thetaLabels","labelHeight","labelLine","defaultLegendPosition","legend","layout","itemMarginBottom","itemDistance","html","overflow","marginBottom","listStyle","listStyleType","margin","itemStyle","cursor","marginRight","markerStyle","borderRadius","display","verticalAlign","legendMargin","tooltip","useHtml","zIndex","transition","backgroundColor","boxShadow","marginTop","marginLeft","float","tooltipMarker","symbol","r","shadowOffsetX","shadowOffSetY","tooltipCrosshairsRect","rectStyle","tooltipCrosshairsLine","lineStyle","annotation","autoRotate","alignX","alignY","dataRegion","dataMarker","direction","autoAdjust","lineLength","shape","default","active","smooth","smoothLine","vhv","arc","rect","tick","funnel","pyramid","dot","dash","hv","vh","hvh","hollow","square","bowtie","diamond","hexagon","triangle","triangleDown","hollowCircle","hollowSquare","hollowBowtie","hollowDiamond","hollowHexagon","hollowTriangle","hollowTriangleDown","cross","plus","hyphen","image","path","Global","version","renderer","animate","widthRatio","column","rose","multiplePie","setTheme","newTheme","Base","visible","get","changeVisible","mat3","out","a","v","transMat","Array","rad","rotateMat","scaleMat","m","len","vec2","v1","v2","theta","Math","acos","direct","angle","angleLargeThanPI","PI","flag","catmullRom2Bezier","crp","z","d","iLen","SPACES","PATH_COMMAND","RegExp","PATH_VALUES","parsePathString","pathString","paramCounts","c","l","q","u","data","String","replace","b","params","REGEX_MD","toSymmetry","pathToAbsolute","pathArray","needProcess","cmd","test","res","mx","my","first","ii","pa","preParams","upCmd","toUpperCase","j","jj","symetricT","length_1","symetricS","a2c","x1","y1","rx","ry","large_arc_flag","sweep_flag","x2","y2","xy","f1","f2","cx","cy","_120","rotate","cos","sin","sqrt","rx2","ry2","abs","asin","Number","toFixed","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","join","split","l2c","q2c","ax","ay","pathTocurve","path2","p2","attrs","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","slice","fixArc","pp","shift","pi","max","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","parseFloat","getClip","coord","clip","isPolar","startAngle","endAngle","center","getCenter","getRadius","Fan","rs","re","endState","Rect","isTransposed","getScaledMatrix","scaledMatrix","matrix","getMatrix","doAnimation","animateCfg","delay","easing","duration","callback","getAnimateParam","doGroupScaleIn","zeroY","getWidth","getCoordRange","endMatrix","attr","getAngle","points","minX","maxX","minY","maxY","centerX","centerY","getPointsBox","coordStartAngle","diffAngle","scaleInY","getBBox","scaleInX","zoomIn","pathIn","clipIn","setSilent","fadeIn","fanIn","Action","enter","leave","lineWidthOut","zoomOut","pathOut","fadeOut","appear","groupWaveIn","groupScaleInX","groupScaleInY","groupScaleInXY","update","animationName","defaultAnimationCfg","Animate","isRect","heatmap","defaultCfg","getAnimation","elementType","animationType","elementAnimateCfg","animation","getAnimateCfg","registerAnimation","animationFun","getShapes","viewId","child","isGroup","isShape","getAnimate","execAnimation","isUpdate","newIsUpdate","panelGroup","backgroundGroup","caches","drawn","axisShapes","cacheShapes","rst","shapeCache","canvasDrawn","updateShapes","newShapes","deletedShape","tempShape","addShape","tempShapeMatrix","finalMatrix","multiply","setMatrix","updateShape","cacheAttrs","newShape","addAnimate","animateCfg_1","animate_1","elements","coord_1","elementAnimateOption","yScale","getYScale","convertPoint","scale","getYMinValue","shapeArr","methodCache","registerTickMethod","method","Scale","isCategory","isLinear","isContinuous","isIdentity","values","range","ticks","__cfg__","initCfg","translate","change","clone","getTicks","getText","tickValue","formatter","getConfig","setDomain","calculateTicks","tickMethod","rangeMin","rangeMax","calcPercent","min","NaN","calcValue","percent","Category","order","invert","scaledValue","domainRange","round","args","_i","includes","fecha","token","word","literal","noop","shorten","arr","sLen","newArr","substr","monthUpdate","arrName","i18n","charAt","pad","val","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","floor","parseFlags","parseInt","cent","minute","millisecond","isPm","minutes","parts","match","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","mask","i18nSettings","isNaN","getTime","literals","$0","$1","parse","dateStr","dateInfo","parseInfo","str","newFormat","info","matches","date","today","UTC","timeFormat","time","toTimeStamp","getTickInterval","tickCount","_lo","_hi","lo","hi","mid","getter","TimeCat","tickIndex","sort","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","nice","getInvertPercent","Linear","calBase","E","pow","log","getLogPositiveMin","base","positiveMin","Log","appendPercent","tmp","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","Infinity","secondMin_1","max_1","timeStamp","minTickInterval","Quantize","minIndex","minTick","minIndexPercent","unshift","Quantile","getClass","registerClass","cls","Identity","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","n","simplicityMax","density","dmin","dmax","rt","densityMax","coverage","coverageMax","half","extended","onlyLoose","w","best","score","Q_1","sm","dm","delta","ceil","log10","step","cm","minStart","maxStart","g","isInteger","calculateCatTicks","tickInterval","__","ticks_1","e10","e5","D3Linear","_domain","domain","from","count","_b","i0","i1","stop","tickIncrement","reverse","isFinite","d3ArrayTicks","power","LN10","error","snapMultiple","snapType","intervalTicks","maxTick","strictLimit","defaultMin","defaultMax","tickMin","tickMax","pretty","unit","nu","ns","quantileSorted","getYear","createYear","creatMonth","lastValue","ratio","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","avg","sorted","linear","d3Linear","Adjust","xField","yField","adjustNames","isAdjust","dim","getAdjustRange","dimValue","pre","next","adjustData","groupedDataArray","mergedData","dimValuesMap","getDimValues","dataArray","adjustDim","groupData","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","Dodge","cacheMap","adjustDataArray","mergeData","marginRatio","dodgeRatio","dodgeBy","process","groupDataArray","frameIndex","getDistribution","group","valueArr","valIndex","getDodgeOffset","tickLength","Jitter","adjustGroup","getAdjustOffset","random","Cache","Stack","_c","_d","reverseOrder","processStack","processOneDimStack","positive","negative","xKey","cache","has","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","keys","yValue","off_1","getDimMaxValue","dimValues","flattenValues","Coordinate","isHelix","isReflectX","isReflectY","originalMatrix","initial","convertDim","isReflect","invertDim","applyMatrix","tag","vector","transformMat3","invertMatrix","inverted","convert","invertPoint","radian","reflect","transpose","getHeight","resetMatrix","Cartesian","Helix","innerRadius","maxRadius","thi","newY","subtract","angleTo","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","vPoint","vStart","xPercent","yPercent","xs","ys","COORDINATE_MAP","getCoordinate","registerCoordinate","Attribute","names","scales","_parseCfg","mapping","param","_toOriginParam","getLinearValue","steps","leftPercent","getNames","getFields","field","getScale","defaultCallback","_getAttributeValue","ret","Color","gradient","Opacity","Position","scaleX","scaleY","xi","yi","Shape","Size","ATTRIBUTE_MAP","getAttribute","registerAttribute","Types","dateRegex","ScaleController","defs","createScale","def","firstValue","_getDefaultType","_getScaleCfg","Cat","CoordController","option","reset","createCoord","C","coordCfg","_hasAction","_execActions","_angle","sx","sy","actionName","Guide","capture","offsetX","offsetY","Greedy","bitmap","xGap","yGap","hasGap","bbox","fillGap","adjustLabelPosition","spiralFill","greedy","maxTimes","dxdy","maxDelta","dx","dy","f","nt","canFill","times","accessedCache","LAYOUTS","scatter","toBeRemoved","labels","i_1","treemap","labelBBox","shapeBBox","Label","containerTpl","itemTpl","items","lineGroup","_init","emit","canvasDraw","_dryDraw","innerHTML","changeLabel","oldLabel","newLabel","tagName","node","_createDom","_setCustomPosition","rotateAtStart","drawLines","addGroup","_lineToLabel","lineShape","_adjustLabels","getLabels","childNodes","_createText","oldcfg","labelShape","htmlTemplate","name_1","origin_1","origin","_initHtmlContainer","appendChild","wrapper","parentNode","htmlDom","Tooltip","titleContent","panelRange","inPanel","crosshairs","isContentChange","lastItems","isChanged","preItem","some","setContent","setPosition","setMarkers","markerItems","markerCfg","markerGroup","frontgroundGroup","clearMarkers","Crosshair","plot","_init_","_addLineShape","_renderHorizontalLine","bl","br","_renderVerticalLine","tl","_renderBackground","_updateRectShape","crosshairsRectShape","firstItem","lastItem","startDim","crossLineShapeX","crossLineShapeY","move","defaultPosition","containerWidth","containerHeight","newx","newy","rectWidth","rectHeight","gap","constraintPositionInBoundary","viewWidth","viewHeight","constraintPositionInPanel","onlyHorizontal","tr","dom","getElementsByClassName","HtmlTooltip","htmlContent","follow","enterable","styles","crosshair","crosshairGroup","outterNode","_getHtmlContent","document","getElementById","_renderTpl","listDom","_addItem","removeChild","itemDiv","itemDOM","markerDom","valueDom","oldx","oldy","clientWidth","clientHeight","endx","endy","prePosition","panelClip","CanvasTooltip","nameStyle","valueStyle","itemGap","animationDuration","board","titleShape","itemsGroup","itemGroup","itemHeight","_alignToRight","mat","ts","stopAnimate","markerRadius","marker","markerAttrs","groups","valueText","Axis","subTickCount","subTickLine","labelItems","gridPoints","_processTicks","_renderGrid","_renderLine","_renderTicks","_renderLabels","renderTitle","gridGroup","labelRenderer","parseTick","addLabel","labelCfg","executedLabel","getSideVector","newPoint","getTextAnchor","getMaxLabelWidthOrHeight","property","autoRotateLabels","autoHideLabels","getLinePath","lineCfg","tickLineCfg","tickItems","subTickItems","_addTickLine","subTickLineCfg","appendInfo","class","preItem_1","gridCfg","subPoints","executedGrid","path_1","gridLineShape","_drawAlternativeBg","_parseTicks","tickPoint","getTickPoint","_addTickItem","subTickLineCfg_1","diff","subTick","subTickLength","ticksLength","getTickEnd","tickShape","oddColor","evenColor","alternateColor","_getBackItem","bgColor","subItem","endSubItem","Circle","_getCirclePoint","vecLen","getSidePoint","align","inner","startPoint","endPoint","large","sweep","innerStartVector","innerEndVector","innerStartPoint","innerEndPoint","startAngle_1","totalAngle_1","avgAngle","avgWidth_1","maxLength_1","mode","axisStart","_getHelixPoint","AUTO_ROTATE_DEGREES","Line","isVertical","axisVector","getAxisVector","normal","normalize","verticalVector","vertical","offsetVector","rangeX","rangeY","offsetPoint","titleOffset","labelLength","getAutoRotateAngle","getOffsetByRotateAngle","sideVector","angle_1","offsetY_1","textAlign_1","labelSpace","tickStep","labels_1","maxHeight","avgHeight","_getAvgLabelHeightSpace","maxWidth","avgWidth","_getAvgLabelLength","ratio_1","visibleTicks","getAutoRotateAngleByAvgWidth","degrees_1","Legend","bindEvents","renderItems","moveTo","formatterValue","SliderBtnStyle","SliderTextStyle","SliderMiddleBackgroundStyle","SliderMiddleFrontendStyle","DefaultTitleStyle","Slider","onMouseMove","clientX","clientY","updateSliderStatus","onMouseUp","clearAllEvents","currentTarget","sliderType","sliderSize","operational","SLIDER_WIDTH","initialSlider","setBackground","bg","frontend","background","rangeSliderShape","isHorizontal","createRangeSliderShape","minSliderGroup","createMinSliderGroup","maxSliderGroup","createMaxSliderGroup","renderUIWithRange","bindEvent","getSliderCursor","minSliderShape","createSliderButton","minTextShape","createSliderText","maxSliderShape","maxTextShape","getRectButtonAttribute","isMin","sliderWidth","sliderHeight","getCircleButtonAttribute","SLIDER_CIRCLE_MAX_SIZE","buttonAttr","buttonAttribute","getRectTextAttribute","getCircleTextAttribute","textAttribute","textAttr","onMouseDown","ev","originEvent","event","stopPropagation","preventDefault","pos","bindCanvasEvents","containerDOM","e1","e2","e3","isDragMin","isDragMax","isDragAll","totalLength","sign","currentPosition","getNewRange","getValue","minRatio","maxRatio","otherCfg","defaultSize","titleDistance","handleIcon","legendGroup","isShowTitle","renderSlider","isOperational","getSliderConfig","sliderStyle","slider","createBackgroundGroup","itemFiltered","getBackgroundShapeAttr","halfWidth","halfHeight","shapeAttribute","calculatePercent","percentage","isSegment","getOperationalGroup","rgbColor","toRGB","getUnOperationalGroup","isize","preRgbColor","dir_mapper","up","down","Arrow","transformMatrix","DEFAULT_THEME","wordSpacing","backgroundPadding","CategoryBase","clickable","selectedMode","allowAllCanceled","reversed","autoWrap","CanvasLegend","isFlipped","_getMaxItemSize","maxItemWidth","maxItemHeight","needPageFlip","isNeedFlip","_adjustItems","_adjustPositionOffset","_renderBack","itemsBBox","paginationCfg","_getPaginationCfg","pageNumber","_getHorizontalPaginationHeight","flipUI","flipPageUI","currentIndex","arrow1","arrows","arrow2","dist","la","arrow","ra","ua","da","GAP","getCheckedCount","fliperContainer","_mergeBBox","_getNextX","_getNextY","checked","wordSpace","startX","markerShape","textAttrs","textShape","itemWidth","wrapperShape","nextX","nextY","_adjustHorizontal","maxLength","row","rowLength","_adjustVertical","titleDisatance","titleHeight","colLength","backAttrs","renderBack","_onMousemove","_getLegendItem","itemMouseover","_findItem","_onMouseleave","itemMouseleave","_onClick","clickedItem","item_1","itemClick","markerItem_1","textItem_1","legendItem_1","unSelectedColor_1","checkColor_1","_findShapeByName","refer","findBy","bboxes","userSelect","activeColor","inactiveColor","arrowSize","_findParentNode","nodeClass","_findNodeByClass","HTMLLegend","prefixClassName","pagination","highlight","legendContainer","titleContainer","itemGroupContainer","clipContainer","itemMap","itemDom","originColor","domStr","setAttribute","_renderHorizontalPagination","_renderPagination","onclick","onmousemove","onmouseout","_onMouseout","_updateStatus","LIST_ITEM_CLASS","LIST_ITEM_MARKER_CLASS","targetClassName","clickedItemDom","itemNodes","markerDom_1","isCurrentChecked","count_1","lastActiveItem","LIST_CLASS","hoveredItemDom","hoveredItem","itemNode","scrollHeight","offsetHeight","paginationDom","itemGroupContainerHeight","itemGroupContainerOffsetHeight","pageSize_1","deltaHeight_1","currentPageNum_1","totalPageNum","prePageButton_1","nextPageButton_1","activeStyle_1","border","borderWidth","inactiveStyle_1","currentPage_1","translateY_1","scrollWidth","offsetWidth","itemGroupContainerWidth","itemGroupContainerOffsetWidth","pageSize_2","deltaWidth_1","currentPageNum_2","prePageButton_2","nextPageButton_2","activeStyle_2","inactiveStyle_2","currentPage_2","translateX_1","Annotation","xScales","yScales","el","HTMLElement","parsePoint","_position","parsePercentPoint","getNormalizedValue","scaled","topLeft","fontWeight","guideLineGroup","content","drawText","textCfg","Text","guideText","Arc","originStart","originEnd","coordCenter","console","warn","largeArc","arcShape","Region","getPath","regionGroup","Image","src","img","imgGuide","Html","wrapperNode","htmlNode","setDomPosition","parentDom","childDom","domWidth","domHeight","DataMarker","positions","getElementPosition","pointCfg","lineData","drawLine","textPosition","pointPoisition","drawPoint","dir","linePath","pointStyle","DataRegion","regionCfg","regionData","getRegionData","regionBBox","startIndex","startXValue","endXValue","xRange","yRange","fromRange","AnnotationController","acfg","annotations","annConfig","typeName","viewData","createAnnotations","ann","repaint","viewData_1","_getPointRadius","_convertArr","catmullRom2bezier","constraint","isLoop","pointList","cp1","cp2","controlPointList","prevPoint","nextPoint","cps","hasConstraint","sub","d0","distance","d1","sum","cp0","isInCircle","command","_points2path","getSplinePath","constaint","prePoint","splinePath","getPointAngle","atan2","convertPolarPath","cur","transposed","subPath","curPoint","xDim","angleRange","middlePoint","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","ShapeBase","_coord","getCoord","parsePath","islineToArc","parsedPath","convertNormalPath","parsePoints","ShapeFactoryBase","_theme","_getShapeStyleByState","shapeName","shapeState","elementName","defaultShapeType","setCoord","getShape","getShapePoints","pointInfo","getPoints","getDefaultPoints","getMarkerStyle","getInactiveStyle","inactiveCfg","getActiveStyle","activeCfg","getSelectedStyle","selectedCfg","drawShape","defaultShapeStyle","gShape","yIndex","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeType","factory","shapeObj","getShapeFactory","STROKE_MARKERS","LegendController","legends","legendOptions","custom","addCustomLegend","getElements","scales_1","getAttrsForLegend","compareScale","scaleValues","compareScaleValues","filteredValues","getFilteredOutValues","addLegend","alignLegends","getLegendOptions","viewRange","fieldOption","fields","getFieldLegendConfig","adjustPosition","addContinuousLegend","addCategoryLegend","bindHoverEvent","originalValue","containsMinValue","containsMaxValue","attrValue","positionArr","legendCfg","getFieldLegendOption","bindFilterEvent","isByAttr","getDefaultValue","viewTheme","panelGroupClip","panelGroupClipBox","posArray","scaleValue","isFiltered","colorAttr","getAttr","shapeAttr","restArgs","dataValue","defaultLegendCfg","alias","bindClickEvent","onClick","totalRegion","getRegion","groupLegendByPosition","legendItems","subs","alignLegend","backPlot","legendHeight","legendWidth","borderMargin","innerMargin","legendNum","tempoRegion","getXAlign","getYAlignVertical","getYAlignHorizontal","preWidth","totalWidth","canvasHeight","totalHeight","isSingeSelected_1","clickedValue_1","isFieldInView","filter","onMouseover","onMouseleave","subRegion","getSubRegion","filterVals","fieldScale","filed","defaultValue","filterShape","eachShape","filterLabels","labelOptions","xField_1","getXScale","yField_1","shapeData_1","_origin","labelData","getDefaultValueFromPosition","AxisController","axes","createAxis","xScale","xAxis_1","coordType","_isHide","_drawAxis","_getAxisOptionByField","_getMiddleValue","curValue","nextValue","_getLineRange","dimType","_getLineCfg","_getCircleCfg","startVector","normalVector","_getRadiusCfg","_getHelixCfg","_getAxisPosition","_getAxisDefaultCfg","pop","_getAxisCfg","verticalScale","gridPoints_1","verticalTicks_1","last","formatTicks","gridCentering","fillAxisTicks","gridAlign","rangeX_1","rangeY_1","verticalTick","xAxis","appendCfg","Vector2","TYPE_SHOW_MARKERS","TYPE_SHOW_CROSSHAIRS","IGNORE_TOOLTIP_ITEM_PROPERTIES","isEqual","TooltipController","lastTimeStamp","showTooltip","onMouseOut","hideTooltip","renderTooltip","_getCanvas","_getDefaultTooltipOptions","triggerEvent_1","_getTriggerEvent","tooltipContainer","eventObj","_normalizeEvent","Canvas","_bindEvent","getPointByClient","setActive","markersItems","isShareTooltip","tmpPoint","findPoint","subItems","getTooltipItems","showMarker","itemMarker","_getItemMarker","shapeContainer","first_1","every","nearestItem_1","nearestDistance_1","shared","snapItem_1","aItem","_setTooltip","_offEvent","triggerOn","crosshairsCfg","triggerEvent","_items","showTooltipMarkers","ShapeStateController","_states","_stateStack","setState","exp","_onUpdate","getState","getAllStates","_changeTimer","clearTimeout","stateStack","setTimeout","state","_triggerEvent","isBackgroundShape","backgroundBkShape","panelBkShape","registerData","isSameShape","shape1","shape2","isInView","isShapeInView","isInPanel","EventController","_panelGroup","_eventHandlers","_pixelRatio","_getEventObj","_triggerShapeEvent","_addEvent","eventType","canvasDom","_canvasDomLeaveHandler","addEventListener","_onEvents","targetParent","parentName","_onMove","isbkTarget","lastShape","_lastShape","isbklastShape","enterObj","isTargetInPanel","isLastShapeInPanel","_onCanvasMove","targetInView","lastTargetInView","_lastCanvasTarget","_onCanvasDomLeave","clearEvents","eh","removeEventListener","Facet","_createContainer","facets","generateFacets","_renderViews","renderAxis","_clearFacetViews","_createFacetViews","facet","facetToView","removeView","createView","beforeProcessView","eachView","afterProcessView","getFieldValues","rows","cols","xIndex","xWidth","yWidth","Facets","ELEMENT_MAP","getElement","registerViewPrototype","_snapEqual","value1","value2","_getScaleName","_xDistance","xValue_1","yValue_1","originData","_getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","_filterYValue","next_1","firstIdx","lastIdx","middleIdx","_getXDistance","titleField","tooltipTitle","_getTooltipTitle","tooltipOptions","_getSize","addItem","itemName","itemValue","callbackParams","itemCfg","valueScale","_getTooltipValueScale","_getTooltipValue","_getTooltipName","xScale_1","min_2","numericValue","_getTooltipTitleScale","titleScale","tmpScale","eachValue","nameScale","groupScales","getGroupScales","getSize","IGNORE_ARR","ElementLabels","_renderUI","labelsGroup","labelsRenderer","showLabels","originShapes","getLabelsItems","adjustItems","lineToLabel","setLabelPosition","transLabelPoint","getOffsetVector","getDefaultOffset","getLabelOffset","total","_getlabelOptions","subIndex","getLabelPoint","getLabelAlign","getShapeId","getDimValue","centroid","former","current","getCentroid","nextPoints","maxX_1","p1","_getLabelValue","originScales","tmp_1","subVal","cfgs","originText","originValues","IntervalElementLabels","originPoint","originPosition","point0","point1","PolarElementLabels","arcPoint","_isToMiddle","_getMiddlePoint","getArcPoint","middleAngle","isLabelEmit","labelEmit","labelPoint","getCirclePoint","getLabelRotate","originAngle","outerPoint","getEndPoint","PieElementLabels","originItems","_distribute","orignAngle","isLabelLimit","plotRange","halves","maxLabelsCountForOneSide","isRight","overlapping","startY","MIN_VALUE","boxes","targets","previousBox","posInCompositeBox","rPow2","dyPow2","antiCollision","ELEMENT_LABELS_MAP","getElementLabels","registerElementLabels","LabelController","labelsContainer","_createLabelsContainer","Ctor","_getElementLabelsConstructor","labelType","addLabels","isChange","preShapes","shape1Origin","shape2Origin","_isSameShape","getOriginAttrs","modifiedAttrs","originAttrs","originValue","StateController","_activeShapes","_selectedShapes","_inactiveShapes","bind","unbind","_onActive","activeObject","activeShapes","_filterShapes","preActiveShapes","_clearActiveShapes","_clearInactiveShapes","activeShape","_setShapeActive","_draw","setZIndex","obj1","obj2","_INDEX","activeStyle","_onSelected","selectedObj","selectedShapes","preSelectedShapes","_clearSelectedShapes","_setShapeSelected","selectedStyle","_applyShapeStyle","_onInactive","inactiveObj","inactiveShapes","preinactiveShapes","_setShapeInactive","inactiveStyle","shapeData","shapeFactory","shapeStyle","activeOptions","defaultActiveStyle","selectedOptions","defaultSelectedStyle","inactiveOptions","defaultInactiveStyle","drawTimer","parseFields","GROUP_ATTRS","Element","attrOptions","generatePoints","sortable","shareTooltip","adjustOptions","styleOptions","statOptions","animateOptions","_initContainer","_initController","_setAttrOptions","_createAttrOption","adjust","adjustCfg","adjusts","callback_1","selected","inactive","_initAttrs","_processData","_adjustData","bindStates","stateController","unbindStates","paint","mappedArray","_getShapeFactory","_beforeMapping","_mapping","_sort","clearInner","attrName","stopDraw","labelController","appendShapeInfo","hasAdjust","adjustType","adjustOption","getAttrValues","sizeController","getNormalizedSize","groupAttrs","getLegendFields","attrOption","attrFields","dataObj","keyFields","yVal","xVal","groupScale","getOriginDataByPoint","createShapePointsCfg","_normalizeValues","y0","getDrawCfg","geomShape","_getStyleCfg","attrCfg","tooltipController","_initScale","geomType","valuesLen","attrCtor","_updateStackRange","scaleDefs","mergeArray","tmpMin","tmpMax","_groupData","_saveOrigin","_numeric","groupedArray","subData","tempData","yScale_1","adjustInstance","_generatePoints","xScale_2","field_1","nextData","mappedData","newRecord","_convertPoint","mappedRecord","rstX","rstY","xLen","yLen","itemArr","EVENT_TYPES","Interaction","_getDefaultCfg","_bindEvents","startEvent","processEvent","endEvent","resetEvent","_start","preStart","afterStart","_process","preProcess","afterProcess","_end","preEnd","afterEnd","_reset","preReset","afterReset","_unbindEvents","INTERACTION_MAP","getInteraction","View","guideController","scaleController","views","interactions","changeData","_initData","condition","filters","coordinate","coordController","newCfg","_getSharedOptions","preFacet","enable","stopDrawing","_clearInner","_beforeRender","_drawGuides","_drawElements","_renderFacet","_addBackShape","_canvasDraw","annotationController","axisController","shapeViewId","parent_1","isPointInView","getYScales","getXY","_getScales","_initTheme","_initLayers","initRegion","_initOptions","_initControllers","_clearEvents","clearAllInteractions","_destroyViewGroups","_destroyElements","fn","getFilteredValues","_getFilters","setSelected","setInactive","interaction","clearInteraction","_setInteraction","endX","endY","parsePadding","_createElement","_renderLegend","_renderAnnotations","_renderAxes","_renderTooltip","eventController","shapeStateController","legendController","_data","legendFields","_getLegendFields","elementCfg","ElementCtor","_addElement","_clearElements","_initView","_execFilters","_initCoord","_initElements","_adjustScales","filteredData","_adjustCategoryScalesRange","inFullCircle","isFullCircle","backShapeAttrs","backgroundBackShape","panelBackShape","isUpdate_1","elementFields","Plot","containerId","forceFit","_initCanvas","_initEvents","changeSize","autoRender","window","_getContainerDOM","_initForceFitEvent","timer","oldWidth","yItem","setFillStyle","setStrokeStyle","lineAttrs","areaAttrs","pointsArr","topLinePoints","bottomLinePoints","pointsData","AreaShapeFactory","showSinglePoint","drawPointShape","splitedIndex","_getMarkerAttr","connectNulls","splitData","Area","splitArray","SizeController","_getSizeValue","_getDefaultSize","_toCoordinateSize","_toNormalizedSize","_defaultSize","sizeAttr","_getDodgeCount","xValues","sourceArr","findMinDistance","normalizedSize","wr","_getCoordinateWidth","_parseValue","oldValue","min1","max1","median","_getBoxPoints","pointX","pointY","pointsArray","to","subArr","BoxShapeFactory","getAttrs","Box","_getAttrs","_getCPath","_getQPath","EdgeShapeFactory","_getMarkerAttrs","_createRectPath","_createSmoothPath","_createArcPath","arc1","arc2","_createArcWeightPath","Edge","Heatmap","paletteCache","_prepareRange","colorField","_prepareSize","getDefaultSize","blur","_colorize","pixels","alpha","palette","rgb2arr","_prepareGreyScaleBlurredCircle","circleCanvas","createElement","r2","ctx","getContext","clearRect","shadowOffsetY","beginPath","closePath","_drawGrayScaleBlurredCircle","globalAlpha","drawImage","_getShadowCanvasCtx","_clearShadowCanvasCtx","_getImageShape","imageShape","drawWithRange","valueField","colored","getImageData","putImageData","toDataURL","SQRT_3","LineSymbols","PointSymbols","diffX","diffY","_getFillAttrs","_getLineAttrs","_getRectPoints","isPyramid","yMin","yMax","xMin","xMax","_getRectPath","firstPoint","_getFunnelPath","isFunnel","func","symbolsFactory","register","IntervalShapeFactory","_getLinePoints","_getTickPoints","rectPath","rectShape","topLinePath","Interval","_getPoints","yValues","_sortValue","KLineShapeFactory","KLine","DOT_LINEDASH","DASH_LINEDASH","_getSinglePath","isStack","topPoints","bottomPoints","topPath","bottomPath","_getRangePath","_getInterPointShapeCfg","_getInterPath","tmpPoints","_interpPoints","LineShapeFactory","_drawPointShape","middleX","middleY","Path","drawCfg","pointAttrs","PointShapeFactory","rectAttrs","getRectPath","pathMetaParser","segments","nums","num","pathMeta","Point","hasStackAdjust_1","getMarkerAttrs","PolygonShapeFactory","subX","subY","getHollowAttrs","Polygon","temp","xOffset","yOffset","TextShapeFactory","_getContent","contentOptions","autoSetAxis","columnField","rowField","columnValuesLength","rowValuesLength","columnValues","rowValues","conditions","facetData","columnValue","rowValue","columnIndex","rowIndex","isTextUsable","trim","breakText","breaks","TextDescription","padding_1","it","_textWrapper","leftMargin","topMargin","wrapperWidth","textContent","tShape","wrappedTextArr","wrappedText","chars","breakIndex","combineFormatter","formatters","reduce","curText","precision","suffix","propertyMapping","AxisParser","config","getPlotTheme","themeConfig","_needDraw","_styleParser","localProps","_isVisible","_lineParser","_gridParser","_tickLineParser","_labelParser","_titleParser","propos","propsConfig","applyThemeConfig","restLabelProps","labelConfig","parseFormatter","titleConfig","dotProduct2D","va","vb","isPointInPolygon","inside","xj","yj","sqr","distBetweenPoints","distBetweenPointLine","l2","distSquare","minDistBetweenPointPolygon","minDistBetweenConvexPolygon","polyA","polyB","polyA_1","isPolygonIntersection","minA","minB","localMin","lineSimplification","DouglasPeucker","threshold","endIndex","list1","list2","getMedian","array","list","sturges","LN2","GuideLine","defaultStyle","getDefaultStyle","baseConfig","stateValue","_getState","minValue","maxValue","_extractValues","getMean","getDefaultTextAlign","textConfig","LabelParser","rest","originConfig","parseCallBack","labelProps","parseOffset","onActive","getAllAxisLabels","beforeCompare","con","disableStyle","labelArr","scaleField","labelShapes","disable","originAttr","StateManager","shapeContainers","createStateManager","stateManager","bindStateManager","manager","_updateStateProcess","onStateChange","_stateChangeProcess","defaultStates","states","related","_getShapes","_getOriginAttrs","shapeOrigin","stateStyle","_getDefaultStateStyle","_parserRelated","setStateCfg","_eventParser","onChangeCfg","geoms","geom","eventCfg","geometryParser","styleField","STATE_MAPPER","getComponentStateMethod","stateType","resetZIndex","getAllLabels","geomLabels","POSITION_MAPPER","getPositionField","shouldActive","processState","inverse","expected","COMPONENT_MAPPER","guideLine","getComponent","Components","BaseInteraction","viewLayer","interactionRange","interactionConfig","registerInteraction","GLOBAL_INTERACTION_MAP","registerPlotInteraction","plotType","PLOT_INTERACTION_MAP","getInteractionRange","layerRange","getViewLayer","getRange","getInteractionConfig","trackColor","thumbColor","lineCap","hover","ScrollBar","scrollBarCfg","_isMobile","_onStartEvent","isMobile","_startPos","_bindLaterEvent","_onTrackClick","getBoundingClientRect","thumbLen","newOffset","_validateRange","updateThumbOffset","_onMouseMove","endPos","thumbOffset","_onMouseUp","_onTrackMouseOver","thumbShape","_onTrackMouseOut","trackLen","minThumbLen","_initScrollBar","thumbRate","updateTrackLen","newTrackLen","newThumbLen","trackShape","updateThumbLen","_renderNewScrollBar","updateScrollBarPos","newPos","scrollBarGroup","updateTheme","_createScrollBarGroup","_createTrackShape","_createThumbShape","events","DIR_MAPPER","Icon","icon","spacing","iconStyle","interactive","_initIcon","fromCharCode","iconShape","iconBBox","BACKGROUND_STYLE","_e","shapeAttrs","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","Trend","_f","isArea","_g","areaStyle","_initial","backgroundShape","areaPath","linePathToAreaPath","areaShape","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","highLightFill","Handler","setX","setXY","setY","_updateXY","prevX","prevY","currentHandler","pageX","pageY","offsetXRange","adjustOffsetRange","updateStartEnd","_updateUI","trendCfg","foregroundStyle","handlerStyle","_h","_j","_k","_l","minText","_m","maxText","trendShape","silent","foregroundShape","handlerHeight","minHandlerShape","maxHandlerShape","offsetRange","handlerWidth","_dodgeText","minAttrs","maxAttrs","minBBox","maxBBox","Button","updateElement","renderMarker","initElement","startMarker","getStartMarkerPath","pauseGroupMarker","pauseLeftMarker","pauseRightMarker","isPlay","sideLength","TimeLine","onTimeSelectMouseMove","setTimeSelectX","onTimeSelectMouseUp","syncCurrnentTick","onTimeSelectMouseDown","changePlayStatus","speed","loop","currentTick","renderPlayButton","renderTimeLine","renderTimeSelect","timeLineButton","timeSelect","defaultCurrentTick","initEvent","getTimeLinePath","timeLine","tickPosList","textList","lastX","timeSelectText","adjustTickIndex","timeSelectX","startPlay","requestAnimationFrame","playHandler","isSync","cancelAnimationFrame","groupedData","newValues","_cfg","categorySize","ScrollBarInteraction","onChangeFn","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","renderScrollbar","measureScrollBar","changeViewData","getScrollRange","scrollBar","cnt","xScaleCfg","yScalesCfg","startIdx","endIdx","meta","origData","getData","newData","metaCfg","origAnimation","foregroundColor","SliderInteraction","curStart","curEnd","getSliderData","getSliderMinMaxText","getSliderTrendData","PaddingController","innerPaddingComponents","outerPaddingComponents","registerPadding","component","checkIfExist","find","afterRender","clearOuterComponents","getPadding","processAutoPadding","_getInnerAutoPadding","processOuterPadding","viewMinX","viewMaxX","viewMinY","viewMaxY","bleeding","components_bbox","_getAxis","_getLegend","components","adjustAxisPadding","panelPadding","_getPanel","_adjustLegend","legendBBox","innerPadding","_getLegendInnerPadding","_mergeBleeding","labelContainer","rightDist","leftDist","topDist","bottomDist","curOffset","curTotalWidth","curAvgWidth","newAvgWidth","DESCRIPTION_BOTTOM_MARGIN","legendPosition","TOP_BLEEDING","titleVisible","descriptionVisible","DEFAULT_GLOBAL_THEME","alignWithAxis","GLOBAL_THEME_MAP","dark","getGlobalTheme","PLOT_THEME_MAP","processAxisVisible","axisCfg","DEFAULT_RESPONSIVE_THEME","category","constraints","rules","elementDist","lineNumber","degree","abbreviateBy","keep","decimal","dateTime","elementDistVertical","elementWidth","RESPONSIVE_THEME_MAP","registerResponsiveTheme","getResponsiveTheme","G2DefaultTheme","ThemeController","plotG2Theme","plotTheme","g2Theme","convertToG2Theme","_processVisible","ViewLayer","initialOptions","paddingController","themeController","getDefaultOptions","yAxis","drawTitle","drawDescription","addGeometry","getViewRange","processData","applyInteractions","defaultState","addGeomCliper","doDestroy","getPlot","setDisable","setNormal","scaleTypes","scaleConfig","setConfig","xAxis_parser","yAxis_parser","axesConfig","flipOption","inst","eventmap_1","titleBBox","doDestroyInteractions","cliper","cliperContainer","preCliper","clipBBox","getDataLabShapes","CanvasController","onResize","getCanvasSize","getCanvasDOM","updateCanvasSize","updateCanvasTheme","globalTheme","updateCanvasStyle","resizeObserver","unobserve","disconnect","bindForceFit","observe","initGCanvas","addEvent","onEvents","getEventObj","getLayers","onLayerEvent","onMove","groupName","isPointInBBox","subLayers","GLOBAL_PLOT_MAP","registerPlotType","ctr","getPlotType","BasePlot","canvasController","createLayers","all","getLayer","getCanvas","ElementParser","positionFields","AreaParser","_getColorMappingField","parseColor","parseStyle","colorMappingField","styleProps","seriesField","colorMapper_1","vector2","isSmooth","getStraightPath","parseGradient","lineJoin","main","mini","MiniAreaParser","parseShape","COLOR_MAPPER","IntervalParser","_needParserColor","sizeProps","_getSizeProps","parseSize","_getStyleProps","sizeMapper_1","sizeMapper_2","COLOR_MAPPER_1","COLOR_MAPPER_2","LineParser","lineSize","GuideLineParser","_needParseAttribute","guide","MiniLineParser","CircleParser","_parseColor","sizeField","pointSize","GEOMETRY_MAP","GuidePointParser","mappingField","_parseColorByField","getValuesByField","getGeom","Geom","extractScale","desScale","axisConfig","intervals","intervalArr","basicInterval","intervalCount","adjustTimeTickInterval","clipingWithData","getLineLabel","onFrame","getPositionByRatio","yText","yRatio","getDataByPosition","dataPoints","currentX","ShapeNodes","nodes","_parserNodes","origion_nodes","measure","bboxWidth","bboxHeight","ulMatrix","top_left","top_right","bottom_left","bottom_right","tops","bottoms","topRight","bottomLeft","bottomRight","measureNodes","constraintsLib","usage","expression","elementCollision","columnWidth","ringThickness","minRingThickness","minThickness","textHide","isNodeOverlap","nodeA","nodeB","origObj","args_1","defaultI18n","dayOfMonth","globalI18n","monthParse","emptyDigits","emptyWord","twoDigitsOptional","globalMasks","combinedI18nSettings","specifiedFields","requiredFields","regex","requiredField","parser","dateWithoutTZ","validateFields","setGlobalDateI18n","setGlobalDateMasks","datetimeStringAbbrevaite","campareText","compare","startText","endText","timeDuration","getDateTimeMode","timeCycle","previousText","previous","currentStamp","previousStamp","needAbbrevaite","cycle","getAbbrevaiteFormatter","sameSectionFormatter","mapper","unitMapper","number","digitsAbbreviate","abbravateDigitsByUnit","unitname","getUnitByNumber","numbers","extractNumbers","unitNumber","unitBit","intervalBit","remainder","remainderBit","getDigitsDecimal","getLinearNodesInterval","isKeep","keepCfg","conditions_1","getNodeByNumber","nodes_1","textAbbreviate","abbravateText","rulesLib","textWrapper","wrapperText","textRotation","robustAbbrevaite","string","nodesResampling","oddKeep","isOdd","nodesResamplingByAbbrevate","nodesResamplingByChange","tolerance","nodesClone","getGlobalTolerance","findPrevious","distX","distY","nodesResamplingByState","stateNodes","extract_data","min_node","max_node","median_node","getStateNodes","initialProps","isState","origin_position","nodeJitter","mag","vector_horizontal","mag_horizontal","adjustAngle","alignDirection","nodeJitterUpward","shapeBbox","shapeId","getShapeById","originX","originY","clearOverlapping","overlapped","_shape","Responsive","iterationTime","iterationIndex","rulesLocker","constraintIndex","currentConstraint","_run","onStart","_iteration","_applyRules","onIteration","onEnd","constraintPassed","_constraintsTest","constraintOption","_constraintCompare","_constraintAssignment","_chainConstraintCompare","_paddingConstraintCompare","_groupConstraintCompare","_chainConstraintAssign","_paddingConstraintAssign","nodes_2","ruleCfg","rule","_applyRule","ApplyResponsive","getType","shouldApply","SCALE_MAPPER","cat","timeCat","ApplyResponsiveAxis","axisInstance","getAxisInstance","responsiveTheme","rawLabels","shapeNodes","tickTexts","pathes","tickItem","updateTicks","scaleType","axisIndex","ApplyResponsiveLabel","ApplyResponsiveLineLabel","preRender","LineElementLabels","labelPoints","lastPoint","_adjustColor","LinePointLabels","onLineClick","onLineDoubleclick","onLineMousemove","onLineMouseenter","onLineMouseleave","onLineMousedown","onLineMouseup","onLineContextmenu","onPointClick","onPointDblclick","onPointMousemove","onPointMouseenter","onPointMouseleave","onPointMousedown","onPointMouseup","onPointContextmenu","LineActive","data_1","LineSelect","GEOM_MAP","LineLayer","responsive","applyResponsive","validData","trySetScaleMinToZero","addLine","addPoint","singleLineLabelCheck","lineActive","lineSelect","stage","methods","layerProps","onAreaClick","onAreaDblclick","onAreaMousemove","onAreaMouseenter","onAreaMouseleave","onAreaMousedown","onAreaMouseup","onAreaContextmenu","onLineDblclick","AreaLayer","adjustArea","adjustLine","adjustPoint","lineConfig","kernels","epanechnikov","gaussian","uniform","quartic","triweight","cosinus","DensityLayer","originXAxisConfig","binField","binWidth","binNumber","kernel","kernelFunc","originDataCopy","rangeWidth","_binNumber","_binWidth","samples","densities","kernelDensityEstimator","Density","parsedPoints","ConversionTag","headSize","valueUpper","valueLower","shapeLower","shapeUpper","_drawTag","destory","pointUpper","pointLower","_drawTagArrow","_drawTagValue","tagArrow","_fadeInTagShape","tagValue","textWidth","cWidth","cEnd","textAdjusted","ApplyResponsiveColumnLabel","ColumnLabels","adjustOffset","_getShape","adjustColor","labelRange","shapeRange","yPosition","shapeColor","shapeOpacity","rgb","gray","_mappingColor","labelTextColor","band","onColumnClick","onColumnDblclick","onColumnMousemove","onColumnMouseenter","onColumnMouseleave","onColumnMousedown","onColumnMouseup","onColumnContextmenu","columnStyle","G2_GEOM_MAP","PLOT_GEOM_MAP","BaseColumnLayer","conversionTag","processedData","adjustColumn","extractLabel","getLabelOptionsByPosition","Column","ScatterLabels","Quadrant","xBaseline","yBaseline","quadrantGroups","xRegion","plotOptions","verticalLineData","horizontalLineData","lastName","upper","lower","defaultStyle_1","regionStyle_1","getRegionStyle","getLabelConfig","lineStyle_1","region_2","region_4","regionNum","regionStyle","regionStyle_2","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","px","iter","found","p0","mp","a0","ols","uX","uXY","uX2","slope","XY","X2","_ols","_ols2","intercept","rSquared","tricube","updateInterval","quadratic","_points","_points2","X3","X4","X2Y","n0","X2X2","REGRESSION_MAP","exponential","YL","XYL","ly","loess","bandwidth","bw","yhat","residuals","robustWeights","W","denom","xk","yk","xkw","medianResidual","arg","_w","prev","output","logarithmic","lx","poly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","quad","showConfidence","confidenceStyle","reg","xscale_view","yscale_view","trendlineData","LinearScale","adjustScale","confidencePath","getConfidencePath","getTrendlinePoints","trendline","confidence","conf","confidenceData","xRatio","upperPoints","lowerPoints","y0Ratio","y1Ratio","viewScale","dataMin","dataMax","trendMin","trendMax","ScatterLayer","quadrant","extractTooltip","BubbleLayer","Bubble","Scatter","GroupColumnLayer","GroupColumn","ConnectedArea","areas","lines","_areaStyle","_lineStyle","groupedShapes","_getGroupedShapes","_drawConnection","_addInteraction","_initialAnimation","_onDisabled","clipShape","_getShapeStyle","styleName","mappedStyle","clipRect","StackColumnLabels","StackColumnLayer","connectedArea","stackField","StackColumn","groupField","measures","chain","vals","groupTotals","itemIdx","fieldIdx","PercentageStackColumnLayer","metaConfig","PercentageStackColumn","HistogramLayer","originData_copy","_defaultBinNumber","bins","bin","getBin","binName","plotData","Histogram","BarLabels","xPosition","onBarClick","onBarDblclick","onBarMousemove","onBarMouseenter","onBarMouseleave","onBarMousedown","onBarMouseup","onBarContextmenu","bar","BaseBarLayer","inputData","adjustBar","Bar","StackBarLabels","StackBarLayer","StackBar","PercentageStackBarLayer","PercentageStackBar","GroupBarLayer","origin_items","defaultMeta","GroupBar","RangeBarLabel","leftStyle","rightStyle","geomContainer","geometry","getPosition","getTextAlign","getTextColor","labelStyle","mappingColor","lb","shapeMinX","shapeMaxX","shapeWidth","clipInFromCenter","updateFromCenter","fromPath","getShapeFromCache","toPath","RangeBarLayer","shapeCaches","RangeBar","RangeColumnLabel","topStyle","bottomStyle","textBaeline","getTextBaseline","shapeMinY","shapeMaxY","shapeHeight","clipInFromCenterVertical","updateFromCenterVertical","RangeColumnLayer","RangeColumn","SpiderLabel","lineStroke","sidePadding","_adjustConfig","angleField","_loop_1","angleValue","targetAngle","anchorPoint","inflectionPoint","this_1","colorIndex","shapeIndex","_anchor","_inflection","textGroup","_side","texts","formatted","lowerText","lowerTextAttrs","maxCountForOneSide","_antiCollision","totalH","maxLabelWidth","labelY","labelWidth","drawnLabels","_drawLabel","_drawLabelLine","x_dir","leftPoint","rightPoint","point2","point3","starter","measureTextWidth","font","fontVariant","measureText","default_1","panel","getLabelOptions","dataItem","anchors","anchorRadius","getOffsetOfLabel","labelLines","adjustTexts","adjustOverlap","adjustLines","anchor","adjustLabelText","font_1","EllipsisTextArr","priority","leftText","DOT_WIDTH","currentText","currentWidth","leftWidth","adjustLabels","allowOverlap","labelA","labelB","overlapArea","prevBox","currBox","near","checkInPanel","percent2Number","endsWith","InnerLabel","newX","prevLabel","resolveCollision","prevBBox","pos1","pos2","xOverlap","yOverlap","getOverlapInfo","yMover","actualPos","OuterPieLabel","_adjustLabelPosition","leftHalf","isLeft","_getLinePath","CROOK_DISTANCE","getLabelHeight","totalR","maxLabelsCount","labelBox","topLabels","bottomLabels","isBottom","getCrookDistance","rxPow2","ryPow2","boxCenter","distance_offset","xPos","k1","k2","atan","breakAt","left2right","labelPosition","smoothPath","straightPath","OuterCenterPieLabel","onPieClick","onPieDblclick","onPieMousemove","onPieMouseenter","onPieMouseleave","onPieMousedown","onPieMouseup","onPieContextmenu","pie","PieLayer","pieStyle","spiderLabel","coordConfig","customHtmlContent_1","angleField_1","filteredSum_1","getFilteredSum","filteredDataItem","adjustLabelDefaultOptions","showLabel","customFormatter_1","filteredSum","Pie","VariableNodes","ring","containerStyle","onRingClick","onRingDblclick","onRingMousemove","onRingMouseenter","onRingMouseleave","onRingMousedown","onRingMouseup","onRingContextmenu","RingLayer","statistic","triggerOff","centralId","statisticClass","triggerOnEvent","displayData","parseStatisticData","htmlString","getStatisticHtmlString","triggerOffEvent","totalValue","getTotalValue","annotationConfigs","drawStatistic","getStatisticTemplate","getStatisticSize","classId","_displayData","triggerOnConfig","labelStyleConfig","Ring","RadarLayer","angleAxis","radiusAxis","radiusField","Radar","ShapeUtil","ValueUtil","defaultAttrs","getWaterWavePositions","waveLength","amplitude","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","liquidMoveIn","wrap","wrapTargetOpacity","waves","wavesTargetMatrix","sumX","cp","minP","clipCircle","level","waveCount","wave","repeat","addWaterWave","LiquidLayer","shouldFadeInAnnotation","liquidStyle","adjustLiquid","liquid","statisticConfig","extractStatistic","fadeInAnnotation","_","changeValue","annotationEl","colorStyle","calcAnnotationColorStyle","darkColorStyle","getChildByIndex","strokeWidth","Liquid","dir_vec","angle1","x_1","y_1","angle2","x_2","y_2","POINTER_LINE_WIDTH","stripWidth","stripBackColor","tickLabelPos","tickLabelSize","tickLabelColor","tickLineColor","labelPos","labelColor","labelSize","GaugeLayer","gaugeStyle","pointerColor","statisticPos","rangeSorted","styleMix","getStyleMix","statisticSize","1","labelAutoRotate","pointer","statistics","renderStatistic","strips","renderArcs","allArcs","arcSize","Arcs","Bks","countArray","calGapAngle","statisticHtml","statisticColor","Gauge","interpolateY","getXIndex","AreaLabel","scaleFactor","groupedPoints","_groupPoints","labelPoints_1","pointArray","autoScale","_adjuestLabelSize","resolution","interpolatedPoints","_getInterpolatedPoints","_getLabelBbox","fitOption","aspect","justTest","_bisection","_testFit","fit","testOption","maxIteration","middle","passesTest","x0","x1_index","ceiling","ceilingFloor","top_1","AreaLineElementLabels","StackAreaLayer","getLabelType","getLabelField","ele","areaLine","StackArea","PercentageStackAreaLayer","PercentageStackArea","lerp","funnelScaleInY","clipTargetMatrix","shapeTargetFillOpacity","FunnelLabel","shapeStartX","shapeStartY","shapeEndX","shapeEndY","shapeContainsLabel","yValuesMax","yValuesNext","yValueTotal_1","yRatios","yValueTotalNext_1","yRatiosNext","yValueNext","ratioUpper","ratioLower","firstPointX","FunnelLabelParser","preformatter","plotProps","proc","yValueTop","yValueFormatted","compareField","yValues_1","yValuesTop_1","FunnelLayer","legendsListenerAttached","shouldShowLabels","shouldResetPercentages","shouldResetCompareTexts","_onLegendContainerMouseDown","refreshPercentages","dynamicHeight","_findCheckedDataByMouseDownLegendItem","_genCustomFieldForDynamicHeight","_updateDataForCompare","refreshCompareTexts","adjustProps","_reduceDataForCompare","yValueUpper","yValueLower","compareText","adjustFunnel","isArray","funnelStyle","clss","elMarker","elRoot","elTitle","elList_1","pairs","compareValues","compareValue","elListItem","appearDuration","appearDurationEach_1","animationAppearTimeoutHandler","_teardownAnimationMask","fadeInPercentages","fadeInCompareTexts","resetPercentages","resetCompareTexts","percentageContainer","_findPercentageContainer","compareTextContainer","_findCompareTextContainer","_setupAnimationMask","checkedData","_findCheckedDataInNewData","_refreshAnimationMaskForPercentageRefresh","datumUpper","percentageLine","percentageText","percentageValue","adjustTimestamp","now","datumLower","_findPercentageMembersInContainerByShape","line_1","text_1","value_1","eachProcs_1","valueWidth","textProc","valueProc","eachProc","lastBBox","datum","members","currBBox","eachCalc","member","eachShow_1","fadeOutPercentages","_calcRefreshFadeDurations","fadeOutDuration","fadeInDuration_1","fadeInDuration","updateDuration","enterDuration","createIfNotFound","lineId","textId","valueId","datumIndex","dataLength","shapeParentBBox","targetDatum","_findCheckedData","container_1","yValuesMax_1","compareValues_1","pStart","pEnd","minX_1","minY_1","maxY_1","compareTexts_1","compareTexts_2","fadeOutCompareTexts","compareTexts_3","fadeInDuration_2","compareValueFirstVisited","newDatum","yTotal","legendValues","findAll","uncheckedValues","oldDatum","legendItem","legendItemOrigin","brotherValues","animationMask","Funnel","LinearHeatmap","intensity","circleRadius","context","globalCompositeOperation","HeatmapLegend","dataSlides","getDarkOptions","getLayout","getDefaultWidth","getDefaultHeight","plotContainer","colorScale","renderHorizontal","renderVertical","legendLayout","addInteraction","origin_bbox","gridWidth","gridHeight","gridLineContainer","gridColors","valueStep","dataSlide","getDataSlide","gridlineStyle","plotWidth","plotHeight","getTopPosition","targetInfo","relativeData","getFilteredData","slide","HeatmapBackground","renderColorBackground","renderImageBackground","callbackCfg","HeatmapLayer","heatmapLegend","defaultConfig","MatrixLegend","colorStep","gradientColor","ticklineStyle","tri_path","tri_height","anchorStyle","tri_width","labelEventName","moveAnchor","getCirclePath","getCircleCurve","MatrixLabels","MatrixLayer","gridSize","forceSquare","xCount","yCount","matrixLegend","changeShape","circleToRect","rectToCircle","mappingSize","rectSizeMapping","circleSizeMapping","disableMappingSize","rectDisableSizeMapping","circleDisableSizeMapping","getGridSize","addRect","addCircle","shapeSize","sizeRatio","curvePath","ps","offsetRatio","circlePath","Matrix","fillAttrs","leaderLine","linkPath","WaterfallLabels","shapeBox","VALUE_FIELD","yPos","DiffLabel","IS_TOTAL","formattedText","waterfall","WaterfallLayer","diffLabel","showTotal","waterfallStyle","adjustLegendOptions","adjustMeta","_parseStyle","prevValue","risingColor_1","fallingColor_1","totalColor_1","rising","falling","metaOptions","valueFieldMeta","Waterfall","dice","root","node_x","node_y","squarify","sumValue","beta","newRatio","nodeValue","Breadcrumb","listeners","onItemGroupToggleActive","itemActiveBackgroundStyle","itemBackgroundStyle","offEvents","itemPadding","separator","separatorStyle","renderInner","topPadding","rightPadding","bottomPadding","leftPadding","backgroundRect","textShapeBBox","backgroundRectAttr","sepShape","itemGroups","emitEventName","clickCallback","dblclickCallback","mouseEnterCallback","mouseLeaveCallback","BaseComponent","getGroup","getTemShapes","tem_shapes","rollingUp","hideLabel","tem_container","getRect","findShapeByName","containerParent","shrinkTemp","DrillDownInteraction","startNode","currentNode","depth","currentDepth","tem_cliper","drillingDown","tempoData","getTreemapData","breadcrumb","getItems","initGeometry","saveOriginMapping","startNodeName","onInteraction","rootItem","getRootItem","parents","findParent","updateRoot","previousDepth","rootData","mappingInfo","originMapping","mappingCfg","drilldown","onRectClick","onRectDblclick","onRectMousemove","onRectMouseenter","onRectMouseleave","onRectMousedown","onRectMouseup","onRectContextmenu","tailWidth","abbreviateWidth","TreemapLabels","maxLevel","isLeafNode","isLeaf","LEAF_LABEL_OFFSET","leafText","labelText","sizeOffset","TreemapLayer","isDrilldown","treemapData","getAllNodes","beforInit","interactionCfg","inter","Ctr","cliperHeight","parentLabelOffset","c_rows","fillColorField","fieldName","PARENT_NODE_OFFSET","Treemap","StepLineLayer","StepLine","WordCloudTooltips","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","callbacks","message","evt","stopImmediatePropagation","clearImmediate","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","isSupported","fillText","minFontSize","hanWidth","mWidth","shuffleArray","settings","maxFontSize","clearCanvas","drawOutOfBound","drawMask","maskColor","maskGapWidth","wait","abortThreshold","abort","minRotation","maxRotation","rotateRatio","rotationSteps","shuffle","ellipticity","animatable","classes","onWordCloudHover","onWordCloudClick","interactionItems","fontKey","maxWeight","weight","isCardioid","thetaPrime","ngx","ngy","escapeTime","maskRectWidth","rotationRange","random_hsl_color","getTextClasses","hovered","infoGrid","getInfoGridFromMouseTouchEvent","touches","eventX","eventY","defaultHoverAction","dimension","wordcloudhover","wordcloudclick","pointsAtRadius","getPointsAtRadius","exceedTime","getTextInfo","rotateDeg","getRealFontSize","mu","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","imageData","fillTextOffsetX","fillTextOffsetY","cgh","cgw","gy","occupied","gx","bounds","singleGridLoop","gw","gh","fillTextWidth","fillTextHeight","attributes","refresh","getInteractionItemById","save","transX","transY","restore","transformRule","styleRules","whiteSpace","webkitTransform","msTransform","transformOrigin","webkitTransformOrigin","msTransformOrigin","cssProp","attribute","fillGridAt","fillRect","tryToPutWordAtPoint","gxy","py","canFitText","updateGrid","rot","putWord","sendEvent","cancelable","detail","createEvent","initCustomEvent","dispatchEvent","bctx","bgPixel","webkitTapHighlightColor","stopInteraction","loopingFunction","stoppingFunction","listener","anotherWordCloudStart","canceled","maskImage","i_2","WordCloudLayer","_toolTipsAction","_toolTips","layerX","layerY","_configHoverAction","_enableToolTips","enableToolTips","_initToolTips","_render","_targetCanvas","_handleMaskImage","crossOrigin","onload","naturalHeight","naturalWidth","_startWithMaskImage","onerror","_handleG2PlotConfig","wordStyle","rotation","_scaleMaskImageCanvas","_transformWhite2BlackPixels","maskImageCanvas","maskImageContext","newImageData","createImageData","maskCanvasScaled","imageSmoothingEnabled","WordCloud","autoAdjustColor","RoseLabels","categoryField","adjustField","labelAnchor","adjustTextAlign","RoseLayer","sectorStyle","adjustColorFieldMapping","adjustRoseAdjust","adjustLabelOptions","Rose","BulletRect","ranges","drawRect","rangeColors","rangeSize","rangeBox","drawBulletTicks","ticksStyle","tickPosition","tickOffset","tickIdx","tickText","BulletTarget","drawTarget","markerColors","markerSize","bullet","BulletLayer","measureSize","trigger","bulletRect","bulletTarget","markerColor","measureColors","barSize","adjustYAxisOptions","dataOptions","dataIdx","valueIdx","Bullet","patition","calculateDepth","loopChildren","positionNode","getSunburstData","getRotate","onSunburstClick","onSunburstDblclick","onSunburstMousemove","onSunburstMouseenter","onSunburstMouseleave","onSunburstMousedown","onSunburstMouseup","onSunburstContextmenu","SunburstLayer","sunburstData","adjustLinearScale","sunBurstData","getColorConfig","adjustStyleByDepth","sunburstStyle","uniqueColors_1","uniqueValues_1","mappingData_1","origin_meta","Sunburst","TinyLayer","defaultGuidelineCfg","Marker","updateCfg","origin_attr","progressSize","onProgressClick","onProgressDblclick","onProgressMousemove","onProgressMousedown","onProgressMouseup","onProgressMouseenter","onProgressMouseleave","onProgressContextmenu","progress","ProgressLayer","isEntered","processProps","barStyle","progressStyle","parseColorProps","styleUpdateAnimation","updateColorConfigByStyle","updateMarkers","markers","progressContainer","colorOption","markerLength","animationOptions","getUpdateAnimationOptions","progressShapes","Progress","preShapeInfo","setShapeInfo","prePath","createClip","getShapeInfo","getAnchor","direction_1","getDirection","onRingProgressClick","onRingProgressDblclick","onRingProgressMousemove","onRingProgressMousedown","onRingProgressMouseup","onRingProgressMouseenter","onRingProgressMouseleave","onRingProgressContextmenu","RingProgressLayer","getThickness","RingProgress","TinyColumnLayer","columnSize","columnNumber","getColumnNum","TinyColumn","TinyAreaLayer","TinyArea","TinyLineLayer","TinyLine","ComboPlot","getGlobalOptions","createComboLayers","globalOptions","SINGLE_TYPE","isSingleGraph","createLegend","legendTheme","maxSize","CanvasCategory","filteredValue","isSingle","addLegendInteraction","paddingBbox","getOverlappingPadding","top_padding","mergeAxisScale","axisInfo","axisOptions","sameScaleTest","axisInfo_2","getCatScale","getLinearScale","mergeXAxis","synchroTick","isSameScale","calValues","linearScale","mergeYAxis","scaleMin","scaleMax","axisInfo_1","sampleDataSource","originalData","sampleField","axisInfo_3","tickValues","getAxisTicks","toAxisStyle","axesLayout","xAxisScale","paddingComponents","xAxisHeight","yAxisScale","leftAxis","leftContainer","leftBbox","temp_width","axisLayout","axisPadding","ypos_1","tooltipCfg","tooltipTheme","tooltipItems","shapeObject","getItemMarker","getShapeByX","ks","getDataByTitle","indexOfArray","getUniqueItems","OverlappedComboPlot","colorMapping","legendInfo","globalComponents","singleGeomCount","backLayer","layerCfg","overlapConfig","getOverlappedConfig","viewLayerCtr","viewLayerProps","scalesInfo","singleGraph","scaleInfo","markerValue","markerItem","topLayer","colorCfg","single","overlappingLegend","legendPadding","axisComponents","containerLayer","clearComponents","DataStat","http","post","then","commonNavs","renderColumnPlot","columnPlot","sales","renderRingPlot","ringPlot","renderLiquidPlot","liquidPlot","showValue","React","Component","_keys","proto","predicate","_predicate","fromIndex","flattenDeep","filterValues","arrPrototype","indexes","comparer","keys_1","prop","resultArr","sources","tmpMap","0","paramsCondition_1","unique","numColorCache","r1","r3","r4","isNumberEqual","maxData","minData","DEGREE","RADIAN","substring","objectProto","HTMLDocument","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","_mix","mix","src1","src2","src3","immediate","timeout","later","callNow","memoized","resolver","Map","_deepMix","subclass","superclass","overrides","staticOverrides","Tmp","superObj","other","valueKeys","otherKeys","identity","object","keyArr","throttled","remaining","trailing","cancel","prefix","delete","_extendStatics","__extends","_assign","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","done","__generator","sent","trys","ops","verb","op","__createBinding","__exportStar","exports","__values","__read","ar","__spread","__spreadArrays","il","jl","__await","__asyncGenerator","asyncIterator","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","__classPrivateFieldSet","module","toStringTag","setMatrixArrayType","ARRAY_TYPE","toRadian","equals","Float32Array","RANDOM","fromTranslation","fromRotation","fromScaling","parsePathArray","O","I","N","L","B","R","F","DOMUtil","DomUtil","MatrixUtil","PathUtil","arrayUtil","domUtil","eventUtil","formatUtil","mathUtil","matrixUtil","objectUtil","stringUtil","pathUtil","typeUtil","augment","debounce","deepMix","each","extend","groupBy","groupToMap","isEmpty","isEqualWith","pick","throttle","toArray","uniqueId","createDom","getOuterHeight","getOuterWidth","getRatio","getStyle","modifyCSS","attachEvent","detachEvent","tbody","thead","tfoot","td","th","documentElement","clientTop","clientLeft","devicePixelRatio","getComputedStyle","currentStyle","contains","difference","flatten","merge","pull","pullAt","sortBy","union","uniq","valuesOfKey","_n","getWrapBehavior","wrapBehavior","_n2","number2color","numberToColor","parseRadius","clamp","fixedBase","isDecimal","isEven","isNegative","isPositive","maxBy","minBy","snapEqual","toDegree","toInt","toInteger","vec3","mul","fromMat4","copy","fromValues","adjoint","determinant","fromMat2d","fromQuat","normalFromMat4","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","sqrLen","sqrDist","div","divide","scaleAndAdd","squaredDistance","squaredLength","negate","transformMat2","transformMat2d","transformMat4","hermite","bezier","transformQuat","rotateX","rotateY","rotateZ","forIn","hasKey","hasValue","isMatch","catmullRomToBezier","fillPath","fillPathByDiff","formatPath","intersection","pathIntersection","path2absolute","path2curve","_s","r0","t1","t2","segment1","segment2","bez1","bez2","lc","lowerCase","lowerFirst","substitute","uc","upperCase","upperFirst","isArrayLike","isBoolean","isFunction","isNil","isNull","isNumber","isObject","isObjectLike","isPlainObject","isPrototype","isType","isUndefined","isString","isRegExp","isDate","isArguments","isError","_r","throw","return","createPath","afterPath","isPointInPath","drawInner","hasFill","hasStroke","isHitBox","isHit","calculateBox","getHitLineWidth","lineAppendWidth","clearTotalMatrix","totalMatrix","clearBBox","arcline","quadraticline","cubicline","polyline","pointDistance","projectPoint","nearAngle","preSegment","isLast","subStart","endTangent","startTangent","isInside","lineTo","quadraticCurveTo","bezierCurveTo","extrema","at","xExtrema","xAt","yExtrema","yAt","addEndArrow","addStartArrow","arrowLength","arrowAngle","startArrow","endArrow","setTransform","initTransform","initAnimate","initTimer","fromAttrs","toAttrs","fromMatrix","toMatrix","startTime","addAnimator","isPaused","pauseAnimate","pauseTime","resumeAnimate","_paused","_pauseTime","bubbles","defaultPrevented","propagationStopped","removed","derivativeAt","os","BrowserInfo","platform","NodeInfo","bot","BotInfo","exec","detect","navigator","userAgent","parseUserAgent","detectOS","getNodeVersion","canStroke","getDefaultAttrs","_getPath","hasUpdate","_beforeRenderUI","_bindUI","contain","_setCfgProperty","timeline","getFirst","getLast","getCount","_t2","findById","findAllBy","Shapes","PathSegment","Group","Event","BBox","__assign","eventEnable","widthCanvas","heightCanvas","widthStyle","heightStyle","canvasDOM","supportCSSTransform","_setGlobalParam","_setContainer","_initPainter","_scale","registerEvent","renderType","painter","_resize","getPointByEvent","getClientByEvent","changedTouches","getClientByPoint","getRenderer","_drawSync","drawSync","targetTouches","_getEmitter","getEvents","_emitEvent","run","fun","nextTick","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","umask","svg","beforeDraw","animateHandler","toDraw","_drawGroup","setContext","_drawShape","restoreContext","resetTransform","resetContext","setLineDash","addColorStop","createLinearGradient","createRadialGradient","createPattern","complete","ellipse","fan","lineDashOffset","miterLimit","preserveAspectRatio","alphabetic","hanging","_drawChildren","tobeRemoved","_updateShape","hasAttribute","removeAttribute","_setClip","_setShadow","_updateFan","_assembleMarker","_assembleRect","_setAttribute","_updateText","_setTransform","getDefaultArrow","addArrow","_setColor","_setImage","_formatPath","createElementNS","insertBefore","nodeName","ImageData","_setFont","_setText","addClip","addGradient","addPattern","addShadow","defaultArrow","shadowOpacity","_parseShadow","_setDefaultPath","_setMarker","cloneNode","_setAttr","_afterSetAttrPath","_getMatrixByRoot","getTotalMatrix","getDefaultCfg","_beforeSetZIndex","_beforeSetLoading","getParent","toFront","toBack","firstChild","_events","getAll","foreignObject","srcElement","pathFormatted","interpolate","interpolateArray","animators","removeAnimator","isAnimating","stopAllAnimations","clockwise","getStartTangent","getEndTangent","swidth","sheight","_setAttrImg","_drawImage","HTMLImageElement","getPoint","_setTcache","curve","tCache","_calculateCurve","lineCount","textArr","_assembleFont","_setAttrText","_getTextHeight","_getSpaceingY","_drawTextArr","strokeText","JSON","V","et","ut","ct","ft","U","dt","vt","Ct","jt","Nt","Qt","Vt","Zt","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","formatHex","formatRgb","displayable","hex","formatHsl","brighter","darker","gamma","$","K","J","tt","setTime","Z","G","lastIndex","valueOf","translateX","translateY","skewX","ot","st","defaultView","getPropertyValue","baseVal","consolidate","lt","SQRT2","ht","pt","yt","gt","mt","bt","wt","Tt","It","St","_t","Mt","Pt","At","kt","Ot","Et","Bt","qt","Rt","Ft","Dt","Wt","Yt","Ht","Xt","Ut","zt","overshoot","period","performance","_call","_time","_next","restart","clearInterval","setInterval","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","bTop","pTop","pBottom","bLeft","pLeft","pRight","bRight","mRight","css","api","cms","gms","axios","defaults","baseURL","withCredentials","CancelToken","onFetchFail","err","onFetchSuccess","status","destroyAll","confirm","onOk","location","href","url","cancelToken","cleanData","handleObject","clean","catch","upload","headers","includeEmptyString","newObj","createChainedFunction","addEventListenerWrap","unstable_batchedUpdates","EventEmitter","wildcardEvents","doEmit","es","ContainerRender","_len","_key","removeContainer","unmountComponentAtNode","renderComponent","ready","forceRender","getContainer","_component","unstable_renderSubtreeIntoContainer","autoMount","autoDestroy","propTypes","bool","any","isRequired","defaultProps","Portal","createContainer","prevProps","didUpdate","_container","forceUpdate","createPortal","wrapCallback","ne","_EventObject2","_ret","useCapture","_EventObject","RGB_REG","regexLG","regexRG","regexColorStop","arr2rgb","toHex","iEl","x16Value","createTmp","colorArray","fixedPercent","calColor","toCSSGradient","cssColor_1","colorStops_1","is_type_1","_interopRequireDefault","_EventBaseObject2","_objectAssign2","commonProps","isNullOrUndefined","eventNormalizers","fix","nativeEvent","which","charCode","keyCode","metaKey","ctrlKey","deltaX","deltaY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","VERTICAL_AXIS","eventDoc","doc","button","ownerDocument","scrollLeft","scrollTop","relatedTarget","fromElement","toElement","retTrue","retFalse","DomEventObject","isNative","cancelBubble","isDefaultPrevented","getPreventDefault","returnValue","fixFns","normalizer","nodeType","fixFn","EventBaseObjectProto","returnFalse","returnTrue","EventBaseObject","isEventObject","isPropagationStopped","isImmediatePropagationStopped","halt","tslib_1","const_1","SLIDER_HEIGHT","TEXT_OFFSET","is_array_1","is_object_1","g_1","base_1","slider_1","constant_1","splitPoints","glMatrix","m00","m01","m02","m10","m11","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","_interopRequireWildcard","b12","b20","b22","sinC","cosC","len1","len2","cosine","vec","stride","az","bz","factorTimes2","factor1","factor2","factor3","factor4","inverseFactor","inverseFactorTimesTwo","zScale","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","tempA","tempB","is_object_like_1","is_array_like_1","is_string_1","continuous_1","category_1","HtmlCategory","size_1","color_1","color_util_1","canvas_1","html_1","util_1","arrow_1","Util","crosshair_1","theme_1","position_1","mergeStyles","isElement"],"mappings":"0zFAAA,SAASA,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,IAGOS,MAAMC,KAAMR,WAkB9B,IAAIS,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRd,OAAOQ,UAAUC,eAAeC,KAAKI,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCd,OAAOmB,sBAA2C,KAAIhB,EAAI,EAAb,IAAgBc,EAAIjB,OAAOmB,sBAAsBL,GAAIX,EAAIc,EAAEZ,OAAQF,IAClIY,EAAEG,QAAQD,EAAEd,IAAM,GAAKH,OAAOQ,UAAUY,qBAAqBV,KAAKI,EAAGG,EAAEd,MAAKa,EAAEC,EAAEd,IAAMW,EAAEG,EAAEd,KAEhG,OAAOa,GAyBM,EAlBJ,SAAcK,GACvB,OAAoB,gBAAoB,IAAgB,MAAM,SAAUC,GACtE,IAlCqBC,EAAKhB,EAAKiB,EAkC3BC,EAAeH,EAAKG,aAEpBC,EAAqBL,EAAMM,UAC3BC,EAAYP,EAAMO,UAClBC,EAAmBR,EAAMS,UACzBA,OAAiC,IAArBD,GAAqCA,EACjDE,EAASlB,EAAOQ,EAAO,CAAC,YAAa,YAAa,cAElDM,EAAYF,EAAa,OAAQC,GACjCM,EAAc,IAAW,GAAGC,OAAON,EAAW,SAAUC,GA3CvCL,EA2CkE,GA3C7DhB,EA2CiE,GAAG0B,OAAON,EAAW,mBA3CjFH,EA2CqGM,EA1ClIvB,KAAOgB,EACTvB,OAAOkC,eAAeX,EAAKhB,EAAK,CAC9BiB,MAAOA,EACPW,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZd,EAAIhB,GAAOiB,EAGND,IAgCL,OAAoB,gBAAoB,MAAOxB,EAAS,GAAIgC,EAAQ,CAClEH,UAAWI,SC/DjB,SAAS,IAeP,OAdA,EAAWhC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,IAGOS,MAAMC,KAAMR,WAG9B,IAAI,EAAgC,SAAUU,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRd,OAAOQ,UAAUC,eAAeC,KAAKI,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCd,OAAOmB,sBAA2C,KAAIhB,EAAI,EAAb,IAAgBc,EAAIjB,OAAOmB,sBAAsBL,GAAIX,EAAIc,EAAEZ,OAAQF,IAClIY,EAAEG,QAAQD,EAAEd,IAAM,GAAKH,OAAOQ,UAAUY,qBAAqBV,KAAKI,EAAGG,EAAEd,MAAKa,EAAEC,EAAEd,IAAMW,EAAEG,EAAEd,KAEhG,OAAOa,GAsCM,EA/BJ,SAAcK,GACvB,OAAoB,gBAAoB,IAAgB,MAAM,SAAUC,GACtE,IAAIG,EAAeH,EAAKG,aAEpBC,EAAqBL,EAAMM,UAC3BC,EAAYP,EAAMO,UAClBU,EAASjB,EAAMiB,OACfC,EAAQlB,EAAMkB,MACdC,EAAcnB,EAAMmB,YACpBT,EAAS,EAAOV,EAAO,CAAC,YAAa,YAAa,SAAU,QAAS,gBAErEM,EAAYF,EAAa,OAAQC,GACjCM,EAAc,IAAW,GAAGC,OAAON,EAAW,SAAUC,GACxDa,EAAYH,EAAsB,gBAAoB,MAAO,CAC/DV,UAAW,GAAGK,OAAON,EAAW,iBAC/BW,GAAU,KACTI,EAAWH,EAAqB,gBAAoB,MAAO,CAC7DX,UAAW,GAAGK,OAAON,EAAW,gBAC/BY,GAAS,KACRI,EAAiBH,EAA2B,gBAAoB,MAAO,CACzEZ,UAAW,GAAGK,OAAON,EAAW,sBAC/Ba,GAAe,KACdI,EAAaF,GAAYC,EAA8B,gBAAoB,MAAO,CACpFf,UAAW,GAAGK,OAAON,EAAW,iBAC/Be,EAAUC,GAAkB,KAC/B,OAAoB,gBAAoB,MAAO,EAAS,GAAIZ,EAAQ,CAClEH,UAAWI,IACTS,EAAWG,O,SC7DJ,E,OAAG,ECAH,E,OAAG,E,OCDlB,SAASC,EAAQtB,GAaf,OATEsB,EADoB,oBAAXC,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBxB,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXuB,QAAyBvB,EAAIyB,cAAgBF,QAAUvB,IAAQuB,OAAOtC,UAAY,gBAAkBe,IAI9GA,GAGjB,SAAS,IAeP,OAdA,EAAWvB,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,IAGOS,MAAMC,KAAMR,WAG9B,SAAS,EAAgBmB,EAAKhB,EAAKiB,GAYjC,OAXIjB,KAAOgB,EACTvB,OAAOkC,eAAeX,EAAKhB,EAAK,CAC9BiB,MAAOA,EACPW,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZd,EAAIhB,GAAOiB,EAGND,EAGT,SAAS0B,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAIxB,SAASC,EAAkBnD,EAAQmB,GACjC,IAAK,IAAIlB,EAAI,EAAGA,EAAIkB,EAAMhB,OAAQF,IAAK,CACrC,IAAImD,EAAajC,EAAMlB,GACvBmD,EAAWnB,WAAamB,EAAWnB,aAAc,EACjDmB,EAAWlB,cAAe,EACtB,UAAWkB,IAAYA,EAAWjB,UAAW,GACjDrC,OAAOkC,eAAehC,EAAQoD,EAAW/C,IAAK+C,IAyBlD,SAASC,EAAgBC,EAAGvC,GAM1B,OALAsC,EAAkBvD,OAAOyD,gBAAkB,SAAyBD,EAAGvC,GAErE,OADAuC,EAAEE,UAAYzC,EACPuC,IAGcA,EAAGvC,GAG5B,SAAS0C,EAAaC,GACpB,IAAIC,EAkCN,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAK1D,UAAU2D,SAASzD,KAAKoD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOnD,GACP,OAAO,GA3CuBqD,GAEhC,OAAO,WACL,IACIC,EADAC,EAAQC,EAAgBX,GAG5B,GAAIC,EAA2B,CAC7B,IAAIW,EAAYD,EAAgB3D,MAAMoC,YAEtCqB,EAASP,QAAQC,UAAUO,EAAOlE,UAAWoE,QAE7CH,EAASC,EAAM3D,MAAMC,KAAMR,WAG7B,OAAOqE,EAA2B7D,KAAMyD,IAI5C,SAASI,EAA2BC,EAAMhE,GACxC,OAAIA,GAA2B,WAAlBmC,EAAQnC,IAAsC,oBAATA,EAOpD,SAAgCgE,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,EARAE,CAAuBF,GAHrBhE,EA2BX,SAAS6D,EAAgBf,GAIvB,OAHAe,EAAkBvE,OAAOyD,eAAiBzD,OAAO6E,eAAiB,SAAyBrB,GACzF,OAAOA,EAAEE,WAAa1D,OAAO6E,eAAerB,KAEvBA,GAGzB,IAAI,EAAgC,SAAU1C,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRd,OAAOQ,UAAUC,eAAeC,KAAKI,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCd,OAAOmB,sBAA2C,KAAIhB,EAAI,EAAb,IAAgBc,EAAIjB,OAAOmB,sBAAsBL,GAAIX,EAAIc,EAAEZ,OAAQF,IAClIY,EAAEG,QAAQD,EAAEd,IAAM,GAAKH,OAAOQ,UAAUY,qBAAqBV,KAAKI,EAAGG,EAAEd,MAAKa,EAAEC,EAAEd,IAAMW,EAAEG,EAAEd,KAEhG,OAAOa,GAcT,SAAS8D,EAAUC,GAajB,OAZiBA,EAAQC,KAAI,SAAUC,EAAQC,GAC7C,OAGE,gBAAoB,KAAM,CACxBC,MAAO,CACLC,MAAO,GAAGnD,OAAO,IAAM8C,EAAQ1E,OAAQ,MAEzCE,IAAK,UAAU0B,OAAOiD,IACR,gBAAoB,OAAQ,KAAMD,OAMxD,IAAI,EAAoB,SAAUI,IAvHlC,SAAmBC,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInC,UAAU,sDAGtBkC,EAAS9E,UAAYR,OAAOwF,OAAOD,GAAcA,EAAW/E,UAAW,CACrEwC,YAAa,CACXxB,MAAO8D,EACPjD,UAAU,EACVD,cAAc,KAGdmD,GAAYhC,EAAgB+B,EAAUC,GA4G1CE,CAAUC,EAAML,GAEhB,IAhIoBlC,EAAawC,EAAYC,EAgIzCC,EAASlC,EAAa+B,GAE1B,SAASA,IACP,IAAII,EAgJJ,OA9IA7C,EAAgBrC,KAAM8E,IAEtBI,EAAQD,EAAOlF,MAAMC,KAAMR,YAErB2F,YAAc,SAAUxF,GACxBuF,EAAMzE,MAAM0E,aACdD,EAAMzE,MAAM0E,YAAYxF,IAI5BuF,EAAME,WAAa,SAAU1E,GAC3B,IAAI2E,EAAaC,EAyFbC,EAvFA1E,EAAeH,EAAKG,aAEpB2E,EAAKN,EAAMzE,MACXK,EAAqB0E,EAAGzE,UACxBC,EAAYwE,EAAGxE,UACfyE,EAAQD,EAAGC,MACXC,EAAeF,EAAGG,UAClBA,OAA6B,IAAjBD,EAA0B,GAAKA,EAC3CE,EAAeJ,EAAGK,UAClBA,OAA6B,IAAjBD,EAA0B,GAAKA,EAC3CjE,EAAQ6D,EAAG7D,MACXmE,EAAUN,EAAGM,QACbC,EAAcP,EAAGQ,SACjBA,OAA2B,IAAhBD,GAAgCA,EAC3CE,EAAUT,EAAGU,KACbA,OAAmB,IAAZD,EAAqB,UAAYA,EACxCE,EAAOX,EAAGW,KACVC,EAAQZ,EAAGY,MACXjC,EAAUqB,EAAGrB,QACbkC,EAAUb,EAAGa,QACbC,EAAWd,EAAGc,SACdC,EAAef,EAAGe,aAClBC,EAAsBhB,EAAGgB,oBACzBC,EAAqBjB,EAAGiB,mBACxBtF,EAAS,EAAOqE,EAAI,CAAC,YAAa,YAAa,QAAS,YAAa,YAAa,QAAS,UAAW,WAAY,OAAQ,OAAQ,QAAS,UAAW,UAAW,WAAY,eAAgB,sBAAuB,uBAEpNzE,EAAYF,EAAa,OAAQC,GACjCM,EAAc,IAAWL,EAAWC,GAA8B,EAAlBqE,EAAc,GAAiC,GAAGhE,OAAON,EAAW,YAAa+E,GAAU,EAAgBT,EAAa,GAAGhE,OAAON,EAAW,aAAciF,GAAW,EAAgBX,EAAa,GAAGhE,OAAON,EAAW,cAAemE,EAAMwB,0BAA2B,EAAgBrB,EAAa,GAAGhE,OAAON,EAAW,iBAAkBmE,EAAMyB,iBAAkB,EAAgBtB,EAAa,GAAGhE,OAAON,EAAW,iBAAkBsF,GAAWA,EAAQ5G,QAAS,EAAgB4F,EAAa,GAAGhE,OAAON,EAAW,KAAKM,OAAO6E,GAAgB,YAATA,GAAqB,EAAgBb,EAAa,GAAGhE,OAAON,EAAW,UAAUM,OAAO8E,KAASA,GAAOd,IACjqBuB,EAA0C,IAAtBf,EAAUgB,SAAuC,QAAtBhB,EAAUgB,QAAoB,CAC/EA,QAAS,SACPC,EACAC,EAA4B,gBAAoB,MAAO,CACzD/F,UAAW,GAAGK,OAAON,EAAW,oBAChCwD,MAAOqC,GACO,gBAAoB,EAAK,CACvCI,OAAQ,GACM,gBAAoB,EAAK,CACvCC,KAAM,IACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,sBACf,gBAAoB,EAAK,CAC1CiG,OAAQ,GACM,gBAAoB,EAAK,CACvCC,KAAM,GACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,qBAChB,gBAAoB,EAAK,CACzCkG,KAAM,IACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,sBACf,gBAAoB,EAAK,CAC1CiG,OAAQ,GACM,gBAAoB,EAAK,CACvCC,KAAM,GACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,qBAChB,gBAAoB,EAAK,CACzCkG,KAAM,IACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,sBACf,gBAAoB,EAAK,CAC1CiG,OAAQ,GACM,gBAAoB,EAAK,CACvCC,KAAM,IACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,qBAChB,gBAAoB,EAAK,CACzCkG,KAAM,GACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,sBACf,gBAAoB,EAAK,CAC1CiG,OAAQ,GACM,gBAAoB,EAAK,CACvCC,KAAM,GACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,qBAChB,gBAAoB,EAAK,CACzCkG,KAAM,GACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,qBAChB,gBAAoB,EAAK,CACzCkG,KAAM,IACQ,gBAAoB,MAAO,CACzCjG,UAAW,GAAGK,OAAON,EAAW,uBAE9BmG,OAAmCJ,IAAjBP,EAClBY,GAAgC,EAAlB7B,EAAc,GAAiC4B,EAAkB,YAAc,mBAAoBA,EAAkBX,EAAeC,GAAsB,EAAgBlB,EAAa,qBAAsBmB,GAAqBnB,GAEhP8B,EAAOf,GAAWA,EAAQ5G,OAAsB,gBAAoB,IAAM,EAAS,GAAI0H,EAAY,CACrGnG,UAAW,GAAGK,OAAON,EAAW,cAChCmF,KAAM,QACNmB,SAAUnC,EAAMC,cACdkB,EAAQjC,KAAI,SAAUkD,GACxB,OAAoB,gBAAoB,IAAKC,QAAS,CACpDC,IAAKF,EAAKE,IACVC,SAAUH,EAAKG,SACf9H,IAAK2H,EAAK3H,UAER,MAEFgC,GAAS8D,GAAS2B,KACpB7B,EAAoB,gBAAoB,MAAO,CAC7CvE,UAAW,GAAGK,OAAON,EAAW,SAChCwD,MAAOoB,GACO,gBAAoB,MAAO,CACzC3E,UAAW,GAAGK,OAAON,EAAW,kBAC/BY,GAAsB,gBAAoB,MAAO,CAClDX,UAAW,GAAGK,OAAON,EAAW,gBAC/BY,GAAQ8D,GAAsB,gBAAoB,MAAO,CAC1DzE,UAAW,GAAGK,OAAON,EAAW,WAC/B0E,IAAS2B,IAGd,IAAIM,EAAWtB,EAAqB,gBAAoB,MAAO,CAC7DpF,UAAW,GAAGK,OAAON,EAAW,WAC/BqF,GAAS,KACRuB,EAAoB,gBAAoB,MAAO,CACjD3G,UAAW,GAAGK,OAAON,EAAW,SAChCwD,MAAOsB,GACNC,EAAUiB,EAAeT,GACxBsB,EAAYzD,GAAWA,EAAQ1E,OAAsB,gBAAoB,KAAM,CACjFuB,UAAW,GAAGK,OAAON,EAAW,aAC/BmD,EAAUC,IAAY,KACrB0D,EAAW,YAAK1G,EAAQ,CAAC,cAAe,aAAc,cAC1D,OAAoB,gBAAoB,MAAO,EAAS,GAAI0G,EAAU,CACpE7G,UAAWI,IACTmE,EAAMmC,EAAUC,EAAMC,IAGrB1C,EA2CT,OA9ToB3C,EAsRPuC,GAtRoBC,EAsRd,CAAC,CAClBpF,IAAK,oBACLiB,MAAO,WACD,eAAgBZ,KAAKS,QACvB,OAAAqH,EAAA,IAAS9H,KAAKS,MAAMsH,WAAY,OAAQ,oFACxC,OAAAD,EAAA,KAAU9H,KAAKS,MAAMsH,WAAY,OAAQ,mEAI5C,CACDpI,IAAK,yBACLiB,MAAO,WACL,IAAIoH,EAAchI,KAAKS,MACnBsH,EAAaC,EAAYD,WACzB7G,EAAY8G,EAAY9G,UAE5B,MAAI,eAAgBlB,KAAKS,OACfsH,GAAc7G,IAGfA,IAEV,CACDvB,IAAK,gBACLiB,MAAO,WACL,IAAIqH,EAMJ,OALA,WAAeC,QAAQlI,KAAKS,MAAM6F,UAAU,SAAU6B,GAChDA,GAAWA,EAAQhC,MAAQgC,EAAQhC,OAAS,IAC9C8B,GAAc,MAGXA,IAER,CACDtI,IAAK,SACLiB,MAAO,WACL,OAAoB,gBAAoB,IAAgB,KAAMZ,KAAKoF,iBAzTvD3C,EAAkBF,EAAY3C,UAAWmF,GACrDC,GAAavC,EAAkBF,EAAayC,GA4TzCF,EAjMe,CAkMtB,aAGF,EAAKsD,KAAO,EACZ,EAAKC,KAAO,E,mFCjYRC,GAAM,MAICC,GAAgB,CACzBC,OAAQ,CACN5H,MATS,IAUT6H,OAAQ,YAEVC,QAAS,CACP9H,MAZS,IAaT6H,OAAQ,SAEVE,KAAM,CACJ/H,MAfO,KAgBP6H,OAAQ,MAEVG,IAAK,CACHhI,MAAO0H,GACPG,OAAQ,cAEVI,KAAM,CACJjI,MArBO0H,OAsBPG,OAAQ,cAEVK,MAAO,CACLlI,MAxBQ0H,OAyBRG,OAAQ,WAEVM,KAAM,CACJnI,MA3BO0H,QA4BPG,OAAQ,S,wCClCRO,GAAY,CACdC,YAAa,QACbC,eAAgB,WAChBC,gBAAiB,YACjBC,gBAAiB,YACjBC,cAAe,UACfC,iBAAkB,aAClBC,iBAAkB,aAClBC,kBAAmB,cACnBC,YAAa,mBACbC,eAAgB,sBAChBC,gBAAiB,uBACjBC,gBAAiB,uBACjBC,cAAe,qBACfC,iBAAkB,wBAClBC,iBAAkB,wBAClBC,kBAAmB,yBACnBC,aAAc,cACdC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,eAAgB,gBAChBC,iBAAkB,kBAClBC,kBAAmB,mBACnBC,kBAAmB,mBACnBC,mBAAoB,oBACpBC,cAAe,oBACfC,iBAAkB,uBAClBC,kBAAmB,wBACnBC,kBAAmB,wBACnBC,gBAAiB,sBACjBC,mBAAoB,yBACpBC,mBAAoB,yBACpBC,oBAAqB,2BAEnBC,GAAmB,CACrBC,YAAa,QACbC,eAAgB,WAChBC,gBAAiB,YACjBC,gBAAiB,YACjBC,cAAe,UACfC,iBAAkB,aAClBC,iBAAkB,aAClBC,kBAAmB,cACnBC,aAAc,cACdC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,iBAAkB,kBAClBC,eAAgB,gBAChBC,kBAAmB,mBACnBC,kBAAmB,mBACnBC,mBAAoB,oBACpBC,mBAAoB,oBACpBC,sBAAuB,uBACvBC,uBAAwB,wBACxBC,uBAAwB,wBACxBC,qBAAsB,sBACtBC,wBAAyB,yBACzBC,wBAAyB,yBACzBC,yBAA0B,0BAC1BC,kBAAmB,mBACnBC,qBAAsB,sBACtBC,sBAAuB,uBACvBC,sBAAuB,uBACvBC,oBAAqB,qBACrBC,uBAAwB,wBACxBC,uBAAwB,wBACxBC,wBAAyB,0BAEvBC,GAAkB,CACpBC,aAAc,QACdC,gBAAiB,WACjBC,iBAAkB,YAClBC,iBAAkB,YAClBC,eAAgB,UAChBC,kBAAmB,aACnBC,kBAAmB,aACnBC,mBAAoB,eAGtB,SAASC,GAAQC,EAAOC,EAAWC,GACjCF,EAAMG,KAAKC,GAAGH,EAAWC,GC1E3B,ICNI,GD2UW,GAnUf,SAAU7I,GAOR,SAASgJ,EAAMxN,GACb,IAAIyE,EAAQD,EAAOnF,KAAKE,OAASA,KAYjC,OAVAkF,EAAMgJ,OAAS,GACfhJ,EAAMiJ,WAAY,EAClBjJ,EAAMkJ,YAAa,EACnBlJ,EAAMmJ,UAAW,EACjBnJ,EAAMoJ,cAAgB,GACtBpJ,EAAMqJ,QAAUrJ,EAAMsJ,WAAW/N,GAEjCyE,EAAMuJ,eAAevJ,EAAMqJ,SAE3BrJ,EAAMwJ,UAAY,IAAI,SACfxJ,EA4ST,OA/TA,qBAAU+I,EAAOhJ,GAsBjBgJ,EAAMrO,UAAU6O,eAAiB,SAAUF,GACzCvO,KAAK2O,GAAKJ,EAAQI,GAClB3O,KAAK4O,EAAIL,EAAQK,EACjB5O,KAAK6O,EAAIN,EAAQM,EACjB7O,KAAKwE,MAAQ+J,EAAQ/J,MACrBxE,KAAK8O,OAASP,EAAQO,OACtB9O,KAAK+O,OAASR,EAAQQ,OACtB/O,KAAKgP,OAAST,EAAQS,QAGxBf,EAAMrO,UAAUqP,aAAe,SAAUC,GACvClP,KAAKuO,QAAU,WAAU,GAAIvO,KAAKuO,QAASW,GAC3ClP,KAAKyO,eAAezO,KAAKuO,UAG3BN,EAAMrO,UAAUuP,WAAa,aAM7BlB,EAAMrO,UAAUwP,KAAO,WACrBpP,KAAKqP,UAAYrP,KAAKsP,eACtBtP,KAAKuP,YAAcvP,KAAKwP,iBACxBxP,KAAKyP,WAAU,SAAU7B,GACvBA,EAAMwB,WAIVnB,EAAMrO,UAAU8P,UAAY,aAM5BzB,EAAMrO,UAAU+P,OAAS,WAElB3P,KAAKqO,WACJrO,KAAKgP,OACPhP,KAAKgP,OAAON,UAAUkB,IAAI5P,KAAK0O,WAE/B1O,KAAK+O,OAAOa,IAAI5P,KAAK0O,YAIzB1O,KAAKqO,UAAW,EAChBrO,KAAKmP,aACLnP,KAAKoP,OACLpP,KAAK0P,YACL1P,KAAK0O,UAAUmB,UAAU,CAAC,CAAC,IAAK7P,KAAK4O,EAAG5O,KAAK6O,KAC7C7O,KAAKyP,WAAU,SAAU7B,GACvBA,EAAM+B,YAER3P,KAAK+O,OAAOe,QAOd7B,EAAMrO,UAAUmQ,MAAQ,WACtB/P,KAAKyP,WAAU,SAAU7B,GACvBA,EAAMoC,aAERhQ,KAAKkO,OAAS,GACdlO,KAAK0O,UAAUqB,SAOjB9B,EAAMrO,UAAUoQ,QAAU,WACxB,IAAI9K,EAAQlF,KAEZA,KAAKyP,WAAU,SAAU7B,GACvBA,EAAMoC,aAGR,QAAOhQ,KAAKsO,eAAe,SAAU2B,GACnC/K,EAAMgL,IAAID,EAAEpC,UAAWoC,EAAEnC,YAG3B9N,KAAK0O,UAAUyB,QAAO,GACtBnQ,KAAKmO,WAAY,GAOnBF,EAAMrO,UAAUwQ,KAAO,WACrBpQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAKoO,YAAa,GAOpBH,EAAMrO,UAAU0Q,KAAO,WACrBtQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAKoO,YAAa,GAQpBH,EAAMrO,UAAU2Q,SAAW,SAAU3C,GACzB,aAAY5N,KAAKkO,QAAQ,SAAU5G,GAC3C,OAAOA,IAASsG,KAGR,IACJA,EAAMoB,SAAWhP,OACnB4N,EAAMoB,OAAShP,KACf4N,EAAMwB,QAGRpP,KAAKkO,OAAOsC,KAAK5C,KASrBK,EAAMrO,UAAU6Q,YAAc,SAAU7C,GACtC,IAAI8C,EAAM,aAAY1Q,KAAKkO,QAAQ,SAAU5G,GAC3C,OAAOA,IAASsG,KAGd8C,GAAO,GACT1Q,KAAKkO,OAAOyC,OAAOD,EAAK,IAU5BzC,EAAMrO,UAAUgR,WAAa,SAAUnQ,EAAOoQ,QAC1B,IAAdA,IACFA,GAAY,GAGd,IAAIC,EAAc,CAChBlC,EAAG5O,KAAK4O,EACRC,EAAG7O,KAAK6O,EACRrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,QAGXiC,EAAW,WAAU,GAAID,EAAarQ,GAE1CT,KAAK4O,EAAImC,EAASnC,EAClB5O,KAAK6O,EAAIkC,EAASlC,EAClB7O,KAAKwE,MAAQuM,EAASvM,MACtBxE,KAAK8O,OAASiC,EAASjC,OACvB9O,KAAKqP,UAAYrP,KAAKsP,eACtBtP,KAAKuP,YAAcvP,KAAKwP,iBACxBxP,KAAK2P,SAEDkB,GACF7Q,KAAKyP,WAAU,SAAU7B,GACvBA,EAAMoD,qBACNpD,EAAM+B,YAIV3P,KAAK+O,OAAOe,QAOd7B,EAAMrO,UAAUoR,mBAAqB,WACnC,IAAIC,EAASjR,KAAKuP,YAClBvP,KAAK4O,EAAI5O,KAAKgP,OAAOJ,EAAI5O,KAAKgP,OAAOxK,MAAQyM,EAAOC,MAAMtC,EAC1D5O,KAAK6O,EAAI7O,KAAKgP,OAAOH,EAAI7O,KAAKgP,OAAOF,OAASmC,EAAOC,MAAMrC,EAC3D7O,KAAKwE,MAAQxE,KAAKgP,OAAOxK,OAASyM,EAAOE,IAAIvC,EAAIqC,EAAOC,MAAMtC,GAC9D5O,KAAK8O,OAAS9O,KAAKgP,OAAOF,QAAUmC,EAAOE,IAAItC,EAAIoC,EAAOC,MAAMrC,GAChE7O,KAAKqP,UAAYrP,KAAKsP,gBAOxBrB,EAAMrO,UAAUwR,kBAAoB,WAKlC,IAJA,IAAIC,EAAUrR,KAAK4O,EACf0C,EAAUtR,KAAK6O,EACfG,EAAShP,KAAKgP,OAEXA,GACLqC,GAAWrC,EAAOJ,EAClB0C,GAAWtC,EAAOH,EAClBG,EAASA,EAAOA,OAGlB,MAAO,CACLJ,EAAGyC,EACHxC,EAAGyC,IAIPrD,EAAMrO,UAAU2R,cAAgB,WAC9B,IAAIC,EAAiBxR,KAAKoR,oBAC1B,OAAO,IAAI,QAAOI,EAAe5C,EAAG4C,EAAe3C,EAAG7O,KAAKwE,MAAOxE,KAAK8O,SAGzEb,EAAMrO,UAAU4O,WAAa,SAAU/N,GACrC,IAAIgR,EAAc,EACdC,EAAe,EAEfjR,EAAMuO,SACRyC,EAAchR,EAAMuO,OAAOxK,MAC3BkN,EAAejR,EAAMuO,OAAOF,QAG9B,IAAI6C,EAAiB,CACnB/C,EAAG,EACHC,EAAG,EACHrK,MAAOiN,EACP3C,OAAQ4C,GAEV,OAAO,WAAU,GAAIC,EAAgBlR,IAGvCwN,EAAMrO,UAAU6P,UAAY,SAAUmC,GACpC,QAAO5R,KAAKkO,OAAQ0D,IAGtB3D,EAAMrO,UAAUiS,YAAc,SAAUC,GACtC,IAAI5M,EAAQlF,KAER+R,EAAa,QAAO7E,IAExB,QAAO4E,GAAa,SAAU3R,EAAG6R,GAC/B,GAAI,YAAWD,EAAYC,IAAM,cAAa7R,GAAI,CAChD,IAAI0N,EAAYX,GAAgB8E,IAAMA,EAClClE,EAAU3N,EAEd+E,EAAM8I,GAAGH,EAAWC,GAEpB5I,EAAMoJ,cAAckC,KAAK,CACvByB,KAAMpE,EACNC,QAASA,SAMjBG,EAAMrO,UAAU0P,aAAe,WAC7B,OAAO,IAAI,QAAOtP,KAAK4O,EAAG5O,KAAK6O,EAAG7O,KAAKwE,MAAOxE,KAAK8O,SAGrDb,EAAMrO,UAAU4P,eAAiB,WAC/B,GAAIxP,KAAKgP,OAAQ,CACf,IAAIyC,EAAczR,KAAKgP,OAAOxK,MAC1BkN,EAAe1R,KAAKgP,OAAOF,OAC3BoD,EAAUlS,KAAKgP,OAAOJ,EACtBuD,EAAUnS,KAAKgP,OAAOH,EAK1B,MAAO,CACLqC,MAAO,CACLtC,GANU5O,KAAK4O,EAAIsD,GAAWT,EAO9B5C,GANU7O,KAAK6O,EAAIsD,GAAWT,GAQhCP,IAAK,CACHvC,GARQ5O,KAAK4O,EAAI5O,KAAKwE,MAAQ0N,GAAWT,EASzC5C,GARQ7O,KAAK6O,EAAI7O,KAAK8O,OAASqD,GAAWT,IAahD,MAAO,CACLR,MAAO,CACLtC,EAAG,EACHC,EAAG,GAELsC,IAAK,CACHvC,EAAG,EACHC,EAAG,KAKFZ,EAhUT,CAiUE,Y,6BEzUEmE,GAAY,GAOLC,GAAW,SAAkBlM,GACtC,OAAOiM,GAAUjM,EAAKmM,gBDGpBC,GAAc,iKAQdC,GAAc,CAChBC,KAAM,CACJC,UAAW,EACXC,KAfgB,UAgBhBC,YAAa,IAEfC,WAAY,CACVF,KAAM,OACNG,OApBgB,UAqBhBF,YAAa,EACbF,UAAW,GAEbK,IAAK,CACHD,OAzBgB,UA0BhBJ,UAAW,EACXC,KAAM,MAERK,KAAM,CACJF,OA9BgB,UA+BhBJ,UAAW,EACXC,KAAM,MAERM,SAAU,CACRP,UAAW,EACXC,KApCgB,UAqChBC,YAAa,KAEfM,eAAgB,CACdP,KAAM,OACNG,OAzCgB,UA0ChBF,YAAa,EACbF,UAAW,GAEbS,MAAO,CACLR,KA9CgB,UA+ChBD,UAAW,EACXI,OAhDgB,WAkDlBM,KAAM,CACJN,OAnDgB,UAoDhBJ,UAAW,EACXC,KAAM,MAERU,QAAS,CACPX,UAAW,EACXC,KAzDgB,UA0DhBC,YAAa,GAEfU,cAAe,CACbX,KAAM,OACNG,OA9DgB,UA+DhBF,YAAa,EACbF,UAAW,GAEba,MAAO,CACLb,UAAW,EACXC,KApEgB,UAqEhBa,OAAQ,GAEVC,YAAa,CACXd,KAAM,OACND,UAAW,EACXI,OA1EgB,UA2EhBU,OAAQ,GAEVE,KAAM,CACJf,KA9EgB,UA+EhBgB,UAAW,SACXC,aAAc,WAId,GAAuB,SAA8BrP,GACvD,IAAIsP,EAAUtP,EAAMqO,aAAerO,EAAMsP,SAAW,EACpD,MAAO,CACLjB,YAAa,SAAQiB,EAAU,IAAM,GAAK,GAC1CC,cAAe,SAAQD,EAAU,IAAM,GAAK,KAI5CE,GAAyB,SAAgCxP,GAE3D,MAAO,CACLmO,WAFcnO,EAAMmO,WAAa,GAEV,IAIvB,GAA2B,SAAkCnO,GAC/D,IAAIqO,EAAcrO,EAAMqO,aAAerO,EAAMsP,SAAW,EACxD,MAAO,CACLjB,YAAa,SAAQA,EAAc,IAAM,GAAK,KAI9CoB,GAAqB,SAA4BzP,GACnD,IAAI0P,EAAQ1P,EAAMoO,MAAQpO,EAAM2P,UAC5BV,EAASjP,EAAM2B,MAAQ3B,EAAMiP,OACjC,MAAO,CACLA,OAAQA,EAAS,EACjBW,WAAYX,EACZY,YAAaH,EACbnB,OAAQmB,EACRH,cAAe,EACfpB,UAAW,IAIX2B,GAA4B,SAAmC9P,GACjE,IAAI0P,EAAQ1P,EAAMuO,QAAUvO,EAAM+P,YAC9Bd,EAASjP,EAAM2B,MAAQ3B,EAAMiP,OACjC,MAAO,CACLA,OAAQA,EAAS,EACjBW,WAAYX,EACZY,YAAaH,EACbnB,OAAQmB,EACRH,cAAe,EACfpB,UAAW,IAcX6B,GAAsB,CACxBC,iBAAiB,EACjBC,eAAe,EACfC,iBAAiB,EACjBC,WAAW,EACXC,SAAU,OACVjT,MAAO,CACLkT,UAAW,CACTC,SAAU,GACVnC,KAAM,OACNiB,aAAc,SACdmB,WAAYxC,GACZoB,UAAW,UAEbqB,OAAQ,IAEVC,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,UACNmC,SAAU,GACVI,WAAY,GACZtB,aAAc,SACdmB,WAAYxC,KAGhBa,KAAM,CACJV,UAAW,EACXI,OAAQ,WAEVqC,SAAU,CACRzC,UAAW,EACXI,OAAQ,UACRrT,OAAQ,EACR2V,gBAAgB,GAElBC,KAAM,CACJvC,OAAQ,UACRJ,UAAW,EACX4C,SAAU,CAAC,EAAG,KAIdC,GAAwB,CAC1BZ,WAAW,EACXE,UAAW,CACTlC,KAAM,UACNmC,SAAU,GACVnB,UAAW,QACXC,aAAc,SACdsB,WAAY,GACZH,WAAYxC,IAEdiD,gBAAiB,UACjBC,WAAY,CACV9C,KAAM,OACNiB,aAAc,MACdD,UAAW,QACXoB,WAAYxC,IAEdmD,UAAU,ICjMe,SAAuBvP,EAAMwP,GACtD,GAAItD,GAASlM,GACX,MAAM,IAAIyP,MAAM,eAAiBzP,EAAO,cAG1CiM,GAAUjM,EAAKmM,eAAiBqD,ECnBlCE,CAAc,UFiNF,CACVC,WAAY,KACZC,aA9MkB,UA+MlBlP,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBkO,WAAYxC,GACZyD,OAhNmB,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAiNvHC,UAhNmB,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAiNrOC,OAAQ,CACN3C,MAAO,CAAC,eAAgB,eAAgB,gBAAiB,eAAgB,iBAAkB,gBAAiB,QAAS,OAAQ,OAAQ,SAAU,QAC/IH,KAAM,CAAC,OAAQ,OAAQ,OACvBX,KAAM,CAAC,SAET0D,MAAO,CAAC,EAAG,IACXC,UAAW,CAAC,GAAK,IACjBC,gBAAiB,CACf1D,KAAM,uBAER2D,KAAM,CACJC,IAAK,WAAU,GAAIhC,GAAqB,CACtCiC,SAAU,MACVnB,KAAM,OAERoB,OAAQ,WAAU,GAAIlC,GAAqB,CACzCiC,SAAU,SACVnB,KAAM,OAERqB,KAAM,WAAU,GAAInC,GAAqB,CACvCiC,SAAU,OACVvB,MAAO,CACLD,OAAQ,GAEV5B,KAAM,KACN+B,SAAU,OAEZwB,MAAO,WAAU,GAAIpC,GAAqB,CACxCiC,SAAU,QACVvB,MAAO,CACLD,OAAQ,GAEV5B,KAAM,KACN+B,SAAU,OAEZyB,OAAQ,WAAU,GAAIrC,GAAqB,CACzCU,MAAO,CACLD,OAAQ,EACRH,UAAW,CACTjB,aAAc,iBAIpBJ,OAAQ,WAAU,GAAIe,GAAqB,CACzCU,MAAO,CACLD,OAAQ,IAEVJ,SAAU,QAEZiC,MAAO,WAAU,GAAItC,GAAqB,CACxCU,MAAO,KACPI,KAAM,QAGVJ,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,UACNmC,SAAU,GACVlB,aAAc,SACdmB,WAAYxC,KAGhBuE,cAAe,CACb9B,OAAQ,GACRH,UAAW,CACTlC,KAAM,OACNmC,SAAU,GACVlB,aAAc,MACdmD,UAAW,OACXhC,WAAYxC,KAGhByE,YAAa,CACXnC,UAAW,CACTlC,KAAM,OACNmC,SAAU,GACVlB,aAAc,SACdmB,WAAYxC,KAIhB0E,YAAa,CACXC,YAAa,GACblC,OAAQ,GACRmC,UAAW,CACTzE,UAAW,IAGf0E,sBAAuB,SACvBC,OAAQ,CACNV,MAAO,WAAU,GAAIpB,GAAuB,CAC1CiB,SAAU,QACVc,OAAQ,WACRC,iBAAkB,EAClB1C,UAAW,CACTK,WAAY,KAGhBwB,KAAM,WAAU,GAAInB,GAAuB,CACzCiB,SAAU,OACVc,OAAQ,WACRC,iBAAkB,IAEpBhB,IAAK,WAAU,GAAIhB,GAAuB,CACxCiB,SAAU,MACVc,OAAQ,aACRE,aAAc,KAEhBf,OAAQ,WAAU,GAAIlB,GAAuB,CAC3CiB,SAAU,SACVc,OAAQ,aACRE,aAAc,KAGhBC,KAAM,CACJjB,SAAU,SACVc,OAAQ,aACR3C,WAAW,EACXa,gBAAiB,UACjBa,gBAAiB,CACfvH,OAAQ,OACRtK,MAAO,OACPgS,SAAU,WACVkB,SAAU,OACV5C,SAAU,OACVC,WAAYxC,GACZ2C,WAAY,OACZjB,MAAO,WAETwB,WAAY,CACVkC,aAAc,OAEhBC,UAAW,CACTC,cAAe,OACfC,OAAQ,EACRjR,QAAS,GAEXkR,UAAW,CACTC,OAAQ,UACRL,aAAc,MACdM,YAAa,QAEfC,YAAa,CACX1T,MAAO,MACPsK,OAAQ,MACRqJ,aAAc,MACdC,QAAS,eACTH,YAAa,MACbI,cAAe,WAGnBP,OAAQ,CAAC,EAAG,GAAI,GAAI,IACpBQ,aAAc,IAEhBC,SAAU,GAAK,CACbC,SAAS,GAEX,GA3W4B,cA2WO,CACjChC,SAAU,WACV4B,QAAS,OAGTK,OAAQ,EAERC,WAAY,oIACZC,gBAAiB,2BACjBC,UAAW,uBACXT,aAAc,MACdlE,MAAO,kBACPa,SAAU,OACVC,WAAYxC,GACZ2C,WAAY,OACZrO,QAAS,sBACR,GA1XqB,oBA0XU,CAChC8Q,aAAc,OACb,GA3XoB,mBA2XU,CAC/BG,OAAQ,EACRD,cAAe,OACfhR,QAAS,GACR,GA9XyB,wBA8XU,CACpC8Q,aAAc,MACdE,cAAe,OACfhR,QAAS,EACTgS,UAAW,EACXC,WAAY,EACZb,YAAa,GACZ,GApYsB,qBAoYU,CACjCzT,MAAO,MACPsK,OAAQ,MACRqJ,aAAc,MACdC,QAAS,eACTH,YAAa,OACZ,GAzYqB,oBAyYU,CAChCG,QAAS,eACTW,MAAO,QACPD,WAAY,QACX,IACHE,cAAe,CACbC,OAAQ,SAAgBrK,EAAGC,EAAGqK,GAC5B,MAAO,CAAC,CAAC,IAAKtK,EAAGC,GAAI,CAAC,KAAMqK,EAAG,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAO,EAAJA,EAAO,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAQ,GAAJA,EAAO,KAElGpG,OAAQ,OACRqB,WAAY,GACZgF,cAAe,EACfC,cAAe,EACfhF,YAAa,mBACb1B,UAAW,EACXc,OAAQ,GAEV6F,sBAAuB,CACrBlT,KAAM,OACNmT,UAAW,CACT3G,KAAM,UACNkB,QAAS,KAGb0F,sBAAuB,CACrBC,UAAW,CACT1G,OAAQ,sBACRJ,UAAW,IAGf+G,WAAY,CACVrG,KAAM,CACJA,KAAM,CACJ7O,MAAO,CACLuO,OAAQ,qBACRwC,SAAU,CAAC,EAAG,GACd5C,UAAW,IAGfgB,KAAM,CACJ8C,SAAU,QACVkD,YAAY,EACZnV,MAAO,CACLoO,KAAM,qBACNmC,SAAU,GACVnB,UAAW,QACXoB,WAAYxC,GACZqB,aAAc,YAIpBF,KAAM,CACJ6C,KAAK,EACLhS,MAAO,CACLoO,KAAM,iBACNmC,SAAU,GACVlB,aAAc,SACdD,UAAW,QACXoB,WAAYxC,KAGhBtB,OAAQ,CACNsF,KAAK,EACLhS,MAAO,CACLmO,UAAW,EACXC,KAAM,OACNC,YAAa,MAGjB6E,KAAM,CACJkC,OAAQ,SACRC,OAAQ,UAEVC,WAAY,CACV5I,OAAQ,CACN1M,MAAO,CACLmO,UAAW,EACXC,KAAM,UACNkB,QAAS,MAGbH,KAAM,CACJnP,MAAO,CACLoP,UAAW,SACXC,aAAc,SACdkB,SAAU,GACVnC,KAAM,wBAIZmH,WAAY,CACVvD,KAAK,EACLwD,UAAW,SACXC,YAAY,EACZtG,KAAM,CACJ0E,SAAS,EACT7T,MAAO,CACLoO,KAAM,qBACNkB,QAAS,EACTiB,SAAU,GACVnB,UAAW,UAGfP,KAAM,CACJgF,SAAS,EACT6B,WAAY,GACZ1V,MAAO,CACLuO,OAAQ,UACRJ,UAAW,IAGfa,MAAO,CACL6E,SAAS,EACT7T,MAAO,CACL2U,EAAG,EACHvG,KAAM,UACNG,OAAQ,UACRJ,UAAW,MAKnBwH,MAAO,CACLzH,KAAM,CACJA,KAAM,CACJ0H,QAAS3H,GAAYC,KACrB2H,OAAQ,IAEVC,OAAQ,CACNF,QAAS3H,GAAYC,KACrB2H,OAAQ,IAEVhH,KAAM,CACJ+G,QAAS3H,GAAYK,WACrBuH,OAAQrG,IAEVuG,WAAY,CACVH,QAAS3H,GAAYK,WACrBuH,OAAQrG,KAGZhB,IAAK,CACHA,IAAK,CACHoH,QAAS3H,GAAYO,IACrBqH,OAAQrG,KAGZf,KAAM,CACJI,KAAM,CACJ+G,QAAS3H,GAAYQ,KACrBoH,OAAQrG,IAEVwG,IAAK,CACHJ,QAAS3H,GAAYQ,KACrBoH,OAAQrG,IAEVsG,OAAQ,CACNF,QAAS3H,GAAYQ,KACrBoH,OAAQrG,IAEVyG,IAAK,CACHL,QAAS3H,GAAYQ,KACrBoH,OAAQrG,KAGZd,SAAU,CACRwH,KAAM,CACJN,QAAS3H,GAAYS,SACrBmH,OAAQ,IAEVlH,eAAgB,CACdiH,QAAS3H,GAAYU,eACrBkH,OAAQrG,IAEVX,KAAM,CACJ+G,QAAS3H,GAAYU,eACrBkH,OAAQrG,IAEV2G,KAAM,CACJP,QAAS3H,GAAYU,eACrBkH,OAAQrG,IAEV4G,OAAQ,CACNR,QAAS3H,GAAYS,SACrBmH,OAAQ,IAEVQ,QAAS,CACPT,QAAS3H,GAAYS,SACrBmH,OAAQ,IAEV,WAAY,CACVD,QAAS3H,GAAYS,SACrBmH,OAAQ,KAGZjH,MAAO,CACLA,MAAO,CACLgH,QAAS3H,GAAYW,MACrBiH,OAAQ,KAGZhH,KAAM,CACJA,KAAM,CACJ+G,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEV8G,IAAK,CACHV,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEV+G,KAAM,CACJX,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEVsG,OAAQ,CACNF,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEVgH,GAAI,CACFZ,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEViH,GAAI,CACFb,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEVkH,IAAK,CACHd,QAAS3H,GAAYY,KACrBgH,OAAQrG,IAEVwG,IAAK,CACHJ,QAAS3H,GAAYY,KACrBgH,OAAQrG,KAGZV,QAAS,CACPA,QAAS,CACP8G,QAAS3H,GAAYa,QACrB+G,OAAQ,IAEVc,OAAQ,CACNf,QAAS3H,GAAYc,cACrB8G,OAAQrG,KAGZR,MAAO,CACLqD,OAAQ,CACNuD,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVmH,OAAQ,CACNhB,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVoH,OAAQ,CACNjB,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVqH,QAAS,CACPlB,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVsH,QAAS,CACPnB,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVuH,SAAU,CACRpB,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVwH,aAAc,CACZrB,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVyH,aAAc,CACZtB,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVqH,aAAc,CACZvB,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVsH,aAAc,CACZxB,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVuH,cAAe,CACbzB,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVwH,cAAe,CACb1B,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVyH,eAAgB,CACd3B,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEV0H,mBAAoB,CAClB5B,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEV2H,MAAO,CACL7B,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVqG,KAAM,CACJP,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEV4H,KAAM,CACJ9B,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEV6H,OAAQ,CACN/B,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVjB,KAAM,CACJ+G,QAAS3H,GAAYiB,YACrB2G,OAAQ/F,IAEVoG,KAAM,CACJN,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVmI,MAAO,CACLhC,QAAS3H,GAAYe,MACrB6G,OAAQpG,IAEVoI,KAAM,CACJjC,QAAS3H,GAAYe,MACrB6G,OAAQpG,KAGZN,KAAM,CACJA,KAAM,CACJyG,QAAS3H,GAAYkB,KACrB0G,OAlmBgB,SAA2B7V,GAEjD,MAAO,CACLuO,OAFUvO,EAAMoO,MAAQpO,EAAM2P,UAG9BJ,cAAe,EACfpB,UAAW,SGzIf,IAAI2J,GAAS,CACXC,QAAS,KACTC,SAAU,SACV/X,MAAO,IACPsK,OAAQ,IACRgH,WAAY,KACZ0G,SAAS,EACTC,WAAY,CAEVC,OAAQ,GACRC,KAAM,SACNC,YAAa,EAAI,KAEnBjH,MAAOtD,GAAS,WAChBwK,SAAU,SAAkB1W,GAC1B,IAAI2W,EAAW,GAGbA,EADE,YAAW3W,GACFA,EACFkM,GAASlM,GACPkM,GAASlM,GAETkM,GAAS,WAItB,WAAUgK,GAAO1G,MAAOmH,KAGb,MCwBA,IDvBOT,GAAOQ,SACRR,GAAOC,QC7B5B,SAAUrX,GAGR,SAAS8X,EAAK7N,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAOjC,OALAkF,EAAMgK,IAAM,GACZhK,EAAMiJ,WAAY,EAClBjJ,EAAMgK,IAAM,oBAAS,CACnB8N,SAAS,GACR9N,GACIhK,EAqCT,OA/CA,qBAAU6X,EAAM9X,GAahB8X,EAAKnd,UAAUqd,IAAM,SAAUhL,GAC7B,OAAOjS,KAAKkP,IAAI+C,IAGlB8K,EAAKnd,UAAUyQ,IAAM,SAAU4B,EAAMrR,GAEnC,OADAZ,KAAKkP,IAAI+C,GAAQrR,EACVZ,MAGT+c,EAAKnd,UAAUwQ,KAAO,WACNpQ,KAAKid,IAAI,aAGrBjd,KAAKqQ,IAAI,WAAW,GACpBrQ,KAAKkd,eAAc,KAIvBH,EAAKnd,UAAU0Q,KAAO,WACNtQ,KAAKid,IAAI,aAGrBjd,KAAKqQ,IAAI,WAAW,GACpBrQ,KAAKkd,eAAc,KAIvBH,EAAKnd,UAAUoQ,QAAU,WACvBhQ,KAAKkP,IAAM,GACXlP,KAAKkQ,MAELlQ,KAAKmO,WAAY,GAGZ4O,EAhDT,CAiDE,a,UCxDFI,GAAA,UAAiB,SAAUC,EAAKC,EAAGC,GACjC,IAAIC,EAAW,IAAIC,MAAM,GAEzB,OADAL,GAAA,gBAAqBI,EAAUD,GACxBH,GAAA,SAAcC,EAAKG,EAAUF,IAGtCF,GAAA,OAAc,SAAUC,EAAKC,EAAGI,GAC9B,IAAIC,EAAY,IAAIF,MAAM,GAE1B,OADAL,GAAA,aAAkBO,EAAWD,GACtBN,GAAA,SAAcC,EAAKM,EAAWL,IAGvCF,GAAA,MAAa,SAAUC,EAAKC,EAAGC,GAC7B,IAAIK,EAAW,IAAIH,MAAM,GAEzB,OADAL,GAAA,YAAiBQ,EAAUL,GACpBH,GAAA,SAAcC,EAAKO,EAAUN,IAGtCF,GAAA,UAAiB,SAAUS,EAAGzZ,GAG5B,IAFA,IAAIiZ,EAAM,GAAG/b,OAAOuc,GAEXre,EAAI,EAAGse,EAAM1Z,EAAQ1E,OAAQF,EAAIse,EAAKte,IAAK,CAClD,IAAI8E,EAASF,EAAQ5E,GAErB,OAAQ8E,EAAO,IACb,IAAK,IACH8Y,GAAA,UAAeC,EAAKA,EAAK,CAAC/Y,EAAO,GAAIA,EAAO,KAC5C,MAEF,IAAK,IACH8Y,GAAA,MAAWC,EAAKA,EAAK,CAAC/Y,EAAO,GAAIA,EAAO,KACxC,MAEF,IAAK,IACH8Y,GAAA,OAAYC,EAAKA,EAAK/Y,EAAO,KAQnC,OAAO+Y,GAGM,U,UC5CfU,GAAA,MAAa,SAAUC,EAAIC,GACzB,IAAIC,EAAQH,GAAA,IAASC,EAAIC,IAAOF,GAAA,OAAYC,GAAMD,GAAA,OAAYE,IAC9D,OAAOE,KAAKC,KAAK,iBAAMF,GAAQ,EAAG,KAUpCH,GAAA,UAAiB,SAAUC,EAAIC,GAC7B,OAAOD,EAAG,GAAKC,EAAG,GAAKA,EAAG,GAAKD,EAAG,IAGpCD,GAAA,QAAe,SAAUC,EAAIC,EAAII,GAC/B,IAAIC,EAAQP,GAAA,MAAWC,EAAIC,GACvBM,EAAmBR,GAAA,UAAeC,EAAIC,IAAO,EAEjD,OAAII,EACEE,EACe,EAAVJ,KAAKK,GAASF,EAGhBA,EAGLC,EACKD,EAGQ,EAAVH,KAAKK,GAASF,GAGvBP,GAAA,SAAgB,SAAUV,EAAKE,EAAGkB,GAShC,OARIA,GACFpB,EAAI,GAAKE,EAAE,GACXF,EAAI,IAAM,EAAIE,EAAE,KAEhBF,EAAI,IAAM,EAAIE,EAAE,GAChBF,EAAI,GAAKE,EAAE,IAGNF,GAGM,UCjDA,G,wDCAA,SAASqB,GAAkBC,EAAKC,GAG7C,IAFA,IAAIC,EAAI,GAECrf,EAAI,EAAGsf,EAAOH,EAAIjf,OAAQof,EAAO,GAAKF,EAAIpf,EAAGA,GAAK,EAAG,CAC5D,IAAIc,EAAI,CAAC,CACPuO,GAAI8P,EAAInf,EAAI,GACZsP,GAAI6P,EAAInf,EAAI,IACX,CACDqP,GAAI8P,EAAInf,GACRsP,GAAI6P,EAAInf,EAAI,IACX,CACDqP,GAAI8P,EAAInf,EAAI,GACZsP,GAAI6P,EAAInf,EAAI,IACX,CACDqP,GAAI8P,EAAInf,EAAI,GACZsP,GAAI6P,EAAInf,EAAI,KAGVof,EACGpf,EAKMsf,EAAO,IAAMtf,EACtBc,EAAE,GAAK,CACLuO,GAAI8P,EAAI,GACR7P,GAAI6P,EAAI,IAEDG,EAAO,IAAMtf,IACtBc,EAAE,GAAK,CACLuO,GAAI8P,EAAI,GACR7P,GAAI6P,EAAI,IAEVre,EAAE,GAAK,CACLuO,GAAI8P,EAAI,GACR7P,GAAI6P,EAAI,KAhBVre,EAAE,GAAK,CACLuO,GAAI8P,EAAIG,EAAO,GACfhQ,GAAI6P,EAAIG,EAAO,IAkBfA,EAAO,IAAMtf,EACfc,EAAE,GAAKA,EAAE,GACCd,IACVc,EAAE,GAAK,CACLuO,GAAI8P,EAAInf,GACRsP,GAAI6P,EAAInf,EAAI,KAKlBqf,EAAEpO,KAAK,CAAC,MAAOnQ,EAAE,GAAGuO,EAAI,EAAIvO,EAAE,GAAGuO,EAAIvO,EAAE,GAAGuO,GAAK,IAAKvO,EAAE,GAAGwO,EAAI,EAAIxO,EAAE,GAAGwO,EAAIxO,EAAE,GAAGwO,GAAK,GAAIxO,EAAE,GAAGuO,EAAI,EAAIvO,EAAE,GAAGuO,EAAIvO,EAAE,GAAGuO,GAAK,GAAIvO,EAAE,GAAGwO,EAAI,EAAIxO,EAAE,GAAGwO,EAAIxO,EAAE,GAAGwO,GAAK,EAAGxO,EAAE,GAAGuO,EAAGvO,EAAE,GAAGwO,IAG9K,OAAO+P,E,OCrDT,IAAIE,GAAS,8HACTC,GAAe,IAAIC,OAAO,WAAaF,GAAS,wCAA0CA,GAAS,QAAUA,GAAS,QAAS,MAC/HG,GAAc,IAAID,OAAO,qCAAuCF,GAAS,QAAUA,GAAS,KAAM,MAEvF,SAASI,GAAgBC,GACtC,IAAKA,EACH,OAAO,KAGT,GAAI,KAAQA,GACV,OAAOA,EAGT,IAAIC,EAAc,CAChB/B,EAAG,EACHgC,EAAG,EACHzc,EAAG,EACHqN,EAAG,EACHqP,EAAG,EACH1B,EAAG,EACH1E,EAAG,EACHqG,EAAG,EACHrf,EAAG,EACHE,EAAG,EACHkd,EAAG,EACHkC,EAAG,EACHb,EAAG,GAEDc,EAAO,GAgCX,OA/BAC,OAAOP,GAAYQ,QAAQZ,IAAc,SAAU1B,EAAGuC,EAAGP,GACvD,IAAIQ,EAAS,GACT5N,EAAO2N,EAAEtN,cAeb,GAdA+M,EAAEM,QAAQV,IAAa,SAAU5B,EAAGuC,GAClCA,GAAKC,EAAOrP,MAAMoP,MAGP,MAAT3N,GAAgB4N,EAAOpgB,OAAS,IAClCggB,EAAKjP,KAAK,CAACoP,GAAGve,OAAOwe,EAAOlP,OAAO,EAAG,KACtCsB,EAAO,IACP2N,EAAU,MAANA,EAAY,IAAM,KAGX,MAAT3N,GAAkC,IAAlB4N,EAAOpgB,QACzBggB,EAAKjP,KAAK,CAACoP,EAAGC,EAAO,KAGV,MAAT5N,EACFwN,EAAKjP,KAAK,CAACoP,GAAGve,OAAOwe,SAErB,KAAOA,EAAOpgB,QAAU2f,EAAYnN,KAClCwN,EAAKjP,KAAK,CAACoP,GAAGve,OAAOwe,EAAOlP,OAAO,EAAGyO,EAAYnN,MAE7CmN,EAAYnN,MAMrB,MAAO,MAEFwN,EC5DT,IAAIK,GAAW,QAEf,SAASC,GAAW1f,EAAGgf,GACrB,MAAO,CAACA,EAAE,IAAMA,EAAE,GAAKhf,EAAE,IAAKgf,EAAE,IAAMA,EAAE,GAAKhf,EAAE,KAGlC,SAAS2f,GAAeb,GACrC,IAAIc,EAAYf,GAAgBC,GAEhC,IAAKc,IAAcA,EAAUxgB,OAC3B,MAAO,CAAC,CAAC,IAAK,EAAG,IAKnB,IAFA,IAAIygB,GAAc,EAET3gB,EAAI,EAAGA,EAAI0gB,EAAUxgB,OAAQF,IAAK,CACzC,IAAI4gB,EAAMF,EAAU1gB,GAAG,GAEvB,GAAIugB,GAASM,KAAKD,IAAQ,CAAC,IAAK,IAAK,IAAK,KAAK7f,QAAQ6f,IAAQ,EAAG,CAChED,GAAc,EACd,OAMJ,IAAKA,EACH,OAAOD,EAGT,IAAII,EAAM,GACNzR,EAAI,EACJC,EAAI,EACJyR,EAAK,EACLC,EAAK,EACLrP,EAAQ,EAGRsP,EAAQP,EAAU,GAEL,MAAbO,EAAM,IAA2B,MAAbA,EAAM,KAG5BF,EAFA1R,GAAK4R,EAAM,GAGXD,EAFA1R,GAAK2R,EAAM,GAGXtP,IACAmP,EAAI,GAAK,CAAC,IAAKzR,EAAGC,IAGXtP,EAAI2R,EAAb,IAAK,IAAeuP,EAAKR,EAAUxgB,OAAQF,EAAIkhB,EAAIlhB,IAAK,CACtD,IAAImhB,EAAKT,EAAU1gB,GACfohB,EAAYN,EAAI9gB,EAAI,GAEpB2Z,EAAI,GAEJ0H,GADAT,EAAMO,EAAG,IACGG,cAEhB,GAAIV,IAAQS,EAGV,OAFA1H,EAAE,GAAK0H,EAECA,GACN,IAAK,IACH1H,EAAE,GAAKwH,EAAG,GACVxH,EAAE,GAAKwH,EAAG,GACVxH,EAAE,GAAKwH,EAAG,GACVxH,EAAE,GAAKwH,EAAG,GACVxH,EAAE,GAAKwH,EAAG,GACVxH,EAAE,IAAMwH,EAAG,GAAK9R,EAChBsK,EAAE,IAAMwH,EAAG,GAAK7R,EAChB,MAEF,IAAK,IACHqK,EAAE,IAAMwH,EAAG,GAAK7R,EAChB,MAEF,IAAK,IACHqK,EAAE,IAAMwH,EAAG,GAAK9R,EAChB,MAEF,IAAK,IACH0R,GAAMI,EAAG,GAAK9R,EACd2R,GAAMG,EAAG,GAAK7R,EACd,MAGF,QACE,IAAK,IAAIiS,EAAI,EAAGC,EAAKL,EAAGjhB,OAAQqhB,EAAIC,EAAID,IACtC5H,EAAE4H,IAAMJ,EAAGI,IAAMA,EAAI,EAAIlS,EAAIC,QAMnCqK,EAAI+G,EAAU1gB,GAIhB,OAAQqhB,GACN,IAAK,IACHhS,GAAK0R,EACLzR,GAAK0R,EACL,MAEF,IAAK,IAEHrH,EAAI,CAAC,IADLtK,EAAIsK,EAAE,GACOrK,GACb,MAEF,IAAK,IAEHqK,EAAI,CAAC,IAAKtK,EADVC,EAAIqK,EAAE,IAEN,MAEF,IAAK,IACHtK,EAAIsK,EAAE,GACNrK,EAAIqK,EAAE,GAGN,IAAI8H,EAAYjB,GAAW,CAACY,EAAU,GAAIA,EAAU,IAAK,CAACA,EAAU,GAAIA,EAAU,KAClFzH,EAAI,CAAC,IAAK8H,EAAU,GAAIA,EAAU,GAAIpS,EAAGC,GACzC,MAEF,IAAK,IACHD,EAAIsK,EAAEA,EAAEzZ,OAAS,GACjBoP,EAAIqK,EAAEA,EAAEzZ,OAAS,GAGjB,IAAIwhB,EAAWN,EAAUlhB,OACrByhB,EAAYnB,GAAW,CAACY,EAAUM,EAAW,GAAIN,EAAUM,EAAW,IAAK,CAACN,EAAUM,EAAW,GAAIN,EAAUM,EAAW,KAC9H/H,EAAI,CAAC,IAAKgI,EAAU,GAAIA,EAAU,GAAIhI,EAAE,GAAIA,EAAE,GAAItK,EAAGC,GACrD,MAEF,IAAK,IACHyR,EAAKpH,EAAEA,EAAEzZ,OAAS,GAClB8gB,EAAKrH,EAAEA,EAAEzZ,OAAS,GAClB,MAGF,QACEmP,EAAIsK,EAAEA,EAAEzZ,OAAS,GACjBoP,EAAIqK,EAAEA,EAAEzZ,OAAS,GAGrB4gB,EAAI7P,KAAK0I,GAGX,OAAOmH,ECjJT,IAAIc,GAAM,SAASA,EAAIC,EAAIC,EAAIC,EAAIC,EAAIlD,EAAOmD,EAAgBC,EAAYC,EAAIC,EAAI9Q,GAG5EyQ,IAAOC,IACTD,GAAM,GAGR,IAIIM,EACAC,EACAC,EACAC,EACAC,EARAC,EAAiB,IAAV/D,KAAKK,GAAW,IAEvBd,EAAMS,KAAKK,GAAK,MAAQF,GAAS,GACjCgC,EAAM,GAON6B,EAAS,SAAgBtT,EAAGC,EAAG4O,GAGjC,MAAO,CACL7O,EAHMA,EAAIsP,KAAKiE,IAAI1E,GAAO5O,EAAIqP,KAAKkE,IAAI3E,GAIvC5O,EAHMD,EAAIsP,KAAKkE,IAAI3E,GAAO5O,EAAIqP,KAAKiE,IAAI1E,KAO3C,GAAK5M,EA8CHgR,EAAKhR,EAAU,GACfiR,EAAKjR,EAAU,GACfkR,EAAKlR,EAAU,GACfmR,EAAKnR,EAAU,OAjDD,CAEduQ,GADAQ,EAAKM,EAAOd,EAAIC,GAAK5D,IACb7O,EACRyS,EAAKO,EAAG/S,EAER6S,GADAE,EAAKM,EAAOR,EAAIC,GAAKlE,IACb7O,EACR+S,EAAKC,EAAG/S,EAEJuS,IAAOM,GAAML,IAAOM,IAEtBD,GAAM,EACNC,GAAM,GAKR,IAAI/S,GAAKwS,EAAKM,GAAM,EAChB7S,GAAKwS,EAAKM,GAAM,EAChB1R,EAAIrB,EAAIA,GAAK0S,EAAKA,GAAMzS,EAAIA,GAAK0S,EAAKA,GAEtCtR,EAAI,IAENqR,GADArR,EAAIiO,KAAKmE,KAAKpS,GAEdsR,GAAKtR,GAGP,IAAIqS,EAAMhB,EAAKA,EACXiB,EAAMhB,EAAKA,EACXvP,GAAKwP,IAAmBC,GAAc,EAAI,GAAKvD,KAAKmE,KAAKnE,KAAKsE,KAAKF,EAAMC,EAAMD,EAAMzT,EAAIA,EAAI0T,EAAM3T,EAAIA,IAAM0T,EAAMzT,EAAIA,EAAI0T,EAAM3T,EAAIA,KACzImT,EAAK/P,EAAIsP,EAAKzS,EAAI0S,GAAMH,EAAKM,GAAM,EACnCM,EAAKhQ,GAAKuP,EAAK3S,EAAI0S,GAAMD,EAAKM,GAAM,EACpCE,EAAK3D,KAAKuE,KAAKC,SAASrB,EAAKW,GAAMT,GAAIoB,QAAQ,KAC/Cb,EAAK5D,KAAKuE,KAAKC,SAASf,EAAKK,GAAMT,GAAIoB,QAAQ,KAC/Cd,EAAKT,EAAKW,EAAK7D,KAAKK,GAAKsD,EAAKA,EAC9BC,EAAKJ,EAAKK,EAAK7D,KAAKK,GAAKuD,EAAKA,EAC9BD,EAAK,IAAMA,EAAe,EAAV3D,KAAKK,GAASsD,GAC9BC,EAAK,IAAMA,EAAe,EAAV5D,KAAKK,GAASuD,GAE1BL,GAAcI,EAAKC,IACrBD,GAAoB,EAAV3D,KAAKK,KAGZkD,GAAcK,EAAKD,IACtBC,GAAoB,EAAV5D,KAAKK,IASnB,IAAIqE,EAAKd,EAAKD,EAEd,GAAI3D,KAAKsE,IAAII,GAAMX,EAAM,CACvB,IAAIY,EAAQf,EACRgB,EAAQpB,EACRqB,EAAQpB,EACZG,EAAKD,EAAKI,GAAQR,GAAcK,EAAKD,EAAK,GAAK,GAG/CxB,EAAMc,EAFNO,EAAKK,EAAKT,EAAKpD,KAAKiE,IAAIL,GACxBH,EAAKK,EAAKT,EAAKrD,KAAKkE,IAAIN,GACNR,EAAIC,EAAIlD,EAAO,EAAGoD,EAAYqB,EAAOC,EAAO,CAACjB,EAAIe,EAAOd,EAAIC,IAGhFY,EAAKd,EAAKD,EACV,IAAImB,EAAK9E,KAAKiE,IAAIN,GACdoB,EAAK/E,KAAKkE,IAAIP,GACdqB,EAAKhF,KAAKiE,IAAIL,GACdqB,EAAKjF,KAAKkE,IAAIN,GACd1hB,EAAI8d,KAAKkF,IAAIR,EAAK,GAClBS,EAAK,EAAI,EAAI/B,EAAKlhB,EAClBkjB,EAAK,EAAI,EAAI/B,EAAKnhB,EAClBmjB,EAAK,CAACnC,EAAIC,GACVmC,EAAK,CAACpC,EAAKiC,EAAKJ,EAAI5B,EAAKiC,EAAKN,GAC9BS,EAAK,CAAC/B,EAAK2B,EAAKF,EAAIxB,EAAK2B,EAAKJ,GAC9BQ,EAAK,CAAChC,EAAIC,GAId,GAHA6B,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GACvBA,EAAG,GAAK,EAAID,EAAG,GAAKC,EAAG,GAEnB3S,EACF,MAAO,CAAC2S,EAAIC,EAAIC,GAAIriB,OAAOgf,GAM7B,IAFA,IAAIsD,EAAS,GAEJpkB,EAAI,EAAGkhB,GAHhBJ,EAAM,CAACmD,EAAIC,EAAIC,GAAIriB,OAAOgf,GAAKuD,OAAOC,MAAM,MAGnBpkB,OAAQF,EAAIkhB,EAAIlhB,IACvCokB,EAAOpkB,GAAKA,EAAI,EAAI2iB,EAAO7B,EAAI9gB,EAAI,GAAI8gB,EAAI9gB,GAAIke,GAAK5O,EAAIqT,EAAO7B,EAAI9gB,GAAI8gB,EAAI9gB,EAAI,GAAIke,GAAK7O,EAG1F,OAAO+U,GAGLG,GAAM,SAAa1C,EAAIC,EAAIK,EAAIC,GACjC,MAAO,CAACP,EAAIC,EAAIK,EAAIC,EAAID,EAAIC,IAG1BoC,GAAM,SAAa3C,EAAIC,EAAI2C,EAAIC,EAAIvC,EAAIC,GAKzC,MAAO,CAJG,EAAI,EAIAP,EAFJ,EAAI,EAEW4C,EAJf,EAAI,EAIqB3C,EAFzB,EAAI,EAEgC4C,EAJpC,EAAI,EAI0CvC,EAF9C,EAAI,EAEqDsC,EAJzD,EAAI,EAI+DrC,EAFnE,EAAI,EAE0EsC,EAAIvC,EAAIC,IAGnF,SAASuC,GAAY9H,EAAM+H,GACxC,IA8BI1D,EA9BApgB,EAAI,GAAc+b,GAClBgI,EAAKD,GAAS,GAAcA,GAC5BE,EAAQ,CACVzV,EAAG,EACHC,EAAG,EACHyV,GAAI,EACJC,GAAI,EACJC,EAAG,EACHC,EAAG,EACHC,GAAI,KACJC,GAAI,MAEFC,EAAS,CACXhW,EAAG,EACHC,EAAG,EACHyV,GAAI,EACJC,GAAI,EACJC,EAAG,EACHC,EAAG,EACHC,GAAI,KACJC,GAAI,MAEFE,EAAS,GAETC,EAAS,GAETC,EAAS,GAETC,EAAO,GAIPC,EAAc,SAAqB7I,EAAMwC,EAAGoG,GAC9C,IAAIE,EAAIC,EAER,IAAK/I,EACH,MAAO,CAAC,IAAKwC,EAAEhQ,EAAGgQ,EAAE/P,EAAG+P,EAAEhQ,EAAGgQ,EAAE/P,EAAG+P,EAAEhQ,EAAGgQ,EAAE/P,GAQ1C,SALEuN,EAAK,IAAM,CACXgJ,EAAG,EACHC,EAAG,MACEzG,EAAE8F,GAAK9F,EAAE+F,GAAK,MAEbvI,EAAK,IACX,IAAK,IACHwC,EAAE4F,EAAIpI,EAAK,GACXwC,EAAE6F,EAAIrI,EAAK,GACX,MAEF,IAAK,IACHA,EAAO,CAAC,KAAK/a,OAAO8f,GAAIphB,MAAM,EAAG,CAAC6e,EAAEhQ,EAAGgQ,EAAE/P,GAAGxN,OAAO+a,EAAKkJ,MAAM,MAC9D,MAEF,IAAK,IACU,MAATN,GAAyB,MAATA,GAElBE,EAAW,EAANtG,EAAEhQ,EAAQgQ,EAAE0F,GAEjBa,EAAW,EAANvG,EAAE/P,EAAQ+P,EAAE2F,KAGjBW,EAAKtG,EAAEhQ,EACPuW,EAAKvG,EAAE/P,GAGTuN,EAAO,CAAC,IAAK8I,EAAIC,GAAI9jB,OAAO+a,EAAKkJ,MAAM,IACvC,MAEF,IAAK,IACU,MAATN,GAAyB,MAATA,GAElBpG,EAAE8F,GAAW,EAAN9F,EAAEhQ,EAAQgQ,EAAE8F,GAEnB9F,EAAE+F,GAAW,EAAN/F,EAAE/P,EAAQ+P,EAAE+F,KAGnB/F,EAAE8F,GAAK9F,EAAEhQ,EACTgQ,EAAE+F,GAAK/F,EAAE/P,GAGXuN,EAAO,CAAC,KAAK/a,OAAO0iB,GAAInF,EAAEhQ,EAAGgQ,EAAE/P,EAAG+P,EAAE8F,GAAI9F,EAAE+F,GAAIvI,EAAK,GAAIA,EAAK,KAC5D,MAEF,IAAK,IACHwC,EAAE8F,GAAKtI,EAAK,GACZwC,EAAE+F,GAAKvI,EAAK,GACZA,EAAO,CAAC,KAAK/a,OAAO0iB,GAAInF,EAAEhQ,EAAGgQ,EAAE/P,EAAGuN,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAClE,MAEF,IAAK,IACHA,EAAO,CAAC,KAAK/a,OAAOyiB,GAAIlF,EAAEhQ,EAAGgQ,EAAE/P,EAAGuN,EAAK,GAAIA,EAAK,KAChD,MAEF,IAAK,IACHA,EAAO,CAAC,KAAK/a,OAAOyiB,GAAIlF,EAAEhQ,EAAGgQ,EAAE/P,EAAGuN,EAAK,GAAIwC,EAAE/P,IAC7C,MAEF,IAAK,IACHuN,EAAO,CAAC,KAAK/a,OAAOyiB,GAAIlF,EAAEhQ,EAAGgQ,EAAE/P,EAAG+P,EAAEhQ,EAAGwN,EAAK,KAC5C,MAEF,IAAK,IACHA,EAAO,CAAC,KAAK/a,OAAOyiB,GAAIlF,EAAEhQ,EAAGgQ,EAAE/P,EAAG+P,EAAE4F,EAAG5F,EAAE6F,IAO7C,OAAOrI,GAGLmJ,EAAS,SAAgBC,EAAIjmB,GAC/B,GAAIimB,EAAGjmB,GAAGE,OAAS,EAAG,CACpB+lB,EAAGjmB,GAAGkmB,QAGN,IAFA,IAAIC,EAAKF,EAAGjmB,GAELmmB,EAAGjmB,QACRolB,EAAOtlB,GAAK,IAEZ6kB,IAAOU,EAAOvlB,GAAK,KAEnBimB,EAAG7U,OAAOpR,IAAK,EAAG,CAAC,KAAK8B,OAAOqkB,EAAG/U,OAAO,EAAG,KAG9C6U,EAAG7U,OAAOpR,EAAG,GACbkhB,EAAKvC,KAAKyH,IAAItlB,EAAEZ,OAAQ2kB,GAAMA,EAAG3kB,QAAU,KAI3CmmB,EAAO,SAAcC,EAAO1B,EAAO2B,EAAIC,EAAIxmB,GACzCsmB,GAAS1B,GAAyB,MAAhB0B,EAAMtmB,GAAG,IAA8B,MAAhB4kB,EAAM5kB,GAAG,KACpD4kB,EAAMxT,OAAOpR,EAAG,EAAG,CAAC,IAAKwmB,EAAGnX,EAAGmX,EAAGlX,IAClCiX,EAAGxB,GAAK,EACRwB,EAAGvB,GAAK,EACRuB,EAAGlX,EAAIiX,EAAMtmB,GAAG,GAChBumB,EAAGjX,EAAIgX,EAAMtmB,GAAG,GAChBkhB,EAAKvC,KAAKyH,IAAItlB,EAAEZ,OAAQ2kB,GAAMA,EAAG3kB,QAAU,KAI/CghB,EAAKvC,KAAKyH,IAAItlB,EAAEZ,OAAQ2kB,GAAMA,EAAG3kB,QAAU,GAE3C,IAAK,IAAIF,EAAI,EAAGA,EAAIkhB,EAAIlhB,IAAK,CAC3Bc,EAAEd,KAAOwlB,EAAS1kB,EAAEd,GAAG,IAER,MAAXwlB,IAEFF,EAAOtlB,GAAKwlB,EAEZxlB,IAAMylB,EAAOH,EAAOtlB,EAAI,KAG1Bc,EAAEd,GAAK0lB,EAAY5kB,EAAEd,GAAI8kB,EAAOW,GAEd,MAAdH,EAAOtlB,IAAyB,MAAXwlB,IAAgBF,EAAOtlB,GAAK,KAIrDgmB,EAAOllB,EAAGd,GAEN6kB,IAEFA,EAAG7kB,KAAOwlB,EAASX,EAAG7kB,GAAG,IAEV,MAAXwlB,IACFD,EAAOvlB,GAAKwlB,EACZxlB,IAAMylB,EAAOF,EAAOvlB,EAAI,KAG1B6kB,EAAG7kB,GAAK0lB,EAAYb,EAAG7kB,GAAIqlB,EAAQI,GAEjB,MAAdF,EAAOvlB,IAAyB,MAAXwlB,IACvBD,EAAOvlB,GAAK,KAGdgmB,EAAOnB,EAAI7kB,IAGbqmB,EAAKvlB,EAAG+jB,EAAIC,EAAOO,EAAQrlB,GAC3BqmB,EAAKxB,EAAI/jB,EAAGukB,EAAQP,EAAO9kB,GAC3B,IAAIymB,EAAM3lB,EAAEd,GACR0mB,EAAO7B,GAAMA,EAAG7kB,GAChB2mB,EAASF,EAAIvmB,OACb0mB,EAAU/B,GAAM6B,EAAKxmB,OACzB4kB,EAAMzV,EAAIoX,EAAIE,EAAS,GACvB7B,EAAMxV,EAAImX,EAAIE,EAAS,GACvB7B,EAAMC,GAAK8B,WAAWJ,EAAIE,EAAS,KAAO7B,EAAMzV,EAChDyV,EAAME,GAAK6B,WAAWJ,EAAIE,EAAS,KAAO7B,EAAMxV,EAChD+V,EAAON,GAAKF,IAAOgC,WAAWH,EAAKE,EAAU,KAAOvB,EAAOhW,GAC3DgW,EAAOL,GAAKH,IAAOgC,WAAWH,EAAKE,EAAU,KAAOvB,EAAO/V,GAC3D+V,EAAOhW,EAAIwV,GAAM6B,EAAKE,EAAU,GAChCvB,EAAO/V,EAAIuV,GAAM6B,EAAKE,EAAU,GAGlC,OAAO/B,EAAK,CAAC/jB,EAAG+jB,GAAM/jB,E,cCrTjB,SAASgmB,GAAQC,GACtB,IAKIC,EALArV,EAAQoV,EAAMpV,MACdC,EAAMmV,EAAMnV,IACZ3M,EAAQ8hB,EAAM9hB,MACdsK,EAASwX,EAAMxX,OAInB,GAAIwX,EAAME,QAAS,CACjB,IAAIC,EAAaH,EAAMG,WACnBC,EAAWJ,EAAMI,SACjBC,EAASL,EAAMM,YACfpT,EAAS8S,EAAMO,aACnBN,EAAO,IAAI,UAAOO,IAAI,CACpBzC,MAAO,CACLzV,EAAG+X,EAAO/X,EACVC,EAAG8X,EAAO9X,EACVkY,GAAI,EACJC,GAAIxT,EAbG,IAcPiT,WAAYA,EACZC,SAAUD,MAGTQ,SAAW,CACdP,SAAUA,QAGZH,EAAO,IAAI,UAAOW,KAAK,CACrB7C,MAAO,CACLzV,EAAGsC,EAAMtC,EAxBF,IAyBPC,EAAGsC,EAAItC,EAzBA,IA0BPrK,MAAO8hB,EAAMa,aAAe3iB,EAAQsT,IAAa,EACjDhJ,OAAQwX,EAAMa,aAAe,EAAIrY,EAASgJ,OAI1CwO,EAAMa,aACRZ,EAAKU,SAAW,CACdnY,OAAQA,EAASgJ,KAGnByO,EAAKU,SAAW,CACdziB,MAAOA,EAAQsT,KAMrB,OADAyO,EAAKlW,IAAI,UAAU,GACZkW,EAEF,SAASa,GAAgBlN,EAAOoD,EAAGc,GACxC,IAAIiJ,EACJnN,EAAMna,MAAMud,GACZ,IAAI1O,EAAI0O,EAAE,GACNzO,EAAIyO,EAAE,GAEV,GAAe,MAAXc,EAAgB,CAClBlE,EAAMrK,UAAU,CAAC,CAAC,KAAMjB,GAAIC,GAAI,CAAC,IAAK,IAAM,GAAI,CAAC,IAAKD,EAAGC,KACzD,IAAIyY,EAASpN,EAAMqN,YACnBF,EAAe,GAAKxX,UAAUyX,EAAQ,CAAC,CAAC,KAAM1Y,GAAIC,GAAI,CAAC,IAAK,IAAK,GAAI,CAAC,IAAKD,EAAGC,UACzE,GAAe,MAAXuP,EAAgB,CACzBlE,EAAMrK,UAAU,CAAC,CAAC,KAAMjB,GAAIC,GAAI,CAAC,IAAK,EAAG,KAAO,CAAC,IAAKD,EAAGC,KACrDyY,EAASpN,EAAMqN,YACnBF,EAAe,GAAKxX,UAAUyX,EAAQ,CAAC,CAAC,KAAM1Y,GAAIC,GAAI,CAAC,IAAK,EAAG,KAAM,CAAC,IAAKD,EAAGC,UACzE,GAAe,OAAXuP,EAAiB,CAC1BlE,EAAMrK,UAAU,CAAC,CAAC,KAAMjB,GAAIC,GAAI,CAAC,IAAK,IAAM,KAAO,CAAC,IAAKD,EAAGC,KACxDyY,EAASpN,EAAMqN,YACnBF,EAAe,GAAKxX,UAAUyX,EAAQ,CAAC,CAAC,KAAM1Y,GAAIC,GAAI,CAAC,IAAK,IAAK,KAAM,CAAC,IAAKD,EAAGC,KAGlF,OAAOwY,EAEF,SAASG,GAAYtN,EAAO+M,EAAUQ,GAC3C,IAAI9Y,EAAKuL,EAAMvL,GAGXnJ,EA9FC,SAAyBiiB,EAAYnjB,EAAOqK,GACjD,MAAO,CACL+Y,MAAO,cAAaD,EAAWC,OAASD,EAAWC,MAAMpjB,EAAOqK,GAAM8Y,EAAWC,MACjFC,OAAQ,cAAaF,EAAWE,QAAUF,EAAWE,OAAOrjB,EAAOqK,GAAM8Y,EAAWE,OACpFC,SAAU,cAAaH,EAAWG,UAAYH,EAAWG,SAAStjB,EAAOqK,GAAM8Y,EAAWG,SAC1FC,SAAUJ,EAAWI,UAyFdC,CAAgBL,EAFbvN,EAAM+C,IAAI,SAEsBtO,GACxCgZ,EAASniB,EAAGmiB,OACZD,EAAQliB,EAAGkiB,MACXE,EAAWpiB,EAAGoiB,SACdC,EAAWriB,EAAGqiB,SAElB3N,EAAMsC,QAAQyK,EAAUW,EAAUD,EAAQE,EAAUH,GAE/C,SAASK,GAAerZ,EAAW+Y,EAAYnB,EAAO0B,EAAO7hB,GAClE,IAMIyI,EACAC,EAPArJ,EA/FC,SAAuB8gB,GAG5B,MAAO,CACLpV,MAHUoV,EAAMpV,MAIhBC,IAHQmV,EAAMnV,IAId3M,MAAO8hB,EAAM2B,WACbnZ,OAAQwX,EAAM2B,YAwFPC,CAAc5B,GACnBpV,EAAQ1L,EAAG0L,MACXC,EAAM3L,EAAG2L,IACT3M,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAIZyX,EAAO,IAAI,UAAOW,KAAK,CACzB7C,MAAO,CACLzV,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAOA,EACPsK,OAAQA,KAIC,MAAT3I,GACFyI,EAAIsC,EAAMtC,EAAIpK,EAAQ,EACtBqK,EAAImZ,EAAMnZ,EAAIqC,EAAMrC,EAAImZ,EAAMnZ,EAAIqC,EAAMrC,GACtB,MAAT1I,GACTyI,EAAIoZ,EAAMpZ,EAAIsC,EAAMtC,EAAIoZ,EAAMpZ,EAAIsC,EAAMtC,EACxCC,EAAIqC,EAAMrC,EAAIC,EAAS,GACL,OAAT3I,IACLmgB,EAAME,SACR5X,EAAI0X,EAAMM,YAAYhY,EACtBC,EAAIyX,EAAMM,YAAY/X,IAEtBD,GAAKsC,EAAMtC,EAAIuC,EAAIvC,GAAK,EACxBC,GAAKqC,EAAMrC,EAAIsC,EAAItC,GAAK,IAI5B,IAAIsZ,EAAYf,GAAgBb,EAAM,CAAC3X,EAAGC,EAAG,GAAI1I,GACjDogB,EAAKlW,IAAI,UAAU,GACnBkW,EAAKlW,IAAI,SAAU3B,EAAUuO,IAAI,WACjCvO,EAAU0Z,KAAK,OAAQ7B,GAEvBkB,EAAWI,SAAW,WACpBnZ,EAAU0Z,KAAK,OAAQ,MACvB7B,EAAKpW,UAGPqX,GAAYjB,EAAM,CAChBe,OAAQa,GACPV,GCrHL,SAASY,GAASnO,EAAOoM,GACvB,IAEII,EACAD,EAFA1T,EA7BN,SAAsBuV,GACpB,GAAI,WAAUA,GACZ,OAAO,KAGT,IAAIC,EAAOD,EAAO,GAAG1Z,EACjB4Z,EAAOF,EAAO,GAAG1Z,EACjB6Z,EAAOH,EAAO,GAAGzZ,EACjB6Z,EAAOJ,EAAO,GAAGzZ,EASrB,OAPA,QAAOyZ,GAAQ,SAAU/U,GACvBgV,EAAOA,EAAOhV,EAAM3E,EAAI2E,EAAM3E,EAAI2Z,EAClCC,EAAOA,EAAOjV,EAAM3E,EAAI2E,EAAM3E,EAAI4Z,EAClCC,EAAOA,EAAOlV,EAAM1E,EAAI0E,EAAM1E,EAAI4Z,EAClCC,EAAOA,EAAOnV,EAAM1E,EAAI0E,EAAM1E,EAAI6Z,KAG7B,CACLH,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,SAAUJ,EAAOC,GAAQ,EACzBI,SAAUH,EAAOC,GAAQ,GAMjBG,CADG3O,EAAMoO,QAAUpO,EAAM+C,IAAI,UAAUqL,QAI7CQ,EAAkBxC,EAAMG,WAExBsC,EADgBzC,EAAMI,SACMoC,EAYhC,OAVIxC,EAAMa,cACRT,EAAW3T,EAAI2V,KAAOK,EACtBtC,EAAa1T,EAAI0V,KAAOM,IAExBrC,EAAW3T,EAAIyV,KAAOO,EACtBtC,EAAa1T,EAAIwV,KAAOQ,GAKnB,CACLtC,WAFFA,GAAcqC,EAGZpC,SAJFA,GAAYoC,GAQd,SAASE,GAAS9O,EAAOuN,GACvB,IAAI1U,EAAMmH,EAAM+O,UACZX,EAASpO,EAAM+C,IAAI,UAAUqL,OAMjCd,GAAYtN,EAHG,CACboN,OAAQF,GAAgBlN,EAAO,EAHxBnH,EAAIwV,KAAOxV,EAAIyV,MAAQ,EACxBF,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,GAAK,EAAIkE,EAAI2V,KAAO3V,EAAI0V,KAEhB,GAAI,MAEfhB,GAG/B,SAASyB,GAAShP,EAAOuN,GACvB,IAAI1U,EAAMmH,EAAM+O,UACZX,EAASpO,EAAM+C,IAAI,UAAUqL,OAMjCd,GAAYtN,EAHG,CACboN,OAAQF,GAAgBlN,EAAO,CAHzBoO,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,EAAI,EAAIkE,EAAIyV,KAAOzV,EAAIwV,MAC9CxV,EAAI0V,KAAO1V,EAAI2V,MAAQ,EAEQ,GAAI,MAEfjB,GAgB/B,SAAS0B,GAAOjP,EAAOuN,EAAYnB,GACjC,IAAI1X,EACAC,EAEJ,GAAIyX,EAAME,SAA0B,UAAftM,EAAMjI,KACzBrD,EAAI0X,EAAMM,YAAYhY,EACtBC,EAAIyX,EAAMM,YAAY/X,MACjB,CACL,IAAIkE,EAAMmH,EAAM+O,UAChBra,GAAKmE,EAAIwV,KAAOxV,EAAIyV,MAAQ,EAC5B3Z,GAAKkE,EAAI0V,KAAO1V,EAAI2V,MAAQ,EAM9BlB,GAAYtN,EAHG,CACboN,OAAQF,GAAgBlN,EAAO,CAACtL,EAAGC,EAAG,GAAI,OAEf4Y,GA6B/B,SAAS2B,GAAOlP,EAAOuN,GACrB,GAA0B,SAAtBvN,EAAM+C,IAAI,QAAd,CAIA,IAAIb,EAAO,GAAoBlC,EAAMkO,KAAK,SAC1ClO,EAAMkO,KAAK,OAAQ,CAAChM,EAAK,KAIzBoL,GAAYtN,EAHG,CACbkC,KAAMA,GAEqBqL,IAoB/B,SAAS4B,GAAOnP,EAAOuN,EAAYnB,EAAOG,EAAYC,GACpD,IAEIO,EAFAV,EAAOF,GAAQC,GACfvX,EAASmL,EAAM+C,IAAI,UAGnBwJ,GAEFF,EAAK6B,KAAK,aAAc3B,GACxBF,EAAK6B,KAAK,WAAY3B,GACtBQ,EAAW,CACTP,SAAUA,IAGZO,EAAWV,EAAKU,SAGlBV,EAAKlW,IAAI,SAAUtB,GACnBmL,EAAMkO,KAAK,OAAQ7B,GACnBrM,EAAMoP,UAAU,aAAa,GAE7B7B,EAAWI,SAAW,WAChB3N,IAAUA,EAAM+C,IAAI,eACtB/C,EAAMkO,KAAK,OAAQ,MACnBlO,EAAMoP,UAAU,aAAc,MAC9BpP,EAAMoP,UAAU,aAAa,GAC7B/C,EAAKpW,WAITqX,GAAYjB,EAAMU,EAAUQ,GAG9B,SAAS8B,GAAOrP,EAAOuN,GACrB,IAAI7U,EAAc,SAAQsH,EAAMkO,KAAK,gBAAkB,EAAIlO,EAAMkO,KAAK,eAClEtU,EAAgB,SAAQoG,EAAMkO,KAAK,kBAAoB,EAAIlO,EAAMkO,KAAK,iBAC1ElO,EAAMkO,KAAK,cAAe,GAC1BlO,EAAMkO,KAAK,gBAAiB,GAK5BZ,GAAYtN,EAJG,CACbtH,YAAaA,EACbkB,cAAeA,GAEY2T,GAgB/B,SAAS+B,GAAMtP,EAAOuN,EAAYnB,GAChC,IAAI9gB,EAAK6iB,GAASnO,EAAOoM,GAIzB+C,GAAOnP,EAAOuN,EAAYnB,EAHT9gB,EAAGihB,WACLjhB,EAAGkhB,UAgCpB,IAAI+C,GAAS,CACXC,MAAO,CACLL,OAAQA,GACRF,OAAQA,GACRC,OAAQA,GACRJ,SAAUA,GACVE,SAAUA,GACVM,MAAOA,GACPD,OAAQA,IAEVI,MAAO,CACLC,aA/LJ,SAAsB1P,EAAOuN,GAM3BA,EAAWI,SAAW,WACpB,OAAO3N,EAAM/J,UAGfqX,GAAYtN,EATG,CACbxH,UAAW,EACXmB,QAAS,GAOkB4T,IAsL3BoC,QAhKJ,SAAiB3P,EAAOuN,EAAYnB,GAClC,IAAI1X,EACAC,EAEJ,GAAIyX,EAAME,SAA0B,UAAftM,EAAMjI,KACzBrD,EAAI0X,EAAMM,YAAYhY,EACtBC,EAAIyX,EAAMM,YAAY/X,MACjB,CACL,IAAIkE,EAAMmH,EAAM+O,UAChBra,GAAKmE,EAAIwV,KAAOxV,EAAIyV,MAAQ,EAC5B3Z,GAAKkE,EAAI0V,KAAO1V,EAAI2V,MAAQ,EAG9B,IAAIpL,EAAI,CAAC1O,EAAGC,EAAG,GACfqL,EAAMna,MAAMud,GACZ,IAAI2J,EAAW,CACbpX,UAAW,CAAC,CAAC,KAAMjB,GAAIC,GAAI,CAAC,IAAK,IAAM,KAAO,CAAC,IAAKD,EAAGC,KAGzD4Y,EAAWI,SAAW,WACpB,OAAO3N,EAAM/J,UAGfqX,GAAYtN,EAAO+M,EAAUQ,IA0I3BqC,QA1HJ,SAAiB5P,EAAOuN,GACtB,GAA0B,SAAtBvN,EAAM+C,IAAI,QAAd,CAIA,IACIgK,EAAW,CACb7K,KAAM,CAFG,GAAoBlC,EAAMkO,KAAK,SAE5B,KAGdX,EAAWI,SAAW,WACpB,OAAO3N,EAAM/J,UAGfqX,GAAYtN,EAAO+M,EAAUQ,KA6G3BsC,QA9DJ,SAAiB7P,EAAOuN,GAMtBA,EAAWI,SAAW,WACpB,OAAO3N,EAAM/J,UAGfqX,GAAYtN,EATG,CACbtH,YAAa,EACbkB,cAAe,GAOY2T,IAqD3B8B,OAAQA,IAEVS,OAAQ,CACNX,OAAQA,GACRF,OAAQA,GACRC,OAAQA,GACRJ,SAAUA,GACVE,SAAUA,GACVM,MAAOA,GACPD,OAAQA,GACRU,YAxCJ,SAAqBvb,EAAW+Y,EAAYnB,GAC1C,IAAIC,EAAOF,GAAQC,GACnBC,EAAKlW,IAAI,SAAU3B,EAAUuO,IAAI,WACjCvO,EAAU0Z,KAAK,OAAQ7B,GAEvBkB,EAAWI,SAAW,WACpBnZ,EAAU0Z,KAAK,OAAQ,MACvB7B,EAAKpW,UAGP,IAAI8W,EAAWV,EAAKU,SACpBO,GAAYjB,EAAMU,EAAUQ,IA8B1ByC,cArDJ,SAAuBxb,EAAW+Y,EAAYnB,EAAO0B,GACnDD,GAAerZ,EAAW+Y,EAAYnB,EAAO0B,EAAO,MAqDlDmC,cAlDJ,SAAuBzb,EAAW+Y,EAAYnB,EAAO0B,GACnDD,GAAerZ,EAAW+Y,EAAYnB,EAAO0B,EAAO,MAkDlDoC,eA/CJ,SAAwB1b,EAAW+Y,EAAYnB,EAAO0B,GACpDD,GAAerZ,EAAW+Y,EAAYnB,EAAO0B,EAAO,QAgDpDqC,OAAQ,CACNd,OAAQA,GACRC,MAAOA,KAIX,QAAOC,IAAQ,SAAUnM,GACvB,QAAOA,GAAG,SAAUd,EAASvK,GAE3BuK,EAAQ8N,cAAgBrY,QAIb,UC3SXsY,GAAsB,CACxBP,OAAQ,CACNpC,SAAU,IACVD,OAAQ,eAEV0C,OAAQ,CACNzC,SAAU,IACVD,OAAQ,iBAEV+B,MAAO,CACL9B,SAAU,IACVD,OAAQ,gBACRD,MAAO,KAETiC,MAAO,CACL/B,SAAU,IACVD,OAAQ,eAGR6C,GAAU,CACZpX,KAAM,CACJ4W,OAAQ,WACN,OAAO,GAAOA,OAAOC,aAEvBP,MAAO,WACL,OAAO,GAAOA,MAAML,QAEtBM,MAAO,WACL,OAAO,GAAOA,MAAMC,eAGxBxN,KAAM,CACJ4N,OAAQ,WACN,OAAO,GAAOA,OAAOC,aAEvBP,MAAO,WACL,OAAO,GAAOA,MAAML,QAEtBM,MAAO,WACL,OAAO,GAAOA,MAAMC,eAGxBnX,KAAM,CACJuX,OAAQ,WACN,OAAO,GAAOA,OAAOC,aAEvBP,MAAO,WACL,OAAO,GAAOA,MAAMH,QAEtBI,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtB7a,IAAK,CACH8a,OAAQ,CACNpC,SAAU,IACVD,OAAQ,eAEV0C,OAAQ,CACNzC,SAAU,IACVD,OAAQ,iBAEV+B,MAAO,CACL9B,SAAU,IACVF,MAAO,IACPC,OAAQ,iBAEVgC,MAAO,CACLhC,OAAQ,cACRC,SAAU,OAIhBvU,QAAS,CACP2W,OAAQ,WACN,OAAO,GAAOA,OAAOT,QAEvBG,MAAO,WACL,OAAO,GAAOA,MAAMP,QAEtBQ,MAAO,WACL,OAAO,GAAOA,MAAME,UAGxB7W,KAAM,CACJgX,OAAQ,WACN,OAAO,GAAOA,OAAOZ,QAEvBM,MAAO,WACL,OAAO,GAAOA,MAAMN,QAEtBO,MAAO,WACL,OAAO,GAAOA,MAAMG,UAGxB7W,SAAU,CACR+W,OAAQ,SAAgB1D,GACtB,IAAI7iB,EAcJ,OAZI6iB,EAAME,SAER/iB,EAAS,GAAOumB,OAAOI,eAEnB9D,EAAMa,eAER1jB,EAAS,GAAOumB,OAAOC,cAGzBxmB,EAAS6iB,EAAMa,aAAe,GAAO6C,OAAOE,cAAgB,GAAOF,OAAOG,cAGrE1mB,GAETimB,MAAO,SAAepD,GACpB,OAAIA,EAAMmE,QAAUnE,EAAMa,cAA+B,UAAfb,EAAMngB,KACvC,GAAOujB,MAAMH,OAGf,GAAOG,MAAMP,QAEtBQ,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtBM,OAAQ,SAAgB/D,GACtB,GAAmB,UAAfA,EAAMngB,KACR,OAAO,GAAOkkB,OAAOb,QAI3BjW,MAAO,CACLyW,OAAQ,WACN,OAAO,GAAOA,OAAOb,QAEvBO,MAAO,WACL,OAAO,GAAOA,MAAMP,QAEtBQ,MAAO,WACL,OAAO,GAAOA,MAAME,UAGxBnW,KAAM,CACJsW,OAAQ,WACN,OAAO,GAAOA,OAAOb,QAEvBO,MAAO,WACL,OAAO,GAAOA,MAAMP,QAEtBQ,MAAO,WACL,OAAO,GAAOA,MAAME,UAGxB1W,MAAO,CACL6W,OAAQ,WACN,OAAO,GAAOA,OAAOC,aAEvBP,MAAO,WACL,OAAO,GAAOA,MAAML,QAEtBM,MAAO,WACL,OAAO,GAAOA,MAAMC,eAGxB7W,IAAK,CACHiX,OAAQ,WACN,OAAO,GAAOA,OAAOC,aAEvBP,MAAO,WACL,OAAO,GAAOA,MAAML,QAEtBM,MAAO,WACL,OAAO,GAAOA,MAAMC,eAGxBc,QAAS,KACTzV,MAAO,CACL+U,OAAQ,WACN,OAAO,GAAOA,OAAOT,QAEvBG,MAAO,WACL,OAAO,GAAOA,MAAMH,QAEtBI,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtB7a,IAAK,CACH8a,OAAQ,CACNpC,SAAU,OAIhB,aAAc,CACZ8B,MAAO,WACL,OAAO,GAAOM,OAAOT,QAEvBI,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtBM,OAAQ,SAAgB/D,GACtB,GAAIA,EAAME,QACR,OAAO,GAAOwD,OAAOT,SAI3B,aAAc,CACZG,MAAO,WACL,OAAO,GAAOM,OAAOT,QAEvBI,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtBM,OAAQ,SAAgB/D,GACtB,GAAIA,EAAME,QACR,OAAO,GAAOwD,OAAOT,SAI3B,YAAa,CACXG,MAAO,WACL,OAAO,GAAOM,OAAOT,QAEvBI,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtBM,OAAQ,SAAgB/D,GACtB,GAAIA,EAAME,QACR,OAAO,GAAOwD,OAAOT,SAI3B,iBAAkB,CAChBG,MAAO,WACL,OAAO,GAAOM,OAAOT,QAEvBI,MAAO,WACL,OAAO,GAAOA,MAAMI,SAEtBM,OAAQ,WACN,OAAO,GAAOV,MAAMJ,UAI1BiB,GAAQf,OAAS,GACjBe,GAAQG,WAAaJ,GAErBC,GAAQI,aAAe,SAAUC,EAAavE,EAAOwE,GACnD,IAAIC,EAAoB/qB,KAAK6qB,GAE7B,GAAIE,EAAmB,CACrB,IAAIC,EAAYD,EAAkBD,GAElC,GAAI,cAAaE,GACf,OAAOA,EAAU1E,GAIrB,OAAO,GAITkE,GAAQS,cAAgB,SAAUJ,EAAaC,GAC7C,IAAIH,EAAaJ,GAAoBO,GAErC,OAAI9qB,KAAK6qB,IAAgB7qB,KAAK6qB,GAAa3b,KAAOlP,KAAK6qB,GAAa3b,IAAI4b,GAC/D,WAAU,GAAIH,EAAY3qB,KAAK6qB,GAAa3b,IAAI4b,IAGlDH,GAITH,GAAQU,kBAAoB,SAAUJ,EAAeR,EAAea,GAC7DnrB,KAAKypB,OAAOqB,KACf9qB,KAAKypB,OAAOqB,GAAiB,IAG/B9qB,KAAKypB,OAAOqB,GAAeR,GAAiBa,GAG/B,UCnRf,SAASC,GAAU1c,EAAW2c,GAC5B,IAAInV,EAAS,GAEb,IAAiC,IAA7BxH,EAAUuO,IAAI,WAChB,MAAO,GAGT,IAAI3W,EAAWoI,EAAUuO,IAAI,YAmB7B,OAjBA,QAAO3W,GAAU,SAAUglB,GAGzB,GAAIA,EAAMC,QAERrV,EAASA,EAAO7U,OAAO+pB,GAAUE,EAAOD,SACnC,GAAIC,EAAME,SAAWF,EAAM3c,GAAI,CAEpC,IAAIA,EAAK2c,EAAM3c,IACfA,EAAKA,EAAGkV,MAAM,KAAK,MAERwH,GACTnV,EAAO1F,KAAK8a,OAKXpV,EAgCT,SAASuV,GAAWZ,EAAavE,EAAOwE,EAAeR,GASrD,OANIA,EACO,GAAQb,OAAOqB,GAAeR,GAE9B,GAAQM,aAAaC,EAAavE,EAAOwE,GAMtD,SAASG,GAAcJ,EAAaC,EAAerD,GAEjD,IAAmB,IAAfA,GAAwB,YAAWA,KAA6C,IAA9BA,EAAWqD,GAC/D,OAAO,KAGT,IAAIH,EAAa,GAAQM,cAAcJ,EAAaC,GAEpD,OAAIrD,GAAcA,EAAWqD,GACpB,WAAU,GAAIH,EAAYlD,EAAWqD,IAGvCH,EA6MM,QACbe,cArFF,SAAuB3d,EAAM4d,GAC3B,IAAIC,EAAcD,EAEdE,EAAa9d,EAAKkP,IAAI,cACtB6O,EAAkB/d,EAAKkP,IAAI,mBAC3BoO,EAAStd,EAAKkP,IAAI,MAClBlO,EAAShB,EAAKkP,IAAI,UAClB8O,EAAShd,EAAOkO,IAAIoO,EAAS,WAAa,GAExB,IAAlBU,EAAOtsB,SACTmsB,GAAc,GAGhB,IAIII,EAJA9V,EAASkV,GAAUS,EAAYR,GAC/BY,EAAab,GAAUU,EAAiBT,GACxCa,EAAchW,EAAO7U,OAAO4qB,GAIhC,GAHAld,EAAOua,UAAU+B,EAAS,SAzL5B,SAAenV,GACb,IAAIiW,EAAM,GAoBV,OAlBA,QAAOjW,GAAQ,SAAUgE,GACvB,GAAKA,EAAMvL,KAAMuL,EAAM+C,IAAI,UAA3B,CAIA,IAAItO,EAAKuL,EAAMvL,GACfwd,EAAIxd,GAAM,CACRA,GAAIA,EACJxI,KAAM+T,EAAM+C,IAAI,QAChBoH,MAAO,SAAQnK,EAAMkO,QAErBnW,KAAMiI,EAAMjI,KACZ3N,MAAO4V,EAAM+C,IAAI,SACjBwK,WAAYvN,EAAM+C,IAAI,kBACtBqJ,MAAOpM,EAAM+C,IAAI,cAIdkP,EAoK6B,CAAMD,IAGtCN,EAEFI,EAtIJ,SAAoBI,EAAYlW,EAAQnH,GACtC,IAAIyN,EACAiL,EACA4E,GAAc,EAEdC,EAAe,GAEfC,EAAY,GAiGhB,OA/FA,QAAOrW,GAAQ,SAAUgE,GACvB,IAAIzW,EAAS2oB,EAAWlS,EAAMvL,IAEzBlL,GAGHyW,EAAMoP,UAAU,aAAc7lB,GAC9B6oB,EAAa9b,KAAK0J,UACXkS,EAAWlS,EAAMvL,KAJxB4d,EAAU/b,KAAK0J,MAQnB,QAAOkS,GAAY,SAAUI,GAC3B,IAAIva,EAAOua,EAAava,KACpBqU,EAAQkG,EAAalG,MACrB3X,EAAK6d,EAAa7d,GAClB0V,EAAQmI,EAAanI,MACrB/f,EAAQkoB,EAAaloB,MACrB6B,EAAOqmB,EAAarmB,KAGxB,KAFAshB,EAAawD,GAAchZ,EAAM,QAASua,EAAa/E,aAGrD,OAAO,EAMT,GAFAjL,EAAUiP,GAAWxZ,EAAMqU,EAAO,QAASmB,EAAWuD,WAElD,cAAaxO,GAAU,CACzB,IAAIiQ,EAAY1d,EAAO2d,SAASvmB,EAAM,CACpCke,MAAOA,EACP/f,MAAOA,IAKT,GAHAmoB,EAAU9d,GAAKA,EACf8d,EAAUxa,KAAOA,EAEbqU,GAAkB,UAATrU,EAAkB,CAC7B,IAAI0a,EAAkBF,EAAUlF,YAC5BqF,EAAc,GAAKC,SAAS,GAAIF,EAAiBrG,EAAMgB,QAC3DmF,EAAUK,UAAUF,GAGtBP,GAAc,EACd7P,EAAQiQ,EAAWhF,EAAYnB,OAInC,QAAOgG,GAAc,SAAUS,GAC7B,IAAI9a,EAAO8a,EAAY9a,KAGvB,KAFAwV,EAAawD,GAAchZ,EAAM,SAAU8a,EAAY9P,IAAI,oBAGzD,OAAO,EAIT,IAAIqJ,EAAQyG,EAAY9P,IAAI,SACxB+P,EAAaD,EAAY9P,IAAI,cAAcoH,MAE/C,IAAK,WAAU2I,EAAYD,EAAY3E,QAAS,CAG9C,GAFA5L,EAAUiP,GAAWxZ,EAAMqU,EAAO,SAAUmB,EAAWuD,WAEnD,cAAaxO,GACfA,EAAQuQ,EAAatF,EAAYnB,OAC5B,CACL,IAAIW,EAAW,SAAQ8F,EAAY3E,QAEnC2E,EAAY3E,KAAK4E,GACjBD,EAAYvQ,QAAQyK,EAAUQ,EAAWG,SAAUH,EAAWE,QAAQ,WACpEoF,EAAYzD,UAAU,aAAc,SAIxC+C,GAAc,MAIlB,QAAOE,GAAW,SAAUU,GAC1B,IAAIhb,EAAOgb,EAAShb,KAChBqU,EAAQ2G,EAAShQ,IAAI,SAGzB,KAFAwK,EAAawD,GAAchZ,EAAM,QAASgb,EAAShQ,IAAI,oBAGrD,OAAO,EAITT,EAAUiP,GAAWxZ,EAAMqU,EAAO,QAASmB,EAAWuD,WAElD,cAAaxO,KACfA,EAAQyQ,EAAUxF,EAAYnB,GAC9B+F,GAAc,MAIXA,EA8BGa,CAAWnB,EAAQG,EAAand,OACnC,CAGL,IAAIoe,EACAC,EACAC,EAAWtf,EAAKkP,IAAI,YACpBqQ,EAAUvf,EAAKkP,IAAI,SAEvB,QAAOoQ,GAAU,SAAUllB,GACzB,IAAIhC,EAAOgC,EAAQ8U,IAAI,QACnBsQ,EAAuBplB,EAAQ8U,IAAI,kBAEvC,IAA6B,IAAzBsQ,EAAgC,CAIlC,KAFAJ,EAAelC,GAAc9kB,EAAM,SAAUonB,IAG3C,OAAO,EAMT,GAFAH,EAAY3B,GAAWtlB,EAAMmnB,EAAS,SAAUH,EAAanC,WAEzD,cAAaoC,GACf,GAAiD,IAA7CA,EAAU9C,cAAchqB,QAAQ,SAAgB,CAElD,IAAIktB,EAASrlB,EAAQslB,YACjBzF,EAAQsF,EAAQI,aAAa,CAC/B9e,EAAG,EACHC,EAAG2e,EAAOG,MAAMxlB,EAAQylB,kBAEtBlf,EAAYvG,EAAQ8U,IAAI,aAC5BmQ,GAAaA,EAAU1e,EAAWye,EAAcG,EAAStF,OACpD,CACL,IAAI6F,EAAWzC,GAAUjjB,EAAQ8U,IAAI,aAAcoO,GAEnD,QAAOwC,GAAU,SAAU3T,GACrBA,EAAMjI,OAAS9L,EAEjBinB,EAAUlT,EAAOiT,EAAcG,GACP,UAAfpT,EAAMjI,OACfkb,EAAelC,GAAc,QAAS,SAAU,MAChDmC,EAAY3B,GAAWvR,EAAMjI,KAAMqb,EAAS,SAAUH,EAAanC,WAE/D,cAAaoC,IACfA,EAAUlT,EAAOiT,EAAcG,YAS7CtB,GAAQ,EAGLA,GACHjd,EAAOe,S,UClSPge,GAAc,GAgBX,SAASC,GAAmBpuB,EAAKquB,GACtCF,GAAYnuB,GAAOquB,ECdrB,IAyJe,GAvJf,WACE,SAASC,EAAM/e,GAIblP,KAAKmG,KAAO,OAKZnG,KAAKkuB,YAAa,EAKlBluB,KAAKmuB,UAAW,EAKhBnuB,KAAKouB,cAAe,EAKpBpuB,KAAKquB,YAAa,EAClBruB,KAAKsuB,OAAS,GACdtuB,KAAKuuB,MAAQ,CAAC,EAAG,GACjBvuB,KAAKwuB,MAAQ,GACbxuB,KAAKyuB,QAAUvf,EACflP,KAAK0uB,UACL1uB,KAAKoP,OAqHP,OAjHA6e,EAAMruB,UAAU+uB,UAAY,SAAUrR,GACpC,OAAOA,GAKT2Q,EAAMruB,UAAUgvB,OAAS,SAAU1f,GAEjC,kBAAOlP,KAAKyuB,QAASvf,GACrBlP,KAAKoP,QAGP6e,EAAMruB,UAAUivB,MAAQ,WACtB,OAAO7uB,KAAKoC,YAAYpC,KAAKyuB,UAK/BR,EAAMruB,UAAUkvB,SAAW,WACzB,IAAI5pB,EAAQlF,KAEZ,OAAO,eAAIA,KAAKwuB,OAAO,SAAU9T,EAAMhK,GACrC,OAAI,oBAASgK,GAEJA,EAGF,CACLhH,KAAMxO,EAAM6pB,QAAQrU,EAAMhK,GAC1Bse,UAAWtU,EACX9Z,MAAOsE,EAAMyoB,MAAMjT,QAOzBuT,EAAMruB,UAAUmvB,QAAU,SAAUnuB,EAAOjB,GACzC,IAAIsvB,EAAYjvB,KAAKivB,UACjB5O,EAAM4O,EAAYA,EAAUruB,EAAOjB,GAAOiB,EAE9C,OAAI,iBAAMyf,KAAS,sBAAWA,EAAI9c,UACzB,GAGF8c,EAAI9c,YAIb0qB,EAAMruB,UAAUsvB,UAAY,SAAUvvB,GACpC,OAAOK,KAAKyuB,QAAQ9uB,IAItBsuB,EAAMruB,UAAUwP,KAAO,WACrB,kBAAOpP,KAAMA,KAAKyuB,SAClBzuB,KAAKmvB,YAED,mBAAQnvB,KAAKkvB,UAAU,YACzBlvB,KAAKwuB,MAAQxuB,KAAKovB,mBAKtBnB,EAAMruB,UAAU8uB,QAAU,aAE1BT,EAAMruB,UAAUuvB,UAAY,aAE5BlB,EAAMruB,UAAUwvB,eAAiB,WAC/B,IAAIC,EAAarvB,KAAKqvB,WAClBb,EAAQ,GAEZ,GAAI,oBAASa,GAAa,CACxB,IAAIrB,EDzGDF,GCyGwBuB,GAE3B,IAAKrB,EACH,MAAM,IAAIpY,MAAM,6CAGlB4Y,EAAQR,EAAOhuB,WACN,sBAAWqvB,KACpBb,EAAQa,EAAWrvB,OAGrB,OAAOwuB,GAITP,EAAMruB,UAAU0vB,SAAW,WACzB,OAAO,gBAAKtvB,KAAKuuB,QAInBN,EAAMruB,UAAU2vB,SAAW,WACzB,OAAO,gBAAKvvB,KAAKuuB,QAKnBN,EAAMruB,UAAU4vB,YAAc,SAAU5uB,EAAO6uB,EAAK9J,GAClD,OAAI,oBAAS/kB,IACHA,EAAQ6uB,IAAQ9J,EAAM8J,GAGzBC,KAKTzB,EAAMruB,UAAU+vB,UAAY,SAAUC,EAASH,EAAK9J,GAClD,OAAO8J,EAAMG,GAAWjK,EAAM8J,IAGzBxB,EApJT,GCqFe,GAhFf,SAAUhpB,GAGR,SAAS4qB,IACP,IAAI3qB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,MACbjB,EAAMgpB,YAAa,EACZhpB,EAqET,OA5EA,qBAAU2qB,EAAU5qB,GAUpB4qB,EAASjwB,UAAU+uB,UAAY,SAAU/tB,GACvC,IAAI0D,EAAQ,mBAAQtE,KAAKsuB,OAAQ1tB,GAEjC,OAAe,IAAX0D,EACK,oBAAS1D,GAASA,EAAQ8uB,IAG5BprB,GAGTurB,EAASjwB,UAAU+tB,MAAQ,SAAU/sB,GACnC,IAAIkvB,EAAQ9vB,KAAK2uB,UAAU/tB,GAKvBgvB,EAAU5vB,KAAKwvB,YAAYM,EAAO9vB,KAAKyvB,IAAKzvB,KAAK2lB,KACrD,OAAO3lB,KAAK2vB,UAAUC,EAAS5vB,KAAKsvB,WAAYtvB,KAAKuvB,aAGvDM,EAASjwB,UAAUmwB,OAAS,SAAUC,GACpC,IAAIC,EAAcjwB,KAAK2lB,IAAM3lB,KAAKyvB,IAC9BG,EAAU5vB,KAAKwvB,YAAYQ,EAAahwB,KAAKsvB,WAAYtvB,KAAKuvB,YAC9D7e,EAAMwN,KAAKgS,MAAMD,EAAcL,GAAW5vB,KAAKyvB,IAEnD,OAAI/e,EAAM1Q,KAAKyvB,KAAO/e,EAAM1Q,KAAK2lB,IACxB+J,IAGF1vB,KAAKsuB,OAAO5d,IAGrBmf,EAASjwB,UAAUmvB,QAAU,SAAUnuB,GAGrC,IAFA,IAAIuvB,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,EAAK,GAAK5wB,UAAU4wB,GAG3B,IAAI9S,EAAI1c,EAMR,OAJI,oBAASA,KAAWZ,KAAKsuB,OAAO+B,SAASzvB,KAC3C0c,EAAItd,KAAKsuB,OAAOhR,IAGXrY,EAAOrF,UAAUmvB,QAAQhvB,MAAMC,KAAM,0BAAe,CAACsd,GAAI6S,KAIlEN,EAASjwB,UAAU8uB,QAAU,WAC3B1uB,KAAKqvB,WAAa,OAIpBQ,EAASjwB,UAAUuvB,UAAY,WAM7B,GAJI,iBAAMnvB,KAAKkvB,UAAU,UACvBlvB,KAAKyvB,IAAM,GAGT,iBAAMzvB,KAAKkvB,UAAU,QAAS,CAChC,IAAIhpB,EAAOlG,KAAKsuB,OAAO7uB,OACvBO,KAAK2lB,IAAMzf,EAAO,EAAIA,EAAO,EAAIA,IAI9B2pB,EA7ET,CA8EE,ICpFES,GAAQ,GACRC,GAAQ,2EAIRC,GAAO,UACPC,GAAU,gBAEVC,GAAO,aAMX,SAASC,GAAQC,EAAKC,GAGpB,IAFA,IAAIC,EAAS,GAEJvxB,EAAI,EAAGse,EAAM+S,EAAInxB,OAAQF,EAAIse,EAAKte,IACzCuxB,EAAOtgB,KAAKogB,EAAIrxB,GAAGwxB,OAAO,EAAGF,IAG/B,OAAOC,EAGT,SAASE,GAAYC,GACnB,OAAO,SAAUrS,EAAGtB,EAAG4T,GACrB,IAAI5sB,EAAQ4sB,EAAKD,GAAS3wB,QAAQgd,EAAE6T,OAAO,GAAGtQ,cAAgBvD,EAAEyT,OAAO,GAAGze,gBAErEhO,IACHsa,EAAE9V,MAAQxE,IAKhB,SAAS8sB,GAAIC,EAAKxT,GAIhB,IAHAwT,EAAM3R,OAAO2R,GACbxT,EAAMA,GAAO,EAENwT,EAAI5xB,OAASoe,GAClBwT,EAAM,IAAMA,EAGd,OAAOA,EAGT,IAAIC,GAAW,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC9EC,GAAa,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC5HC,GAAkBb,GAAQY,GAAY,GACtCE,GAAgBd,GAAQW,GAAU,GACtChB,GAAMY,KAAO,CACXO,cAAeA,GACfH,SAAUA,GACVE,gBAAiBA,GACjBD,WAAYA,GACZG,KAAM,CAAC,KAAM,MACbC,KAAM,SAAcC,GAClB,OAAOA,EAAI,CAAC,KAAM,KAAM,KAAM,MAAMA,EAAI,GAAK,EAAI,GAAKA,EAAIA,EAAI,KAAO,IAAMA,EAAI,MAGnF,IAAIC,GAAc,CAChBD,EAAG,SAAWE,GACZ,OAAOA,EAAQC,WAEjBC,GAAI,SAAYF,GACd,OAAOV,GAAIU,EAAQC,YAErBE,GAAI,SAAYH,EAASZ,GACvB,OAAOA,EAAKS,KAAKG,EAAQC,YAE3BnT,EAAG,SAAWkT,GACZ,OAAOA,EAAQI,UAEjBC,GAAI,SAAYL,GACd,OAAOV,GAAIU,EAAQI,WAErBE,IAAK,SAAaN,EAASZ,GACzB,OAAOA,EAAKO,cAAcK,EAAQI,WAEpCG,KAAM,SAAcP,EAASZ,GAC3B,OAAOA,EAAKI,SAASQ,EAAQI,WAE/BI,EAAG,SAAWR,GACZ,OAAOA,EAAQS,WAAa,GAE9BC,GAAI,SAAYV,GACd,OAAOV,GAAIU,EAAQS,WAAa,IAElCE,IAAK,SAAaX,EAASZ,GACzB,OAAOA,EAAKM,gBAAgBM,EAAQS,aAEtCG,KAAM,SAAcZ,EAASZ,GAC3B,OAAOA,EAAKK,WAAWO,EAAQS,aAEjCI,GAAI,SAAYb,GACd,OAAOV,GAAI1R,OAAOoS,EAAQc,eAAgB,GAAG7B,OAAO,IAEtD8B,KAAM,SAAcf,GAClB,OAAOV,GAAIU,EAAQc,cAAe,IAEpC3iB,EAAG,SAAW6hB,GACZ,OAAOA,EAAQgB,WAAa,IAAM,IAEpCC,GAAI,SAAYjB,GACd,OAAOV,GAAIU,EAAQgB,WAAa,IAAM,KAExCE,EAAG,SAAWlB,GACZ,OAAOA,EAAQgB,YAEjBG,GAAI,SAAYnB,GACd,OAAOV,GAAIU,EAAQgB,aAErBlV,EAAG,SAAWkU,GACZ,OAAOA,EAAQoB,cAEjBC,GAAI,SAAYrB,GACd,OAAOV,GAAIU,EAAQoB,eAErBhzB,EAAG,SAAW4xB,GACZ,OAAOA,EAAQsB,cAEjBC,GAAI,SAAYvB,GACd,OAAOV,GAAIU,EAAQsB,eAErBE,EAAG,SAAWxB,GACZ,OAAO5T,KAAKgS,MAAM4B,EAAQyB,kBAAoB,MAEhDC,GAAI,SAAY1B,GACd,OAAOV,GAAIlT,KAAKgS,MAAM4B,EAAQyB,kBAAoB,IAAK,IAEzDE,IAAK,SAAa3B,GAChB,OAAOV,GAAIU,EAAQyB,kBAAmB,IAExClW,EAAG,SAAWyU,EAASZ,GACrB,OAAOY,EAAQgB,WAAa,GAAK5B,EAAKQ,KAAK,GAAKR,EAAKQ,KAAK,IAE5DgC,EAAG,SAAW5B,EAASZ,GACrB,OAAOY,EAAQgB,WAAa,GAAK5B,EAAKQ,KAAK,GAAG7Q,cAAgBqQ,EAAKQ,KAAK,GAAG7Q,eAE7E8S,GAAI,SAAY7B,GACd,IAAIlvB,EAAIkvB,EAAQ8B,oBAChB,OAAQhxB,EAAI,EAAI,IAAM,KAAOwuB,GAAmC,IAA/BlT,KAAK2V,MAAM3V,KAAKsE,IAAI5f,GAAK,IAAYsb,KAAKsE,IAAI5f,GAAK,GAAI,KAGxFkxB,GAAa,CACflC,EAAG,CA9IW,UA8IC,SAAUhT,EAAGtB,GAC1BsB,EAAEhW,IAAM0U,IAEV2U,GAAI,CAjJU,UAiJGzB,GAAM,SAAU5R,EAAGtB,GAClCsB,EAAEhW,IAAMmrB,SAASzW,EAAG,MAEtBgV,EAAG,CApJW,UAoJC,SAAU1T,EAAGtB,GAC1BsB,EAAE9V,MAAQwU,EAAI,IAEhBqV,GAAI,CAvJU,UAuJE,SAAU/T,EAAGtB,GAC3B,IACI0W,IAAS,IADJ,IAAI1wB,MACQsvB,eAAe7B,OAAO,EAAG,GAC9CnS,EAAE7V,KAAO,IAAMuU,EAAI,GAAK0W,EAAO,EAAIA,GAAQ1W,IAE7CrN,EAAG,CA5JW,UA4JC,SAAU2O,EAAGtB,GAC1BsB,EAAEjW,KAAO2U,IAEXM,EAAG,CA/JW,UA+JC,SAAUgB,EAAGtB,GAC1BsB,EAAEqV,OAAS3W,IAEbpd,EAAG,CAlKW,UAkKC,SAAU0e,EAAGtB,GAC1BsB,EAAEpW,OAAS8U,IAEbuV,KAAM,CAnKS,SAmKI,SAAUjU,EAAGtB,GAC9BsB,EAAE7V,KAAOuU,IAEXgW,EAAG,CAAC,MAAO,SAAU1U,EAAGtB,GACtBsB,EAAEsV,YAAkB,IAAJ5W,IAElBkW,GAAI,CAAC,SAAU,SAAU5U,EAAGtB,GAC1BsB,EAAEsV,YAAkB,GAAJ5W,IAElBmW,IAAK,CA7KW,SA6KG,SAAU7U,EAAGtB,GAC9BsB,EAAEsV,YAAc5W,IAElBsB,EAAG,CAjLW,UAiLC8R,IACf0B,IAAK,CAAC5B,GAAME,IACZ+B,IAAK,CAACjC,GAAMQ,GAAY,oBACxB0B,KAAM,CAAClC,GAAMQ,GAAY,eACzB3T,EAAG,CAACmT,GAAM,SAAU5R,EAAGtB,EAAG4T,GACxB,IAAIG,EAAM/T,EAAEhL,cAER+e,IAAQH,EAAKQ,KAAK,GACpB9S,EAAEuV,MAAO,EACA9C,IAAQH,EAAKQ,KAAK,KAC3B9S,EAAEuV,MAAO,KAGbR,GAAI,CAAC,2CAA4C,SAAU/U,EAAGtB,GAC5D,IACI8W,EADAC,GAAS/W,EAAI,IAAIgX,MAAM,iBAGvBD,IACFD,EAAuB,GAAXC,EAAM,GAAWN,SAASM,EAAM,GAAI,IAChDzV,EAAE2V,eAA8B,MAAbF,EAAM,GAAaD,GAAWA,MAIvDN,GAAW3B,GAAK2B,GAAWlV,EAC3BkV,GAAWzB,KAAOyB,GAAW1B,IAC7B0B,GAAW9B,GAAK8B,GAAWlC,EAC3BkC,GAAWX,GAAKW,GAAWlW,EAC3BkW,GAAWf,GAAKe,GAAWd,EAAIc,GAAWb,GAAKa,GAAW7jB,EAC1D6jB,GAAWtB,GAAKsB,GAAWxB,EAC3BwB,GAAWT,GAAKS,GAAW5zB,EAC3B4zB,GAAWJ,EAAII,GAAWzW,EAE1BiT,GAAMkE,MAAQ,CACZra,QAAS,2BACTsa,UAAW,SACXC,WAAY,cACZC,SAAU,eACVC,SAAU,qBACVC,UAAW,QACXC,WAAY,WACZC,SAAU,gBASZzE,GAAM7nB,OAAS,SAAUqpB,EAASkD,EAAMC,GACtC,IAAI/D,EAAO+D,GAAgB3E,GAAMY,KAMjC,GAJuB,kBAAZY,IACTA,EAAU,IAAIxuB,KAAKwuB,IAG2B,kBAA5C1yB,OAAOQ,UAAU2D,SAASzD,KAAKgyB,IAAgCoD,MAAMpD,EAAQqD,WAC/E,MAAM,IAAIvf,MAAM,gCAGlBof,EAAO1E,GAAMkE,MAAMQ,IAASA,GAAQ1E,GAAMkE,MAAe,QACzD,IAAIY,EAAW,GAWf,OAJAJ,GALAA,EAAOA,EAAKrV,QAAQ8Q,IAAS,SAAU4E,EAAIC,GAEzC,OADAF,EAAS5kB,KAAK8kB,GACP,UAGG3V,QAAQ4Q,IAAO,SAAU8E,GACnC,OAAOA,KAAMxD,GAAcA,GAAYwD,GAAIvD,EAASZ,GAAQmE,EAAG/P,MAAM,EAAG+P,EAAG51B,OAAS,OAG1EkgB,QAAQ,QAAQ,WAC1B,OAAOyV,EAAS3P,YAYpB6K,GAAMiF,MAAQ,SAAUC,EAAS/sB,EAAQwsB,GACvC,IAAI/D,EAAO+D,GAAgB3E,GAAMY,KAEjC,GAAsB,kBAAXzoB,EACT,MAAM,IAAImN,MAAM,iCAMlB,GAHAnN,EAAS6nB,GAAMkE,MAAM/rB,IAAWA,EAG5B+sB,EAAQ/1B,OAAS,IACnB,OAAO,KAGT,IAAIg2B,EAAW,GACXC,EAAY,GACZN,EAAW,GACf3sB,EAASA,EAAOkX,QAAQ8Q,IAAS,SAAU4E,EAAIC,GAE7C,OADAF,EAAS5kB,KAAK8kB,GACP,SAET,IAnRmBK,EAmRfC,GAnReD,EAmRSltB,EAlRrBktB,EAAIhW,QAAQ,oBAAqB,SAkRJA,QAAQ4Q,IAAO,SAAU8E,GAC3D,GAAIvB,GAAWuB,GAAK,CAClB,IAAIQ,EAAO/B,GAAWuB,GAEtB,OADAK,EAAUllB,KAAKqlB,EAAK,IACb,IAAMA,EAAK,GAAK,IAGzB,OAAOR,KAETO,EAAYA,EAAUjW,QAAQ,QAAQ,WACpC,OAAOyV,EAAS3P,WAElB,IAAIqQ,EAAUN,EAAQlB,MAAM,IAAItV,OAAO4W,EAAW,MAElD,IAAKE,EACH,OAAO,KAGT,IAAK,IAAIv2B,EAAI,EAAGA,EAAIu2B,EAAQr2B,OAAQF,IAClCm2B,EAAUn2B,EAAI,GAAGk2B,EAAUK,EAAQv2B,GAAI2xB,GAGzC,IAQI6E,EARAC,EAAQ,IAAI1yB,KAiBhB,OAfsB,IAAlBmyB,EAAStB,MAAkC,MAAjBsB,EAAS9sB,MAAmC,MAAlB8sB,EAAS9sB,KAC/D8sB,EAAS9sB,MAAQ8sB,EAAS9sB,KAAO,IACN,IAAlB8sB,EAAStB,MAAqC,MAAlBsB,EAAS9sB,OAC9C8sB,EAAS9sB,KAAO,GAKa,MAA3B8sB,EAASlB,gBACXkB,EAASxB,SAAWwB,EAASxB,QAAU,IAAMwB,EAASlB,eACtDwB,EAAO,IAAIzyB,KAAKA,KAAK2yB,IAAIR,EAAS1sB,MAAQitB,EAAMpD,cAAe6C,EAAS3sB,OAAS,EAAG2sB,EAAS7sB,KAAO,EAAG6sB,EAAS9sB,MAAQ,EAAG8sB,EAASxB,QAAU,EAAGwB,EAASjtB,QAAU,EAAGitB,EAASvB,aAAe,KAE/L6B,EAAO,IAAIzyB,KAAKmyB,EAAS1sB,MAAQitB,EAAMpD,cAAe6C,EAAS3sB,OAAS,EAAG2sB,EAAS7sB,KAAO,EAAG6sB,EAAS9sB,MAAQ,EAAG8sB,EAASxB,QAAU,EAAGwB,EAASjtB,QAAU,EAAGitB,EAASvB,aAAe,GAGjL6B,GAGM,UCtUR,SAASG,GAAWC,EAAMnB,GAE/B,OADa,EAAoB,QAAK,GAAmB,QAC3CmB,EAAMnB,GAOf,SAASoB,GAAYx1B,GAgB1B,OAfI,oBAASA,KAETA,EADEA,EAAMN,QAAQ,KAAO,EACf,IAAIgD,KAAK1C,GAAOu0B,UAKhB,IAAI7xB,KAAK1C,EAAM+e,QAAQ,MAAO,MAAMwV,WAI5C,kBAAOv0B,KACTA,EAAQA,EAAMu0B,WAGTv0B,EAET,IAOI,GAAY,CAAC,CAAC,WAPL,KAO0B,CAAC,WAAY,KAAc,CAAC,WAAY,KAAc,CAAC,QANjF,KAMmG,CAAC,QAAS,KAAc,CAAC,QAAS,MAAc,CAAC,KALtJ,MAKmK,CAAC,KAAM,OAAW,CAAC,KAAM,OAAY,CAAC,aAJ1M,OAI8N,CAAC,aAAc,QAAU,CAAC,UAAW,QAAU,CAAC,UAH5Q,SAG+R,CAAC,UAAW,UAAY,CAAC,UAAW,UAAY,CAAC,OAAQ,UAC7V,SAASy1B,GAAgB5G,EAAK9J,EAAK2Q,GACxC,ICnCa,EDoCT5lB,GCpCS,EDoCM,SAAU9N,GAC3B,OAAOA,EAAE,IC/BJ,SAAUya,EAAGzO,EAAG2nB,EAAKC,GAI1B,IAHA,IAAIC,EAAK,iBAAMF,GAAO,EAAIA,EACtBG,EAAK,iBAAMF,GAAOnZ,EAAE5d,OAAS+2B,EAE1BC,EAAKC,GAAI,CACd,IAAIC,EAAMF,EAAKC,IAAO,EAElBE,EAAOvZ,EAAEsZ,IAAQ/nB,EACnB8nB,EAAKC,EAELF,EAAKE,EAAM,EAIf,OAAOF,IDkBN,IAHW9Q,EAAM8J,GAAO6G,GAGH,EACpBrjB,EAAW,GAAUvC,GAQzB,OANIA,EAAM,EACRuC,EAAW,GAAU,GACZvC,GAAO,GAAUjR,SAC1BwT,EAAW,gBAAK,KAGXA,EE5CT,IAoEe,GAlEf,SAAUhO,GAGR,SAAS4xB,IACP,OAAkB,OAAX5xB,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA2D7D,OA9DA,qBAAU62B,EAAS5xB,GAUnB4xB,EAAQj3B,UAAU+uB,UAAY,SAAU/tB,GACtCA,EAAQw1B,GAAYx1B,GACpB,IAAI0D,EAAQtE,KAAKsuB,OAAOhuB,QAAQM,GAUhC,OARe,IAAX0D,IAEAA,EADE,oBAAS1D,IAAUA,EAAQZ,KAAKsuB,OAAO7uB,OACjCmB,EAEA8uB,KAILprB,GAQTuyB,EAAQj3B,UAAUmvB,QAAU,SAAUnuB,EAAOk2B,GAC3C,IAAIxyB,EAAQtE,KAAK2uB,UAAU/tB,GAE3B,GAAI0D,GAAS,EAAG,CACd,IAAIb,EAASzD,KAAKsuB,OAAOhqB,GACrB2qB,EAAYjvB,KAAKivB,UAErB,OADAxrB,EAASwrB,EAAYA,EAAUxrB,EAAQqzB,GAAaZ,GAAWzyB,EAAQzD,KAAKg1B,MAI9E,OAAOp0B,GAGTi2B,EAAQj3B,UAAU8uB,QAAU,WAC1B1uB,KAAKqvB,WAAa,WAClBrvB,KAAKg1B,KAAO,aACZh1B,KAAKs2B,UAAY,GAGnBO,EAAQj3B,UAAUuvB,UAAY,WAC5B,IAAIb,EAAStuB,KAAKsuB,OAElB,gBAAKA,GAAQ,SAAUhR,EAAG/d,GACxB+uB,EAAO/uB,GAAK62B,GAAY9Y,MAE1BgR,EAAOyI,MAAK,SAAUhZ,EAAIC,GACxB,OAAOD,EAAKC,KAGd/Y,EAAOrF,UAAUuvB,UAAUrvB,KAAKE,OAG3B62B,EA/DT,CAgEE,ICoCa,GArGf,SAAU5xB,GAGR,SAAS+xB,IACP,IAAI9xB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMkpB,cAAe,EACdlpB,EA2FT,OAjGA,qBAAU8xB,EAAY/xB,GAStB+xB,EAAWp3B,UAAU+tB,MAAQ,SAAU/sB,GACrC,GAAI,iBAAMA,GACR,OAAO8uB,IAGT,IAAIJ,EAAWtvB,KAAKsvB,WAChBC,EAAWvvB,KAAKuvB,WAIpB,OAHUvvB,KAAK2lB,MACL3lB,KAAKyvB,IAGNH,EAIFA,EADOtvB,KAAKi3B,gBAAgBr2B,IACN2uB,EAAWD,IAG1C0H,EAAWp3B,UAAUwP,KAAO,WAC1BnK,EAAOrF,UAAUwP,KAAKtP,KAAKE,MAG3B,IAAIwuB,EAAQxuB,KAAKwuB,MACb0I,EAAY,gBAAK1I,GACjB2I,EAAW,gBAAK3I,GAEhB0I,EAAYl3B,KAAKyvB,MACnBzvB,KAAKyvB,IAAMyH,GAGTC,EAAWn3B,KAAK2lB,MAClB3lB,KAAK2lB,IAAMwR,GAIR,iBAAMn3B,KAAKo3B,YACdp3B,KAAKyvB,IAAMyH,GAGR,iBAAMl3B,KAAKq3B,YACdr3B,KAAK2lB,IAAMwR,IAIfH,EAAWp3B,UAAUuvB,UAAY,WAC/B,IAAI3pB,EAAK,oBAASxF,KAAKsuB,QACnBmB,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IAET,iBAAM3lB,KAAKyvB,OACbzvB,KAAKyvB,IAAMA,GAGT,iBAAMzvB,KAAK2lB,OACb3lB,KAAK2lB,IAAMA,GAGT3lB,KAAKyvB,IAAMzvB,KAAK2lB,MAClB3lB,KAAKyvB,IAAMA,EACXzvB,KAAK2lB,IAAMA,IAIfqR,EAAWp3B,UAAUwvB,eAAiB,WACpC,IAAIlqB,EAAQlF,KAERwuB,EAAQvpB,EAAOrF,UAAUwvB,eAAetvB,KAAKE,MAQjD,OANKA,KAAKs3B,OACR9I,EAAQ,kBAAOA,GAAO,SAAU9T,GAC9B,OAAOA,GAAQxV,EAAMuqB,KAAO/U,GAAQxV,EAAMygB,QAIvC6I,GAITwI,EAAWp3B,UAAUq3B,gBAAkB,SAAUr2B,GAC/C,IAAI+kB,EAAM3lB,KAAK2lB,IACX8J,EAAMzvB,KAAKyvB,IACf,OAAQ7uB,EAAQ6uB,IAAQ9J,EAAM8J,IAGhCuH,EAAWp3B,UAAU23B,iBAAmB,SAAU32B,GAChD,OAAQA,EAAQZ,KAAKsvB,aAAetvB,KAAKuvB,WAAavvB,KAAKsvB,aAGtD0H,EAlGT,CAmGE,IC5Ea,GAxBf,SAAU/xB,GAGR,SAASuyB,IACP,IAAItyB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,SACbjB,EAAMipB,UAAW,EACVjpB,EAaT,OApBA,qBAAUsyB,EAAQvyB,GAUlBuyB,EAAO53B,UAAUmwB,OAAS,SAAUnvB,GAClC,IAAIgvB,EAAU5vB,KAAKu3B,iBAAiB32B,GACpC,OAAOZ,KAAKyvB,IAAMG,GAAW5vB,KAAK2lB,IAAM3lB,KAAKyvB,MAG/C+H,EAAO53B,UAAU8uB,QAAU,WACzB1uB,KAAKqvB,WAAa,qBAClBrvB,KAAKs3B,MAAO,GAGPE,EArBT,CAsBE,IC5BK,SAASC,GAAQpa,EAAGuC,GACzB,IAAIzf,EAAI+d,KAAKwZ,EASb,OANI9X,GAAK,EACC1B,KAAKyZ,IAAIx3B,EAAG+d,KAAK0Z,IAAIhY,GAAKvC,IAEO,EAAjCa,KAAKyZ,IAAIx3B,EAAG+d,KAAK0Z,KAAKhY,GAAKvC,GAKhC,SAASua,GAAIva,EAAGuC,GACrB,OAAU,IAANvC,EACK,EAGFa,KAAK0Z,IAAIhY,GAAK1B,KAAK0Z,IAAIva,GAEzB,SAASwa,GAAkBvJ,EAAQwJ,EAAMnS,GAC1C,iBAAMA,KACRA,EAAMzH,KAAKyH,IAAI5lB,MAAM,KAAMuuB,IAG7B,IAAIyJ,EAAcpS,EAelB,OAdA,gBAAK2I,GAAQ,SAAU1tB,GACjBA,EAAQ,GAAKA,EAAQm3B,IACvBA,EAAcn3B,MAIdm3B,IAAgBpS,IAClBoS,EAAcpS,EAAMmS,GAGlBC,EAAc,IAChBA,EAAc,GAGTA,ECnCT,IAsGe,GApGf,SAAU9yB,GAGR,SAAS+yB,IACP,IAAI9yB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,MACNjB,EA0FT,OAhGA,qBAAU8yB,EAAK/yB,GAaf+yB,EAAIp4B,UAAUmwB,OAAS,SAAUnvB,GAC/B,IAII6uB,EAJAqI,EAAO93B,KAAK83B,KACZnS,EAAMiS,GAAIE,EAAM93B,KAAK2lB,KACrB2J,EAAWtvB,KAAKsvB,WAChBf,EAAQvuB,KAAKuvB,WAAaD,EAE1ByI,EAAc/3B,KAAK+3B,YAEvB,GAAIA,EAAa,CACf,GAAc,IAAVn3B,EACF,OAAO,EAIT,IAAIq3B,EAAgB,GAAKtS,GADzB8J,EAAMmI,GAAIE,EAAMC,EAAcD,KACQvJ,EAEtC,GAAI3tB,EAAQq3B,EAEV,OAAOr3B,EAAQq3B,EAAgBF,OAGjCtI,EAAMmI,GAAIE,EAAM93B,KAAKyvB,KAGvB,IACIyI,GADWt3B,EAAQ0uB,GAAYf,GACd5I,EAAM8J,GAAOA,EAClC,OAAOvR,KAAKyZ,IAAIG,EAAMI,IAGxBF,EAAIp4B,UAAU8uB,QAAU,WACtB1uB,KAAKqvB,WAAa,MAClBrvB,KAAK83B,KAAO,GACZ93B,KAAKs2B,UAAY,EACjBt2B,KAAKs3B,MAAO,GAIdU,EAAIp4B,UAAUuvB,UAAY,WACxBlqB,EAAOrF,UAAUuvB,UAAUrvB,KAAKE,MAEhC,IAAIyvB,EAAMzvB,KAAKyvB,IAEf,GAAIA,EAAM,EACR,MAAM,IAAI7Z,MAAM,wEAGN,IAAR6Z,IACFzvB,KAAK+3B,YAAcF,GAAkB73B,KAAKsuB,OAAQtuB,KAAK83B,KAAM93B,KAAK2lB,OAKtEqS,EAAIp4B,UAAUq3B,gBAAkB,SAAUr2B,GACxC,IAAI+kB,EAAM3lB,KAAK2lB,IACX8J,EAAMzvB,KAAKyvB,IAEf,GAAI9J,IAAQ8J,EACV,OAAO,EAIT,GAAI7uB,GAAS,EACX,OAAO,EAGT,IAAIk3B,EAAO93B,KAAK83B,KACZC,EAAc/3B,KAAK+3B,YAcvB,OAZIA,IACFtI,EAAoB,EAAdsI,EAAkBD,GAKtBl3B,EAAQm3B,EACAn3B,EAAQm3B,GAAeH,GAAIE,EAAMnS,GAAOiS,GAAIE,EAAMrI,KAEjDmI,GAAIE,EAAMl3B,GAASg3B,GAAIE,EAAMrI,KAASmI,GAAIE,EAAMnS,GAAOiS,GAAIE,EAAMrI,KAMzEuI,EAjGT,CAkGE,IClDa,GAhDf,SAAU/yB,GAGR,SAASkzB,IACP,IAAIjzB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,MACNjB,EAsCT,OA5CA,qBAAUizB,EAAKlzB,GAafkzB,EAAIv4B,UAAUmwB,OAAS,SAAUnvB,GAC/B,IAAIgvB,EAAU5vB,KAAKu3B,iBAAiB32B,GAChCw3B,EAAWp4B,KAAKo4B,SAChBzS,EAAM8R,GAAQW,EAAUp4B,KAAK2lB,KAC7B8J,EAAMgI,GAAQW,EAAUp4B,KAAKyvB,KAC7ByI,EAAMtI,GAAWjK,EAAM8J,GAAOA,EAC9B4I,EAASH,GAAO,EAAI,GAAK,EAC7B,OAAOha,KAAKyZ,IAAIO,EAAKE,GAAYC,GAGnCF,EAAIv4B,UAAU8uB,QAAU,WACtB1uB,KAAKqvB,WAAa,MAClBrvB,KAAKo4B,SAAW,EAChBp4B,KAAKs2B,UAAY,EACjBt2B,KAAKs3B,MAAO,GAIda,EAAIv4B,UAAUq3B,gBAAkB,SAAUr2B,GACxC,IAAI+kB,EAAM3lB,KAAK2lB,IACX8J,EAAMzvB,KAAKyvB,IAEf,GAAI9J,IAAQ8J,EACV,OAAO,EAGT,IAAI2I,EAAWp4B,KAAKo4B,SAEpB,OADeX,GAAQW,EAAUx3B,GAAS62B,GAAQW,EAAU3I,KAASgI,GAAQW,EAAUzS,GAAO8R,GAAQW,EAAU3I,KAI3G0I,EA7CT,CA8CE,ICoEa,GAhHf,SAAUlzB,GAGR,SAASqzB,IACP,IAAIpzB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,OACNjB,EAsGT,OA5GA,qBAAUozB,EAAMrzB,GAahBqzB,EAAK14B,UAAUmvB,QAAU,SAAUnuB,EAAO0D,GACxC,IAAIi0B,EAAcv4B,KAAK2uB,UAAU/tB,GAC7BquB,EAAYjvB,KAAKivB,UACrB,OAAOA,EAAYA,EAAUsJ,EAAaj0B,GAAS4xB,GAAWqC,EAAav4B,KAAKg1B,OAOlFsD,EAAK14B,UAAU+tB,MAAQ,SAAU/sB,GAC/B,IAAI0c,EAAI1c,EAMR,OAJI,oBAAS0c,IAAM,kBAAOA,MACxBA,EAAItd,KAAK2uB,UAAUrR,IAGdrY,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,KAAMsd,IAQ3Cgb,EAAK14B,UAAU+uB,UAAY,SAAUrR,GACnC,OAAO8Y,GAAY9Y,IAGrBgb,EAAK14B,UAAU8uB,QAAU,WACvB1uB,KAAKqvB,WAAa,cAClBrvB,KAAKg1B,KAAO,aACZh1B,KAAKs2B,UAAY,EACjBt2B,KAAKs3B,MAAO,GAGdgB,EAAK14B,UAAUuvB,UAAY,WACzB,IAAIb,EAAStuB,KAAKsuB,OAEdkK,EAAYx4B,KAAKkvB,UAAU,OAC3BuJ,EAAYz4B,KAAKkvB,UAAU,OAW/B,GATK,iBAAMsJ,IAAe,oBAASA,KACjCx4B,KAAKyvB,IAAMzvB,KAAK2uB,UAAU3uB,KAAKyvB,MAG5B,iBAAMgJ,IAAe,oBAASA,KACjCz4B,KAAK2lB,IAAM3lB,KAAK2uB,UAAU3uB,KAAK2lB,MAI7B2I,GAAUA,EAAO7uB,OAAQ,CAE3B,IAAIi5B,EAAe,GACfC,EAAQC,IAERC,EAAcF,EAEdG,EAAQ,EAEZ,gBAAKxK,GAAQ,SAAUhR,GACrB,IAAIyb,EAAY3C,GAAY9Y,GAE5B,GAAI4X,MAAM6D,GACR,MAAM,IAAIv2B,UAAU,iBAAmB8a,EAAI,mBAGzCqb,EAAQI,GACVF,EAAcF,EACdA,EAAQI,GACCF,EAAcE,IACvBF,EAAcE,GAGZD,EAAQC,IACVD,EAAQC,GAGVL,EAAaloB,KAAKuoB,MAGhBzK,EAAO7uB,OAAS,IAClBO,KAAKg5B,gBAAkBH,EAAcF,GAGnC,iBAAMH,KACRx4B,KAAKyvB,IAAMkJ,GAGT,iBAAMF,KACRz4B,KAAK2lB,IAAMmT,KAKVR,EA7GT,CA8GE,IC7Ba,GAnFf,SAAUrzB,GAGR,SAASg0B,IACP,IAAI/zB,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EAyET,OA/EA,qBAAU+zB,EAAUh0B,GASpBg0B,EAASr5B,UAAUmwB,OAAS,SAAUnvB,GACpC,IAAI4tB,EAAQxuB,KAAKwuB,MACb/uB,EAAS+uB,EAAM/uB,OACfmwB,EAAU5vB,KAAKu3B,iBAAiB32B,GAChCs4B,EAAWhb,KAAK2V,MAAMjE,GAAWnwB,EAAS,IAE9C,GAAIy5B,GAAYz5B,EAAS,EACvB,OAAO,gBAAK+uB,GAId,GAAI0K,EAAW,EACb,OAAO,gBAAK1K,GAGd,IAAI2K,EAAU3K,EAAM0K,GAGhBE,EAAkBF,GAAYz5B,EAAS,GAE3C,OAAO05B,GAAWvJ,EAAUwJ,KADLF,EAAW,IAAMz5B,EAAS,GACiB25B,IAJnD5K,EAAM0K,EAAW,GAIiEC,IAGnGF,EAASr5B,UAAU8uB,QAAU,WAC3B1uB,KAAKqvB,WAAa,WAClBrvB,KAAKs2B,UAAY,EACjBt2B,KAAKs3B,MAAO,GAGd2B,EAASr5B,UAAUwvB,eAAiB,WAClC,IAAIZ,EAAQvpB,EAAOrF,UAAUwvB,eAAetvB,KAAKE,MAajD,OAXKA,KAAKs3B,OAEJ,gBAAK9I,KAAWxuB,KAAK2lB,KACvB6I,EAAMhe,KAAKxQ,KAAK2lB,KAGd,gBAAK6I,KAAWxuB,KAAKyvB,KACvBjB,EAAM6K,QAAQr5B,KAAKyvB,MAIhBjB,GAITyK,EAASr5B,UAAUq3B,gBAAkB,SAAUr2B,GAC7C,IAAI4tB,EAAQxuB,KAAKwuB,MAEjB,GAAI5tB,EAAQ,gBAAK4tB,GACf,OAAO,EAIT,GAAI5tB,EAAQ,gBAAK4tB,GACf,OAAO,EAGT,IAAI0K,EAAW,EAQf,OAPA,gBAAK1K,GAAO,SAAU9T,EAAMpW,GAC1B,KAAI1D,GAAS8Z,GAGX,OAAO,EAFPwe,EAAW50B,KAKR40B,GAAY1K,EAAM/uB,OAAS,IAG7Bw5B,EAhFT,CAiFE,IClEa,GAnBf,SAAUh0B,GAGR,SAASq0B,IACP,IAAIp0B,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EAST,OAfA,qBAAUo0B,EAAUr0B,GASpBq0B,EAAS15B,UAAU8uB,QAAU,WAC3B1uB,KAAKqvB,WAAa,WAClBrvB,KAAKs2B,UAAY,EACjBt2B,KAAKs3B,MAAO,GAGPgC,EAhBT,CAiBE,ICrBE,GAAM,GAEV,SAASC,GAAS55B,GAChB,OAAO,GAAIA,GAGb,SAAS65B,GAAc75B,EAAK85B,GAC1B,GAAIF,GAAS55B,GACX,MAAM,IAAIiW,MAAM,SAAWjW,EAAM,cAGnC,GAAIA,GAAO85B,ECHb,IAuCe,GArCf,SAAUx0B,GAGR,SAASy0B,IACP,IAAIx0B,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,WACbjB,EAAMmpB,YAAa,EACZnpB,EA0BT,OAjCA,qBAAUw0B,EAAUz0B,GAUpBy0B,EAAS95B,UAAUwvB,eAAiB,WAClC,OAAOpvB,KAAKsuB,QAGdoL,EAAS95B,UAAU+tB,MAAQ,SAAU/sB,GAEnC,OAAIZ,KAAKsuB,OAAO,KAAO1tB,GAAS,oBAASA,GAChCA,EAGFZ,KAAKuuB,MAAM,IAGpBmL,EAAS95B,UAAUmwB,OAAS,SAAUnvB,GACpC,IAAI2tB,EAAQvuB,KAAKuuB,MAEjB,OAAI3tB,EAAQ2tB,EAAM,IAAM3tB,EAAQ2tB,EAAM,GAC7BmB,IAGF1vB,KAAKsuB,OAAO,IAGdoL,EAlCT,CAmCE,IC7CSC,GAAY,CAAC,EAAG,EAAG,EAAG,IAAK,EAAG,GAErCC,GAAuB,IAAjBlX,OAAOmX,QAMjB,SAASC,GAAWva,EAAG8F,EAAGvE,EAAGiZ,EAAMC,EAAMC,GACvC,IAAIC,EAAI,gBAAK7U,GACT9lB,EAAI,mBAAQ8lB,EAAG9F,GACfjC,EAAI,EACJM,EARN,SAAasc,EAAGtc,GACd,OAAQsc,EAAItc,EAAIA,GAAKA,EAOb,CAAImc,EAAME,GAMlB,OAJKrc,EAAIgc,IAAOK,EAAQrc,EAAIgc,KAAQG,GAAQ,GAAKC,GAAQ,IACvD1c,EAAI,GAGC,EAAI/d,GAAK26B,EAAI,GAAKpZ,EAAIxD,EAG/B,SAAS6c,GAAc5a,EAAG8F,EAAGvE,GAC3B,IAAIoZ,EAAI,gBAAK7U,GAGb,OAAO,EAFC,mBAAQA,EAAG9F,IAEH2a,EAAI,GAAKpZ,EADjB,EAIV,SAASsZ,GAAQpoB,EAAG4L,EAAGyc,EAAMC,EAAMP,EAAMC,GACvC,IAAI9gB,GAAKlH,EAAI,IAAMgoB,EAAOD,GACtBQ,GAAM3c,EAAI,IAAMM,KAAKyH,IAAIqU,EAAMM,GAAQpc,KAAKuR,IAAI4K,EAAMN,IAC1D,OAAO,EAAI7b,KAAKyH,IAAIzM,EAAIqhB,EAAIA,EAAKrhB,GAGnC,SAASshB,GAAWxoB,EAAG4L,GACrB,OAAI5L,GAAK4L,EACA,GAAK5L,EAAI,IAAM4L,EAAI,GAGrB,EAGT,SAAS6c,GAASJ,EAAMC,EAAMP,EAAMC,GAClC,IAAIzL,EAAQ+L,EAAOD,EACnB,OAAO,EAAI,IAAOnc,KAAKyZ,IAAI2C,EAAON,EAAM,GAAK9b,KAAKyZ,IAAI0C,EAAON,EAAM,IAAM7b,KAAKyZ,IAAI,GAAMpJ,EAAO,GAGjG,SAASmM,GAAYL,EAAMC,EAAMrzB,GAC/B,IAAIsnB,EAAQ+L,EAAOD,EAEnB,GAAIpzB,EAAOsnB,EAAO,CAChB,IAAIoM,GAAQ1zB,EAAOsnB,GAAS,EAC5B,OAAO,EAAIrQ,KAAKyZ,IAAIgD,EAAM,GAAKzc,KAAKyZ,IAAI,GAAMpJ,EAAO,GAGvD,OAAO,EAkBM,SAASqM,GAASP,EAAMC,EAAM1c,EAAGid,EAAWxV,EAAGyV,GAiB5D,QAhBU,IAANld,IACFA,EAAI,QAGY,IAAdid,IACFA,GAAY,QAGJ,IAANxV,IACFA,EAAIsU,SAGI,IAANmB,IACFA,EAAI,CAAC,IAAM,GAAK,GAAK,MAGnBT,IAASC,GAAc,IAAN1c,EACnB,MAAO,CACL6R,IAAK4K,EACL1U,IAAK2U,EACL9L,MAAO,CAAC6L,IAYZ,IARA,IAAIU,EAAO,CACTC,OAAQ,EACRjB,KAAM,EACNC,KAAM,EACNC,MAAO,GAELnZ,EAAI,EAEDA,EAAI8X,KAAU,CACnB,IAAK,IAAIxI,EAAK,EAAG6K,EAAM5V,EAAG+K,EAAK6K,EAAIx7B,OAAQ2wB,IAAM,CAC/C,IAAI7Q,EAAI0b,EAAI7K,GACR8K,EAAKf,GAAc5a,EAAG8F,EAAGvE,GAE7B,GAAI4B,OAAOwS,MAAMgG,GACf,MAAM,IAAItlB,MAAM,OAGlB,GAAIklB,EAAE,GAAKI,EAAKJ,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKC,EAAKC,MAAO,CAC/Cla,EAAI8X,IACJ,MAKF,IAFA,IAAI5mB,EAAI,EAEDA,EAAI4mB,KAAU,CACnB,IAAIuC,EAAKX,GAAWxoB,EAAG4L,GAEvB,GAAIkd,EAAE,GAAKI,EAAKJ,EAAE,GAAKA,EAAE,GAAKK,EAAKL,EAAE,GAAKC,EAAKC,MAC7C,MAMF,IAHA,IAAII,GAASd,EAAOD,IAASroB,EAAI,GAAK8O,EAAIvB,EACtCZ,EAAIT,KAAKmd,KAAKnd,KAAKod,MAAMF,IAEtBzc,EAAIia,KAAU,CACnB,IAAI2C,EAAOza,EAAIvB,EAAIrB,KAAKyZ,IAAI,GAAIhZ,GAC5B6c,EAAKd,GAAYL,EAAMC,EAAMiB,GAAQvpB,EAAI,IAE7C,GAAI8oB,EAAE,GAAKI,EAAKJ,EAAE,GAAKU,EAAKV,EAAE,GAAKK,EAAKL,EAAE,GAAKC,EAAKC,MAClD,MAGF,IAAIS,EAAWvd,KAAK2V,MAAMyG,EAAOiB,GAAQza,GAAK9O,EAAI,GAAK8O,EACnD4a,EAAWxd,KAAKmd,KAAKhB,EAAOkB,GAAQza,EAExC,GAAI2a,EAAWC,EACb/c,GAAQ,MADV,CAKA,IAAK,IAAIzN,EAAQuqB,EAAUvqB,GAASwqB,EAAUxqB,GAAgB,EAAG,CAC/D,IAAI6oB,EAAO7oB,GAASqqB,EAAOza,GACvBkZ,EAAOD,EAAOwB,GAAQvpB,EAAI,GAC1BioB,EAAQsB,EACRr7B,EAAI45B,GAAWva,EAAG8F,EAAGvE,EAAGiZ,EAAMC,EAAMC,GACpC5a,EAAIob,GAASJ,EAAMC,EAAMP,EAAMC,GAC/B2B,EAAIvB,GAAQpoB,EAAG4L,EAAGyc,EAAMC,EAAMP,EAAMC,GAEpCgB,EAAQF,EAAE,GAAK56B,EAAI46B,EAAE,GAAKzb,EAAIyb,EAAE,GAAKa,EAjG5C,EAiGgDb,EAAE,GAE3CE,EAAQD,EAAKC,SAAWH,GAAad,GAAQM,GAAQL,GAAQM,KAC/DS,EAAKhB,KAAOA,EACZgB,EAAKf,KAAOA,EACZe,EAAKd,MAAQA,EACbc,EAAKC,MAAQA,GAIjBrc,GAAQ,GAGV3M,GAAQ,GAIZ8O,GAAQ,EAOV,IAHA,IAAI6B,EAAUD,OAAOkZ,UAAUb,EAAKd,OAAS,EAAI/b,KAAKmd,KAAKnd,KAAKsE,IAAItE,KAAKod,MAAMP,EAAKd,SAChF1L,EAAQ,GAEH7T,EAAOqgB,EAAKhB,KAAMrf,GAAQqgB,EAAKf,KAAMtf,GAAQqgB,EAAKd,MACzD1L,EAAM/d,KAAKkK,GAGb,IAAI8T,EAAQ7L,EAAU,eAAI4L,GAAO,SAAU3f,GACzC,OAAO8T,OAAO0D,WAAWxX,EAAE+T,QAAQA,OAChC4L,EACL,MAAO,CACLkB,IAAKvR,KAAKuR,IAAI4K,EAAM,gBAAK7L,IACzB7I,IAAKzH,KAAKyH,IAAI2U,EAAM,gBAAK9L,IACzBA,MAAOA,GCvLI,SAASqN,GAAkB3sB,GACxC,IAAIof,EAASpf,EAAIof,OACbwN,EAAe5sB,EAAI4sB,aACnBxF,EAAYpnB,EAAIonB,UAChB9H,EAAQF,EAEZ,GAAI,oBAASwN,GACX,OAAO,kBAAOtN,GAAO,SAAUuN,EAAIx8B,GACjC,OAAOA,EAAIu8B,IAAiB,KAIhC,IAAIrM,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IAUd,GARI,iBAAM8J,KACRA,EAAM,GAGJ,iBAAM9J,KACRA,EAAM2I,EAAO7uB,OAAS,GAGpB,oBAAS62B,IAAcA,EAAY3Q,EAAM8J,EAAK,CAGhD,IAAIuM,EAAUpB,GAASnL,EAAK9J,EAAK2Q,GAAW,EAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAI9H,MAIhF,OAHY,kBAAOwN,GAAS,SAAUthB,GACpC,OAAOA,GAAQ+U,GAAO/U,GAAQiL,KAEnBvhB,KAAI,SAAUE,GACzB,OAAOgqB,EAAOhqB,MAIlB,OAAOgqB,EAAOhJ,MAAMmK,EAAK9J,EAAM,GC7BjC,IACIsW,GAAM/d,KAAKmE,KAAK,IAChB6Z,GAAKhe,KAAKmE,KAAK,IACf,GAAKnE,KAAKmE,KAAK,GAEf8Z,GAEJ,WACE,SAASA,IACPn8B,KAAKo8B,QAAU,CAAC,EAAG,GAiErB,OA9DAD,EAASv8B,UAAUy8B,OAAS,SAAUA,GACpC,OAAIA,GACFr8B,KAAKo8B,QAAU5e,MAAM8e,KAAKD,EAAQ3Z,QAC3B1iB,MAGFA,KAAKo8B,QAAQ9W,SAGtB6W,EAASv8B,UAAU03B,KAAO,SAAUiF,GAClC,IAAI/2B,EAAIg3B,OAEM,IAAVD,IACFA,EAzBc,GA4BhB,IAMIhB,EANA3c,EAAI5e,KAAKo8B,QAAQ9W,QAEjBmX,EAAK,EACLC,EAAK18B,KAAKo8B,QAAQ38B,OAAS,EAC3ByR,EAAQlR,KAAKo8B,QAAQK,GACrBE,EAAO38B,KAAKo8B,QAAQM,GA8BxB,OA3BIC,EAAOzrB,IACWA,GAApB1L,EAAK,CAACm3B,EAAMzrB,IAAmB,GAAIyrB,EAAOn3B,EAAG,GAC9Bi3B,GAAfD,EAAK,CAACE,EAAID,IAAa,GAAIC,EAAKF,EAAG,KAGrCjB,EAAOqB,GAAc1rB,EAAOyrB,EAAMJ,IAEvB,EAGThB,EAAOqB,GAFP1rB,EAAQgN,KAAK2V,MAAM3iB,EAAQqqB,GAAQA,EACnCoB,EAAOze,KAAKmd,KAAKsB,EAAOpB,GAAQA,EACEgB,GACzBhB,EAAO,IAGhBA,EAAOqB,GAFP1rB,EAAQgN,KAAKmd,KAAKnqB,EAAQqqB,GAAQA,EAClCoB,EAAOze,KAAK2V,MAAM8I,EAAOpB,GAAQA,EACCgB,IAGhChB,EAAO,GACT3c,EAAE6d,GAAMve,KAAK2V,MAAM3iB,EAAQqqB,GAAQA,EACnC3c,EAAE8d,GAAMxe,KAAKmd,KAAKsB,EAAOpB,GAAQA,EACjCv7B,KAAKq8B,OAAOzd,IACH2c,EAAO,IAChB3c,EAAE6d,GAAMve,KAAKmd,KAAKnqB,EAAQqqB,GAAQA,EAClC3c,EAAE8d,GAAMxe,KAAK2V,MAAM8I,EAAOpB,GAAQA,EAClCv7B,KAAKq8B,OAAOzd,IAGP5e,MAGTm8B,EAASv8B,UAAU4uB,MAAQ,SAAU+N,GAKnC,YAJc,IAAVA,IACFA,EApEc,GA+EpB,SAAsBrrB,EAAOyrB,EAAMJ,GACjC,IAAIM,EAEA3C,EACA1L,EACA+M,EAHAh8B,GAAK,EAMT,GAF8Bg9B,GAASA,GAAzBrrB,GAASA,MAAvByrB,GAAQA,IAEcJ,EAAQ,EAC5B,MAAO,CAACrrB,IAIN2rB,EAAUF,EAAOzrB,KACnBgpB,EAAIhpB,EAAOA,EAAQyrB,EAAMA,EAAOzC,GAIlC,GAAmD,KAA9CqB,EAAOqB,GAAc1rB,EAAOyrB,EAAMJ,MAAkBO,SAASvB,GAChE,MAAO,GAGT,GAAIA,EAAO,EAKT,IAJArqB,EAAQgN,KAAKmd,KAAKnqB,EAAQqqB,GAC1BoB,EAAOze,KAAK2V,MAAM8I,EAAOpB,GACzB/M,EAAQ,IAAIhR,MAAM0c,EAAIhc,KAAKmd,KAAKsB,EAAOzrB,EAAQ,MAEtC3R,EAAI26B,GACX1L,EAAMjvB,IAAM2R,EAAQ3R,GAAKg8B,OAO3B,IAJArqB,EAAQgN,KAAK2V,MAAM3iB,EAAQqqB,GAC3BoB,EAAOze,KAAKmd,KAAKsB,EAAOpB,GACxB/M,EAAQ,IAAIhR,MAAM0c,EAAIhc,KAAKmd,KAAKnqB,EAAQyrB,EAAO,MAEtCp9B,EAAI26B,GACX1L,EAAMjvB,IAAM2R,EAAQ3R,GAAKg8B,EAIzBsB,GACFrO,EAAMqO,UAGR,OAAOrO,EApDEuO,CAAa/8B,KAAKo8B,QAAQ,GAAIp8B,KAAKo8B,QAAQp8B,KAAKo8B,QAAQ38B,OAAS,GAAI88B,GAvE5D,IA0EXJ,EAnET,GAuHA,SAASS,GAAc1rB,EAAOyrB,EAAMJ,GAClC,IAAIhB,GAAQoB,EAAOzrB,GAASgN,KAAKyH,IAAI,EAAG4W,GACpCS,EAAQ9e,KAAK2V,MAAM3V,KAAK0Z,IAAI2D,GAAQrd,KAAK+e,MACzCC,EAAQ3B,EAAOrd,KAAKyZ,IAAI,GAAIqF,GAChC,OAAOA,GAAS,GAAKE,GAASjB,GAAM,GAAKiB,GAAShB,GAAK,EAAIgB,GAAS,GAAK,EAAI,GAAKhf,KAAKyZ,IAAI,GAAIqF,IAAU9e,KAAKyZ,IAAI,IAAKqF,IAAUE,GAASjB,GAAM,GAAKiB,GAAShB,GAAK,EAAIgB,GAAS,GAAK,EAAI,GC9I3L,SAASC,GAAa7f,EAAGwa,EAAMsF,GAW7B,OARiB,SAAbA,EACIlf,KAAKmd,KAAK/d,EAAIwa,GACE,UAAbsF,EACHlf,KAAK2V,MAAMvW,EAAIwa,GAEf5Z,KAAKgS,MAAM5S,EAAIwa,IAGVA,EAGA,SAASuF,GAAc5N,EAAK9J,EAAK1S,GAE9C,IAAIkmB,EAAUgE,GAAa1N,EAAKxc,EAAU,SACtCqqB,EAAUH,GAAaxX,EAAK1S,EAAU,QAE1CkmB,EAAU,qBAAUA,EAASlmB,GAC7BqqB,EAAU,qBAAUA,EAASrqB,GAG7B,IAFA,IAAIub,EAAQ,GAEHjvB,EAAI45B,EAAS55B,GAAK+9B,EAAS/9B,GAAQ0T,EAAU,CACpD,IAAI+b,EAAY,qBAAUzvB,EAAG0T,GAE7Bub,EAAMhe,KAAKwe,GAGb,MAAO,CACLS,IAAK0J,EACLxT,IAAK2X,EACL9O,MAAOA,GC1BI,SAAS+O,GAAYruB,EAAKsuB,EAAYC,GACnD,IAAIj4B,EAEA4xB,EAAWloB,EAAIkoB,SACfC,EAAWnoB,EAAImoB,SACf5H,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV6W,EAAKttB,EAAIonB,UACTA,OAAmB,IAAPkG,EAAgB,EAAIA,EAChCkB,EAAU,iBAAMtG,GAAY,iBAAMoG,GAAc/N,EAAM+N,EAAapG,EACnEuG,EAAU,iBAAMtG,GAAY,iBAAMoG,GAAc9X,EAAM8X,EAAapG,EAMvE,GAJIqG,EAAUC,IACaA,GAAzBn4B,EAAK,CAACk4B,EAASC,IAAuB,GAAID,EAAUl4B,EAAG,IAGrD8wB,GAAa,EACf,MAAO,CAACoH,EAASC,GAMnB,IAHA,IAAIpC,GAAQoC,EAAUD,IAAYpH,EAAY,GAC1C9H,EAAQ,GAEHjvB,EAAI,EAAGA,EAAI+2B,EAAW/2B,IAC7BivB,EAAMhe,KAAKktB,EAAUnC,EAAOh8B,GAG9B,OAAOivB,ECnCM,SAASoP,GAAOnO,EAAK9J,EAAKuU,QAC7B,IAANA,IACFA,EAAI,GAGN,IAAI7Z,EAAM,CACRsF,IAAK,EACL8J,IAAK,EACLjB,MAAO,IAcLnP,GADIsG,EAAM8J,GACFyK,EAORpC,EAAO5Z,KAAKyZ,IAAI,GAAIzZ,KAAK2V,MAAM3V,KAAKod,MAAMjc,KAC1CsD,EAAUmV,EAAO,EAAI5Z,KAAKmd,KAAKnd,KAAKsE,IAAItE,KAAKod,MAAMxD,KAAU,EAC7D+F,EAAO/F,EAEP,EAAIA,EAAOzY,EAjBP,KAiBgBA,EAAIwe,IAGtB,EAAI/F,EAAOzY,EAlBR,MAkBkBA,GAFzBwe,EAAO,EAAI/F,KAKL,GAAKA,EAAOzY,EAvBZ,KAuBqBA,GAFzBwe,EAAO,EAAI/F,MAGT+F,EAAO,GAAK/F,GAKlB,IAAIgG,EAAK5f,KAAKmd,KAAK1V,EAAMkY,GACrBE,EAAK7f,KAAK2V,MAAMpE,EAAMoO,GAC1Bxd,EAAIsF,IAAMzH,KAAKyH,IAAImY,EAAKD,EAAMlY,GAC9BtF,EAAIoP,IAAMvR,KAAKuR,IAAIsO,EAAKF,EAAMpO,GAG9B,IAFA,IAAI7gB,EAAI8T,OAAO0D,YAAY2X,EAAKF,GAAMlb,QAAQA,IAEvC/T,EAAI+W,GACTtF,EAAImO,MAAMhe,KAAK5B,GACfA,GAAKivB,EAEDlb,IACF/T,EAAI8T,OAAO0D,WAAWxX,EAAE+T,QAAQA,KAKpC,OADAtC,EAAImO,MAAMhe,KAAK5B,GACRyR,ECxDT,SAAS2d,GAAepvB,EAAGvO,GACzB,IAAIqQ,EAAM9B,EAAEnP,OAASY,EAOrB,OAAU,IAANA,EAEKuO,EAAEA,EAAEnP,OAAS,GACL,IAANY,EAEFuO,EAAE,GACA8B,EAAM,IAAM,EAEd9B,EAAEsP,KAAKmd,KAAK3qB,GAAO,GACjB9B,EAAEnP,OAAS,IAAM,GAGlBmP,EAAE8B,EAAM,GAAK9B,EAAE8B,IAAQ,EAIxB9B,EAAE8B,GC3Bb,SAASutB,GAAQlI,GACf,OAAO,IAAIzyB,KAAKyyB,GAAMnD,cAGxB,SAASsL,GAAWn1B,GAClB,OAAO,IAAIzF,KAAKyF,EAAM,EAAG,GAAGosB,UAG9B,SAAS5C,GAASwD,GAChB,OAAO,IAAIzyB,KAAKyyB,GAAMxD,WAWxB,SAAS4L,GAAWp1B,EAAMD,GACxB,OAAO,IAAIxF,KAAKyF,EAAMD,EAAO,GAAGqsB,UCZlCpH,GAAmB,MAAO,IAC1BA,GAAmB,YCJJ,SAA+B7e,GAC5C,IAAIsf,EAAQ,GAAStf,GACjBkvB,EAAY,gBAAKlvB,EAAIof,QAMzB,OAJI8P,IAAc,gBAAK5P,IACrBA,EAAMhe,KAAK4tB,GAGN5P,KDHTT,GAAmB,sBEHJ,SAAgB7e,GAC7B,IAAIugB,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV2Q,EAAYpnB,EAAIonB,UAChBgB,EAAOpoB,EAAIooB,KACXwE,EAAe5sB,EAAI4sB,aACnB1E,EAAWloB,EAAIkoB,SACfC,EAAWnoB,EAAImoB,SACf7I,EAAQoM,GAASnL,EAAK9J,EAAK2Q,EAAWgB,GAAM9I,MAEhD,OAAK,iBAAM4I,IAAc,iBAAMC,GAI3ByE,EACK,GAASrM,EAAK9J,EAAKmW,GAActN,MAGnCA,EAPE+O,GAAYruB,EAAK,gBAAKsf,GAAQ,gBAAKA,OFP9CT,GAAmB,YGJJ,SAAsB7e,GACnC,IAAIugB,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV2Q,EAAYpnB,EAAIonB,UAChBwF,EAAe5sB,EAAI4sB,aACnB1E,EAAWloB,EAAIkoB,SACfC,EAAWnoB,EAAImoB,SACf7I,EAAQoP,GAAOnO,EAAK9J,EAAK2Q,GAAW9H,MAExC,OAAK,iBAAM4I,IAAc,iBAAMC,GAI3ByE,EACK,GAASrM,EAAK9J,EAAKmW,GAActN,MAGnCA,EAPE+O,GAAYruB,EAAK,gBAAKsf,GAAQ,gBAAKA,OHL9CT,GAAmB,QIdJ,SAA4B7e,GACzC,IAAIugB,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACVqT,EAAkB9pB,EAAI8pB,gBACtB8C,EAAe5sB,EAAI4sB,aACnBxF,EAAYpnB,EAAIonB,UAEpB,GAAIwF,EACFxF,EAAYpY,KAAKmd,MAAM1V,EAAM8J,GAAOqM,OAC/B,CAEL,IACIuC,GADS1Y,EAAM8J,IADnBqM,EAAezF,GAAgB5G,EAAK9J,EAAK2Q,GAAW,IAEhCA,EAEhB+H,EAAQ,IACVvC,GAA8B5d,KAAKmd,KAAKgD,IAItCrF,GAAmB8C,EAAe9C,IACpC8C,EAAe9C,GAMnB,IAFA,IAAIxK,EAAQ,GAEHjvB,EAAIkwB,EAAKlwB,EAAIomB,EAAMmW,EAAcv8B,GAAKu8B,EAC7CtN,EAAMhe,KAAKjR,GAGb,OAAOivB,KJfTT,GAAmB,eD4BJ,SAAoB7e,GACjC,IAAIugB,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACVqT,EAAkB9pB,EAAI8pB,gBACtB8C,EAAe5sB,EAAI4sB,aACnBxF,EAAYpnB,EAAIonB,UAChB9H,EAAQ,GAEPsN,IACHA,GAAgBnW,EAAM8J,GAAO6G,EAEzB0C,GAAmB8C,EAAe9C,IACpC8C,EAAe9C,IAInB,IAAIsF,EAAUL,GAAQxO,GAEtB,GAAIqM,EpBzBK,QoB6BP,IAHA,IAAIyC,EAAUN,GAAQtY,GAClB6Y,EAAetgB,KAAKmd,KAAKS,EpB3BtB,SoB6BEv8B,EAAI++B,EAAS/+B,GAAKg/B,EAAUC,EAAcj/B,GAAQi/B,EACzDhQ,EAAMhe,KAAK0tB,GAAW3+B,SAEnB,GAAIu8B,EpBjCD,QoBmCR,KAAI2C,EAAgBvgB,KAAKmd,KAAKS,EpBnCtB,SoBoCJ4C,EAASnM,GAAS9C,GAClBkP,EA3DR,SAAmBlP,EAAK9J,GACtB,IAAI2Y,EAAUL,GAAQxO,GAClB8O,EAAUN,GAAQtY,GAClBiZ,EAAWrM,GAAS9C,GAExB,OAA6B,IAArB8O,EAAUD,IADH/L,GAAS5M,GACsBiZ,GAAY,GAsD1CC,CAAUpP,EAAK9J,GAE7B,IAASpmB,EAAI,EAAGA,GAAKo/B,EAAUF,EAAel/B,GAAQk/B,EACpDjQ,EAAMhe,KAAK2tB,GAAWG,EAAS/+B,EAAIm/B,SAEhC,GAAI5C,EpB3CH,MoB6CN,KACI/yB,GADAgtB,EAAO,IAAIzyB,KAAKmsB,IACJmD,cACZ9pB,EAAQitB,EAAKxD,WACbuM,EAAO/I,EAAKhE,UACZnpB,EAAMsV,KAAKmd,KAAKS,EpBjDd,OoBkDFiD,EA3DR,SAAiBtP,EAAK9J,GACpB,OAAOzH,KAAKmd,MAAM1V,EAAM8J,GpBQhB,OoBkDMuP,CAAQvP,EAAK9J,GAEzB,IAASpmB,EAAI,EAAGA,EAAIw/B,EAAQn2B,EAAKrJ,GAAQqJ,EACvC4lB,EAAMhe,KAAK,IAAIlN,KAAKyF,EAAMD,EAAOg2B,EAAOv/B,GAAG41B,gBAExC,GAAI2G,EpBxDF,KoB0DP,CACI/yB,GADAgtB,EAAO,IAAIzyB,KAAKmsB,IACJmD,cACZ9pB,EAAQitB,EAAKxD,WACb3pB,EAAMmtB,EAAKhE,UAHf,IAAIgE,EAIAptB,EAAOotB,EAAKjD,WACZmM,EAAQ/gB,KAAKmd,KAAKS,EpB/Df,MoBgEHoD,EApER,SAAkBzP,EAAK9J,GACrB,OAAOzH,KAAKmd,MAAM1V,EAAM8J,GpBGf,MoBgEM0P,CAAS1P,EAAK9J,GAE3B,IAASpmB,EAAI,EAAGA,GAAK2/B,EAASD,EAAO1/B,GAAQ0/B,EAC3CzQ,EAAMhe,KAAK,IAAIlN,KAAKyF,EAAMD,EAAOF,EAAKD,EAAOpJ,GAAG41B,gBAE7C,GAAI2G,EpBtEA,IoBwET,KAAIsD,EAvER,SAAmB3P,EAAK9J,GACtB,OAAOzH,KAAKmd,MAAM1V,EAAM8J,GAAO,KAsEhB4P,CAAU5P,EAAK9J,GACxByO,EAAUlW,KAAKmd,KAAKS,EpBzEf,KoB2ET,IAASv8B,EAAI,EAAGA,GAAK6/B,EAAShL,EAAS70B,GAAQ60B,EAC7C5F,EAAMhe,KAAKif,EpB5EJ,IoB4EUlwB,OAEd,CAEL,IAAI0T,EAAW6oB,EAEX7oB,EpBnFK,MoBoFPA,EpBpFO,KoBuFT,IAAIqsB,EpBvFK,IoBuFOphB,KAAK2V,MAAMpE,EpBvFlB,KoBwFL8P,EAAWrhB,KAAKmd,MAAM1V,EAAM8J,GpBxFvB,KoByFL+P,EAAUthB,KAAKmd,KAAKpoB,EpBzFf,KoB2FT,IAAS1T,EAAI,EAAGA,EAAIggC,EAAWC,EAASjgC,GAAQigC,EAC9ChR,EAAMhe,KAAK8uB,EpB5FJ,IoB4FgB//B,GAI3B,OAAOivB,KC/GTT,GAAmB,OKVJ,SAA2B7e,GACxC,IAKIiqB,EALArB,EAAO5oB,EAAI4oB,KACXxB,EAAYpnB,EAAIonB,UAChB7G,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV2I,EAASpf,EAAIof,OAEbgP,EAAU1F,GAAIE,EAAMnS,GAExB,GAAI8J,EAAM,EACR0J,EAAUjb,KAAK2V,MAAM+D,GAAIE,EAAMrI,QAC1B,CACL,IAAIsI,EAAcF,GAAkBvJ,EAAQwJ,EAAMnS,GAClDwT,EAAUjb,KAAK2V,MAAM+D,GAAIE,EAAMC,IAOjC,IAJA,IAAIwE,EAAQe,EAAUnE,EAClBsG,EAAMvhB,KAAKmd,KAAKkB,EAAQjG,GACxB9H,EAAQ,GAEHjvB,EAAI45B,EAAS55B,EAAI+9B,EAAUmC,EAAKlgC,GAAQkgC,EAC/CjR,EAAMhe,KAAK0N,KAAKyZ,IAAIG,EAAMv4B,IAQ5B,OALIkwB,GAAO,GAETjB,EAAM6K,QAAQ,GAGT7K,KLlBTT,GAAmB,OMVJ,SAA2B7e,GACxC,IAAIkpB,EAAWlpB,EAAIkpB,SACf9B,EAAYpnB,EAAIonB,UAChB3Q,EAAMzH,KAAKmd,KAAK5D,GAAQW,EAAUlpB,EAAIyW,MAG1C,OADYiY,GADF1f,KAAK2V,MAAM4D,GAAQW,EAAUlpB,EAAIugB,MACnB9J,EAAK2Q,GAAW9H,MAC3BpqB,KAAI,SAAUsW,GACzB,IAAI2d,EAAS3d,GAAQ,EAAI,GAAK,EAC9B,OAAOwD,KAAKyZ,IAAIjd,EAAM0d,GAAYC,QNGtCtK,GAAmB,YFcJ,SAAwB7e,GACrC,IAAIonB,EAAYpnB,EAAIonB,UAChBhI,EAASpf,EAAIof,OAEjB,IAAKA,IAAWA,EAAO7uB,OACrB,MAAO,GAQT,IALA,IAAIigC,EAASpR,EAAOhJ,QAAQyR,MAAK,SAAU1Z,EAAGuC,GAC5C,OAAOvC,EAAIuC,KAET4O,EAAQ,GAEHjvB,EAAI,EAAGA,EAAI+2B,EAAW/2B,IAAK,CAClC,IAAIc,EAAId,GAAK+2B,EAAY,GACzB9H,EAAMhe,KAAKwtB,GAAe0B,EAAQr/B,IAGpC,OAAOmuB,KE/BTT,GAAmB,aOhBJ,SAA4B7e,GACzC,IAAIugB,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACVmW,EAAe5sB,EAAI4sB,aACnB1E,EAAWloB,EAAIkoB,SACfC,EAAWnoB,EAAImoB,SACf7I,EbVS,SAAkBtf,GAC/B,IAAIugB,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV2R,EAAOpoB,EAAIooB,KACXhB,EAAYpnB,EAAIonB,UAChBqJ,EAAS,IAAIxD,GAOjB,OANAwD,EAAOtD,OAAO,CAAC5M,EAAK9J,IAEhB2R,GACFqI,EAAOrI,KAAKhB,GAGPqJ,EAAOnR,MAAM8H,GaFRsJ,CAAS1wB,GAErB,OAAK,iBAAMkoB,IAAc,iBAAMC,GAI3ByE,EACK,GAASrM,EAAK9J,EAAKmW,GAActN,MAGnCA,EAPE+O,GAAYruB,EAAK,gBAAKsf,GAAQ,gBAAKA,OCD9C,GAAc,MAAO,IACrB,GAAc,WAAY,IAC1B,GAAc,WAAY,IAC1B,GAAc,SAAU,IACxB,GAAc,MAAO,IACrB,GAAc,MAAO,IACrB,GAAc,OAAQ,IACtB,GAAc,UAAW,IACzB,GAAc,WAAY,IAC1B,GAAc,WAAY,ICrBnB,IC+IQ,GA1If,WACE,SAASqR,EAAO3wB,GACd,IAAI4wB,EAAS5wB,EAAI4wB,OACbC,EAAS7wB,EAAI6wB,OACbv6B,EAAK0J,EAAI8wB,YACTA,OAAqB,IAAPx6B,EAAgB,CAAC,IAAK,KAAOA,EAC/CxF,KAAKggC,YAAcA,EACnBhgC,KAAK8/B,OAASA,EACd9/B,KAAK+/B,OAASA,EA+HhB,OAvHAF,EAAOjgC,UAAUqgC,SAAW,SAAUC,GACpC,OAAOlgC,KAAKggC,YAAY1/B,QAAQ4/B,IAAQ,GAG1CL,EAAOjgC,UAAUugC,eAAiB,SAAUD,EAAKE,EAAU9R,GACzD,IAGI+R,EACAC,EAJAP,EAAS//B,KAAK+/B,OACdz7B,EAAQgqB,EAAOhuB,QAAQ8/B,GACvB3gC,EAAS6uB,EAAO7uB,OA6BpB,OAzBKsgC,GAAU//B,KAAKigC,SAAS,MAC3BI,EAAM,EACNC,EAAO,GACE7gC,EAAS,GAElB4gC,EAAM/R,EAAiB,IAAVhqB,EAAc,EAAIA,EAAQ,GAEvCg8B,EAAOhS,EAAOhqB,IAAU7E,EAAS,EAAIA,EAAS,EAAI6E,EAAQ,GAE5C,IAAVA,EACF+7B,IAAQD,EAAWC,GAAO,EAE1BA,IAAQC,EAAOF,GAAY,EAGzB97B,IAAU7E,EAAS,EACrB6gC,IAASA,EAAOF,GAAY,EAE5BE,IAASF,EAAW9R,EAAO7uB,EAAS,IAAM,IAG5C4gC,EAAmB,IAAbD,EAAiB,EAAIA,EAAW,GACtCE,EAAoB,IAAbF,EAAiB,EAAIA,EAAW,IAGlC,CACLC,IAAKA,EACLC,KAAMA,IAIVT,EAAOjgC,UAAU2gC,WAAa,SAAUC,EAAkBC,GACxD,IAAIv7B,EAAQlF,KAGR0gC,EAAe1gC,KAAK2gC,aAAaF,GAErC,QAAOD,GAAkB,SAAUI,EAAWt8B,GAG5C,QAAOo8B,GAAc,SAAUpS,EAAQ4R,GAErCh7B,EAAM27B,UAAUX,EAAK5R,EAAQsS,EAAWt8B,UAY9Cu7B,EAAOjgC,UAAUkhC,UAAY,SAAUrhB,EAAMygB,GAS3C,OAPA,QAAOzgB,GAAM,SAAUshB,QACDj6B,IAAhBi6B,EAAOb,KACTa,EAAOb,GD1FQ,MC+FZ,WAAUzgB,EAAMygB,IAKzBL,EAAOjgC,UAAUihC,UAAY,SAAUX,EAAK5R,EAAQ7O,EAAMnb,KAQ1Du7B,EAAOjgC,UAAU+gC,aAAe,SAAUF,GACxC,IACIX,EADK9/B,KACO8/B,OACZC,EAFK//B,KAEO+/B,OAEZW,EAAe,GAEfM,EAAO,GAiBX,GAfIlB,GAAU9/B,KAAKigC,SAAS,MAC1Be,EAAKxwB,KAAKsvB,GAGRC,GAAU//B,KAAKigC,SAAS,MAC1Be,EAAKxwB,KAAKuvB,GAGZiB,EAAK94B,SAAQ,SAAUg4B,GAErBQ,EAAaR,GAAO,eAAcO,EAAYP,GAAKnJ,MAAK,SAAUhZ,EAAIC,GACpE,OAAOD,EAAKC,SAIX+hB,GAAU//B,KAAKigC,SAAS,KAAM,CAEjCS,EAAgB,EAAI,CDtIH,ECsIe,GAGlC,OAAOA,GAGFb,EAvIT,GCJIoB,GAAa,GAMbC,GAAY,SAAmB/6B,GACjC,OAAO86B,GAAW96B,EAAKmM,gBASrB6uB,GAAiB,SAAwBh7B,EAAMi7B,GAEjD,GAAIF,GAAU/6B,GACZ,MAAM,IAAIyP,MAAM,gBAAkBzP,EAAO,cAI3C86B,GAAW96B,EAAKmM,eAAiB8uB,GCkGpB,GAnHf,SAAUn8B,GAGR,SAASo8B,EAAMnyB,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAEtCkF,EAAMo8B,SAAW,GACjBp8B,EAAMq8B,gBAAkB,GACxBr8B,EAAMs8B,UAAY,GAClB,IAAIh8B,EAAK0J,EAAIuyB,YACTA,OAAqB,IAAPj8B,EHdI,GGc2BA,EAC7Cg3B,EAAKttB,EAAIwyB,WACTA,OAAoB,IAAPlF,EHfI,GGe0BA,EAC3CmF,EAAUzyB,EAAIyyB,QAIlB,OAHAz8B,EAAMu8B,YAAcA,EACpBv8B,EAAMw8B,WAAaA,EACnBx8B,EAAMy8B,QAAUA,EACTz8B,EA+FT,OA/GA,qBAAUm8B,EAAOp8B,GAmBjBo8B,EAAMzhC,UAAUgiC,QAAU,SAAUC,GAClC,IAAIrB,EAAmB,SAAQqB,GAG3BL,EAAY,WAAUhB,GAEtBmB,EAAU3hC,KAAK2hC,QAEfJ,EAAkBI,EAAU,SAAQH,EAAWG,GAAWnB,EAO9D,OANAxgC,KAAKshC,SAAW,GAChBthC,KAAKuhC,gBAAkBA,EACvBvhC,KAAKwhC,UAAYA,EACjBxhC,KAAKugC,WAAWgB,EAAiBC,GACjCxhC,KAAKuhC,gBAAkB,GACvBvhC,KAAKwhC,UAAY,GACVhB,GAGTa,EAAMzhC,UAAUihC,UAAY,SAAUX,EAAK5R,EAAQ7O,EAAMqiB,GACvD,IAAI58B,EAAQlF,KAERoE,EAAMpE,KAAK+hC,gBAAgB7B,GAC3BY,EAAY9gC,KAAK8gC,UAAUrhB,EAAMygB,GAuBrC,OArBA,QAAOY,GAAW,SAAUkB,EAAOriC,GACjC,IAAI4uB,EAGFA,EADoB,IAAlBD,EAAO7uB,OACD,CACN4gC,IAAK/R,EAAO,GAAK,EACjBgS,KAAMhS,EAAO,GAAK,GAIZppB,EAAMi7B,eAAeD,EAAK9Z,WAAWzmB,GAAM2uB,GAGrD,QAAO0T,GAAO,SAAUpjB,GACtB,IAAIhe,EAAQge,EAAEshB,GACV+B,EAAW79B,EAAIxD,GACfshC,EAAWD,EAAS3hC,QAAQwhC,GAChCljB,EAAEshB,GAAOh7B,EAAMi9B,eAAe5T,EAAO2T,EAAUD,EAASxiC,cAIrD,IAGT4hC,EAAMzhC,UAAUuiC,eAAiB,SAAU5T,EAAO7d,EAAKmN,GACrD,IACI6jB,EADK1hC,KACW0hC,WAChBD,EAFKzhC,KAEYyhC,YAEjBpB,EAAM9R,EAAM8R,IACZC,EAAO/R,EAAM+R,KACb8B,EAAa9B,EAAOD,EACpB77B,EAAQ49B,EAAaV,EAAa7jB,EAClC/F,EAAS2pB,EAAcj9B,EAE3B,OAAQ67B,EAAMC,GAAQ,GADT,IAAS8B,EAAavkB,EAAMrZ,GAASqZ,EAAM,GAAK/F,KAAYpH,EAAM,GAAKlM,EAAQkM,EAAMoH,GAAU,GAAQtT,EAAQ,GAAQ49B,IAItIf,EAAMzhC,UAAUmiC,gBAAkB,SAAU7B,GAC1C,IAAIM,EAAmBxgC,KAAKuhC,gBACxBD,EAAWthC,KAAKshC,SAChBl9B,EAAMk9B,EAASpB,GAwBnB,OAtBK97B,IACHA,EAAM,GAEN,QAAOo8B,GAAkB,SAAU/gB,EAAMnb,GACvC,IAAIgqB,EAAS,eAAc7O,EAAMygB,GAE5B5R,EAAO7uB,QACV6uB,EAAO9d,KAAK,GAGd,QAAO8d,GAAQ,SAAU+C,GAClBjtB,EAAIitB,KACPjtB,EAAIitB,GAAO,IAGbjtB,EAAIitB,GAAK7gB,KAAKlM,SAIlBg9B,EAASpB,GAAO97B,GAGXA,GAGFi9B,EAhHT,CAiHE,IC/GF,IA+De,GA7Df,SAAUp8B,GAGR,SAASo9B,IACP,OAAkB,OAAXp9B,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAsD7D,OAzDA,qBAAUqiC,EAAQp9B,GAMlBo9B,EAAOziC,UAAUgiC,QAAU,SAAUC,GACnC,IAAIrB,EAAmB,SAAQqB,GAG3BL,EAAY,WAAUhB,GAI1B,OADAxgC,KAAKugC,WAAWC,EAAkBgB,GAC3BhB,GAUT6B,EAAOziC,UAAUihC,UAAY,SAAUX,EAAK5R,EAAQsS,GAClD,IAAI17B,EAAQlF,KAGR6hC,EAAiB7hC,KAAK8gC,UAAUF,EAAWV,GAC/C,OAAO,QAAO2B,GAAgB,SAAUpiB,EAAM2gB,GAC5C,OAAOl7B,EAAMo9B,YAAY7iB,EAAMygB,EAAK9Z,WAAWga,GAAW9R,OAK9D+T,EAAOziC,UAAU2iC,gBAAkB,SAAUhU,GAC3C,IA3CkBkB,EA2Cd4Q,EAAM9R,EAAM8R,IACZC,EAAO/R,EAAM+R,KAEbxoB,EJ7CS,KI6CCwoB,EAAOD,GACrB,OAAkCC,EAAOxoB,GA/CvB2X,EA+CE4Q,EAAMvoB,IA9CPoG,KAAKskB,SAAW/S,GAkDrC4S,EAAOziC,UAAU0iC,YAAc,SAAUN,EAAO9B,EAAKE,EAAU9R,GAC7D,IAAIppB,EAAQlF,KAGRuuB,EAAQvuB,KAAKmgC,eAAeD,EAAKE,EAAU9R,GAM/C,OAJA,QAAO0T,GAAO,SAAUviB,GACtBA,EAAKygB,GAAOh7B,EAAMq9B,gBAAgBhU,MAG7ByT,GAGFK,EA1DT,CA2DE,ICnEEI,GAAQ,SA6HG,GAzHf,SAAUx9B,GAGR,SAASy9B,EAAMxzB,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAElCwF,EAAK0J,EAAI8wB,YACTA,OAAqB,IAAPx6B,EAAgB,CAAC,KAAOA,EACtCg3B,EAAKttB,EAAIJ,OACTA,OAAgB,IAAP0tB,EAAgB9M,IAAM8M,EAC/BmG,EAAKzzB,EAAIhJ,KACTA,OAAc,IAAPy8B,EAAgB,GAAKA,EAC5BC,EAAK1zB,EAAI2zB,aACTA,OAAsB,IAAPD,GAAwBA,EAK3C,OAJA19B,EAAM86B,YAAcA,EACpB96B,EAAM4J,OAASA,EACf5J,EAAMgB,KAAOA,EACbhB,EAAM29B,aAAeA,EACd39B,EAoGT,OArHA,qBAAUw9B,EAAOz9B,GAyBjBy9B,EAAM9iC,UAAUgiC,QAAU,SAAUC,GAClC,IACI9B,EADK//B,KACO+/B,OACZ8C,EAFK7iC,KAEa6iC,aAIlBjkB,EAAImhB,EAAS//B,KAAK8iC,aAAajB,GAAkB7hC,KAAK+iC,mBAAmBlB,GAC7E,OAAOgB,EAAe7iC,KAAK68B,QAAQje,GAAKA,GAG1C8jB,EAAM9iC,UAAUi9B,QAAU,SAAU2D,GAClC,OAAOA,EAAiBlb,MAAM,GAAGuX,WAGnC6F,EAAM9iC,UAAUkjC,aAAe,SAAUjB,GACvC,IACI/B,EADK9/B,KACO8/B,OACZC,EAFK//B,KAEO+/B,OAIZS,EANKxgC,KAGa6iC,aAGgB7iC,KAAK68B,QAAQgF,GAAkBA,EAEjEmB,EAAW,IAAIP,GACfQ,EAAW,IAAIR,GACnB,OAAOjC,EAAiBp8B,KAAI,SAAUw8B,GACpC,OAAOA,EAAUx8B,KAAI,SAAUqb,GAC7B,IAAIja,EAEAoJ,EAAI,OAAM6Q,EAAMqgB,EAAQ,GAExBjxB,EAAI,OAAM4Q,EAAMsgB,GAEhBmD,EAAOt0B,EAAErL,WAIb,GAFAsL,EAAI,WAAUA,GAAKA,EAAE,GAAKA,GAErB,SAAQA,GAAI,CACf,IAAIs0B,EAAQt0B,GAAK,EAAIm0B,EAAWC,EAE3BE,EAAMC,IAAIF,IACbC,EAAM9yB,IAAI6yB,EAAM,GAGlB,IAAIG,EAASF,EAAMlmB,IAAIimB,GACnBI,EAAYz0B,EAAIw0B,EAGpB,OADAF,EAAM9yB,IAAI6yB,EAAMI,GACT,oBAAS,oBAAS,GAAI7jB,KAAQja,EAAK,IAAOu6B,GAAU,CAACsD,EAAQC,GAAY99B,IAIlF,OAAOia,SAKbijB,EAAM9iC,UAAUmjC,mBAAqB,SAAUlB,GAC7C,IAAI38B,EAAQlF,KAGR8/B,EADK9/B,KACO8/B,OACZhxB,EAFK9O,KAEO8O,OACZ+zB,EAHK7iC,KAGa6iC,aAIlBrC,EAAmBqC,EAAe7iC,KAAK68B,QAAQgF,GAAkBA,EAEjEsB,EAAQ,IAAIV,GAChB,OAAOjC,EAAiBp8B,KAAI,SAAUw8B,GACpC,OAAOA,EAAUx8B,KAAI,SAAUqb,GAC7B,IAAIja,EAEAU,EAAOhB,EAAMgB,KACbm9B,EAAS5jB,EAAKqgB,GAEdyD,EAAqB,EAAPr9B,EAAW4I,EAExBq0B,EAAMC,IAAIC,IACbF,EAAM9yB,IAAIgzB,EAAQE,EAAc,GAGlC,IAAIC,EAAaL,EAAMlmB,IAAIomB,GAG3B,OADAF,EAAM9yB,IAAIgzB,EAAQG,EAAaD,GACxB,oBAAS,oBAAS,GAAI9jB,KAAQja,EAAK,IAAa,EAAIg+B,EAAYh+B,WAKtEk9B,EAtHT,CAuHE,IC5Ca,GA5Ef,SAAUz9B,GAGR,SAASw+B,IACP,OAAkB,OAAXx+B,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAqE7D,OAxEA,qBAAUyjC,EAAWx+B,GAMrBw+B,EAAU7jC,UAAUgiC,QAAU,SAAUC,GACtC,IAAIL,EAAY,WAAUK,GAGtB/B,EADK9/B,KACO8/B,OACZC,EAFK//B,KAEO+/B,OAGZoD,EAAQnjC,KAAK0jC,iBAAiBlC,GAE9B7b,EAAMzH,KAAKyH,IAAI5lB,MAAMme,KAAM9e,OAAOukC,KAAKR,GAAO/+B,KAAI,SAAUzE,GAC9D,OAAOwjC,EAAMxjC,OAEf,OAAO,OAAMkiC,GAAgB,SAAUjB,GACrC,OAAO,OAAMA,GAAW,SAAUnhB,GAChC,IAAIja,EAAIg3B,EAEJoH,EAASnkB,EAAKsgB,GACdsD,EAAS5jB,EAAKqgB,GAElB,GAAI,WAAU8D,GAAS,CACrB,IAAIC,GAASle,EAAMwd,EAAME,IAAW,EACpC,OAAO,oBAAS,oBAAS,GAAI5jB,KAAQja,EAAK,IAAOu6B,GAAU,OAAM6D,GAAQ,SAAU/0B,GACjF,OAAOg1B,EAAQh1B,KACbrJ,IAIN,IAAIwP,GAAU2Q,EAAMie,GAAU,EAC9B,OAAO,oBAAS,oBAAS,GAAInkB,KAAQ+c,EAAK,IAAOuD,GAAU,CAAC/qB,EAAQ4uB,EAAS5uB,GAASwnB,WAM5FiH,EAAU7jC,UAAU8jC,iBAAmB,SAAUlC,GAC/C,IAAIt8B,EAAQlF,KAGR8/B,EADK9/B,KACO8/B,OACZC,EAFK//B,KAEO+/B,OAGZ8B,EAAiB,WAAUL,GAAW,SAAU/hB,GAClD,OAAOA,EAAKqgB,MAId,OAAO,aAAY+B,GAAgB,SAAUjB,GAC3C,OAAO17B,EAAM4+B,eAAelD,EAAWb,OAI3C0D,EAAU7jC,UAAUkkC,eAAiB,SAAUtC,EAAWtB,GAExD,IAAI6D,EAAY,OAAMvC,GAAW,SAAU/hB,GACzC,OAAO,OAAMA,EAAMygB,EAAK,OAItB8D,EAAgB,WAAUD,GAG9B,OAAO7lB,KAAKyH,IAAI5lB,MAAMme,KAAM8lB,IAGvBP,EAzET,CA0EE,ICzEFtC,GAAe,QAAS,IACxBA,GAAe,SAAU,IACzBA,GAAe,QAAS,IACxBA,GAAe,YAAa,ICH5B,IAsQe,GApQf,WACE,SAAS8C,EAAW/0B,GAElBlP,KAAKmG,KAAO,aACZnG,KAAKyqB,QAAS,EACdzqB,KAAKkkC,SAAU,EACflkC,KAAKwmB,SAAU,EACfxmB,KAAKmkC,YAAa,EAClBnkC,KAAKokC,YAAa,EAClB,IAAIlzB,EAAQhC,EAAIgC,MACZC,EAAMjC,EAAIiC,IACV3L,EAAK0J,EAAIoY,OACTA,OAAgB,IAAP9hB,EAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAKA,EACvDg3B,EAAKttB,EAAIiY,aACTA,OAAsB,IAAPqV,GAAwBA,EAC3Cx8B,KAAKkR,MAAQA,EACblR,KAAKmR,IAAMA,EACXnR,KAAKsnB,OAASA,EACdtnB,KAAKqkC,eAAiB,0BAAe/c,GAErCtnB,KAAKmnB,aAAeA,EA6OtB,OAtOA8c,EAAWrkC,UAAU0kC,QAAU,WAE7BtkC,KAAK2mB,OAAS,CACZ/X,GAAI5O,KAAKkR,MAAMtC,EAAI5O,KAAKmR,IAAIvC,GAAK,EACjCC,GAAI7O,KAAKkR,MAAMrC,EAAI7O,KAAKmR,IAAItC,GAAK,GAEnC7O,KAAKwE,MAAQ0Z,KAAKsE,IAAIxiB,KAAKmR,IAAIvC,EAAI5O,KAAKkR,MAAMtC,GAC9C5O,KAAK8O,OAASoP,KAAKsE,IAAIxiB,KAAKmR,IAAItC,EAAI7O,KAAKkR,MAAMrC,IAQjDo1B,EAAWrkC,UAAUyqB,OAAS,SAAUnb,GACtC,UAASlP,KAAMkP,GAEflP,KAAKskC,WAGPL,EAAWrkC,UAAU2kC,WAAa,SAAU3U,EAASsQ,GACnD,IAAI16B,EAEAg3B,EAAKx8B,KAAKkgC,GACVhvB,EAAQsrB,EAAGtrB,MACXC,EAAMqrB,EAAGrrB,IAMb,OAJInR,KAAKwkC,UAAUtE,KACEhvB,GAAnB1L,EAAK,CAAC2L,EAAKD,IAAmB,GAAIC,EAAM3L,EAAG,IAGtC0L,EAAQ0e,GAAWze,EAAMD,IAGlC+yB,EAAWrkC,UAAU6kC,UAAY,SAAU7jC,EAAOs/B,GAChD,IAAI16B,EAEAg3B,EAAKx8B,KAAKkgC,GACVhvB,EAAQsrB,EAAGtrB,MACXC,EAAMqrB,EAAGrrB,IAMb,OAJInR,KAAKwkC,UAAUtE,KACEhvB,GAAnB1L,EAAK,CAAC2L,EAAKD,IAAmB,GAAIC,EAAM3L,EAAG,KAGrC5E,EAAQsQ,IAAUC,EAAMD,IAWlC+yB,EAAWrkC,UAAU8kC,YAAc,SAAU91B,EAAGC,EAAG81B,QACrC,IAARA,IACFA,EAAM,GAGR,IAAIrd,EAAStnB,KAAKsnB,OACdsd,EAAS,CAACh2B,EAAGC,EAAG81B,GAEpB,OADA,GAAKE,cAAcD,EAAQA,EAAQtd,GAC5Bsd,GAWTX,EAAWrkC,UAAUklC,aAAe,SAAUl2B,EAAGC,EAAG81B,QACtC,IAARA,IACFA,EAAM,GAGR,IAAIrd,EAAStnB,KAAKsnB,OACdyd,EAAW,GAAKhV,OAAO,GAAIzI,GAC3Bsd,EAAS,CAACh2B,EAAGC,EAAG81B,GAOpB,OALII,GAEF,GAAKF,cAAcD,EAAQA,EAAQG,GAG9BH,GASTX,EAAWrkC,UAAUolC,QAAU,SAAUzxB,GACvC,IAAI/N,EAAKxF,KAAK0tB,aAAana,GACvB3E,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EAEP+1B,EAAS5kC,KAAK0kC,YAAY91B,EAAGC,EAAG,GACpC,MAAO,CACLD,EAAGg2B,EAAO,GACV/1B,EAAG+1B,EAAO,KAUdX,EAAWrkC,UAAUmwB,OAAS,SAAUxc,GACtC,IAAIqxB,EAAS5kC,KAAK8kC,aAAavxB,EAAM3E,EAAG2E,EAAM1E,EAAG,GACjD,OAAO7O,KAAKilC,YAAY,CACtBr2B,EAAGg2B,EAAO,GACV/1B,EAAG+1B,EAAO,MAUdX,EAAWrkC,UAAUsiB,OAAS,SAAUgjB,GACtC,IAAI5d,EAAStnB,KAAKsnB,OACdX,EAAS3mB,KAAK2mB,OAIlB,OAHA,GAAKgI,UAAUrH,EAAQA,EAAQ,EAAEX,EAAO/X,GAAI+X,EAAO9X,IACnD,GAAKqT,OAAOoF,EAAQA,EAAQ4d,GAC5B,GAAKvW,UAAUrH,EAAQA,EAAQ,CAACX,EAAO/X,EAAG+X,EAAO9X,IAC1C7O,MASTikC,EAAWrkC,UAAUulC,QAAU,SAAUjF,GAOvC,MANY,MAARA,EACFlgC,KAAKmkC,YAAcnkC,KAAKmkC,WAExBnkC,KAAKokC,YAAcpkC,KAAKokC,WAGnBpkC,MAUTikC,EAAWrkC,UAAU+tB,MAAQ,SAAU1K,EAAIE,GACzC,IAAImE,EAAStnB,KAAKsnB,OACdX,EAAS3mB,KAAK2mB,OAIlB,OAHA,GAAKgI,UAAUrH,EAAQA,EAAQ,EAAEX,EAAO/X,GAAI+X,EAAO9X,IACnD,GAAK8e,MAAMrG,EAAQA,EAAQ,CAACrE,EAAIE,IAChC,GAAKwL,UAAUrH,EAAQA,EAAQ,CAACX,EAAO/X,EAAG+X,EAAO9X,IAC1C7O,MAUTikC,EAAWrkC,UAAU+uB,UAAY,SAAU/f,EAAGC,GAC5C,IAAIyY,EAAStnB,KAAKsnB,OAElB,OADA,GAAKqH,UAAUrH,EAAQA,EAAQ,CAAC1Y,EAAGC,IAC5B7O,MAQTikC,EAAWrkC,UAAUwlC,UAAY,WAE/B,OADAplC,KAAKmnB,cAAgBnnB,KAAKmnB,aACnBnnB,MAGTikC,EAAWrkC,UAAUgnB,UAAY,WAC/B,OAAO5mB,KAAK2mB,QAGdsd,EAAWrkC,UAAUqoB,SAAW,WAC9B,OAAOjoB,KAAKwE,OAGdy/B,EAAWrkC,UAAUylC,UAAY,WAC/B,OAAOrlC,KAAK8O,QAGdm1B,EAAWrkC,UAAUinB,UAAY,WAC/B,OAAO7mB,KAAKwT,QAQdywB,EAAWrkC,UAAU4kC,UAAY,SAAUtE,GACzC,MAAe,MAARA,EAAclgC,KAAKmkC,WAAankC,KAAKokC,YAQ9CH,EAAWrkC,UAAU0lC,YAAc,SAAUhe,GAE3CtnB,KAAKsnB,OAASA,GAAkB,0BAAetnB,KAAKqkC,iBAG/CJ,EAjQT,GCgEe,GAhEf,SAAUh/B,GAGR,SAASsgC,EAAUr2B,GACjB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAOtC,OALAkF,EAAMulB,QAAS,EACfvlB,EAAMiB,KAAO,YAEbjB,EAAMo/B,UAECp/B,EAkDT,OA5DA,qBAAUqgC,EAAWtgC,GAarBsgC,EAAU3lC,UAAU0kC,QAAU,WAC5Br/B,EAAOrF,UAAU0kC,QAAQxkC,KAAKE,MAE9B,IAAIkR,EAAQlR,KAAKkR,MACbC,EAAMnR,KAAKmR,IACfnR,KAAK4O,EAAI,CACPsC,MAAOA,EAAMtC,EACbuC,IAAKA,EAAIvC,GAEX5O,KAAK6O,EAAI,CACPqC,MAAOA,EAAMrC,EACbsC,IAAKA,EAAItC,IAIb02B,EAAU3lC,UAAU8tB,aAAe,SAAUna,GAC3C,IAAI/N,EAEAoJ,EAAI2E,EAAM3E,EACVC,EAAI0E,EAAM1E,EAMd,OAJI7O,KAAKmnB,eACMvY,GAAbpJ,EAAK,CAACqJ,EAAGD,IAAW,GAAIC,EAAIrJ,EAAG,IAG1B,CACLoJ,EAAG5O,KAAKukC,WAAW31B,EAAG,KACtBC,EAAG7O,KAAKukC,WAAW11B,EAAG,OAI1B02B,EAAU3lC,UAAUqlC,YAAc,SAAU1xB,GAC1C,IAAI/N,EAEAoJ,EAAI5O,KAAKykC,UAAUlxB,EAAM3E,EAAG,KAC5BC,EAAI7O,KAAKykC,UAAUlxB,EAAM1E,EAAG,KAMhC,OAJI7O,KAAKmnB,eACMvY,GAAbpJ,EAAK,CAACqJ,EAAGD,IAAW,GAAIC,EAAIrJ,EAAG,IAG1B,CACLoJ,EAAGA,EACHC,EAAGA,IAIA02B,EA7DT,CA8DE,ICwDa,GArHf,SAAUtgC,GAGR,SAASugC,EAAMt2B,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAEtCkF,EAAMg/B,SAAU,EAChBh/B,EAAMiB,KAAO,QACb,IAAIX,EAAK0J,EAAIuX,WACTA,OAAoB,IAAPjhB,EAAgB,KAAO0Y,KAAKK,GAAK/Y,EAC9Cg3B,EAAKttB,EAAIwX,SACTA,OAAkB,IAAP8V,EAAgB,KAAOte,KAAKK,GAAKie,EAC5CmG,EAAKzzB,EAAIu2B,YACTA,OAAqB,IAAP9C,EAAgB,EAAIA,EAClCnvB,EAAStE,EAAIsE,OAQjB,OAPAtO,EAAMuhB,WAAaA,EACnBvhB,EAAMwhB,SAAWA,EACjBxhB,EAAMugC,YAAcA,EACpBvgC,EAAMsO,OAASA,EAEftO,EAAMo/B,UAECp/B,EA4FT,OAjHA,qBAAUsgC,EAAOvgC,GAwBjBugC,EAAM5lC,UAAU0kC,QAAU,WACxBr/B,EAAOrF,UAAU0kC,QAAQxkC,KAAKE,MAE9B,IAAIsE,GAAStE,KAAK0mB,SAAW1mB,KAAKymB,aAAe,EAAIvI,KAAKK,IAAM,EAE5DmnB,EAAYxnB,KAAKuR,IAAIzvB,KAAKwE,MAAOxE,KAAK8O,QAAU,EAEhD9O,KAAKwT,QAAUxT,KAAKwT,QAAU,GAAKxT,KAAKwT,QAAU,IACpDkyB,GAAwB1lC,KAAKwT,QAG/BxT,KAAK4e,EAAIV,KAAK2V,MAAM6R,GAAa,EAAI1lC,KAAKylC,aAAenhC,GACzDtE,KAAKqd,EAAIrd,KAAK4e,GAAe,EAAVV,KAAKK,IAExBve,KAAK4O,EAAI,CACPsC,MAAOlR,KAAKymB,WACZtV,IAAKnR,KAAK0mB,UAEZ1mB,KAAK6O,EAAI,CACPqC,MAAOlR,KAAKylC,YAAcC,EAC1Bv0B,IAAKnR,KAAKylC,YAAcC,EAAqB,IAAT1lC,KAAK4e,IAU7C4mB,EAAM5lC,UAAU8tB,aAAe,SAAUna,GACvC,IAAI/N,EAEAoJ,EAAI2E,EAAM3E,EACVC,EAAI0E,EAAM1E,EAEV7O,KAAKmnB,eACMvY,GAAbpJ,EAAK,CAACqJ,EAAGD,IAAW,GAAIC,EAAIrJ,EAAG,IAGjC,IAAImgC,EAAM3lC,KAAKukC,WAAW31B,EAAG,KACzBsK,EAAIlZ,KAAKqd,EAAIsoB,EACbC,EAAO5lC,KAAKukC,WAAW11B,EAAG,KAC9B,MAAO,CACLD,EAAG5O,KAAK2mB,OAAO/X,EAAIsP,KAAKiE,IAAIwjB,IAAQzsB,EAAI0sB,GACxC/2B,EAAG7O,KAAK2mB,OAAO9X,EAAIqP,KAAKkE,IAAIujB,IAAQzsB,EAAI0sB,KAU5CJ,EAAM5lC,UAAUqlC,YAAc,SAAU1xB,GACtC,IAAI/N,EAEAoZ,EAAI5e,KAAK4e,EAAI5e,KAAK6O,EAAEqC,MACpBoM,EAAI,GAAKuoB,SAAS,GAAI,CAACtyB,EAAM3E,EAAG2E,EAAM1E,GAAI,CAAC7O,KAAK2mB,OAAO/X,EAAG5O,KAAK2mB,OAAO9X,IACtE82B,EAAM,GAAKG,QAAQxoB,EAAG,CAAC,EAAG,IAAI,GAC9ByoB,EAAOJ,EAAM3lC,KAAKqd,EAElB,GAAK5d,OAAO6d,GAAKyoB,IAEnBA,EAAO,GAAKtmC,OAAO6d,IAKrBqoB,EAAM,EAFMznB,KAAK2V,OAAO,GAAKp0B,OAAO6d,GAAKyoB,GAAQnnB,GAE/BV,KAAKK,GAAKonB,EAC5B,IAAIzsB,EAAIlZ,KAAKqd,EAAIsoB,EACbC,EAAO,GAAKnmC,OAAO6d,GAAKpE,EAC5B0sB,EAAO,yBAAcA,EAAM,GAAK,EAAIA,EACpC,IAAIh3B,EAAI5O,KAAKykC,UAAUkB,EAAK,KACxB92B,EAAI7O,KAAKykC,UAAUmB,EAAM,KAQ7B,OAPAh3B,EAAI,yBAAcA,EAAG,GAAK,EAAIA,EAC9BC,EAAI,yBAAcA,EAAG,GAAK,EAAIA,EAE1B7O,KAAKmnB,eACMvY,GAAbpJ,EAAK,CAACqJ,EAAGD,IAAW,GAAIC,EAAIrJ,EAAG,IAG1B,CACLoJ,EAAGA,EACHC,EAAGA,IAIA22B,EAlHT,CAmHE,IC2Ca,GAjKf,SAAUvgC,GAGR,SAAS+gC,EAAM92B,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAEtCkF,EAAMshB,SAAU,EAChBthB,EAAMiB,KAAO,QACb,IAAIX,EAAK0J,EAAIuX,WACTA,OAAoB,IAAPjhB,GAAiB0Y,KAAKK,GAAK,EAAI/Y,EAC5Cg3B,EAAKttB,EAAIwX,SACTA,OAAkB,IAAP8V,EAA0B,EAAVte,KAAKK,GAAS,EAAIie,EAC7CmG,EAAKzzB,EAAIu2B,YACTA,OAAqB,IAAP9C,EAAgB,EAAIA,EAClCnvB,EAAStE,EAAIsE,OAQjB,OAPAtO,EAAMuhB,WAAaA,EACnBvhB,EAAMwhB,SAAWA,EACjBxhB,EAAMugC,YAAcA,EACpBvgC,EAAMsO,OAASA,EAEftO,EAAMo/B,UAECp/B,EAwIT,OA7JA,qBAAU8gC,EAAO/gC,GAwBjB+gC,EAAMpmC,UAAU0kC,QAAU,WAGxB,IAFAr/B,EAAOrF,UAAU0kC,QAAQxkC,KAAKE,MAEvBA,KAAK0mB,SAAW1mB,KAAKymB,YAC1BzmB,KAAK0mB,UAAsB,EAAVxI,KAAKK,GAGxB,IAKImnB,EALAO,EAASjmC,KAAKkmC,YACdC,EAAWF,EAAOzd,KAAOyd,EAAO1d,KAChC6d,EAAYH,EAAOvd,KAAOud,EAAOxd,KACjC/R,EAAOwH,KAAKsE,IAAIyjB,EAAO1d,MAAQ4d,EAC/B5vB,EAAM2H,KAAKsE,IAAIyjB,EAAOxd,MAAQ2d,EAG9BpmC,KAAK8O,OAASs3B,EAAYpmC,KAAKwE,MAAQ2hC,GAEzCT,EAAY1lC,KAAKwE,MAAQ2hC,EACzBnmC,KAAKqmC,aAAe,CAClBz3B,EAAG5O,KAAK2mB,OAAO/X,GAAK,GAAM8H,GAAQ1W,KAAKwE,MACvCqK,EAAG7O,KAAK2mB,OAAO9X,GAAK,GAAM0H,GAAOmvB,EAAYU,KAI/CV,EAAY1lC,KAAK8O,OAASs3B,EAC1BpmC,KAAKqmC,aAAe,CAClBz3B,EAAG5O,KAAK2mB,OAAO/X,GAAK,GAAM8H,GAAQgvB,EAAYS,EAC9Ct3B,EAAG7O,KAAK2mB,OAAO9X,GAAK,GAAM0H,GAAOvW,KAAK8O,SAI1C9O,KAAKsmC,YAActmC,KAAKwT,OAEnBxT,KAAKwT,OAECxT,KAAKwT,OAAS,GAAKxT,KAAKwT,QAAU,EAC3CxT,KAAKsmC,YAAcZ,EAAY1lC,KAAKwT,QAC3BxT,KAAKwT,QAAU,GAAKxT,KAAKwT,OAASkyB,KAC3C1lC,KAAKsmC,YAAcZ,GAJnB1lC,KAAKsmC,YAAcZ,EAOrB1lC,KAAK4O,EAAI,CACPsC,MAAOlR,KAAKymB,WACZtV,IAAKnR,KAAK0mB,UAEZ1mB,KAAK6O,EAAI,CACPqC,MAAOlR,KAAKylC,YAAczlC,KAAKsmC,YAC/Bn1B,IAAKnR,KAAKsmC,cAIdN,EAAMpmC,UAAUinB,UAAY,WAC1B,OAAO7mB,KAAKsmC,aAGdN,EAAMpmC,UAAU8tB,aAAe,SAAUna,GACvC,IAAI/N,EAEAmhB,EAAS3mB,KAAK4mB,YACdhY,EAAI2E,EAAM3E,EACVC,EAAI0E,EAAM1E,EAQd,OANI7O,KAAKmnB,eACMvY,GAAbpJ,EAAK,CAACqJ,EAAGD,IAAW,GAAIC,EAAIrJ,EAAG,IAGjCoJ,EAAI5O,KAAKukC,WAAW31B,EAAG,KACvBC,EAAI7O,KAAKukC,WAAW11B,EAAG,KAChB,CACLD,EAAG+X,EAAO/X,EAAIsP,KAAKiE,IAAIvT,GAAKC,EAC5BA,EAAG8X,EAAO9X,EAAIqP,KAAKkE,IAAIxT,GAAKC,IAIhCm3B,EAAMpmC,UAAUqlC,YAAc,SAAU1xB,GACtC,IAAIoT,EAAS3mB,KAAK4mB,YACd2f,EAAS,CAAChzB,EAAM3E,EAAI+X,EAAO/X,EAAG2E,EAAM1E,EAAI8X,EAAO9X,GAC/C+O,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACjC,GAAKsE,OAAOtE,EAAGA,EAAG5d,KAAKymB,YACvB,IAAI+f,EAAS,CAAC,EAAG,EAAG,GACpB,GAAK3B,cAAc2B,EAAQA,EAAQ5oB,GACnC4oB,EAAS,CAACA,EAAO,GAAIA,EAAO,IAC5B,IAAInoB,EAAQ,GAAKynB,QAAQU,EAAQD,EAAQvmC,KAAK0mB,SAAW1mB,KAAKymB,YAE1D,yBAAcpI,EAAiB,EAAVH,KAAKK,MAC5BF,EAAQ,GAGV,IAAI7K,EAAS,GAAK/T,OAAO8mC,GACrBE,EAAWpoB,GAASre,KAAK0mB,SAAW1mB,KAAKymB,YAC7CggB,EAAWzmC,KAAK0mB,SAAW1mB,KAAKymB,WAAa,EAAIggB,GAAYA,EAC7D,IAAIC,EAAW1mC,KAAKykC,UAAUjxB,EAAQ,KAClC2Y,EAAM,CACRvd,EAAG,EACHC,EAAG,GAIL,OAFAsd,EAAIvd,EAAI5O,KAAKmnB,aAAeuf,EAAWD,EACvCta,EAAItd,EAAI7O,KAAKmnB,aAAesf,EAAWC,EAChCva,GAGT6Z,EAAMpmC,UAAUgnB,UAAY,WAC1B,OAAO5mB,KAAKqmC,cAGdL,EAAMpmC,UAAUsmC,UAAY,WAC1B,IAAIzf,EAAazmB,KAAKymB,WAClBC,EAAW1mB,KAAK0mB,SAEpB,GAAIxI,KAAKsE,IAAIkE,EAAWD,IAAyB,EAAVvI,KAAKK,GAC1C,MAAO,CACLgK,MAAO,EACPC,KAAM,EACNC,MAAO,EACPC,KAAM,GAOV,IAHA,IAAIie,EAAK,CAAC,EAAGzoB,KAAKiE,IAAIsE,GAAavI,KAAKiE,IAAIuE,IACxCkgB,EAAK,CAAC,EAAG1oB,KAAKkE,IAAIqE,GAAavI,KAAKkE,IAAIsE,IAEnCnnB,EAAI2e,KAAKuR,IAAIhJ,EAAYC,GAAWnnB,EAAI2e,KAAKyH,IAAIc,EAAYC,GAAWnnB,GAAK2e,KAAKK,GAAK,GAC9FooB,EAAGn2B,KAAK0N,KAAKiE,IAAI5iB,IACjBqnC,EAAGp2B,KAAK0N,KAAKkE,IAAI7iB,IAGnB,MAAO,CACLgpB,KAAMrK,KAAKuR,IAAI1vB,MAAMme,KAAMyoB,GAC3Bne,KAAMtK,KAAKyH,IAAI5lB,MAAMme,KAAMyoB,GAC3Ble,KAAMvK,KAAKuR,IAAI1vB,MAAMme,KAAM0oB,GAC3Ble,KAAMxK,KAAKyH,IAAI5lB,MAAMme,KAAM0oB,KAIxBZ,EA9JT,CA+JE,ICrKEa,GAAiB,GAMVC,GAAgB,SAAuB3gC,GAChD,OAAO0gC,GAAe1gC,EAAKmM,gBAQlBy0B,GAAqB,SAA4B5gC,EAAMi7B,GAEhEyF,GAAe1gC,EAAKmM,eAAiB8uB,GCbvC2F,GAAmB,OAAQ,IAC3BA,GAAmB,YAAa,IAChCA,GAAmB,QAAS,IAC5BA,GAAmB,QAAS,ICN5B,IAAI,GAAgB,SAAuBpZ,EAAO/sB,GAChD,OAAI,oBAASA,GACJA,EAGF+sB,EAAMoC,OAAOpC,EAAMA,MAAM/sB,KAsMnB,GA5Lf,WACE,SAASomC,EAAU93B,GACjBlP,KAAKinC,MAAQ,GACbjnC,KAAKknC,OAAS,GACdlnC,KAAK2/B,QAAS,EACd3/B,KAAKsuB,OAAS,GAEdtuB,KAAK6nB,SAAW,WACd,MAAO,IAIT7nB,KAAKmnC,UAAUj4B,GA6KjB,OArKA83B,EAAUpnC,UAAUwnC,QAAU,WAK5B,IAJA,IAAIliC,EAAQlF,KAER6f,EAAS,GAEJuQ,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCvQ,EAAOuQ,GAAM5wB,UAAU4wB,GAGzB,IAAI9B,EAASzO,EAAOzb,KAAI,SAAUijC,EAAO32B,GACvC,OAAOxL,EAAMoiC,eAAeD,EAAOniC,EAAMgiC,OAAOx2B,OAElD,OAAO1Q,KAAK6nB,SAAS9nB,MAAMC,KAAMsuB,IAQnC0Y,EAAUpnC,UAAU2nC,eAAiB,SAAU3X,GAE7C,IAAI4X,EAAQxnC,KAAKsuB,OAAO7uB,OAAS,EAC7B87B,EAAOrd,KAAK2V,MAAM2T,EAAQ5X,GAC1B6X,EAAcD,EAAQ5X,EAAU2L,EAEhCrqB,EAAQlR,KAAKsuB,OAAOiN,GAGxB,OAAOrqB,IAFGqqB,IAASiM,EAAQt2B,EAAQlR,KAAKsuB,OAAOiN,EAAO,IAEhCrqB,GAASu2B,GAOjCT,EAAUpnC,UAAU8nC,SAAW,WAM7B,IALA,IAAIR,EAASlnC,KAAKknC,OACdD,EAAQjnC,KAAKinC,MACbxnC,EAASye,KAAKuR,IAAIyX,EAAOznC,OAAQwnC,EAAMxnC,QACvC0sB,EAAM,GAED5sB,EAAI,EAAGA,EAAIE,EAAQF,GAAK,EAC/B4sB,EAAI3b,KAAKy2B,EAAM1nC,IAGjB,OAAO4sB,GAOT6a,EAAUpnC,UAAU+nC,UAAY,WAC9B,OAAO3nC,KAAKknC,OAAO9iC,KAAI,SAAUupB,GAC/B,OAAOA,EAAMia,UASjBZ,EAAUpnC,UAAUioC,SAAW,SAAU51B,GACvC,OAAOjS,KAAKknC,OAAOlnC,KAAKinC,MAAM3mC,QAAQ2R,KAQxC+0B,EAAUpnC,UAAUkoC,gBAAkB,WAKpC,IAJA,IAAI5iC,EAAQlF,KAER6f,EAAS,GAEJuQ,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCvQ,EAAOuQ,GAAM5wB,UAAU4wB,GAIzB,OAAsB,IAAlBvQ,EAAOpgB,OACFO,KAAKsuB,OAGPzO,EAAOzb,KAAI,SAAUijC,EAAO32B,GACjC,IAAIid,EAAQzoB,EAAMgiC,OAAOx2B,GACzB,MAAsB,aAAfid,EAAMxnB,KAAsBwnB,EAAMW,OAAO,GAAKppB,EAAM6iC,mBAAmBpa,EAAO0Z,OAKzFL,EAAUpnC,UAAUunC,UAAY,SAAUj4B,GACxC,IAAIhK,EAAQlF,KAERwF,EAAK0J,EAAI/I,KACTA,OAAc,IAAPX,EAAgB,OAASA,EAChCg3B,EAAKttB,EAAI+3B,MACTA,OAAe,IAAPzK,EAAgB,GAAKA,EAC7BmG,EAAKzzB,EAAIg4B,OACTA,OAAgB,IAAPvE,EAAgB,GAAKA,EAC9BC,EAAK1zB,EAAIof,OACTA,OAAgB,IAAPsU,EAAgB,GAAKA,EAC9B/a,EAAW3Y,EAAI2Y,SACnB7nB,KAAKmG,KAAOA,EACZnG,KAAKknC,OAASA,EACdlnC,KAAKsuB,OAASA,EACdtuB,KAAKinC,MAAQA,EAEbjnC,KAAK6nB,SAAW,WAGd,IAFA,IAAIhI,EAAS,GAEJuQ,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCvQ,EAAOuQ,GAAM5wB,UAAU4wB,GAOzB,GAAIvI,EAAU,CAEZ,IAAImgB,EAAMngB,EAAS9nB,WAAM,EAAQ8f,GAEjC,IAAK,iBAAMmoB,GACT,MAAO,CAACA,GAKZ,OAAO9iC,EAAM4iC,gBAAgB/nC,MAAMmF,EAAO2a,KAK9CmnB,EAAUpnC,UAAUmoC,mBAAqB,SAAUpa,EAAO/sB,GAExD,GAAI+sB,EAAMO,aAAeluB,KAAK2/B,OAAQ,CAEpC,IAAIjvB,EAAMid,EAAMgB,UAAU/tB,GAC1B,OAAOZ,KAAKsuB,OAAO5d,EAAM1Q,KAAKsuB,OAAO7uB,QAIvC,IAAImwB,EAAUjC,EAAMA,MAAM/sB,GAC1B,OAAOZ,KAAKunC,eAAe3X,IAU7BoX,EAAUpnC,UAAU0nC,eAAiB,SAAUD,EAAO1Z,GAGpD,OAAQA,EAAMQ,SAEqBkZ,EAFV,mBAAQA,GAASA,EAAMjjC,KAAI,SAAU/D,GAC5D,OAAO,GAAcstB,EAAOttB,MACzB,GAAcstB,EAAO0Z,IAGrBL,EAzLT,GCkBe,GA5Bf,SAAU/hC,GAGR,SAASgjC,EAAM/4B,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAUtC,OARAkF,EAAMiB,KAAO,QACbjB,EAAM+hC,MAAQ,CAAC,SAEX,oBAAS/hC,EAAMopB,UACjBppB,EAAMy6B,QAAS,GAGjBz6B,EAAMgjC,SAAW,WAAUA,SAAShjC,EAAMopB,QACnCppB,EAWT,OAxBA,qBAAU+iC,EAAOhjC,GAoBjBgjC,EAAMroC,UAAU2nC,eAAiB,SAAU3X,GACzC,OAAO5vB,KAAKkoC,SAAStY,IAGhBqY,EAzBT,CA0BE,ICda,GAdf,SAAUhjC,GAGR,SAASkjC,EAAQj5B,GACf,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAItC,OAFAkF,EAAMiB,KAAO,UACbjB,EAAM+hC,MAAQ,CAAC,WACR/hC,EAGT,OAVA,qBAAUijC,EAASljC,GAUZkjC,EAXT,CAYE,ICmBa,GA9Bf,SAAUljC,GAGR,SAASmjC,EAASl5B,GAChB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAItC,OAFAkF,EAAM+hC,MAAQ,CAAC,IAAK,KACpB/hC,EAAMiB,KAAO,WACNjB,EAmBT,OA1BA,qBAAUkjC,EAAUnjC,GAUpBmjC,EAASxoC,UAAUwnC,QAAU,SAAUx4B,EAAGC,GACxC,IAAIrJ,EAAKxF,KAAKknC,OACVmB,EAAS7iC,EAAG,GACZ8iC,EAAS9iC,EAAG,GAEhB,OAAI,iBAAMoJ,IAAM,iBAAMC,GACb,GAGF,CAAC,mBAAQD,GAAKA,EAAExK,KAAI,SAAUmkC,GACnC,OAAOF,EAAO1a,MAAM4a,MACjBF,EAAO1a,MAAM/e,GAAI,mBAAQC,GAAKA,EAAEzK,KAAI,SAAUokC,GACjD,OAAOF,EAAO3a,MAAM6a,MACjBF,EAAO3a,MAAM9e,KAGbu5B,EA3BT,CA4BE,ICNa,GAvBf,SAAUnjC,GAGR,SAASwjC,EAAMv5B,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAItC,OAFAkF,EAAMiB,KAAO,QACbjB,EAAM+hC,MAAQ,CAAC,SACR/hC,EAYT,OAnBA,qBAAUujC,EAAOxjC,GAcjBwjC,EAAM7oC,UAAU2nC,eAAiB,SAAU3X,GACzC,IAAIlf,EAAMwN,KAAKgS,OAAOlwB,KAAKsuB,OAAO7uB,OAAS,GAAKmwB,GAChD,OAAO5vB,KAAKsuB,OAAO5d,IAGd+3B,EApBT,CAqBE,ICPa,GAdf,SAAUxjC,GAGR,SAASyjC,EAAKx5B,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAItC,OAFAkF,EAAMiB,KAAO,OACbjB,EAAM+hC,MAAQ,CAAC,QACR/hC,EAGT,OAVA,qBAAUwjC,EAAMzjC,GAUTyjC,EAXT,CAYE,ICfEC,GAAgB,GAMhBC,GAAe,SAAsBziC,GACvC,OAAOwiC,GAAcxiC,EAAKmM,gBAGxBu2B,GAAoB,SAA2B1iC,EAAMi7B,GAEvD,GAAIwH,GAAaziC,GACf,MAAM,IAAIyP,MAAM,mBAAqBzP,EAAO,cAI9CwiC,GAAcxiC,EAAKmM,eAAiB8uB,GCZtCyH,GAAkB,QAAS,IAC3BA,GAAkB,UAAW,IAC7BA,GAAkB,WAAY,IAC9BA,GAAkB,QAAS,IAC3BA,GAAkB,OAAQ,ICL1B,IACIC,GADAC,GAAY,wTAGhB,SAAWD,GACTA,EAAc,OAAI,SAClBA,EAAW,IAAI,MACfA,EAAY,KAAI,OAHlB,CAIGA,KAAUA,GAAQ,KAErB,IAmGe,GAjGf,WACE,SAASE,EAAgB95B,GACvBlP,KAAKipC,KAAO,GAEZjpC,KAAKipC,KAAO/5B,EA0Fd,OAvFA85B,EAAgBppC,UAAUspC,YAAc,SAAUtB,EAAOnoB,GACvD,IACIkO,EADAwb,EAAMnpC,KAAKipC,KAAKrB,GAGpB,IAAKnoB,IAASA,EAAKhgB,OAAQ,CACzB,GAAI0pC,GAAOA,EAAIhjC,KAEbwnB,EAAQ,IADI,GAASwb,EAAIhjC,MACjB,CAAUgjC,QAGlBxb,EAAQ,IADO,GAAS,YAChB,CAAa,CACnBia,MAAOA,EAAMrkC,WACb+qB,OAAQ,CAACsZ,KAIb,OAAOja,EAGT,IAAIyb,EAAa,cAAa3pB,EAAMmoB,GAEpC,GAAI,YAAWA,IAAU,SAAQwB,KAAgBD,EAAK,CAEpDxb,EAAQ,IADO,GAAS,YAChB,CAAa,CACnBia,MAAOA,EAAMrkC,WACb+qB,OAAQ,CAACsZ,SAEN,CAEL,IAAIzhC,EAAO,OAAMgjC,EAAK,OAAQnpC,KAAKqpC,gBAAgBzB,EAAOnoB,IAEtDvQ,EAAMlP,KAAKspC,aAAanjC,EAAMyhC,EAAOnoB,GAErC0pB,GACF,OAAMj6B,EAAKi6B,GAIbxb,EAAQ,IADI,GAASxnB,GACb,CAAU+I,GAGpB,OAAOye,GAGTqb,EAAgBppC,UAAUypC,gBAAkB,SAAUzB,EAAOnoB,GAC3D,IAAItZ,EAAO2iC,GAAMtR,OAEb52B,EAAQ,cAAa6e,EAAMmoB,GAY/B,OAVI,WAAUhnC,KACZA,EAAQA,EAAM,IAGZmoC,GAAU3oB,KAAKxf,GACjBuF,EAAO2iC,GAAMxQ,KACJ,YAAW13B,KACpBuF,EAAO2iC,GAAMS,KAGRpjC,GAGT6iC,EAAgBppC,UAAU0pC,aAAe,SAAUnjC,EAAMyhC,EAAOnoB,GAC9D,IAAI6O,EAAS,eAAc7O,EAAMmoB,GAE7B14B,EAAM,CACR04B,MAAOA,EACPtZ,OAAQA,GAGV,GAAa,QAATnoB,GAA2B,YAATA,GAA+B,SAATA,EAAiB,CAC3D,IAAIX,EAAK,YAAW8oB,GAChBmB,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IAEbzW,EAAIugB,IAAMA,EACVvgB,EAAIyW,IAAMA,EACVzW,EAAIooB,MAAO,EAOb,MAJa,SAATnxB,IACF+I,EAAIooB,MAAO,GAGNpoB,GAGF85B,EA9FT,GCiIe,GAxIf,WACE,SAASQ,EAAgBC,QACR,IAAXA,IACFA,EAAS,IAGXzpC,KAAKmG,KAAO,OACZnG,KAAKmE,QAAU,GACfnE,KAAKkP,IAAM,GACXlP,KAAKuO,QAAU,GAEf,OAAMvO,KAAMypC,GAEZzpC,KAAKuO,QAAUk7B,EAwHjB,OArHAD,EAAgB5pC,UAAU8pC,MAAQ,SAAUD,GAQ1C,OAPAzpC,KAAKmG,KAAOsjC,EAAOtjC,MAAQ,OAC3BnG,KAAKmE,QAAUslC,EAAOtlC,SAAW,GACjCnE,KAAKkP,IAAMu6B,EAAOv6B,IAElBlP,KAAKuO,QAAQpI,KAAOnG,KAAKmG,KACzBnG,KAAKuO,QAAQpK,QAAUnE,KAAKmE,QAC5BnE,KAAKuO,QAAQW,IAAMlP,KAAKkP,IACjBlP,MAUTwpC,EAAgB5pC,UAAU+pC,YAAc,SAAUz4B,EAAOC,GACvD,IAEIy4B,EAEAtjB,EAJAngB,EAAOnG,KAAKmG,KACZ+I,EAAMlP,KAAKkP,IAKX26B,EAAW,oBAAS,CACtB34B,MAAOA,EACPC,IAAKA,GACJjC,GAmBH,MAjBa,UAAT/I,GAEFyjC,EAAI9C,GAAc,SAEb9mC,KAAK8pC,WAAW,cACnB9pC,KAAKolC,aAGP9e,EAAQ,IAAIsjB,EAAEC,IACR1jC,KAAOA,GAGbmgB,EAAQ,IADRsjB,EAAI9C,GAAc3gC,IACJ0jC,GAGhB7pC,KAAK+pC,aAAazjB,GAEXA,GAQTkjB,EAAgB5pC,UAAUsiB,OAAS,SAAU7D,GAC3C,IAAI2rB,EAAS3rB,EAAQH,KAAKK,GAAK,IAG/B,OADAve,KAAKmE,QAAQqM,KAAK,CAAC,SAAUw5B,IACtBhqC,MAQTwpC,EAAgB5pC,UAAUulC,QAAU,SAAUjF,GAM5C,YALY,IAARA,IACFA,EAAM,KAGRlgC,KAAKmE,QAAQqM,KAAK,CAAC,UAAW0vB,IACvBlgC,MASTwpC,EAAgB5pC,UAAU+tB,MAAQ,SAAUsc,EAAIC,GAE9C,OADAlqC,KAAKmE,QAAQqM,KAAK,CAAC,QAASy5B,EAAIC,IACzBlqC,MAOTwpC,EAAgB5pC,UAAUwlC,UAAY,WAEpC,OADAplC,KAAKmE,QAAQqM,KAAK,CAAC,cACZxQ,MAGTwpC,EAAgB5pC,UAAUmqC,aAAe,SAAUzjB,GACjD,QAAOtmB,KAAKmE,SAAS,SAAUE,GAC7B,IAAIuZ,EAAIvZ,EAAO,GACfiiB,EAAM1I,GAAGvZ,EAAO,GAAIA,EAAO,QAI/BmlC,EAAgB5pC,UAAUkqC,WAAa,SAAUK,GAC/C,IAAIhmC,EAAUnE,KAAKmE,QACfgoB,GAAM,EASV,OAPA,QAAOhoB,GAAS,SAAUE,GACxB,GAAI8lC,IAAe9lC,EAAO,GAExB,OADA8nB,GAAM,GACC,KAIJA,GAGFqd,EArIT,GCuCe,I,OA5Cf,SAAUvkC,GAGR,SAASmlC,EAAMl7B,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAkBjC,OAhBAkF,EAAMgK,IAAM,oBAAS,CACnBP,GAAI,KAEJI,OAAQ,KACRL,UAAW,KACXszB,MAAO,KAEPqI,SAAS,EAGTC,QAAS,EACTC,QAAS,EACTvtB,SAAS,EACTvE,OAAQ,GACPvJ,GACHhK,EAAMiJ,WAAY,EACXjJ,EAkBT,OAvCA,qBAAUklC,EAAOnlC,GAyBjBmlC,EAAMxqC,UAAUqd,IAAM,SAAUhL,GAC9B,OAAOjS,KAAKkP,IAAI+C,IAGlBm4B,EAAMxqC,UAAUyQ,IAAM,SAAU4B,EAAMrR,GAEpC,OADAZ,KAAKkP,IAAI+C,GAAQrR,EACVZ,MAGToqC,EAAMxqC,UAAUoQ,QAAU,WACxBhQ,KAAKkQ,MACLlQ,KAAKmO,WAAY,GAGZi8B,EAxCT,CAyCE,aC8Ca,GAxFf,WACE,SAASI,EAAOt7B,GACdlP,KAAKyqC,OAAS,GACdzqC,KAAK0qC,KAAO,EACZ1qC,KAAK2qC,KAAO,EAERz7B,GACF,OAAMlP,KAAMkP,GA8EhB,OA1EAs7B,EAAO5qC,UAAUgrC,OAAS,SAAUC,GAQlC,IAPA,IAAID,GAAS,EACTH,EAASzqC,KAAKyqC,OACdliB,EAAOrK,KAAKgS,MAAM2a,EAAKtiB,MACvBC,EAAOtK,KAAKgS,MAAM2a,EAAKriB,MACvBC,EAAOvK,KAAKgS,MAAM2a,EAAKpiB,MACvBC,EAAOxK,KAAKgS,MAAM2a,EAAKniB,MAElBnpB,EAAIgpB,EAAMhpB,GAAKipB,EAAMjpB,GAAK,EACjC,GAAKkrC,EAAOlrC,IAKZ,GAAIA,IAAMgpB,GAAQhpB,IAAMipB,GACtB,IAAK,IAAI1H,EAAI2H,EAAM3H,GAAK4H,EAAM5H,IAC5B,GAAI2pB,EAAOlrC,GAAGuhB,GAAI,CAChB8pB,GAAS,EACT,YAIJ,GAAIH,EAAOlrC,GAAGkpB,IAASgiB,EAAOlrC,GAAGmpB,GAAO,CACtCkiB,GAAS,EACT,YAdFH,EAAOlrC,GAAK,GAmBhB,OAAOqrC,GAGTJ,EAAO5qC,UAAUkrC,QAAU,SAAUD,GAOnC,IANA,IAAIJ,EAASzqC,KAAKyqC,OACdliB,EAAOrK,KAAKgS,MAAM2a,EAAKtiB,MACvBC,EAAOtK,KAAKgS,MAAM2a,EAAKriB,MACvBC,EAAOvK,KAAKgS,MAAM2a,EAAKpiB,MACvBC,EAAOxK,KAAKgS,MAAM2a,EAAKniB,MAElBnpB,EAAIgpB,EAAMhpB,GAAKipB,EAAMjpB,GAAK,EAC5BkrC,EAAOlrC,KACVkrC,EAAOlrC,GAAK,IAIhB,IAASA,EAAIgpB,EAAMhpB,GAAKipB,EAAMjpB,GAAKS,KAAK0qC,KAAM,CAC5C,IAAK,IAAI5pB,EAAI2H,EAAM3H,GAAK4H,EAAM5H,GAAK9gB,KAAK2qC,KACtCF,EAAOlrC,GAAGuhB,IAAK,EAGjB2pB,EAAOlrC,GAAGmpB,IAAQ,EAIpB,GAAkB,IAAd1oB,KAAK2qC,KACP,IAASprC,EAAIkpB,EAAMlpB,GAAKmpB,EAAMnpB,GAAK,EACjCkrC,EAAOliB,GAAMhpB,IAAK,EAClBkrC,EAAOjiB,GAAMjpB,IAAK,EAKtB,GAAkB,IAAdS,KAAK0qC,KACP,IAASnrC,EAAIgpB,EAAMhpB,GAAKipB,EAAMjpB,GAAK,EACjCkrC,EAAOlrC,GAAGkpB,IAAQ,EAClBgiB,EAAOlrC,GAAGmpB,IAAQ,GAKxB8hB,EAAO5qC,UAAUoQ,QAAU,WACzBhQ,KAAKyqC,OAAS,IAGTD,EArFT,GCQA,SAASO,GAAoB91B,EAAOrG,EAAGC,EAAGvK,GACxC,IAAIumC,EAAO51B,EAAMgU,UACbzkB,EAAQqmC,EAAKrmC,MACbsK,EAAS+7B,EAAK/7B,OACduV,EAAQ,CACVzV,EAAGA,EACHC,EAAGA,EACH8E,UAAW,UAGb,OAAQrP,GACN,KAAK,EACH+f,EAAMxV,GAAKC,EAAS,EACpBuV,EAAMzV,GAAK,EACXyV,EAAM1Q,UAAY,OAClB,MAEF,KAAK,EACH0Q,EAAMxV,GAAKC,EAAS,EACpBuV,EAAMzV,GAAK,EACXyV,EAAM1Q,UAAY,QAClB,MAEF,KAAK,EACH0Q,EAAMxV,GAAKC,EAAS,EACpBuV,EAAMzV,GAAK,EACXyV,EAAM1Q,UAAY,QAClB,MAEF,KAAK,EACH0Q,EAAMxV,GAAKC,EAAS,EACpBuV,EAAMzV,GAAK,EACXyV,EAAM1Q,UAAY,OAClB,MAEF,KAAK,EACH0Q,EAAMxV,GAAc,EAATC,EAAa,EACxB,MAEF,KAAK,EACHuV,EAAMxV,GAAc,EAATC,EAAa,EACxB,MAEF,KAAK,EACHuV,EAAMzV,GAAKpK,EAAQ,EACnB6f,EAAM1Q,UAAY,OAClB,MAEF,KAAK,EACH0Q,EAAMzV,GAAKpK,EAAQ,EACnB6f,EAAM1Q,UAAY,QAQtB,OADAsB,EAAMmT,KAAK/D,GACJpP,EAAMgU,UCnEf,SAAS+hB,GAAW/1B,EAAOg2B,EAAQC,QAChB,IAAbA,IACFA,EAJY,KAOd,IAKIC,EAJAv8B,EAAIqG,EAAMmT,KAAK,KACfvZ,EAAIoG,EAAMmT,KAAK,KACfyiB,EAAO51B,EAAMgU,UACbmiB,EAAWltB,KAAKmE,KAAKwoB,EAAKrmC,MAAQqmC,EAAKrmC,MAAQqmC,EAAK/7B,OAAS+7B,EAAK/7B,QAElE1O,EAAI,EACJirC,EAAK,EACLC,EAAK,EAELC,EAAI,SAAWnrC,GACjB,IAAIorC,EAAS,GAAJprC,EACT,MAAO,CAACorC,EAAKttB,KAAKiE,IAAIqpB,GAAKA,EAAKttB,KAAKkE,IAAIopB,KAG3C,GAAIP,EAAOL,OAAOC,GAEhB,OADAI,EAAOH,QAAQD,IACR,EAOT,IAJA,IAAIY,GAAU,EACVC,EAAQ,EACRC,EAAgB,GAEbztB,KAAKuR,IAAIvR,KAAKsE,IAAI6oB,GAAKntB,KAAKsE,IAAI8oB,IAAOF,GAAYM,EAAQR,GAKhE,GAHAG,KADAF,EAAOI,EAAEnrC,IAzBF,IA0BK,GACZkrC,IAAOH,EAAK,IAEPE,GAAOC,KAAMK,EAAcN,EAAK,IAAMC,KAI3Cr2B,EAAMmT,KAAK,CACTxZ,EAAGA,EAAIy8B,EACPx8B,EAAGA,EAAIy8B,IAGLD,EAAKC,EAAK,GACZr2B,EAAMmT,KAAK,YAAa,SAG1BsjB,IAEIT,EAAOL,OAAO31B,EAAMgU,YAAY,CAClCgiB,EAAOH,QAAQ71B,EAAMgU,WACrBwiB,GAAU,EACVE,EAAcN,EAAK,IAAMC,IAAM,EAC/B,MAIJ,OAAOG,EAGM,IC/DX,GCOAG,GAAU,CACZC,QHiEa,YASb,IARA,IAEIhB,EACA51B,EACArG,EACAC,EACA48B,EANAR,EAAS,IAAI,GACba,EAAc,GAOTvsC,EAAI,EAAGA,EAAIwsC,EAAOtsC,OAAQF,IAAK,CAEtCqP,GADAqG,EAAQ82B,EAAOxsC,IACL6oB,KAAK,KACfvZ,EAAIoG,EAAMmT,KAAK,KACfqjB,GAAU,EAEV,IAAK,IAAIO,EAAM,EAAGA,GAAO,EAAGA,IAG1B,GAFAnB,EAAOE,GAAoB91B,EAAOrG,EAAGC,EAAGm9B,GAEpCf,EAAOL,OAAOC,GAAO,CACvBI,EAAOH,QAAQD,GACfY,GAAU,EACV,MAICA,GACHK,EAAYt7B,KAAKyE,GAIrB,IAAS1V,EAAI,EAAGA,EAAIusC,EAAYrsC,OAAQF,IACtCusC,EAAYvsC,GAAG4Q,UG/FjB/L,IFsDa,cAKb,IAAI6Q,OAJa,IAAbi2B,IACFA,EAhEY,KAuEd,IAHA,IAAID,EAAS,IAAI,GACba,EAAc,GAETvsC,EAAI,EAAGA,EAAIwsC,EAAOtsC,OAAQF,IAG5ByrC,GAFL/1B,EAAQ82B,EAAOxsC,GAEQ0rC,EAAQC,IAC7BY,EAAYt7B,KAAKyE,GAIrB,IAAS1V,EAAI,EAAGA,EAAIusC,EAAYrsC,OAAQF,IACtCusC,EAAYvsC,GAAG4Q,UEvEjB87B,QCVc,cAKd,IAJA,IAAIC,EACAC,EACAL,EAAc,GAETvsC,EAAI,EAAGA,EAAIwsC,EAAOtsC,OAAQF,IACjC2sC,EAAYH,EAAOxsC,GAAG0pB,UACtBkjB,EAAYj2B,EAAO3W,GAAG0pB,WAElBijB,EAAU1nC,MAAQ2nC,EAAU3nC,OAAS0nC,EAAUp9B,OAASq9B,EAAUr9B,SACpEg9B,EAAYt7B,KAAKu7B,EAAOxsC,IAQ5B,IAASA,EAAI,EAAGA,EAAIusC,EAAYrsC,OAAQF,IACtCusC,EAAYvsC,GAAG4Q,WD2YJ,GA/Yf,SAAUlL,GAGR,SAASmnC,EAAMl9B,GACb,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCiS,KAAM,QACN9L,KAAM,UAENkmC,aAAc,uEAEdC,QAAS,+DACTC,MAAO,KACPC,UAAW,KACXt2B,OAAQ,KACRsC,SAAS,GACRtJ,KAASlP,KA6Xd,OA3YA,qBAAUosC,EAAOnnC,GAqBjBmnC,EAAMxsC,UAAU+P,OAAS,WACvB3P,KAAK+P,QAEL/P,KAAKysC,QAELzsC,KAAK0sC,KAAK,gBACV1sC,KAAK8P,OACL9P,KAAK0sC,KAAK,gBAWZN,EAAMxsC,UAAUkQ,KAAO,SAAU68B,QACZ,IAAfA,IACFA,GAAa,GAGf3sC,KAAK4sC,WAELD,GAAc3sC,KAAKid,IAAI,UAAUnN,QAOnCs8B,EAAMxsC,UAAUmQ,MAAQ,WACtB,IAAIiyB,EAAQhiC,KAAKid,IAAI,SACjBvO,EAAY1O,KAAKid,IAAI,aAErB+kB,IAAUA,EAAM7zB,WAClB6zB,EAAMjyB,QAGJrB,IACFA,EAAUm+B,UAAY,KAQ1BT,EAAMxsC,UAAUoQ,QAAU,WACxB/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAIgiC,EAAQhiC,KAAKid,IAAI,SACjBvO,EAAY1O,KAAKid,IAAI,aAErB+kB,IAAUA,EAAM7zB,WAClB6zB,EAAMhyB,UAGJtB,IACFA,EAAUm+B,UAAY,KAW1BT,EAAMxsC,UAAUktC,YAAc,SAAUC,EAAUC,GAChD,GAAKD,EAIL,GAAIA,EAASE,QAAS,CACpB,IAAIC,EAAOltC,KAAKmtC,WAAWH,GAE3BD,EAASF,UAAYK,EAAKL,UAE1B7sC,KAAKotC,mBAAmBJ,EAAUD,QAElCA,EAASp+B,GAAKq+B,EAASr+B,GACvBo+B,EAAS3kB,KAAK,OAAQ4kB,EAASt5B,MAE3Bq5B,EAAS3kB,KAAK,OAAS4kB,EAASp+B,GAAKm+B,EAAS3kB,KAAK,OAAS4kB,EAASn+B,IACvEk+B,EAASzH,cAEL0H,EAASn4B,UAAUqN,SACrB6qB,EAASM,cAAcL,EAASn4B,UAAUqN,eACnC8qB,EAASn4B,UAAUqN,QAG5B6qB,EAAS3kB,KAAK4kB,KASpBZ,EAAMxsC,UAAUwQ,KAAO,WACrB,IAAI4xB,EAAQhiC,KAAKid,IAAI,SACjBvO,EAAY1O,KAAKid,IAAI,aAErB+kB,GACFA,EAAM5xB,OAGJ1B,IACFA,EAAUnK,MAAMsP,QAAU,IAQ9Bu4B,EAAMxsC,UAAU0Q,KAAO,WACrB,IAAI0xB,EAAQhiC,KAAKid,IAAI,SACjBvO,EAAY1O,KAAKid,IAAI,aAErB+kB,GACFA,EAAM1xB,OAGJ5B,IACFA,EAAUnK,MAAMsP,QAAU,IAQ9Bu4B,EAAMxsC,UAAU0tC,UAAY,WAC1B,IAAIpoC,EAAQlF,KAERwsC,EAAYxsC,KAAKid,IAAI,cAEpBuvB,GAAaA,EAAUr+B,WAC1Bq+B,EAAYxsC,KAAKid,IAAI,SAASswB,WAC9BvtC,KAAKqQ,IAAI,YAAam8B,IAEtBA,EAAUz8B,QAGZ,QAAU/P,KAAKid,IAAI,UAAU,SAAUhI,GACrC/P,EAAMsoC,aAAav4B,EAAOu3B,OAI9BJ,EAAMxsC,UAAU4tC,aAAe,SAAUv4B,EAAOu3B,GAC9C,GAAKv3B,EAAMkC,UAAX,CAKA,IAAIqC,EAAY,aAAevE,EAAMkC,WAAa,GAAKlC,EAAMkC,UAEzDkzB,EAAmC,qBAAlBp1B,EAAMo1B,QAA0BrqC,KAAKid,IAAI,WAAahI,EAAMo1B,QAC7EjuB,EAAO5C,EAAU4C,KAMrB,GAJIA,GAAQ,cAAgB5C,EAAU4C,QACpCA,EAAO5C,EAAU4C,KAAKnH,KAGnBmH,EAAM,CACT,IAAIlL,EAAQ+D,EAAM/D,MAClBkL,EAAO,CAAC,CAAC,IAAKlL,EAAMtC,EAAGsC,EAAMrC,GAAI,CAAC,IAAKoG,EAAMrG,EAAGqG,EAAMpG,IAGxD,IAAIiE,EAASmC,EAAMhB,MAEdnB,IAEDA,EADEmC,EAAMJ,WAAaI,EAAMJ,UAAUlC,KAC5BsC,EAAMJ,UAAUlC,KAEhB,QAIb,IAAI86B,EAAYjB,EAAU9f,SAAS,OAAQ,CACzC2d,QAASA,EACThmB,MAAO,OAAS,CACdjI,KAAMA,EACNtJ,OAAQA,EACRH,KAAM,MACL6G,KAGLi0B,EAAUx7B,KAAOjS,KAAKid,IAAI,QAE1BwwB,EAAU9+B,GAAKsG,EAAMtG,IAAMsG,EAAMtG,GAAGgR,QAAQ,SAAU,cACtD8tB,EAAUp9B,IAAI,QAASrQ,KAAKid,IAAI,YAIlCmvB,EAAMxsC,UAAU8tC,cAAgB,WAC9B,IAAIvnC,EAAOnG,KAAKid,IAAI,QAChB8uB,EAAS/rC,KAAK2tC,YACdz3B,EAASlW,KAAKid,IAAI,UAClB3F,EAASs0B,GAAQzlC,GAEhBmR,GAILA,EAAOy0B,EAAQ71B,IAQjBk2B,EAAMxsC,UAAU+tC,UAAY,WAC1B,IAAIj/B,EAAY1O,KAAKid,IAAI,aAEzB,GAAIvO,EACF,OAAO,WAAaA,EAAUk/B,YAGhC,IAAItnC,EAAWtG,KAAKid,IAAI,SAASA,IAAI,YACrC,OAAO,UAAY3W,GAAU,SAAUglB,GACrC,OAAOA,EAAME,YAKjB4gB,EAAMxsC,UAAUiuC,YAAc,SAAUC,GACtC,IAGIC,EAHA7+B,EAAM4+B,EACNp/B,EAAY1O,KAAKid,IAAI,aACrBotB,EAAiC,qBAAhBn7B,EAAIm7B,QAA0BrqC,KAAKid,IAAI,WAAa/N,EAAIm7B,QAG7E,IAAIn7B,EAAIsJ,UAAWtJ,EAAI8+B,aAUhB,CACL,IAAIC,EAASjuC,KAAKid,IAAI,QAClBixB,EAAWh/B,EAAIi/B,OACfnM,EAAQhiC,KAAKid,IAAI,gBACd/N,EAAIi/B,OAEX,IAAIjsB,EAAShT,EAAIgT,OAkCjB,OAhCIhT,EAAI2F,YACF3F,EAAI2F,UAAUqN,SAChBA,EAAShT,EAAI2F,UAAUqN,cAChBhT,EAAI2F,UAAUqN,QAGvBhT,EAAM,OAAS,CACbN,EAAGM,EAAIN,EACPC,EAAGK,EAAIL,EACP8E,UAAWzE,EAAIyE,UACfD,KAAMxE,EAAIwE,MACTxE,EAAI2F,YAGTk5B,EAAa/L,EAAMtV,SAAS,OAAQ,CAClC2d,QAASA,EACThmB,MAAOnV,IAGLgT,IAEEhE,KAAKsE,IAAIN,GAAoB,EAAVhE,KAAKK,KAC1B2D,EAASA,EAAS,IAAMhE,KAAKK,IAG/BwvB,EAAWl+B,UAAU,CAAC,CAAC,KAAMX,EAAIN,GAAIM,EAAIL,GAAI,CAAC,IAAKqT,GAAS,CAAC,IAAKhT,EAAIN,EAAGM,EAAIL,MAG/Ek/B,EAAWzkB,UAAU,SAAU4kB,GAAYh/B,GAC3C6+B,EAAW97B,KAAOg8B,EAElBjuC,KAAKid,IAAI,eAAiB8wB,EAAWzkB,UAAU,aAActpB,KAAKid,IAAI,eAC/D8wB,EAjDFr/B,IACHA,EAAY1O,KAAKouC,sBAGnB,IAAIlB,EAAOltC,KAAKmtC,WAAWj+B,GAE3BR,EAAU2/B,YAAYnB,GAEtBltC,KAAKotC,mBAAmBl+B,EAAKg+B,IA6CjCd,EAAMxsC,UAAUwuC,mBAAqB,WACnC,IAAI1/B,EAAY1O,KAAKid,IAAI,aAEzB,IAAKvO,EAAW,CACd,IAAI29B,EAAersC,KAAKid,IAAI,gBACxBqxB,EAAUtuC,KAAKid,IAAI,UAAUA,IAAI,MAAMsxB,WAC3C7/B,EAAY,aAAkB29B,GAC9BiC,EAAQ/pC,MAAMiS,SAAW,WACzB83B,EAAQD,YAAY3/B,GACpB1O,KAAKqQ,IAAI,YAAa3B,GAGxB,OAAOA,GAGT09B,EAAMxsC,UAAUutC,WAAa,SAAUj+B,GACrC,IAAIo9B,EAAUtsC,KAAKid,IAAI,WACnB0Y,EAAM,cAAgB2W,EAAS,CACjC54B,KAAMxE,EAAIwE,OAEZ,OAAO,aAAkBiiB,IAI3ByW,EAAMxsC,UAAUwtC,mBAAqB,SAAUl+B,EAAKs/B,GAClD,IAAI76B,EAAYzE,EAAIyE,WAAa,OAC7B4C,EAAMrH,EAAIL,EACV6H,EAAOxH,EAAIN,EACXpK,EAAQ,iBAAsBgqC,GAElCj4B,GADa,kBAAuBi4B,GACf,EAEH,WAAd76B,EACF+C,GAAclS,EAAQ,EACC,UAAdmP,IACT+C,GAAclS,GAGhBgqC,EAAQjqC,MAAMgS,IAAMwd,SAASxd,EAAK,IAAM,KACxCi4B,EAAQjqC,MAAMmS,KAAOqd,SAASrd,EAAM,IAAM,MAI5C01B,EAAMxsC,UAAU6sC,MAAQ,WACtB,IAAKzsC,KAAKid,IAAI,SAAU,CACtB,IAAI+kB,EAAQhiC,KAAKid,IAAI,UAAUswB,SAAS,CACtC5+B,GAAI,gBAEN3O,KAAKqQ,IAAI,QAAS2xB,KAItBoK,EAAMxsC,UAAUgtC,SAAW,WACzB,IAAI1nC,EAAQlF,KAERusC,EAAQvsC,KAAKid,IAAI,SACjB3W,EAAWtG,KAAK2tC,YAChBpR,EAAQj2B,EAAS7G,OACrB,QAAU8sC,GAAO,SAAUjlC,EAAMhD,GAC/B,GAAIA,EAAQi4B,EAAO,CACjB,IAAItnB,EAAQ3O,EAAShC,GAErBY,EAAM4nC,YAAY73B,EAAO3N,OACpB,CACL,IAAIymC,EAAa7oC,EAAM2oC,YAAYvmC,GAE/BymC,IACFA,EAAWp/B,GAAKrH,EAAKqH,GACrBo/B,EAAW19B,IAAI,QAAS/I,EAAKgf,YAKnC,IAAK,IAAI/mB,EAAIg9B,EAAQ,EAAGh9B,GAAKgtC,EAAM9sC,OAAQF,GAAK,EAC9C+G,EAAS/G,GAAG4Q,SAGdnQ,KAAK0tC,gBAEL1tC,KAAKstC,aAGAlB,EA5YT,CA6YE,IE3Za,MC6IA,GAxIf,SAAUnnC,GAGR,SAASwpC,EAAQv/B,GACf,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAIhC4O,EAAG,EAKHC,EAAG,EAKH09B,MAAO,KAMPmC,aAAc,KAMd/5B,WAAW,EAMXg6B,WAAY,KAMZC,SAAS,EAMTC,WAAY,MACX3/B,KAASlP,KAoFd,OApIA,qBAAUyuC,EAASxpC,GAmDnBwpC,EAAQ7uC,UAAUkvC,gBAAkB,SAAUntC,EAAO4qC,GACnD,IAAImC,EAAe1uC,KAAKid,IAAI,gBACxB8xB,EAAY/uC,KAAKid,IAAI,SACrB+xB,IAAcrtC,IAAU+sC,GAAgBK,EAAUtvC,SAAW8sC,EAAM9sC,QAgBvE,OAdKuvC,GACH,QAAUzC,GAAO,SAAUjlC,EAAMhD,GAC/B,IAAI2qC,EAAUF,EAAUzqC,GACpBq/B,EAAOvkC,OAAOukC,KAAKr8B,GAKvB,GAJA0nC,EAAYrL,EAAKuL,MAAK,SAAUvvC,GAC9B,OAAQ,YAAc2H,EAAK3H,KAAS2H,EAAK3H,KAASsvC,EAAQtvC,MAI1D,OAAO,KAKNqvC,GAGTP,EAAQ7uC,UAAUuvC,WAAa,SAAUxtC,EAAO4qC,GAI9C,OAHAvsC,KAAKqQ,IAAI,QAASk8B,GAClBvsC,KAAKqQ,IAAI,eAAgB1O,GACzB3B,KAAK2P,SACE3P,MAGTyuC,EAAQ7uC,UAAUwvC,YAAc,SAAUxgC,EAAGC,EAAGvP,GAC9CU,KAAKqQ,IAAI,IAAKzB,GACd5O,KAAKqQ,IAAI,IAAKxB,IAGhB4/B,EAAQ7uC,UAAUyvC,WAAa,SAAUC,EAAaC,GACpD,IAAIC,EAAcxvC,KAAKid,IAAI,eACvBwyB,EAAmBzvC,KAAKid,IAAI,oBAE3BuyB,EAOHA,EAAYz/B,SANZy/B,EAAcC,EAAiBlC,SAAS,CACtC90B,OAAQ,EACR4xB,SAAS,IAEXrqC,KAAKqQ,IAAI,cAAem/B,IAK1B,QAAUF,GAAa,SAAUhoC,GAC/BkoC,EAAY9iB,SAAS,SAAU,CAC7BzY,MAAO3M,EAAK2M,MACZoQ,MAAO,OAAS,CACd1R,KAAMrL,EAAK2M,MACXgF,OAAQ,SACR7E,YAAa9M,EAAK2M,OACjBs7B,EAAW,CACZ3gC,EAAGtH,EAAKsH,EACRC,EAAGvH,EAAKuH,SAId7O,KAAKqQ,IAAI,cAAei/B,IAG1Bb,EAAQ7uC,UAAU8vC,aAAe,WAC/B,IAAIF,EAAcxvC,KAAKid,IAAI,eAC3BuyB,GAAeA,EAAYz/B,SAG7B0+B,EAAQ7uC,UAAU+P,OAAS,aAE3B8+B,EAAQ7uC,UAAUmQ,MAAQ,aAE1B0+B,EAAQ7uC,UAAUwQ,KAAO,WACvBpQ,KAAKqQ,IAAI,WAAW,IAGtBo+B,EAAQ7uC,UAAU0Q,KAAO,WACvBtQ,KAAKqQ,IAAI,WAAW,IAGfo+B,EArIT,CAsIE,IC+Fa,GArOf,SAAUxpC,GAGR,SAAS0qC,EAAUzgC,GACjB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CAIrCmG,KAAM,KAKNypC,KAAM,KAKNjB,WAAY,KAMZr1B,UAAW,CACT3G,KAAM,UACNkB,QAAS,IAMX2F,UAAW,CACT1G,OAAQ,sBACRJ,UAAW,GAEbyU,cAAc,GACbjY,KAASlP,KAMZ,OAJAkF,EAAM2qC,SAEN3qC,EAAMyK,SAECzK,EAuLT,OAjOA,qBAAUyqC,EAAW1qC,GA6CrB0qC,EAAU/vC,UAAUiwC,OAAS,WAC3B,IACI7N,EADOhiC,KAAKid,IAAI,QACHswB,WACjBvtC,KAAKqQ,IAAI,YAAa2xB,IAGxB2N,EAAU/vC,UAAUkwC,cAAgB,SAAUzrB,EAAOle,GACnD,IACI+T,EADYla,KAAKid,IAAI,aACHyP,SAAS,OAAQ,CACrCrI,MAAOA,EACPgmB,SAAS,IAIX,OADArqC,KAAKqQ,IAAI,iBAAmBlK,EAAM+T,GAC3BA,GAGTy1B,EAAU/vC,UAAUmwC,sBAAwB,SAAUhhC,EAAQ4/B,GAE5D,IAAIpqC,EAAQ,OAASvE,KAAKid,IAAI,aAAcjd,KAAKid,IAAI,UACjDoH,EAAQ,OAAS,CACnBjD,GAAIutB,EAAaA,EAAWqB,GAAGphC,EAAIG,EAAOkO,IAAI,SAC9CoE,GAAI,EACJK,GAAIitB,EAAaA,EAAWsB,GAAGrhC,EAAI,EACnC+S,GAAI,GACHpd,GAEHvE,KAAK8vC,cAAczrB,EAAO,MAG5BsrB,EAAU/vC,UAAUswC,oBAAsB,SAAUnhC,EAAQ4/B,GAE1D,IAAIpqC,EAAQ,OAASvE,KAAKid,IAAI,aAAcjd,KAAKid,IAAI,UACjDoH,EAAQ,OAAS,CACnBjD,GAAI,EACJC,GAAIstB,EAAaA,EAAWqB,GAAGnhC,EAAIE,EAAOkO,IAAI,UAC9CyE,GAAI,EACJC,GAAIgtB,EAAaA,EAAWwB,GAAGthC,EAAI,GAClCtK,GAEHvE,KAAK8vC,cAAczrB,EAAO,MAG5BsrB,EAAU/vC,UAAUwwC,kBAAoB,SAAUrhC,EAAQ4/B,GACxD,IAAIpqC,EAAQ,OAASvE,KAAKid,IAAI,aAAcjd,KAAKid,IAAI,UACjDvO,EAAY1O,KAAKid,IAAI,aACrBoH,EAAQ,OAAS,CACnBzV,EAAG+/B,EAAaA,EAAWwB,GAAGvhC,EAAI,EAClCC,EAAG8/B,EAAaA,EAAWwB,GAAGthC,EAAIE,EAAOkO,IAAI,UAC7CzY,MAAOmqC,EAAaA,EAAWsB,GAAGrhC,EAAI+/B,EAAWqB,GAAGphC,EAAIG,EAAOkO,IAAI,SACnEnO,OAAQ6/B,EAAazwB,KAAKsE,IAAImsB,EAAWwB,GAAGthC,EAAI8/B,EAAWqB,GAAGnhC,GAAKE,EAAOkO,IAAI,WAC7E1Y,GACC2V,EAAQxL,EAAUge,SAAS,OAAQ,CACrCrI,MAAOA,EACPgmB,SAAS,IAIX,OADArqC,KAAKqQ,IAAI,sBAAuB6J,GACzBA,GAGTy1B,EAAU/vC,UAAUywC,iBAAmB,SAAU9D,GAC/C,IAAIv3B,EACAs7B,EAAsBtwC,KAAKid,IAAI,uBAC/BkK,EAAennB,KAAKid,IAAI,gBACxBszB,EAAYhE,EAAM,GAClBiE,EAAWjE,EAAMA,EAAM9sC,OAAS,GAChCygC,EAAM/Y,EAAe,IAAM,IAC3BiB,EAAOjB,EAAe,SAAW,QACjCspB,EAAWF,EAAUrQ,GAMzB,GAJIqM,EAAM9sC,OAAS,GAAK8wC,EAAUrQ,GAAOsQ,EAAStQ,KAChDuQ,EAAWD,EAAStQ,IAGlBlgC,KAAKid,IAAI,SAEXqzB,EAAoBloB,KAAK8X,EAAKuQ,EAAWzwC,KAAKid,IAAI,cAAczY,MAAQ,GACxE8rC,EAAoBloB,KAAKA,EAAMpoB,KAAKid,IAAI,eAExC,GAAI,WAAaszB,EAAUh9B,MAAM2sB,MAAUqQ,EAAUrqC,KAAM,CAEzD,IAAI1B,EAAQ+rC,EAAUh9B,MAAM2sB,GAAK,GAAKqQ,EAAUh9B,MAAM2sB,GAAK,GAC3DoQ,EAAoBloB,KAAK8X,EAAKqQ,EAAUh9B,MAAM2sB,GAAK,IACnDoQ,EAAoBloB,KAAKA,EAAM5jB,QAE/BwQ,EAAS,EAAIu7B,EAAUrqC,KAAO,EAC9BoqC,EAAoBloB,KAAK8X,EAAKuQ,EAAWz7B,GAEpB,IAAjBu3B,EAAM9sC,OACR6wC,EAAoBloB,KAAKA,EAAM,EAAImoB,EAAUrqC,KAAO,GAEpDoqC,EAAoBloB,KAAKA,EAAMlK,KAAKsE,IAAIguB,EAAStQ,GAAOqQ,EAAUrQ,IAAQ,EAAIlrB,IAMtF26B,EAAU/vC,UAAU+P,OAAS,WAC3B,IAAIZ,EAAS/O,KAAKid,IAAI,UAClB0xB,EAAa3uC,KAAKid,IAAI,cACtBkK,EAAennB,KAAKid,IAAI,gBAG5B,OAFAjd,KAAK+P,QAEG/P,KAAKid,IAAI,SACf,IAAK,IACHjd,KAAK+vC,sBAAsBhhC,EAAQ4/B,GAEnC,MAEF,IAAK,IACH3uC,KAAKkwC,oBAAoBnhC,EAAQ4/B,GAEjC,MAEF,IAAK,QACH3uC,KAAK+vC,sBAAsBhhC,EAAQ4/B,GAEnC3uC,KAAKkwC,oBAAoBnhC,EAAQ4/B,GAEjC,MAEF,IAAK,OACH3uC,KAAKowC,kBAAkBrhC,EAAQ4/B,GAE/B,MAEF,QACExnB,EAAennB,KAAK+vC,sBAAsBhhC,EAAQ4/B,GAAc3uC,KAAKkwC,oBAAoBnhC,EAAQ4/B,KAIvGgB,EAAU/vC,UAAUwQ,KAAO,WACTpQ,KAAKid,IAAI,aAEf7M,QAGZu/B,EAAU/vC,UAAU0Q,KAAO,WACTtQ,KAAKid,IAAI,aAEf3M,QAGZq/B,EAAU/vC,UAAUmQ,MAAQ,WAC1B,IAAIrB,EAAY1O,KAAKid,IAAI,aACzBjd,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAKqQ,IAAI,sBAAuB,MAEhC3B,EAAUqB,SAGZ4/B,EAAU/vC,UAAUoQ,QAAU,WAC5B,IAAItB,EAAY1O,KAAKid,IAAI,aAEzBhY,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B0O,EAAUyB,UAGZw/B,EAAU/vC,UAAUwvC,YAAc,SAAUxgC,EAAGC,EAAG09B,GAChD,IAAImE,EAAkB1wC,KAAKid,IAAI,mBAC3B0zB,EAAkB3wC,KAAKid,IAAI,mBAC3BqzB,EAAsBtwC,KAAKid,IAAI,uBAE/B0zB,IAAoBA,EAAgB1zB,IAAI,cAE1C0zB,EAAgBC,KAAKhiC,EAAG,GAGtB8hC,IAAoBA,EAAgBzzB,IAAI,cAC1CyzB,EAAgBE,KAAK,EAAG/hC,GAGtByhC,IAAwBA,EAAoBrzB,IAAI,cAClDjd,KAAKqwC,iBAAiB9D,IAInBoD,EAlOT,CAmOE,ICzOS,GAAc,qKNUT,QAAK,IANS,cAOK,CACjCn5B,SAAU,WACV4B,QAAS,OAGTK,OAAQ,EACRC,WAAY,oIACZC,gBAAiB,2BACjBC,UAAW,uBACXT,aAAc,MACdlE,MAAO,kBACPa,SAAU,OACVC,WAAY,GACZG,WAAY,OACZrO,QAAS,sBACR,GArBuB,oBAqBQ,CAChC8Q,aAAc,OACb,GAtBsB,mBAsBQ,CAC/BG,OAAQ,EACRD,cAAe,OACfhR,QAAS,GACR,GAzB2B,wBAyBQ,CACpC8Q,aAAc,OACb,GA1BwB,qBA0BQ,CACjCnT,MAAO,MACPsK,OAAQ,MACRqJ,aAAc,MACdC,QAAS,eACTH,YAAa,OACZ,GA/BuB,oBA+BQ,CAChCG,QAAS,eACTW,MAAO,QACPD,WAAY,QACX,IO3CI,SAAS+3B,GAAgBjiC,EAAGC,EAAG2H,EAAUs6B,EAAgBC,EAAiBzxC,GAC/E,IAAI0xC,EAAOpiC,EACPqiC,EAAOpiC,EAEPqiC,EAAY,EACZC,EAAa,EACbC,EAAM,GAEV,GAAI9xC,EAAQ,CACV,IAAImb,EAAOnb,EAAO2pB,UAClBioB,EAAYz2B,EAAKjW,MACjB2sC,EAAa12B,EAAK3L,OAClBkiC,EAAOv2B,EAAK7L,EACZqiC,EAAOx2B,EAAK5L,EACZuiC,EAAM,EAGR,OAAQ56B,GACN,IAAK,SACHw6B,EAAOA,EAAOE,EAAY,EAAIJ,EAAiB,EAC/CG,EAAOA,EAAOE,EAAa,EAAIJ,EAAkB,EACjD,MAEF,IAAK,MACHC,EAAOA,EAAOE,EAAY,EAAIJ,EAAiB,EAC/CG,EAAOA,EAAOF,EAAkBK,EAChC,MAEF,IAAK,OACHJ,EAAOA,EAAOF,EAAiBM,EAC/BH,EAAOA,EAAOE,EAAa,EAAIJ,EAAkB,EACjD,MAEF,IAAK,QACHC,EAAOA,EAAOE,EAAYE,EAC1BH,EAAOA,EAAOE,EAAa,EAAIJ,EAAkB,EACjD,MAEF,IAAK,SACL,QACEC,EAAOA,EAAOE,EAAY,EAAIJ,EAAiB,EAC/CG,EAAOA,EAAOE,EAAaC,EAI/B,MAAO,CAACJ,EAAMC,GAET,SAASI,GAA6BziC,EAAGC,EAAGrK,EAAOsK,EAAQwiC,EAAWC,GAC3E,IAAIP,EAAOpiC,EACPqiC,EAAOpiC,EAoBX,OAlBImiC,EAAOxsC,EApDH,GAoDiB8sC,EAEvBN,GADAA,GAAQxsC,EArDF,IAsDQ,EAAI,EAAIwsC,EACbA,EAvDH,GAuDgB,EACtBA,EAxDM,GA0DNA,GA1DM,GA6DJC,EAAOniC,EA7DH,GA6DkByiC,EAExBN,GADAA,GAAQniC,EA9DF,IA+DQ,EAAI,EAAImiC,EACbA,EAhEH,GAgEgB,EACtBA,EAjEM,GAmENA,GAnEM,GAsED,CAACD,EAAMC,GAET,SAASO,GAA0B5iC,EAAGC,EAAGrK,EAAOsK,EAAQ6/B,EAAY8C,GACzE,IAAIT,EAAOpiC,EACPqiC,EAAOpiC,EAoBX,OAlBImiC,EAAOxsC,EAAQmqC,EAAW+C,GAAG9iC,IAC/BoiC,GAAQxsC,EAAQ,IAGdwsC,EAAOrC,EAAWwB,GAAGvhC,IACvBoiC,EAAOrC,EAAWwB,GAAGvhC,GAGlB6iC,IACCR,EAAOniC,EAAS6/B,EAAWqB,GAAGnhC,IAChCoiC,GAAQniC,EAAS,IAGfmiC,EAAOtC,EAAWwB,GAAGthC,IACvBoiC,EAAOtC,EAAWwB,GAAGthC,IAIlB,CAACmiC,EAAMC,GCvFhB,IAOI,GAAO,SAAcU,EAAKlY,GAC5B,OAAOkY,EAAIC,uBAAuBnY,GAAK,IA6V1B,GA9Uf,SAAUx0B,GAGR,SAAS4sC,EAAY3iC,GACnB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CAKrCqsC,aAAc,oIAMdC,QAAS,+KAMTwF,YAAa,KAMbC,QAAQ,EAMRC,WAAW,GACV9iC,KAASlP,KAERuE,EAAQ,GACZW,EAAMX,MAjDQ,SAAqB0tC,EAAQ/iC,GAO7C,OALA9P,OAAOukC,KAAKsO,GAAQ/pC,SAAQ,SAAU8J,GAChC9C,EAAI8C,KACNigC,EAAOjgC,GAAK,OAASigC,EAAOjgC,GAAI9C,EAAI8C,QAGjCigC,EA0CS,CAAY1tC,EAAO2K,GAEjChK,EAAM2qC,SAEF3qC,EAAM+X,IAAI,UACZ/X,EAAMyK,SAIR,IAAIuiC,EAAYhtC,EAAM+X,IAAI,cAE1B,GAAIi1B,EAAW,CACb,IAAItC,EAA0B,SAAnBsC,EAAU/rC,KAAkBjB,EAAM+X,IAAI,mBAAqB/X,EAAM+X,IAAI,oBAC5Ek1B,EAAiB,IAAI,GAAU,OAAS,CAC1CvC,KAAMA,EACNjB,WAAYzpC,EAAM+X,IAAI,cACtBlO,OAAQ7J,EAAM+X,IAAI,WACjB/X,EAAM+X,IAAI,gBACbk1B,EAAe7hC,OAEfpL,EAAMmL,IAAI,iBAAkB8hC,GAG9B,OAAOjtC,EA+QT,OA1UA,qBAAU2sC,EAAa5sC,GA8DvB4sC,EAAYjyC,UAAUiwC,OAAS,WAC7B,IAEInhC,EAFA29B,EAAersC,KAAKid,IAAI,gBACxBm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MAAMsxB,WAG9C,GAAKvuC,KAAKid,IAAI,eASZvO,EAAY1O,KAAKqyC,uBARjB,GAAI,MAAMjyB,KAAKisB,GAAe,CAE5B,IAAI19B,EAAK09B,EAAa1sB,QAAQ,IAAK,IACnCjR,EAAY4jC,SAASC,eAAe5jC,QAEpCD,EAAY,aAAkB29B,GAMlCrsC,KAAKqQ,IAAI,YAAa3B,GACtB,aAAkBA,EAAW1O,KAAKuE,MAxGhB,eAyGlB6tC,EAAW/D,YAAY3/B,GACvB0jC,EAAW7tC,MAAMiS,SAAW,YAG9Bq7B,EAAYjyC,UAAU+P,OAAS,WAG7B,GAFA3P,KAAK+P,QAED/P,KAAKid,IAAI,eAAgB,CAC3B,IAAIm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MAAMsxB,WAE1C7/B,EAAY1O,KAAKqyC,kBAErBD,EAAW/D,YAAY3/B,GACvB,aAAkBA,EAAW1O,KAAKuE,MAtHlB,eAuHhBvE,KAAKqQ,IAAI,YAAa3B,QAEtB1O,KAAKwyC,cAITX,EAAYjyC,UAAU4yC,WAAa,WACjC,IAAIttC,EAAQlF,KAER2U,EAAY3U,KAAKid,IAAI,aACrByxB,EAAe1uC,KAAKid,IAAI,gBACxBvO,EAAY1O,KAAKid,IAAI,aACrBnb,EAAW,GAAK4M,EAlIN,oBAmIV+jC,EAAU,GAAK/jC,EAlIN,mBAmIT69B,EAAQvsC,KAAKid,IAAI,SAEjBnb,GAAY6S,IACd,aAAkB7S,EAAU9B,KAAKuE,MAvIrB,qBAwIZzC,EAAS+qC,UAAY6B,GAGnB+D,IACF,aAAkBA,EAASzyC,KAAKuE,MA3IrB,oBA4IX,QAAUgoC,GAAO,SAAUjlC,EAAMhD,GAC/BmuC,EAAQpE,YAAYnpC,EAAMwtC,SAASprC,EAAMhD,SAK/CutC,EAAYjyC,UAAUmQ,MAAQ,WAC5B,IAAIrB,EAAY1O,KAAKid,IAAI,aAEzB,GAAIvO,GAAa1O,KAAKid,IAAI,eACxBvO,EAAUyB,aACL,CACL,IAAIrO,EAAW,GAAK4M,EAzJR,oBA0JR+jC,EAAU,GAAK/jC,EAzJR,mBA2JP5M,IACFA,EAAS+qC,UAAY,IAGnB4F,IACFA,EAAQ5F,UAAY,MAK1BgF,EAAYjyC,UAAUwQ,KAAO,WAC3B,IAAI1B,EAAY1O,KAAKid,IAAI,aACzBvO,EAAUnK,MAAM6J,WAAa,UAC7BM,EAAUnK,MAAM6T,QAAU,QAC1B,IAAI+5B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe/hC,OAGjB,IAAIo/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYp/B,OAGdnL,EAAOrF,UAAUwQ,KAAKtQ,KAAKE,MAE3BA,KAAKid,IAAI,UAAUnN,QAGrB+hC,EAAYjyC,UAAU0Q,KAAO,WAC3B,IAAI5B,EAAY1O,KAAKid,IAAI,aACzBvO,EAAUnK,MAAM6J,WAAa,SAC7BM,EAAUnK,MAAM6T,QAAU,OAC1B,IAAI+5B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe7hC,OAGjB,IAAIk/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYl/B,OAGdrL,EAAOrF,UAAU0Q,KAAKxQ,KAAKE,MAE3BA,KAAKid,IAAI,UAAUnN,QAGrB+hC,EAAYjyC,UAAUoQ,QAAU,WAC9B,IAAItB,EAAY1O,KAAKid,IAAI,aACrBovB,EAAersC,KAAKid,IAAI,gBAExBvO,IAAc,MAAM0R,KAAKisB,IAC3B39B,EAAU6/B,WAAWoE,YAAYjkC,GAGnC,IAAIyjC,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAeniC,UAGjB,IAAIw/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYr/B,SAGdlL,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhC6xC,EAAYjyC,UAAU8yC,SAAW,SAAUprC,EAAMhD,GAC/C,IAAIgoC,EAAUtsC,KAAKid,IAAI,WAEnB21B,EAAU,cAAgBtG,EAAS,OACvC,CAEEhoC,MAAOA,GACNgD,IACCurC,EAAU,aAAkBD,GAChC,aAAkBC,EAAS7yC,KAAKuE,MA5Od,yBA6OlB,IAAIuuC,EAAY,GAAKD,EA/ON,qBAiPXC,GACF,aAAkBA,EAAW9yC,KAAKuE,MAlPrB,sBAqPf,IAAIwuC,EAAW,GAAKF,EApPN,oBA0Pd,OAJIE,GACF,aAAkBA,EAAU/yC,KAAKuE,MAvPrB,qBA0PPsuC,GAGThB,EAAYjyC,UAAUyyC,gBAAkB,WACtC,IAGI56B,EAHczX,KAAKid,IAAI,cAGhB60B,CAFC9xC,KAAKid,IAAI,gBACTjd,KAAKid,IAAI,UAUrB,OANI,aAAexF,GACXA,EAEA,aAAkBA,IAM5Bo6B,EAAYjyC,UAAUwvC,YAAc,SAAU4D,EAAMC,EAAM3zC,GAExD,IAUIkX,EAVA5H,EAAIokC,EACJnkC,EAAIokC,EACJvkC,EAAY1O,KAAKid,IAAI,aACrBm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MACpCq0B,EAAY,YAAiBc,GAC7Bb,EAAa,aAAkBa,GAC/BtB,EAAiBpiC,EAAUwkC,YAC3BnC,EAAkBriC,EAAUykC,aAC5BC,EAAOxkC,EACPykC,EAAOxkC,EAEPykC,EAActzC,KAAKid,IAAI,gBAAkB,CAC3CrO,EAAG,EACHC,EAAG,GA8BL,GA3BKiiC,IACHpiC,EAAUnK,MAAM6T,QAAU,QAC1B04B,EAAiBpiC,EAAUwkC,YAC3BnC,EAAkBriC,EAAUykC,aAC5BzkC,EAAUnK,MAAM6T,QAAU,QAGxBpY,KAAKid,IAAI,cAEXzG,EAAW,CAAC5H,EADZC,GAAQH,EAAUykC,aAAe,GAG7BG,GAAe1kC,EAAI0kC,EAAY1kC,EAAI,EAErCA,GAAKF,EAAUwkC,YAAc,EAE7BtkC,GAAK,GAEE5O,KAAKid,IAAI,aAElBrO,GADA4H,EAAWq6B,GAAgBjiC,EAAGC,EAAG7O,KAAKid,IAAI,YAAa6zB,EAAgBC,EAAiBzxC,IAC3E,GACbuP,EAAI2H,EAAS,KAGb5H,GADA4H,EAAW66B,GAA6BziC,EAAGC,EAAGiiC,EAAgBC,EAAiBO,EAAWC,IAC7E,GACb1iC,EAAI2H,EAAS,IAGXxW,KAAKid,IAAI,WAAY,CAEvB,IAAI0xB,EAAa3uC,KAAKid,IAAI,cAEtBs2B,EADavzC,KAAKid,IAAI,cACCmL,KAAK,QAEhCxZ,GADA4H,EAAWg7B,GAA0B5iC,EAAGC,EAAGiiC,EAAgBC,EAAiBwC,EAAYA,EAAUtqB,UAAY0lB,EAAY3uC,KAAKid,IAAI,eACtH,GACbpO,EAAI2H,EAAS,GAGf,IAAI84B,EAActvC,KAAKid,IAAI,eAEtB,WAAaqyB,KAChB8D,EAAO9D,EAAY,GAAG1gC,EACtBykC,EAAO/D,EAAY,GAAGzgC,GAGxB7O,KAAKqQ,IAAI,cAAemG,GAEXxW,KAAKid,IAAI,YAGpBvO,EAAUnK,MAAMmS,KAAO9H,EAAI,KAC3BF,EAAUnK,MAAMgS,IAAM1H,EAAI,MAG5B,IAAIsjC,EAAiBnyC,KAAKid,IAAI,kBAE9B,GAAIk1B,EAAgB,CAClB,IAAI5F,EAAQvsC,KAAKid,IAAI,SACrBk1B,EAAe/C,YAAYgE,EAAMC,EAAM9G,GAGzCtnC,EAAOrF,UAAUwvC,YAAYtvC,KAAKE,KAAM4O,EAAGC,IAGtCgjC,EA3UT,CA4UE,ICgCa,GA7Xf,SAAU5sC,GAGR,SAASuuC,EAActkC,GACrB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CAKrCqW,gBAAiB,CACfzH,EAAG,EACHC,EAAG,EACHrK,MAAO,IACPsK,OAAQ,IACR6D,KAAM,2BACNa,OAAQ,EACRV,OAAQ,UACRJ,UAAW,GAOb+C,WAAY,CACVV,WAAY,GACZrB,KAAM,GACNE,aAAc,MACdkB,SAAU,GACVnC,KAAM,kBACNuC,WAAY,GACZrO,QAAS,IAOXqR,YAAa,CACX1E,OAAQ,GAOVigC,UAAW,CACT1+B,WAAY,GACZD,SAAU,GACVnC,KAAM,kBACNiB,aAAc,SACdD,UAAW,QACX9M,QAAS,GAOX6sC,WAAY,CACV3+B,WAAY,GACZD,SAAU,GACVnC,KAAM,kBACNiB,aAAc,SACdD,UAAW,QACX9M,QAAS,IAOXA,QAAS,CACP0P,IAAK,GACLI,MAAO,GACPF,OAAQ,GACRC,KAAM,IAORi9B,QAAS,GAMTC,kBAAmB,KAClB1kC,KAASlP,KAKZ,GAFgBkF,EAAM+X,IAAI,cAEX,CACb,IAAI2yB,EAAO1qC,EAAM+X,IAAI,oBAEjBk1B,EAAiB,IAAI,GAAU,OAAS,CAC1CvC,KAAMA,EACNjB,WAAYzpC,EAAM+X,IAAI,cACtBlO,OAAQ7J,EAAM+X,IAAI,WACjB/X,EAAM+X,IAAI,gBACbk1B,EAAe7hC,OAEfpL,EAAMmL,IAAI,iBAAkB8hC,GAS9B,OANAjtC,EAAM2qC,SAEF3qC,EAAM+X,IAAI,UACZ/X,EAAMyK,SAGDzK,EAwQT,OAzXA,qBAAUsuC,EAAevuC,GAoHzBuuC,EAAc5zC,UAAUiwC,OAAS,WAC/B,IAAIhpC,EAAU7G,KAAKid,IAAI,WACnBjO,EAAShP,KAAKid,IAAI,oBAElBuyB,EAAcxgC,EAAOu+B,SAAS,CAChClD,SAAS,IAEXrqC,KAAKqQ,IAAI,cAAem/B,GAExB,IAAI9gC,EAAYM,EAAOu+B,WACvB7+B,EAAU4B,OACVtQ,KAAKqQ,IAAI,YAAa3B,GAEtB,IAAImlC,EAAQnlC,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,OAAS,GAAIrkB,KAAKid,IAAI,sBAE/Bjd,KAAKqQ,IAAI,QAASwjC,GAElB,IAAIp+B,EAAazV,KAAKid,IAAI,cAE1B,GAAIjd,KAAKid,IAAI,aAAc,CACzB,IAAI62B,EAAaplC,EAAUge,SAAS,OAAQ,CAC1CrI,MAAO,OAAS,CACdzV,EAAG/H,EAAQ6P,KACX7H,EAAGhI,EAAQ0P,KACVd,KAELzV,KAAKqQ,IAAI,aAAcyjC,GACvBA,EAAW7hC,KAAO,gBAIpB,IAAI8hC,EAAarlC,EAAU6+B,WAC3BwG,EAAWnD,KAAK/pC,EAAQ6P,KAAM7P,EAAQ0P,IAAMd,EAAWP,WAAaO,EAAW5O,SAC/E7G,KAAKqQ,IAAI,aAAc0jC,IAGzBP,EAAc5zC,UAAU+P,OAAS,WAC/B,IAAIzK,EAAQlF,KAEZA,KAAK+P,QACL,IAAIrB,EAAY1O,KAAKid,IAAI,aACrB42B,EAAQ7zC,KAAKid,IAAI,SACjBtI,EAAY3U,KAAKid,IAAI,aACrByxB,EAAe1uC,KAAKid,IAAI,gBACxB62B,EAAa9zC,KAAKid,IAAI,cACtB82B,EAAa/zC,KAAKid,IAAI,cACtBsvB,EAAQvsC,KAAKid,IAAI,SACjBpW,EAAU7G,KAAKid,IAAI,WAEnB62B,GAAcn/B,GAChBm/B,EAAW1rB,KAAK,OAAQsmB,GAG1B,IAAIiF,EAAU3zC,KAAKid,IAAI,WAEnBpO,EAAI,EACR,QAAU09B,GAAO,SAAUjlC,GACzB,IAAI0sC,EAAY9uC,EAAMwtC,SAASprC,GAE/B0sC,EAAUpD,KALJ,EAKY/hC,GAClBklC,EAAWnkC,IAAIokC,GACf,IAAIC,EAAaD,EAAU/qB,UAAUna,OACrCD,GAAKolC,EAAaN,KAGpB,IAAI9I,EAAOn8B,EAAUua,UACjBzkB,EAAQqmC,EAAKrmC,MAAQqC,EAAQ8P,MAC7B7H,EAAS+7B,EAAK/7B,OAASjI,EAAQ4P,OACnCo9B,EAAMzrB,KAAK,QAAS5jB,GACpBqvC,EAAMzrB,KAAK,SAAUtZ,GAErB9O,KAAKk0C,cAAc1vC,IAGrBgvC,EAAc5zC,UAAUmQ,MAAQ,WAC9B,IAAI+jC,EAAa9zC,KAAKid,IAAI,cACtB82B,EAAa/zC,KAAKid,IAAI,cACtB42B,EAAQ7zC,KAAKid,IAAI,SAEjB62B,IACFA,EAAWpgC,KAAO,IAGpBqgC,EAAWhkC,QACX8jC,EAAMzrB,KAAK,QAAS,GACpByrB,EAAMzrB,KAAK,SAAU,IAGvBorB,EAAc5zC,UAAUwQ,KAAO,WACbpQ,KAAKid,IAAI,aACf7M,OACV,IAAI+hC,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe/hC,OAGjB,IAAIo/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYp/B,OAGdnL,EAAOrF,UAAUwQ,KAAKtQ,KAAKE,MAE3BA,KAAKid,IAAI,UAAUnN,QAGrB0jC,EAAc5zC,UAAU0Q,KAAO,WACbtQ,KAAKid,IAAI,aACf3M,OACV,IAAI6hC,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe7hC,OAGjB,IAAIk/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYl/B,OAGdrL,EAAOrF,UAAU0Q,KAAKxQ,KAAKE,MAE3BA,KAAKid,IAAI,UAAUnN,QAGrB0jC,EAAc5zC,UAAUoQ,QAAU,WAChC,IAAItB,EAAY1O,KAAKid,IAAI,aACrBk1B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAeniC,UAGjB,IAAIw/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYr/B,SAGdlL,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B0O,EAAUyB,UAGZqjC,EAAc5zC,UAAUwvC,YAAc,SAAU4D,EAAMC,EAAM3zC,GAE1D,IAWIkX,EAXA5H,EAAIokC,EACJnkC,EAAIokC,EACJvkC,EAAY1O,KAAKid,IAAI,aACrBm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MACpCq0B,EAAY,YAAiBc,GAC7Bb,EAAa,aAAkBa,GAC/BvH,EAAOn8B,EAAUua,UACjB6nB,EAAiBjG,EAAKrmC,MACtBusC,EAAkBlG,EAAK/7B,OACvBskC,EAAOxkC,EACPykC,EAAOxkC,EAaX,GAVI7O,KAAKid,IAAI,aAEXrO,GADA4H,EAAWq6B,GAAgBjiC,EAAGC,EAAG7O,KAAKid,IAAI,YAAa6zB,EAAgBC,EAAiBzxC,IAC3E,GACbuP,EAAI2H,EAAS,KAGb5H,GADA4H,EAAW66B,GAA6BziC,EAAGC,EAAGiiC,EAAgBC,EAAiBO,EAAWC,IAC7E,GACb1iC,EAAI2H,EAAS,IAGXxW,KAAKid,IAAI,WAAY,CAEvB,IAAI0xB,EAAa3uC,KAAKid,IAAI,cAEtBs2B,EADavzC,KAAKid,IAAI,cACCmL,KAAK,QAEhCxZ,GADA4H,EAAWg7B,GAA0B5iC,EAAGC,EAAGiiC,EAAgBC,EAAiBwC,EAAYA,EAAUtqB,UAAY0lB,EAAY3uC,KAAKid,IAAI,eACtH,GACbpO,EAAI2H,EAAS,GAGf,IAAI84B,EAActvC,KAAKid,IAAI,eAEtB,WAAaqyB,KAChB8D,EAAO9D,EAAY,GAAG1gC,EACtBykC,EAAO/D,EAAY,GAAGzgC,GAGxB,IACIslC,EC/TQ,cAEd,IAAI7sB,EAAS1J,EAAI,iBAAMA,GAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAuBrD,OAtBA,gBAAKw2B,GAAI,SAAUh0C,GACjB,OAAQA,EAAE,IACR,IAAK,IACH,GAAKuuB,UAAUrH,EAAQA,EAAQ,CAAClnB,EAAE,GAAIA,EAAE,KACxC,MAEF,IAAK,IACH,GAAKutB,MAAMrG,EAAQA,EAAQ,CAAClnB,EAAE,GAAIA,EAAE,KACpC,MAEF,IAAK,IACH,GAAK8hB,OAAOoF,EAAQA,EAAQlnB,EAAE,IAC9B,MAEF,IAAK,IACH,GAAKysB,SAASvF,EAAQA,EAAQlnB,EAAE,IAChC,MAEF,QACE,OAAO,MAGNknB,EDsSK,CADK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACV,CAAC,CAAC,IAAK1Y,EAAGC,KACxCH,EAAU2lC,cACV3lC,EAAU8N,QAAQ,CAChB8K,OAAQ6sB,GACPn0C,KAAKid,IAAI,sBACZ,IAAIk1B,EAAiBnyC,KAAKid,IAAI,kBAE9B,GAAIk1B,EAAgB,CAClB,IAAI5F,EAAQvsC,KAAKid,IAAI,SACrBk1B,EAAe/C,YAAYgE,EAAMC,EAAM9G,GAGzCtnC,EAAOrF,UAAUwvC,YAAYtvC,KAAKE,KAAM4O,EAAGC,IAG7C2kC,EAAc5zC,UAAU8yC,SAAW,SAAUprC,GAC3C,IAAI06B,EAAQ,IAAI,SACZsS,EAAet0C,KAAKid,IAAI,eAAezJ,OAE3C,GAAIlM,EAAKitC,OAAQ,CAEf,IAAIC,EAAc,OAAS,GAAIltC,EAAKitC,OAAQ,CAC1C3lC,EAAGtH,EAAKitC,OAAO/gC,OAAS,EACxB3E,EAAG,IAELmzB,EAAMtV,SAAS,SAAU,CACvBrI,MAAOmwB,IAETF,EAAehtC,EAAKitC,OAAO/gC,OAI7B,IAAIigC,EAAYzzC,KAAKid,IAAI,aACzB+kB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,OAAS,CACdzV,EAAG0lC,EAAeb,EAAU5sC,QAC5BgI,EAAG,EACH6E,KAAMpM,EAAK2K,MACVwhC,KAGL,IAAIC,EAAa1zC,KAAKid,IAAI,cAQ1B,OAPA+kB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,OAAS,CACdzV,EAAGozB,EAAM/Y,UAAUzkB,MAAQkvC,EAAW7sC,QACtCgI,EAAG,EACH6E,KAAMpM,EAAK1G,OACV8yC,KAEE1R,GAGTwR,EAAc5zC,UAAUs0C,cAAgB,SAAU1vC,GAChD,IAAIU,EAAQlF,KAGRy0C,EADaz0C,KAAKid,IAAI,cACFA,IAAI,YAC5B,QAAUw3B,GAAQ,SAAU9Y,GAE1B,IACI+Y,EADW/Y,EAAE1e,IAAI,YACI,GAEzB,GAAIy3B,EAAW,CACb,IAAI5Z,EAAI4Z,EAAUzrB,UAAUzkB,MACxBoK,EAAIpK,EAAQs2B,EAAiC,EAA7B51B,EAAM+X,IAAI,WAAWtG,MACzC+9B,EAAUtsB,KAAK,IAAKxZ,QAKnB4kC,EA1XT,CA2XE,IEpYa,IACb7xC,MAAO,CACLkT,UAAW,CACTC,SAAU,GACVnC,KAAM,UACNiB,aAAc,SACdmB,WAAY,GACZpB,UAAW,UAEbqB,OAAQ,IAEVC,MAAO,CACLJ,UAAW,CACTC,SAAU,GACVnC,KAAM,OACNiB,aAAc,SACdmB,WAAY,IAEdC,OAAQ,GACRs1B,QAAS,EACTC,QAAS,GAEXl1B,KAAM,CACJ3C,UAAW,EACXI,OAAQ,YCoiBG,GAxjBf,SAAU7N,GAGR,SAAS0vC,EAAKzlC,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,OACNwI,GAAI,KACJyE,KAAM,CACJV,UAAW,EACXI,OAAQ,WAEVqC,SAAU,CACRzC,UAAW,EACXI,OAAQ,UACRrT,OAAQ,GAEVm1C,aAAc,EACdC,YAAa,KACbx/B,KAAM,KACNJ,MAAO,KACPtT,MAAO,KACP6S,iBAAiB,EACjBC,eAAe,EACfC,iBAAiB,EACjBE,SAAU,OACV4Z,MAAO,GACPsmB,WAAY,GACZC,WAAY,IACX7lC,KAASlP,KAIZ,OAFAkF,EAAM8vC,gBAEC9vC,EAqhBT,OApjBA,qBAAUyvC,EAAM1vC,GAkChB0vC,EAAK/0C,UAAU+P,OAAS,WACX3P,KAAKid,IAAI,SACZjd,KAAKi1C,cAEFj1C,KAAKid,IAAI,SACZjd,KAAKk1C,cAEEl1C,KAAKid,IAAI,aACZjd,KAAKm1C,eAELn1C,KAAKid,IAAI,UACZjd,KAAKo1C,gBAEFp1C,KAAKid,IAAI,WAInBjd,KAAKqQ,IAAI,QAAS,WAAa,GAAI,GAAM1O,MAAO3B,KAAKid,IAAI,WACzDjd,KAAKq1C,gBAITV,EAAK/0C,UAAUoQ,QAAU,WACvB,IAAKhQ,KAAKmO,UAAW,CACnBlJ,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAIs1C,EAAYt1C,KAAKid,IAAI,aACzBq4B,GAAaA,EAAUnlC,SACvB,IAAIolC,EAAgBv1C,KAAKid,IAAI,iBAC7Bs4B,GAAiBA,EAAcvlC,UACnBhQ,KAAKid,IAAI,SACfjN,UACNhQ,KAAKmO,WAAY,IAIrBwmC,EAAK/0C,UAAUmQ,MAAQ,WACrB,IAAIiyB,EAAQhiC,KAAKid,IAAI,SAErB,IAAK+kB,EAAM/kB,IAAI,cAAgB+kB,EAAM/kB,IAAI,YAAYxd,OAAQ,CAC3D,IAAI61C,EAAYt1C,KAAKid,IAAI,aACzBq4B,GAAaA,EAAUvlC,QACvB,IAAIwlC,EAAgBv1C,KAAKid,IAAI,iBAC7Bs4B,GAAiBA,EAAcxlC,QAG/B/P,KAAKid,IAAI,SAASlN,UAWtB4kC,EAAK/0C,UAAU41C,UAAY,SAAU96B,EAAMpW,EAAO7E,GAChD,MAAO,CACLiU,KAAMgH,EACN9Z,MAAO0D,GAAS7E,EAAS,KAY7Bk1C,EAAK/0C,UAAU61C,SAAW,SAAU/6B,EAAMnH,EAAOjP,EAAOgyB,GACtD,IAAI3gB,EAAQ3V,KAAKid,IAAI,UAAY,GAC7BhI,EAAQjV,KAAKid,IAAI,SACjBy4B,EAAWzgC,EAEf,GAAI,cAAgBygC,GAAW,CAE7B,IAAIC,EAAgB1gC,EAAMyF,EAAKhH,KAAMpP,EAAOgyB,GAC5Cof,EAAWC,EAAgB,WAAa,GAAIhgC,EAAMV,MAAO0gC,GAAiB,KAG5E,GAAID,EAAU,EACZA,EAAW,WAAa,CACtBhiC,KAAMgH,EAAKhH,MACV,GAAMuB,MAAOygC,IAEHzmB,YACXymB,EAAShiC,KAAOgiC,EAASzmB,UAAUvU,EAAKhH,KAAMpP,EAAOgyB,IAGvD,IAAIsO,EAAS5kC,KAAK41C,cAAcF,EAAS1gC,OAAQzB,EAAOjP,GACpDuxC,EAAW,CACbjnC,EAAG2E,EAAM3E,EAAIg2B,EAAO,GAAK8Q,EAASpL,QAClCz7B,EAAG0E,EAAM1E,EAAI+1B,EAAO,GAAK8Q,EAASnL,SAUpC,GARAmL,EAAS9mC,EAAIinC,EAASjnC,EACtB8mC,EAAS7mC,EAAIgnC,EAAShnC,EACtB6mC,EAASniC,MAAQsiC,EAEZ,SAAWtiC,EAAM2O,UACpBwzB,EAASxzB,OAAS3O,EAAM2O,QAGrB,SAAWwzB,EAASxzB,QAMvBwzB,EAAS/hC,UAAY3T,KAAK81C,cAAclR,OANR,CAChC8Q,EAAS/hC,UAAY+hC,EAASxzB,OAAS,MAAQ,EAAI,SAAWwzB,EAASxzB,OAAS,EAAIwzB,EAASxzB,OAAS,IAAM,IAAM,OAAS,QAAUwzB,EAASxzB,OAAS,KAAO,IAAM,QAAU,OAC9K,IAAIlN,GAAU,EAAIkJ,KAAKsE,IAAItE,KAAKkE,IAAIszB,EAASxzB,OAAShE,KAAKK,GAAK,MAChEm3B,EAAS7mC,GAAKmG,EACd0gC,EAASniC,MAAM1E,GAAKmG,EAKlB0gC,EAASl9B,UACXk9B,EAAShiC,KAAOgiC,EAAS1H,cAG3BhuC,KAAKid,IAAI,cAAczM,KAAKklC,KAShCf,EAAK/0C,UAAUk2C,cAAgB,SAAUlR,GAGvC,OAFY1mB,KAAKsE,IAAIoiB,EAAO,GAAKA,EAAO,KAE3B,EAEJ,SAGLA,EAAO,GAAK,EAEP,QAGF,OAGT+P,EAAK/0C,UAAUm2C,yBAA2B,SAAUR,EAAeS,GACjE,IAAIjK,EAASwJ,EAAc5H,YACvBhoB,EAAM,EASV,OARA,QAAUomB,GAAQ,SAAU92B,GAC1B,IACIrU,EADOqU,EAAMgU,UACA+sB,GAEbrwB,EAAM/kB,IACR+kB,EAAM/kB,MAGH+kB,GAQTgvB,EAAK/0C,UAAUq2C,iBAAmB,aAOlCtB,EAAK/0C,UAAUs2C,eAAiB,aAOhCvB,EAAK/0C,UAAUy1C,YAAc,aAG7BV,EAAK/0C,UAAUs1C,YAAc,WAC3B,IAAI94B,EAAOpc,KAAKm2C,cAEZC,EAAU,oBAAS,CACrBh6B,KAAMA,GACLpc,KAAKid,IAAI,SAIRwwB,EAFQztC,KAAKid,IAAI,SAECyP,SAAS,OAAQ,CACrCrI,MAAO+xB,EACP39B,OAAQ,IAEVg1B,EAAUx7B,KAAO,YACjBjS,KAAKid,IAAI,eAAiBwwB,EAAUnkB,UAAU,aAActpB,KAAKid,IAAI,eACrEjd,KAAKqQ,IAAI,YAAao9B,IAIxBkH,EAAK/0C,UAAUu1C,aAAe,WAC5B,IAAIkB,EAAcr2C,KAAKid,IAAI,YACvBq5B,EAAYt2C,KAAKid,IAAI,aACrBs5B,EAAev2C,KAAKid,IAAI,gBAM5B,GAJIq5B,GAAaA,EAAU72C,QACzBO,KAAKw2C,aAAaF,EAAWD,GAG3BE,GAAgBA,EAAa92C,OAAQ,CACvC,IAAIg3C,EAAiBz2C,KAAKid,IAAI,gBAAkBo5B,EAEhDr2C,KAAKw2C,aAAaD,EAAcE,KAIpC9B,EAAK/0C,UAAUq1C,YAAc,WAC3B,IAAI/vC,EAAQlF,KAERsmB,EAAQtmB,KAAKid,IAAI,SACjBy5B,EAAa12C,KAAKid,IAAI,cACtB+kB,EAAQhiC,KAAKid,IAAI,SACjB83B,EAAa/0C,KAAKid,IAAI,cACtB5H,EAAOrV,KAAKid,IAAI,QAChBrI,EAAW5U,KAAKid,IAAI,YACpBtH,EAAQ3V,KAAKid,IAAI,UAAY,GAC7BuR,EAAQxuB,KAAKid,IAAI,SACjBsf,EAAQwY,EAAWt1C,OACnB61C,EAAYtT,EAAMuL,SAAS,CAC7BoJ,MAAO,YACPl+B,OAAQ,IAIVzY,KAAKqQ,IAAI,YAAailC,GAEtB,IAuDMsB,EAvDFC,EAAUxhC,GACd,QAAU0/B,GAAY,SAAU+B,EAAWxyC,GACzC,GAAI,cAAgB+Q,GAAO,CAEzB,IAAIqF,EAAO8T,EAAMlqB,GACbyyC,EAAer8B,GAAQrF,EAAKqF,EAAKhH,KAAMpP,EAAOi4B,GAClDsa,EAAUE,EAAe,OAAS,GAAIphC,EAAMN,KAAM0hC,GAAgB,KAGpE,GAAIF,EAAS,CACX,IAAIvuB,EAASwuB,EAAUxuB,OACnB0uB,EAAS,GAEI,QAAbpiC,EAEF,QAAU0T,GAAQ,SAAU/U,EAAO7C,GACjC,IAAI8C,EAASD,EAAMC,OACf5E,EAAI2E,EAAM3E,EACVC,EAAI0E,EAAM1E,EACV2P,EAAOjL,EAAMiL,KAEL,IAAR9N,EACFsmC,EAAOxmC,KAAK,CAAC,IAAK5B,EAAGC,IAErBmoC,EAAOxmC,KAAK,CAAC,IAAKgD,EAAQA,EAAQ,EAAG,EAAGgL,EAAM5P,EAAGC,OAIrD,QAAUyZ,GAAQ,SAAU/U,EAAO7C,GACjC,IAAI9B,EAAI2E,EAAM3E,EACVC,EAAI0E,EAAM1E,EAEF,IAAR6B,EACFsmC,EAAOxmC,KAAK,CAAC,IAAK5B,EAAGC,IAErBmoC,EAAOxmC,KAAK,CAAC,IAAK5B,EAAGC,OAK3B,IAAIooC,EAAgB3B,EAAU5oB,SAAS,OAAQ,CAC7CrI,MAAO,OAAS,CACdjI,KAAM46B,GACL,GAAM3hC,KAAMwhC,KAEjBI,EAAchlC,KAAO,YACrBglC,EAActoC,GAAKmoC,EAAUnoC,GAC7BsoC,EAAc5mC,IAAI,QAASiW,GAC3BowB,GAAcO,EAAc3tB,UAAU,aAAc2tB,OAI/Bj3C,KAAKid,IAAI,wBAIhC,QAAU83B,GAAY,SAAUztC,EAAMhD,GAChCsyC,GACF1xC,EAAMgyC,mBAAmB5vC,EAAMsvC,EAAWtyC,GAG5CsyC,EAAYtvC,MAKlBqtC,EAAK/0C,UAAUw1C,cAAgB,WAC7B,IAAIpT,EAAQhiC,KAAKid,IAAI,SACjBs4B,EAAgB,IAAI,GAAM,CAC5BtjC,KAAM,eAERsjC,EAAcllC,IAAI,QAASrQ,KAAKid,IAAI,UACpCs4B,EAAcllC,IAAI,QAAS2xB,EAAMuL,SAAS,CACxCoJ,MAAO,iBAETpB,EAAcllC,IAAI,SAAUrQ,KAAKid,IAAI,WACrCs4B,EAAcllC,IAAI,QAASrQ,KAAKid,IAAI,eACpCs4B,EAAczlC,MAAK,GACnB9P,KAAKqQ,IAAI,gBAAiBklC,GAEtBv1C,KAAKid,IAAI,oBACXjd,KAAKi2C,mBAGHj2C,KAAKid,IAAI,kBACXjd,KAAKk2C,kBAKTvB,EAAK/0C,UAAUo1C,cAAgB,WAC7B,IAAI9vC,EAAQlF,KAER01C,EAAW11C,KAAKid,IAAI,SACpB23B,EAAe50C,KAAKid,IAAI,gBACxBo5B,EAAcr2C,KAAKid,IAAI,YAEvBuR,EAAQxuB,KAAKm3C,YAAYn3C,KAAKid,IAAI,UAElCqZ,EAAY9H,EAAM/uB,OAatB,GAZA,QAAU+uB,GAAO,SAAU9T,EAAMpW,GAC/B,IAAI8yC,EAAYlyC,EAAMmyC,aAAa38B,EAAK9Z,MAAO0D,GAE3C+xC,GACFnxC,EAAMoyC,aAAahzC,EAAO8yC,EAAWf,EAAY52C,QAG/Ci2C,GACFxwC,EAAMuwC,SAAS/6B,EAAM08B,EAAW9yC,EAAOgyB,MAIvCse,EAAc,CAEhB,IAAI2C,EAAmBv3C,KAAKid,IAAI,eAChC,QAAUuR,GAAO,SAAU9T,EAAMpW,GAC/B,GAAIA,EAAQ,EAAG,CACb,IAAIkzC,EAAO98B,EAAK9Z,MAAQ4tB,EAAMlqB,EAAQ,GAAG1D,MACzC42C,GAAetyC,EAAM+X,IAAI,gBAAkB,EAE3C,IAAK,IAAI1d,EAAI,EAAGA,GAAKq1C,EAAcr1C,IAAK,CACtC,IAAIk4C,EAAU,CACZ/jC,KAAM,GACN9S,MAAO0D,EAAQkqB,EAAMlqB,EAAQ,GAAG1D,MAAQrB,EAAIi4C,EAAOj4C,EAAIi4C,GAGrDJ,EAAYlyC,EAAMmyC,aAAaI,EAAQ72C,OAEvC82C,OAAgB,EAGlBA,EADEH,GAAoBA,EAAiB93C,OACvB83C,EAAiB93C,OAEjBye,KAAK2V,MAA2B,GAArBwiB,EAAY52C,QAGzCyF,EAAMoyC,aAAa/3C,EAAI,EAAG63C,EAAWM,EAAe,cAO9D/C,EAAK/0C,UAAUu3C,YAAc,SAAU3oB,QACvB,IAAVA,IACFA,EAAQ,IAKV,IAFA,IAAImpB,EAAcnpB,EAAM/uB,OAEfF,EAAI,EAAGA,EAAIo4C,EAAap4C,IAAK,CACpC,IAAI+H,EAAOknB,EAAMjvB,GAEZ,YAAc+H,KACjBknB,EAAMjvB,GAAKS,KAAKw1C,UAAUluC,EAAM/H,EAAGo4C,IAKvC,OADA33C,KAAKqQ,IAAI,QAASme,GACXA,GAGTmmB,EAAK/0C,UAAU03C,aAAe,SAAUhzC,EAAOiP,EAAO9T,EAAQ0G,QAC/C,IAATA,IACFA,EAAO,IAGT,IAAImwC,EAAYt2C,KAAKid,IAAI,cAAgB,GACrCs5B,EAAev2C,KAAKid,IAAI,iBAAmB,GAC3C9L,EAAMnR,KAAK43C,WAAWrkC,EAAO9T,EAAQ6E,GACrC4K,EAAM,CACRkS,GAAI7N,EAAM3E,EACVyS,GAAI9N,EAAM1E,EACV6S,GAAIvQ,EAAIvC,EACR+S,GAAIxQ,EAAItC,GAGG,QAAT1I,EACFowC,EAAa/lC,KAAKtB,GAElBonC,EAAU9lC,KAAKtB,GAGjBlP,KAAKqQ,IAAI,YAAaimC,GACtBt2C,KAAKqQ,IAAI,eAAgBkmC,IAG3B5B,EAAK/0C,UAAU42C,aAAe,SAAUhoB,EAAO4nB,GAC7C,IAAIlnC,EAAM,OAAS,GAAIknC,GACnBh6B,EAAO,GACX,QAAUoS,GAAO,SAAUlnB,GACzB8U,EAAK5L,KAAK,CAAC,IAAKlJ,EAAK8Z,GAAI9Z,EAAK+Z,KAC9BjF,EAAK5L,KAAK,CAAC,IAAKlJ,EAAKoa,GAAIpa,EAAKqa,eAEzBzS,EAAIzP,OACXyP,EAAIkN,KAAOA,EACX,IACIy7B,EADQ73C,KAAKid,IAAI,SACCyP,SAAS,OAAQ,CACrCrI,MAAOnV,EACPuJ,OAAQ,IAEVo/B,EAAU5lC,KAAO,aACjB4lC,EAAUlpC,GAAK3O,KAAKid,IAAI,MAAQ,SAChC46B,EAAUxnC,IAAI,QAASrQ,KAAKid,IAAI,UAChCjd,KAAKid,IAAI,eAAiB46B,EAAUvuB,UAAU,aAActpB,KAAKid,IAAI,gBAIvE03B,EAAK/0C,UAAUs3C,mBAAqB,SAAU5vC,EAAM2nC,EAAS3qC,GAC3D,IACI+f,EACAyzB,EACAC,EAHAC,EAAiBh4C,KAAKid,IAAI,sBAK1B,YAAc+6B,GAChBF,EAAWE,EACF,WAAaA,KACtBF,EAAWE,EAAe,GAC1BD,EAAYC,EAAe,IAGzB1zC,EAAQ,IAAM,EACZyzC,IACF1zB,EAAQrkB,KAAKi4C,aAAahJ,EAAQ3mB,OAAQhhB,EAAKghB,OAAQyvB,IAEhDD,IACTzzB,EAAQrkB,KAAKi4C,aAAahJ,EAAQ3mB,OAAQhhB,EAAKghB,OAAQwvB,IAGzD,IACI59B,EADYla,KAAKid,IAAI,aACHyP,SAAS,OAAQ,CACrCrI,MAAOA,IAETnK,EAAMjI,KAAO,iBAEbiI,EAAMvL,GAAKrH,EAAKqH,IAAMrH,EAAKqH,GAAGgR,QAAQ,OAAQ,aAC9CzF,EAAM7J,IAAI,QAASrQ,KAAKid,IAAI,UAC5Bjd,KAAKid,IAAI,eAAiB/C,EAAMoP,UAAU,aAActpB,KAAKid,IAAI,gBAGnE03B,EAAK/0C,UAAUq4C,aAAe,SAAU/mC,EAAOC,EAAK+mC,GAClD,IAAI97B,EAAO,GAGX,GAAiB,QAFFpc,KAAKid,IAAI,YAEA,CACtB,QAAU/L,GAAO,SAAUinC,EAAS7zC,GAClC,IAAIsK,EAAIupC,EAAQvpC,EACZC,EAAIspC,EAAQtpC,EACZ2E,EAAS2kC,EAAQ3kC,OACjBgL,EAAO25B,EAAQ35B,KAEL,IAAVla,EACF8X,EAAK5L,KAAK,CAAC,IAAK5B,EAAGC,IAEnBuN,EAAK5L,KAAK,CAAC,IAAKgD,EAAQA,EAAQ,EAAG,EAAGgL,EAAM5P,EAAGC,OAInD,IAAK,IAAIiS,EAAI3P,EAAI1R,OAAS,EAAGqhB,GAAK,EAAGA,IAAK,CACxC,IAAIs3B,EAAajnC,EAAI2P,GACjBlS,EAAIwpC,EAAWxpC,EACfC,EAAIupC,EAAWvpC,EACf2E,EAAS4kC,EAAW5kC,OACpBgL,EAAO45B,EAAW55B,KAElBsC,IAAM3P,EAAI1R,OAAS,EACrB2c,EAAK5L,KAAK,CAAC,IAAK5B,EAAGC,IAEnBuN,EAAK5L,KAAK,CAAC,IAAKgD,EAAQA,EAAQ,EAAG,EAAY,IAATgL,EAAa,EAAI,EAAG5P,EAAGC,SAG5D,CACL,QAAUqC,GAAO,SAAUinC,EAAS7zC,GAClC,IAAIsK,EAAIupC,EAAQvpC,EACZC,EAAIspC,EAAQtpC,EAEF,IAAVvK,EACF8X,EAAK5L,KAAK,CAAC,IAAK5B,EAAGC,IAEnBuN,EAAK5L,KAAK,CAAC,IAAK5B,EAAGC,OAIvB,IAAK,IAAItP,EAAI4R,EAAI1R,OAAS,EAAGF,GAAK,EAAGA,IACnC6c,EAAK5L,KAAK,CAAC,IAAKW,EAAI5R,GAAGqP,EAAGuC,EAAI5R,GAAGsP,IAGnCuN,EAAK5L,KAAK,CAAC,MAGb,MAAO,CACLmC,KAAMulC,EACN97B,KAAMA,IAIHu4B,EArjBT,CAsjBE,ICvYa,GAhLf,SAAU1vC,GAGR,SAASozC,EAAOnpC,GAKd,YAJY,IAARA,IACFA,EAAM,IAGDjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,SACNsgB,YAAavI,KAAKK,GAAK,EACvBmI,SAAoB,EAAVxI,KAAKK,GAAS,GACvBrP,KAASlP,KAiKd,OA5KA,qBAAUq4C,EAAQpzC,GAclBozC,EAAOz4C,UAAU41C,UAAY,SAAU96B,EAAMpW,EAAO7E,GAClD,MAAO,CACLiU,KAAMgH,EACN9Z,MAAO0D,EAAQ7E,IAInB44C,EAAOz4C,UAAUy3C,aAAe,SAAUz2C,GACxC,IAAI6lB,EAAazmB,KAAKid,IAAI,cAEtBoB,EAAQoI,GADGzmB,KAAKid,IAAI,YACawJ,GAAc7lB,EACnD,OAAOZ,KAAKs4C,gBAAgBj6B,IAG9Bg6B,EAAOz4C,UAAUg2C,cAAgB,SAAU5gC,EAAQzB,GACjD,IAAIoT,EAAS3mB,KAAKid,IAAI,UAClB2nB,EAAS,CAACrxB,EAAM3E,EAAI+X,EAAO/X,EAAG2E,EAAM1E,EAAI8X,EAAO9X,GAEnD,IAAK,SAAWmG,GAAS,CACvB,IAAIujC,EAAS,GAAK94C,OAAOmlC,GACzB,GAAKjX,MAAMiX,EAAQA,EAAQ5vB,EAASujC,GAGtC,OAAO3T,GAGTyT,EAAOz4C,UAAU44C,aAAe,SAAUjlC,EAAOyB,GAC/C,IAAI4vB,EAAS5kC,KAAK41C,cAAc5gC,EAAQzB,GACxC,MAAO,CACL3E,EAAG2E,EAAM3E,EAAIg2B,EAAO,GACpB/1B,EAAG0E,EAAM1E,EAAI+1B,EAAO,KAIxByT,EAAOz4C,UAAUg4C,WAAa,SAAU1mC,EAAOzR,GAC7C,IAAI0V,EAAWnV,KAAKid,IAAI,YACpBY,EAAO,SAAWpe,GAAmB0V,EAAS1V,OAAlBA,EAChC,OAAOO,KAAKw4C,aAAatnC,EAAO2M,IAGlCw6B,EAAOz4C,UAAUk2C,cAAgB,SAAUlR,GACzC,IAAI6T,EAUJ,OARI,iBAAmB7T,EAAO,GAAI,GAChC6T,EAAQ,SACC7T,EAAO,GAAK,EACrB6T,EAAQ,OACC7T,EAAO,GAAK,IACrB6T,EAAQ,SAGHA,GAGTJ,EAAOz4C,UAAUu2C,YAAc,WAC7B,IAAIxvB,EAAS3mB,KAAKid,IAAI,UAClBrO,EAAI+X,EAAO/X,EACXC,EAAI8X,EAAO9X,EACXyS,EAAKthB,KAAKid,IAAI,UACdsE,EAAKD,EACLmF,EAAazmB,KAAKid,IAAI,cACtByJ,EAAW1mB,KAAKid,IAAI,YACpBy7B,EAAQ14C,KAAKid,IAAI,SACjBb,EAAO,GAEX,GAAI8B,KAAKsE,IAAIkE,EAAWD,KAA0B,EAAVvI,KAAKK,GAC3CnC,EAAO,CAAC,CAAC,IAAKxN,EAAGC,GAAI,CAAC,IAAK,GAAI0S,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,EAAG,EAAIA,GAAK,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,GAAI,EAAIA,GAAK,CAAC,UACvG,CACL,IAAIo3B,EAAa34C,KAAKs4C,gBAAgB7xB,GAElCmyB,EAAW54C,KAAKs4C,gBAAgB5xB,GAEhCmyB,EAAQ36B,KAAKsE,IAAIkE,EAAWD,GAAcvI,KAAKK,GAAK,EAAI,EACxDu6B,EAAQryB,EAAaC,EAAW,EAAI,EAExC,GAAKgyB,EAEE,CACL,IAAIK,EAAmB/4C,KAAK41C,cAAc8C,EAAQp3B,EAAIq3B,GAClDK,EAAiBh5C,KAAK41C,cAAc8C,EAAQp3B,EAAIs3B,GAChDK,EAAkB,CACpBrqC,EAAGmqC,EAAiB,GAAKnqC,EACzBC,EAAGkqC,EAAiB,GAAKlqC,GAEvBqqC,EAAgB,CAClBtqC,EAAGoqC,EAAe,GAAKpqC,EACvBC,EAAGmqC,EAAe,GAAKnqC,GAEzBuN,EAAO,CAAC,CAAC,IAAK68B,EAAgBrqC,EAAGqqC,EAAgBpqC,GAAI,CAAC,IAAK8pC,EAAW/pC,EAAG+pC,EAAW9pC,GAAI,CAAC,IAAKyS,EAAIC,EAAI,EAAGs3B,EAAOC,EAAOF,EAAShqC,EAAGgqC,EAAS/pC,GAAI,CAAC,IAAKqqC,EAActqC,EAAGsqC,EAAcrqC,GAAI,CAAC,IAAKyS,EAAKo3B,EAAOn3B,EAAKm3B,EAAO,EAAGG,EAAO36B,KAAKsE,IAAIs2B,EAAQ,GAAIG,EAAgBrqC,EAAGqqC,EAAgBpqC,SAZzRuN,EAAO,CAAC,CAAC,IAAKxN,EAAGC,GAAI,CAAC,IAAK8pC,EAAW/pC,EAAG+pC,EAAW9pC,GAAI,CAAC,IAAKyS,EAAIC,EAAI,EAAGs3B,EAAOC,EAAOF,EAAShqC,EAAGgqC,EAAS/pC,GAAI,CAAC,IAAKD,EAAGC,IAgB7H,OAAOuN,GAGTi8B,EAAOz4C,UAAU61C,SAAW,SAAU/6B,EAAMnH,EAAOjP,EAAOgyB,GACxD,IAAIthB,EAAS,OAAShV,KAAKid,IAAI,SAAU,SAAU,GAC/C5c,EAAIL,KAAKw4C,aAAajlC,EAAOyB,GAEjC/P,EAAOrF,UAAU61C,SAAS31C,KAAKE,KAAM0a,EAAMra,EAAGiE,EAAOgyB,IAGvD+hB,EAAOz4C,UAAUq2C,iBAAmB,WAClC,IAAIznB,EAAQxuB,KAAKid,IAAI,SACjBs4B,EAAgBv1C,KAAKid,IAAI,iBAE7B,GAAIs4B,GAAiB/mB,EAAM/uB,OAAS,GAAI,CAEtC,IAAI+T,EAASxT,KAAKid,IAAI,UAClBk8B,EAAen5C,KAAKid,IAAI,cAExBm8B,EADWp5C,KAAKid,IAAI,YACMk8B,EAC1BE,EAAWD,GAAgB5qB,EAAM/uB,OAAS,GAC1C65C,EAAap7B,KAAKkE,IAAIi3B,EAAW,GAAK7lC,EAAS,EAC/C+lC,EAAcv5C,KAAK+1C,yBAAyBR,EAAe,SAC/D,QAAUA,EAAc5H,aAAa,SAAU14B,EAAO3Q,GACpD,IACI+Z,EADOmQ,EAAMlqB,GACA1D,MAAQw4C,EAAeD,EACpCK,EAAOn7B,GAAmB,EAAVH,KAAKK,IAErBg7B,EAAcD,GAEZE,GAAQ,IACVn7B,GAAgBH,KAAKK,IAGnBi7B,EAAOt7B,KAAKK,KACdF,GAAgBH,KAAKK,IAGvBF,GAAgBH,KAAKK,GAAK,EAC1BtJ,EAAMmT,KAAK,YAAa,WAEpBoxB,EAAOt7B,KAAKK,GAAK,EACnBF,GAAgBH,KAAKK,GACZi7B,EAAOt7B,KAAKK,GAAK,GAAK,IAC/BF,GAAgBH,KAAKK,IAIzBtJ,EAAMo4B,cAAchvB,QAK1Bg6B,EAAOz4C,UAAU04C,gBAAkB,SAAUj6B,EAAO7K,QACnC,IAAXA,IACFA,EAAS,GAGX,IAAImT,EAAS3mB,KAAKid,IAAI,UAClB/D,EAAI1F,GAAUxT,KAAKid,IAAI,UAC3B,MAAO,CACLrO,EAAG+X,EAAO/X,EAAIsP,KAAKiE,IAAI9D,GAASnF,EAChCrK,EAAG8X,EAAO9X,EAAIqP,KAAKkE,IAAI/D,GAASnF,IAI7Bm/B,EA7KT,CA8KE,ICjGa,GA5Ef,SAAUpzC,GAGR,SAASugC,EAAMt2B,GAKb,YAJY,IAARA,IACFA,EAAM,IAGDjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,QACNsgB,WAAY,KAAOvI,KAAKK,GACxBmI,SAAU,KAAOxI,KAAKK,GACtBm6B,MAAO,EACPr7B,EAAG,EACHsJ,OAAQ,KACR8yB,UAAW,KACX/6B,IAAK,IACJxP,KAASlP,KAwDd,OAxEA,qBAAUwlC,EAAOvgC,GAmBjBugC,EAAM5lC,UAAUu2C,YAAc,WAC5B,IAAIz3B,EAAM1e,KAAKid,IAAI,OACfw8B,EAAYz5C,KAAKid,IAAI,aACrBb,EAAO,GAA2BsC,GAEtC,OADAtC,EAAKid,QAAQ,CAAC,IAAKogB,EAAU7qC,EAAG6qC,EAAU5qC,IACnCuN,GAGTopB,EAAM5lC,UAAUy3C,aAAe,SAAUz2C,GACvC,IAAI6lB,EAAazmB,KAAKid,IAAI,cAEtBoB,EAAQoI,GADGzmB,KAAKid,IAAI,YACawJ,GAAc7lB,EACnD,OAAOZ,KAAK05C,eAAer7B,IAG7BmnB,EAAM5lC,UAAUg2C,cAAgB,SAAU5gC,EAAQzB,GAChD,IAAIoT,EAAS3mB,KAAKid,IAAI,UAClB2nB,EAAS,CAACrxB,EAAM3E,EAAI+X,EAAO/X,EAAG2E,EAAM1E,EAAI8X,EAAO9X,GAEnD,IAAK,SAAWmG,GAAS,CACvB,IAAIujC,EAAS,GAAK94C,OAAOmlC,GACzB,GAAKjX,MAAMiX,EAAQA,EAAQ5vB,EAASujC,GAGtC,OAAO3T,GAGTY,EAAM5lC,UAAU44C,aAAe,SAAUjlC,EAAOyB,GAC9C,IAAI4vB,EAAS5kC,KAAK41C,cAAc5gC,EAAQzB,GACxC,MAAO,CACL3E,EAAG2E,EAAM3E,EAAIg2B,EAAO,GACpB/1B,EAAG0E,EAAM1E,EAAI+1B,EAAO,KAIxBY,EAAM5lC,UAAUg4C,WAAa,SAAU1mC,EAAOzR,GAC5C,IAAI0V,EAAWnV,KAAKid,IAAI,YACpBY,EAAMpe,GAAkB0V,EAAS1V,OACrC,OAAOO,KAAKw4C,aAAatnC,EAAO2M,IAGlC2nB,EAAM5lC,UAAU85C,eAAiB,SAAUr7B,GACzC,IAAIsI,EAAS3mB,KAAKid,IAAI,UAGlBzJ,EAFIxT,KAAKid,IAAI,KAEAoB,EAAQre,KAAKid,IAAI,SAElC,MAAO,CACLrO,EAAG+X,EAAO/X,EAAIsP,KAAKiE,IAAI9D,GAAS7K,EAChC3E,EAAG8X,EAAO9X,EAAIqP,KAAKkE,IAAI/D,GAAS7K,IAI7BgyB,EAzET,CA0EE,IC9EEmU,GAAsB,CAAC,GAAI,IAAK,IAuVrB,GAnVf,SAAU10C,GAGR,SAAS20C,EAAK1qC,GAKZ,YAJY,IAARA,IACFA,EAAM,IAGDjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,OACNyI,EAAG,KACHC,EAAG,KACHgrC,YAAY,EACZ3oC,MAAO,KACPC,IAAK,MACJjC,KAASlP,KAiUd,OA/UA,qBAAU45C,EAAM30C,GAwBhB20C,EAAKh6C,UAAUg2C,cAAgB,SAAU5gC,GACvC,IAAI6kC,EAAa75C,KAAKid,IAAI,cACtBob,EAASr4B,KAAKid,IAAI,UAItB,IAAK,YAAcjI,GACjB,MAAO,CAAC,EAAG,GAGb,IAAI9D,EAAQlR,KAAKid,IAAI,SACjB9L,EAAMnR,KAAKid,IAAI,OACf68B,EAAa95C,KAAK+5C,gBAClBC,EAAS,GAAKC,UAAU,GAAIH,GAC5B//B,GAAY,GAEZ8/B,GAAc3oC,EAAMrC,EAAIsC,EAAItC,IAAMgrC,GAAc3oC,EAAMtC,EAAIuC,EAAIvC,KAChEmL,GAAY,GAGd,IAAImgC,EAAiB,GAAKC,SAAS,GAAIH,EAAQjgC,GAC/C,OAAO,GAAK4T,MAAM,GAAIusB,EAAgBllC,EAASqjB,IAGjDuhB,EAAKh6C,UAAUm6C,cAAgB,WAC7B,IAAI7oC,EAAQlR,KAAKid,IAAI,SACjB9L,EAAMnR,KAAKid,IAAI,OACnB,MAAO,CAAC9L,EAAIvC,EAAIsC,EAAMtC,EAAGuC,EAAItC,EAAIqC,EAAMrC,IAGzC+qC,EAAKh6C,UAAUu2C,YAAc,WAC3B,IAAIjlC,EAAQlR,KAAKid,IAAI,SACjB9L,EAAMnR,KAAKid,IAAI,OACnB,MAAO,CAAC,CAAC,IAAK/L,EAAMtC,EAAGsC,EAAMrC,GAAI,CAAC,IAAKsC,EAAIvC,EAAGuC,EAAItC,KAGpD+qC,EAAKh6C,UAAUg4C,WAAa,SAAU1mC,EAAOtQ,GAC3C,IAAIw5C,EAAep6C,KAAK41C,cAAch1C,GACtC,MAAO,CACLgO,EAAGsC,EAAMtC,EAAIwrC,EAAa,GAC1BvrC,EAAGqC,EAAMrC,EAAIurC,EAAa,KAI9BR,EAAKh6C,UAAUy3C,aAAe,SAAUroB,GACtC,IAAI9d,EAAQlR,KAAKid,IAAI,SACjB9L,EAAMnR,KAAKid,IAAI,OACfo9B,EAASlpC,EAAIvC,EAAIsC,EAAMtC,EACvB0rC,EAASnpC,EAAItC,EAAIqC,EAAMrC,EAC3B,MAAO,CACLD,EAAGsC,EAAMtC,EAAIyrC,EAASrrB,EACtBngB,EAAGqC,EAAMrC,EAAIyrC,EAAStrB,IAI1B4qB,EAAKh6C,UAAUy1C,YAAc,WAC3B,IAAI1zC,EAAQ3B,KAAKid,IAAI,SACjBhI,EAAQjV,KAAKid,IAAI,SACjBiF,EAAS,OAASjN,EAAO,UACzBP,EAAkB1U,KAAKid,IAAI,mBAC3Bs9B,EAAcv6C,KAAKq3C,aAAa,IAChCmD,EAAc74C,EAAMqT,OAASrT,EAAMqT,OAAS,GAE5CugC,EAAgBv1C,KAAKid,IAAI,iBAE7B,GAAIs4B,EAAe,CACjB,IACIS,EAAwB,YADxBx/B,EAAWxW,KAAKid,IAAI,cAC6B,QAAbzG,EAAqB,SAAW,QACpEikC,EAAcz6C,KAAK+1C,yBAAyBR,EAAeS,GAE/D,GAAIh2C,KAAKid,IAAI,oBACPoB,EAAQre,KAAK06C,wBAGfD,EAAcz6C,KAAK26C,uBAAuBt8B,IAI1C6D,IACFu4B,EAAcz6C,KAAK26C,uBAAuBz4B,EAAShE,KAAKK,GAAK,MAI/Di8B,GAAeC,EADG,OAASz6C,KAAKid,IAAI,SAAU,SAAU,GAK1D,IAAIpI,EAAYlT,EAAMkT,UAClB3F,EAAM,OAAS,GAAI2F,GAEvB,GAAIlT,EAAM+R,KAAM,CACd,IAAIkxB,EAAS5kC,KAAK+5C,gBAElB,GAAIrlC,GAAmB,SAAW/S,EAAMugB,QAAS,CAE/C,IAAI7D,EAAQ,EAEZ,IAAK,iBAAmBumB,EAAO,GAAI,GAAI,CAErC,IACI5mB,EAAK,CAAC4mB,EAAO,GAAIA,EAAO,IAC5BvmB,EAAQ,GAAKynB,QAAQ9nB,EAFZ,CAAC,EAAG,IAEgB,GAG/B9O,EAAIgT,OAAS7D,GAAS,IAAMH,KAAKK,SACvB,SAAW5c,EAAMugB,UAE3BhT,EAAIgT,OAASvgB,EAAMugB,OAAS,IAAMhE,KAAKK,IAGzC,IAEI/H,EAFAokC,EAAa56C,KAAK41C,cAAc4E,GAChCjnC,OAAQ,EAIVA,EADe,WAFbiD,EAAW7U,EAAM6U,UAGX,CACN5H,EAAG5O,KAAKid,IAAI,SAASrO,EAAIgsC,EAAW,GACpC/rC,EAAG7O,KAAKid,IAAI,SAASpO,EAAI+rC,EAAW,IAEhB,QAAbpkC,EACD,CACN5H,EAAG5O,KAAKid,IAAI,OAAOrO,EAAIgsC,EAAW,GAClC/rC,EAAG7O,KAAKid,IAAI,OAAOpO,EAAI+rC,EAAW,IAG5B,CACNhsC,EAAG2rC,EAAY3rC,EAAIgsC,EAAW,GAC9B/rC,EAAG0rC,EAAY1rC,EAAI+rC,EAAW,IAIlC1rC,EAAIN,EAAI2E,EAAM3E,EACdM,EAAIL,EAAI0E,EAAM1E,EACdK,EAAIwE,KAAO/R,EAAM+R,KACjB,IACIogC,EADQ9zC,KAAKid,IAAI,SACEyP,SAAS,OAAQ,CACtCjU,OAAQ,EACR4L,MAAOnV,IAET4kC,EAAW7hC,KAAO,aAClBjS,KAAKid,IAAI,eAAiB62B,EAAWxqB,UAAU,aAActpB,KAAKid,IAAI,iBAI1E28B,EAAKh6C,UAAUq2C,iBAAmB,WAChC,IAAIV,EAAgBv1C,KAAKid,IAAI,iBAE7B,GAAIs4B,EAAe,CACjB,IAAIxJ,EAASwJ,EAAc5H,YAGvBkN,GAFS76C,KAAK+5C,gBAEJ/5C,KAAK06C,sBAEnB,GAAIG,EAAS,CACX76C,KAAKqQ,IAAI,kBAAmBwqC,GAC5B,IAAIC,GAAa,EAAI58B,KAAKsE,IAAItE,KAAKkE,IAAIy4B,IAEnCE,EAAcF,EAAU38B,KAAKK,KAAO,EAAI,SAAWs8B,EAAU,EAAIA,GAAqB,EAAV38B,KAAKK,IAAUL,KAAKK,GAAK,OAAS,QAAUs8B,GAAqB,EAAV38B,KAAKK,KAAWL,KAAKK,GAAK,QAAU,OAC3K,QAAUwtB,GAAQ,SAAU92B,GAC1BA,EAAMmT,KAAK,YAAa2yB,GACxB9lC,EAAMo4B,cAAcwN,GACpB5lC,EAAMmT,KAAK,IAAKnT,EAAMmT,KAAK,KAAO0yB,SAM1ClB,EAAKh6C,UAAUs2C,eAAiB,WAC9B,IACI8E,EACAC,EAFA1F,EAAgBv1C,KAAKid,IAAI,iBAK7B,GAAIs4B,EAAe,CACjB,IAAI/mB,EAAQxuB,KAAKid,IAAI,aACjBi+B,EAAW3F,EAAc5H,YACzB/I,EAAS5kC,KAAK+5C,gBAElB,GAAImB,EAASz7C,OAAS,EACpB,OAGF,GAAI,iBAAmBmlC,EAAO,GAAI,GAAI,CAEpC,IAAIuW,EAAYn7C,KAAK+1C,yBAAyBR,EAAe,UAbpD,EAcL6F,EAAYl9B,KAAKsE,IAAIxiB,KAAKq7C,wBAAwB9F,IAElD4F,EAAYC,IACdJ,EAAaG,EACbF,EAAWG,QAER,GAAI,iBAAmBxW,EAAO,GAAI,IAAMsW,EAASz7C,OAAS,EAAG,CAElE,IAAI67C,EAAWt7C,KAAK+1C,yBAAyBR,EAAe,SAtBnD,EAuBLgG,EAAWr9B,KAAKsE,IAAIxiB,KAAKw7C,mBAAmBjG,IAE5C+F,EAAWC,IACbP,EAAaM,EACbL,EAAWM,GAIf,GAAIP,GAAcC,EAAU,CAC1B,IAAIQ,EAAUv9B,KAAKmd,KAAK2f,EAAaC,GAQrC,GAPA,QAAUC,GAAU,SAAUjmC,EAAO1V,GAC/BA,EAAIk8C,IAAY,IAClBxmC,EAAM5E,IAAI,WAAW,GACrB4E,EAAMmT,KAAK,OAAQ,QAInBoG,EAAO,CACT,IAAIktB,EAAe,UAAYltB,GAAO,SAAU9T,EAAMhK,GACpD,OAAOwqC,EAASxqC,GAAKuM,IAAI,cAGvB,QAAUy+B,GAAgB,IAC5B17C,KAAKqQ,IAAI,YAAaqrC,GACtB,UAAY17C,KAAKid,IAAI,SAASA,IAAI,aAAa,SAAU/c,GACvD,MAAkB,eAAXA,EAAE+R,QAGXjS,KAAKm1C,oBAOfyE,EAAKh6C,UAAU+7C,6BAA+B,SAAUJ,GACtD,IAGIl9B,EAHA3E,EAAa1Z,KAAKid,IAAI,mBACtBs4B,EAAgBv1C,KAAKid,IAAI,iBACzBtb,EAAQ3B,KAAKid,IAAI,SAGrB,GAAIs4B,EAAe,CACjB,IAAIxJ,EAASwJ,EAAc5H,YACvB34B,EAAShV,KAAKid,IAAI,SAASjI,OAE3BwlC,EAAc74C,GAASA,EAAMqT,OAASrT,EAAMqT,OAAS,GAEzD,GAAIwlC,EAAc,EAEhB,OAGF,IAAI5V,EAAS5kC,KAAK+5C,gBAEduB,OAAW,EACXH,OAAY,EAEhB,GAAI,iBAAmBvW,EAAO,GAAI,IAAMjjC,GAASA,EAAM+R,MAErD4nC,EAAWt7C,KAAK+1C,yBAAyBR,EAAe,UAEzCiF,EAAcxlC,EAjBlB,KAkBTqJ,GAAiE,EAAzDH,KAAKC,MAAMq8B,EAAcxlC,EAlBxB,IAkB2CsmC,SAEjD,GAAI,iBAAmB1W,EAAO,GAAI,IAAMmH,EAAOtsC,OAAS,IAE7D67C,EAAWt7C,KAAK+1C,yBAAyBR,EAAe,SACxD4F,EAAYn7C,KAAK+1C,yBAAyBR,EAAe,UAErD+F,EAAWC,GAGb,IAFA,IAESnrB,EAAK,EAAGwrB,EAFH,WAAaliC,GAAcA,EAAaigC,GAEhBvpB,EAAKwrB,EAAUn8C,OAAQ2wB,IAAM,CAIjE,GAFA/R,EADau9B,EAAUxrB,GACNlS,KAAKK,GAAK,IAEvBg9B,EAAWr9B,KAAKsE,IAAItE,KAAKkE,IAAI/D,IAAU88B,EAAY,EACrD,OAOV,OAAO98B,GAGTu7B,EAAKh6C,UAAU+6C,uBAAyB,SAAUt8B,GAChD,IAAIk3B,EAAgBv1C,KAAKid,IAAI,iBACzBzG,EAAWxW,KAAKid,IAAI,YACpB+4B,EAAwB,WAAbx/B,GAAsC,QAAbA,EAAqB,SAAW,QACpEikC,EAAcz6C,KAAK+1C,yBAAyBR,EAAeS,GAC/D,OAAO33B,EAAQH,KAAKyH,IAAI80B,EAAaz6C,KAAK+1C,yBAAyBR,EAAe,SAAWr3B,KAAKsE,IAAItE,KAAKkE,IAAI/D,KAAWo8B,GAG5Hb,EAAKh6C,UAAU47C,mBAAqB,SAAUjG,GAC5C,IAAIxJ,EAASwJ,EAAc5H,YAC3B,OAAO5B,EAAO,GAAG3jB,KAAK,KAAO2jB,EAAO,GAAG3jB,KAAK,MAG9CwxB,EAAKh6C,UAAUy7C,wBAA0B,SAAU9F,GACjD,IAAIxJ,EAASwJ,EAAc5H,YAC3B,OAAO5B,EAAO,GAAG3jB,KAAK,KAAO2jB,EAAO,GAAG3jB,KAAK,MAG9CwxB,EAAKh6C,UAAU86C,mBAAqB,WAClC,IAAInF,EAAgBv1C,KAAKid,IAAI,iBACzB8uB,EAASwJ,EAAc5H,YAE3B,GAAK5B,KAAUA,EAAOtsC,OAAS,GAA/B,CAIA,IAAI87C,EAAWr9B,KAAKsE,IAAIxiB,KAAKw7C,mBAAmBjG,IAChD,OAAOv1C,KAAK27C,6BAA6BJ,KAGpC3B,EAhVT,CAiVE,IC5Na,GAvHf,SAAU30C,GAGR,SAAS42C,EAAO3sC,GACd,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CAIrCmG,KAAM,OAKNxE,MAAO,KAKP4qC,MAAO,KAKPtd,UAAW,KAKXqb,QAAS,EAKTC,QAAS,GACRr7B,KAASlP,KAQZ,OANAkF,EAAMkK,OAENlK,EAAMyK,SAENzK,EAAM42C,aAEC52C,EA0ET,OAnHA,qBAAU22C,EAAQ52C,GAgDlB42C,EAAOj8C,UAAU+P,OAAS,WACxB3P,KAAKq1C,cAELr1C,KAAK+7C,eAQPF,EAAOj8C,UAAUqoB,SAAW,WAG1B,OAFgBjoB,KAAKid,IAAI,aACJgM,UACTzkB,OAQdq3C,EAAOj8C,UAAUylC,UAAY,WAG3B,OAFgBrlC,KAAKid,IAAI,aACJgM,UACTna,QAQd+sC,EAAOj8C,UAAUqpB,QAAU,WACzB,OAAOjpB,KAAKid,IAAI,aAAagM,WAU/B4yB,EAAOj8C,UAAUo8C,OAAS,SAAUptC,EAAGC,GACrB7O,KAAKid,IAAI,aACf2zB,KAAKhiC,EAAGC,GAClB7O,KAAKqQ,IAAI,IAAKzB,GACd5O,KAAKqQ,IAAI,IAAKxB,IAOhBgtC,EAAOj8C,UAAUkQ,KAAO,WACtB9P,KAAKid,IAAI,UAAUnN,QAKrB+rC,EAAOj8C,UAAUq8C,eAAiB,SAAU3+B,GAG1C,OAFgBtd,KAAKid,IAAI,cAAgB,aAExBnd,KAAKE,KAAMsd,IAGvBu+B,EApHT,CAqHE,ICrHSK,GAAiB,CAC1BvpC,KAAM,OAGNwB,WAAY,GACZC,YAAa,mBACbZ,OAAQ,GAEC2oC,GAAkB,CAC3BxpC,KAAM,OACNgB,UAAW,SACXC,aAAc,SACdd,OAAQ,OACRJ,UAAW,EACXqC,WAAY,IAEHqnC,GAA8B,CACvCzpC,KAAM,WAEG0pC,GAA4B,CACrC1pC,KAAM,qBAEG2pC,GAAoB,CAC7B3pC,KAAM,OACNiB,aAAc,MACdD,UAAW,QACXoB,WAAY,ICibC,GA9bf,SAAU9P,GAGR,SAASs3C,EAAOrtC,GACd,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAGjCkF,EAAMs3C,YAAc,SAAUr8C,GAC5B,IAAIs8C,EAAUt8C,EAAEs8C,QACZC,EAAUv8C,EAAEu8C,QAEhBx3C,EAAMy3C,mBAAmBF,EAASC,IAIpCx3C,EAAM03C,UAAY,WAEZ13C,EAAM23C,gBACR33C,EAAM23C,iBAGR33C,EAAM43C,mBAAgBh2C,GAIxB,IAAIwQ,EAASpI,EAAIoI,OACbylC,EAAa7tC,EAAI6tC,WACjBC,EAAa9tC,EAAI8tC,WACjBC,EAAc/tC,EAAI+tC,YAClBz4C,EAAQ0K,EAAI1K,MACZsK,EAASI,EAAIJ,OACb+F,EAAY3F,EAAI2F,UAChB4a,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV4I,EAAQrf,EAAIqf,MACZU,EAAY/f,EAAI+f,UACpB/pB,EAAMoS,OAASA,EACfpS,EAAM63C,WAAaA,EAEnB,IAAIv3C,EAAKw3C,GAAc,GACnBxgB,EAAKh3B,EAAG,GACRs1B,OAAW,IAAP0B,ED1Dc,EC0DiBA,EACnCmG,EAAKn9B,EAAG,GACRyK,OAAW,IAAP0yB,ED3Deua,GC2DiBva,EAcxC,OAZAz9B,EAAM83C,WAAa,CAACliB,EAAG7qB,GACvB/K,EAAM+3C,YAAcA,EACpB/3C,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EACf5J,EAAMuqB,IAAMA,EACZvqB,EAAMygB,IAAMA,EACZzgB,EAAMqpB,MAAQA,EACdrpB,EAAM2P,UAAYA,EAClB3P,EAAM+pB,UAAYA,EAElB/pB,EAAMi4C,gBAECj4C,EAkYT,OA1bA,qBAAUq3C,EAAQt3C,GAgElBs3C,EAAO38C,UAAUw9C,cAAgB,SAAUC,GAErCr9C,KAAK8rB,iBAIP9rB,KAAK8rB,gBAAgB9b,UAGvB,IAAIgyB,EAAQqb,EAAGrb,MAEXsb,GADaD,EAAGE,WACLF,EAAGC,UAElBt9C,KAAK8rB,gBAAkBkW,EACvBhiC,KAAK8rB,gBAAgBzb,IAAI,SAAU,GAE/BrQ,KAAKi9C,aAAej9C,KAAKw9C,kBAAoBF,GAC/CA,EAASl1B,KAAK,OAAQpoB,KAAKw9C,kBAG7Bx9C,KAAK4P,IAAI5P,KAAK8rB,iBACd9rB,KAAK+2B,QASPwlB,EAAO38C,UAAU69C,aAAe,WAC9B,MAAuB,eAAhBz9C,KAAKsX,QAQdilC,EAAO38C,UAAUu9C,cAAgB,WAC/B,GAAIn9C,KAAKi9C,YAAa,CACpBj9C,KAAKw9C,iBAAmBx9C,KAAK09C,yBAC7B19C,KAAKw9C,iBAAiBntC,IAAI,SAAU,GACpCrQ,KAAK29C,eAAiB39C,KAAK49C,uBAC3B59C,KAAK29C,eAAettC,IAAI,SAAU,GAClCrQ,KAAK69C,eAAiB79C,KAAK89C,uBAC3B99C,KAAK69C,eAAextC,IAAI,SAAU,GAClC,IAAI7K,EAAKxF,KAAKuuB,MACVkB,EAAMjqB,EAAG,GACTmgB,EAAMngB,EAAG,GAEbxF,KAAK+9C,kBAAkBtuB,EAAK9J,GAI9B3lB,KAAKg+C,aAKPzB,EAAO38C,UAAUq+C,gBAAkB,WACjC,OAAOj+C,KAAKy9C,eAAiB,YAAc,aAK7ClB,EAAO38C,UAAUg+C,qBAAuB,WACtC,IAAI5b,EAAQhiC,KAAKutC,WAGjB,OAFAvtC,KAAKk+C,eAAiBl+C,KAAKm+C,mBAAmBnc,GAAO,GACrDhiC,KAAKo+C,aAAep+C,KAAKq+C,iBAAiBrc,GAAO,GAC1CA,GAKTua,EAAO38C,UAAUk+C,qBAAuB,WACtC,IAAI9b,EAAQhiC,KAAKutC,WAGjB,OAFAvtC,KAAKs+C,eAAiBt+C,KAAKm+C,mBAAmBnc,GAAO,GACrDhiC,KAAKu+C,aAAev+C,KAAKq+C,iBAAiBrc,GAAO,GAC1CA,GAKTua,EAAO38C,UAAU89C,uBAAyB,WACxC,OAAO19C,KAAK0sB,SAAS,OAAQ,CAC3BrI,MAAO,CACL1R,KAAM,OACNC,YAAa,EACboF,OAAQ,WAOdukC,EAAO38C,UAAU4+C,uBAAyB,SAAUC,GAClD,IAAIj5C,EAAKxF,KAAKg9C,WACV0B,EAAcl5C,EAAG,GACjBm5C,EAAen5C,EAAG,GAEtB,OAAIxF,KAAKy9C,eACA,CACL7uC,EAAG6vC,GAASC,EAAc,EAC1B7vC,EAAG7O,KAAK8O,OAAS,EAAI6vC,EAAe,EACpCn6C,MAAOk6C,EACP5vC,OAAQ6vC,GAIL,CACL/vC,EAAG5O,KAAKwE,MAAQ,EAAIm6C,EAAe,EACnC9vC,EAAG4vC,EAAQ,GAAKC,EAChBl6C,MAAOm6C,EACP7vC,OAAQ4vC,IAIZnC,EAAO38C,UAAUg/C,yBAA2B,SAAUH,GAEpD,OAAIz+C,KAAKy9C,eACA,CACL7uC,EAAG,EACHC,EAAG7O,KAAK8O,OAAS,EACjBoK,EAAG2lC,IAIA,CACLjwC,EAAG5O,KAAKwE,MAAQ,EAChBqK,EAAG,EACHqK,EAAG2lC,KAUPtC,EAAO38C,UAAUu+C,mBAAqB,SAAUnc,EAAOyc,GACrD,IAAIK,EAAiC,SAApB9+C,KAAK+8C,WAAwB/8C,KAAKw+C,uBAAuBC,GAA6B,WAApBz+C,KAAK+8C,WAA0B/8C,KAAK4+C,yBAAyBH,GAAS,GAErJM,EAAkB,oBAAS,oBAAS,oBAAS,GAAID,GAAa5C,IAAiB,CACjFlkC,OAAQhY,KAAKi+C,oBAGf,OAAOjc,EAAMtV,SAAS1sB,KAAK+8C,WAAY,CACrC14B,MAAO06B,KAIXxC,EAAO38C,UAAUo/C,qBAAuB,SAAUP,GAChD,IAAIj5C,EAAKxF,KAAKg9C,WACV0B,EAAcl5C,EAAG,GACjBm5C,EAAen5C,EAAG,GACtB,OAAOxF,KAAKy9C,eAAiB,CAE3B7uC,EAAG6vC,GAASC,EAAc,EAAIA,EAAc,EAC5C7vC,EAAG7O,KAAK8O,OAAS,EAAI6vC,EAAe,EAAI,EACxChrC,UAAW,SACXC,aAAc,OACZ,CACFhF,EAAG5O,KAAKwE,MAAQ,EAAIm6C,EAAe,EAAI,EACvC9vC,EAAG4vC,EAAQC,EAAc,GAAKA,EAAc,EAC5C/qC,UAAW,OACXC,aAAc,WAIlB2oC,EAAO38C,UAAUq/C,uBAAyB,SAAUR,GAClD,OAAOz+C,KAAKy9C,eAAiB,CAE3B7uC,EAAG,EACHC,EAAG7O,KAAK8O,OAAS,EAAI+vC,GAA6B,EAClDlrC,UAAW,SACXC,aAAc,OACZ,CACFhF,EAAG5O,KAAKwE,MAAQ,EAAIq6C,GAA6B,EACjDhwC,EAAG,EACH8E,UAAW,OACXC,aAAc,WAUlB2oC,EAAO38C,UAAUy+C,iBAAmB,SAAUrc,EAAOyc,GACnD,IAAIS,EAAoC,SAApBl/C,KAAK+8C,WAAwB/8C,KAAKg/C,qBAAqBP,GAA6B,WAApBz+C,KAAK+8C,WAA0B/8C,KAAKi/C,uBAAuBR,GAAS,GAEpJU,EAAW,oBAAS,oBAAS,oBAAS,GAAIn/C,KAAK6U,WAAYqqC,GAAgB,CAC7ExrC,KAAM,KAGR,OAAOsuB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO86B,KAKX5C,EAAO38C,UAAUo+C,UAAY,WACvBh+C,KAAKi9C,aAEPj9C,KAAKgO,GAAG,YAAahO,KAAKo/C,cAI9B7C,EAAO38C,UAAUw/C,YAAc,SAAUC,GAEvCr/C,KAAK88C,cAAgBuC,EAAG//C,OACxB,IAAIggD,EAAcD,EAAGE,MAErBD,EAAYE,kBACZF,EAAYG,iBACZ,IAAIhD,EAAU6C,EAAY7C,QACtBC,EAAU4C,EAAY5C,QAE1B18C,KAAK0/C,IAAM1/C,KAAKy9C,eAAiBhB,EAAUC,EAC3C18C,KAAK2/C,oBAGPpD,EAAO38C,UAAU+/C,iBAAmB,WAClC,IAAIC,EAAe5/C,KAAKid,IAAI,UAAUA,IAAI,gBACtC4iC,EAAK,oBAAyBD,EAAc,YAAa5/C,KAAKw8C,aAC9DsD,EAAK,oBAAyBF,EAAc,UAAW5/C,KAAK48C,WAC5DmD,EAAK,oBAAyBH,EAAc,aAAc5/C,KAAK48C,WAEnE58C,KAAK68C,eAAiB,WACpBgD,EAAG1vC,SACH2vC,EAAG3vC,SACH4vC,EAAG5vC,WAIPosC,EAAO38C,UAAUogD,UAAY,WAC3B,OAAOhgD,KAAK88C,gBAAkB98C,KAAKk+C,gBAGrC3B,EAAO38C,UAAUqgD,UAAY,WAC3B,OAAOjgD,KAAK88C,gBAAkB98C,KAAKs+C,gBAGrC/B,EAAO38C,UAAUsgD,UAAY,WAC3B,OAAOlgD,KAAK88C,gBAAkB98C,KAAKw9C,kBASrCjB,EAAO38C,UAAU+8C,mBAAqB,SAAU/tC,EAAGC,GACjD,IAAI3J,EAAQlF,KAERmgD,EAAcngD,KAAKy9C,eAAiBz9C,KAAKwE,MAAQxE,KAAK8O,OACtDsxC,EAAOpgD,KAAKy9C,eAAiB,GAAK,EAElCj4C,EAAKxF,KAAKuuB,MACVkB,EAAMjqB,EAAG,GACTmgB,EAAMngB,EAAG,GAET8tC,EAActzC,KAAK0/C,IACnBW,EAAkBrgD,KAAKy9C,eAAiB7uC,EAAIC,EAI5C2oC,GAFa6I,EAAkB/M,GAEX6M,EAAcC,EAClCrvC,EAAW,CAAC0e,EAAK9J,GAEjB3lB,KAAKkgD,YAGLnvC,EAFEymC,GAAQ,GAAK7xB,EAAM6xB,EAAO,EAEjB,CAAC/nB,GAAO,EAAI9J,GAAM,GACpB6xB,EAAO,GAAK/nB,EAAM+nB,EAAO,EAEvB,CAAC,EAAG7xB,EAAM8J,GAGV,CAACA,EAAM+nB,EAAM7xB,EAAM6xB,IAI5Bx3C,KAAKggD,cACPjvC,EAAS,GAAK/Q,KAAKsgD,YAAY7wB,EAAK+nB,IAGlCx3C,KAAKigD,cACPlvC,EAAS,GAAK/Q,KAAKsgD,YAAY36B,EAAK6xB,IAIlCzmC,EAAS,GAAKA,EAAS,KACzBA,EAAWyM,MAAM,GAAG7K,KAAK3S,KAAKggD,YAAcjvC,EAAS,GAAKA,EAAS,MAKvE/Q,KAAK0/C,IAAMW,EACXrgD,KAAKuuB,MAAQxd,EAEb/Q,KAAK0sC,KAAK,eAAgB,CACxBne,MAAOxd,EACPnQ,MAAOmQ,EAAS3M,KAAI,SAAU8U,GAC5B,OAAOhU,EAAMq7C,SAASrnC,QAG1BlZ,KAAK+9C,kBAAkBhtC,EAAS,GAAIA,EAAS,IAE7C/Q,KAAKid,IAAI,UAAUnN,QAKrBysC,EAAO38C,UAAUm+C,kBAAoB,SAAUyC,EAAUC,GACvD,IAAIj8C,EAAQxE,KAAKwE,MACbsK,EAAS9O,KAAK8O,OAElB9O,KAAK29C,eAAerY,cACpBtlC,KAAK69C,eAAevY,cAGhBtlC,KAAKy9C,gBACPz9C,KAAKw9C,iBAAiBp1B,KAAK,CACzBxZ,EAAGpK,EAAQg8C,EACX3xC,EAAG,EACHrK,OAAQi8C,EAAWD,GAAYh8C,EAC/BsK,OAAQA,IAEV9O,KAAK29C,eAAehvB,UAAU6xB,EAAWh8C,EAAO,GAChDxE,KAAK69C,eAAelvB,UAAU8xB,EAAWj8C,EAAO,KAEhDxE,KAAKw9C,iBAAiBp1B,KAAK,CACzBxZ,EAAG,EACHC,EAAGC,GAAU,EAAI2xC,GACjBj8C,MAAOA,EACPsK,QAAS2xC,EAAWD,GAAY1xC,IAGlC9O,KAAK29C,eAAehvB,UAAU,GAAI,EAAI6xB,GAAY1xC,GAClD9O,KAAK69C,eAAelvB,UAAU,GAAI,EAAI8xB,GAAY3xC,IAIpD9O,KAAKo+C,aAAah2B,KAAK,OAAQpoB,KAAKivB,UAAUjvB,KAAKugD,SAASC,KAC5DxgD,KAAKu+C,aAAan2B,KAAK,OAAQpoB,KAAKivB,UAAUjvB,KAAKugD,SAASE,KAEpC,WAApBzgD,KAAK+8C,aACP/8C,KAAKk+C,eAAe91B,KAAK,CACvBlP,GDnbmBgkC,GCmbY,GAAXsD,GAAuD,IAE7ExgD,KAAKs+C,eAAel2B,KAAK,CACvBlP,GDtbmBgkC,GCsbY,GAAXuD,GAAuD,MAWjFlE,EAAO38C,UAAU0gD,YAAc,SAAU/xB,EAAOipB,GAC9C,IAAIt+B,EAAIs+B,EAAOjpB,EACf,OAAOrV,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAGjCqjC,EAAO38C,UAAU2gD,SAAW,SAAUliB,GACpC,IAAI/gB,EAAItd,KAAKyvB,KAAOzvB,KAAK2lB,IAAM3lB,KAAKyvB,KAAO4O,EAC3C,OAAO3b,OAAOpF,EAAEqF,QAAQrF,EAAI,EAAI,EAAI,KAG/Bi/B,EA3bT,CA4bE,UClPa,GApNf,SAAUt3C,GAGR,SAAS+xB,EAAW9nB,GAClB,IAEImH,EAAkBnH,EAAImH,gBACtBnC,EAAYhF,EAAIgF,UAChBW,EAAY3F,EAAI2F,UAChBY,EAAavG,EAAIuG,WACjBirC,EAAW,kBAAOxxC,EAAK,CAAC,kBAAmB,YAAa,YAAa,eAErE1J,EAAK0J,EAAIoI,OACTA,OAAgB,IAAP9R,EAAgB,aAAeA,EAExCm7C,EAAc,CAChBn8C,MAAkB,eAAX8S,EAA0B,IAAM,GACvCxI,OAAmB,eAAXwI,EAA0B,GAAK,KAiCzC,OA/BQrS,EAAOnF,KAAKE,KAAM,oBAAS,oBAAS,CAE1C4gD,cAAe,GAGftpC,OAAQ,aAGR2lC,aAAa,EAGb4D,WAAY,OAGZxqC,gBAAiB,oBAAS,oBAAS,GAAI+lC,IAA8B/lC,GAGrEnC,UAAW,oBAAS,oBAAS,GAAImoC,IAA4BnoC,GAG7DW,UAAW,oBAAS,oBAAS,GAAIsnC,IAAkBtnC,GAGnDY,WAAY,oBAAS,oBAAS,GAAI6mC,IAAoB7mC,GAGtDjR,MAAO,IAGPsK,OAAQ,IACP6xC,GAAcD,KAAc1gD,KAgKjC,OAhNA,qBAAUg3B,EAAY/xB,GAoDtB+xB,EAAWp3B,UAAUwP,KAAO,WAC1B,IAAIV,EAAY1O,KAAKid,IAAI,aACzBjd,KAAKqQ,IAAI,SAAU3B,EAAUuO,IAAI,WACjC,IAAI6jC,EAAcpyC,EAAU6+B,WAC5BvtC,KAAKqQ,IAAI,cAAeywC,GACxB,IAAI/M,EAAa+M,EAAYvT,WAC7BvtC,KAAKqQ,IAAI,aAAc0jC,GAEvB+M,EAAYnyB,UAAU3uB,KAAKid,IAAI,WAAYjd,KAAKid,IAAI,aAOtD+Z,EAAWp3B,UAAUy1C,YAAc,WACjC,GAAIr1C,KAAK+gD,cAAe,CACtB,IAAIp/C,EAAQ3B,KAAKid,IAAI,SACjBvO,EAAY1O,KAAKid,IAAI,eACrBxH,EAAazV,KAAKid,IAAI,cACtB62B,EAAaplC,EAAUge,SAAS,OAAQ,CAC1CrI,MAAO,oBAAS,CACdzV,EAAG,EACHC,EAAG,EACH6E,KAAM/R,GACL8T,KAELq+B,EAAW7hC,KAAO,eAClBjS,KAAKqQ,IAAI,aAAcyjC,KAQ3B9c,EAAWp3B,UAAUm8C,YAAc,WACjC/7C,KAAKghD,gBAIPhqB,EAAWp3B,UAAUk8C,WAAa,WAC5B97C,KAAKihD,iBASXjqB,EAAWp3B,UAAUmQ,MAAQ,WAC3B,IAAIrB,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,WAC1BO,EAAUqB,SAQdinB,EAAWp3B,UAAUoQ,QAAU,WAC7B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAI0O,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,YAEtBO,EAAUuO,IAAI,WAChBvO,EAAUyB,QAAO,GAGnBzB,EAAUsB,YAUdgnB,EAAWp3B,UAAU69C,aAAe,WAClC,MAA8B,eAAvBz9C,KAAKid,IAAI,WAKlB+Z,EAAWp3B,UAAUqhD,cAAgB,WACnC,OAAOjhD,KAAKid,IAAI,gBAKlB+Z,EAAWp3B,UAAUmhD,YAAc,WACjC,QAAS/gD,KAAKid,IAAI,UAKpB+Z,EAAWp3B,UAAUshD,gBAAkB,WACrC,MAAO,CACL5pC,OAAQtX,KAAKid,IAAI,UACjB8/B,WAAY/8C,KAAKid,IAAI,cACrB+/B,WAAYh9C,KAAKid,IAAI,cACrBkkC,YAAanhD,KAAKid,IAAI,eACtBggC,YAAaj9C,KAAKihD,gBAElBz8C,MAAOxE,KAAKid,IAAI,SAChBnO,OAAQ9O,KAAKid,IAAI,UACjBwS,IAAK,QAAOzvB,KAAKid,IAAI,UAAUrc,MAC/B+kB,IAAK,QAAO3lB,KAAKid,IAAI,UAAUrc,MAE/B2tB,MAAOvuB,KAAKid,IAAI,UAAY,CAAC,EAAG,GAEhCpI,UAAW,oBAAS,GAAI7U,KAAKid,IAAI,cAEjCgS,UAAWjvB,KAAKi8C,iBAKpBjlB,EAAWp3B,UAAUohD,aAAe,WAClC,IAAI97C,EAAQlF,KAER+zC,EAAa/zC,KAAKid,IAAI,cAEtBmkC,EAAS,IAAI,GAAOphD,KAAKkhD,mBAI7B,GAFAE,EAAOhE,cAAcp9C,KAAKqhD,yBAEtBrhD,KAAK+gD,cAAe,CACtB,IAAIH,EAAgB5gD,KAAKid,IAAI,iBAEzBnO,EADY9O,KAAKid,IAAI,cAAcgM,UAChBna,OAEvBsyC,EAAOzyB,UAAU,EAAGiyB,EAAgB9xC,GAKtCsyC,EAAOpzC,GAAG,gBAAgB,SAAUqxC,GAClC,IAAIz+C,EAAQy+C,EAAGz+C,MAEX0gD,GADQjC,EAAG9wB,MACI,IAAI,SAAM,aAAc8wB,GAAI,GAAM,IAErDiC,EAAa/yB,MAAQ3tB,EAErBsE,EAAMwnC,KAAK,aAAc4U,MAE3BvN,EAAWnkC,IAAIwxC,GACfphD,KAAKqQ,IAAI,SAAU+wC,IAGdpqB,EAjNT,CAkNE,ICxJa,GA3Df,SAAU/xB,GAGR,SAASyjC,EAAKx5B,GACZ,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,eACL+I,KAASlP,KAkDd,OAvDA,qBAAU0oC,EAAMzjC,GAQhByjC,EAAK9oC,UAAU2hD,uBAAyB,WACtC,IAAI/8C,EAAQxE,KAAKid,IAAI,SACjBnO,EAAS9O,KAAKid,IAAI,UAClBukC,EAAYh9C,EAAQ,EACpBi9C,EAAa3yC,EAAS,EAS1B,MAAO,CACLwZ,OAP6B,SAA3BtoB,KAAKid,IAAI,cACFjd,KAAKy9C,eAAiB,CAAC,CAAC,EAAG3uC,GAAS,CAAC,EAAGA,EAAS,GAAI,CAACtK,EAAO,GAAI,CAACA,EAAOsK,IAAW,CAAC,CAAC,EAAG,GAAI,CAACtK,EAAO,GAAI,CAACA,EAAOsK,GAAS,CAACtK,EAAQ,EAAGsK,IAEtI9O,KAAKy9C,eAAiB,CAAC,CAAC,EAAGgE,EAvBT,GAuBmD,CAAC,EAAGA,EAvBvD,GAuBiG,CAACj9C,EAAOi9C,EAvBzG,GAuBmJ,CAACj9C,EAAOi9C,EAvB3J,IAuBuM,CAAC,CAACD,EAvBzM,EAuBiP,GAAI,CAACA,EAvBtP,EAuB8R,GAAI,CAACA,EAvBnS,EAuB2U1yC,GAAS,CAAC0yC,EAvBrV,EAuB6X1yC,MAU5Z45B,EAAK9oC,UAAUyhD,sBAAwB,WACrC,IAAIK,EAAiB1hD,KAAKuhD,yBACtBlrC,EAAkBrW,KAAKid,IAAI,mBAC3B/I,EAAYlU,KAAKid,IAAI,aACrBsgC,EAAa,IAAI,WAAQ,CAC3Bl5B,MAAO,oBAAS,oBAAS,GAAIq9B,GAAiBrrC,KAE5CinC,EAAW,IAAI,WAAQ,CACzBj5B,MAAO,oBAAS,oBAAS,oBAAS,GAAIq9B,GAAiBrrC,GAAkBnC,KAEvE8tB,EAAQ,IAAI,SAUhB,OARIhiC,KAAKihD,iBACPjf,EAAMpyB,IAAI2tC,GACVvb,EAAMpyB,IAAI0tC,IAGVtb,EAAMpyB,IAAI0tC,GAGL,CACLtb,MAAOA,EACPub,WAAYA,EACZD,SAAUA,IAIP5U,EAxDT,CAyDE,ICoJa,GA5Mf,SAAUzjC,GAGR,SAASgjC,EAAM/4B,GACb,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,gBACL+I,KAASlP,KAmMd,OAxMA,qBAAUioC,EAAOhjC,GAUjBgjC,EAAMroC,UAAU+hD,iBAAmB,SAAUpV,GAC3C,IAAI9c,EAAM,QAAO8c,GAAO3rC,MAIpB42C,EAFM,QAAOjL,GAAO3rC,MAEP6uB,EACjB,OAAO,OAAM8c,GAAO,SAAUjlC,GAC5B,OAAO,oBAAS,oBAAS,GAAIA,GAAO,CAClCs6C,YAAal/B,OAAOpb,EAAK1G,OAAS6uB,GAAO+nB,QAO/CvP,EAAMroC,UAAUiiD,UAAY,WAC1B,QAAS7hD,KAAKid,IAAI,cAKpBgrB,EAAMroC,UAAUkiD,oBAAsB,WACpC,IAKIC,EALAv9C,EAAQxE,KAAKid,IAAI,SACjBnO,EAAS9O,KAAKid,IAAI,UAClBsvB,EAAQvsC,KAAK2hD,iBAAiB3hD,KAAKid,IAAI,UACvC5G,EAAkBrW,KAAKid,IAAI,mBAC3BtK,EAAO,GAGP3S,KAAKy9C,gBACP9qC,GAAQ,SAER,QAAO45B,GAAO,SAAUjvB,GACtBykC,EAAW,WAAUC,MAAM1kC,EAAErJ,OAC7BtB,GAAQ2K,EAAEskC,WAAa,IAAMG,EAAW,SAG1CpvC,GAAQ,UAER,QAAO45B,GAAO,SAAUjvB,GACtBykC,EAAW,WAAUC,MAAM1kC,EAAErJ,OAC7BtB,GAAQ,EAAI2K,EAAEskC,WAAa,IAAMG,EAAW,QAIhD,IAAIxE,EAAa,IAAI,QAAK,CACxBl5B,MAAO,oBAAS,CACdzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACRgF,cAAe,GACduC,KAEDinC,EAAW,IAAI,QAAK,CACtBj5B,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACR6D,KAAMA,EACNmB,cAAe,KAGfkuB,EAAQ,IAAI,SAUhB,OARIhiC,KAAKihD,iBACPjf,EAAMpyB,IAAI2tC,GACVvb,EAAMpyB,IAAI0tC,IAGVtb,EAAMpyB,IAAI0tC,GAGL,CACLtb,MAAOA,EACPub,WAAYA,EACZD,SAAUA,IAWdrV,EAAMroC,UAAUqiD,sBAAwB,WACtC,IAQIF,EARA78C,EAAQlF,KAERwE,EAAQxE,KAAKid,IAAI,SACjBnO,EAAS9O,KAAKid,IAAI,UAClBsvB,EAAQvsC,KAAK2hD,iBAAiB3hD,KAAKid,IAAI,UACvCpI,EAAY7U,KAAKid,IAAI,aACrB+kB,EAAQ,IAAI,SACZrvB,EAAO,GAEPyJ,EAAO,GACP8lC,EAAQ3V,EAAM9sC,OAEdO,KAAKy9C,gBACP9qC,GAAQ,SAER,QAAO45B,GAAO,SAAUjlC,EAAM/H,GAQ5B,GAPU,IAANA,GAAWA,IAAM2iD,EAAQ,IAC3B9lC,EAAK5L,KAAK,CAAC,IAAKlJ,EAAKs6C,WAAap9C,EAAO,IACzC4X,EAAK5L,KAAK,CAAC,IAAKlJ,EAAKs6C,WAAap9C,EAAOsK,KAG3CizC,EAAW,WAAUC,MAAMzV,EAAMhtC,GAAG0U,OAEhC/O,EAAM28C,aAAetiD,EAAI,EAAG,CAC9B,IAAI4iD,EAAc,WAAUH,MAAMzV,EAAMhtC,EAAI,GAAG0U,OAC/CtB,GAAQrL,EAAKs6C,WAAa,IAAMO,EAAc,IAGhDxvC,GAAQrL,EAAKs6C,WAAa,IAAMG,EAAW,IAC3C/f,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,oBAAS,oBAAS,CACvBzV,EAAGtH,EAAKs6C,WAAap9C,EACrBqK,EAAGC,EJxIU,EIyIb4E,KAAM,GAAKxO,EAAM+2C,eAAe30C,EAAK1G,QACpCiU,GAAY,CACbjB,aAAc,MACdD,UAAW,kBAKjBhB,GAAQ,UAER,QAAO45B,GAAO,SAAUjlC,EAAM/H,GAS5B,GARU,IAANA,GAAWA,IAAM2iD,EAAQ,IAC3B9lC,EAAK5L,KAAK,CAAC,IAAK,EAAG1B,EAASxH,EAAKs6C,WAAa9yC,IAC9CsN,EAAK5L,KAAK,CAAC,IAAKhM,EAAOsK,EAASxH,EAAKs6C,WAAa9yC,KAGpDizC,EAAW,WAAUC,MAAMzV,EAAMhtC,GAAG0U,OACpCtB,GAAQ,EAAIrL,EAAKs6C,WAAa,IAAMG,EAAW,IAE3C78C,EAAM28C,aAAetiD,EAAI,EAAG,CAC9B,IAAI4iD,EAAc,WAAUH,MAAMzV,EAAMhtC,EAAI,GAAG0U,OAC/CtB,GAAQ,EAAIrL,EAAKs6C,WAAa,IAAMO,EAAc,IAGpDngB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,oBAAS,oBAAS,CACvBzV,EAAGpK,EJnKU,EIoKbqK,GAAI,EAAIvH,EAAKs6C,YAAc9yC,EAC3B4E,KAAM,GAAKxO,EAAM+2C,eAAe30C,EAAK1G,QACpCiU,GAAY,CACblB,UAAW,QACXC,aAAc,iBAMtB,IAAI2pC,EAAavb,EAAMtV,SAAS,OAAQ,CACtCrI,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACR6D,KAAMA,EACNmB,cAAe,KAWnB,OAPAkuB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,CACLjI,KAAMA,EACN1J,UAAW,EACXI,OAAQ,UAGL,CACLkvB,MAAOA,EACPub,WAAYA,EACZD,cAAUx2C,IAMdmhC,EAAMroC,UAAUyhD,sBAAwB,WACtC,OAAOrhD,KAAKihD,gBAAkBjhD,KAAK8hD,sBAAwB9hD,KAAKiiD,yBAG3Dha,EAzMT,CA0ME,ICjNEma,GAAa,CACfzrC,MAAO,GAAKuH,KAAKK,GAAK,IACtB7H,KAAM,IAAawH,KAAKK,GAAK,IAC7B8jC,GAAI,EACJC,KAAM,IAAMpkC,KAAKK,GAAK,KA+CT,GA1Cf,WACE,SAASgkC,EAAMrzC,GACblP,KAAKwE,MAAQ,GACbxE,KAAK8O,OAAS,GACd9O,KAAK+Z,UAAY,QAEjB,UAAS/Z,KAAMkP,GAEflP,KAAKysC,QA+BP,OA5BA8V,EAAM3iD,UAAU6sC,MAAQ,WACtB,IAAI9jB,EAAU3oB,KAAKwE,MAAQ,EACvBokB,EAAU5oB,KAAK8O,OAAS,EACxBwZ,EAAS,CAAC,CACZ1Z,EAAG,EACHC,GAAI+Z,GACH,CACDha,GAAI+Z,EACJ9Z,EAAG+Z,GACF,CACDha,EAAG+Z,EACH9Z,EAAG+Z,IAEL5oB,KAAKka,MAAQ,IAAI,QAAO,CACtBmK,MAAO,WAAU,CACfjI,KAAM,CAAC,CAAC,IAAKkM,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,OAC1G7O,KAAKqkB,SAEV,IAAIm+B,EAAkB,GAGtBA,EAAgBhyC,KAAK,CAAC,IAAK4xC,GAAWpiD,KAAK+Z,aAG3CyoC,EAAgBhyC,KAAK,CAAC,IAAKxQ,KAAK4O,EAAG5O,KAAK6O,IACxC7O,KAAKka,MAAMrK,UAAU2yC,IAGhBD,EAvCT,GCTIE,GAAgB,CAClBnrC,OAAQ,aACRspC,cAAe,GACfppC,aAAc,EACdD,iBAAkB,EAClBmrC,YAAa,EACbC,kBAAmB,EACnBntC,gBAAiB,OACjB80B,QAAS,EACTC,QAAS,GA6CI,GAxCf,SAAUtlC,GAGR,SAAS29C,EAAa1zC,GACpB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,oBAAS,CAIzCkB,WAAW,EAKX2hD,WAAW,EAKXC,aAAc,WAKdC,kBAAkB,EAKlBC,UAAU,EAKVC,UAAU,GACTR,IAAgBvzC,KAASlP,KAG9B,OApCA,qBAAU4iD,EAAc39C,GAoCjB29C,EArCT,CAsCE,ICqvBa,GAnyBf,SAAU39C,GAGR,SAASi+C,EAAah0C,GACpB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,mBACL+I,KAASlP,KA0xBd,OA/xBA,qBAAUkjD,EAAcj+C,GAQxBi+C,EAAatjD,UAAUwP,KAAO,WAC5BpP,KAAKmjD,WAAY,EACjB,IAAIz0C,EAAY1O,KAAKid,IAAI,aACzBjd,KAAKqQ,IAAI,SAAU3B,EAAUuO,IAAI,WACjC,IAAI82B,EAAarlC,EAAU6+B,WAC3BvtC,KAAKqQ,IAAI,aAAc0jC,GAEnB/zC,KAAKid,IAAI,aACXjd,KAAKqQ,IAAI,YAAY,IAIzB6yC,EAAatjD,UAAUy1C,YAAc,WACnC,IAAI1zC,EAAQ3B,KAAKid,IAAI,SAErB,GAAItb,EAAO,CACT,IAAI+M,EAAY1O,KAAKid,IAAI,aACrBxH,EAAazV,KAAKid,IAAI,cACtB62B,EAAaplC,EAAUge,SAAS,OAAQ,CAC1CrI,MAAO,oBAAS,CACdzV,EAAG,EACHC,EAAG,EACH6E,KAAM/R,GACL8T,KAELq+B,EAAW7hC,KAAO,eAClBjS,KAAKqQ,IAAI,aAAcyjC,KAI3BoP,EAAatjD,UAAUm8C,YAAc,WACnC,IAAI72C,EAAQlF,KAERusC,EAAQvsC,KAAKid,IAAI,SAEjBjd,KAAKid,IAAI,aACXsvB,EAAM1P,UAGR,gBAAK0P,GAAO,SAAUjlC,GACpBpC,EAAMwtC,SAASprC,MAGjB,IAAI9B,EAAKxF,KAAKojD,kBACVC,EAAe79C,EAAG69C,aAClBC,EAAgB99C,EAAG89C,cAEvBtjD,KAAKqQ,IAAI,eAAgBgzC,GACzBrjD,KAAKqQ,IAAI,gBAAiBizC,GAC1B,IAAIC,EAAevjD,KAAKwjD,aAEpBxjD,KAAKid,IAAI,aACXjd,KAAKyjD,eAIHF,GACFvjD,KAAK0V,WAGP1V,KAAK0jD,wBAEL1jD,KAAK2jD,eAGPT,EAAatjD,UAAU4jD,WAAa,WAClC,IAAIlI,EAAWt7C,KAAKid,IAAI,YACpBk+B,EAAYn7C,KAAKid,IAAI,aACrB2mC,EAAY5jD,KAAKid,IAAI,cAAcgM,UACnC3R,EAAStX,KAAKid,IAAI,UAEtB,GAAIjd,KAAKid,IAAI,YAAa,CACxB,GAAe,aAAX3F,GAAyB6jC,EAAYyI,EAAU90C,OACjD,OAAO,EAGT,GAAe,eAAXwI,GAA2BgkC,EAAWsI,EAAUp/C,MAClD,OAAO,EAIX,OAAO,GAGT0+C,EAAatjD,UAAU8V,SAAW,WAChC,IAAIxQ,EAAQlF,KAEZA,KAAKmjD,WAAY,EACjB,IAAIE,EAAerjD,KAAKid,IAAI,gBACxBqmC,EAAgBtjD,KAAKid,IAAI,iBACzBq+B,EAAWt7C,KAAKid,IAAI,YACpBk+B,EAAYn7C,KAAKid,IAAI,aACrB82B,EAAa/zC,KAAKid,IAAI,cACtB2mC,EAAY7P,EAAW9qB,UACvB3R,EAAStX,KAAKid,IAAI,UAElB4mC,EAAgB7jD,KAAK8jD,oBAGrBC,EAAa,EACbvK,EAAO,UAEP5qC,EAAIg1C,EAAUzT,GAAGvhC,EACjBC,EAAI+0C,EAAUzT,GAAGthC,EAEjB3I,EAAO,EAEPqgB,EAAO,IAAI,QAAK,CAClBlC,MAAO,CACLzV,EAAGA,EACHC,EAAGA,EACHrK,MAAO82C,EAAWuI,EAAc39C,KAChC4I,OAAQqsC,KAIZ,GAAe,eAAX7jC,EAAyB,CAC3B,IAAI9S,EAAQ0Z,KAAKyH,IAAI21B,EAAUsI,EAAUp/C,OAWzC,GAVA+hB,EAAK6B,KAAK,QAAS5jB,GACnB+hB,EAAK6B,KAAK,SAAUk7B,GACpBtjD,KAAKqQ,IAAI,WAAY7L,GACrBxE,KAAKqQ,IAAI,YAAaizC,GACtBS,EAAa7lC,KAAKmd,KAAKuoB,EAAU90C,QAAUw0C,EAAgBtjD,KAAKid,IAAI,sBACpErO,EAAIA,EAAIpK,EAAQq/C,EAAc39C,KAE9B2I,EAAIqP,KAAKmd,KAAKxsB,EAAIy0C,EAAgB,GAClCp9C,EAAOo9C,EAEHz0C,EAAI7O,KAAKgkD,iCAAmC,EAAI,EAAG,CACrD,IAAIzZ,GAAWvqC,KAAKid,IAAI,YAAc,GAAKjd,KAAKgkD,iCAAmC,EAAIn1C,EACvF7O,KAAKqQ,IAAI,UAAWk6B,IAIxB,GAAe,aAAXjzB,EAAuB,CACzBiP,EAAK6B,KAAK,QAASi7B,GACnB,IAAIv0C,EAASoP,KAAKyH,IAAIw1B,EAAWyI,EAAU90C,QAC3CyX,EAAK6B,KAAK,SAAUtZ,GACpB9O,KAAKqQ,IAAI,WAAYgzC,GACrBrjD,KAAKqQ,IAAI,YAAavB,GACtBi1C,EAAa7lC,KAAKmd,KAAKuoB,EAAUp/C,OAAS6+C,EAAerjD,KAAKid,IAAI,kBAClEpO,EAAIA,EAAIC,EAAS,GAEjB0qC,EAAO,aACPtzC,EAAOm9C,EAITtP,EAAW3rB,KAAK,OAAQ7B,GACxBvmB,KAAKqQ,IAAI,OAAQkW,GAEjB,IAAI09B,EAASjkD,KAAKkkD,WAAWt1C,EAAGC,EAAG3I,EAAM69C,EAAYvK,GACrDx5C,KAAKikD,OAASA,EAEd,IAAIE,EAAe,EACfC,EAASH,EAAOI,OAAO,GACvBC,EAASL,EAAOI,OAAO,GAC3BD,EAAOp2C,GAAG,SAAS,WACjB,GAAIm2C,EAAe,EAAG,CACpBA,GAAgB,EAChBF,EAAOvwC,KAAK0U,KAAK,OAAQ+7B,EAAe,MAAQJ,GAChD,IAAIz8B,EAAS,iBAAMysB,EAAW3rB,KAAK,WAEnC,GAAe,aAAX9Q,EAAuB,CACzB,IAAIitC,EAAOr/C,EAAM+X,IAAI,gBAAkBomC,EACvC/7B,EAAO,IAAMi9B,MACR,CACDA,EAAOjB,EAAgBp+C,EAAM+X,IAAI,oBAErCqK,EAAO,IAAMi9B,EAGfxQ,EAAWM,cACXN,EAAWv3B,QAAQ,CACjB8K,OAAQA,GACP,KAEHpiB,EAAM+X,IAAI,UAAUnN,WAGxBw0C,EAAOt2C,GAAG,SAAS,WACjB,GAAIm2C,EAAeJ,EAAY,CAC7BI,GAAgB,EAChBF,EAAOvwC,KAAK0U,KAAK,OAAQ+7B,EAAe,MAAQJ,GAChD,IAAIz8B,EAAS,iBAAMysB,EAAW3rB,KAAK,WAEnC,GAAe,aAAX9Q,EAAuB,CACzB,IAAIitC,EAAOr/C,EAAM+X,IAAI,gBAAkBomC,EACvC/7B,EAAO,IAAMi9B,MACR,CACDA,EAAOjB,EAAgBp+C,EAAM+X,IAAI,oBAErCqK,EAAO,IAAMi9B,EAGfxQ,EAAWM,cACXN,EAAWv3B,QAAQ,CACjB8K,OAAQA,GACP,UAKT47B,EAAatjD,UAAUskD,WAAa,SAAUt1C,EAAGC,EAAG3I,EAAM69C,EAAYvK,GACpE,IAKI9lC,EALAmwC,EAAgB7jD,KAAK8jD,oBAGrB9hB,EADYhiC,KAAKid,IAAI,aACHswB,WAClB8W,EAAS,GAGb,GAAa,eAAT7K,EAAuB,CAEzB,IAAIgL,EAAK,IAAI,GAAM,eAAI,GAAIX,EAAcY,MAAO,CAC9C71C,EAAGA,EAAIi1C,EAAcY,MAAMjgD,MAAQ,EACnCqK,EAAGA,EACHkL,UAAW,UAEbioB,EAAMpyB,IAAI40C,EAAGtqC,OACbmqC,EAAO7zC,KAAKg0C,EAAGtqC,OAEf,IAAIwqC,EAAK,IAAI,GAAM,eAAI,GAAIb,EAAcY,MAAO,CAC9C71C,EAAGA,EAAI1I,EAAO29C,EAAcY,MAAMjgD,MAAQ,EAC1CqK,EAAGA,EACHkL,UAAW,WAEbioB,EAAMpyB,IAAI80C,EAAGxqC,OACbmqC,EAAO7zC,KAAKk0C,EAAGxqC,OAEfxG,EAAOsuB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO,eAAI,GAAIw/B,EAAcnwC,KAAM,CACjC9E,EAAGA,EAAI1I,EAAO,EACd2I,EAAGA,EACH6E,KAAM,OAASqwC,UAGd,CAEL,IAAIj1C,EAAS9O,KAAKgkD,iCAEdW,EAAK,IAAI,GAAM,eAAI,GAAId,EAAcY,MAAO,CAC9C71C,EAAGA,EACHC,EAAGA,EAAIC,EAAS,EAAI+0C,EAAcY,MAAM31C,OAAS,EACjDiL,UAAW,QAEbioB,EAAMpyB,IAAI+0C,EAAGzqC,OACbmqC,EAAO7zC,KAAKm0C,EAAGzqC,OAEf,IAAI0qC,EAAK,IAAI,GAAM,eAAI,GAAIf,EAAcY,MAAO,CAC9C71C,EAAGA,EACHC,EAAGA,EAAIC,EAAS,EAAI+0C,EAAcY,MAAM31C,OAAS,EACjDiL,UAAW,UAEbioB,EAAMpyB,IAAIg1C,EAAG1qC,OACbmqC,EAAO7zC,KAAKo0C,EAAG1qC,OAEfxG,EAAOsuB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO,eAAI,GAAIw/B,EAAcnwC,KAAM,CACjC9E,EAAGA,EACHC,EAAGA,EACH6E,KAAM,OAASqwC,MAKrB,MAAO,CACLM,OAAQA,EACR3wC,KAAMA,EACNhF,UAAWszB,IAIfkhB,EAAatjD,UAAUkkD,kBAAoB,WAsBzC,MArBiB,CACfW,MAAO,CACL71C,EAAG,EACHC,EAAG,EACHrK,MAAO,GACPsK,OAAQ,EACRuV,MAAO,CACL1R,KAAM,OACNqF,OAAQ,WAEV+B,UAAW,SAEbrG,KAAM,CACJoB,SAAU,GACVnC,KAAM,OACNgB,UAAW,SACXC,aAAc,UAEhB1N,KAAM,KAMVg9C,EAAatjD,UAAUokD,+BAAiC,WACtD,IAEI90C,EAAMlP,KAAK8jD,oBAEf,OAAO50C,EAAIwE,KAAKoB,SAA8B,EAAnB5F,EAAIu1C,MAAM31C,OAAa+1C,GAGpD3B,EAAatjD,UAAUk8C,WAAa,WAClC,IAAI/H,EAAa/zC,KAAKid,IAAI,cAEtBjd,KAAKid,IAAI,eACX82B,EAAW/lC,GAAG,YAAa,wBAAahO,KAAM,iBAC9C+zC,EAAW/lC,GAAG,aAAc,wBAAahO,KAAM,mBAG7CA,KAAKid,IAAI,cACX82B,EAAW/lC,GAAG,QAAS,wBAAahO,KAAM,cAQ9CkjD,EAAatjD,UAAUmQ,MAAQ,WAC7B,IAAIrB,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,WAC1BO,EAAUqB,SAQdmzC,EAAatjD,UAAUoQ,QAAU,WAC/B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAI0O,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,YACtBO,EAAUuO,IAAI,WAChBvO,EAAUyB,SAGZzB,EAAUsB,YAIdkzC,EAAatjD,UAAUklD,gBAAkB,WACvC,IACIvY,EADavsC,KAAKid,IAAI,cACHA,IAAI,YAI3B,OAHiB,kBAAOsvB,GAAO,SAAUjlC,GACvC,OAAOA,EAAK2V,IAAI,cAEAxd,QAGpByjD,EAAatjD,UAAUqoB,SAAW,WAChC,OAAOjoB,KAAKipB,UAAUzkB,OAGxB0+C,EAAatjD,UAAUylC,UAAY,WACjC,OAAOrlC,KAAKipB,UAAUna,QAGxBo0C,EAAatjD,UAAUqpB,QAAU,WAC/B,GAAIjpB,KAAKmjD,UAAW,CAClB,IAAI58B,EAAOvmB,KAAKid,IAAI,QAChB8nC,EAAkB/kD,KAAKikD,OAAOv1C,UAClC,OAAO1O,KAAKglD,WAAW,CAACz+B,EAAK0C,UAAW87B,EAAgB97B,YAG1D,OAAOjpB,KAAKid,IAAI,aAAagM,WAG/Bi6B,EAAatjD,UAAU8jD,sBAAwB,WAC7C,IAAIpZ,EAAUtqC,KAAKid,IAAI,WACnBstB,EAAUvqC,KAAKid,IAAI,WACPjd,KAAKid,IAAI,aACf2zB,KAAKtG,EAASC,IAG1B2Y,EAAatjD,UAAU8yC,SAAW,SAAUprC,GAC1C,IAAIysC,EAAa/zC,KAAKid,IAAI,cAEtBrO,EAAI5O,KAAKilD,YAETp2C,EAAI7O,KAAKklD,YAET1vC,EAAkBxV,KAAKid,IAAI,mBAC3B+2B,EAAYD,EAAWxG,SAAS,CAClC3+B,EAAGA,EACHC,EAAGA,EACHjO,MAAO0G,EAAK1G,MACZukD,QAAS79C,EAAK69C,UAEZtwC,EAAY7U,KAAKid,IAAI,aACrBmoC,EAAYplD,KAAKid,IAAI,eACrBooC,EAAS,EAEb,GAAI/9C,EAAKitC,OAAQ,CAEf,IAAIC,EAAcp1C,OAAOC,OAAO,GAAIiI,EAAKitC,OAAQ,CAC/C3lC,EAAGtH,EAAKitC,OAAO/gC,OAAS5E,EACxBC,EAAGA,IAGAvH,EAAK69C,UACJ3Q,EAAY7hC,OACd6hC,EAAY7hC,KAAO6C,GAGjBg/B,EAAY1hC,SACd0hC,EAAY1hC,OAAS0C,IAIzB,IAAI8vC,EAActR,EAAUtnB,SAAS,SAAU,CAC7CvmB,KAAM,SACNke,MAAOmwB,IAET8Q,EAAYl9B,KAAK,SAAU,WAC3Bk9B,EAAYrzC,KAAO,gBACnBozC,GAAUC,EAAYr8B,UAAUzkB,MAAQ4gD,EAG1C,IAAIG,EAAYnmD,OAAOC,OAAO,GAAIwV,EAAW,CAC3CjG,EAAGy2C,EAASz2C,EACZC,EAAGA,GAAKvH,EAAKitC,OAASjtC,EAAKitC,OAAO/gC,OAAS,EAAI,GAAKqB,EAAUC,SAAW,EACzEpB,KAAM1T,KAAKi8C,eAAe30C,EAAK1G,SAG5B0G,EAAK69C,SACR/lD,OAAOC,OAAOkmD,EAAW,CACvB5yC,KAAM6C,IAIV,IAAIgwC,EAAYxR,EAAUtnB,SAAS,OAAQ,CACzCrI,MAAOkhC,IAETC,EAAUp9B,KAAK,SAAU,WACzBo9B,EAAUvzC,KAAO,cACjB,IAAI44B,EAAOmJ,EAAU/qB,UACjBw8B,EAAYzlD,KAAKid,IAAI,aACrByoC,EAAe1R,EAAUtnB,SAAS,OAAQ,CAC5CrI,MAAO,CACLzV,EAAGA,EACHC,EAAGA,EAAIg8B,EAAK/7B,OAAS,EACrB6D,KAAM,OACNC,YAAa,EACbpO,MAAOihD,GAAa5a,EAAKrmC,MACzBsK,OAAQ+7B,EAAK/7B,UAQjB,OALA42C,EAAat9B,KAAK,SAAU,WAC5Bs9B,EAAar1C,IAAI,SAAU/I,GAE3Bo+C,EAAazzC,KAAO,cACpB+hC,EAAU/hC,KAAO,cACV+hC,GAITkP,EAAatjD,UAAUqlD,UAAY,WACjC,IAAI3tC,EAAStX,KAAKid,IAAI,UAClBzF,EAAexX,KAAKid,IAAI,gBACxB82B,EAAa/zC,KAAKid,IAAI,cACtBwoC,EAAYzlD,KAAKid,IAAI,aACrB3W,EAAWytC,EAAW92B,IAAI,YAC1B0oC,EAAQ,EASZ,MAPe,eAAXruC,GAEF,gBAAKhR,GAAU,SAAUgB,GACvBq+C,IAAUF,GAAwBn+C,EAAK2hB,UAAUzkB,OAASgT,KAIvDmuC,GAGTzC,EAAatjD,UAAUslD,UAAY,WACjC,IAAI3tC,EAAmBvX,KAAKid,IAAI,oBAC5B2jC,EAAgB5gD,KAAKid,IAAI,iBACzB3F,EAAStX,KAAKid,IAAI,UAClB82B,EAAa/zC,KAAKid,IAAI,cACtB62B,EAAa9zC,KAAKid,IAAI,cACtB3W,EAAWytC,EAAW92B,IAAI,YAC1B2oC,EAAQhF,EAaZ,OAXI9M,IACF8R,GAAS9R,EAAW7qB,UAAUna,QAGjB,aAAXwI,GAEF,gBAAKhR,GAAU,SAAUgB,GACvBs+C,GAASt+C,EAAK2hB,UAAUna,OAASyI,KAI9BquC,GAGT1C,EAAatjD,UAAUimD,kBAAoB,WACzC,IASIrhD,EACAsK,EACAiE,EAXA+E,EAAS9X,KAAK0V,SAAW1V,KAAK8jD,oBAAoB59C,KAAO,EACzD6tC,EAAa/zC,KAAKid,IAAI,cACtB3W,EAAWytC,EAAW92B,IAAI,YAC1B6oC,EAAY9lD,KAAKid,IAAI,YAAcnF,EACnCN,EAAexX,KAAKid,IAAI,gBACxB1F,EAAmBvX,KAAKid,IAAI,oBAC5B2jC,EAAgB5gD,KAAKid,IAAI,iBACzB8oC,EAAM,EACNC,EAAY,EAIZP,EAAYzlD,KAAKid,IAAI,aAErB82B,EAAW9qB,UAAUzkB,MAAQshD,GAC/B,gBAAKx/C,GAAU,SAAUglB,GACvBvY,EAAMuY,EAAMrC,UACZzkB,EAAQihD,GAAa1yC,EAAIvO,MACzBsK,EAASiE,EAAIjE,OAASyI,EAElBuuC,EAAYE,EAAYxhD,IAC1BuhD,IACAC,EAAY,GAGd16B,EAAMslB,KAAKoV,EAAWD,EAAMj3C,EAAS8xC,GACrCoF,GAAaxhD,EAAQgT,MAO3B0rC,EAAatjD,UAAUqmD,gBAAkB,WACvC,IAcIn3C,EACAiE,EAfAswC,EAAerjD,KAAKojD,kBAAkBC,aAEtCtP,EAAa/zC,KAAKid,IAAI,cACtB62B,EAAa9zC,KAAKid,IAAI,cACtB3W,EAAWytC,EAAW92B,IAAI,YAC1B6oC,EAAY9lD,KAAKid,IAAI,aAErBzF,EAAexX,KAAKid,IAAI,gBACxB1F,EAAmBvX,KAAKid,IAAI,oBAC5BipC,EAAiBlmD,KAAKid,IAAI,iBAC1BkpC,EAAcrS,EAAaA,EAAW7qB,UAAUna,OAASo3C,EAAiB,EAC1ET,EAAYzlD,KAAKid,IAAI,aAAejd,KAAKid,IAAI,aAAe,EAC5DmpC,EAAYD,EAAcpS,EAAW9qB,UAAUna,OAInDu0C,EAAenlC,KAAKyH,IAAI09B,EAAcoC,GAAajuC,EACnD,IAAI2oC,EAAc,EAEdiG,EAAYN,GACd,gBAAKx/C,GAAU,SAAUglB,EAAOhnB,GAC9ByO,EAAMuY,EAAMrC,UACJlW,EAAIvO,MACZsK,EAASiE,EAAIjE,OAKTg3C,EAAYM,EAAYt3C,GAE1Bs3C,EAAYD,EAER7hD,EAAQ,IACV67C,GAAekD,GAGjB/3B,EAAMslB,KAAKuP,EAAagG,IAExB76B,EAAMslB,KAAKuP,EAAaiG,GAG1BA,GAAat3C,EAASyI,MAK5B2rC,EAAatjD,UAAU6jD,aAAe,WAEzB,eADEzjD,KAAKid,IAAI,UACIjd,KAAK6lD,oBAAsB7lD,KAAKimD,mBAG5D/C,EAAatjD,UAAU+jD,YAAc,WACnC,IAAIj1C,EAAY1O,KAAKid,IAAI,aACrBpW,EAAU7G,KAAKid,IAAI,qBACnBopC,EAAYrmD,KAAKid,IAAI,mBAErB,oBAASpW,KACXA,EAAU,CAACA,EAASA,EAASA,EAASA,IAGnCw/C,GAIL33C,EAAU43C,WAAWz/C,EAASw/C,IAGhCnD,EAAatjD,UAAU2mD,aAAe,SAAUlH,GAC9C,IAAI/3C,EAAOtH,KAAKwmD,eAAenH,EAAG//C,QAElC,GAAIgI,GAAQA,EAAK2V,IAAI,WAAY,CAC/B,IAAIwpC,EAAgB,IAAI,SAAM,gBAAiBpH,GAAI,GAAM,GACzDoH,EAAcn/C,KAAOtH,KAAK0mD,UAAUp/C,GACpCm/C,EAActB,QAAU79C,EAAK2V,IAAI,WACjCjd,KAAK0sC,KAAK,gBAAiB+Z,GAC3BzmD,KAAKid,IAAI,UAAUnN,SAIvBozC,EAAatjD,UAAU+mD,cAAgB,SAAUtH,GAC/C,IAAI/3C,EAAOtH,KAAKwmD,eAAenH,EAAG//C,QAElC,GAAIgI,GAAQA,EAAK2V,IAAI,WAAY,CAC/B,IAAI2pC,EAAiB,IAAI,SAAM,iBAAkBvH,GAAI,GAAM,GAC3DuH,EAAet/C,KAAOtH,KAAK0mD,UAAUp/C,GACrCs/C,EAAezB,QAAU79C,EAAK2V,IAAI,WAClCjd,KAAK0sC,KAAK,iBAAkBka,GAC5B5mD,KAAKid,IAAI,UAAUnN,SAIvBozC,EAAatjD,UAAUinD,SAAW,SAAUxH,GAC1C,IAAIn6C,EAAQlF,KAER8mD,EAAc9mD,KAAKwmD,eAAenH,EAAG//C,QAEzC,GAAIwnD,IAAgBA,EAAY7pC,IAAI,aAAc,CAChD,IAAIkoC,EAAU2B,EAAY7pC,IAAI,WAE9B,IAAKjd,KAAKid,IAAI,qBAAuBkoC,GAAsC,IAA3BnlD,KAAK8kD,kBACnD,OAGF,IAAItL,EAAOx5C,KAAKid,IAAI,gBAEhB8pC,EAAS/mD,KAAK0mD,UAAUI,GAExBE,EAAY,IAAI,SAAM,YAAa3H,GAAI,GAAM,GACjD2H,EAAU1/C,KAAOy/C,EACjBC,EAAUlK,cAAgBgK,EAC1BE,EAAU7B,QAAmB,WAAT3L,IAA4B2L,EAChD,IAEI8B,EACAC,EACAC,EAJAC,EAAoBpnD,KAAKid,IAAI,mBAC7BoqC,EAAernD,KAAKid,IAAI,aAAatK,KAKzC,GAAa,WAAT6mC,EAAmB,CACrB,IACIlzC,EADatG,KAAKid,IAAI,cACAA,IAAI,YAC9B,gBAAK3W,GAAU,SAAUglB,GACvB27B,EAAe/hD,EAAMoiD,iBAAiBh8B,EAAO,iBAC7C47B,EAAahiD,EAAMoiD,iBAAiBh8B,EAAO,eAC3C67B,EAAejiD,EAAMoiD,iBAAiBh8B,EAAO,eAEzCA,IAAUw7B,GACRG,EAAa7+B,KAAK,SACpB6+B,EAAa7+B,KAAK,OAAQg/B,GAGxBH,EAAa7+B,KAAK,WACpB6+B,EAAa7+B,KAAK,SAAUg/B,GAG9BF,EAAW9+B,KAAK,OAAQg/B,GACxBH,EAAa52C,IAAI,WAAW,GAC5B42C,EAAa52C,IAAI,WAAY,oBAAS,GAAI42C,EAAahqC,IAAI,WAC3DiqC,EAAW72C,IAAI,WAAW,GAC1B82C,EAAa92C,IAAI,WAAW,GAC5Bib,EAAMjb,IAAI,WAAW,KAEjB42C,EAAa7+B,KAAK,SACpB6+B,EAAa7+B,KAAK,OAAQ2+B,EAAOxS,OAAO5hC,MAGtCs0C,EAAa7+B,KAAK,WACpB6+B,EAAa7+B,KAAK,SAAU2+B,EAAOxS,OAAOzhC,QAG5Co0C,EAAW9+B,KAAK,OAAQi/B,GACxBJ,EAAa52C,IAAI,WAAY,oBAAS,GAAI42C,EAAahqC,IAAI,WAC3DgqC,EAAa52C,IAAI,WAAW,GAC5B62C,EAAW72C,IAAI,WAAW,GAC1B82C,EAAa92C,IAAI,WAAW,GAC5Bib,EAAMjb,IAAI,WAAW,YAIzB42C,EAAejnD,KAAKsnD,iBAAiBR,EAAa,iBAClDI,EAAalnD,KAAKsnD,iBAAiBR,EAAa,eAChDK,EAAennD,KAAKsnD,iBAAiBR,EAAa,eAE9CG,EAAa7+B,KAAK,SACpB6+B,EAAa7+B,KAAK,OAAQ+8B,EAAUiC,EAAoBL,EAAOxS,OAAO5hC,MAGpEs0C,EAAa7+B,KAAK,WACpB6+B,EAAa7+B,KAAK,SAAU+8B,EAAUiC,EAAoBL,EAAOxS,OAAOzhC,QAG1Eo0C,EAAW9+B,KAAK,OAAQ+8B,EAAUiC,EAAoBC,GACtDP,EAAYz2C,IAAI,WAAY80C,GAC5B8B,EAAa52C,IAAI,WAAY80C,GAC7B+B,EAAW72C,IAAI,WAAY80C,GAC3BgC,EAAa92C,IAAI,WAAY80C,GAG/BnlD,KAAK0sC,KAAK,YAAasa,GACvBhnD,KAAKid,IAAI,UAAUnN,SAMvBozC,EAAatjD,UAAU4mD,eAAiB,SAAUlnD,GAChD,IAAIgI,EAAOhI,EAAO2d,IAAI,UAEtB,OAAI3V,GAAsB,gBAAdA,EAAK2K,KACR3K,EAGF,MAGT47C,EAAatjD,UAAU8mD,UAAY,SAAUa,GAC3C,IAAIhb,EAAQvsC,KAAKid,IAAI,SACjBkP,EAAM,KACNvrB,EAAQ2mD,aAAiB,SAAQA,EAAMtqC,IAAI,SAAWsqC,EAO1D,OANA,gBAAKhb,GAAO,SAAUjlC,GACpB,GAAIA,EAAK1G,QAAUA,EAEjB,OADAurB,EAAM7kB,GACC,KAGJ6kB,GAGT+2B,EAAatjD,UAAU0nD,iBAAmB,SAAUtlB,EAAO/vB,GACzD,OAAO+vB,EAAMwlB,QAAO,SAAUta,GAC5B,OAAOA,EAAKj7B,OAASA,MAIzBixC,EAAatjD,UAAUwjD,gBAAkB,WACvC,IAAIC,GAAgBzqB,IAChB0qB,GAAiB1qB,IAEjB2T,EADYvsC,KAAKid,IAAI,cACHA,IAAI,YAa1B,OAZA,gBAAKsvB,GAAO,SAAUjlC,GACpB,IACIujC,EADIvjC,EACK2hB,UAETo6B,EAAexY,EAAKrmC,QACtB6+C,EAAexY,EAAKrmC,OAGlB8+C,EAAgBzY,EAAK/7B,SACvBw0C,EAAgBzY,EAAK/7B,WAGlB,CACLu0C,aAAcA,EACdC,cAAeA,IAInBJ,EAAatjD,UAAUolD,WAAa,SAAUyC,GAC5C,IAAIl/B,EAAOqQ,IACPpQ,GAAQoQ,IACRnQ,EAAOmQ,IACPlQ,GAAQkQ,IAQZ,OAPA,gBAAK6uB,GAAQ,SAAU5c,GACrB,IAAI93B,EAAM83B,EACVtiB,EAAOrK,KAAKuR,IAAI1c,EAAIwV,KAAMA,GAC1BC,EAAOtK,KAAKyH,IAAI5S,EAAIyV,KAAMA,GAC1BC,EAAOvK,KAAKuR,IAAI1c,EAAI0V,KAAMA,GAC1BC,EAAOxK,KAAKyH,IAAI5S,EAAI2V,KAAMA,MAErB,IAAI,QAAKH,EAAME,EAAMD,EAAOD,EAAMG,EAAOD,IAG3Cy6B,EAhyBT,CAiyBE,ICjyBE,GACe,CACf1sC,SAAU,WACVkB,SAAU,OACVnB,IAAK,EACLG,KAAM,GALN,GAOU,CACViB,aAAc,OARd,GAUS,CACTE,cAAe,OACfC,OAAQ,EACRjR,QAAS,GAbT,GAeS,CACTmR,OAAQ,UACRL,aAAc,MACdM,YAAa,OACbyvC,WAAY,QAnBZ,GAqBW,CACXljD,MAAO,MACPsK,OAAQ,MACRqJ,aAAc,MACdC,QAAS,eACTH,YAAa,MACbI,cAAe,UA3Bf,GA6BU,CACVsvC,YAAa,OACbC,cAAe,OACfC,UAAW,EACX78B,WAAW,GAIf,SAAS88B,GAAgB5a,EAAMlsC,GAC7B,IAAI+mD,EAAY7a,EAAKlsC,UAErB,OAAI,SAAW+mD,KAIfA,EAAYA,EAAUlkC,MAAM,MAEdvjB,QAAQU,IAAc,EAL3BksC,EASLA,EAAKqB,WACHrB,EAAKqB,WAAWvtC,YAAcA,EACzBksC,EAAKqB,WAGPuZ,GAAgB5a,EAAKqB,WAAYvtC,GAGnC,KAGT,SAASgnD,GAAiB9a,EAAMlsC,GAC9B,OAAOksC,EAAK0E,uBAAuB5wC,GAAW,GAGhD,IA2pBe,GAzpBf,SAAUiE,GAGR,SAASgjD,EAAW/4C,GAClB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,cACN+hD,gBAAiB,YACjBC,YAAY,EACZC,WAAW,GACVl5C,KAASlP,KA6oBd,OArpBA,qBAAUioD,EAAYhjD,GAWtBgjD,EAAWroD,UAAUwP,KAAO,WAE1B,IAAI2F,EAAa/U,KAAKid,IAAI,cAGtB3F,EAAStX,KAAKid,IAAI,UAClBq+B,EAAWt7C,KAAKid,IAAI,YACpBk+B,EAAYn7C,KAAKid,IAAI,aACrBirC,EAAkBloD,KAAKid,IAAI,mBAC3BovB,EAAersC,KAAKid,IAAI,gBAEvBovB,IACHA,EAAe,eAAkB6b,EAAkB,2BAA+BA,EAAkB,sCAA0CA,EAAkB,8BAGlK,IAAIG,EAAkB,aAAkBhc,GACpCh2B,EAAkB,WAAa,GAAI,GAA+BrW,KAAKid,IAAI,oBAC/E,aAAkBorC,EAAiB,oBAAS,CAC1CtzC,WAAYA,EACZomC,UAAWA,EAAY,KAEvB32C,MAAO,OACPsK,OAAQ,QACPuH,IAEY,eAAXiB,GACF,aAAkB+wC,EAAiB,CACjC/M,SAAUA,EAAW,OAIzB,IAAI5sC,EAAY1O,KAAKid,IAAI,aAEzB,GAAKvO,EAKE,GAAI,MAAM0R,KAAK1R,GAAY,CAEhC,IAAIC,EAAKD,EAAUiR,QAAQ,IAAK,KAChCjR,EAAY4jC,SAASC,eAAe5jC,IAC1B0/B,YAAYga,QAGtB35C,EAAU2/B,YAAYga,QAVTroD,KAAKid,IAAI,UACCA,IAAI,MAAMsxB,WACvBF,YAAYga,GAWxBroD,KAAKqQ,IAAI,mBAAoBg4C,IAI/BJ,EAAWroD,UAAUy1C,YAAc,WACjC,IAAI1zC,EAAQ3B,KAAKid,IAAI,SAErB,GAAItb,EAAO,CACT,IAAIumD,EAAkBloD,KAAKid,IAAI,mBAC3BorC,EAAkBroD,KAAKid,IAAI,oBAE3BqrC,EAAiBN,GAAiBK,EAAiBH,EAAkB,UAEpEI,IACHA,EAAiB,aAAkB,eAAkBJ,EAAkB,kBACvEG,EAAgBha,YAAYia,IAG9BA,EAAezb,UAAYlrC,EAC3B,IAAI8T,EAAa,WAAa,GAAI,GAA0BzV,KAAKid,IAAI,eACrE,aAAkBqrC,EAAgB7yC,GAClCzV,KAAKqQ,IAAI,kBAAmBi4C,KAKhCL,EAAWroD,UAAUm8C,YAAc,WACjC,IAAI72C,EAAQlF,KAERusC,EAAQvsC,KAAKid,IAAI,SAErB,GAAKsvB,GAAUA,EAAM9sC,OAArB,CAIA,IAAI4oD,EAAkBroD,KAAKid,IAAI,oBAC3B3F,EAAStX,KAAKid,IAAI,UAClBirC,EAAkBloD,KAAKid,IAAI,mBAChBjd,KAAKid,IAAI,aAGtBsvB,EAAM1P,UAGR,IAAI0rB,EAAqBP,GAAiBK,EAAiBH,EAAkB,SAExEK,IACHA,EAAqB,aAAkB,cAAiBL,EAAkB,iBAG5E,IAAItwC,EAAY,WAAa,GAAI,GAAyB5X,KAAKid,IAAI,cAEpD,eAAX3F,IAGFM,EAAUpT,MAAQ,eAGpB,aAAkB+jD,EAAoB3wC,GAEtC,IAAI4wC,EAAgB,aAAkB,eACtCH,EAAgBha,YAAYma,GAC5BA,EAAcna,YAAYka,GAC1BvoD,KAAKqQ,IAAI,iBAAkBm4C,GAC3BxoD,KAAKqQ,IAAI,sBAAuBk4C,GAChC,IAAIjc,EAAUtsC,KAAKid,IAAI,WAElBqvB,IACHA,EAAU,cAAiB4b,EAAkB,+BAAmCA,EAAkB,6CAAiDA,EAAkB,oCAGvK,IAAI1yC,EAAkBxV,KAAKid,IAAI,mBAC3BlF,EAAY,WAAa,GAAI,GAAyB/X,KAAKid,IAAI,cAE/D/E,EAAc,WAAa,GAAI,GAA2BlY,KAAKid,IAAI,gBAExD,eAAX3F,EACFS,EAAUK,QAAU,eACA,aAAXd,IACTS,EAAUK,QAAU,SAGtB,IAAIqwC,EAAU,GACd,QAAUlc,GAAO,SAAUjlC,EAAMhD,GAC/B,IAOIokD,EAPAvD,EAAU79C,EAAK69C,QAEfvkD,EAAQsE,EAAM+2C,eAAe30C,EAAK1G,OAGlC+nD,EAAcrhD,EAAKitC,OAAO5hC,MAAQrL,EAAKitC,OAAOzhC,OAC9CmB,EAAQkxC,EAAUwD,EAAcnzC,EAGpC,GAAI,cAAgB82B,GAAU,CAE5B,IAAIsc,EAAStc,EAAQ1rC,EAAOqT,EAAOkxC,EAAS7gD,GAC5CokD,EAAU,aAAkBE,OACvB,CAGSZ,GAFdU,EAAU,aAAkBpc,GAEY4b,EAAkB,cAElDrb,UAAYjsC,EAGtBmX,EAAU9D,MAAQA,EAElBiE,EAAYS,gBAAkB1E,EAE9B,aAAkBy0C,EAAS3wC,GAC3B2wC,EAAQG,aAAa,eAAgB1D,GAErCuD,EAAQG,aAAa,aAAcvhD,EAAK1G,OAExC8nD,EAAQG,aAAa,aAAcF,GAEnC,IAAI7V,EAAYkV,GAAiBU,EAASR,EAAkB,gBAExDpV,GACF,aAAkBA,EAAW56B,GAG/BqwC,EAAmBla,YAAYqa,GAC/BD,EAAQnhD,EAAK1G,OAAS0G,KAExBtH,KAAKqQ,IAAI,WAAYo4C,GAEN,eAAXnxC,EACFtX,KAAK8oD,8BAEL9oD,KAAK+oD,sBAITd,EAAWroD,UAAUk8C,WAAa,WAChC,IAAI52C,EAAQlF,KAERuoD,EAAqBvoD,KAAKid,IAAI,uBAE7BsrC,IAIDvoD,KAAKid,IAAI,eACXsrC,EAAmBS,QAAU,SAAU3J,GACrC,OAAOn6C,EAAM2hD,SAASxH,KAItBr/C,KAAKid,IAAI,eACXsrC,EAAmBU,YAAc,SAAU5J,GACzC,OAAOn6C,EAAMqhD,aAAalH,IAG5BkJ,EAAmBW,WAAa,SAAU7J,GACxC,OAAOn6C,EAAMikD,YAAY9J,OAS/B4I,EAAWroD,UAAUqoB,SAAW,WAC9B,IAAIvZ,EAAY1O,KAAKid,IAAI,oBACzB,OAAO,iBAAsBvO,IAO/Bu5C,EAAWroD,UAAUylC,UAAY,WAC/B,IAAI32B,EAAY1O,KAAKid,IAAI,oBACzB,OAAO,kBAAuBvO,IAOhCu5C,EAAWroD,UAAUqpB,QAAU,WAC7B,OAAO,IAAI,QAAKjpB,KAAKid,IAAI,MAAQ,EAAGjd,KAAKid,IAAI,MAAQ,EAAGjd,KAAKioB,WAAYjoB,KAAKqlC,cAShF4iB,EAAWroD,UAAUo8C,OAAS,SAAUptC,EAAGC,GACzC,IAAIH,EAAY1O,KAAKid,IAAI,oBACzB,aAAkBvO,EAAW,CAC3BgI,KAAM9H,EAAI,KACV2H,IAAK1H,EAAI,OAEX7O,KAAKqQ,IAAI,IAAKzB,GACd5O,KAAKqQ,IAAI,IAAKxB,IAOhBo5C,EAAWroD,UAAUoQ,QAAU,WAC7B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAI0O,EAAY1O,KAAKid,IAAI,oBAErBvO,GAAaA,EAAU6/B,YACzB7/B,EAAU6/B,WAAWoE,YAAYjkC,IAIrCu5C,EAAWroD,UAAUkQ,KAAO,WAE1B,OAAO,MAGTm4C,EAAWroD,UAAUwpD,cAAgB,SAAUV,EAAS5V,EAAW7+B,EAAOkxC,GACpErS,IACFA,EAAUvuC,MAAMg5C,WAAatpC,GAG/By0C,EAAQnkD,MAAM0P,MAAQA,EACtBy0C,EAAQG,aAAa,eAAgB1D,IAGvC8C,EAAWroD,UAAUinD,SAAW,SAAUxH,GACxC,IAAIn6C,EAAQlF,KAGRuoD,GADQvoD,KAAKid,IAAI,SACIjd,KAAKid,IAAI,wBAC9BirC,EAAkBloD,KAAKid,IAAI,mBAC3BosC,EAAkBnB,EAAkB,QACpCoB,EAAyBpB,EAAkB,eAC3C5oD,EAAS+/C,EAAG//C,OACZiqD,EAAkBjqD,EAAO0B,UAAU6iB,MAAM,KAE7C,KAAI,WAAa0lC,EAAiBrB,EAAkB,UAAY,GAAhE,CAKA,IAAIsB,EAAiB1B,GAAgBxoD,EAAQ+pD,GAEzCvW,EAAYkV,GAAiBwB,EAAgBF,GAE7Cb,EAAUzoD,KAAKid,IAAI,YACnB6pC,EAAc2B,EAAQe,EAAe5gB,aAAa,eAIlD+f,EAAca,EAAe5gB,aAAa,cAC1Cka,EAAe9iD,KAAKid,IAAI,gBACxBzH,EAAkBxV,KAAKid,IAAI,mBAC3BwsC,EAAYlB,EAAmB3a,WAEnC,GAAqB,WAAjBkV,EAEFgE,EAAY3B,SAAU,EAGtB,QAAUsE,GAAW,SAAUn+B,GAC7B,GAAIA,IAAUk+B,EAAgB,CAE5B,IAAIE,EAAc1B,GAAiB18B,EAAOg+B,GAE1CpkD,EAAMkkD,cAAc99B,EAAOo+B,EAAal0C,EAAiB,SAEzCizC,EAAQn9B,EAAMsd,aAAa,eACjCuc,SAAU,OAEpBjgD,EAAMkkD,cAAcI,EAAgB1W,EAAW6V,EAAa,eAG3D,CAEL,IAAIgB,EAAmE,SAAhDH,EAAe5gB,aAAa,gBAC/CghB,EAAU,EAOd,GANA,QAAUH,GAAW,SAAUn+B,GACc,SAAvCA,EAAMsd,aAAa,iBACrBghB,QAIC5pD,KAAKid,IAAI,qBAAuB0sC,GAAgC,IAAZC,EACvD,OAIF9C,EAAY3B,SAAW2B,EAAY3B,QAE/BwE,EACF3pD,KAAKopD,cAAcI,EAAgB1W,EAAWt9B,EAAiB,SAE/DxV,KAAKopD,cAAcI,EAAgB1W,EAAW6V,EAAa,QAI/D3oD,KAAK0sC,KAAK,YAAa,CACrBplC,KAAMw/C,EACNhK,cAAe0M,EACfrE,QAA0B,WAAjBrC,GAAmCgE,EAAY3B,YAI5D8C,EAAWroD,UAAU2mD,aAAe,SAAUlH,GAC5C,IAAIwK,EAAiB7pD,KAAKid,IAAI,mBAE1BwrC,GADQzoD,KAAKid,IAAI,SACPjd,KAAKid,IAAI,aACnBirC,EAAkBloD,KAAKid,IAAI,mBAC3B6sC,EAAa5B,EAAkB,QAC/BmB,EAAkBnB,EAAkB,QACpC5oD,EAAS+/C,EAAG//C,OACZiqD,EAAkBjqD,EAAO0B,UAAU6iB,MAAM,KAE7C,KAAI,WAAa0lC,EAAiBO,IAAe,GAAjD,CAKA,IAAIC,EAAiBjC,GAAgBxoD,EAAQ+pD,GAEzCW,EAAcvB,EAAQsB,EAAenhB,aAAa,eAEtD,GAAIohB,EAAa,CACf,IAAI5B,EAAYpoD,KAAKid,IAAI,aAEzB,GAAI+sC,EAAY7E,SAAW0E,IAAmBG,EAAa,CAIzD,GAFAD,EAAe/oD,WAAa,UAExBonD,EAEuBpoD,KAAKid,IAAI,uBACC2wB,WACzB1lC,SAAQ,SAAU+hD,GACtBA,IAAaF,GAA4D,SAA1CE,EAASrhB,aAAa,kBACvDqhB,EAASjpD,WAAa,gBAK5BhB,KAAKqQ,IAAI,kBAAmB25C,GAG9BhqD,KAAK0sC,KAAK,gBAAiB,CACzBplC,KAAM0iD,EACNlN,cAAeiN,EACf5E,QAAS6E,EAAY7E,aAK3B8C,EAAWroD,UAAUupD,YAAc,SAAU9J,GAClBr/C,KAAKid,IAAI,uBACC2wB,WACzB1lC,SAAQ,SAAUglC,GAC1B,IAAIlsC,EAAYksC,EAAKlsC,UAAU6iB,MAAM,KACrC,UAAY7iB,GAAW,SAAUqc,GAC/B,MAAa,WAANA,GAAwB,aAANA,KAE3B6vB,EAAKlsC,UAAYA,EAAU4iB,KAAK,QAElC5jB,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAK0sC,KAAK,iBAAkB2S,IAG9B4I,EAAWroD,UAAUmpD,kBAAoB,WACvC,IAAIZ,EAAanoD,KAAKid,IAAI,cACtBorC,EAAkBroD,KAAKid,IAAI,oBAC3BsrC,EAAqBvoD,KAAKid,IAAI,uBAGlC,GAAIkrC,GAAcE,EAAgB6B,aAAe7B,EAAgB8B,aAAc,CAE7E,aAAkB9B,EAAiB,CACjC3wC,SAAU,SACV5I,OAAQ9O,KAAKid,IAAI,aAAe,OAGlC,IAAImtC,EAAgB,aATC,miBAUrB/B,EAAgBha,YAAY+b,GAC5B,IAMIC,EANwBrqD,KAAKqlC,aAEfrlC,KAAKid,IAAI,mBAAqB,kBAAuBjd,KAAKid,IAAI,oBAAsB,GAE/E,kBAAuBmtC,GAI1CE,EAAiC/B,EAAmB4B,aAGpD3B,EAAgBxoD,KAAKid,IAAI,kBAC7B,aAAkBurC,EAAe,CAC/BrN,UAAWkP,EAA2B,KACtC3yC,SAAU,WAEZ,IAAI6yC,EAAarsC,KAAKmd,KAAKivB,EAAiCD,GAExDpW,EAAa,kBAAuBsU,EAAmB3a,WAAW,IAIlE4c,EAFetsC,KAAK2V,MAAMw2B,EAA2BpW,GAEtBA,EAE/BwW,EAAmBzC,GAAiBoC,EAAe,uBAEnDM,EAAe1C,GAAiBoC,EAAe,qBAE/CO,EAAkB3C,GAAiBoC,EAAe,YAElDQ,EAAmB5C,GAAiBoC,EAAe,aAEvDM,EAAa7d,UAAY0d,EACzB,IAAI1G,EAAgB,WAAa,GAAI,GAA0BsE,GAC3D0C,EAAgB,CAClB7yC,OAAQ,UACR8yC,OAAQjH,EAAc8D,YAAc,SACpCoD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEhCmD,EAAkB,CACpBhzC,OAAQ,UACR8yC,OAAQjH,EAAc+D,cAAgB,SACtCmD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEpC,aAAkB8C,EAAiBK,GACnC,aAAkBJ,EAAkBC,GAEhChH,EAAc74B,WAEhB,aAAkBu9B,EAAoB,CACpC7vC,WAAY,0BAIhB,IAAIuyC,EAAgB,EAChBC,EAAe,EAEnBP,EAAgB3B,QAAU,WACF,IAAlBiC,IAIJA,GAAiB,EACjBC,GAAgBV,EAChBC,EAAiB5d,UAAYoe,EAC7B,aAAkBN,EAAiBE,GACnC,aAAkBD,EAAkBC,GACpC,aAAkBtC,EAAoB,CACpC14C,UAAW,cAAgBq7C,EAAe,QAGtB,IAAlBD,GACF,aAAkBN,EAAiBK,KAIvCJ,EAAiB5B,QAAU,WACrBiC,IAAkBV,IAItBU,GAAiB,EACjBC,GAAgBV,EAChBC,EAAiB5d,UAAYoe,EAC7B,aAAkBL,EAAkBC,GACpC,aAAkBF,EAAiBE,GACnC,aAAkBtC,EAAoB,CACpC14C,UAAW,cAAgBq7C,EAAe,QAGxCD,IAAkBV,GACpB,aAAkBK,EAAkBI,OAM5C/C,EAAWroD,UAAUkpD,4BAA8B,WACjD,IAAIX,EAAanoD,KAAKid,IAAI,cACtBorC,EAAkBroD,KAAKid,IAAI,oBAC3BsrC,EAAqBvoD,KAAKid,IAAI,uBAGlC,GAAIkrC,GAAcE,EAAgB8C,YAAc9C,EAAgB+C,YAAa,CAE3E,aAAkB/C,EAAiB,CACjC3wC,SAAU,SACVlT,MAAOxE,KAAKid,IAAI,YAAc,OAGhC,IAAImtC,EAAgB,aATC,0jBAUrB/B,EAAgBha,YAAY+b,GAC5B,IAMIiB,EANuBrrD,KAAKioB,WAIV,iBAAsBmiC,GAE2B,GAEnEkB,EAAgC/C,EAAmB6C,YAGnD5C,EAAgBxoD,KAAKid,IAAI,kBAC7B,aAAkBurC,EAAe,CAC/BlN,SAAU+P,EAA0B,KACpC3zC,SAAU,WAEZ,IAAI6zC,EAAartC,KAAKmd,KAAKiwB,EAAgCD,GAKvDG,GAHY,iBAAsBjD,EAAmB3a,WAAW,IAGjDyd,GAEfI,EAAmBzD,GAAiBoC,EAAe,uBAEnDM,EAAe1C,GAAiBoC,EAAe,qBAE/CsB,EAAkB1D,GAAiBoC,EAAe,YAElDuB,EAAmB3D,GAAiBoC,EAAe,aAEvDM,EAAa7d,UAAY0e,EACzB,IAAI1H,EAAgB,WAAa,GAAI,GAA0BsE,GAC3DyD,EAAgB,CAClB5zC,OAAQ,UACR8yC,OAAQjH,EAAc8D,YAAc,SACpCoD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEhCgE,EAAkB,CACpB7zC,OAAQ,UACR8yC,OAAQjH,EAAc+D,cAAgB,SACtCmD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEpC,aAAkB6D,EAAiBG,GACnC,aAAkBF,EAAkBC,GAEhC/H,EAAc74B,WAEhB,aAAkBu9B,EAAoB,CACpC7vC,WAAY,0BAIhB,IAAIozC,EAAgB,EAChBC,EAAe,EAEnBL,EAAgB1C,QAAU,WACF,IAAlB8C,IAIJA,GAAiB,EACjBC,GAAgBP,EAChBC,EAAiB5e,UAAYif,EAC7B,aAAkBJ,EAAiBE,GACnC,aAAkBD,EAAkBC,GACpC,aAAkBrD,EAAoB,CACpC14C,UAAW,cAAgBk8C,EAAe,QAGtB,IAAlBD,GACF,aAAkBJ,EAAiBG,KAIvCF,EAAiB3C,QAAU,WACrB8C,IAAkBP,IAItBO,GAAiB,EACjBC,GAAgBP,EAChBC,EAAiB5e,UAAYif,EAC7B,aAAkBH,EAAkBC,GACpC,aAAkBF,EAAiBE,GACnC,aAAkBrD,EAAoB,CACpC14C,UAAW,cAAgBk8C,EAAe,QAGxCD,IAAkBP,GACpB,aAAkBI,EAAkBE,OAMrC5D,EAtpBT,CAupBE,IC/kBa,GA5If,SAAUhjD,GAGR,SAAS+mD,EAAW98C,GAElB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCisD,QAAS,KACTC,QAAS,KACTC,GAAI,MACHj9C,KAASlP,KAgId,OAxIA,qBAAUgsD,EAAY/mD,GAWtB+mD,EAAWpsD,UAAUmQ,MAAQ,WAC3B,IAAIo8C,EAAKnsD,KAAKid,IAAI,MAEdkvC,GACFA,EAAGh8C,UAIP67C,EAAWpsD,UAAUsd,cAAgB,SAAUF,GAC7Chd,KAAKqQ,IAAI,UAAW2M,GACpB,IAAImvC,EAAKnsD,KAAKid,IAAI,MAEdkvC,aAAc,WAChBA,EAAG97C,IAAI,UAAW2M,GACTmvC,aAAcC,cACvBD,EAAG5nD,MAAM6T,QAAU4E,EAAU,GAAK,SAMtCgvC,EAAWpsD,UAAUgvB,OAAS,SAAU1f,GACtClP,KAAKkP,IAAM,WAAU,GAAIlP,KAAKkP,IAAKA,IAIrC88C,EAAWpsD,UAAUqd,IAAM,SAAUhL,GACnC,OAAOjS,KAAKkP,IAAI+C,IAGlB+5C,EAAWpsD,UAAUyQ,IAAM,SAAU4B,EAAMrR,GAEzC,OADAZ,KAAKkP,IAAI+C,GAAQrR,EACVZ,MAGTgsD,EAAWpsD,UAAUysD,WAAa,SAAU/lC,EAAOgmC,GACjD,IAAIL,EAAUjsD,KAAKid,IAAI,WACnBivC,EAAUlsD,KAAKid,IAAI,WACnBzG,EAAW,cAAa81C,GAAaA,EAAUxsD,KAAK,KAAMmsD,EAASC,GAAWI,EAC9E19C,EAAI,EACJC,EAAI,EAER,GAAI,WAAU2H,IAAa,YAAWA,EAAS,GAAI,KACjD,OAAOxW,KAAKusD,kBAAkBjmC,EAAO9P,GAGvC,GAAI,WAAUA,GACZ5H,EAAI5O,KAAKwsD,mBAAmBh2C,EAAS,GAAI,QAAO,UAASy1C,KACzDp9C,EAAI7O,KAAKwsD,mBAAmBh2C,EAAS,GAAI,QAAO,UAAS01C,UACpD,IAAK,SAAQ11C,GAClB,IAAK,IAAI4Z,EAAK,EAAG5qB,EAAK,QAAOgR,GAAW4Z,EAAK5qB,EAAG/F,OAAQ2wB,IAAM,CAC5D,IAAIzwB,EAAM6F,EAAG4qB,GACTxvB,EAAQ4V,EAAS7W,GAEjBssD,EAAQtsD,KACViP,EAAI5O,KAAKwsD,mBAAmB5rD,EAAOqrD,EAAQtsD,KAGzCusD,EAAQvsD,KACVkP,EAAI7O,KAAKwsD,mBAAmB5rD,EAAOsrD,EAAQvsD,KAKjD,OAAO2mB,EAAM0e,QAAQ,CACnBp2B,EAAGA,EACHC,EAAGA,KAIPm9C,EAAWpsD,UAAU4sD,mBAAqB,SAAUn7B,EAAK1D,GACvD,IAAIlqB,EACAgpD,EAEJ,OAAQp7B,GACN,IAAK,QACH5tB,EAAS,EACT,MAEF,IAAK,MACHA,EAAS,EACT,MAEF,IAAK,SAEDgpD,EAAS9+B,EAAMO,YAAcP,EAAMW,OAAO7uB,OAAS,GAAK,GAAKkuB,EAAM8B,IAAM9B,EAAMhI,KAAO,EACtFliB,EAASkqB,EAAMA,MAAM8+B,GACrB,MAGJ,IAAK,MACL,IAAK,MAEDA,EADE9+B,EAAMO,WACS,QAARmD,EAAgB,EAAI1D,EAAMW,OAAO7uB,OAAS,EAE1CkuB,EAAM0D,GAGjB5tB,EAASkqB,EAAMA,MAAM8+B,GACrB,MAEF,QACEhpD,EAASkqB,EAAMA,MAAM0D,GAGzB,OAAO5tB,GAGTuoD,EAAWpsD,UAAU2sD,kBAAoB,SAAUjmC,EAAO9P,GACxD,IAAIiwB,EAAWrgB,WAAW5P,EAAS,IAAM,IACrCkwB,EAAWtgB,WAAW5P,EAAS,IAAM,IACrCtF,EAAQoV,EAAMpV,MACdC,EAAMmV,EAAMnV,IACZu7C,EACCxuC,KAAKuR,IAAIve,EAAMtC,EAAGuC,EAAIvC,GADvB89C,EAECxuC,KAAKuR,IAAIve,EAAMrC,EAAGsC,EAAItC,GAI3B,MAAO,CACLD,EAHM0X,EAAM2B,WAAawe,EAAWimB,EAIpC79C,EAHMyX,EAAM+e,YAAcqB,EAAWgmB,IAOlCV,EAzIT,CA0IE,IC7Ba,GA5Gf,SAAU/mD,GAGR,SAAS20C,EAAK1qC,GAEZ,OAAOjK,EAAOnF,KAAKE,KAAM,WAAU,CACjCmG,KAAM,OACN8lD,QAAS,KACTC,QAAS,KACT94C,KAAM,CACJ7O,MAAO,CACLuO,OAAQ,SAGZY,KAAM,CACJ0E,SAAS,EACT5B,SAAU,MACVkD,YAAY,EACZnV,MAAO,CACLoO,KAAM,OACNmC,SAAU,GACV63C,WAAY,IACZ53C,WAAY,MAGf7F,KAASlP,KAgFd,OAxGA,qBAAU45C,EAAM30C,GA2BhB20C,EAAKh6C,UAAU+P,OAAS,SAAU2W,EAAO0b,GACvC,IAAI98B,EAAQlF,KAERkR,EAAQlR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,UACxC9L,EAAMnR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,QACtC2vC,EAAiB5qB,EAAMuL,WAC3BvtC,KAAKstC,UAAUp8B,EAAOC,EAAKy7C,GAC3B,IAAIl5C,EAAO1T,KAAKid,IAAI,QAEhBvJ,EAAK0E,SAAW1E,EAAKm5C,SACvB7sD,KAAK8sD,SAAS57C,EAAOC,EAAKy7C,GAG5BA,EAAe3vC,IAAI,YAAY/U,SAAQ,SAAUojB,GAC/CA,EAAMrZ,KAAO,kBACb/M,EAAM+X,IAAI,eAAiBqO,EAAMhC,UAAU,aAAcpkB,EAAM+X,IAAI,kBAErEjd,KAAKqQ,IAAI,KAAMu8C,IAGjBhT,EAAKh6C,UAAU0tC,UAAY,SAAUp8B,EAAOC,EAAK6wB,GAC/C,IAAI5lB,EAAO,CAAC,CAAC,IAAKlL,EAAMtC,EAAGsC,EAAMrC,GAAI,CAAC,IAAKsC,EAAIvC,EAAGuC,EAAItC,IACtDmzB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,UAAS,CACdjI,KAAMA,GACLpc,KAAKid,IAAI,QAAQ1Y,UAIxBq1C,EAAKh6C,UAAUktD,SAAW,SAAU57C,EAAOC,EAAK6wB,GAC9C,IAAI+qB,EAAU/sD,KAAKid,IAAI,QACnBzG,EAAWu2C,EAAQv2C,SACnB3B,EAAYk4C,EAAQxoD,OAAS,GAC7BqrB,EAAU,EAEG,UAAbpZ,EACFoZ,EAAU,EACY,WAAbpZ,EACToZ,EAAU,IACA,SAAQpZ,IAAa,YAAWA,EAAU,KACpDoZ,EAAUmE,SAASvd,EAAU,IAAM,IAC1B,YAAWA,IAAaA,GAAY,GAAKA,EAAW,IAC7DoZ,EAAUpZ,GAGZ,IAAItH,EAAM,CACRN,EAAGsC,EAAMtC,GAAKuC,EAAIvC,EAAIsC,EAAMtC,GAAKghB,EACjC/gB,EAAGqC,EAAMrC,GAAKsC,EAAItC,EAAIqC,EAAMrC,GAAK+gB,EACjClc,KAAMq5C,EAAQF,SAehB,GAZIE,EAAQziB,UAEVp7B,EAAIN,GAAKm+C,EAAQziB,SAGfyiB,EAAQxiB,UAEVr7B,EAAIL,GAAKk+C,EAAQxiB,SAGnB,UAASr7B,EAAK2F,GAEVk4C,EAAQrzC,YAAc,SAAQ7E,EAAUqN,QAAS,CAEnD,IAAI7D,EAAQ,GAAKynB,QAAQ,CAAC30B,EAAIvC,EAAIsC,EAAMtC,EAAGuC,EAAItC,EAAIqC,EAAMrC,GAAI,CAAC,EAAG,GAAI,GACrEK,EAAIgT,OAAS7D,OACH,SAAQxJ,EAAUqN,UAE5BhT,EAAIgT,OAASrN,EAAUqN,OAAShE,KAAKK,GAAK,KAG5CyjB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAOnV,KAIJ0qC,EAzGT,CA0GE,ICrDa,GAvDf,SAAU30C,GAGR,SAAS+nD,EAAK99C,GACZ,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,OACNqQ,SAAU,KACVq2C,QAAS,KACTtoD,MAAO,CACLoO,KAAM,OACNmC,SAAU,GACV63C,WAAY,IACZh5C,UAAW,WAEZzE,KAASlP,KAsCd,OAnDA,qBAAUgtD,EAAM/nD,GAgBhB+nD,EAAKptD,UAAU+P,OAAS,SAAU2W,EAAO0b,GACvC,IAAIzuB,EAAQvT,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,aAExCpI,EAAY,SAAQ7U,KAAKid,IAAI,UAE7BqtB,EAAUtqC,KAAKid,IAAI,WACnBstB,EAAUvqC,KAAKid,IAAI,WAEnBqtB,IACF/2B,EAAM3E,GAAK07B,GAGTC,IACFh3B,EAAM1E,GAAK07B,GAGT11B,EAAUqN,SACZrN,EAAUqN,OAASrN,EAAUqN,OAAShE,KAAKK,GAAK,KAGlD,IAAI0uC,EAAYjrB,EAAMtV,SAAS,OAAQ,CACrCjU,OAAQzY,KAAKid,IAAI,UACjBoH,MAAO,UAAS,CACd3Q,KAAM1T,KAAKid,IAAI,YACdpI,EAAWtB,KAEhB05C,EAAUh7C,KAAO,kBAEbjS,KAAKid,IAAI,eACXgwC,EAAU3jC,UAAU,aAActpB,KAAKid,IAAI,eAG7Cjd,KAAKqQ,IAAI,KAAM48C,IAGVD,EApDT,CAqDE,ICMa,GA1Df,SAAU/nD,GAGR,SAASioD,EAAIh+C,GACX,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,MACN+K,MAAO,KACPC,IAAK,KACL5M,MAAO,CACLuO,OAAQ,OACRJ,UAAW,IAEZxD,KAASlP,KA2Cd,OAtDA,qBAAUktD,EAAKjoD,GAcfioD,EAAIttD,UAAU+P,OAAS,SAAU2W,EAAO0b,GACtC,IAAImrB,EAAcntD,KAAKid,IAAI,SACvBmwC,EAAYptD,KAAKid,IAAI,OACrB/L,EAAQlR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,UACxC9L,EAAMnR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,QACtCowC,EAAc/mC,EAAMM,YACpBpT,EAAS0K,KAAKmE,MAAMnR,EAAMtC,EAAIy+C,EAAYz+C,IAAMsC,EAAMtC,EAAIy+C,EAAYz+C,IAAMsC,EAAMrC,EAAIw+C,EAAYx+C,IAAMqC,EAAMrC,EAAIw+C,EAAYx+C,IAC9HuN,EAAO,CAAC,CAAC,IAAKlL,EAAMtC,EAAGsC,EAAMrC,IAEjC,GAAI,iBAAgBqC,EAAMtC,EAAGuC,EAAIvC,IAAM,iBAAgBsC,EAAMrC,EAAGsC,EAAItC,GAC9D,WAAUs+C,EAAaC,GAEzBE,QAAQC,KAAK,yCAEbnxC,EAAO,CAAC,CAAC,IAAKlL,EAAMtC,EAAGsC,EAAMrC,GAAI,CAAC,IAAK2E,EAAQA,EAAQ,EAAG,EAAG,EAAG,EAAI65C,EAAYz+C,EAAIsC,EAAMtC,EAAG,EAAIy+C,EAAYx+C,EAAIqC,EAAMrC,GAAI,CAAC,IAAK2E,EAAQA,EAAQ,EAAG,EAAG,EAAGtC,EAAMtC,EAAGsC,EAAMrC,QAEtK,CAIL,IACI2+C,EADS,GAAK1nB,QAAQ,CAACunB,EAAYz+C,EAAIsC,EAAMtC,EAAGy+C,EAAYx+C,EAAIqC,EAAMrC,GAAI,CAACw+C,EAAYz+C,EAAIuC,EAAIvC,EAAGy+C,EAAYx+C,EAAIsC,EAAItC,GAAI,GACtGqP,KAAKK,GAAK,EAAI,EACtCnC,EAAO,CAAC,CAAC,IAAKlL,EAAMtC,EAAGsC,EAAMrC,GAAI,CAAC,IAAK2E,EAAQA,EAAQ,EAAGg6C,EAAU,EAAGr8C,EAAIvC,EAAGuC,EAAItC,IAGpF,IAAI4+C,EAAWzrB,EAAMtV,SAAS,OAAQ,CACpCjU,OAAQzY,KAAKid,IAAI,UACjBoH,MAAO,UAAS,CACdjI,KAAMA,GACLpc,KAAKid,IAAI,YAEdwwC,EAASx7C,KAAO,iBAEZjS,KAAKid,IAAI,eACXwwC,EAASnkC,UAAU,aAActpB,KAAKid,IAAI,eAG5Cjd,KAAKqQ,IAAI,KAAMo9C,IAGVP,EAvDT,CAwDE,IChBa,GAzCf,SAAUjoD,GAGR,SAASyoD,EAAOx+C,GAEd,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,SACNsS,OAAQ,EACRvH,MAAO,KACPC,IAAK,KACL5M,MAAO,CACLmO,UAAW,EACXC,KAAM,UACNkB,QAAS,KAEV3E,KAASlP,KAuBd,OArCA,qBAAU0tD,EAAQzoD,GAiBlByoD,EAAO9tD,UAAU+P,OAAS,SAAU2W,EAAO0b,GACzC,IAAI1oB,EAAYtZ,KAAKid,IAAI,SACrBb,EAAOpc,KAAK2tD,QAAQrnC,GACpBsnC,EAAc5rB,EAAMtV,SAAS,OAAQ,CACvCjU,OAAQzY,KAAKid,IAAI,UACjBoH,MAAO,UAAS,CACdjI,KAAMA,GACL9C,KAELs0C,EAAY37C,KAAO,oBACnBjS,KAAKid,IAAI,eAAiB2wC,EAAYtkC,UAAU,aAActpB,KAAKid,IAAI,eACvEjd,KAAKqQ,IAAI,KAAMu9C,IAGjBF,EAAO9tD,UAAU+tD,QAAU,SAAUrnC,GACnC,IAAIpV,EAAQlR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,UACxC9L,EAAMnR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,QAC1C,MAAO,CAAC,CAAC,IAAK/L,EAAMtC,EAAGsC,EAAMrC,GAAI,CAAC,IAAKsC,EAAIvC,EAAGsC,EAAMrC,GAAI,CAAC,IAAKsC,EAAIvC,EAAGuC,EAAItC,GAAI,CAAC,IAAKqC,EAAMtC,EAAGuC,EAAItC,GAAI,CAAC,OAGhG6+C,EAtCT,CAuCE,ICUa,GAlDf,SAAUzoD,GAGR,SAAS4oD,EAAM3+C,GAEb,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,QACN+K,MAAO,KACPC,IAAK,KACL28C,IAAK,IACJ5+C,KAASlP,KAqCd,OA9CA,qBAAU6tD,EAAO5oD,GAYjB4oD,EAAMjuD,UAAU+P,OAAS,SAAU2W,EAAO0b,GACxC,IAAI9wB,EAAQlR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,UACxC/N,EAAM,CACRN,EAAGsC,EAAMtC,EACTC,EAAGqC,EAAMrC,EACTk/C,IAAK/tD,KAAKid,IAAI,QAGhB,GAAKjd,KAAKid,IAAI,OAGP,CACL,IAAI9L,EAAMnR,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,QAC1C/N,EAAI1K,MAAQ2M,EAAIvC,EAAIsC,EAAMtC,EAC1BM,EAAIJ,OAASqC,EAAItC,EAAIqC,EAAMrC,OAL3BK,EAAI1K,MAAQxE,KAAKid,IAAI,UAAY,GACjC/N,EAAIJ,OAAS9O,KAAKid,IAAI,WAAa,GAOjCjd,KAAKid,IAAI,aACX/N,EAAIN,GAAK5O,KAAKid,IAAI,YAGhBjd,KAAKid,IAAI,aACX/N,EAAIL,GAAK7O,KAAKid,IAAI,YAGpB,IAAI+wC,EAAWhsB,EAAMtV,SAAS,QAAS,CACrCjU,OAAQ,EACR4L,MAAOnV,IAET8+C,EAAS/7C,KAAO,mBAChBjS,KAAKid,IAAI,eAAiB+wC,EAAS1kC,UAAU,aAActpB,KAAKid,IAAI,eACpEjd,KAAKqQ,IAAI,KAAM29C,IAGVH,EA/CT,CAgDE,IC4Ca,GA1Ff,SAAU5oD,GAGR,SAASgpD,EAAK/+C,GAEZ,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,OACNsS,OAAQ,EACRjC,SAAU,KACVmD,OAAQ,SACRC,OAAQ,SACR0wB,QAAS,KACTC,QAAS,KACT9yB,KAAM,MACLvI,KAASlP,KAyEd,OAtFA,qBAAUiuD,EAAMhpD,GAgBhBgpD,EAAKruD,UAAU+P,OAAS,SAAU2W,EAAO5X,GACvC,IAAI8H,EAAWxW,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,aAC3CsxB,EAAa7/B,EAAUuO,IAAI,UAAUA,IAAI,MAAMsxB,WAC/C2f,EAAc,aAAkB,wCACpC3f,EAAWF,YAAY6f,GACvB,IAAIz2C,EAAOzX,KAAKid,IAAI,QAEhB,cAAaxF,KAGfA,EAAOA,EAFOzX,KAAKid,IAAI,WACTjd,KAAKid,IAAI,aAKzB,IAAIkxC,EAAW,aAAY12C,GAAQA,EAAO,aAAkBA,GAC5Dy2C,EAAY7f,YAAY8f,GACxB,aAAkBD,EAAa,CAC7B13C,SAAU,aAEZxW,KAAKouD,eAAeF,EAAaC,EAAU33C,GAC3CxW,KAAKqQ,IAAI,KAAM69C,IAGjBD,EAAKruD,UAAUmQ,MAAQ,WAErB,IAAIo8C,EAAKnsD,KAAKid,IAAI,MAClBkvC,GAAMA,EAAG5d,YAAc4d,EAAG5d,WAAWoE,YAAYwZ,IAGnD8B,EAAKruD,UAAUwuD,eAAiB,SAAUC,EAAWC,EAAU/6C,GAC7D,IAAIoG,EAAS3Z,KAAKid,IAAI,UAClBrD,EAAS5Z,KAAKid,IAAI,UAClBsxC,EAAW,iBAAsBD,GACjCE,EAAY,kBAAuBF,GACnC93C,EAAW,CACb5H,EAAG2E,EAAM3E,EACTC,EAAG0E,EAAM1E,GAGI,WAAX8K,EACFnD,EAAS5H,GAAKsP,KAAKgS,MAAMq+B,EAAW,GAChB,UAAX50C,IACTnD,EAAS5H,GAAKsP,KAAKgS,MAAMq+B,IAGZ,WAAX30C,EACFpD,EAAS3H,GAAKqP,KAAKgS,MAAMs+B,EAAY,GACjB,WAAX50C,IACTpD,EAAS3H,GAAKqP,KAAKgS,MAAMs+B,IAG3B,IAAIlkB,EAAUtqC,KAAKid,IAAI,WAEnBqtB,IACF9zB,EAAS5H,GAAK07B,GAGhB,IAAIC,EAAUvqC,KAAKid,IAAI,WAEnBstB,IACF/zB,EAAS3H,GAAK07B,GAGhB,aAAkB8jB,EAAW,CAC3B93C,IAAK2H,KAAKgS,MAAM1Z,EAAS3H,GAAK,KAC9B6H,KAAMwH,KAAKgS,MAAM1Z,EAAS5H,GAAK,KAC/B6J,OAAQzY,KAAKid,IAAI,aAIdgxC,EAvFT,CAwFE,ICsGa,GA/Lf,SAAUhpD,GAGR,SAASwpD,EAAWv/C,GAElB,OAAOjK,EAAOnF,KAAKE,KAAM,WAAU,CACjCmG,KAAM,aACNsS,OAAQ,EACRjC,SAAU,KACVjD,MAAO,CACL6E,SAAS,EACT7T,MAAO,CACL2U,EAAG,EACHvG,KAAM,UACNG,OAAQ,UACRJ,UAAW,IAGfU,KAAM,CACJgF,SAAS,EACT6B,WAAY,GACZ1V,MAAO,CACLuO,OAAQ,UACRJ,UAAW,IAGfgB,KAAM,CACJ0E,SAAS,EACT7T,MAAO,CACLoO,KAAM,UACNkB,QAAS,IACTiB,SAAU,GACVnB,UAAW,UAGfoG,UAAW,SACXC,YAAY,GACX9K,KAASlP,KAuJd,OA3LA,qBAAUyuD,EAAYxpD,GAuCtBwpD,EAAW7uD,UAAU+P,OAAS,SAAU2W,EAAO0b,GAC7C,IASIyL,EACA+X,EAVAtgD,EAAQlF,KAERuT,EAAQvT,KAAKqsD,WAAW/lC,EAAOtmB,KAAKid,IAAI,aAExCuyB,EAAcxN,EAAMuL,WACpBmhB,EAAY1uD,KAAK2uD,mBAAmBp7C,GACpC6iC,EAAUp2C,KAAKid,IAAI,QACnB2xC,EAAW5uD,KAAKid,IAAI,SACpB8vC,EAAU/sD,KAAKid,IAAI,QAIvB,GAAIm5B,EAAQh+B,QAAS,CACnB,IAAIy2C,EAAWH,EAAUt7C,KACzBq6B,EAAYztC,KAAK8uD,SAASD,EAAUrf,GAItC,GAAIud,EAAQ30C,SAAW20C,EAAQF,QAAS,CACtC,IAAIkC,EAAeL,EAAUh7C,KAC7B8xC,EAAYxlD,KAAK8sD,SAASiC,EAAcvf,GAI1C,GAAIof,EAASx2C,QAAS,CACpB,IAAI42C,EAAiBN,EAAUn7C,MAC/BvT,KAAKivD,UAAUD,EAAgBxf,GAGjC,GAAIxvC,KAAKid,IAAI,cAAe,CAC1B,IAAI4tB,EAAO2E,EAAYvmB,UACnBV,EAAOsiB,EAAKtiB,KACZE,EAAOoiB,EAAKpiB,KACZD,EAAOqiB,EAAKriB,KACZE,EAAOmiB,EAAKniB,KACZxX,EAAQoV,EAAMpV,MACdC,EAAMmV,EAAMnV,IAEhB,GAAIq0C,EAAW,CACTj9B,GAAQrX,EAAMtC,GAEhB42C,EAAUp9B,KAAK,YAAa,SAG1BI,GAAQrX,EAAIvC,GAEd42C,EAAUp9B,KAAK,YAAa,OAG9B,IAAIrO,EAAY/Z,KAAKid,IAAI,aAEzB,GAAkB,WAAdlD,GAA0B0O,GAAQtX,EAAItC,GAAmB,WAAdkL,GAA0B2O,GAAQxX,EAAMrC,EAAG,CAExF,IAAI+E,OAAe,EACfs7C,OAAM,EAEQ,WAAdn1C,GAA0B0O,GAAQtX,EAAItC,GACxC+E,EAAe,MACfs7C,EAAM,IAENt7C,EAAe,SACfs7C,GAAO,GAGT1J,EAAUp9B,KAAK,eAAgBxU,GAC/B,IAAIqG,EAAa,EAEjB,GAAIm8B,EAAQh+B,QAAS,CACnB6B,EAAam8B,EAAQn8B,WACrB,IAAIk1C,EAAW,CAAC,CAAC,IAAK57C,EAAM3E,EAAG2E,EAAM1E,GAAI,CAAC,IAAK0E,EAAM3E,EAAG2E,EAAM1E,EAAIoL,EAAai1C,IAC/EzhB,EAAUrlB,KAAK,OAAQ+mC,GAGzB,IAAIvpB,EAAOryB,EAAM1E,GAAKoL,EAAa,GAAKi1C,EACxC1J,EAAUp9B,KAAK,IAAKwd,KAM1B4J,EAAYvyB,IAAI,YAAY/U,SAAQ,SAAUojB,GAC5CA,EAAMrZ,KAAO,yBACb/M,EAAM+X,IAAI,eAAiBqO,EAAMhC,UAAU,aAAcpkB,EAAM+X,IAAI,kBAErEjd,KAAKqQ,IAAI,KAAMm/B,IAGjBif,EAAW7uD,UAAU+uD,mBAAqB,SAAUn4C,GAClD,IAAI5H,EAAI4H,EAAS5H,EACbC,EAAI2H,EAAS3H,EACboL,EAAaja,KAAKid,IAAI,QAAQ7E,QAAUpY,KAAKid,IAAI,QAAQhD,WAAa,EACtEF,EAAY/Z,KAAKid,IAAI,aACTjd,KAAKid,IAAI,QAAQ1Y,MACvBqP,aAA6B,WAAdmG,EAAyB,SAAW,MAC7D,IAAIm1C,EAAoB,WAAdn1C,GAA0B,EAAI,EAiBxC,MAAO,CACLxG,MAjBmB,CACnB3E,EAAGA,EACHC,EAAGA,GAgBHuE,KAAM,CAdQ,CACdxE,EAAGA,EACHC,EAAGA,GAES,CACZD,EAAGA,EACHC,EAAGoL,EAAai1C,EAAMrgD,IAStB6E,KAPiB,CACjB9E,EAAGA,EACHC,GAAIoL,EAAa,GAAKi1C,EAAMrgD,KAShC4/C,EAAW7uD,UAAUkvD,SAAW,SAAUD,EAAUlzB,GAClD,IAAIniB,EAAYxZ,KAAKid,IAAI,QAAQ1Y,MAC7B4qD,EAAW,CAAC,CAAC,IAAKN,EAAS,GAAGjgD,EAAGigD,EAAS,GAAGhgD,GAAI,CAAC,IAAKggD,EAAS,GAAGjgD,EAAGigD,EAAS,GAAGhgD,IAMtF,OALgB8sB,EAAEjP,SAAS,OAAQ,CACjCrI,MAAO,UAAS,CACdjI,KAAM+yC,GACL31C,MAKPi1C,EAAW7uD,UAAUktD,SAAW,SAAUt2C,EAAUmlB,GAClD,IAAIoxB,EAAU/sD,KAAKid,IAAI,QAMvB,OALgB0e,EAAEjP,SAAS,OAAQ,CACjCrI,MAAO,UAAS,CACd3Q,KAAMq5C,EAAQF,SACbE,EAAQxoD,MAAOiS,MAKtBi4C,EAAW7uD,UAAUqvD,UAAY,SAAUz4C,EAAUmlB,GACnD,IAAIyzB,EAAapvD,KAAKid,IAAI,SAAS1Y,MAInC,OAHiBo3B,EAAEjP,SAAS,SAAU,CACpCrI,MAAO,UAAS,GAAI+qC,EAAY54C,MAK7Bi4C,EA5LT,CA6LE,IC3Da,GAjIf,SAAUxpD,GAGR,SAASoqD,EAAWngD,GAElB,OAAOjK,EAAOnF,KAAKE,KAAM,WAAU,CACjCmG,KAAM,aACN+K,MAAO,KACPC,IAAK,KACLF,OAAQ,CACNgJ,WAAY,EACZ1V,MAAO,CACLmO,UAAW,EACXC,KAAM,UACNkB,QAAS,MAGbH,KAAM,CACJ0E,SAAS,EACTy0C,QAAS,GACTtoD,MAAO,CACLoP,UAAW,SACXC,aAAc,SACdkB,SAAU,GACVnC,KAAM,wBAGTzD,KAASlP,KAmGd,OA7HA,qBAAUqvD,EAAYpqD,GA6BtBoqD,EAAWzvD,UAAU+P,OAAS,SAAU2W,EAAO0b,EAAOviB,GACpD,IAAIva,EAAQlF,KAERsvD,EAAYtvD,KAAKid,IAAI,UACrB8vC,EAAU/sD,KAAKid,IAAI,QACnBhD,EAAaq1C,EAAUr1C,WACvBs1C,EAAavvD,KAAKwvD,cAAclpC,EAAO7G,GAE3C,GAAK8vC,EAAW9vD,OAAhB,CAIA,IAAIgwD,EAAazvD,KAAKipB,QAAQsmC,GAC1BnzC,EAAO,GACXA,EAAK5L,KAAK,CAAC,IAAK++C,EAAW,GAAG3gD,EAAG6gD,EAAWhnC,KAAOxO,IAEnD,IAAK,IAAI1a,EAAI,EAAGse,EAAM0xC,EAAW9vD,OAAQF,EAAIse,EAAKte,IAAK,CACrD,IAAIc,EAAI,CAAC,IAAKkvD,EAAWhwD,GAAGqP,EAAG2gD,EAAWhwD,GAAGsP,GAC7CuN,EAAK5L,KAAKnQ,GAGZ+b,EAAK5L,KAAK,CAAC,IAAK++C,EAAWA,EAAW9vD,OAAS,GAAGmP,EAAG6gD,EAAWhnC,KAAOxO,IACvE,IAAI2zC,EAAc5rB,EAAMuL,WACxBqgB,EAAYlhC,SAAS,OAAQ,CAC3BrI,MAAO,OAAM,CACXjI,KAAMA,GACLkzC,EAAU/qD,SAGXwoD,EAAQ30C,SAAW20C,EAAQF,SAC7Be,EAAYlhC,SAAS,OAAQ,CAC3BrI,MAAO,OAAM,CACXzV,GAAI6gD,EAAWlnC,KAAOknC,EAAWjnC,MAAQ,EACzC3Z,EAAG4gD,EAAWhnC,KAAOxO,EACrBvG,KAAMq5C,EAAQF,SACbE,EAAQxoD,SAKfqpD,EAAY3wC,IAAI,YAAY/U,SAAQ,SAAUojB,GAC5CA,EAAMrZ,KAAO,yBACb/M,EAAM+X,IAAI,eAAiBqO,EAAMhC,UAAU,aAAcpkB,EAAM+X,IAAI,kBAErEjd,KAAKqQ,IAAI,KAAMu9C,KAGjByB,EAAWzvD,UAAU4vD,cAAgB,SAAUlpC,EAAO7G,GAapD,IAZA,IASIiwC,EATAx+C,EAAQlR,KAAKid,IAAI,SACjB9L,EAAMnR,KAAKid,IAAI,OAEf6iB,EAAS,QAAO,UAAS9/B,KAAKid,IAAI,aAAa2qB,MAE/C7H,EAAS,QAAO,UAAS//B,KAAKid,IAAI,aAAa2qB,MAE/C+nB,EAAc,WAAUz+C,GAASA,EAAM,GAAKA,EAAM4uB,GAClD8vB,EAAY,WAAUz+C,GAAOA,EAAI,GAAKA,EAAI2uB,GAE1ClP,EAAM,GAEDrxB,EAAI,EAAGse,EAAM4B,EAAKhgB,OAAQF,EAAIse,EAAKte,IAAK,CAC/C,IAAI+H,EAAOmY,EAAKlgB,GAWhB,GATI+H,EAAKw4B,KAAY6vB,IACnBD,EAAanwD,GAGXA,GAAKmwD,GACP9+B,EAAIpgB,KAAKxQ,KAAKqsD,WAAW/lC,EAAO,CAAChf,EAAKw4B,GAASx4B,EAAKy4B,MAIlDz4B,EAAKw4B,KAAY8vB,EACnB,MAIJ,OAAOh/B,GAGTy+B,EAAWzvD,UAAUqpB,QAAU,SAAUxJ,GAIvC,IAHA,IAAIknB,EAAK,GACLC,EAAK,GAEArnC,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAC/BonC,EAAGn2B,KAAKiP,EAAKlgB,GAAGqP,GAChBg4B,EAAGp2B,KAAKiP,EAAKlgB,GAAGsP,GAGlB,IAAIghD,EAAS,YAAWlpB,GAEpBmpB,EAAS,YAAWlpB,GAExB,OAAO,QAAKmpB,UAAUF,EAAOpgC,IAAKqgC,EAAOrgC,IAAKogC,EAAOlqC,IAAKmqC,EAAOnqC,MAG5D0pC,EA9HT,CA+HE,ICFa,GA9Hf,WACE,SAASW,EAAqBC,GAC5BjwD,KAAKuO,QAAU,GACfvO,KAAKkwD,YAAc,GAEnB,UAASlwD,KAAMiwD,GAsHjB,OAjHAD,EAAqBpwD,UAAUgQ,IAAM,SAAUzJ,EAAMgqD,EAAW55C,QAClD,IAARA,IACFA,GAAM,GAGR,IAAI65C,EAAW,cAAajqD,GAW5B,OATK,EAAWiqD,GAGdpwD,KAAKuO,QAAQiC,KAAK,oBAAS,CACzB+F,IAAKA,EACLpQ,KAAMA,GACLgqD,IALH7C,QAAQpwB,MAAM,cAAgB/2B,EAAO,eAQhCnG,MAKTgwD,EAAqBpwD,UAAUqd,IAAM,SAAUvM,GAC7C,OAAO1Q,KAAKkwD,YAAYx/C,IAG1Bs/C,EAAqBpwD,UAAU+P,OAAS,SAAU2W,GAChD,IAAIphB,EAAQlF,KAEZA,KAAKsmB,MAAQA,EACb,IAAIvY,EAAO/N,KAAK+N,KACZsiD,EAAWtiD,GAAQA,EAAKkP,IAAI,gBAChCjd,KAAKswD,oBAEL,QAAOtwD,KAAKkwD,aAAa,SAAUK,GAC7BA,EAAItzC,IAAI,OACVszC,EAAI5gD,OAAO2W,EAAOphB,EAAMuqC,iBAAkB4gB,GAE1CE,EAAI5gD,OAAO2W,EAAOphB,EAAM4mB,gBAAiBukC,OAO/CL,EAAqBpwD,UAAUsd,cAAgB,SAAUF,GACvD,QAAOhd,KAAKkwD,aAAa,SAAUK,GACjCA,EAAIrzC,cAAcF,OAMtBgzC,EAAqBpwD,UAAUmQ,MAAQ,WACrC/P,KAAK0pC,QACL1pC,KAAKuO,QAAU,GACfvO,KAAK8rB,iBAAmB9rB,KAAK8rB,gBAAgB3b,SAC7CnQ,KAAKyvC,kBAAoBzvC,KAAKyvC,iBAAiBt/B,UAKjD6/C,EAAqBpwD,UAAU8pC,MAAQ,WACrC,QAAO1pC,KAAKkwD,aAAa,SAAUK,GACjCA,EAAIxgD,WAGN/P,KAAKkwD,YAAc,IAKrBF,EAAqBpwD,UAAU4wD,QAAU,WACvC,IAAItrD,EAAQlF,KAEZ,IAAIA,KAAKsmB,QAAStmB,KAAK+N,KAiBrB,MAAM,IAAI6H,MAAM,qBAhBhB,IAAI0X,EAAUttB,KAAKsmB,MACfmqC,EAAazwD,KAAK+N,KAAKkP,IAAI,gBAE/B,QAAOjd,KAAKkwD,aAAa,SAAUK,GACjCA,EAAIxgD,QAEAwgD,EAAItzC,IAAI,OACVszC,EAAI5gD,OAAO2d,EAASpoB,EAAMuqC,iBAAkBghB,GAE5CF,EAAI5gD,OAAO2d,EAASpoB,EAAM4mB,gBAAiB2kC,MAIlCzwD,KAAK+N,KAAKkP,IAAI,UACpBnN,QAMXkgD,EAAqBpwD,UAAU0wD,kBAAoB,WACjD,IAAIprD,EAAQlF,KAEZ,QAAOA,KAAKuO,SAAS,SAAUk7B,GAC7B,IAAItjC,EAAOsjC,EAAOtjC,KACdoQ,EAAMkzB,EAAOlzB,IACbpV,EAAS,kBAAOsoC,EAAQ,CAAC,OAAQ,QAEjC8mB,EAAM,IAAI,EAAW,cAAapqD,KAAO,WAAU,GAAI,oBAAS,CAClE8lD,QAAS/mD,EAAM+mD,QACfC,QAAShnD,EAAMgnD,SACd,OAAMhnD,EAAMyQ,MAAO,cAAgBxP,GAAQjB,EAAMyQ,MAAM8D,WAAWtT,GAAQ,IAAKhF,IAClFovD,EAAIlgD,IAAI,MAAOkG,GAEfrR,EAAMgrD,YAAY1/C,KAAK+/C,OAIpBP,EA3HT,G,UCgBA,SAASU,GAAgBpqC,EAAO/S,GAC9B,IAAIoT,EAASL,EAAMM,YAEnB,OADQ1I,KAAKmE,KAAKnE,KAAKyZ,IAAIpkB,EAAM3E,EAAI+X,EAAO/X,EAAG,GAAKsP,KAAKyZ,IAAIpkB,EAAM1E,EAAI8X,EAAO9X,EAAG,IAInF,SAAS8hD,GAAY//B,EAAKtK,GAGxB,IAFA,IAAI4R,EAAM,CAACtH,EAAI,IAENrxB,EAAI,EAAGse,EAAM+S,EAAInxB,OAAQF,EAAIse,EAAKte,GAAQ,EAAG,CACpD,IAAIgU,EAAQ+S,EAAMoH,aAAa,CAC7B9e,EAAGgiB,EAAIrxB,GACPsP,EAAG+hB,EAAIrxB,EAAI,KAEb24B,EAAI1nB,KAAK+C,EAAM3E,EAAG2E,EAAM1E,GAG1B,OAAOqpB,EA2IF,SAAS04B,GAAkBlyC,EAAKC,EAAGkyC,GAIxC,IAHA,IAAIC,IAAWnyC,EACXoyC,EAAY,GAEPxxD,EAAI,EAAG+f,EAAIZ,EAAIjf,OAAQF,EAAI+f,EAAG/f,GAAK,EAC1CwxD,EAAUvgD,KAAK,CAACkO,EAAInf,GAAImf,EAAInf,EAAI,KAGlC,IAGIyxD,EACAC,EACA5wD,EALA6wD,EAjFoB,SAAsB5oC,EAAQjO,EAAQy2C,EAAQD,GACtE,IACIM,EACAC,EAEA3hC,EACA9J,EALA0rC,EAAM,GAGNC,IAAkBT,EAItB,GAAIS,EAAe,CACjB7hC,EAAM,CAACmJ,IAAUA,KACjBjT,EAAM,EAAEiT,KAAWA,KAEnB,IAAK,IAAIr5B,EAAI,EAAG+f,EAAIgJ,EAAO7oB,OAAQF,EAAI+f,EAAG/f,IAAK,CAC7C,IAAIgU,EAAQ+U,EAAO/oB,GACnBkwB,EAAM,GAAQA,IAAI,GAAIA,EAAKlc,GAC3BoS,EAAM,GAAQA,IAAI,GAAIA,EAAKpS,GAG7Bkc,EAAM,GAAQA,IAAI,GAAIA,EAAKohC,EAAW,IACtClrC,EAAM,GAAQA,IAAI,GAAIA,EAAKkrC,EAAW,IAG/BtxD,EAAI,EAAb,IAAK,IAAWse,EAAMyK,EAAO7oB,OAAQF,EAAIse,EAAKte,IAAK,CAC7CgU,EAAQ+U,EAAO/oB,GAEnB,GAAIuxD,EACFK,EAAY7oC,EAAO/oB,EAAIA,EAAI,EAAIse,EAAM,GACrCuzC,EAAY9oC,GAAQ/oB,EAAI,GAAKse,OACxB,CACL,GAAU,IAANte,GAAWA,IAAMse,EAAM,EAAG,CAC5BwzC,EAAI7gD,KAAK+C,GACT,SAEA49C,EAAY7oC,EAAO/oB,EAAI,GACvB6xD,EAAY9oC,EAAO/oB,EAAI,GAI3B,IAAI+d,EAAI,GACRA,EAAI,GAAQi0C,IAAIj0C,EAAG8zC,EAAWD,GAC9B7zC,EAAI,GAAQqQ,MAAMrQ,EAAGA,EAAGjD,GACxB,IAAIm3C,EAAK,GAAQC,SAASl+C,EAAO49C,GAC7BO,EAAK,GAAQD,SAASl+C,EAAO69C,GAC7BO,EAAMH,EAAKE,EAEH,IAARC,IACFH,GAAMG,EACND,GAAMC,GAGR,IAAI5zC,EAAK,GAAQ4P,MAAM,GAAIrQ,GAAIk0C,GAC3BxzC,EAAK,GAAQ2P,MAAM,GAAIrQ,EAAGo0C,GAC1BE,EAAM,GAAQhiD,IAAI,GAAI2D,EAAOwK,GAC7BizC,EAAM,GAAQphD,IAAI,GAAI2D,EAAOyK,GAE7BszC,IACFM,EAAM,GAAQjsC,IAAI,GAAIisC,EAAKniC,GAC3BmiC,EAAM,GAAQniC,IAAI,GAAImiC,EAAKjsC,GAC3BqrC,EAAM,GAAQrrC,IAAI,GAAIqrC,EAAKvhC,GAC3BuhC,EAAM,GAAQvhC,IAAI,GAAIuhC,EAAKrrC,IAG7B0rC,EAAI7gD,KAAKohD,GACTP,EAAI7gD,KAAKwgD,GAOX,OAJIF,GACFO,EAAI7gD,KAAK6gD,EAAI5rC,SAGR4rC,EAWgB,CAAaN,EAAW,GAAKD,EAAQD,GACxDhzC,EAAMkzC,EAAUtxD,OAChBiyD,EAAK,GAKT,IAASnyD,EAAI,EAAGA,EAAIse,EAAM,EAAGte,IAC3ByxD,EAAME,EAAqB,EAAJ3xD,GACvB0xD,EAAMC,EAAqB,EAAJ3xD,EAAQ,GAC/Bc,EAAI0wD,EAAUxxD,EAAI,GAClBmyD,EAAGlhD,KAAK,CAAC,IAAKwgD,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAI5wD,EAAE,GAAIA,EAAE,KAUxD,OAPIywD,IACFE,EAAME,EAAiBrzC,GACvBozC,EAAMC,EAAiBrzC,EAAM,GAC7Bxd,EAAI0wD,EAAU,GACdW,EAAGlhD,KAAK,CAAC,IAAKwgD,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAI5wD,EAAE,GAAIA,EAAE,MAGjDqxD,EAGF,SAASvb,GAAY7tB,EAAQupC,GAClC,OA7MF,SAAsBvpC,EAAQupC,GAC5B,IAAIz1C,EAAO,GAEX,GAAIkM,EAAO7oB,OAAQ,CACjB,IAAK,IAAIF,EAAI,EAAG0hB,EAAWqH,EAAO7oB,OAAQF,EAAI0hB,EAAU1hB,GAAK,EAAG,CAC9D,IAAI+H,EAAOghB,EAAO/oB,GACduyD,EAAgB,IAANvyD,EAAU,IAAM,IAC9B6c,EAAK5L,KAAK,CAACshD,EAASxqD,EAAKsH,EAAGtH,EAAKuH,IAGnCgjD,GAAcz1C,EAAK5L,KAAK,CAAC,MAG3B,OAAO4L,EAgMA21C,CAAazpC,EAAQupC,GAGvB,SAASG,GAAc1pC,EAAQupC,EAAYI,GAChD,IAAIxyC,EAAO,GACPe,EAAQ8H,EAAO,GACf4pC,EAAW,KAEf,GAAI5pC,EAAO7oB,QAAU,EAEnB,OAAO02C,GAAY7tB,EAAQupC,GAG7B,QAAOvpC,GAAQ,SAAU/U,GAClB2+C,GAAcA,EAAStjD,IAAM2E,EAAM3E,GAAKsjD,EAASrjD,IAAM0E,EAAM1E,IAChE4Q,EAAKjP,KAAK+C,EAAM3E,GAChB6Q,EAAKjP,KAAK+C,EAAM1E,GAChBqjD,EAAW3+C,MAIf,IACI4+C,EAAavB,GAAkBnxC,EAAMoyC,EADxBI,GAAa,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,KAG3C,OADAE,EAAW94B,QAAQ,CAAC,IAAK7Y,EAAM5R,EAAG4R,EAAM3R,IACjCsjD,EAOF,SAASC,GAAc9rC,EAAO/S,GACnC,IAAIoT,EAASL,EAAMM,YACnB,OAAO1I,KAAKm0C,MAAM9+C,EAAM1E,EAAI8X,EAAO9X,EAAG0E,EAAM3E,EAAI+X,EAAO/X,GAwBlD,SAAS0jD,GAAiBhsC,EAAOlK,GACtC,IACIikB,EACAkyB,EACAC,EAHAt6B,EAAM,GA0CV,OApCA,QAAO9b,GAAM,SAAUq2C,EAASnuD,GAG9B,OAFamuD,EAAQ,GAENngD,eACb,IAAK,IACL,IAAK,IACL,IAAK,IACH4lB,EAAI1nB,KAAKmgD,GAAY8B,EAASnsC,IAC9B,MAEF,IAAK,IACH+Z,EAAMjkB,EAAK9X,EAAQ,GACnBiuD,EAAME,EACND,EAAalsC,EAAMa,cAEVqrC,EAAanyB,EAAIA,EAAI5gC,OAAS,KAAO8yD,EAAI,GAAKlyB,EAAIA,EAAI5gC,OAAS,KAAO8yD,EAAI,IAGjFr6B,EAAMA,EAAI72B,OA3PpB,SAA2Bg/B,EAAKkyB,EAAKjsC,GACnC,IAAIa,EAAeb,EAAMa,aACrBV,EAAaH,EAAMG,WACnBC,EAAWJ,EAAMI,SACjBwrC,EAAW,CACbtjD,EAAGyxB,EAAI,GACPxxB,EAAGwxB,EAAI,IAELqyB,EAAW,CACb9jD,EAAG2jD,EAAI,GACP1jD,EAAG0jD,EAAI,IAELpmC,EAAM,GACNwmC,EAAOxrC,EAAe,IAAM,IAC5ByrC,EAAa10C,KAAKsE,IAAIkwC,EAASC,GAAQT,EAASS,KAAUjsC,EAAWD,GACrE1M,EAAY24C,EAASC,IAAST,EAASS,GAAQ,EAAI,EAEnDn0C,EAAOo0C,EAAa10C,KAAKK,GAAK,EAAI,EAElCmP,EAAepH,EAAMoH,aAAaglC,GAElCx5C,EAAIw3C,GAAgBpqC,EAAOoH,GAE/B,GAAIxU,GAAK,GAEP,GAAI05C,IAAyB,EAAV10C,KAAKK,GAAQ,CAC9B,IAAIs0C,EAAc,CAChBjkD,GAAI8jD,EAAS9jD,EAAIsjD,EAAStjD,GAAK,EAC/BC,GAAI6jD,EAAS7jD,EAAIqjD,EAASrjD,GAAK,GAE7BikD,EAAqBxsC,EAAMoH,aAAamlC,GAC5C1mC,EAAI3b,KAAK,CAAC,IAAK0I,EAAGA,EAAG,EAAGsF,EAAMzE,EAAW+4C,EAAmBlkD,EAAGkkD,EAAmBjkD,IAClFsd,EAAI3b,KAAK,CAAC,IAAK0I,EAAGA,EAAG,EAAGsF,EAAMzE,EAAW2T,EAAa9e,EAAG8e,EAAa7e,SAEtEsd,EAAI3b,KAAK,CAAC,IAAK0I,EAAGA,EAAG,EAAGsF,EAAMzE,EAAW2T,EAAa9e,EAAG8e,EAAa7e,IAI1E,OAAOsd,EAqNkB4mC,CAAkB1yB,EAAKkyB,EAAKjsC,IAG7C4R,EAAI1nB,KAAKmgD,GAAY8B,EAASnsC,IAGhC,MAEF,IAAK,IACL,QACE4R,EAAI1nB,KAAKiiD,OA3NjB,SAA8Br2C,GAC5B,QAAOA,GAAM,SAAUq2C,EAASnuD,GAG9B,GAA6B,MAFnBmuD,EAEF,GAAGngD,cAAuB,CAChC,IAAI+tB,EAAMjkB,EAAK9X,EAAQ,GACnBg8B,EAAOlkB,EAAK9X,EAAQ,GAEpBg8B,GAAkC,MAA1BA,EAAK,GAAGhuB,cACd+tB,GAAgC,MAAzBA,EAAI,GAAG/tB,gBAChB+tB,EAAI,GAAK,KAEFA,GAAgC,MAAzBA,EAAI,GAAG/tB,eACnBguB,GAAkC,MAA1BA,EAAK,GAAGhuB,gBAClBguB,EAAK,GAAK,SAkNlB0yB,CAAqB96B,GAGdA,EClTT,IAAI+6B,GAAY,CACdC,OAAQ,KACRC,SAAU,WACR,OAAOnzD,KAAKkzD,QASdE,UAAW,SAAmBh3C,EAAMi3C,GAClC,IAAI/sC,EAAQtmB,KAAKkzD,OACbI,EAAa,GAAyBl3C,GAQ1C,OALEk3C,EADEhtC,EAAME,UAA2B,IAAhB6sC,EACNf,GAAiBhsC,EAAOgtC,GDgOpC,SAA2BhtC,EAAOlK,GACvC,IAAI8b,EAAM,GAmBV,OAjBA,QAAO9b,GAAM,SAAUq2C,GAGrB,OAFaA,EAAQ,GAENngD,eACb,IAAK,IACL,IAAK,IACL,IAAK,IACH4lB,EAAI1nB,KAAKmgD,GAAY8B,EAASnsC,IAC9B,MAEF,IAAK,IACL,QACE4R,EAAI1nB,KAAKiiD,OAKRv6B,EClPUq7B,CAAkBjtC,EAAOgtC,IAW1CjH,WAAY,SAAoB94C,GAE9B,OADYvT,KAAKkzD,OACJxlC,aAAana,IAQ5BigD,YAAa,SAAqBlrC,GAChC,IAAIhC,EAAQtmB,KAAKkzD,OACjB,OAAO5qC,EAAOlkB,KAAI,SAAUmP,GAC1B,OAAO+S,EAAMoH,aAAana,OAQ9BzD,KAAM,cAIJ2jD,GAAmB,CACrBC,OAAQ,GAAO/9C,MAAMuE,MACrBg5C,OAAQ,KACRS,sBAAuB,SAA+BC,EAAWC,EAAY3kD,GAC3E,IAAIyG,EAAQ3V,KAAK0zD,OACbI,EAAc9zD,KAAKiS,KAEvB,GAAI0D,GAASA,EAAMm+C,IAAgBn+C,EAAMm+C,GAAaF,GAAY,CAChE,IAAIrvD,EAAQoR,EAAMm+C,GAAaF,GAAWC,GAM1C,OAJI,cAAatvD,KACfA,EAAQA,EAAM2K,IAGT3K,IAGXwvD,iBAAkB,KAClBC,SAAU,SAAkB1tC,GAC1BtmB,KAAKkzD,OAAS5sC,GAEhBzJ,SAAU,SAAkBlH,GAC1B3V,KAAK0zD,OAAS/9C,GAEhBs+C,SAAU,SAAkB9tD,GAC1B,IACI+T,EAAQla,KADJ,WAAUmG,GAAQA,EAAK,GAAKA,IACbnG,KAAKA,KAAK+zD,kBAEjC,OADA75C,EAAMg5C,OAASlzD,KAAKkzD,OACbh5C,GAETg6C,eAAgB,SAAwB/tD,EAAMguD,GAC5C,IAAIj6C,EAAQla,KAAKi0D,SAAS9tD,GAC1B,OAAO+T,EAAMk6C,UAAYl6C,EAAMk6C,UAAUD,GAAan0D,KAAKq0D,iBAAiBF,IAM9EE,iBAAkB,WAGhB,MAAO,IASTC,eAAgB,SAAwBnuD,EAAMopC,GAC5C,IAAIr1B,EAAQla,KAAKi0D,SAAS9tD,GAE1B,GAAI+T,EAAMo6C,eAAgB,CACxB,IAAIp8C,EAAcgC,EAAMo6C,eAAe/kB,GACnC55B,EAAQ3V,KAAK0zD,OACbE,EAAY15C,EAAMjI,KAClB6hD,EAAc9zD,KAAKiS,KAMvB,OAJI0D,GAASA,EAAMm+C,IAAgBn+C,EAAMm+C,GAAaF,KACpD17C,EAAc,OAAM,GAAIvC,EAAMm+C,GAAaF,GAAWz5C,QAASjC,IAG1DA,IAUXq8C,iBAAkB,SAA0BpuD,EAAMquD,GAChD,IAAIt6C,EAAQla,KAAKi0D,SAAS9tD,GAE1B,OAAI+T,EAAMq6C,iBACDr6C,EAAMq6C,iBAAiBC,GAGzBx0D,KAAK2zD,sBAAsBz5C,EAAMjI,KAAM,WAAYuiD,IAS5DC,eAAgB,SAAwBtuD,EAAMuuD,GAC5C,IAAIx6C,EAAQla,KAAKi0D,SAAS9tD,GAE1B,OAAI+T,EAAMu6C,eACDv6C,EAAMu6C,eAAeC,GAGvB10D,KAAK2zD,sBAAsBz5C,EAAMjI,KAAM,SAAUyiD,IAS1DC,iBAAkB,SAA0BxuD,EAAMyuD,GAChD,IAAI16C,EAAQla,KAAKi0D,SAAS9tD,GAE1B,OAAI+T,EAAMy6C,iBACDz6C,EAAMy6C,iBAAiBC,GAGzB50D,KAAK2zD,sBAAsBz5C,EAAMjI,KAAM,WAAY2iD,IAO5DC,UAAW,SAAmB1uD,EAAM+I,EAAKR,GACvC,IAAIwL,EAAQla,KAAKi0D,SAAS9tD,GAEtBytD,EAAY15C,EAAMjI,KAClB0D,EAAQ3V,KAAK0zD,OACbI,EAAc9zD,KAAKiS,KAEvB,GAAI0D,GAASA,EAAMm+C,IAAgBn+C,EAAMm+C,GAAaF,GAAY,CAChE,IAAIkB,EAAoBn/C,EAAMm+C,GAAaF,GAAWz5C,QACtDjL,EAAI3K,MAAQ,OAAM,GAAIuwD,EAAmB5lD,EAAI3K,OAG/C,IAAIwwD,EAAS76C,EAAMpK,KAAKZ,EAAKR,GAS7B,OAPIqmD,IAEFA,EAAOzrC,UAAU,SAAUpa,EAAIi/B,QAC/B4mB,EAAOpmD,GAAKO,EAAI8lD,OAAS9lD,EAAIP,GAAKO,EAAI8lD,OAAS9lD,EAAIP,GACnDomD,EAAO9iD,KAAOjS,KAAKiS,MAGd8iD,IAGPE,GAAkB,GAEf,SAASC,GAAqBC,EAAajmD,GAChD,IAAIlO,EAAY,cAAam0D,GAEzBC,EAAU,oBAAS,oBAAS,oBAAS,GAAI3B,IAAmBvkD,GAAM,CACpE+C,KAAMkjD,IAIR,OADAF,GAAgBj0D,GAAao0D,EACtBA,EAGF,SAASC,GAAcF,EAAaG,EAAWpmD,GACpD,IAAIlO,EAAY,cAAam0D,GAEzBI,EAAUN,GAAgBj0D,GAE1Bw0D,EAAW,oBAAS,oBAAS,oBAAS,GAAIvC,IAAY/jD,GAAM,CAC9D+C,KAAMqjD,IAIR,OADAC,EAAQD,GAAaE,EACdA,EAGF,SAASC,GAAgBN,GAC9B,IAAIn0D,EAAY,cAAam0D,GAE7B,OAAOF,GAAgBj0D,GCpOzB,IACI00D,GAAiB,CAAC,QAAS,OAAQ,OAAQ,SAAU,OAAQ,eAAgB,eAAgB,gBAAiB,iBAAkB,qBAAsB,gBAAiB,gBAq4B5J,GAz3Bf,WACE,SAASC,EAAiBzmD,GAGxBlP,KAAK41D,QAAU,GACf,IAAI7nD,EAAOmB,EAAInB,KACf/N,KAAK+N,KAAOA,EACZ/N,KAAK2V,MAAQ5H,EAAKkP,IAAI,SA+2BxB,OAx2BA04C,EAAiB/1D,UAAU+P,OAAS,WAClC,IAAIzK,EAAQlF,KAEZA,KAAK+P,QACL,IAAI8lD,EAAgB71D,KAAKuO,QAEzB,GAAI,YAAWsnD,GAAgB,CAE7B,GAAIA,EAAcC,OAAQ,CACxB,IAAIz+C,EAASrX,KAAK+1D,kBAClB/1D,KAAK41D,QAAQplD,KAAK6G,OACb,CACL,IAAIgW,EAAWrtB,KAAK+N,KAAKioD,cACrBC,EAAW,GAEf,QAAO5oC,GAAU,SAAUllB,GACzB,IAAI4F,EAAO5F,EAAQ8U,IAAI,QACnBoH,EAAQlc,EAAQ+tD,oBAEpB,QAAO7xC,GAAO,SAAU+D,GACtB,IA5CmC8e,EAAQivB,EA4CvChwD,EAAOiiB,EAAKjiB,KACZwnB,EAAQvF,EAAKyf,SAAS1hC,GAE1B,GAAIwnB,GAASA,EAAMia,OAAwB,aAAfja,EAAMxnB,OA/CC+gC,EA+CuC+uB,EA/C/BE,EA+CyCxoC,GA9CvF,QAAOuZ,GAAQ,SAAUvZ,GAC9B,IAAIyoC,EAAc,GAAG/0D,OAAOssB,EAAMW,QAC9B+nC,EAAqB,GAAGh1D,OAAO80D,EAAa7nC,QAChD,OAAOX,EAAMxnB,OAASgwD,EAAahwD,MAAQwnB,EAAMia,QAAUuuB,EAAavuB,OAAS,WAAUwuB,EAAYr/B,OAAQs/B,EAAmBt/B,YA2C9B,CAC1Fk/B,EAASzlD,KAAKmd,GACd,IAAI2oC,EAAiBvoD,EAAKwoD,qBAAqB5oC,EAAMia,OAEjDvwB,EAASnS,EAAMsxD,UAAUX,EAAeloC,EAAOvF,EAAMjgB,EAASmuD,GAG9Dj/C,GACFnS,EAAM0wD,QAAQplD,KAAK6G,UAO7BrX,KAAKy2D,iBASTd,EAAiB/1D,UAAUsd,cAAgB,SAAUF,GACnD,QAAOhd,KAAK41D,SAAS,SAAUv+C,QAUjCs+C,EAAiB/1D,UAAUmQ,MAAQ,WAEjC,QAAO/P,KAAK41D,SAAS,SAAUv+C,GAC7BA,EAAOrH,aAGThQ,KAAK41D,QAAU,GAEf51D,KAAK0pC,SAOPisB,EAAiB/1D,UAAU8pC,MAAQ,WACjC1pC,KAAKoP,QAOPumD,EAAiB/1D,UAAUwP,KAAO,WAChCpP,KAAKuO,QAAUvO,KAAK02D,mBACpB12D,KAAK2uC,WAAa3uC,KAAK+N,KAAKkP,IAAI,cAChCjd,KAAK22D,UAAY32D,KAAK+N,KAAKkP,IAAI,aAC/Bjd,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,qBAYjC04C,EAAiB/1D,UAAU42D,UAAY,SAAUX,EAAeloC,EAAOvF,EAAMjgB,EAASmuD,GACpF,IAAI1uB,EAAQja,EAAMia,MACdgvB,EAAcf,EAAcgB,QAAUhB,EAAcgB,OAAOjvB,GAE/D,IAAoB,IAAhBgvB,EAAJ,CAMA,GAAIA,GAAeA,EAAYd,OAC7B,OAAO91D,KAAK+1D,gBAAgBnuB,GAW9B,IAAIpxB,EAAWxW,KAAK82D,qBAAqBlvB,EAAO,WAAY5nC,KAAK2V,MAAMyB,uBACvEZ,EAAWxW,KAAK+2D,eAAevgD,GAC/B,IAAIa,EAASsW,EAAMQ,SAAWnuB,KAAKg3D,oBAAoBrpC,EAAOvF,EAAM5R,GAAYxW,KAAKi3D,kBAAkBtpC,EAAOvF,EAAMjgB,EAASmuD,EAAgB9/C,GAM7I,OAJIa,GACFrX,KAAKk3D,eAAe7/C,EAAQuwB,GAGvBvwB,IAUTs+C,EAAiB/1D,UAAUo3D,oBAAsB,SAAUrpC,EAAOvF,EAAM5R,GACtE,IAAI9H,EAAY1O,KAAK0O,UAAU6+B,SAAS,CACtCt7B,KAAM,WAEJ21B,EAAQja,EAAMia,MACdpZ,EAAQb,EAAMmB,WAEdyd,EAAQ,OAAM/d,GAAO,SAAU9T,GACjC,IAAI9Z,EAAQ8Z,EAAK9Z,MAEbouB,EAAYtU,EAAKsU,UAEjBmoC,EAAgBxpC,EAAMoC,OAAOnvB,GAGjC,MAAO,CACLA,MAAOouB,EACP/a,MAHcmU,EAAKgf,QAAQ+vB,GAAevzC,KAAK,QAO/CwzC,IAAqB,QAAO5oC,GAAO,SAAU9T,GAC/C,OAAsB,IAAfA,EAAK9Z,SAEVy2D,IAAqB,QAAO7oC,GAAO,SAAU9T,GAC/C,OAAsB,IAAfA,EAAK9Z,SAGd,IAAKw2D,EAAkB,CACrB,IAAIE,EAAYlvC,EAAKgf,QAAQ,GAAGxjB,KAAK,IACrC2oB,EAAM/7B,KAAK,CACT5P,MAAO+sB,EAAM8B,IACbxb,MAAOqjD,IAIX,IAAKD,EAAkB,CACjBC,EAAYlvC,EAAKgf,QAAQ,GAAGxjB,KAAK,IACrC2oB,EAAM/7B,KAAK,CACT5P,MAAO+sB,EAAMhI,IACb1R,MAAOqjD,IAIX,IAkBIjgD,EAlBAw+C,EAAgB71D,KAAKuO,QACrBgpD,EAAc/gD,EAASqN,MAAM,KAC7B8G,EAAa3qB,KAAK2V,MAAM0B,OAAOkgD,EAAY,IAE3CC,EAAY,WAAU,GAAI7sC,EAAY3qB,KAAKy3D,qBAAqB7vB,EAAOiuB,GAAgB,CACzFtpB,MAAOA,EACPnkB,KAAMA,EACN6G,UAAWtB,EAAMsB,UACjBvgB,UAAWA,EACX8H,SAAUA,IAWZ,GARIghD,EAAU7iD,WACZ,OAAM6iD,EAAW,CACf71D,MAAOgsB,EAAMia,QAMC,UAAdxf,EAAKjiB,KACPkR,EAAS,IAAI,SAAMmgD,OACd,IAAkB,SAAdpvC,EAAKjiB,KAGd,OAFAkR,EAAS,IAAI,QAAKmgD,GAMpB,OADAx3D,KAAK03D,gBAAgBrgD,EAAQsW,GACtBtW,GAYTs+C,EAAiB/1D,UAAUq3D,kBAAoB,SAAUtpC,EAAOvF,EAAMjgB,EAASmuD,EAAgB9/C,GAC7F,IAAItR,EAAQlF,KAER61D,EAAgB71D,KAAKuO,QACrBq5B,EAAQja,EAAMia,MACdgvB,EAAcf,EAAcgB,OAAShB,EAAcgB,OAAOjvB,GAAS,KACnE2E,EAAQ,GACR/d,EAAQb,EAAMmB,WACd6oC,GAAW,EACXrC,EAAYntD,EAAQ8U,IAAI,cAAgB,QACxC/C,EAAQ/R,EAAQyvD,gBAAgB,UAAYtC,GAAa,QAEzDO,EAActhB,SAEhBr6B,EAAQ27C,EAActhB,OACtB+gB,EAAY,QACZqC,GAAW,GAGTf,GAAeA,EAAYriB,SAE7Br6B,EAAQ08C,EAAYriB,OACpB+gB,EAAY,QACZqC,GAAW,GAGb,IAAI5pD,EAAO/N,KAAK+N,KACZ8pD,EAAY73D,KAAK2V,MACjB5G,EAAShB,EAAKkP,IAAI,UAElB66C,EADa/pD,EAAKkP,IAAI,cACMmL,KAAK,QACjC2vC,EAAoBD,EAAiBA,EAAe7uC,eAAYniB,EAChE6nC,EAAa5gC,EAAKkP,IAAI,cACtB05C,EAAY5oD,EAAKkP,IAAI,aACrB+6C,EAAWxhD,EAASqN,MAAM,KAC1BiiC,EAA4B,UAAhBkS,EAAS,IAAkC,SAAhBA,EAAS,GAClDD,EAAoBA,EAAkBjpD,OAAS6/B,EAAW7/B,OAASipD,EAAoBpB,EAAUnyD,OAASmqC,EAAWnqC,MAAQuzD,EAAkBvzD,OAASmyD,EAAUnyD,MAEpK,QAAOgqB,GAAO,SAAU9T,GACtB,IACIzI,EADOyI,EAAKhH,KAEZukD,EAAav9C,EAAK9Z,MAClBA,EAAQ+sB,EAAMoC,OAAOkoC,GACrB/oD,EAAM,CACR2iD,WAAY1pD,EAAQ0pD,cAElB1M,GAAUmR,GAAiBpxD,EAAMgzD,WAAWvqC,EAAO2oC,EAAgB11D,GACnEu3D,EAAYhwD,EAAQiwD,QAAQ,SAC5BC,EAAYlwD,EAAQiwD,QAAQ,SAEhC,GAAID,EAEF,GAAIA,EAAUtwC,UAAYswC,EAAUtwC,SAASpoB,OAAS,EAAG,CAEvD,IAAI64D,EAAW96C,MAAM26C,EAAUtwC,SAASpoB,OAAS,GAAGkT,KAAK,IACzDzD,EAAI+E,MAAQkkD,EAAU/wB,QAAQrnC,MAAMo4D,EAAW,0BAAe,CAACv3D,GAAQ03D,IAAW10C,KAAK,KAAOi0C,EAAU9hD,kBAExG7G,EAAI+E,MAAQkkD,EAAU/wB,QAAQxmC,GAAOgjB,KAAK,KAAOi0C,EAAU9hD,aAI/D,GAAI4hD,GAAYU,GAAaA,EAAUnxB,OAAOznC,OAE5C,GAAI44D,EAAUxwC,UAAYwwC,EAAUxwC,SAASpoB,OAAS,EAAG,CAEnD64D,EAAW96C,MAAM66C,EAAUxwC,SAASpoB,OAAS,GAAGkT,KAAK,IACzDuH,EAAQm+C,EAAUjxB,QAAQrnC,MAAMs4D,EAAW,0BAAe,CAACz3D,GAAQ03D,IAAW10C,KAAK,SAEnF1J,EAAQm+C,EAAUjxB,QAAQxmC,GAAOgjB,KAAK,IAI1C,IACI2wB,EADckhB,GAAgBH,GACThB,eAAep6C,EAAOhL,GAE3C,cAAagL,KACfq6B,EAAOt7B,OAASiB,GAGlBqyB,EAAM/7B,KAAK,CACT5P,MAAOqR,EACPsmD,UAAW33D,EACXukD,QAASA,EACT5Q,OAAQA,OAIZ,IACIikB,EACAlhD,EACAgkC,EACAH,EAJA3iC,IAAYq9C,EAAcr9C,YAAco+C,IAAeA,EAAYp+C,SAMvE,OAAQw/C,EAAS,IACf,IAAK,OAGH7c,EAAY4c,EAAoBA,EAAkBjpD,OAAS6/B,EAAW7/B,OACtEwsC,EAAW3M,EAAW//B,EAAI+nD,EAAU/nD,EACpC0I,EAAS,WACT,MAEF,IAAK,QAGH6jC,EAAY4c,EAAoBA,EAAkBjpD,OAAS6/B,EAAW7/B,OACtEwsC,EAAWqb,EAAUjlB,GAAG9iC,EAAI+/B,EAAW+C,GAAG9iC,EAC1C0I,EAAS,WACT,MAEF,IAAK,MAGH6jC,EAAYxM,EAAW+C,GAAG7iC,EAAI8nD,EAAUjlB,GAAG7iC,EAC3CysC,EAAWyc,EAAoBpB,EAAUnyD,OAASmqC,EAAWnqC,MAAQuzD,EAAkBvzD,OAASmyD,EAAUnyD,MAC1G8S,EAAS,aACT,MAEF,IAAK,SAGH6jC,EAAYwb,EAAU1mB,GAAGphC,EAAI8/B,EAAWsB,GAAGphC,EAC3CysC,EAAWyc,EAAoBpB,EAAUnyD,OAASmqC,EAAWnqC,MAAQuzD,EAAkBvzD,OAASmyD,EAAUnyD,MAC1G8S,EAAS,aAQXkhD,EADEhgD,EACiB,OAAM,GAAIq/C,EAAUxgD,OAAOI,KAAM,CAClD0jC,UAAWA,EACXG,SAAUA,EACVhkC,OAAQA,IAGS,OAAM,GAAIugD,EAAUxgD,OAAO2gD,EAAS,IAAK,CAC1D7c,UAAWA,EACXG,SAAUA,EACVhkC,OAAQA,EACR5I,UAAW1O,KAAK0O,UAAU6+B,SAAS,CACjCt7B,KAAM,aAKZ,IAAIulD,EAAY,WAAU,GAAIgB,EAAkB3C,EAAee,EAAa,CAC1E9Q,UAAWA,EACX/2C,OAAQA,EACRw9B,MAAOA,EACP/1B,SAAUA,IAGRghD,EAAU7iD,WACZ,OAAM6iD,EAAW,CACf71D,MAAOgsB,EAAM8qC,OAAS9qC,EAAMia,QAIhC,IAAIvwB,EAASmB,EAAU,IAAI,gBAAag/C,GAAa,IAAI,kBAAeA,GAExE,OADAx3D,KAAK04D,eAAerhD,EAAQsW,EAAO2oC,EAAgBkB,EAAUmB,SACtDthD,GAQTs+C,EAAiB/1D,UAAUm2D,gBAAkB,SAAUnuB,GACrD,IAQIgvB,EARAiB,EAAY73D,KAAK2V,MAEjBjH,GADO1O,KAAK+N,KACA/N,KAAK0O,UAAU6+B,SAAS,CACtCt7B,KAAM,YAEJlD,EAASL,EAAUuO,IAAI,UACvB0xB,EAAa3uC,KAAK2uC,WAClBknB,EAAgB71D,KAAKuO,QAGrB,YAAWsnD,KACbe,EAAcf,EAAcgB,OAAShB,EAAcgB,OAAOjvB,GAAS,IAGrE,IAAIpxB,EAAWogD,EAAYpgD,UAAYq/C,EAAcr/C,UAAYqhD,EAAUzgD,sBAC3EZ,EAAWxW,KAAK+2D,eAAevgD,GAC/B,IAAI+1B,EAAQqqB,EAAYrqB,OAASspB,EAActpB,MAE/C,GAAKA,EAAL,CAIA,QAAOA,GAAO,SAAUjlC,GACjB,iBAAgBA,EAAKitC,QAexBjtC,EAAKitC,OAAO/gC,OAASlM,EAAKitC,OAAO/gC,QA1cvB,KA6bVlM,EAAKitC,OAAS,CACZt7B,OAAQ3R,EAAKitC,QAAU,SACvB/gC,OA/bQ,KAkcN,YAAWkiD,GAAgBpuD,EAAKitC,OAAOt7B,QAEzC3R,EAAKitC,OAAOzhC,OAASxL,EAAK2M,MAE1B3M,EAAKitC,OAAO5hC,KAAOrL,EAAK2M,OAO5B,IAAIgF,EAAS3R,EAAKitC,OAAOt7B,OAErB,YAAWA,KAAyC,IAA9BA,EAAO3Y,QAAQ,YAEvCgH,EAAKitC,OAAOt7B,OAAS,cAAaA,EAAO8X,OAAO,KAGlDzpB,EAAK69C,UAAU,SAAQ79C,EAAK69C,UAAkB79C,EAAK69C,WAGrD,IAAI6S,EAAWxhD,EAASqN,MAAM,KAC1BiiC,EAA4B,UAAhBkS,EAAS,IAAkC,SAAhBA,EAAS,GAAgBrpB,EAAW7/B,OAAS9O,KAAK22D,UAAUnyD,MAEnGgzD,EAAY,WAAU,GAAIK,EAAUxgD,OAAO2gD,EAAS,IAAKnC,EAAee,EAAa,CACvF9Q,UAAWA,EACX+R,UAAWA,EACXtrB,MAAOA,EACP79B,UAAWA,EACXK,OAAQA,IAINsI,IADYmgD,EAAUh/C,QACH,IAAI,gBAAag/C,GAAa,IAAI,kBAAeA,GASxE,OARAngD,EAAOrJ,GAAG,aAAa,SAAUqxC,GAC3BwW,EAAc8C,SAEhB9C,EAAc8C,QAAQtZ,MAG1Br/C,KAAKk3D,eAAe7/C,GAEbA,IAOTs+C,EAAiB/1D,UAAU62D,aAAe,WACxC,IAAIvxD,EAAQlF,KAER44D,EAAc54D,KAAK64D,YACvB74D,KAAK44D,YAAcA,EACnB,IAAI9X,EAAc9gD,KAAK84D,wBACnBv5D,EAAI,EAER,QAAOuhD,GAAa,SAAUiY,EAAaviD,GACzC,IAAIvF,EAAS2nD,EAAYI,KAAKz5D,GAE9B,QAAOw5D,GAAa,SAAU1hD,EAAQ/S,GACpC,IAAI+7B,EAAM04B,EAAYz0D,EAAQ,GAE9BY,EAAM+zD,YAAY5hD,EAAQgpB,EAAKpvB,EAAQuF,MAIzCjX,QAYJo2D,EAAiB/1D,UAAUq5D,YAAc,SAAU5hD,EAAQgpB,EAAKpvB,EAAQuF,GACtE,IAAIqhD,EAAY73D,KAAK2V,MACjBnR,EAAQxE,KAAK22D,UAAUnyD,MACvBsK,EAAS9O,KAAK22D,UAAU7nD,OACxB8pD,EAAc54D,KAAK44D,YACnB9X,EAAc9gD,KAAK84D,wBACnBI,EAAWl5D,KAAK22D,UAEhBrsB,EAAUjzB,EAAO4F,IAAI,YAAc,EACnCstB,EAAUlzB,EAAO4F,IAAI,YAAc,EACnCk8C,EAAe9hD,EAAOguB,YACtB+zB,EAAc/hD,EAAO4Q,WACrBoxC,EAAexB,EAAUxgD,OAAOS,OAChCwhD,EAAczB,EAAUxgD,OAAOiB,aAC/BihD,EAAYzY,EAAYtqC,GAAU/W,OAClCu4D,EAAWxhD,EAASqN,MAAM,KAC1BjV,EAAI,EACJC,EAAI,EACJ2qD,EAAcD,EAAY,EAAIX,EAAc3nD,EAEhD,GAAoB,SAAhB+mD,EAAS,IAAiC,UAAhBA,EAAS,GACrClpD,EAASoqD,EAASxwC,KAClB9Z,EAAI5O,KAAKy5D,UAAUzB,EAAS,GAAIxzD,EAAOyM,EAAQioD,EAAUE,EAAaC,GAIpExqD,EAFEwxB,EACSA,EAAIpjB,IAAI,KACRojB,EAAIgF,YAAci0B,EAEzBt5D,KAAK05D,kBAAkB1B,EAAS,GAAIlpD,EAAQ0qD,EAAaN,EAAU,EAAGG,EAAcr5D,KAAK22D,UAAU7nD,aAEpG,GAAoB,QAAhBkpD,EAAS,IAAgC,WAAhBA,EAAS,GAG3C,GAFAnpD,EAAI7O,KAAK25D,oBAAoB3B,EAAS,GAAIlpD,EAAQmC,EAAQioD,EAAUC,EAAcE,GAE9Eh5B,EAAK,CACP,IAAIu5B,EAAWv5B,EAAIpY,WAEnBrZ,EADWyxB,EAAIpjB,IAAI,KACR28C,EAAWN,OAEtB1qD,EAAI5O,KAAKy5D,UAAUzB,EAAS,GAAIxzD,EAAOg1D,EAAaN,EAAUE,EAAaC,GAI/EhiD,EAAO2kC,OAAOptC,EAAI07B,EAASz7B,EAAI07B,IAIjCorB,EAAiB/1D,UAAU65D,UAAY,SAAU/Z,EAAKl7C,EAAOyM,EAAQioD,EAAUE,EAAaC,GAC1F,IAAIzqD,EAAY,SAAR8wC,EAAiBwZ,EAAS3wC,KAAO8wC,EAAa,GAAKH,EAAS1wC,KAAO6wC,EAAa,GAAKD,EAM7F,MAJY,WAAR1Z,IACF9wC,GAAKpK,EAAQyM,EAAO4oD,YAAc,GAG7BjrD,GAGT+mD,EAAiB/1D,UAAU+5D,oBAAsB,SAAUja,EAAK5wC,EAAQmC,EAAQioD,EAAUC,EAAcE,GAEtG,MADgB,QAAR3Z,EAAgBwZ,EAASzwC,KAAO4wC,EAAa,GAAKH,EAASxwC,KAAO2wC,EAAa,GAAKF,GAI9FxD,EAAiB/1D,UAAU85D,kBAAoB,SAAUha,EAAK5wC,EAAQmC,EAAQioD,EAAUC,EAAcE,EAAcS,GAClH,IAAIjrD,EAAY,QAAR6wC,EAAgBwZ,EAASzwC,KAAO4wC,EAAa,GAAKH,EAASxwC,KAAOzX,EAAO8oD,YAAcV,EAAa,GAO5G,MALY,WAAR3Z,IAEF7wC,EAAIqqD,EAASzwC,MAAQywC,EAASpqD,OAASmC,EAAO8oD,aAAe,GAGxDlrD,GAGT8mD,EAAiB/1D,UAAUm3D,eAAiB,SAAUvgD,GACpD,IAAI+gD,EAAc/gD,EAASqN,MAAM,KAEjC,GAA2B,IAAvB0zC,EAAY93D,OAAc,CAC5B,IAAIigD,EAAM6X,EAAY,GACtB,MAAe,SAAR7X,EAAiB,cAAwB,UAARA,EAAkB,eAAyB,QAARA,EAAgB,aAAuB,WAARA,EAAmB,gBAAkB,GAGjJ,OAAO6X,EAAYjyC,MAAM,EAAG,GAAG1B,KAAK,MAGtC+xC,EAAiB/1D,UAAU84D,eAAiB,SAAUrhD,EAAQsW,EAAO2oC,EAAgBqC,GACnF,IAAIzzD,EAAQlF,KAER+N,EAAO/N,KAAK+N,KACZ65B,EAAQja,EAAMia,MAClBvwB,EAAOrJ,GAAG,aAAa,SAAUqxC,GAC/B,GAAIsZ,EAEFA,EAAQtZ,OACH,CACL,IAAI/3C,EAAO+3C,EAAG/3C,KACV69C,EAAU9F,EAAG8F,QACb6U,EAAmD,WAA/B3iD,EAAO4F,IAAI,gBAE/Bg9C,EAAiB3yD,EAAKixD,UAEtBpT,GACF,QAAOmR,EAAgB2D,GAEnB/0D,EAAMg1D,cAActyB,EAAOqyB,IAC7BlsD,EAAKosD,OAAOvyB,GAAO,SAAU2D,GAC3B,OAAOyuB,EAAoBzuB,IAAM0uB,GAAkB,YAAW3D,EAAgB/qB,OAGxEyuB,IAEV1D,EAAe9lD,KAAKypD,GAEhB/0D,EAAMg1D,cAActyB,EAAOqyB,IAC7BlsD,EAAKosD,OAAOvyB,GAAO,SAAU2D,GAC3B,OAAQ,YAAW+qB,EAAgB/qB,OAKzCx9B,EAAKsC,IAAI,cAAc,GAGvBtC,EAAKyiD,UAGLziD,EAAKsC,IAAI,cAAc,QAO7BslD,EAAiB/1D,UAAUs3D,eAAiB,SAAU7/C,EAAQuwB,GAC5D,IAAIwyB,EAAc/iD,EAAO4F,IAAI,eACzBo9C,EAAehjD,EAAO4F,IAAI,gBAC9B5F,EAAOrJ,GAAG,iBAAiB,SAAUqxC,GAC/B+a,GAEFA,EAAY/a,MAGhBhoC,EAAOrJ,GAAG,kBAAkB,SAAUqxC,GAChCgb,GACFA,EAAahb,OAKnBsW,EAAiB/1D,UAAUi5D,UAAY,WACrC,IAAI3zD,EAAQlF,KAGRs5D,EADQt5D,KAAK2V,MACO0B,OAAOiB,aAC3B0gD,EAAO,GACPa,EAAa,EACbE,EAAc,EACdjZ,EAAc9gD,KAAK84D,wBAUvB,OARA,QAAOhY,GAAa,SAAUiY,GAC5B,IAAIuB,EAAYp1D,EAAMq1D,aAAaxB,GAEnCC,EAAKxoD,KAAK8pD,GACVT,GAAcS,EAAUT,WAAaP,EACrCS,GAAeO,EAAUP,YAAcT,KAGlC,CACLO,WAAYA,EACZE,YAAaA,EACbf,KAAMA,IAIVrD,EAAiB/1D,UAAU26D,aAAe,SAAU3E,GAClD,IAAIta,EAAW,EACXH,EAAY,EACZ0e,EAAa,EACbE,EAAc,EAmBlB,OAjBA,QAAOnE,GAAS,SAAUv+C,GACxB,IAAI7S,EAAQ6S,EAAO4Q,WACfnZ,EAASuI,EAAOguB,YAEhBiW,EAAW92C,IACb82C,EAAW92C,GAGbq1D,GAAcr1D,EAEV22C,EAAYrsC,IACdqsC,EAAYrsC,GAGdirD,GAAejrD,KAGV,CACLwsC,SAAUA,EACVue,WAAYA,EACZ1e,UAAWA,EACX4e,YAAaA,IAIjBpE,EAAiB/1D,UAAUs4D,WAAa,SAAUvqC,EAAO6sC,EAAYvC,GACnE,IAAKtqC,EAAMO,WACT,OAAO,EAGT,IAAI/B,GAAM,EASV,OAPA,QAAOquC,GAAY,SAAUnpC,GAC3B,GAAI1D,EAAMoB,QAAQsC,KAAS1D,EAAMoB,QAAQkpC,GAEvC,OADA9rC,GAAM,GACC,KAIJA,GAGTwpC,EAAiB/1D,UAAUs6D,cAAgB,SAAUtyB,EAAOhnC,GAC1D,IAAI4d,GAAO,EAEPi8C,EADSz6D,KAAK+N,KAAKkP,IAAI,UACH2qB,GAMxB,OAJI6yB,GAAcA,EAAWnsC,SAC3B9P,EAAO,YAAWi8C,EAAWnsC,OAAQ1tB,IAGhC4d,GAGTm3C,EAAiB/1D,UAAU82D,iBAAmB,WAC5C,OAAO,OAAM12D,KAAK+N,KAAKkP,IAAI,WAAY,UAAW,KAYpD04C,EAAiB/1D,UAAUk3D,qBAAuB,SAAU4D,EAAO/6D,EAAKg7D,GACtE,IAAI9E,EAAgB71D,KAAKuO,QAErBqoD,EAAc,OAAMf,EAAe,UAAY6E,EAAO,IAE1D,OAAO9D,EAAYj3D,GAAOi3D,EAAYj3D,GAAOk2D,EAAcl2D,GAAOk2D,EAAcl2D,GAAOg7D,GASzFhF,EAAiB/1D,UAAU83D,gBAAkB,SAAUrgD,EAAQsW,GAC7D,IAAIzoB,EAAQlF,KAER4nC,EAAQja,EAAMia,MAClBvwB,EAAOrJ,GAAG,cAAc,SAAUxI,GAChC,IAAI+oB,EAAQ/oB,EAAG+oB,MACXkB,EAAMlB,EAAM,GACZ5I,EAAM4I,EAAM,GAEhBrpB,EAAM01D,YAAYhzB,EAAOnY,EAAK9J,OAoBlCgwC,EAAiB/1D,UAAUg7D,YAAc,SAAUhzB,EAAOnY,EAAK9J,GAC7D,IAAIzgB,EAAQlF,KAkBZA,KAAK+N,KAAK8sD,WAhBK,SAAkB95B,EAAQ7mB,EAAO/R,EAAS4F,GACvD,IAAIuP,EAAIyjB,EAAO6G,GAEf,GAAI,SAAQtqB,GACVpD,EAAM9J,WACD,CACL,IAAI4M,EAAUM,GAAKmS,GAAOnS,GAAKqI,EAE/BzgB,EAAM41D,aAAa5gD,EAAO/R,EAAS6U,GAGnCA,EAAU9C,EAAM9J,OAAS8J,EAAM5J,YAarCqlD,EAAiB/1D,UAAUk5D,sBAAwB,WACjD,OAAO,WAAU94D,KAAK41D,SAAS,SAAUv+C,GACvC,OAAOA,EAAO4F,IAAI,gBAWtB04C,EAAiB/1D,UAAUk7D,aAAe,SAAU5gD,EAAO/R,EAAS6U,GAClE,GAAI9C,EAAM+C,IAAI,UAEZ/C,EAAM+C,IAAI,UAAU5M,IAAI,UAAW2M,OAC9B,CAEL,IAAI+9C,EAAe5yD,EAAQ8U,IAAI,gBAE/B,IAAK,WAAU,OAAM89C,EAAc,WAAY,CAC7C,IAAIC,EAAW7yD,EAAQ8yD,YAAYrzB,MAC/BszB,EAAW/yD,EAAQslB,YAAYma,MAE/BuzB,EAAcjhD,EAAM+C,IAAI,UAAUm+C,QAElCrvB,EAAS5jC,EAAQ8U,IAAI,UAEzB,QAAO8uB,GAAQ,SAAU92B,GACvB,IAAIomD,EAAYpmD,EAAMgI,IAAI,WAAa,GAEnCo+C,EAAUL,KAAcG,EAAYH,IAAaK,EAAUH,KAAcC,EAAYD,KACvFjmD,EAAM5E,IAAI,UAAW2M,GACrB9C,EAAM7J,IAAI,SAAU4E,UAa9B0gD,EAAiB/1D,UAAU63D,qBAAuB,SAAU7vB,EAAO+yB,GAKjE,YAJqB,IAAjBA,IACFA,EAAe,IAGV,OAAM36D,KAAK02D,mBAAoB,UAAY9uB,EAAO+yB,IAGpDhF,EAt3BT,GC+CA,SAAS2F,GAA4B9kD,EAAU8G,QACnC,IAANA,IACFA,EAAI,GAGN,IAAI+T,EAAM/T,EAUV,MARiB,WAAb9G,IACF6a,EAAM,KAGuB,IAA3B7a,EAASlW,QAAQ,OACnB+wB,EAAM0C,SAASvd,EAAU,IAAM,KAG1B6a,EAGT,IA6ce,GA3cf,WACE,SAASkqC,EAAersD,GACtBlP,KAAK2B,MAAQ,KACb3B,KAAKgd,SAAU,EACfhd,KAAK+O,OAAS,KACd/O,KAAK0O,UAAY,KACjB1O,KAAKsmB,MAAQ,KACbtmB,KAAKuO,QAAU,KACfvO,KAAKw7D,KAAO,GACZx7D,KAAK2V,MAAQ,KAEb,OAAM3V,KAAMkP,GA6bd,OA1bAqsD,EAAe37D,UAAU67D,WAAa,SAAUC,EAAQxP,EAAS7gC,GAC/D,IAMMswC,EANFz2D,EAAQlF,KAERsmB,EAAQtmB,KAAKsmB,MACbs1C,EAAYt1C,EAAMngB,KAEJ,UAAdy1D,GAAyC,UAAdA,GAAyBt1C,EAAMa,eAGxDu0C,IAAW17D,KAAK67D,QAAQH,EAAO9zB,SACjC+zB,EAAU37D,KAAK87D,UAAUx1C,EAAOo1C,EAAQxP,EAAQ,GAAI,IAAK7gC,IAGtD,WAAU6gC,IAA0B,UAAd0P,GACzB,QAAO1P,GAAS,SAAU1+B,EAAQlpB,GAC3BY,EAAM22D,QAAQruC,EAAOoa,QACxB1iC,EAAM42D,UAAUx1C,EAAOkH,EAAQkuC,EAAQ,IAAKrwC,EAAQswC,EAASr3D,QAOvEi3D,EAAe37D,UAAUsd,cAAgB,SAAUF,GACjD,IAAIw+C,EAAOx7D,KAAKw7D,KAEhB,QAAOA,GAAM,SAAUllD,GACrBA,EAAKjG,IAAI,UAAW2M,OAIxBu+C,EAAe37D,UAAUmQ,MAAQ,WAC/B,IAAIyrD,EAAOx7D,KAAKw7D,KAEhB,QAAOA,GAAM,SAAUllD,GACrBA,EAAKvG,WAGP/P,KAAKw7D,KAAO,IAIdD,EAAe37D,UAAUm8D,sBAAwB,SAAUn0B,EAAO+yB,GAKhE,YAJqB,IAAjBA,IACFA,EAAe,IAGV,OAAM36D,KAAKuO,QAAS,UAAYq5B,EAAO+yB,IAIhDY,EAAe37D,UAAUi8D,QAAU,SAAUj0B,GAC3C,OAA6C,IAAtC5nC,KAAK+7D,sBAAsBn0B,IAGpC2zB,EAAe37D,UAAUo8D,gBAAkB,SAAUC,EAAUztC,EAAOlqB,EAAO6pB,GAC3E,GAAiB,IAAb8tC,IAAmB9tC,EACrB,OAAO,EAGT,GAAiB,IAAb8tC,EACF,OAAO,EAGT,IAAIC,EAAY1tC,EAAMlqB,EAAQ,GAAG1D,MAEjC,OAAKutB,GAA0B,IAAd+tC,GAITD,EAAWC,GAAa,EAHvB,GAMXX,EAAe37D,UAAUu8D,cAAgB,SAAU71C,EAAOqH,EAAOyuC,EAAS93D,GACxE,IAAI4M,EACAC,EACA0oC,EACAjS,EAAQja,EAAMia,MACdpxB,EAAWxW,KAAK+7D,sBAAsBn0B,GAAOpxB,UAAY,GAG7D,GAAgB,MAAZ4lD,EAAiB,CAEnB,IAAIvtD,EAAiB,QAAb2H,EAAqB,EAAI,EAEjCtF,EAAQ,CACNtC,EAAG,EACHC,EAHFA,EAAIysD,GAA4B9kD,EAAU3H,IAK1CsC,EAAM,CACJvC,EAAG,EACHC,EAAGA,GAELgrC,GAAa,MACR,CAIH,IAYIjrC,EAdN,GAAItK,EAIF4M,EAAQ,CACNtC,EAFFA,EAAI0sD,GAA4B9kD,EAD5B5H,EAAiB,SAAb4H,EAAsB,EAAI,GAIhC3H,EAAG,GAELsC,EAAM,CACJvC,EAAGA,EACHC,EAAG,QAMLqC,EAAQ,CACNtC,EAFFA,EAAI0sD,GAA4B9kD,EAD5B5H,EAAiB,UAAb4H,EAAuB,EAAI,GAIjC3H,EAAG,GAELsC,EAAM,CACJvC,EAAGA,EACHC,EAAG,GAIPgrC,GAAa,EAKf,MAAO,CACL3oC,MAHFA,EAAQoV,EAAM0e,QAAQ9zB,GAIpBC,IAHFA,EAAMmV,EAAM0e,QAAQ7zB,GAIlB0oC,WAAYA,IAIhB0hB,EAAe37D,UAAUy8D,YAAc,SAAU/1C,EAAOqH,EAAOyuC,EAAS93D,GACtE,IAEIiqB,EAAQvuB,KAAKm8D,cAAc71C,EAAOqH,EAAOyuC,EAAS93D,GAElD4M,EAAQqd,EAAMrd,MACdC,EAAMod,EAAMpd,IACZwV,EAASL,EAAMK,OAEfkzB,EADevzB,EAAMa,cACQoH,EAAMsrB,WAAatrB,EAAMsrB,WAQ1D,MAAO,CACLA,WAAYA,EACZxhB,OAREwhB,GAAc3oC,EAAMtC,EAAI+X,EAAO/X,IAAMirC,GAAc3oC,EAAMrC,EAAI8X,EAAO9X,EAC7D,GAEC,EAMVqC,MAAOA,EACPC,IAAKA,IAKToqD,EAAe37D,UAAU08D,cAAgB,SAAUh2C,GACjD,IAMIpV,EANAmpC,EAAS/zB,EAAM1X,EACf0rC,EAASh0B,EAAMzX,EACfsY,EAAeb,EAAMa,aACrBR,EAASL,EAAM+f,aACfZ,EAAcnf,EAAMmf,YACpBrB,EAAakW,EAAOppC,MAAQopC,EAAOnpC,IAIrCD,EADEiW,EACM,CACNvY,EAAGw1B,EAAa,EAAI,EACpBv1B,EAAG,GAGG,CACND,EAAG,EACHC,EAAGu1B,EAAa,EAAI,GAKxB,IAEI3d,EAFA81C,EAAc,EADlBrrD,EAAQoV,EAAM0e,QAAQ9zB,IACGtC,EAAI+X,EAAO/X,EAAGsC,EAAMrC,EAAI8X,EAAO9X,GACpD2tD,EAAe,CAAC,EAAG,GAUvB,MAAO,CACL/1C,WAPAA,EADEvV,EAAMrC,EAAI8X,EAAO9X,EACN,GAAKwP,MAAMk+C,EAAaC,IAEiB,EAAzC,GAAKn+C,MAAMk+C,EAAaC,GAMrC91C,SAHaD,GAAc4zB,EAAOlpC,IAAMkpC,EAAOnpC,OAI/CyV,OAAQA,EACRnT,OAAQ0K,KAAKmE,KAAKnE,KAAKyZ,IAAIzmB,EAAMtC,EAAI+X,EAAO/X,EAAG,GAAKsP,KAAKyZ,IAAIzmB,EAAMrC,EAAI8X,EAAO9X,EAAG,IACjF6pC,MAAOjT,GAAe,IAI1B81B,EAAe37D,UAAU68D,cAAgB,SAAUn2C,GACjD,IAEIpV,EACAC,EAFAknB,EADa/R,EAAM1X,EAAEsC,MACC,GAAK,EAAI,EAwBnC,OApBIoV,EAAMa,cACRjW,EAAQ,CACNtC,EAAG,EACHC,EAAG,GAELsC,EAAM,CACJvC,EAAG,EACHC,EAAG,KAGLqC,EAAQ,CACNtC,EAAG,EACHC,EAAG,GAELsC,EAAM,CACJvC,EAAG,EACHC,EAAG,IAIA,CACLwpB,OAAQA,EACRnnB,MAAOoV,EAAM0e,QAAQ9zB,GACrBC,IAAKmV,EAAM0e,QAAQ7zB,KAIvBoqD,EAAe37D,UAAU88D,aAAe,SAAUp2C,GAUhD,IARA,IAAIjJ,EAAIiJ,EAAMjJ,EACVoJ,EAAaH,EAAMG,WACnBC,EAAWJ,EAAMI,SACjBC,EAASL,EAAMK,OACf9X,EAAIyX,EAAMzX,EAEV6P,EAAM,GAEDnf,EAAI,EAAGA,GAHJ,IAGgBA,IAAK,CAC/B,IAAIgU,EAAQ+S,EAAM0e,QAAQ,CACxBp2B,EAAGrP,EAAI,IACPsP,EAAG,IAEL6P,EAAIlO,KAAK+C,EAAM3E,GACf8P,EAAIlO,KAAK+C,EAAM1E,GAOjB,MAAO,CACLwO,EAAGA,EACHoJ,WAAYA,EACZC,SAAUA,EACVhI,IAAKA,EACL+6B,UATcnzB,EAAM0e,QAAQ,CAC5Bp2B,EAAG,EACHC,EAAG,IAQH8X,OAAQA,EACR+xB,MAAO7pC,EAAEqC,QAKbqqD,EAAe37D,UAAU+8D,iBAAmB,SAAUr2C,EAAO81C,EAAS93D,EAAOsjC,GAC3E,GAAI5nC,KAAK+7D,sBAAsBn0B,GAAOpxB,SAEpC,OAAOxW,KAAK+7D,sBAAsBn0B,GAAOpxB,SAG3C,IAAIA,EAAW,GACXolD,EAAYt1C,EAAMngB,KAoBtB,OAlBImgB,EAAMmE,OACQ,MAAZ2xC,EACF5lD,EAAW,SACU,MAAZ4lD,IAEP5lD,EADElS,EACS,QAEA,QAIfkS,EADuB,UAAdolD,EACE,QACU,MAAZQ,EACE91C,EAAMa,aAAe,SAAW,SAEhCb,EAAMa,aAAe,SAAW,SAGtC3Q,GAIT+kD,EAAe37D,UAAUg9D,mBAAqB,SAAUt2C,EAAOqH,EAAOxnB,EAAMqQ,GAC1E,IAAIb,EAAQ3V,KAAK2V,MACbiyB,EAAQja,EAAMia,MACd14B,EAAM,CACRoX,MAAOA,EACP3Q,MAAOA,EAAMW,KAAKE,IAIpB,IAFAtH,EAAM,WAAU,GAAIyG,EAAMW,KAAKE,GAAWtH,EAAKlP,KAAK+7D,sBAAsBn0B,KAElEjzB,UAAW,CAEjB,IAAIhT,EAAQ,OAAMuN,EAAK,QAAS,IAEhCvN,EAAM+R,KAAO/R,EAAM+R,MAAQia,EAAM8qC,OAAS7wB,EAE1C,WAAU14B,EAAK,CACbvN,MAAOA,IAYX,OARAuN,EAAIsf,MAAQb,EAAMmB,WAEdxI,EAAME,UAAYmH,EAAMO,YACb,MAAT/nB,GAAgB+X,KAAKsE,IAAI8D,EAAMI,SAAWJ,EAAMG,cAA0B,EAAVvI,KAAKK,IACvErP,EAAIsf,MAAMquC,MAIP3tD,GAITqsD,EAAe37D,UAAUk9D,YAAc,SAAUx2C,EAAOqH,EAAOovC,EAAeX,EAAS93D,EAAO+mB,GAC5F,IAAInmB,EAAQlF,UAEE,IAAVsE,IACFA,EAAQ,IAGV,IAAIkS,EAAWxW,KAAK28D,iBAAiBr2C,EAAO81C,EAAS93D,EAAOqpB,EAAMia,OAE9D14B,EAAMlP,KAAK48D,mBAAmBt2C,EAAOqH,EAAOyuC,EAAS5lD,GAEzD,GAAItH,EAAImG,MAAQ0nD,EAAe,CAE7B,IAAIC,EAAe,GACfC,EAzbV,SAAqBzuC,GACnB,IAAI0J,EAAM,GAEV,GAAI1J,EAAM/uB,OAAQ,CAEhB,IAAI+gB,GADJ0X,EAAM1J,EAAMlJ,MAAM,IACF,GACZ43C,EAAOhlC,EAAIA,EAAIz4B,OAAS,GAER,IAAhB+gB,EAAM5f,OACRs3B,EAAImB,QAAQ,CACVz4B,MAAO,IAIQ,IAAfs8D,EAAKt8D,OACPs3B,EAAI1nB,KAAK,CACP5P,MAAO,IAKb,OAAOs3B,EAoamBilC,CAAYJ,EAAcjuC,YAEhD,GAAImuC,EAAgBx9D,OAAQ,CAC1B,IAAIu8B,EApaZ,SAAuBxN,EAAOL,EAAUivC,GACtC,IAAI35D,EAAS,GAEb,OAAK+qB,EAAM/uB,QAIP+uB,EAAM/uB,QAAU,GAAK0uB,GAAYivC,GACnC35D,EAAO+M,KAAK,CACVkD,KAAM,GACNsb,UAAW,GACXpuB,MAAO,IAIY,IAAnB4tB,EAAM,GAAG5tB,OACX6C,EAAO+M,KAAK,CACVkD,KAAM,GACNsb,UAAW,GACXpuB,MAAO,IAM6B,KAFxC6C,EAASA,EAAOpC,OAAOmtB,IAEZ/qB,EAAOhE,OAAS,GAAGmB,OAC5B6C,EAAO+M,KAAK,CACVkD,KAAM,GACNsb,UAAW,GACXpuB,MAAO,IAIJ6C,GA7BEA,EAgaW45D,CAAcnuD,EAAIsf,MAAOb,EAAMQ,SAA4B,WAAlBjf,EAAIouD,WAE3D,QAAOthC,GAAS,SAAUthB,EAAMhK,GAC9B,IAAIomC,EAAY,GACZl2C,EAAQ8Z,EAAK9Z,MAMjB,GAJsB,WAAlBsO,EAAIouD,YACN18D,EAAQsE,EAAM82D,gBAAgBp7D,EAAOo7B,EAAStrB,EAAKid,EAAMQ,YAGtD,SAAQvtB,GAAQ,CACnB,IAAI28D,EAAWj3C,EAAM1X,EACjB4uD,EAAWl3C,EAAMzX,EAErB,QAAOouD,GAAiB,SAAUQ,GAChC,IAAI7uD,EAAgB,MAAZwtD,EAAkBx7D,EAAQ68D,EAAa78D,MAC3CiO,EAAgB,MAAZutD,EAAkBqB,EAAa78D,MAAQA,EAC3C2S,EAAQ+S,EAAM0e,QAAQ,CACxBp2B,EAAGA,EACHC,EAAGA,IAGL,GAAIyX,EAAME,QAAS,CACjB,IAAIG,EAASL,EAAM+f,aAEfm3B,EAAStsD,MAAQssD,EAASrsD,MAC5BtC,EAAI,EAAIA,GAGV0E,EAAMiL,KAAO++C,EAASrsD,MAAQqsD,EAASpsD,IAAM,EAAI,EACjDoC,EAAMC,OAAS0K,KAAKmE,KAAKnE,KAAKyZ,IAAIpkB,EAAM3E,EAAI+X,EAAO/X,EAAG,GAAKsP,KAAKyZ,IAAIpkB,EAAM1E,EAAI8X,EAAO9X,EAAG,IAG1FioC,EAAUtmC,KAAK+C,MAGjBypD,EAAaxsD,KAAK,CAChB7B,GAAI0c,EAAS,IAAM+wC,EAAU93D,EAAQ,SAAWoW,EAAKsU,UACrD1G,OAAQwuB,QAMhB5nC,EAAI6lC,WAAaioB,EAGnB,OAAO9tD,GAGTqsD,EAAe37D,UAAUk8D,UAAY,SAAUx1C,EAAOqH,EAAOovC,EAAeX,EAAS/wC,EAAQqyC,EAAOp5D,GAClG,IAEIslC,EAEA+zB,EAJAjvD,EAAY1O,KAAK0O,UACjBK,EAAS/O,KAAK+O,OAKC,cAAfuX,EAAMngB,MACRyjC,EAAI,EAAKgQ,KACT+jB,EAAY39D,KAAKq8D,YAAY/1C,EAAOqH,EAAOyuC,EAAS93D,IAC5B,UAAfgiB,EAAMngB,MAAgC,MAAZi2D,GACnCxyB,EAAI,EAAKpE,MACTm4B,EAAY39D,KAAK08D,aAAap2C,IACT,MAAZ81C,GACTxyB,EAAI,EAAKyO,OACTslB,EAAY39D,KAAKs8D,cAAch2C,KAE/BsjB,EAAI,EAAKgQ,KACT+jB,EAAY39D,KAAKy8D,cAAcn2C,IAGjC,IAAIpX,EAAMlP,KAAK88D,YAAYx2C,EAAOqH,EAAOovC,EAAeX,EAAS93D,EAAO+mB,GAExEnc,EAAM,OAAM,GAAIA,EAAKyuD,GAEL,MAAZvB,GAAmBsB,GAA+B,WAAtBA,EAAMzgD,IAAI,UACxC/N,EAAI0H,OAAS8mD,GAGfxuD,EAAIP,GAAM,SAAQrK,GAA0C+mB,EAAS,IAAM+wC,EAAhD/wC,EAAS,IAAM+wC,EAAU93D,EAEpD,OAAM4K,EAAK,CACTH,OAAQA,EACRizB,MAAOtzB,EAAU6+B,aAGnB,IAAIj3B,EAAO,IAAIszB,EAAE16B,GAGjB,OAFAoH,EAAK3G,SACL3P,KAAKw7D,KAAKhrD,KAAK8F,GACRA,GAGFilD,EAxcT,GChFIqC,GAAU,GACVC,GAAoB,CAAC,OAAQ,OAAQ,QAErCC,GAAuB,CAAC,OAAQ,QAGhCC,GAAiC,CAAC,SAAU,cAiD5C,GAAa,SAAoBxxB,GACnC,IAAIrU,EAAM,GAUV,OARA,QAAOqU,GAAO,SAAUjlC,IAGP,IArDC,SAAuBilC,EAAOjlC,GAChD,IAAI6kB,GAAO,EAoBX,OAlBA,QAAOogB,GAAO,SAAUglB,EAAKjtD,GAC3B,IAAI05D,GAAU,EAEd,IAAK,IAAIr+D,KAAO2H,EACd,GAAIA,EAAKzH,eAAeF,KAAyD,IAAjDo+D,GAA+Bz9D,QAAQX,KAChE,YAAW2H,EAAK3H,KAAS2H,EAAK3H,KAAS4xD,EAAI5xD,GAAM,CACpDq+D,GAAU,EACV,MAKN,GAAIA,EAEF,OADA7xC,EAAM7nB,GACC,KAIJ6nB,EA8BO,CAAc+L,EAAK5wB,IAG7B4wB,EAAI1nB,KAAKlJ,MAIN4wB,GAqcM,GAhcf,WACE,SAAS+lC,EAAkB/uD,GACzB,IAAIhK,EAAQlF,KAEZA,KAAK+4B,UAAY,EAEjB/4B,KAAKw8C,YAAc,SAAU6C,GAC3B,IAAIrd,EAAQ98B,EAAM6I,KAAKkP,IAAI,cAEvBihD,EAAgBh5D,EAAM6zB,UACtBA,GAAa,IAAIz1B,KACjBiQ,EAAQ,CACV3E,EAAGywC,EAAGzwC,GAAKozB,EAAM/kB,IAAI,MAAQ,GAC7BpO,EAAGwwC,EAAGxwC,GAAKmzB,EAAM/kB,IAAI,MAAQ,IAG3B8b,EAAYmlC,EAAgB,KAC9Bh5D,EAAMi5D,YAAY5qD,EAAOrO,EAAM6I,KAAMsxC,EAAG//C,QAExC4F,EAAM6zB,UAAYA,IAItB/4B,KAAKo+D,WAAa,SAAU/e,GAKtBA,IAAOA,EAAGE,OAKdr6C,EAAMm5D,eAGR,UAASr+D,KAAMkP,GAyZjB,OAtZA+uD,EAAkBr+D,UAAU0+D,cAAgB,WAC1C,IAAIp5D,EAAQlF,KAEZ,IAAIA,KAAKuY,QAAT,CAKA,IAuBIA,EAvBAxK,EAAO/N,KAAK+N,KACZ4H,EAAQ3V,KAAK2V,MAEb5G,EAAS/O,KAAKu+D,aAEd5zC,EAAa3qB,KAAKw+D,4BAElBjwD,EAAUvO,KAAKuO,QAkBnB,IAjBAA,EAAU,WAAU,CAClBsd,WAAY9d,EAAKkP,IAAI,cACrB0xB,WAAY5gC,EAAKkP,IAAI,cACrBotB,SAAS,EACTt7B,OAAQA,EACR0gC,iBAAkB1hC,EAAKkP,IAAI,oBAC3BtH,MAAOA,EAAM4C,QACbuT,gBAAiB/d,EAAKkP,IAAI,oBACzB0N,EAAYpc,IAEHsgC,YAA0C,SAA5BtgC,EAAQsgC,WAAW1oC,OAC3CoI,EAAQkK,OAAS,GAGnBlK,EAAQyO,SAAU,EAGdzO,EAAQiK,QAAS,CACnBD,EAAU,IAAI,EAAQ01C,KAAK1/C,GAE3B,IAAIkwD,EAAiBz+D,KAAK0+D,mBAE1B,IAAKnmD,EAAQ0E,IAAI,cAAmC,oBAAnBwhD,EAAsC,CACrE,IAAIE,EAAmBpmD,EAAQ0E,IAAI,aAE/B0hD,IACFA,EAAiB1V,YAAc,SAAU9oD,GAEvC,IAAIy+D,EAAW15D,EAAM25D,gBAAgB1+D,GAErC4N,EAAK2+B,KAAK+xB,EAAgBG,WAKhCrmD,EAAU,IAAI,EAAQumD,OAAOvwD,GAG/BvO,KAAKuY,QAAUA,EAEfvY,KAAKuO,QAAUA,EAEfvO,KAAK++D,eAGPd,EAAkBr+D,UAAUi/D,gBAAkB,SAAUtf,GACtD,IAAIxxC,EAAO/N,KAAK+N,KAEZgB,EAAS/O,KAAKu+D,aAEdhrD,EAAQxE,EAAOiwD,iBAAiBzf,EAAM9C,QAAS8C,EAAM7C,SACrD5mC,EAAa/G,EAAOkO,IAAI,cAI5B,OAHA1J,EAAM3E,EAAI2E,EAAM3E,EAAIkH,EACpBvC,EAAM1E,EAAI0E,EAAM1E,EAAIiH,EACpBvC,EAAMxF,KAAOA,EACNwF,GAGT0qD,EAAkBr+D,UAAUy+D,YAAc,WACxC,IAAI9lD,EAAUvY,KAAKuY,QAEnB,GAAIA,EAAQ0E,IAAI,WAAY,CAE1B,IAAIlP,EAAO/N,KAAK+N,KAEZgB,EAAS/O,KAAKu+D,aAElBv+D,KAAKkyD,SAAW,KAChB35C,EAAQjI,OACRvC,EAAK2+B,KAAK,eAAgB,CACxBn0B,QAASA,IAEXxK,EAAKkxD,WAAU,WACb,OAAO,KAETlwD,EAAOe,SAIXmuD,EAAkBr+D,UAAUu+D,YAAc,SAAU5qD,EAAOxF,EAAMzO,GAC/D,IAAI4F,EAAQlF,KAEZ,GAAKuT,EAAL,CAIKvT,KAAKuY,SACRvY,KAAKs+D,gBAGP,IAAI/vD,EAAUvO,KAAKuO,QACf2wD,EAAe,GACf3yB,EAAQ,GACRlf,EAAWtf,EAAKioD,cAChB1vC,EAAQvY,EAAKkP,IAAI,SAiErB,GA/DA,QAAOoQ,GAAU,SAAUllB,GACzB,IAAIhC,EAAOgC,EAAQ8U,IAAI,QAEvB,GAAI9U,EAAQ8U,IAAI,aAAgD,IAAlC9U,EAAQ8U,IAAI,kBAA6B,CACrE,IAAI2jB,EAAYz4B,EAAQ8U,IAAI,aAE5B,GAAI9U,EAAQg3D,kBAAoB,YAAW,CAAC,OAAQ,OAAQ,QAASh5D,GAEnE,QAAOy6B,GAAW,SAAUnhB,GAC1B,IAAI2/C,EAAWj3D,EAAQk3D,UAAU9rD,EAAOkM,GAExC,GAAI2/C,EAAU,CACZ,IAAIE,EAAWn3D,EAAQo3D,gBAAgBH,EAAU7wD,EAAQ5M,OAEzD,QAAO29D,GAAU,SAAUhiD,GAEzB,IAAI/J,EAAQ+J,EAAE/J,MAEd,IAAK,SAAQA,KAAW,SAAQA,EAAM3E,KAAO,SAAQ2E,EAAM1E,GAAI,CAE7D,IAAID,EAAI,WAAU2E,EAAM3E,GAAK2E,EAAM3E,EAAE2E,EAAM3E,EAAEnP,OAAS,GAAK8T,EAAM3E,EAC7DC,EAAI,WAAU0E,EAAM1E,GAAK0E,EAAM1E,EAAE0E,EAAM1E,EAAEpP,OAAS,GAAK8T,EAAM1E,EACjE0E,EAAQ+S,EAAMoe,YAAY91B,EAAGC,EAAG,GAChCyO,EAAE1O,EAAI2E,EAAM,GACZ+J,EAAEzO,EAAI0E,EAAM,GACZ+J,EAAEkiD,YAAa,EAEf,IAAIC,EAAav6D,EAAMw6D,eAAev3D,EAASmV,EAAErJ,OAEjDqJ,EAAEi3B,OAASkrB,GAEiC,IAAxC,WAAU5B,GAAmB13D,IAC/B+4D,EAAa1uD,KAAK8M,OAKxBivB,EAAQA,EAAMlrC,OAAOi+D,WAGpB,CACL,IAAIK,EAAiBx3D,EAAQ8U,IAAI,kBAE7BnH,EADS6pD,EAAe1iD,IAAI,UACRA,IAAI,cACxB/C,EAAQylD,EAAe1L,SAAS1gD,EAAM3E,EAAIkH,EAAYvC,EAAM1E,EAAIiH,GAEhEoE,GAASA,EAAM+C,IAAI,YAAc/C,EAAM+C,IAAI,YAC7CsvB,EAAQpkC,EAAQo3D,gBAAgBrlD,EAAM+C,IAAI,UAAW1O,EAAQ5M,aAMrE,QAAO4qC,GAAO,SAAUjlC,GAEtB,IAAIiM,EAAQjM,EAAKiM,MACb3E,EAAI,WAAU2E,EAAM3E,GAAK2E,EAAM3E,EAAE2E,EAAM3E,EAAEnP,OAAS,GAAK8T,EAAM3E,EAC7DC,EAAI,WAAU0E,EAAM1E,GAAK0E,EAAM1E,EAAE0E,EAAM1E,EAAEpP,OAAS,GAAK8T,EAAM1E,EACjE0E,EAAQ+S,EAAMoe,YAAY91B,EAAGC,EAAG,GAChCvH,EAAKsH,EAAI2E,EAAM,GACfjM,EAAKuH,EAAI0E,EAAM,MAGbg5B,EAAM9sC,OAAQ,CAChB,IAAImgE,EAAUrzB,EAAM,GAEpB,IAAKA,EAAMszB,OAAM,SAAUv4D,GACzB,OAAOA,EAAK3F,QAAUi+D,EAAQj+D,SAC5B,CACF,IAAIm+D,EAAgBF,EAChBG,EAAoBnnC,IACxB2T,EAAMrkC,SAAQ,SAAUZ,GACtB,IAAImqD,EAAWmM,GAAQnM,SAAS,CAACl+C,EAAM3E,EAAG2E,EAAM1E,GAAI,CAACvH,EAAKsH,EAAGtH,EAAKuH,IAE9D4iD,EAAWsO,IACbA,EAAoBtO,EACpBqO,EAAgBx4D,MAGpBilC,EAAQA,EAAM4tB,QAAO,SAAU7yD,GAC7B,OAAOA,EAAK3F,QAAUm+D,EAAcn+D,SAEtCu9D,EAAeA,EAAa/E,QAAO,SAAU7yD,GAC3C,OAAOA,EAAK3F,QAAUm+D,EAAcn+D,SAIxC,IAAuB,IAAnB4M,EAAQyxD,QAAoBzzB,EAAM9sC,OAAS,EAAG,CAChD,IAAIwgE,EAAa1zB,EAAM,GACnB5T,EAAQza,KAAKsE,IAAIjP,EAAM1E,EAAIoxD,EAAWpxD,GAE1C,QAAO09B,GAAO,SAAU2zB,GAClBhiD,KAAKsE,IAAIjP,EAAM1E,EAAIqxD,EAAMrxD,IAAM8pB,IACjCsnC,EAAaC,EACbvnC,EAAQza,KAAKsE,IAAIjP,EAAM1E,EAAIqxD,EAAMrxD,QAIjCoxD,GAAe,SAAQA,EAAWrxD,IAAO,SAAQqxD,EAAWpxD,KAC9DqwD,EAAe,CAACe,IAGlB1zB,EAAQ,CAAC0zB,GAGXjgE,KAAKmgE,YAAY5sD,EAAOg5B,EAAO2yB,EAAc5/D,GAI7CyO,EAAKkxD,WAAU,SAAUt+D,GACvB,IAAI8C,GAAS,EAWb,OATA,QAAO8oC,GAAO,SAAUjlC,GAGtB,GAFaA,EAAKiM,MAAM6nD,UAETz6D,EAEb,OADA8C,GAAS,GACF,KAIJA,KACN,QAEHzD,KAAKq+D,gBAITJ,EAAkBr+D,UAAUmQ,MAAQ,WAClC,IAAIwI,EAAUvY,KAAKuY,QAEfA,GACFA,EAAQvI,UAGVhQ,KAAKuY,QAAU,KACfvY,KAAKkyD,SAAW,KAEhBlyD,KAAKogE,aAGPnC,EAAkBr+D,UAAU2+D,WAAa,WACvC,OAAOv+D,KAAK+N,KAAKkP,IAAI,WAGvBghD,EAAkBr+D,UAAU8+D,iBAAmB,WAC7C,IAEI7wD,EAFAwyD,EAAY,OAAMrgE,KAAKuO,QAAS,aAYpC,OARK8xD,GAA2B,cAAdA,EAEO,UAAdA,EACTxyD,EAAY,cACW,SAAdwyD,IACTxyD,EAAY,MAJZA,EAAY,kBAOPA,GAGTowD,EAAkBr+D,UAAU4+D,0BAA4B,WACtD,IAeI8B,EAfAvyD,EAAO/N,KAAK+N,KACZQ,EAAUvO,KAAKuO,QACfoH,EAAQ3V,KAAK2V,MAEbgV,EAAa,OAAM,GAAIhV,EAAM4C,SAE7B8U,EAAW,UAAStf,EAAKioD,eAAe,SAAU7tD,GACpD,OAAOA,EAAQ8U,IAAI,cAGjB/G,EAAS,QAAO,OAAMmX,GAAU,SAAUllB,GAC5C,OAAOA,EAAQ8U,IAAI,YAGjBkK,IAAepZ,EAAKkP,IAAI,UAAWlP,EAAKkP,IAAI,SAASkK,aAGzD,GAAIpZ,EAAKkP,IAAI,UAAuC,cAA3BlP,EAAKkP,IAAI,SAAS9W,KACzC,GAAkB,aAAd+P,EAAO,IACa,IAAlB3H,EAAQ2L,SACN20B,EAAa,OAAM,GAAIl5B,EAAM0D,wBAEtB8N,aAAeA,EAC1Bm5C,EAAgB,CACd7nD,OAAQ,EACRo2B,WAAYA,SAGX,GAAI,WAAUivB,GAAsB5nD,EAAO,KAAO,EAAG,CAC1D,IAAI24B,KAAa,OAAM,GAAIl5B,EAAM4D,wBAEtB4N,aAAeA,EAC1Bm5C,EAAgB,CACdzxB,WAAYA,GAKlB,OAAO,OAAMlkB,EAAY21C,IAG3BrC,EAAkBr+D,UAAUm/D,WAAa,WACvC,IAAIhxD,EAAO/N,KAAK+N,KAEZwyD,EAAevgE,KAAK0+D,mBAEpB6B,IACFxyD,EAAKC,GAAGuyD,EAAcvgE,KAAKw8C,aAC3BzuC,EAAKC,GAAG,mBAAoBhO,KAAKo+D,cAIrCH,EAAkBr+D,UAAUwgE,UAAY,WACtC,IAAIryD,EAAO/N,KAAK+N,KAEZwyD,EAAevgE,KAAK0+D,mBAEpB6B,IACFxyD,EAAKmC,IAAIqwD,EAAcvgE,KAAKw8C,aAC5BzuC,EAAKmC,IAAI,mBAAoBlQ,KAAKo+D,cAItCH,EAAkBr+D,UAAUugE,YAAc,SAAU5sD,EAAOitD,EAAQtB,EAAc5/D,GAC/E,IAAIiZ,EAAUvY,KAAKuY,QACf25C,EAAWlyD,KAAKkyD,SAEpB,IAAKA,GAAYA,EAAStjD,IAAM2E,EAAM3E,GAAKsjD,EAASrjD,IAAM0E,EAAM1E,EAAG,CACjE,IAAI09B,EAAQ,GAAWi0B,GAEvBxgE,KAAKkyD,SAAW3+C,EAChB,IAAIxF,EAAO/N,KAAK+N,KACZ4H,EAAQ3V,KAAK2V,MACb/G,EAAI,WAAU2E,EAAM3E,GAAK2E,EAAM3E,EAAE2E,EAAM3E,EAAEnP,OAAS,GAAK8T,EAAM3E,EAC7DC,EAAI,WAAU0E,EAAM1E,GAAK0E,EAAM1E,EAAE0E,EAAM1E,EAAEpP,OAAS,GAAK8T,EAAM1E,EAE5D0J,EAAQ0E,IAAI,YACflP,EAAK2+B,KAAK,eAAgB,CACxB99B,EAAGA,EACHC,EAAGA,EACH0J,QAASA,IAIb,IAAIiI,EAAQ+rB,EAAM,GACd5qC,EAAQ6e,EAAM7e,OAAS6e,EAAMvO,KAE7BsG,EAAQu2B,gBAAgBntC,EAAO4qC,KACjCx+B,EAAK2+B,KAAK,iBAAkB,CAC1Bn0B,QAASA,EACT3J,EAAGA,EACHC,EAAGA,EACH09B,MAAOA,IAGT5qC,EAAQ4qC,EAAM,GAAG5qC,OAAS4qC,EAAM,GAAGt6B,KACnCsG,EAAQ42B,WAAWxtC,EAAO4qC,GAErB,WAAU2yB,IASb3mD,EAAQm3B,eAKRn3B,EAAQlI,IAAI,cAAe,MAba,IAApCrQ,KAAKuO,QAAQkyD,mBAGfloD,EAAQlI,IAAI,cAAe6uD,GAE3B3mD,EAAQ82B,WAAW6vB,EAAcvpD,EAAMqD,gBAY7CT,EAAQ62B,YAAYxgC,GAAKb,EAAKkP,IAAI,cAAcA,IAAI,MAAQ,GAAIpO,GAAKd,EAAKkP,IAAI,cAAcA,IAAI,MAAQ,GAAI3d,GAC5GiZ,EAAQnI,SAIZ6tD,EAAkBr+D,UAAU8/D,eAAiB,SAAUv3D,EAAS8L,GAC9D,IAAIqhD,EAAYntD,EAAQ8U,IAAI,cAAgB,QACxC/C,EAAQ/R,EAAQyvD,gBAAgB,UAAY,SAE5C1oD,EAAM,CACR+E,MAAOA,GAGT,OALkBwhD,GAAgBH,GAIThB,eAAep6C,EAAOhL,IAI1C+uD,EA7bT,GCMe,GA7Ef,WACE,SAASyC,EAAqBxxD,QAChB,IAARA,IACFA,EAAM,CACJnB,KAAM,OAIV/N,KAAK2gE,QAAU,GACf3gE,KAAK4gE,YAAc,GACnB5gE,KAAK+N,KAAOmB,EAAInB,KAgElB,OA7DA2yD,EAAqB9gE,UAAUihE,SAAW,SAAU5uD,EAAM6uD,EAAKhxD,GAC7D9P,KAAK4gE,YAAY3uD,GAAQ,CACvB6uD,IAAKA,EACLhxD,KAAMA,GAGR9P,KAAK+gE,aAGPL,EAAqB9gE,UAAUohE,SAAW,SAAU/uD,GAClD,OAAOjS,KAAK2gE,QAAQ1uD,IAGtByuD,EAAqB9gE,UAAUqhE,aAAe,WAC5C,OAAOjhE,KAAK2gE,SAGdD,EAAqB9gE,UAAUmQ,MAAQ,WACrC/P,KAAK2gE,QAAU,GACf3gE,KAAK4gE,YAAc,GAEf5gE,KAAKkhE,eACPC,aAAanhE,KAAKkhE,cAClBlhE,KAAKkhE,aAAe,OAIxBR,EAAqB9gE,UAAUmhE,UAAY,WACzC,IAAI77D,EAAQlF,KAERohE,EAAaphE,KAAK4gE,YAElB5gE,KAAKkhE,eACPC,aAAanhE,KAAKkhE,cAClBlhE,KAAKkhE,aAAe,MAGtBlhE,KAAKkhE,aAAeG,YAAW,WAC7B,IAAK,IAAIpzB,KAAUmzB,EAAY,CAC7B,IAAIE,EAAQF,EAAWnzB,GACnB6yB,EAAMQ,EAAMR,IAEX57D,EAAMy7D,QAAQ1yB,IAAW/oC,EAAMy7D,QAAQ1yB,KAAY6yB,IAEtD57D,EAAMy7D,QAAQ1yB,GAAU6yB,EAExB57D,EAAMq8D,cAActzB,EAAQqzB,IAKhCp8D,EAAM07D,YAAc,KACnB,KAGLF,EAAqB9gE,UAAU2hE,cAAgB,SAAUtvD,EAAM6uD,GAC7D9gE,KAAK+N,KAAK2+B,KAAKz6B,EAAO,UAAW,oBAAS,CACxCA,KAAMA,GACL6uD,KAGEJ,EA1ET,GCFA,SAASc,GAAkBzzD,EAAMmM,GAC/B,IAAIunD,EAAoB1zD,EAAKkP,IAAI,mBAAmBA,IAAI,aACpDykD,EAAe3zD,EAAKkP,IAAI,cAAcA,IAAI,aAE9C,OAAIwkD,IAAsBvnD,GAASwnD,IAAiBxnD,EAOtD,SAASynD,GAAa/C,GAChBA,EAASt/D,QAAUs/D,EAASt/D,OAAO2d,IAAI,YACzC2hD,EAASn/C,KAAOm/C,EAASt/D,OAAO2d,IAAI,WAIxC,SAAS2kD,GAAYC,EAAQC,GAC3B,SAAID,IAAUC,GAAUD,IAAWC,GAOrC,SAASC,GAASziE,EAAQyO,EAAMgB,GAC9B,QAAIzP,IAAWyP,IAAUhB,EAAKi0D,cAAc1iE,IAO9C,SAAS2iE,GAAU3iE,EAAQusB,GAGzB,IAFA,IAAI7c,EAAS1P,EAEN0P,EAASA,EAAOiO,IAAI,WACzB,GAAIjO,IAAW6c,EACb,OAAO,EAIX,OAAO,EAGT,IA6Me,GA3Mf,WACE,SAASq2C,EAAgBhzD,QACX,IAARA,IACFA,EAAM,CACJnB,KAAM,KACNgB,OAAQ,OAIZ/O,KAAK+N,KAAOmB,EAAInB,KAChB/N,KAAK+O,OAASG,EAAIH,OAClB/O,KAAKmiE,YAAcniE,KAAK+N,KAAKkP,IAAI,cACjCjd,KAAKoiE,eAAiB,GACtBpiE,KAAKqiE,YAAcriE,KAAK+O,OAAOkO,IAAI,cA2LrC,OAxLAilD,EAAgBtiE,UAAU0iE,aAAe,SAAUjjB,GAOjD,MANU,CACRzwC,EAAGywC,EAAGzwC,EAAI5O,KAAKqiE,YACfxzD,EAAGwwC,EAAGxwC,EAAI7O,KAAKqiE,YACf/iE,OAAQ+/C,EAAG//C,OACXigD,MAAOF,EAAGE,QAKd2iB,EAAgBtiE,UAAU2iE,mBAAqB,SAAUroD,EAAOrM,EAAW+wD,GACzE,IAAIhL,EAAY15C,EAAMjI,KAEtB,GAAI2hD,IAAc15C,EAAM+C,IAAI,aAAc,CACxC,IAAIlP,EAAO/N,KAAK+N,KACZkgC,EAAS2lB,EAAY,IAAM/lD,EAC/B+wD,EAAS7wD,KAAOA,EAChB6wD,EAASloB,WAAax8B,EAAM+C,IAAI,cAEhClP,EAAK2+B,KAAKuB,EAAQ2wB,KAItBsD,EAAgBtiE,UAAU4iE,UAAY,SAAUljE,EAAQmjE,EAAW30D,GACjExO,EAAO0O,GAAGy0D,EAAW30D,GAErB9N,KAAKoiE,eAAe5xD,KAAK,CACvBlR,OAAQA,EACR6G,KAAMs8D,EACN30D,QAASA,KAIbo0D,EAAgBtiE,UAAUk8C,WAAa,WACrC,IAAIptC,EAAY1O,KAAK+N,KAAKkP,IAAI,aAE9Bjd,KAAKwiE,UAAU9zD,EAAW,YAAa,gBAAe1O,KAAM,cAE5DA,KAAKwiE,UAAU9zD,EAAW,YAAa,gBAAe1O,KAAM,YAE5DA,KAAKwiE,UAAU9zD,EAAW,UAAW,gBAAe1O,KAAM,cAE1DA,KAAKwiE,UAAU9zD,EAAW,QAAS,gBAAe1O,KAAM,cAExDA,KAAKwiE,UAAU9zD,EAAW,WAAY,gBAAe1O,KAAM,cAE3DA,KAAKwiE,UAAU9zD,EAAW,cAAe,gBAAe1O,KAAM,cAE9DA,KAAKwiE,UAAU9zD,EAAW,QAAS,gBAAe1O,KAAM,cAExDA,KAAKwiE,UAAU9zD,EAAW,aAAc,gBAAe1O,KAAM,cAE7DA,KAAKwiE,UAAU9zD,EAAW,YAAa,gBAAe1O,KAAM,cAE5DA,KAAKwiE,UAAU9zD,EAAW,WAAY,gBAAe1O,KAAM,cAE3DA,KAAKwiE,UAAUxiE,KAAK+O,OAAQ,YAAa,gBAAe/O,KAAM,kBAE9D,IAAI0iE,EAAY1iE,KAAK+O,OAAOkO,IAAI,aAChCjd,KAAK2iE,uBAAyB,gBAAe3iE,KAAM,qBACnD0iE,EAAUE,iBAAiB,aAAc5iE,KAAK2iE,yBAGhDT,EAAgBtiE,UAAUijE,UAAY,SAAUxjB,GAC9C,IAAIojB,EAAYpjB,EAAGl5C,KAEfy4D,EAAW5+D,KAAKsiE,aAAajjB,GAE7B//C,EAAS+/C,EAAG//C,OAChBqiE,GAAa/C,GACF4C,GAAkBxhE,KAAK+N,KAAMzO,IAGtCU,KAAKuiE,mBAAmBjjE,EAAQmjE,EAAW7D,GAK7C,IAAIkE,EAAexjE,EAAO2d,IAAI,UAE9B,GAAI6lD,EAAc,CAEhB,IAAIC,EAAaD,EAAa7lD,IAAI,QAE9B8lD,GAA6B,eAAfA,GAChB/iE,KAAK+N,KAAK2+B,KAAK,SAAW+1B,EAAW7D,GAIzC5+D,KAAK+N,KAAK2+B,KAAK+1B,EAAW7D,IAG5BsD,EAAgBtiE,UAAUojE,QAAU,SAAU3jB,GAE5C,IAAIuf,EAAW5+D,KAAKsiE,aAAajjB,GAE7B//C,EAAS+/C,EAAG//C,OAChBqiE,GAAa/C,GACb5+D,KAAK+N,KAAK2+B,KAAK,YAAakyB,GAC5B,IAAIqE,EAAazB,GAAkBxhE,KAAK+N,KAAMzO,GAEzC2jE,GACHjjE,KAAKuiE,mBAAmBjjE,EAAQ,YAAas/D,GAG/C,IAAIsE,EAAYljE,KAAKmjE,WACjBC,EAAgB5B,GAAkBxhE,KAAK+N,KAAMm1D,IAE7CA,GAAcE,GAAkBxB,GAAYsB,EAAW5jE,KAGzDqiE,GAFe3hE,KAAKsiE,aAAajjB,IAIjCr/C,KAAKuiE,mBAAmBW,EAAW,aAActE,IAGnD,IAAKqE,IAAerB,GAAYsB,EAAW5jE,GAAS,CAClD,IAAI+jE,EAAWrjE,KAAKsiE,aAAajjB,GAEjCsiB,GAAa0B,GAEbrjE,KAAKuiE,mBAAmBjjE,EAAQ,aAAc+jE,GAGhD,IAAIC,EAAkBrB,GAAU3iE,EAAQU,KAAKmiE,aACzCoB,IAAqBL,GAAYjB,GAAUiB,EAAWljE,KAAKmiE,aAE3DmB,EACGC,EAGHvjE,KAAK+N,KAAK2+B,KAAK,kBAAmBkyB,GAFlC5+D,KAAK+N,KAAK2+B,KAAK,mBAAoBkyB,GAKjC2E,GACFvjE,KAAK+N,KAAK2+B,KAAK,mBAAoBkyB,GAIvC5+D,KAAKmjE,WAAa7jE,GAGpB4iE,EAAgBtiE,UAAU4jE,cAAgB,SAAUnkB,GAClD,IAAIE,EAAQ,WAAUF,GAAMA,EAAG,GAAKA,EAEhCuf,EAAW5+D,KAAKsiE,aAAa/iB,GAE7BxwC,EAAS/O,KAAK+O,OACdhB,EAAO/N,KAAK+N,KACZzO,EAASigD,EAAMjgD,OACfmkE,EAAe1B,GAASziE,EAAQyO,EAAMgB,GACtC20D,IAAmB1jE,KAAK2jE,mBAAoB5B,GAAS/hE,KAAK2jE,kBAAmB51D,EAAMgB,GAEnFzP,IAAWU,KAAK2jE,oBACdD,IAAqBD,EACvBzjE,KAAK+N,KAAK2+B,KAAK,aAAckyB,IACnB8E,GAAoBD,GAC9BzjE,KAAK+N,KAAK2+B,KAAK,aAAckyB,IAIjC5+D,KAAK2jE,kBAAoBrkE,GAG3B4iE,EAAgBtiE,UAAUgkE,kBAAoB,SAAUvkB,GAEtD,IAAIuf,EAAW5+D,KAAKsiE,aAAajjB,GAGjCuf,EAASrf,MAAQF,EACjBr/C,KAAK+N,KAAK2+B,KAAK,mBAAoBkyB,IAGrCsD,EAAgBtiE,UAAUikE,YAAc,WACtC,IAAIv1D,EAAgBtO,KAAKoiE,eAEzB,QAAO9zD,GAAe,SAAUw1D,GAC9BA,EAAGxkE,OAAO4Q,IAAI4zD,EAAG39D,KAAM29D,EAAGh2D,YAGZ9N,KAAK+O,OAAOkO,IAAI,aACtB8mD,oBAAoB,aAAc/jE,KAAK2iE,yBAG5CT,EAxMT,GC1BI,GAEJ,WACE,SAAS8B,EAAMj2D,EAAMmB,GACnBlP,KAAK+N,KAAOA,EACZ/N,KAAKkP,IAAMA,EACXlP,KAAKoP,OA0LP,OAnLA40D,EAAMpkE,UAAUwP,KAAO,WAErBpP,KAAK0O,UAAY1O,KAAKikE,mBAEtB,IAAIxkD,EAAOzf,KAAK+N,KAAKkP,IAAI,QACzBjd,KAAKkkE,OAASlkE,KAAKmkE,eAAe1kD,IAIpCukD,EAAMpkE,UAAUqkE,iBAAmB,WAEjC,OADsBjkE,KAAK+N,KAAKkP,IAAI,oBACbswB,YAYzBy2B,EAAMpkE,UAAU+P,OAAS,WACvB3P,KAAKokE,eAELpkE,KAAKq1C,cACLr1C,KAAKqkE,cAOPL,EAAMpkE,UAAUwkE,aAAe,WAE7BpkE,KAAKskE,mBAELtkE,KAAKukE,qBAOPP,EAAMpkE,UAAU2kE,kBAAoB,WAClC,IAAIr/D,EAAQlF,KAGZ,OAAOA,KAAKkkE,OAAO9/D,KAAI,SAAUogE,GAC/B,OAAOt/D,EAAMu/D,YAAYD,OAQ7BR,EAAMpkE,UAAU0kE,iBAAmB,WACjC,IAAIp/D,EAAQlF,KAGZ,QAAOA,KAAKkkE,QAAQ,SAAUM,GACxBA,EAAMz2D,OACR7I,EAAM6I,KAAK22D,WAAWF,EAAMz2D,MAE5By2D,EAAMz2D,UAAOjH,OAUnBk9D,EAAMpkE,UAAU6kE,YAAc,SAAUD,GACtC,IAAIvzD,EAASuzD,EAAMvzD,OACfwO,EAAO+kD,EAAM/kD,KACb1R,EAAO/N,KAAK+N,KAAK42D,WAAW,CAC9BzzD,MAAOD,EAAOC,MACdC,IAAKF,EAAOE,IACZtK,QAAS,OAAM29D,EAAO,UAAWxkE,KAAKkP,IAAIrI,SAAW,KAGvDkH,EAAK0R,KAAKA,GAAQ,IAClBzf,KAAK4kE,kBAAkB72D,EAAMy2D,GAC7B,IAAIK,EAAW7kE,KAAKkP,IAAI21D,SASxB,OAPIA,GACFA,EAAS92D,EAAMy2D,GAGjBxkE,KAAK8kE,iBAAiB/2D,EAAMy2D,GAE5BA,EAAMz2D,KAAOA,EACNA,GAQTi2D,EAAMpkE,UAAUmQ,MAAQ,WACtB/P,KAAKskE,oBAOPN,EAAMpkE,UAAUoQ,QAAU,WACxBhQ,KAAK+P,QACD/P,KAAK0O,WAAW1O,KAAK0O,UAAUyB,SACnCnQ,KAAK+N,UAAOjH,EACZ9G,KAAKkkE,OAAS,GACdlkE,KAAK0O,eAAY5H,EACjB9G,KAAKmO,WAAY,GAInB61D,EAAMpkE,UAAUglE,kBAAoB,SAAU72D,EAAMy2D,KAGpDR,EAAMpkE,UAAUklE,iBAAmB,SAAU/2D,EAAMy2D,KAWnDR,EAAMpkE,UAAUmlE,eAAiB,SAAUtlD,EAAMmoB,GAC/C,IAAIzb,EAAM,GACNgX,EAAQ,GAWZ,OATA,QAAO1jB,GAAM,SAAUb,GACrB,IAAIhe,EAAQge,EAAEgpB,GAET,SAAQhnC,IAAWuiC,EAAMviC,KAC5BurB,EAAI3b,KAAK5P,GACTuiC,EAAMviC,IAAS,MAIZurB,GAWT63C,EAAMpkE,UAAUi5D,UAAY,SAAUmM,EAAMC,EAAMC,EAAQlQ,GACxD,IAAImQ,EAAS,GAAc,IAATF,EAAa,EAAIA,GAE/BG,EAAS,GAAc,IAATJ,EAAa,EAAIA,GAUnC,MAAO,CACL9zD,MATU,CACVtC,EAAGu2D,EAASD,EACZr2D,EAAGu2D,EAASpQ,GAQZ7jD,IANQ,CACRvC,EAAGu2D,GAAUD,EAAS,GACtBr2D,EAAGu2D,GAAUpQ,EAAS,MAQnBgP,EA9LT,GCtBIqB,GAAS,GCFFC,GAAc,GAOdC,GAAa,SAAoBp/D,GAC1C,OAAOm/D,GAAYn/D,EAAKmM,gBAQf,GAAkB,SAAyBnM,EAAMi7B,GAE1D,GAAImkC,GAAWp/D,GACb,MAAM,IAAIyP,MAAM,iBAAmBzP,EAAO,cAG5C,IAAI/F,EAAI+F,EAAKmM,cAEbgzD,GAAYllE,GAAKghC,EACjBokC,GAAsBplE,EAAGghC,ICnB3B,SAASqkC,GAAW1nD,EAAIC,EAAI2P,GAC1B,IAAI+3C,EAAS/3C,EAAMgB,UAAU5Q,GACzB4nD,EAASh4C,EAAMgB,UAAU3Q,GAE7B,OAAI2P,EAAMO,WACDw3C,IAAWC,EAGb,iBAAgBD,EAAQC,GAGjC,SAASC,GAAcj4C,GACrB,OAAOA,EAAM8qC,OAAS9qC,EAAMia,MAG9B,IAyce,GAvcf,WACE,SAASq2B,EAAkB91D,GACzBnI,KAAKmI,QAAU,KACfnI,KAAK6lE,WAAa,KAClB7lE,KAAKmI,QAAUA,EAgcjB,OAvbA81D,EAAkBr+D,UAAUy/D,UAAY,SAAU9rD,EAAO7T,GACvD,GAAsB,IAAlBA,EAAOD,OAAc,OAAO,KAEhC,IAAI0I,EAAUnI,KAAKmI,QACf0iB,EAAc1iB,EAAQ8U,IAAI,QAC1By+C,EAASvzD,EAAQ8yD,YACjBztC,EAASrlB,EAAQslB,YACjBqS,EAAS47B,EAAO9zB,MAChB7H,EAASvS,EAAOoa,MAChBzb,EAAM,KAEV,GAAoB,UAAhBtB,GAA2C,YAAhBA,EAA2B,CAExD,IACIoa,EADQ98B,EAAQ8U,IAAI,SACA8S,OAAOxc,GAE3BuyD,EAAWpK,EAAO3rC,OAAOkV,EAAYr2B,GAErCm3D,EAAWv4C,EAAOuC,OAAOkV,EAAYp2B,GAGrC8pB,EAAQC,IAYZ,OAVA,QAAOl5B,GAAQ,SAAUiB,GACvB,IAAIqlE,EAAarlE,EAAgB,QAC7B8wD,EAAWvzC,KAAKyZ,IAAIquC,EAAWlmC,GAAUgmC,EAAU,GAAK5nD,KAAKyZ,IAAIquC,EAAWjmC,GAAUgmC,EAAU,GAEhGtU,EAAW94B,IACbA,EAAQ84B,EACRtlC,EAAMxrB,MAIHwrB,EAIT,IAAI3L,EAAQ9gB,EAAO,GACfw9D,EAAOx9D,EAAOA,EAAOD,OAAS,GAE9B4jC,EAASrjC,KAAKimE,kBAAkB1yD,GAEhC2yD,EAAc1lD,EAAkB,QAAEsf,GAClCqmC,EAAc3lD,EAAkB,QAAEuf,GAClCqmC,EAAalJ,EAAiB,QAAEp9B,GAEhCumC,EAAW74C,EAAOW,UAAY,WAAUg4C,GAI5C,GAAI,WAAUD,GACZ,QAAOxmE,GAAQ,SAAUqhC,GACvB,IAAIoN,EAASpN,EAAmB,QAEhC,GAAI26B,EAAO/sC,UAAUwf,EAAOrO,GAAQ,KAAOuD,GAAUq4B,EAAO/sC,UAAUwf,EAAOrO,GAAQ,KAAOuD,EAAQ,CAClG,IAAIgjC,EASF,OADAl6C,EAAM4U,GACC,EAPF,WAAU5U,KACbA,EAAM,IAGRA,EAAI3b,KAAKuwB,OAQX,WAAU5U,KACZA,EAAMnsB,KAAKsmE,cAAcn6C,EAAK5Y,QAE3B,CACL,IAAIgzD,EAEJ,GAAK7K,EAAOvtC,UAA4B,YAAhButC,EAAOv1D,KAyBxB,CAEL,GAAIk9B,EAASq4B,EAAO/sC,UAAUy3C,IAAe/iC,EAASq4B,EAAO/sC,UAAUu3C,GAErE,OAAO,KAOT,IAJA,IAAIM,EAAW,EACXC,EAAU/mE,EAAOD,OAAS,EAC1BinE,OAAY,EAETF,GAAYC,GAAS,CAC1BC,EAAYxoD,KAAK2V,OAAO2yC,EAAWC,GAAW,GAC9C,IAAIn/D,EAAO5H,EAAOgnE,GAAuB,QAAE5mC,GAE3C,GAAI2lC,GAAWn+D,EAAM+7B,EAAQq4B,GAC3B,OAAOh8D,EAAOgnE,GAGZhL,EAAO/sC,UAAUrnB,IAASo0D,EAAO/sC,UAAU0U,IAC7CmjC,EAAWE,EAAY,EACvBxJ,EAAOx9D,EAAOgnE,GACdH,EAAS7mE,EAAOgnE,EAAY,KAEZ,IAAZD,IACFvJ,EAAOx9D,EAAO,IAGhB+mE,EAAUC,EAAY,SAnD1B,QAAOhnE,GAAQ,SAAUqhC,EAAQz8B,GAC/B,IAAI6pC,EAASpN,EAAmB,QAEhC,GAAI0kC,GAAWt3B,EAAOrO,GAASuD,EAAQq4B,GAAS,CAC9C,IAAI2K,EAQF,OADAl6C,EAAM4U,GACC,EAPF,WAAU5U,KACbA,EAAM,IAGRA,EAAI3b,KAAKuwB,QAKF26B,EAAO/sC,UAAUwf,EAAOrO,KAAYuD,IAC7C65B,EAAOn8B,EACPwlC,EAAS7mE,EAAO4E,EAAQ,OAIxB,WAAU6nB,KACZA,EAAMnsB,KAAKsmE,cAAcn6C,EAAK5Y,IAmC9B2pD,GAAQqJ,GAENroD,KAAKsE,IAAIk5C,EAAO/sC,UAAUuuC,EAAiB,QAAEp9B,IAAWuD,GAAUnlB,KAAKsE,IAAIk5C,EAAO/sC,UAAU43C,EAAmB,QAAEzmC,IAAWuD,KAC9H65B,EAAOqJ,GAKb,IAAI9U,EAAWzxD,KAAK2mE,gBAOpB,OAJKx6C,GAAOjO,KAAKsE,IAAIk5C,EAAO/sC,UAAUuuC,EAAiB,QAAEp9B,IAAWuD,IAAWouB,EAAW,IACxFtlC,EAAM+wC,GAGD/wC,GAST8xC,EAAkBr+D,UAAU2/D,gBAAkB,SAAU9/C,EAAMmnD,GAC5D,IAWI30D,EACArR,EAZAuH,EAAUnI,KAAKmI,QACfgmC,EAAS1uB,EAAiB,QAE1BonD,EAAe7mE,KAAK8mE,iBAAiB34B,EAAQy4B,GAE7CG,EAAiB5+D,EAAQ8U,IAAI,kBAC7BlH,EAAe5N,EAAQ8U,IAAI,SAASlH,aAEpC7P,EAAOlG,KAAKgnE,SAASvnD,GAErB8sB,EAAQ,GAIZ,SAAS06B,EAAQC,EAAUC,GACzB,IAAK,SAAQA,IAA4B,KAAdA,EAAkB,CAE3C,IAAI7/D,EAAO,CACT3F,MAAOklE,EACPtzD,MAAOkM,EACPxN,KAAMi1D,GAAYL,EAClBjmE,MAAOumE,EACPlzD,MAAOwL,EAAKxL,OAAS8B,EACrBw+B,QAAQ,EACRruC,KAAMA,GAERqmC,EAAM/7B,KAAKlJ,IAIf,GAAIy/D,EAAgB,CAClB,IAAIlQ,EAASkQ,EAAelQ,OACxBhvC,EAAWk/C,EAAel/C,SAE9B,GAAIA,EAAU,CAEZ,IAAIu/C,EAAiBvQ,EAAOzyD,KAAI,SAAUwjC,GACxC,OAAOnoB,EAAiB,QAAEmoB,MAExB14B,EAAM2Y,EAAS9nB,WAAM,EAAQqnE,GAE7BC,EAAU,oBAAS,CACrB9zD,MAAOkM,EACP9d,MAAOklE,EACP5yD,MAAOwL,EAAKxL,OAAS8B,EACrBw+B,QAAQ,EAERruC,KAAMA,GACLgJ,GAEHq9B,EAAM/7B,KAAK62D,OACN,CACL,IAAIpR,EAAW9tD,EAAQ8U,IAAI,UAE3B,QAAO45C,GAAQ,SAAUjvB,GACvB,IAAK,SAAQuG,EAAOvG,IAAS,CAE3B,IAAIja,EAAQsoC,EAASruB,GACrB31B,EAAO2zD,GAAcj4C,GACrB/sB,EAAQ+sB,EAAMoB,QAAQof,EAAOvG,IAC7Bq/B,EAAQh1D,EAAMrR,YAIf,CACL,IAAI0mE,EAAatnE,KAAKunE,wBAEjB,SAAQp5B,EAAOm5B,EAAW1/B,UAE7BhnC,EAAQZ,KAAKwnE,iBAAiBr5B,EAAQm5B,GAEtCL,EADAh1D,EAAOjS,KAAKynE,gBAAgBt5B,GACdvtC,IAIlB,OAAO2rC,GAGT0xB,EAAkBr+D,UAAUmQ,MAAQ,WAClC/P,KAAK6lE,WAAa,MAIpB5H,EAAkBr+D,UAAUqmE,kBAAoB,SAAU1yD,GACxD,IAAI9P,EAAS,EACT0E,EAAUnI,KAAKmI,QACfme,EAAQne,EAAQ8U,IAAI,SACpBy+C,EAASvzD,EAAQ8yD,YACjB1sC,EAAQmtC,EAAOntC,MACfgB,EAAWhB,EAAMA,EAAM9uB,OAAS,GAChC6vB,EAAWf,EAAM,GAEjB8U,EADc/c,EAAMyJ,OAAOxc,GACN3E,EAazB,OAXIzG,EAAQ0pD,cAAgBxuB,GAAU,EAAI9T,GAAY,IACpD8T,EAAS/T,GAGX7rB,EAASi4D,EAAO3rC,OAAOsT,GAEnBq4B,EAAOxtC,aAETzqB,EAASi4D,EAAO/sC,UAAUlrB,IAGrBA,GAGTw6D,EAAkBr+D,UAAU0mE,cAAgB,SAAU11C,EAAKrd,GACzD,IAAIpL,EAAUnI,KAAKmI,QACfme,EAAQne,EAAQ8U,IAAI,SACpBuQ,EAASrlB,EAAQslB,YACjBsS,EAASvS,EAAOoa,MAChB3C,EAAc3e,EAAMyJ,OAAOxc,GAC3BqwB,EAASpW,EAAOuC,OAAOkV,EAAYp2B,GACnCsd,EAAMyE,EAAIA,EAAInxB,OAAS,GAW3B,OATA,QAAOmxB,GAAK,SAAUjwB,GACpB,IAAIwtC,EAASxtC,EAAgB,QAE7B,GAAIwtC,EAAOpO,GAAQ,IAAM6D,GAAUuK,EAAOpO,GAAQ,IAAM6D,EAEtD,OADAzX,EAAMxrB,GACC,KAIJwrB,GAGT8xC,EAAkBr+D,UAAU+mE,cAAgB,WAC1C,IAAIlV,EAAWzxD,KAAK6lE,WAEpB,IAAKpU,EAAU,CACb,IACIiW,EADU1nE,KAAKmI,QACI8yD,YAEvB,GAAIyM,EAASx5C,WACXujC,EAAW,MACN,CACL,IAAInjC,EAASo5C,EAASp5C,OAElBq5C,EAAQD,EAAS/4C,UAAUL,EAAO,IAClCwK,EAAQ6uC,EAEZ,QAAOr5C,GAAQ,SAAU1tB,GACvB,IAAIgnE,EAAeF,EAAS/4C,UAAU/tB,GAElCgnE,EAAeD,IACjBA,EAAQC,GAGNA,EAAe9uC,IACjBA,EAAQ8uC,MAIZ,IAAI3mD,EAAWqN,EAAO7uB,OAEtBgyD,GAAY34B,EAAQ6uC,IAAU1mD,EAAW,GAG3CjhB,KAAK6lE,WAAapU,EAGpB,OAAOA,GAITwM,EAAkBr+D,UAAUioE,sBAAwB,SAAUjB,GAC5D,IAAIz+D,EAAUnI,KAAKmI,QACf++B,EAAS/+B,EAAQ8U,IAAI,UAEzB,OAAI2pD,EACK1/B,EAAO0/B,GAKT1/B,EAFY/+B,EAAQiwD,QAAQ,YACTzwB,YACL,KAIvBs2B,EAAkBr+D,UAAUknE,iBAAmB,SAAUd,EAAYY,GACnE,IAAIC,EAAe,GACf1+D,EAAUnI,KAAKmI,QAEf2/D,EAAa9nE,KAAK6nE,sBAAsBjB,GAE5C,GAAIkB,EAAY,CACd,IAAIlnE,EAAQolE,EAAW8B,EAAWlgC,OAClCi/B,EAAeiB,EAAW/4C,QAAQnuB,QAC7B,GAA4B,YAAxBuH,EAAQ8U,IAAI,QAAuB,CAE5C,IAAIy+C,EAASvzD,EAAQ8yD,YACjBztC,EAASrlB,EAAQslB,YAGrBo5C,EAAe,KAFFnL,EAAO3sC,QAAQi3C,EAAWtK,EAAO9zB,QAEf,KADlBpa,EAAOuB,QAAQi3C,EAAWx4C,EAAOoa,QACC,KAGjD,OAAOi/B,GAIT5I,EAAkBr+D,UAAU2nE,sBAAwB,WAClD,IAEI55C,EAFAxlB,EAAUnI,KAAKmI,QACfkc,EAAQlc,EAAQ+tD,oBAGpB,QAAO7xC,GAAO,SAAU+D,GACtB,IAAI2/C,EAAW3/C,EAAKyf,SAASzf,EAAKjiB,MAElC,GAAI4hE,GAAYA,EAAS55C,SAGvB,OADAR,EAAQo6C,GACD,KAIX,IAAIrM,EAASvzD,EAAQ8yD,YACjBztC,EAASrlB,EAAQslB,YACrB,OAAOE,GAASH,GAAUkuC,GAI5BuC,EAAkBr+D,UAAU4nE,iBAAmB,SAAUxB,EAAYsB,GACnE,IACI1mE,EAAQolE,EADAsB,EAAW1/B,OAGvB,OAAI,WAAUhnC,GACCA,EAAMwD,KAAI,SAAU4jE,GAC/B,OAAOV,EAAWv4C,QAAQi5C,MAEdpkD,KAAK,KAGd0jD,EAAWv4C,QAAQnuB,IAI5Bq9D,EAAkBr+D,UAAU6nE,gBAAkB,SAAUzB,GACtD,IAAIiC,EAEAC,EADUloE,KAAKmI,QACOggE,iBAU1B,GARID,EAAYzoE,QAEd,QAAOyoE,GAAa,SAAUv6C,GAE5B,OADAs6C,EAAYt6C,GACL,KAIPs6C,EAAW,CACb,IAAIrgC,EAAQqgC,EAAUrgC,MACtB,OAAOqgC,EAAUl5C,QAAQi3C,EAAWp+B,IAKtC,OAAOg+B,GAFU5lE,KAAKunE,0BAMxBtJ,EAAkBr+D,UAAUonE,SAAW,SAAUrmE,GAC/C,IAAIwH,EAAUnI,KAAKmI,QACfme,EAAQne,EAAQ8U,IAAI,SACpB/W,EAAOiC,EAAQigE,QAAQznE,EAAgB,SAE3C,GAAI2lB,EAAMmE,QAAUvkB,EAAM,CACxB,IAAIg6B,EAAM5Z,EAAMa,aAAe,IAAM,IAErC,GAAI,WAAUxmB,EAAIu/B,IAEhBh6B,EAAOA,EADKgY,KAAKsE,IAAI7hB,EAAIu/B,GAAK,GAAKv/B,EAAIu/B,GAAK,IACtB,KAAOh6B,EAIjC,OAAOA,GAGF+3D,EApcT,GCpBIoK,GAAa,CAAC,OAAQ,QAAS,QAwCnC,IAgde,GA9cf,SAAUpjE,GAGR,SAASqjE,EAAcp5D,GACrB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrC+6D,aAAc,KACdz0C,MAAO,KACPuE,YAAa,KACbpS,OAAQ,GACPvJ,KAASlP,KAIZ,OAFAkF,EAAMmL,IAAI,kBAAmBnL,EAAM+X,IAAI,SAAShI,OAEzC/P,EA8bT,OA1cA,qBAAUojE,EAAerjE,GAezBqjE,EAAc1oE,UAAU2oE,UAAY,WAClCtjE,EAAOrF,UAAU2oE,UAAUzoE,KAAKE,MAEhC,IAAIwoE,EAAcxoE,KAAKutC,SAAS,CAC9Bt7B,KAAM,yBAEJu6B,EAAYxsC,KAAKutC,SAAS,CAC5Bt7B,KAAM,8BAEJw2D,EAAiB,IAAI,GACzBA,EAAep4D,IAAI,QAASrQ,KAAKid,IAAI,UACrCwrD,EAAep4D,IAAI,QAASm4D,GAC5BC,EAAep4D,IAAI,YAAam8B,GAChCxsC,KAAKqQ,IAAI,iBAAkBo4D,GAC3BzoE,KAAKqQ,IAAI,cAAem4D,GACxBxoE,KAAKqQ,IAAI,YAAam8B,IAGxB87B,EAAc1oE,UAAUoQ,QAAU,WAChChQ,KAAKid,IAAI,kBAAkBjN,UAE3B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCsoE,EAAc1oE,UAAU8oE,WAAa,SAAUpgD,EAAQqgD,GACrD,IAAIF,EAAiBzoE,KAAKid,IAAI,kBAC1BsvB,EAAQvsC,KAAK4oE,eAAetgD,EAAQqgD,GACpCzyD,EAAS,GAAG7U,OAAOsnE,GACnBxiE,EAAOnG,KAAKid,IAAI,QACpBsvB,EAAQvsC,KAAK6oE,YAAYt8B,EAAOr2B,GAChClW,KAAKstC,UAAUf,GACfk8B,EAAep4D,IAAI,QAASk8B,EAAM4tB,QAAO,SAAU7yD,EAAM/H,GACvD,QAAK+H,IACH4O,EAAOvF,OAAOpR,EAAG,IACV,OAMP4G,IACFsiE,EAAep4D,IAAI,SAAU6F,GAC7BuyD,EAAep4D,IAAI,OAAQlK,GAC3BsiE,EAAep4D,IAAI,SAAUiY,IAG/BmgD,EAAep4D,IAAI,SAAUrQ,KAAKid,IAAI,WACtCwrD,EAAe34D,QAGjBw4D,EAAc1oE,UAAUipE,YAAc,SAAUt8B,EAAOr2B,GAerD,OAdA,QAAOq2B,GAAO,SAAUjlC,GACjBA,IAIDA,EAAKgjC,UACPhjC,EAAKsH,GAAKtH,EAAKgjC,SAGbhjC,EAAKijC,UACPjjC,EAAKuH,GAAKvH,EAAKijC,aAIZgC,GAST+7B,EAAc1oE,UAAU0tC,UAAY,SAAUf,GAC5C,IAAIrnC,EAAQlF,KAEZ,QAAOusC,GAAO,SAAUh5B,GACjBA,GAIDA,EAAMyB,OAAS,GAAKzB,EAAM4D,WAC5BjS,EAAM4jE,YAAYv1D,OAMxB+0D,EAAc1oE,UAAUkpE,YAAc,SAAUv1D,KAEhD+0D,EAAc1oE,UAAUmpE,iBAAmB,SAAU9zD,EAAO1B,EAAOjP,EAAOkS,KAE1E8xD,EAAc1oE,UAAUopE,gBAAkB,SAAUz1D,GAClD,IACI6rD,EADQp/D,KAAKid,IAAI,SACAynB,YAAYnxB,EAAM3E,EAAG2E,EAAM1E,EAAG,GACnD0E,EAAM3E,EAAIwwD,EAAS,GACnB7rD,EAAM1E,EAAIuwD,EAAS,IAGrBkJ,EAAc1oE,UAAUqpE,gBAAkB,SAAU11D,GAClD,IAAIyB,EAASzB,EAAMyB,QAAU,EACzBsR,EAAQtmB,KAAKid,IAAI,SAWrB,OARIqJ,EAAMa,aAECb,EAAMoe,YAAY1vB,EAAQ,GAG1BsR,EAAMoe,YAAY,EAAG1vB,IAOlCszD,EAAc1oE,UAAUspE,iBAAmB,SAAU31D,GACnD,IACI+S,EAAQtmB,KAAKid,IAAI,SACjB2nB,EAAS5kC,KAAKipE,gBAAgB11D,GAUlC,OARI+S,EAAMa,aAECyd,EAAO,GAGPA,EAAO,IAOpB0jC,EAAc1oE,UAAUupE,eAAiB,SAAU51D,EAAOjP,EAAO8kE,GAC/D,IAAIp0D,EAAShV,KAAKkpE,iBAAiB31D,GAE/Bi/C,EADQxyD,KAAKid,IAAI,SACEkK,aACnB4Y,EAASyyB,EAAa,IAAM,IAC5Bn6B,EAASm6B,EAAa,GAAK,EAE3BjY,EAAc,CAChB3rC,EAAG,EACHC,EAAG,GAUL,OALE0rC,EAAYxa,GAFVz7B,EAAQ,GAAe,IAAV8kE,EAEOp0D,EAASqjB,EAETrjB,EAASqjB,GAAU,EAGpCkiB,GAWT+tB,EAAc1oE,UAAUgpE,eAAiB,SAAUtgD,EAAQpS,GACzD,IAAIhR,EAAQlF,KAERusC,EAAQ,GACRpkC,EAAUnI,KAAKid,IAAI,WACnBqJ,EAAQtmB,KAAKid,IAAI,SAEjB89C,EAAe/6D,KAAKqpE,iBAAiB/gD,EAAQpS,GAyCjD,OAtCA,QAAOoS,GAAQ,SAAU/U,EAAOhU,GAC9B,IAAI4uC,EAAS56B,EAAY,QACrB0B,EAAQ8lD,EAAax7D,GAEzB,GAAK0V,EAAL,CAKK,WAAUA,EAAMvB,QACnBuB,EAAMvB,KAAO,CAACuB,EAAMvB,OAGtB,IAAI01D,EAAQn0D,EAAMxV,OAElB,QAAOwV,EAAMvB,MAAM,SAAU69C,EAAK+X,GAChC,GAAI,SAAQ/X,IAAgB,KAARA,EAClBhlB,EAAM/7B,KAAK,UADb,CAKA,IAAI7P,EAAMuE,EAAMqkE,cAAct0D,EAAO1B,EAAO+1D,IAE5C3oE,EAAM,OAAM,GAAIsU,EAAOtU,IAEdgT,YACPhT,EAAIgT,UAAYzO,EAAMskE,cAAc7oE,EAAK2oE,EAAUF,IAGjDjhE,IACFxH,EAAIgO,GAAKxG,EAAQshE,WAAWt7B,GAAU,WAAam7B,EAAW,IAAM3oE,EAAI+S,MAG1E/S,EAAI2lB,MAAQA,EACZimB,EAAM/7B,KAAK7P,YA7BX4rC,EAAM/7B,KAAK,SAiCR+7B,GAYT+7B,EAAc1oE,UAAU2pE,cAAgB,SAAUxO,EAAcxnD,EAAOjP,GACrE,IAAIgiB,EAAQtmB,KAAKid,IAAI,SACjBmsD,EAAQrO,EAAarnD,KAAKjU,OAE9B,SAASiqE,EAAY9oE,EAAO8P,GAC1B,IAAI4M,EAAI1c,EAeR,OAbI,WAAU0c,KAIRA,EAH6B,IAA7By9C,EAAarnD,KAAKjU,OAEhB6d,EAAE7d,QAAU,EACV6d,EAAE1c,EAAMnB,OAAS,GAlSjC,SAAamxB,GACX,IAAI+gC,EAAM,EAMV,OAJA,QAAO/gC,GAAK,SAAUhwB,GACpB+wD,GAAO/wD,KAGF+wD,EAAM/gC,EAAInxB,OA6RH,CAAI6d,GAGNA,EAAE5M,IAIH4M,EAGT,IAAIrI,EAAQ,CACVvB,KAAMqnD,EAAarnD,KAAKpP,GACxBsK,EAAG,EACHC,EAAG,EACHqC,MAAO,CACLtC,EAAG,EACHC,EAAG,GAELoF,MAAO,QAGT,GAAIV,GAAqC,YAA5BvT,KAAKid,IAAI,eAA8B,CAClD,IAAI0sD,EA/SV,SAAqBhjC,EAAIC,GACvB,GAAI,YAAWD,IAAO,YAAWC,GAE/B,MAAO,CAACD,EAAIC,GAWd,IARA,IAGIgjC,EAEApyB,EALAj4C,GAAK,EACLqP,EAAI,EACJC,EAAI,EAEJg7D,EAAUljC,EAAGlnC,OAAS,EAEtBuS,EAAI,IAECzS,EAAIonC,EAAGlnC,QACdmqE,EAASC,EACTA,EAAUtqE,EACVyS,GAAKwlC,EAAO7Q,EAAGijC,GAAUhjC,EAAGijC,GAAWljC,EAAGkjC,GAAWjjC,EAAGgjC,GACxDh7D,IAAM+3B,EAAGijC,GAAUjjC,EAAGkjC,IAAYryB,EAClC3oC,IAAM+3B,EAAGgjC,GAAUhjC,EAAGijC,IAAYryB,EAIpC,MAAO,CAAC5oC,GADRoD,GAAK,GACUnD,EAAImD,GAwRA83D,CAAYv2D,EAAM3E,EAAG2E,EAAM1E,GAC1CoG,EAAMrG,EAAI+6D,EAAS,GACnB10D,EAAMpG,EAAI86D,EAAS,QAEnB10D,EAAMrG,EAAI86D,EAAYn2D,EAAM3E,EAAGtK,GAC/B2Q,EAAMpG,EAAI66D,EAAYn2D,EAAM1E,EAAGvK,GAIjC,GAAIiP,GAASA,EAAMw2D,aAA+B,WAAhBx2D,EAAM2G,OAAsC,YAAhB3G,EAAM2G,OAAsB,CACxF,IAAI8vD,GAAUpxC,IACdrlB,EAAMw2D,WAAW7hE,SAAQ,SAAU7H,GACjC,IAAI4pE,EAAK3jD,EAAM0e,QAAQ3kC,GAEnB4pE,EAAGr7D,EAAIo7D,IACTA,EAASC,EAAGr7D,MAGhBqG,EAAMrG,GAAKqG,EAAMrG,EAAIo7D,GAAU,EAIb,YAAhBz2D,EAAM2G,QAAwB3G,EAAMw2D,YAAcx2D,EAAM+U,QAC1D/U,EAAM+U,OAAOpgB,SAAQ,SAAU7H,GAC7B,IAAI4pE,EAAK5pE,EACT4pE,EAAK3jD,EAAM0e,QAAQilC,IAEf,WAAUA,EAAGr7D,KAAiC,IAA3B2E,EAAM3E,EAAEtO,QAAQ2pE,EAAGr7D,IAAa,YAAWq7D,EAAGr7D,IAAM2E,EAAM3E,IAAMq7D,EAAGr7D,KACxFqG,EAAMrG,GAAKqG,EAAMrG,EAAIq7D,EAAGr7D,GAAK,MAK/BmsD,EAAavkD,UACfxW,KAAK+oE,iBAAiB9zD,EAAO1B,EAAOjP,EAAOy2D,EAAavkD,UAG1D,IAAI+jC,EAAcv6C,KAAKmpE,eAAepO,EAAcz2D,EAAO8kE,GAkB3D,OAhBIrO,EAAazwB,UACfiQ,EAAY3rC,GAAKmsD,EAAazwB,SAG5BywB,EAAaxwB,UACfgQ,EAAY1rC,GAAKksD,EAAaxwB,SAGhCvqC,KAAKgpE,gBAAgB/zD,GACrBA,EAAM/D,MAAQ,CACZtC,EAAGqG,EAAMrG,EACTC,EAAGoG,EAAMpG,GAEXoG,EAAMrG,GAAK2rC,EAAY3rC,EACvBqG,EAAMpG,GAAK0rC,EAAY1rC,EACvBoG,EAAMhB,MAAQV,EAAMU,MACbgB,GAGTqzD,EAAc1oE,UAAU4pE,cAAgB,SAAUj2D,EAAOjP,EAAO8kE,GAC9D,IAAI3wB,EAAQ,SAGZ,GAFYz4C,KAAKid,IAAI,SAEXkK,aAAc,CACtB,IAAInS,EAAShV,KAAKkpE,iBAAiB31D,GAGjCklC,EADEzjC,EAAS,EACH,QACY,IAAXA,EACD,SAEA,OAGNo0D,EAAQ,GAAe,IAAV9kE,IACD,UAAVm0C,EACFA,EAAQ,OACW,SAAVA,IACTA,EAAQ,UAKd,OAAOA,GAGT6vB,EAAc1oE,UAAUsqE,eAAiB,SAAU/7B,EAAQg8B,GACzD,IAAIjjC,EAASijC,EAER,WAAUjjC,KACbA,EAAS,CAACA,IAGZ,IAAIxzB,EAAO,GAwBX,OAtBA,QAAOwzB,GAAQ,SAAUvZ,GACvB,IAAI/sB,EAAQutC,EAAOxgB,EAAMia,OAEzB,GAAI,WAAUhnC,GAAQ,CACpB,IAAIwpE,EAAQ,GAEZ,QAAOxpE,GAAO,SAAUypE,GACtBD,EAAM55D,KAAKmd,EAAMoB,QAAQs7C,OAG3BzpE,EAAQwpE,OAERxpE,EAAQ+sB,EAAMoB,QAAQnuB,GAGpB,SAAQA,IAAoB,KAAVA,EACpB8S,EAAKlD,KAAK,MAEVkD,EAAKlD,KAAK5P,MAIP8S,GAIT40D,EAAc1oE,UAAUypE,iBAAmB,SAAU/gD,EAAQpS,GAC3D,IAAIhR,EAAQlF,KAER6qB,EAAc7qB,KAAKid,IAAI,eACvBtH,EAAQ3V,KAAKid,IAAI,SACjB89C,EAAe/6D,KAAKid,IAAI,gBACxBiqB,EAAS6zB,EAAa7zB,OACtBojC,EAAO,GAsDX,OApDA,QAAOhiD,GAAQ,SAAU/U,EAAOhU,GAC9B,IAAI2P,EAAM,GACNi/B,EAAS56B,EAAY,QAErBg3D,EAAarlE,EAAMglE,eAAe/7B,EAAQjH,GAE9C,GAAI6zB,EAAalzC,SAAU,CAEzB,IAAI2iD,EAAetjC,EAAO9iC,KAAI,SAAUupB,GACtC,OAAOwgB,EAAOxgB,EAAMia,UAEtB14B,EAAM6rD,EAAalzC,SAAS9nB,MAAMg7D,EAAcyP,GAG9C,SAAQt7D,GACVo7D,EAAK95D,KAAK,OAIR,YAAWtB,EAAI29C,UACjB39C,EAAIwE,KAAOxE,EAAI29C,eACR39C,EAAI29C,SACF,cAAa39C,EAAI29C,UAC1B39C,EAAIwE,KAAOxE,EAAI29C,QAAQ1e,EAAQ56B,EAAOhU,UAC/B2P,EAAI29C,SAEX39C,EAAIwE,KAAO62D,EAAW,GAGpBr7D,EAAI8+B,eACN9+B,EAAIsJ,SAAU,EACdtJ,EAAIwE,KAAOxE,EAAI8+B,aAAaG,EAAQ56B,EAAOhU,UACpC2P,EAAI8+B,cAGT9+B,EAAI+f,YACN/f,EAAIwE,KAAOxE,EAAI+f,UAAUnvB,KAAK,KAAMoP,EAAIwE,KAAMH,EAAOhU,UAC9C2P,EAAI+f,YAIX/f,EADkB,YAAhB2b,GAA6B3b,EAAI8F,OAAS,IAA6C,IAAxC,WAAUqzD,GAAYx9C,GACjE,WAAU,GAAI3lB,EAAM+X,IAAI,mBAAoBtH,EAAMqB,YAAa9H,GAE/D,WAAU,GAAIhK,EAAM+X,IAAI,mBAAoBtH,EAAMV,MAAO/F,IAI7Di/B,OAASA,EAEbm8B,EAAK95D,KAAKtB,OAGLo7D,GAGFhC,EA3cT,CA4cE,UC9Za,GAtFf,SAAUrjE,GAGR,SAASwlE,IACP,OAAkB,OAAXxlE,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA+E7D,OAlFA,qBAAUyqE,EAAuBxlE,GAMjCwlE,EAAsB7qE,UAAUmpE,iBAAmB,SAAUx1D,EAAOm3D,EAAapmE,EAAOqmE,GACtF,IAAIn0D,EAAWm0D,EAEX,cAAan0D,KACfA,EAAWA,EAASk0D,IAGtB,IAAIpkD,EAAQtmB,KAAKid,IAAI,SACjBu1C,EAAalsC,EAAMa,aACnByjD,EAAStkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/CuiD,EAASvkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/C9jB,GAASomE,EAAOh8D,EAAIi8D,EAAOj8D,GAAK,GAAK4jD,GAAc,EAAI,GACvD1jD,GAAU87D,EAAO/7D,EAAIg8D,EAAOh8D,GAAK,GAAK2jD,GAAc,EAAI,GAE5D,OAAQh8C,GACN,IAAK,QACCg8C,GACFj/C,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,WAErCJ,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,QAGvC,MAEF,IAAK,OACC6+C,GACFj/C,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,WAErCJ,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SAGvC,MAEF,IAAK,SACC6+C,GACFj/C,EAAM3E,GAAa,EAARpK,EACX+O,EAAMI,UAAYJ,EAAMI,WAAa,SAErCJ,EAAM1E,GAAc,EAATC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,UAGvC,MAEF,IAAK,SACC6+C,EACFj/C,EAAM3E,GAAKpK,EAEX+O,EAAM1E,GAAKC,EAGbyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,MAEDJ,EAAMI,UADJ6+C,EACgBj/C,EAAMI,WAAa,OAEnBJ,EAAMI,WAAa,WAUtC82D,EAnFT,CAoFE,IC8Ha,GAjNf,SAAUxlE,GAGR,SAAS6lE,IACP,OAAkB,OAAX7lE,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA0M7D,OA7MA,qBAAU8qE,EAAoB7lE,GAe9B6lE,EAAmBlrE,UAAU2pE,cAAgB,SAAUt0D,EAAO1B,EAAOhU,GACnE,IAGIwrE,EAHAzmE,EAAQ/E,EACRmU,EAAOuB,EAAMvB,KAAKpP,GAClB+zB,EAAS,EAGTr4B,KAAKgrE,YAAYz3D,GACnBw3D,EAAW/qE,KAAKirE,gBAAgB13D,EAAM+U,SAEZ,IAAtBrT,EAAMvB,KAAKjU,QAA0B,IAAV6E,EAC7BA,EAAQ,EACW,IAAVA,IACT+zB,GAAU,GAGZ0yC,EAAW/qE,KAAKkrE,YAAY33D,EAAOjP,IAGrC,IAAI0Q,EAAShV,KAAKkpE,iBAAiBj0D,GACnCD,GAAkBqjB,EAClB,IAAI8yC,EAAcnrE,KAAKoyD,cAAc2Y,GACjCK,EAAcn2D,EAAMo2D,UACpBC,EAAatrE,KAAKurE,eAAeJ,EAAan2D,EAAQ+1D,EAAUK,GAuBpE,OArBKE,GAKHA,EAAW53D,KAAOA,EAClB43D,EAAWjtD,MAAQ8sD,EACnBG,EAAWr3D,MAAQV,EAAMU,OANzBq3D,EAAa,CACX53D,KAAM,IAQNuB,EAAMyE,iBAAmC5S,IAArBmO,EAAMyE,WAE5B4xD,EAAWppD,OAASliB,KAAKwrE,eAAeL,EAAan2D,EAAQo2D,GAE7DE,EAAWppD,OAASjN,EAAMiN,OAG5BopD,EAAWp6D,MAAQ,CACjBtC,EAAGm8D,EAASn8D,EACZC,EAAGk8D,EAASl8D,GAEPy8D,GAGTR,EAAmBlrE,UAAU2rE,eAAiB,SAAUE,EAAaz2D,EAAQzB,EAAO63D,GAClF,IAAI9kD,EAAQtmB,KAAKid,IAAI,SACjB0J,EAASL,EAAMM,YACfvI,EAAQotD,EACRvyD,EbmKD,SAAwBoN,EAAO/S,GACpC,OAAOm9C,GAAgBpqC,EAAO/S,GapKpB,CAAwB+S,EAAO/S,GAEvC,GAAU,IAAN2F,EACF,OAAO,KAGLoN,EAAMa,cAAgBjO,EAAIlE,IAAWo2D,EAEvC/sD,GAA8B,EADZH,KAAKuE,KAAKzN,GAAU,EAAIkE,IAG1CA,GAAQlE,EAGV,MAAO,CACLpG,EAAG+X,EAAO/X,EAAIsK,EAAIgF,KAAKiE,IAAI9D,GAC3BxP,EAAG8X,EAAO9X,EAAIqK,EAAIgF,KAAKkE,IAAI/D,GAC3BA,MAAOA,EACPnF,EAAGA,IAIP4xD,EAAmBlrE,UAAUsrE,YAAc,SAAU33D,EAAOhU,GAC1D,IACImsE,EADApnE,EAAQ/E,EAeZ,OAZA+E,EAAQA,GAAS,EAGfonE,EADE,WAAUn4D,EAAM3E,IAAM,WAAU2E,EAAM1E,GAC3B,CACXD,EAAG,WAAU2E,EAAM3E,GAAK2E,EAAM3E,EAAEtK,GAASiP,EAAM3E,EAC/CC,EAAG,WAAU0E,EAAM1E,GAAK0E,EAAM1E,EAAEvK,GAASiP,EAAM1E,GAGpC0E,EAGfvT,KAAKgpE,gBAAgB0C,GACdA,GAITZ,EAAmBlrE,UAAUwyD,cAAgB,SAAU7+C,GAErD,OAAO,GADKvT,KAAKid,IAAI,SACgB1J,IAUvCu3D,EAAmBlrE,UAAU4rE,eAAiB,SAAUntD,EAAOrJ,EAAQo2D,GACrE,IAAIlpD,EAgBJ,OAfAA,EAAiB,IAAR7D,EAAcH,KAAKK,GAC5B2D,GAAU,GAENkpD,IACFlpD,GAAU,IAGRA,IACEA,EAAS,GACXA,GAAkB,IACTA,GAAU,KACnBA,GAAkB,MAIfA,EAAS,IAAMhE,KAAKK,IAI7BusD,EAAmBlrE,UAAU4pE,cAAgB,SAAUj2D,GACrD,IACIklC,EADAnyB,EAAQtmB,KAAKid,IAAI,SAGrB,GAAI1J,EAAM83D,UAEN5yB,EADEllC,EAAM8K,OAASH,KAAKK,GAAK,GAAKhL,EAAM8K,OAASH,KAAKK,GAAK,EACjD,OAEA,aAEL,GAAK+H,EAAMa,aAEX,CACL,IAAIR,EAASL,EAAMM,YACf5R,EAAShV,KAAKkpE,iBAAiB31D,GAGjCklC,EADEv6B,KAAKsE,IAAIjP,EAAM3E,EAAI+X,EAAO/X,GAAK,EACzB,SACC2E,EAAM8K,MAAQH,KAAKK,IAAMhL,EAAM8K,OAAS,EAC7CrJ,EAAS,EACH,OAEA,QAGNA,EAAS,EACH,QAEA,YAjBZyjC,EAAQ,SAsBV,OAAOA,GAITqyB,EAAmBlrE,UAAUkpE,YAAc,SAAUv1D,KAGrDu3D,EAAmBlrE,UAAUqrE,gBAAkB,SAAU3iD,GACvD,IAAIhC,EAAQtmB,KAAKid,IAAI,SACjBsf,EAAQjU,EAAO7oB,OACfozD,EAAc,CAChBjkD,EAAG,EACHC,EAAG,GAWL,OARA,QAAOyZ,GAAQ,SAAU/U,GACvBs/C,EAAYjkD,GAAK2E,EAAM3E,EACvBikD,EAAYhkD,GAAK0E,EAAM1E,KAGzBgkD,EAAYjkD,GAAK2tB,EACjBs2B,EAAYhkD,GAAK0tB,EACjBs2B,EAAcvsC,EAAM0e,QAAQ6tB,IAK9BiY,EAAmBlrE,UAAUorE,YAAc,SAAUz3D,GACnD,OAAOA,EAAM3E,EAAEnP,OAAS,GAGnBqrE,EA9MT,CA+ME,IC9MF,SAASa,GAAYhlD,EAAQtI,EAAOnF,GAClC,MAAO,CACLtK,EAAG+X,EAAO/X,EAAIsK,EAAIgF,KAAKiE,IAAI9D,GAC3BxP,EAAG8X,EAAO9X,EAAIqK,EAAIgF,KAAKkE,IAAI/D,IAkG/B,IAgOe,GA9Nf,SAAUpZ,GAGR,SAAS2mE,EAAiB18D,GACxB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,GAAIkP,KAASlP,KAIpD,OAFAkF,EAAMmL,IAAI,kBAAmBnL,EAAM+X,IAAI,SAAShG,aAEzC/R,EAmNT,OA1NA,qBAAU0mE,EAAkB3mE,GAU5B2mE,EAAiBhsE,UAAUspE,iBAAmB,SAAU31D,GACtD,OAAOA,EAAMyB,QAAU,GAUzB42D,EAAiBhsE,UAAUipE,YAAc,SAAUgD,GACjD,IAAIt/B,EAAQs/B,EACR72D,EAASu3B,EAAM,GAAKA,EAAM,GAAGv3B,OAAS,EAM1C,OAJIA,EAAS,IACXu3B,EAAQvsC,KAAK8rE,YAAYv/B,EAAOv3B,IAG3B/P,EAAOrF,UAAUipE,YAAY/oE,KAAKE,KAAMusC,IAIjDq/B,EAAiBhsE,UAAUkpE,YAAc,SAAU7zD,GACjD,IAAIqR,EAAQtmB,KAAKid,IAAI,SACjB/D,EAAIoN,EAAMO,YACV4qC,EAAWx8C,EAAMD,OACjBqJ,EAAQpJ,EAAM82D,YAAc92D,EAAMoJ,MAClCsI,EAASL,EAAMM,YAEf1V,EAAQy6D,GAAYhlD,EAAQtI,EAAOnF,GACnCw/B,EAAQizB,GAAYhlD,EAAQtI,EAAOnF,EAAIu4C,EAAW,GAClDtgD,EAAM,CACRvC,EAAGqG,EAAMrG,EArJF,EAqJMsP,KAAKiE,IAAI9D,GACtBxP,EAAGoG,EAAMpG,EAtJF,EAsJMqP,KAAKkE,IAAI/D,IAGnB,YAAWpJ,EAAMkC,aAEpBlC,EAAMkC,UAAY,IAGpBlC,EAAMkC,UAAUiF,KAAO,CAAC,KAAOlL,EAAMtC,EAAGsC,EAAMrC,EAAI,KAAO6pC,EAAM9pC,EAAG8pC,EAAM7pC,EAAI,IAAMsC,EAAIvC,EAAGuC,EAAItC,GAAG+U,KAAK,MAWvGgoD,EAAiBhsE,UAAU4rE,eAAiB,SAAUntD,EAAOrJ,EAAQg3D,GACnE,IAAI9pD,EAcJ,OAZIlN,EAAS,KACXkN,EAAiB,IAAR7D,EAAcH,KAAKK,IAEf,KACX2D,GAAkB,KAGhBA,GAAU,KACZA,GAAkB,MAIfA,EAAS,IAAMhE,KAAKK,IAU7BqtD,EAAiBhsE,UAAU4pE,cAAgB,SAAUj2D,GACnD,IAEIklC,EADA9xB,EADQ3mB,KAAKid,IAAI,SACF2J,YAmBnB,OAfE6xB,EADEllC,EAAM8K,OAASH,KAAKK,GAAK,GAAKhL,EAAM3E,GAAK+X,EAAO/X,EAC1C,OAEA,QAGG5O,KAAKkpE,iBAAiB31D,IAErB,IAEVklC,EADY,UAAVA,EACM,OAEA,SAILA,GAGTmzB,EAAiBhsE,UAAUsrE,YAAc,SAAU33D,GACjD,OAAOA,GAGTq4D,EAAiBhsE,UAAUwyD,cAAgB,SAAU7+C,GACnD,IAAI+S,EAAQtmB,KAAKid,IAAI,SACjB07B,EAAa,CACf/pC,EAAG,WAAU2E,EAAM3E,GAAK2E,EAAM3E,EAAE,GAAK2E,EAAM3E,EAC3CC,EAAG0E,EAAM1E,EAAE,IAEb7O,KAAKgpE,gBAAgBrwB,GAErB,IAMIt6B,EANAu6B,EAAW,CACbhqC,EAAG,WAAU2E,EAAM3E,GAAK2E,EAAM3E,EAAE,GAAK2E,EAAM3E,EAC3CC,EAAG0E,EAAM1E,EAAE,IAEb7O,KAAKgpE,gBAAgBpwB,GAGrB,IAAInyB,EAAa,GAAuBH,EAAOqyB,GAE/C,GAAIplC,EAAM+U,QAAU/U,EAAM+U,OAAO,GAAGzZ,IAAM0E,EAAM+U,OAAO,GAAGzZ,EACxDwP,EAAQoI,MACH,CACL,IAAIC,EAAW,GAAuBJ,EAAOsyB,GAEzCnyB,GAAcC,IAEhBA,GAAgC,EAAVxI,KAAKK,IAG7BF,EAAQoI,GAAcC,EAAWD,GAAc,EAGjD,OAAOpI,GAGTutD,EAAiBhsE,UAAU2rE,eAAiB,SAAUltD,EAAOrJ,EAAQ3U,GACnE,IAAIimB,EAAQtmB,KAAKid,IAAI,SACjB0J,EAASL,EAAMM,YACf1N,EAAIoN,EAAMO,YAAc7R,EACxBzB,EAAQo4D,GAAYhlD,EAAQtI,EAAOnF,GAGvC,OAFA3F,EAAM8K,MAAQA,EACd9K,EAAM2F,EAAIA,EACH3F,GAITq4D,EAAiBhsE,UAAUksE,YAAc,SAAU//B,EAAQ/2B,GACzD,IAAIsR,EAAQtmB,KAAKid,IAAI,SACjBzJ,EAAS8S,EAAMO,YACf3R,EAAalV,KAAKid,IAAI,mBAAmB/F,YACzCyP,EAASL,EAAMM,YAEfmzC,EAAuB,GADdvmD,EAASwB,GACsB,EAAbE,EAC3B+2D,EAAY,CACd/6D,MAAOoV,EAAMpV,MACbC,IAAKmV,EAAMnV,KAEThJ,EAAUnI,KAAKid,IAAI,WAEvB,GAAI9U,EAAS,CACX,IAAI4F,EAAO5F,EAAQ8U,IAAI,QACvBgvD,EAAY,CACV/6D,MAAOnD,EAAKkP,IAAI,cAAc+yB,GAC9B7+B,IAAKpD,EAAKkP,IAAI,cAAcy0B,IAKhC,IAAIw6B,EAAS,CAAC,GAAI,IAiClB,OAhCAngC,EAAO7jC,SAAQ,SAAU+M,GAClBA,IAImB,UAApBA,EAAMtB,UAERu4D,EAAO,GAAG17D,KAAKyE,GAGfi3D,EAAO,GAAG17D,KAAKyE,OAGnBi3D,EAAOhkE,SAAQ,SAAUyyB,EAAMr2B,GAE7B,IAAI6nE,EAA2BpS,EAAc7kD,EAEzCylB,EAAKl7B,OAAS0sE,IAChBxxC,EAAK5D,MAAK,SAAU1Z,EAAGuC,GAErB,OAAOA,EAAE,aAAevC,EAAE,gBAE5Bsd,EAAKhqB,OAAOw7D,EAA0BxxC,EAAKl7B,OAAS0sE,IAItDxxC,EAAK5D,MAAK,SAAU1Z,EAAGuC,GAErB,OAAOvC,EAAExO,EAAI+Q,EAAE/Q,KApTvB,SAAuBk9B,EAAQ72B,EAAY+2D,EAAWtlD,EAAQylD,GAE5D,IAKI7sE,EALA8sE,GAAc,EACdn7D,EAAQ+6D,EAAU/6D,MAClBC,EAAM86D,EAAU96D,IAChBm7D,EAASpuD,KAAKuR,IAAIve,EAAMrC,EAAGsC,EAAItC,GAC/BkrD,EAAc77C,KAAKsE,IAAItR,EAAMrC,EAAIsC,EAAItC,GAErC6Z,EAAO,EACPD,EAAO/F,OAAO6pD,UACdC,EAAQzgC,EAAO3nC,KAAI,SAAU6Q,GAS/B,OARIA,EAAMpG,EAAI6Z,IACZA,EAAOzT,EAAMpG,GAGXoG,EAAMpG,EAAI4Z,IACZA,EAAOxT,EAAMpG,GAGR,CACL3I,KAAMgP,EACNu3D,QAAS,CAACx3D,EAAMpG,EAAIy9D,OASxB,IANA7jD,GAAQ6jD,EAEJ5jD,EAAO4jD,EAASvS,IAClBA,EAAcrxC,EAAO4jD,GAGhBD,GAUL,IARAG,EAAMtkE,SAAQ,SAAU6K,GACtB,IAAIzT,GAAU4e,KAAKuR,IAAI1vB,MAAM0oB,EAAM1V,EAAI05D,SAAWvuD,KAAKyH,IAAI5lB,MAAM0oB,EAAM1V,EAAI05D,UAAY,EACvF15D,EAAI2sC,IAAMxhC,KAAKuR,IAAIvR,KAAKyH,IAAI8C,EAAMnpB,EAASyT,EAAI7M,KAAO,GAAI6zD,EAAchnD,EAAI7M,SAG9EmmE,GAAc,EACd9sE,EAAIitE,EAAM/sE,OAEHF,KACL,GAAIA,EAAI,EAAG,CACT,IAAImtE,EAAcF,EAAMjtE,EAAI,GACxBwT,EAAMy5D,EAAMjtE,GAEZmtE,EAAYhtB,IAAMgtB,EAAYxmE,KAAO6M,EAAI2sC,MAE3CgtB,EAAYxmE,MAAQ6M,EAAI7M,KACxBwmE,EAAYD,QAAUC,EAAYD,QAAQprE,OAAO0R,EAAI05D,SAEjDC,EAAYhtB,IAAMgtB,EAAYxmE,KAAO6zD,IACvC2S,EAAYhtB,IAAMqa,EAAc2S,EAAYxmE,MAG9CsmE,EAAM77D,OAAOpR,EAAG,GAEhB8sE,GAAc,GAMtB9sE,EAAI,EAEJitE,EAAMtkE,SAAQ,SAAU0X,GACtB,IAAI+sD,EAAoBL,EAASp3D,EAAa,EAE9C0K,EAAE6sD,QAAQvkE,SAAQ,WAChB6jC,EAAOxsC,GAAGsP,EAAI+Q,EAAE8/B,IAAMitB,EACtBA,GAAqBz3D,EACrB3V,UAIJwsC,EAAO7jC,SAAQ,SAAU+M,GACvB,IAAI23D,EAAQ33D,EAAMiE,EAAIjE,EAAMiE,EACxB2zD,EAAS3uD,KAAKyZ,IAAIzZ,KAAKsE,IAAIvN,EAAMpG,EAAI8X,EAAO9X,GAAI,GAEpD,GAAI+9D,EAAQC,EACV53D,EAAMrG,EAAI+X,EAAO/X,MACZ,CACL,IAAIy8B,EAAKntB,KAAKmE,KAAKuqD,EAAQC,GAOzB53D,EAAMrG,EALHw9D,EAKOzlD,EAAO/X,EAAIy8B,EAHX1kB,EAAO/X,EAAIy8B,MAiOvByhC,CAAcnyC,EAAMzlB,EAAY+2D,EAAWtlD,EAAQriB,MAE9C4nE,EAAO,GAAG7qE,OAAO6qE,EAAO,KAG1BN,EA3NT,CA4NE,IC3UEmB,GAAqB,GAClB,SAASC,GAAiB7mE,GAC/B,OAAO4mE,GAAmB5mE,EAAKmM,eAE1B,SAAS26D,GAAsB9mE,EAAMi7B,GAC1C,GAAI4rC,GAAiB7mE,GACnB,MAAM,IAAIyP,MAAM,uBAAyBzP,EAAO,cAGlD4mE,GAAmB5mE,EAAKmM,eAAiB8uB,ECD3C,IAwEe,GAtEf,WACE,SAAS8rC,EAAgB/kE,GACvBnI,KAAKmI,QAAU,KACfnI,KAAKmtE,gBAAkB,KACvBntE,KAAKmI,QAAUA,EA+DjB,OA5DA+kE,EAAgBttE,UAAUwtE,uBAAyB,WACjD,IAAIjlE,EAAUnI,KAAKmI,QACf0iB,EAAc1iB,EAAQ8U,IAAI,QAC1BqJ,EAAQne,EAAQ8U,IAAI,SACpB89C,EAAe5yD,EAAQ8U,IAAI,gBAE3BowD,EAAOrtE,KAAKstE,6BAA6BvS,EAAawS,UAAWjnD,EAAMngB,KAAM0kB,GAE7Enc,EAAYvG,EAAQ8U,IAAI,oBAExBiqB,EAAS,OAAM/+B,EAAQ8U,IAAI,gBAAgB45C,QAAQ,SAAUjvB,GAC/D,OAAOz/B,EAAQ+gC,YAAYtB,MAGzBulC,EAAkBz+D,EAAU6+B,SAAS8/B,EAAM,CAC7CtS,aAAc,OAAM,CAClB7zB,OAAQA,GACP6zB,GACHz0C,MAAOA,EACPne,QAASA,EACT0iB,YAAaA,EACblV,MAAOxN,EAAQ8U,IAAI,SACnBD,QAAS7U,EAAQ8U,IAAI,aAEvBjd,KAAKmtE,gBAAkBA,GAGzBD,EAAgBttE,UAAU4tE,UAAY,SAAUllD,EAAQpS,GAKtD,OAJAlW,KAAKotE,yBAELptE,KAAKmtE,gBAAgBzE,WAAWpgD,EAAQpS,GACtBlW,KAAKmtE,gBAAgBlwD,IAAI,eACxBA,IAAI,aAGzBiwD,EAAgBttE,UAAUsd,cAAgB,SAAUF,GAClDhd,KAAKmtE,iBAAmBntE,KAAKmtE,gBAAgB98D,IAAI,UAAW2M,IAG9DkwD,EAAgBttE,UAAUmQ,MAAQ,WAChC,IAAIo9D,EAAkBntE,KAAKmtE,gBAC3BA,IAAoBA,EAAgBh/D,WAAag/D,EAAgBh9D,UAGnE+8D,EAAgBttE,UAAU0tE,6BAA+B,SAAUC,EAAW3R,EAAW/wC,GACvF,IAAI1kB,EAAOonE,GAAa,OAYxB,MAVkB,UAAd3R,GAAkC,SAATz1D,EAC3BA,EAAO,QACgB,UAAdy1D,GAAkC,SAATz1D,EAElCA,EAAO,MACmB,aAAhB0kB,GAA8C,YAAhBA,GAAuC,SAAT1kB,IAEtEA,EAAO,YAGF6mE,GAAiB7mE,IAGnB+mE,EAnET,GAuEAD,GAAsB,OAAQ,IAC9BA,GAAsB,WAAY,IAClCA,GAAsB,MAAO,IAC7BA,GAAsB,QAAS,ICpE/B,SAASQ,GAASC,EAAWx3D,GAC3B,IAAKw3D,EACH,OAAO,EAGT,GAAIA,EAAUjuE,SAAWyW,EAAOzW,OAC9B,OAAO,EAGT,IAAI0sB,GAAM,EASV,OAPA,QAAOjW,GAAQ,SAAUgE,EAAO5V,GAC9B,IAtBJ,SAAsBu9D,EAAQC,GAC5B,GAAI,SAAQD,IAAW,SAAQC,GAC7B,OAAO,EAGT,IAAI6L,EAAe9L,EAAO5kD,IAAI,UAC1B2wD,EAAe9L,EAAO7kD,IAAI,UAC9B,OAAO,WAAU0wD,EAAcC,GAexBC,CAAa3zD,EAAOwzD,EAAUppE,IAEjC,OADA6nB,GAAM,GACC,KAIJA,EAGT,SAAS2hD,GAAeC,EAAeC,GACrC,IAAIvqE,EAAS,GAYb,OAVA,QAAOsqE,GAAe,SAAUzwD,EAAGtL,GACjC,IAAIi8D,EAAcD,EAAYh8D,GAE1B,WAAUi8D,KACZA,EAAcA,EAAY5sE,UAG5BoC,EAAOuO,GAAKi8D,KAGPxqE,EAGT,IAoTe,GAlTf,WACE,SAASyqE,EAAgB/lE,GACvBnI,KAAKmI,QAAU,KACfnI,KAAKmuE,cAAgB,KACrBnuE,KAAKouE,gBAAkB,KACvBpuE,KAAKquE,gBAAkB,KACvBruE,KAAKmI,QAAUA,EAySjB,OAtSA+lE,EAAgBtuE,UAAU0uE,KAAO,WAC/B,IACIvgE,EADU/N,KAAKmI,QACA8U,IAAI,QACvBlP,EAAKC,GAAG,gBAAiB,gBAAehO,KAAM,cAC9C+N,EAAKC,GAAG,kBAAmB,gBAAehO,KAAM,gBAChD+N,EAAKC,GAAG,kBAAmB,gBAAehO,KAAM,iBAGlDkuE,EAAgBtuE,UAAU2uE,OAAS,WACjC,IACIxgE,EADU/N,KAAKmI,QACA8U,IAAI,QACvBlP,EAAKmC,IAAI,gBAAiB,mBAAkBlQ,KAAM,cAClD+N,EAAKmC,IAAI,kBAAmB,mBAAkBlQ,KAAM,gBACpD+N,EAAKmC,IAAI,kBAAmB,mBAAkBlQ,KAAM,iBAGtDkuE,EAAgBtuE,UAAU4uE,UAAY,SAAUC,GAC9C,IAAIvpE,EAAQlF,KAERmI,EAAUnI,KAAKmI,QAGnB,IAAsB,IAFFA,EAAQ8U,IAAI,iBAEhC,CAKA,IAAI0iD,EAAiBx3D,EAAQ8U,IAAI,kBAC7B6jD,EAAM2N,EAAa3N,IACnBhxD,EAAO2+D,EAAa3+D,KAEpB4+D,EAAe1uE,KAAK2uE,cAAc7N,GAGlC8N,EAAkB5uE,KAAKmuE,cAEtBV,GAASmB,EAAiBF,KAI3BE,GACF5uE,KAAK6uE,qBAGP7uE,KAAK8uE,uBAGLJ,EAAaxmE,SAAQ,SAAU6mE,GACzBA,EAAY9xD,IAAI,cAClB8xD,EAAY16B,cAGdnvC,EAAM8pE,gBAAgBD,MAExB/uE,KAAKmuE,cAAgBO,EACrB/O,EAAe5oC,OACfjnB,GAAQ9P,KAAKivE,WAIff,EAAgBtuE,UAAUivE,mBAAqB,WAC7C,IAAI34D,EAASlW,KAAKmuE,cAElB,QAAOj4D,GAAQ,SAAUgE,GACvB,IAAI8zD,EAAc9zD,EAAM+C,IAAI,sBAC5B/C,EAAMkO,KAAK4lD,GACX9zD,EAAMg1D,UAAU,GAChBh1D,EAAM7J,IAAI,qBAAsB,SAIbrQ,KAAKmI,QAAQ8U,IAAI,kBACRA,IAAI,YACzB8Z,MAAK,SAAUo4C,EAAMC,GAC5B,OAAOD,EAAKE,OAASD,EAAKC,UAE5BrvE,KAAKmuE,cAAgB,MAGvBD,EAAgBtuE,UAAUovE,gBAAkB,SAAU90D,GACpD,IAAIo1D,EAActvE,KAAK2zD,sBAAsBz5C,EAAO,UAGhD8zD,EAAcF,GAAewB,EAAap1D,EAAMkO,QACpDlO,EAAMoP,UAAU,qBAAsB0kD,GACtC9zD,EAAMkO,KAAKknD,GACXp1D,EAAMg1D,UAAU,IAGlBhB,EAAgBtuE,UAAU2vE,YAAc,SAAUC,GAChD,IAAItqE,EAAQlF,KAIZ,IAAwB,IAFFA,KAAKmI,QAAQ8U,IAAI,mBAEvC,CAKA,IAAI6jD,EAAM0O,EAAY1O,IAClBhxD,EAAO0/D,EAAY1/D,KAEnB2/D,EAAiBzvE,KAAK2uE,cAAc7N,GAGpC4O,EAAoB1vE,KAAKouE,gBAExBX,GAASiC,EAAmBD,KAI7BC,GACF1vE,KAAK2vE,uBAGP3vE,KAAK8uE,uBAGLW,EAAevnE,SAAQ,SAAUgS,GAC3BA,EAAM+C,IAAI,cACZ/C,EAAMm6B,cAGRnvC,EAAM0qE,kBAAkB11D,MAE1Bla,KAAKouE,gBAAkBqB,EACvB3/D,GAAQ9P,KAAKivE,WAGff,EAAgBtuE,UAAU+vE,qBAAuB,WAC/C,IAAIz5D,EAASlW,KAAKouE,gBAElB,QAAOl4D,GAAQ,SAAUgE,GAGvB,GAFAA,EAAM7J,IAAI,YAAY,IAEjB6J,EAAM+C,IAAI,YAAa,CAC1B,IAAI+wD,EAAc9zD,EAAM+C,IAAI,gBAC5B/C,EAAMkO,KAAK4lD,GACX9zD,EAAM7J,IAAI,eAAgB,UAI9BrQ,KAAKouE,gBAAkB,MAGzBF,EAAgBtuE,UAAUgwE,kBAAoB,SAAU11D,GACtDA,EAAM7J,IAAI,YAAY,GAEtB,IAAIw/D,EAAgB7vE,KAAK2zD,sBAAsBz5C,EAAO,YAEtDla,KAAK8vE,iBAAiB51D,EAAO21D,IAG/B3B,EAAgBtuE,UAAUmwE,YAAc,SAAUC,GAChD,IAAI9qE,EAAQlF,KAIZ,IAAwB,IAFFA,KAAKmI,QAAQ8U,IAAI,mBAEvC,CAKA,IAAI6jD,EAAMkP,EAAYlP,IAClBhxD,EAAOkgE,EAAYlgE,KAEnBmgE,EAAiBjwE,KAAK2uE,cAAc7N,GAGpCoP,EAAoBlwE,KAAKquE,gBAExBZ,GAASyC,EAAmBD,KAI7BC,GACFlwE,KAAK8uE,uBAGPmB,EAAe/nE,SAAQ,SAAUgS,GAC3BA,EAAM+C,IAAI,cACZ/C,EAAMm6B,cAGRnvC,EAAMirE,kBAAkBj2D,MAE1Bla,KAAKquE,gBAAkB4B,EACvBngE,GAAQ9P,KAAKivE,WAGff,EAAgBtuE,UAAUkvE,qBAAuB,WAC/C,IAAI54D,EAASlW,KAAKquE,gBAElB,QAAOn4D,GAAQ,SAAUgE,GAGvB,GAFAA,EAAM7J,IAAI,YAAY,IAEjB6J,EAAM+C,IAAI,YAAa,CAC1B,IAAI+wD,EAAc9zD,EAAM+C,IAAI,gBAC5B/C,EAAMkO,KAAK4lD,GACX9zD,EAAM7J,IAAI,eAAgB,UAI9BrQ,KAAKquE,gBAAkB,MAGzBH,EAAgBtuE,UAAUuwE,kBAAoB,SAAUj2D,GACtDA,EAAM7J,IAAI,YAAY,GAEtB,IAAI+/D,EAAgBpwE,KAAK2zD,sBAAsBz5C,EAAO,YAEtDla,KAAK8vE,iBAAiB51D,EAAOk2D,IAG/BlC,EAAgBtuE,UAAUkwE,iBAAmB,SAAU51D,EAAO3V,GAE5D,IAAIypE,EAAc9zD,EAAM+C,IAAI,gBAExB+wD,GACF9zD,EAAMkO,KAAK4lD,GAGbA,EAAcF,GAAevpE,EAAO2V,EAAMkO,QAC1ClO,EAAMoP,UAAU,eAAgB0kD,GAChC9zD,EAAMkO,KAAK7jB,IAGb2pE,EAAgBtuE,UAAU+uE,cAAgB,SAAU7N,GAClD,IAEI5qD,EAFUlW,KAAKmI,QACU8U,IAAI,kBACLA,IAAI,YAChC,OAAO,UAAS/G,GAAQ,SAAUgE,GAChC,GAAIA,EAAM+C,IAAI,WAAa/C,EAAM+C,IAAI,WAAY,CAC/C,IAAIixB,EAAWh0B,EAAM+C,IAAI,UAErBwC,EAAO,WAAUyuB,GAAYA,EAAS,GAAe,QAAIA,EAAqB,QAClF,OAAO4yB,EAAIrhD,QAKjByuD,EAAgBtuE,UAAU+zD,sBAAwB,SAAUz5C,EAAOonD,GACjE,IAAIn5D,EAAUnI,KAAKmI,QACfkoE,EAAYn2D,EAAM+C,IAAI,UACtB22C,EAAYyc,EAAUn2D,OAAS/R,EAAQyvD,gBAAgB,SAEvD,WAAUhE,KACZA,EAAYA,EAAU,IAGxB,IAAI0c,EAAenoE,EAAQ8U,IAAI,gBAE3BszD,EAAa,OAAM,GAAIr2D,EAAMkO,OAAQ,CACvC+lB,OAAQkiC,IAGV,GAAc,WAAV/O,EAAoB,CACtB,IAAIkP,EAAgBroE,EAAQ8U,IAAI,iBAC5BwzD,EAAqBH,EAAa7b,eAAeb,EAAW2c,IAAe,GAC/E,OAAO,OAAME,EAAoBD,GAGnC,GAAc,aAAVlP,EAAsB,CACxB,IAAIoP,EAAkBvoE,EAAQ8U,IAAI,mBAC9B0zD,EAAuBL,EAAa3b,iBAAiBf,EAAW2c,IAAe,GACnF,OAAO,OAAMI,EAAsBD,GAGrC,GAAc,aAAVpP,EAAsB,CACxB,IAAIsP,EAAkBzoE,EAAQ8U,IAAI,mBAC9B4zD,EAAuBP,EAAa/b,iBAAiBX,EAAW2c,IAAe,GACnF,OAAO,OAAMM,EAAsBD,GAGrC,OAAOL,GAGTrC,EAAgBtuE,UAAUqvE,MAAQ,WAChC,IAAIlgE,EAAS/O,KAAKmI,QAAQ8U,IAAI,UAE9B,GAAKlO,EAAL,CACA,IAAI+hE,EAAY/hE,EAAOkO,IAAI,cAEvB6zD,IACF3P,aAAa2P,GACb/hE,EAAOsB,IAAI,aAAc,OAG3BygE,EAAYzP,YAAW,WACrBtyD,EAAOe,SACN,IACHf,EAAOsB,IAAI,aAAcygE,KAGpB5C,EA/ST,GCtDO,SAAS6C,GAAYnpC,GAC1B,OAAI,WAAUA,GACLA,EAGFA,EAAM/jB,MAAM,KCIrB,IAAImtD,GAAc,CAAC,QAAS,QAAS,QA8wCtB,GAzwCf,SAAU/rE,GAGR,SAASgsE,EAAQ/hE,GACf,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrC2O,GAAI,KACJxI,KAAM,OACNmvD,UAAW,KACXhvC,MAAO,KACPjC,MAAO,GACP5E,KAAM,GACNynB,OAAQ,GACRgqC,YAAa,GACbnjE,KAAM,KACNgB,OAAQ,KACRL,UAAW,KACXixD,eAAgB,KAChBwR,gBAAgB,EAChBC,UAAU,EACV50D,SAAS,EACTQ,SAAS,EACTq0D,cAAc,EACdb,cAAe,KACfI,gBAAiB,KACjBF,gBAAiB,KACjB3V,aAAc,KACdgM,eAAgB,KAChBuK,cAAe,KACfC,aAAc,KACdC,YAAa,KACbC,eAAgB,KAChB97D,MAAO,KACP8G,WAAY,GAAOA,YAClBvN,KAASlP,KAGR2V,EAAQzQ,EAAM+X,IAAI,UAAY,GAAOtH,MASzC,OAPAzQ,EAAMmL,IAAI,QAASsF,GAGnBzQ,EAAM+X,IAAI,cAAgB/X,EAAMwsE,iBAEhCxsE,EAAMysE,kBAECzsE,EAytCT,OArwCA,qBAAU+rE,EAAShsE,GA+CnBgsE,EAAQrxE,UAAU4W,SAAW,SAAUtH,GASrC,OARI,YAAWA,GACblP,KAAK4xE,gBAAgB,WAAY,CAC/B/a,OAAQka,GAAY7hE,KAGtBlP,KAAK4xE,gBAAgB,WAAY1iE,GAG5BlP,MAGTixE,EAAQrxE,UAAUqU,MAAQ,SAAU2zB,EAAO14B,GAGzC,OAFAlP,KAAK6xE,kBAAkB,QAASjqC,EAAO14B,GAEhClP,MAGTixE,EAAQrxE,UAAUsa,MAAQ,SAAU0tB,EAAO14B,GAGzC,OAFAlP,KAAK6xE,kBAAkB,QAASjqC,EAAO14B,GAEhClP,MAGTixE,EAAQrxE,UAAUsG,KAAO,SAAU0hC,EAAO14B,GAGxC,OAFAlP,KAAK6xE,kBAAkB,OAAQjqC,EAAO14B,GAE/BlP,MAGTixE,EAAQrxE,UAAUiU,QAAU,SAAU+zB,EAAO/f,GAG3C,OAFA7nB,KAAK6xE,kBAAkB,UAAWjqC,EAAO/f,GAElC7nB,MAGTixE,EAAQrxE,UAAUkyE,OAAS,SAAUC,GACnC,IAAIC,EAAUD,EAed,OAbI,YAAWA,IAAc,iBAAgBA,MAC3CC,EAAU,CAACD,IAGb,QAAOC,GAAS,SAAUF,EAAQxtE,GAC3B,YAAWwtE,KACdE,EAAQ1tE,GAAS,CACf6B,KAAM2rE,OAKZ9xE,KAAKqQ,IAAI,gBAAiB2hE,GACnBhyE,MAGTixE,EAAQrxE,UAAU2E,MAAQ,SAAUqjC,EAAO/f,GACzC,GAAI,YAAW+f,GAAQ,CACrB,IAAIivB,EAASka,GAAYnpC,GACzB5nC,KAAKqQ,IAAI,eAAgB,CACvBwmD,OAAQA,EACRhvC,SAAUA,QAEP,CACDgvC,EAASjvB,EAAMivB,OAAnB,IACIob,EAAarqC,EAAM/f,SACnB3Y,EAAM04B,EAAM14B,IAEZ2nD,GAAUob,GAAc/iE,EAC1BlP,KAAKqQ,IAAI,eAAgBu3B,GAEzB5nC,KAAKqQ,IAAI,eAAgB,CACvBnB,IAAK04B,IAKX,OAAO5nC,MAGTixE,EAAQrxE,UAAU2Y,QAAU,SAAUqvB,EAAO14B,GAC3C,GAAI,YAAW04B,GAAQ,CACrB,IAAIivB,EAASka,GAAYnpC,GACzB5nC,KAAKqQ,IAAI,iBAAkB,CACzBwmD,OAAQA,EACRhvC,SAAU3Y,SAGZlP,KAAKqQ,IAAI,iBAAkBu3B,GAG7B,OAAO5nC,MAGTixE,EAAQrxE,UAAUqV,MAAQ,SAAU2yB,EAAO14B,GACzC,IAAI6rD,EAAe,GAEnB,GAAI,YAAWnzB,GAAQ,CACrB,IAAIivB,EAASka,GAAYnpC,GACzBmzB,EAAalE,OAASA,EACtBkE,EAAalzC,SAAW3Y,EACxBlP,KAAKqQ,IAAI,eAAgB0qD,QAEzB/6D,KAAKqQ,IAAI,eAAgBu3B,GAG3B,OAAO5nC,MAQTixE,EAAQrxE,UAAU4c,QAAU,SAAUtN,GAEpC,OADAlP,KAAKqQ,IAAI,iBAAkBnB,GACpBlP,MAQTixE,EAAQrxE,UAAUwa,OAAS,SAAUlL,GAEnC,OADAlP,KAAKqQ,IAAI,gBAAiBnB,GACnBlP,MAQTixE,EAAQrxE,UAAUsyE,SAAW,SAAUhjE,GAErC,OADAlP,KAAKqQ,IAAI,kBAAmBnB,GACrBlP,MAQTixE,EAAQrxE,UAAUuyE,SAAW,SAAUjjE,GAErC,OADAlP,KAAKqQ,IAAI,kBAAmBnB,GACrBlP,MAOTixE,EAAQrxE,UAAUwP,KAAO,WACvB,IAAIlK,EAAQlF,KAGRsmB,EAAQtmB,KAAKid,IAAI,SACAjd,KAAKid,IAAI,kBACf6P,UAAUxG,EAAMgB,QAE/B,IAAI7H,EAAOzf,KAAKid,IAAI,QAGpBjd,KAAKoyE,WAAW3yD,GAGhB,IAAIsnD,EAAiB/mE,KAAKid,IAAI,kBAE1B8pD,GAAkBA,EAAelQ,QACtBkQ,EAAelQ,OACrB3uD,SAAQ,SAAU0/B,GACvB1iC,EAAMgkC,YAAYtB,EAAOnoB,MAK7B,IAAImhB,EAAY5gC,KAAKqyE,aAAa5yD,GAElCmhB,EAAY5gC,KAAKsyE,YAAY1xC,GAC7B5gC,KAAKqQ,IAAI,YAAauwB,IAGxBqwC,EAAQrxE,UAAU2yE,WAAa,WAC7B,GAAIvyE,KAAKid,IAAI,QAAS,CACpB,IAAIu1D,EAAkB,IAAI,GAAgBxyE,MAC1CwyE,EAAgBlE,OAChBtuE,KAAKqQ,IAAI,kBAAmBmiE,KAIhCvB,EAAQrxE,UAAU6yE,aAAe,WAC/B,GAAIzyE,KAAKid,IAAI,QAAS,CACpB,IAAIu1D,EAAkBxyE,KAAKid,IAAI,mBAC/Bu1D,GAAmBA,EAAgBjE,WAQvC0C,EAAQrxE,UAAU8yE,MAAQ,WACxB,IAAIpsD,EAAQtmB,KAAKid,IAAI,SACjBtH,EAAQ3V,KAAKid,IAAI,SACjB2jB,EAAY5gC,KAAKid,IAAI,aACrB01D,EAAc,GAEdrC,EAAetwE,KAAK4yE,mBAExBtC,EAAatc,SAAS1tC,GACtBgqD,EAAazzD,SAASlH,EAAMuE,OAE5B,IAAIylD,EAAiB3/D,KAAKid,IAAI,kBAE9Bjd,KAAK6yE,eAAejyC,GAEpB,IAAK,IAAIrhC,EAAI,EAAGse,EAAM+iB,EAAUnhC,OAAQF,EAAIse,EAAKte,GAAK,EAAG,CACvD,IAAIkgB,EAAOmhB,EAAUrhC,GACrBkgB,EAAOzf,KAAK8yE,SAASrzD,GACrBkzD,EAAYniE,KAAKiP,GACjBzf,KAAK8P,KAAK2P,EAAMkgD,EAAgB2Q,EAAc/wE,GAIhD,GAAIS,KAAKid,IAAI,gBAAiB,CAC5B,IACI8uB,EADkB/rC,KAAKid,IAAI,mBACFuwD,UAAU,SAAQztE,MAAM,GAAG4yE,GAAchT,EAAe1iD,IAAI,aACzFjd,KAAKqQ,IAAI,SAAU07B,GAGhB/rC,KAAKid,IAAI,YAIZjd,KAAKqQ,IAAI,YAAasiE,GAHtB3yE,KAAK+yE,MAAMJ,IAOf1B,EAAQrxE,UAAUmQ,MAAQ,WACxB/P,KAAKgzE,aACLhzE,KAAKqQ,IAAI,SAAU,IACnBrQ,KAAKqQ,IAAI,SAAU,OAGrB4gE,EAAQrxE,UAAUoQ,QAAU,WAC1BhQ,KAAK+P,QACL,IAAI4vD,EAAiB3/D,KAAKid,IAAI,kBAC9B0iD,GAAkBA,EAAexvD,SACjC,IAAIzB,EAAY1O,KAAKid,IAAI,aACzBvO,GAAaA,EAAUyB,SACvBnQ,KAAKyyE,eAELxtE,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAQhCixE,EAAQrxE,UAAUg4D,gBAAkB,SAAUqb,GAC5C,IAAIryE,EACAwnB,EAAOpoB,KAAKo4D,QAAQ6a,GAOxB,OALI7qD,GAAQ,WAAUA,EAAK8e,UAEzBtmC,EAAQwnB,EAAKkG,OAAO,IAGf1tB,GASTqwE,EAAQrxE,UAAUsd,cAAgB,SAAUF,EAASk2D,GACnDlzE,KAAKqQ,IAAI,UAAW2M,GACpB,IAAI2iD,EAAiB3/D,KAAKid,IAAI,kBAC9B0iD,GAAkBA,EAAetvD,IAAI,UAAW2M,GAEhD,IAAIm2D,EAAkBnzE,KAAKid,IAAI,oBAC/Bk2D,GAAmBA,EAAgBj2D,cAAcF,IAE5Ck2D,GAAYvT,IACF3/D,KAAKid,IAAI,UACfnN,QASXmhE,EAAQrxE,UAAUw4D,QAAU,SAAUnmD,GACpC,OAAOjS,KAAKid,IAAI,SAAShL,IAO3Bg/D,EAAQrxE,UAAUs2D,kBAAoB,WACpC,IAAI7xC,EAAQ,UAASrkB,KAAKid,IAAI,UAE9B,OAAO,UAASoH,GAAO,SAAU+D,GAC/B,OAAO,YAAW4oD,GAAa5oD,EAAKjiB,UAQxC8qE,EAAQrxE,UAAUq7D,UAAY,WAC5B,OAAOj7D,KAAKo4D,QAAQ,YAAYlxB,OAAO,IAOzC+pC,EAAQrxE,UAAU6tB,UAAY,WAC5B,OAAOztB,KAAKo4D,QAAQ,YAAYlxB,OAAO,IAOzC+pC,EAAQrxE,UAAUwrB,UAAY,WAE5B,OADqBprB,KAAKid,IAAI,kBACRA,IAAI,aAO5Bg0D,EAAQrxE,UAAUiyD,WAAa,WAC7B,IAAIvrC,EAAQtmB,KAAKid,IAAI,SACrB,SAAUqJ,IAASA,EAAME,UAS3ByqD,EAAQrxE,UAAUwzE,gBAAkB,SAAUl5D,EAAO5V,GAC/C4V,IACFA,EAAMoP,UAAU,QAAShlB,GACzB4V,EAAMoP,UAAU,QAAStpB,KAAKid,IAAI,UAClC/C,EAAMoP,UAAU,SAAUtpB,KAAKid,IAAI,WAE/Bjd,KAAKid,IAAI,aAAe,SAAQjd,KAAKid,IAAI,oBAC3C/C,EAAMoP,UAAU,iBAAkBtpB,KAAKid,IAAI,qBAUjDg0D,EAAQrxE,UAAUyzE,UAAY,SAAUC,GACtC,IAAIhC,EAAgBtxE,KAAKid,IAAI,iBACzBkP,GAAM,EASV,OAPA,QAAOmlD,GAAe,SAAUiC,GAC9B,GAAIA,EAAaptE,OAASmtE,EAExB,OADAnnD,GAAM,GACC,KAIJA,GAST8kD,EAAQrxE,UAAU4zE,cAAgB,SAAUprD,EAAM2Y,GAChD,IAAImG,EAAS9e,EAAK8e,OAEdrnB,EAAS,OAAMqnB,GAAQ,SAAUvZ,GACnC,IAAIia,EAAQja,EAAMia,MAElB,MAAmB,aAAfja,EAAMxnB,KACDwnB,EAAMW,OAAO,IAGlBX,EAAMO,WACD6S,EAAO6G,OAMlB,OAAOxf,EAAKgf,QAAQrnC,MAAMqoB,EAAMvI,IAGlCoxD,EAAQrxE,UAAUwoE,QAAU,SAAUznE,GACpC,IAAI8yE,EAAiBzzE,KAAKid,IAAI,kBAE9B,GAAIw2D,EACF,OAAOA,EAAerL,QAAQznE,IAIlCswE,EAAQrxE,UAAU8zE,kBAAoB,SAAU/yE,GAC9C,IAAI8yE,EAAiBzzE,KAAKid,IAAI,kBAE9B,GAAIw2D,EACF,OAAOA,EAAeC,kBAAkB/yE,IAQ5CswE,EAAQrxE,UAAUuoE,eAAiB,WACjC,IAAIjhC,EAASlnC,KAAKid,IAAI,eAEtB,IAAKiqB,EAAQ,CACX,IAAI7iB,EAAQ,UAASrkB,KAAKid,IAAI,UAG1B02D,EAAa,UAAStvD,GAAO,SAAU+D,GACzC,OAAO,YAAW4oD,GAAa5oD,EAAKjiB,SAIlC+hE,EAAc,OAAMyL,GAAY,SAAUvrD,GAC5C,OAAO,UAASA,EAAK8e,QAAQ,SAAUvZ,GACrC,OAAOA,EAAMO,iBAKjBgZ,EAAS,QAAO,WAAUghC,IAC1BloE,KAAKqQ,IAAI,cAAe62B,GAG1B,OAAOA,GAOT+pC,EAAQrxE,UAAUg0E,gBAAkB,WAClC,IAAI/c,EAAS,GACTqa,EAAclxE,KAAKid,IAAI,eAS3B,OAPA+zD,GAAY9oE,SAAQ,SAAU+qE,GAC5B,IAAIY,EAAa3C,EAAY+B,GAEzBa,EAAa,OAAMD,EAAY,SAAU,IAE7Chd,EAASA,EAAOx1D,OAAOyyE,MAElB,QAAOjd,IAOhBoa,EAAQrxE,UAAUu/D,eAAiB,WACjC,IAAIA,EAAiBn/D,KAAKid,IAAI,gBAO9B,OALKjd,KAAKytB,cAER0xC,GAAiB,GAGZA,GAST8R,EAAQrxE,UAAUy/D,UAAY,SAAU9rD,EAAO7T,GAE7C,OADwBM,KAAKid,IAAI,qBACRoiD,UAAU9rD,EAAO7T,IAS5CuxE,EAAQrxE,UAAU2/D,gBAAkB,SAAU9/C,EAAMmnD,GAElD,OADwB5mE,KAAKid,IAAI,qBACRsiD,gBAAgB9/C,EAAMmnD,IAOjDqK,EAAQrxE,UAAUguB,aAAe,WAC/B,IAAIJ,EAASxtB,KAAKytB,YACdgC,EAAMjC,EAAOiC,IACb9J,EAAM6H,EAAO7H,IAYjB,OATI8J,GAAO,EACDA,EACC9J,GAAO,EAERA,EAEA,GAWZsrD,EAAQrxE,UAAU6pE,WAAa,SAAUsK,GACvC,IAAIplE,EAAK3O,KAAKid,IAAI,MACd+2D,EAAYh0E,KAAKid,IAAI,aAEzB,GAAI+2D,GAAaA,EAAUv0E,OAAS,EAClC,QAAOu0E,GAAW,SAAUr0E,GAC1BgP,EAAKA,EAAK,IAAMolE,EAAQp0E,UAErB,CACL,IAAIwG,EAAOnG,KAAKid,IAAI,QAChBy+C,EAAS17D,KAAKi7D,YACdztC,EAASxtB,KAAKytB,YACdqS,EAAS47B,EAAO9zB,OAAS,IACzB7H,EAASvS,EAAOoa,OAAS,IACzBqsC,EAAOF,EAAQh0C,GACfm0C,OAAO,EAGTA,EADExY,EAAOrtC,WACFqtC,EAAOptC,OAAO,GAEdylD,EAAQj0C,GAIfnxB,EADW,aAATxI,GAAgC,WAATA,EACpBwI,EAAK,IAAMulE,EACE,SAAT/tE,GAA4B,SAATA,GAA4B,SAATA,EAC1CwI,EAAK,IAAMxI,EAEXwI,EAAK,IAAMulE,EAAO,IAAMD,EAG/B,IAAI/L,EAAcloE,KAAKmoE,iBAElB,WAAUD,IACb,QAAOA,GAAa,SAAUiM,GAE5B,IAAIvsC,EAAQusC,EAAWvsC,MAEC,aAApBusC,EAAWhuE,OACbwI,EAAKA,EAAK,IAAMolE,EAAQnsC,OAMhC,OAAOj5B,GAQTsiE,EAAQrxE,UAAUw0E,qBAAuB,SAAU7gE,GACjD,IAAI/N,EAEAk2D,EAAS17D,KAAKi7D,YACdztC,EAASxtB,KAAKytB,YAEdwX,EADQjlC,KAAKid,IAAI,SACG8S,OAAOxc,GAC3B8vB,EAASq4B,EAAO3rC,OAAOkV,EAAYr2B,GACnCg1B,EAASpW,EAAOuC,OAAOkV,EAAYp2B,GACnCixB,EAAS47B,EAAO9zB,MAChB7H,EAASvS,EAAOoa,MACpB,OAAOpiC,EAAK,IAAOs6B,GAAUuD,EAAQ79B,EAAGu6B,GAAU6D,EAAQp+B,GAS5DyrE,EAAQrxE,UAAUy0E,qBAAuB,SAAU1zE,GACjD,IAAI+6D,EAAS17D,KAAKi7D,YACdztC,EAASxtB,KAAKytB,YAYlB,MAAO,CACL7e,EAXM5O,KAAKs0E,iBAAiB3zE,EAAI+6D,EAAO9zB,OAAQ8zB,GAY/C7sD,EARE2e,EACExtB,KAAKs0E,iBAAiB3zE,EAAI6sB,EAAOoa,OAAQpa,GAEzC7sB,EAAIkO,EAAIlO,EAAIkO,EAAI,GAMpB0lE,GAAI/mD,EAASA,EAAOG,MAAM3tB,KAAK4tB,qBAAkB9mB,IAarDmqE,EAAQrxE,UAAUkQ,KAAO,SAAU2P,EAAM/Q,EAAW4hE,EAAchsE,GAChE,IAAK,IAAI/E,EAAI,EAAGse,EAAM4B,EAAKhgB,OAAQF,EAAIse,EAAKte,GAAK,EAAG,CAClD,IAAIoB,EAAM8e,EAAKlgB,GACfS,KAAKivD,UAAUtuD,EAAK+N,EAAW4hE,EAAchsE,EAAQ/E,KAazD0xE,EAAQrxE,UAAUqvD,UAAY,SAAUtuD,EAAK+N,EAAW4hE,EAAchsE,GACpE,IAAI4V,EAAQvZ,EAAIuZ,MACZhL,EAAMlP,KAAKw0E,WAAW7zE,GACtB8zE,EAAYnE,EAAazb,UAAU36C,EAAOhL,EAAKR,GACnD1O,KAAKozE,gBAAgBqB,EAAWnwE,IAQlC2sE,EAAQrxE,UAAU40E,WAAa,SAAU7zE,GACvC,IAAIuO,EAAM,CACRi/B,OAAQxtC,EACRiO,EAAGjO,EAAIiO,EACPC,EAAGlO,EAAIkO,EACPoF,MAAOtT,EAAIsT,MACX/N,KAAMvF,EAAIuF,KACVgU,MAAOvZ,EAAIuZ,MACX23C,WAAY7xD,KAAK6xD,aACjBh+C,QAASlT,EAAIkT,SAEX09D,EAAevxE,KAAKid,IAAI,gBAY5B,OAVIs0D,IACFriE,EAAI3K,MAAQvE,KAAK00E,aAAanD,EAAc5wE,EAAgB,UAG1DX,KAAKid,IAAI,oBACX/N,EAAIoZ,OAAS3nB,EAAI2nB,OACjBpZ,EAAI66D,WAAappE,EAAIopE,YAGvB76D,EAAIP,GAAK3O,KAAKypE,WAAW9oE,EAAgB,SAClCuO,GAGT+hE,EAAQrxE,UAAUozE,WAAa,WAG7B,IAAIrT,EAAiB3/D,KAAKid,IAAI,kBAC9B0iD,GAAkBA,EAAe5vD,QAEjC,IAAIojE,EAAkBnzE,KAAKid,IAAI,mBAC/Bk2D,GAAmBA,EAAgBpjE,QACnC/P,KAAKqQ,IAAI,QAAS,IAClBrQ,KAAKqQ,IAAI,cAAe,MACxB,IAAIojE,EAAiBzzE,KAAKid,IAAI,kBAC9Bw2D,GAAkBA,EAAe1jE,QACT/P,KAAKid,IAAI,qBACflN,SAIpBkhE,EAAQrxE,UAAUiyE,kBAAoB,SAAUoB,EAAUrrC,EAAO14B,GAC/D,GAAI,YAAW04B,GACb5nC,KAAK4xE,gBAAgBqB,EAAUrrC,OAC1B,CACL,IAAI+sC,EAAU,GAEV,YAAW/sC,GAEb+sC,EAAQrmD,OAAS,CAACsZ,GAElB+sC,EAAQ9d,OAASka,GAAYnpC,GAG3B14B,IACE,cAAaA,GACfylE,EAAQ9sD,SAAW3Y,EAEnBylE,EAAQrmD,OAASpf,GAIrBlP,KAAK4xE,gBAAgBqB,EAAU0B,KAKnC1D,EAAQrxE,UAAU8xE,eAAiB,WACjC,IAAIhjE,EAAY1O,KAAKid,IAAI,aAGrBoO,EAFOrrB,KAAKid,IAAI,QAEFA,IAAI,MAClBD,EAAUhd,KAAKid,IAAI,WACnB0iD,EAAiBjxD,EAAU6+B,SAAS,CACtCliB,OAAQA,EACRrO,QAASA,IAEXhd,KAAKqQ,IAAI,iBAAkBsvD,IAI7BsR,EAAQrxE,UAAU+xE,gBAAkB,WAElC,IAAIiD,EAAoB,IAAI,GAAkB50E,MAC9CA,KAAKqQ,IAAI,oBAAqBukE,GAE9B,IAAIzB,EAAkB,IAAI,GAAgBnzE,MAC1CA,KAAKqQ,IAAI,kBAAmB8iE,IAI9BlC,EAAQrxE,UAAUgyE,gBAAkB,SAAU3/D,EAAM/C,GAChClP,KAAKid,IAAI,eACfhL,GAAQ/C,GAItB+hE,EAAQrxE,UAAUspC,YAAc,SAAUtB,EAAOnoB,GAC/C,IAAI1R,EAAO/N,KAAKid,IAAI,QAChBiqB,EAASlnC,KAAKid,IAAI,UAClB0Q,EAAQuZ,EAAOU,GAOnB,OALKja,IACHA,EAAQ5f,EAAK8mE,WAAWjtC,EAAOnoB,GAC/BynB,EAAOU,GAASja,GAGXA,GAITsjD,EAAQrxE,UAAUwyE,WAAa,SAAU3yD,GACvC,IAAIva,EAAQlF,KAERqkB,EAAQrkB,KAAKid,IAAI,SAEjBi0D,EAAclxE,KAAKid,IAAI,eAEvBqJ,EAAQtmB,KAAKid,IAAI,SACjBtH,EAAQ3V,KAAKid,IAAI,SACjB63D,EAAW90E,KAAKid,IAAI,QAExB,QAAOi0D,GAAa,SAAUznC,EAAQtjC,GACpC,IAAI0tE,EAAa,oBAAS,GAAIpqC,GAE1B5hB,EAAWgsD,EAAWhsD,SACtByG,EAASulD,EAAWvlD,OACpB9oB,EAAKquE,EAAWhd,OAChBA,OAAgB,IAAPrxD,EAAgB,GAAKA,EAErB,aAATW,GAAyC,IAAlB0wD,EAAOp3D,QAA+B,UAAf6mB,EAAMngB,MACtD0wD,EAAOx9B,QAAQ,KAIjB,IAAI6N,EAAS,OAAM2vB,GAAQ,SAAUjvB,GACnC,OAAO1iC,EAAMgkC,YAAYtB,EAAOnoB,MAIlC,GAAmB,UAAf6G,EAAMngB,MAA6B,aAATA,GAAuB+gC,EAAOznC,OAAS,EAAG,CACtE,IAAI+tB,EAAS0Z,EAAO,GACpB1Z,EAAOoB,OAAO,CACZ0I,MAAM,EACN7H,IAAK,EACL9J,IAAKzH,KAAKyH,IAAI5lB,MAAM,KAAMytB,EAAOc,UAMrC,GAFAulD,EAAW3sC,OAASA,GAE4C,IAA5D,WAAU,CAAC,QAAS,OAAQ,QAAS,WAAY/gC,IAAkC,IAAlB+gC,EAAOznC,QAAgBynC,EAAO,GAAG7Y,WAEpGwlD,EAAWvlD,OAAS4Y,EAAO,GAAG5Y,YACzB,IAAKzG,IAAayG,EAEvB,GAAa,SAATnoB,EACF0tE,EAAWvlD,OAAS3Y,EAAMQ,WACrB,GAAa,UAAThQ,EACT0tE,EAAWvlD,OAAS3Y,EAAMO,OAAO4+D,IAAa,QACzC,GAAa,YAAT3uE,EACT0tE,EAAWvlD,OAAS3Y,EAAMS,eACrB,GAAa,UAATjQ,GAAoB+gC,EAAOznC,OAAQ,CAE5C,IAAIs1E,EAAY7tC,EAAO,GAAG5Y,OAAO7uB,OAG/Bo0E,EAAWvlD,OADTymD,GAAa,GACKp/D,EAAMK,OAENL,EAAMM,UAKhC,IAAI++D,EAAWpsC,GAAaziC,GAC5Bke,EAAMle,GAAQ,IAAI6uE,EAASnB,OAK/B5C,EAAQrxE,UAAUq1E,kBAAoB,SAAUrtC,EAAOja,EAAOiT,GAS5D,IARA,IACIs0C,EADOl1E,KAAKid,IAAI,QACCA,IAAI,WAAWiqB,OAEhCiuC,EAAa,WAAUv0C,GAEvBnR,EAAM9B,EAAM8B,IACZ9J,EAAMgI,EAAMhI,IAEPpmB,EAAI,EAAGse,EAAMs3D,EAAW11E,OAAQF,EAAIse,EAAKte,GAAK,EAAG,CACxD,IAAIoB,EAAMw0E,EAAW51E,GACjB61E,EAASl3D,KAAKuR,IAAI1vB,MAAM,KAAMY,EAAIinC,IAClCytC,EAASn3D,KAAKyH,IAAI5lB,MAAM,KAAMY,EAAIinC,IAElCwtC,EAAS3lD,IACXA,EAAM2lD,GAGJC,EAAS1vD,IACXA,EAAM0vD,GAIV,IAAInmE,EAAM,GAENugB,EAAM9B,EAAM8B,MAAQ,OAAMylD,EAAW,CAACttC,EAAO,UAE/C14B,EAAIugB,IAAMA,GAGR9J,EAAMgI,EAAMhI,MAAQ,OAAMuvD,EAAW,CAACttC,EAAO,UAE/C14B,EAAIyW,IAAMA,GAGP,WAAUzW,IACbye,EAAMiB,OAAO1f,IAKjB+hE,EAAQrxE,UAAU01E,WAAa,SAAU71D,GACvC,IACIo3C,EADc72D,KAAKmoE,iBACE/jE,KAAI,SAAUupB,GACrC,OAAOA,EAAMia,SAEf,OAAO,SAAQnoB,EAAMo3C,IAIvBoa,EAAQrxE,UAAU21E,YAAc,SAAU91D,GACxC,OAAO,OAAMA,GAAM,SAAU0uB,GAC3B,IAAI3oC,EAEJ,OAAO,oBAAS,oBAAS,GAAI2oC,KAAU3oC,EAAK,IAAmB,QAAI2oC,EAAQ3oC,QAK/EyrE,EAAQrxE,UAAU41E,SAAW,SAAU/1D,GAIrC,IAHA,IACIynB,EADelnC,KAAKo4D,QAAQ,YACNlxB,OAEjBpmB,EAAI,EAAGjD,EAAM4B,EAAKhgB,OAAQqhB,EAAIjD,EAAKiD,GAAK,EAG/C,IAFA,IAAIngB,EAAM8e,EAAKqB,GAENvhB,EAAI,EAAGA,EAAI2e,KAAKuR,IAAI,EAAGyX,EAAOznC,QAASF,GAAK,EAAG,CACtD,IAAIouB,EAAQuZ,EAAO3nC,GAEnB,GAAIouB,EAAMO,WAAY,CACpB,IAAI0Z,EAAQja,EAAMia,MAClBjnC,EAAIinC,GAASja,EAAMgB,UAAUhuB,EAAIinC,OAOzCqpC,EAAQrxE,UAAUyyE,aAAe,SAAU5yD,GACzC,IAAIva,EAAQlF,KAERy1E,EAAez1E,KAAKs1E,WAAW71D,GAEnC,OAAO,OAAMg2D,GAAc,SAAUC,GACnC,IAAIC,EAAWzwE,EAAMqwE,YAAYG,GAIjC,OAFAxwE,EAAMswE,SAASG,GAERA,MAKX1E,EAAQrxE,UAAU0yE,YAAc,SAAU1xC,GACxC,IAAI17B,EAAQlF,KAERsxE,EAAgBtxE,KAAKid,IAAI,iBACzBxZ,EAASm9B,EAEb,GAAI0wC,EAAe,CACLtxE,KAAKid,IAAI,SAArB,IACIyqD,EAAW1nE,KAAKi7D,YAChB2a,EAAW51E,KAAKytB,YAChButC,EAAW0M,EAAS9/B,MACpBszB,EAAW0a,EAAWA,EAAShuC,MAAQ,KAC3C0pC,EAAcppE,SAAQ,SAAU4pE,GAC9B,IAAIC,EAAY,oBAAS,CACvBjyC,OAAQk7B,EACRj7B,OAAQm7B,GACP4W,GAEC3rE,EAAO2rE,EAAO3rE,KAElB,GAAa,UAATA,EAAkB,CACpB,IAAI65B,EAAc,GAElB,GAAI0nC,EAASx5C,YAAcw5C,EAASr5C,WAClC2R,EAAYxvB,KAAK,SACZ,IAAKolE,EAGV,MAAM,IAAIhgE,MAAM,yEAFhBoqB,EAAYxvB,KAAK,KAKnBuhE,EAAU/xC,YAAcA,EACxB+xC,EAAUrwC,WAAax8B,EAAM+X,IAAI,cAAcP,YAC1C,GAAa,UAATvW,EAAkB,CAC3B,IAAImgB,EAAQphB,EAAM+X,IAAI,SAEtB,IAAK24D,EAAU,CAEb7D,EAAUjjE,OAASwX,EAAM+e,YACzB,IAAIn/B,EAAOhB,EAAM0yD,gBAAgB,SAAW,EAC5Cma,EAAU7rE,KAAOA,GAIdogB,EAAMa,cAAgB,SAAQ4qD,EAAUlvC,gBAC3CkvC,EAAUlvC,cAAe,GAI7B,IACIgzC,EAAiB,IADJ30C,GAAU/6B,GACN,CAAe4rE,GACpCtuE,EAASoyE,EAAej0C,QAAQn+B,GAEnB,UAAT0C,GAAoByvE,GACtB1wE,EAAM+vE,kBAAkB/Z,EAAU0a,EAAUnyE,MAKlD,OAAOA,GAITwtE,EAAQrxE,UAAUgzE,iBAAmB,WACnC,IAAItC,EAAetwE,KAAKid,IAAI,gBAEvBqzD,IAEHA,EAAe7a,GADCz1D,KAAKid,IAAI,cAEzBjd,KAAKqQ,IAAI,eAAgBigE,IAG3B,OAAOA,GAITW,EAAQrxE,UAAUk2E,gBAAkB,SAAUr2D,GAK5C,IAJA,IAAI6wD,EAAetwE,KAAK4yE,mBAEpBva,EAAYr4D,KAAKo4D,QAAQ,SAEpB74D,EAAI,EAAGse,EAAM4B,EAAKhgB,OAAQF,EAAIse,EAAKte,GAAK,EAAG,CAClD,IAAIoB,EAAM8e,EAAKlgB,GACX2P,EAAMlP,KAAKq0E,qBAAqB1zE,GAChCuZ,EAAQm+C,EAAYr4D,KAAKwzE,cAAcnb,EAAW13D,GAAO,KACzD2nB,EAASgoD,EAAapc,eAAeh6C,EAAOhL,GAChDvO,EAAI2nB,OAASA,IAKjB2oD,EAAQrxE,UAAU00E,iBAAmB,SAAUhmD,EAAQX,GACrD,IAAIxB,EAAM,GAEV,GAAI,WAAUmC,GACZ,IAAK,IAAI/uB,EAAI,EAAGse,EAAMyQ,EAAO7uB,OAAQF,EAAIse,EAAKte,GAAK,EAAG,CACpD,IAAI+d,EAAIgR,EAAO/uB,GACf4sB,EAAI3b,KAAKmd,EAAMA,MAAMrQ,SAGvB6O,EAAMwB,EAAMA,MAAMW,GAGpB,OAAOnC,GAIT8kD,EAAQrxE,UAAUizE,eAAiB,SAAUjyC,GAC3C,IAAI17B,EAAQlF,KAEZ,GAAIA,KAAKid,IAAI,YAAa,CACxB,IAAI84D,EAAW/1E,KAAKi7D,YAChB+a,EAAUD,EAASnuC,MAEvB,QAAOhH,GAAW,SAAUnhB,GAC1BA,EAAKsX,MAAK,SAAUhZ,EAAIC,GACtB,OAAO+3D,EAASpnD,UAAU5Q,EAAGi4D,IAAYD,EAASpnD,UAAU3Q,EAAGg4D,UAKjEh2E,KAAKid,IAAI,oBACX,QAAO2jB,GAAW,SAAUnhB,GAC1Bva,EAAM4wE,gBAAgBr2D,MAGxB,QAAOmhB,GAAW,SAAUnhB,EAAMnb,GAChC,IAAI2xE,EAAWr1C,EAAUt8B,EAAQ,GAE7B2xE,IACFx2D,EAAK,GAAGsqD,WAAakM,EAAS,GAAG3tD,aAOzC2oD,EAAQrxE,UAAUkzE,SAAW,SAAUrzD,GAIrC,IAHA,IAAI4E,EAAQrkB,KAAKid,IAAI,SACjBi5D,EAAa,GAER32E,EAAI,EAAGse,EAAM4B,EAAKhgB,OAAQF,EAAIse,EAAKte,GAAK,EAAG,CAClD,IAAIwhC,EAASthB,EAAKlgB,GACd42E,EAAY,CACd/a,QAASr6B,EAAmB,QAC5BzY,OAAQyY,EAAOzY,OACfyhD,WAAYhpC,EAAOgpC,YAGrB,IAAK,IAAI/3D,KAAKqS,EACZ,GAAIA,EAAMxkB,eAAemS,GAAI,CAC3B,IAAIoW,EAAO/D,EAAMrS,GACbi1B,EAAQ7e,EAAK6e,MACb3Y,EAAStuB,KAAKwzE,cAAcprD,EAAM2Y,GAEtC,GAAIkG,EAAMxnC,OAAS,EAEjB,IAAK,IAAIqhB,EAAI,EAAGA,EAAIwN,EAAO7uB,OAAQqhB,GAAK,EAAG,CACzC,IAAIuQ,EAAM/C,EAAOxN,GAEjBq1D,EADalvC,EAAMnmB,IACC,WAAUuQ,IAAuB,IAAfA,EAAI5xB,OAAe4xB,EAAI,GAAKA,OAK9C,IAAlB/C,EAAO7uB,QAA6B,UAAbwnC,EAAM,GAC/BkvC,EAAUlvC,EAAM,IAAM3Y,EAAO,GAE7B6nD,EAAUlvC,EAAM,IAAM3Y,EAM9BtuB,KAAKo2E,cAAcD,GAGnBD,EAAW1lE,KAAK2lE,GAGlB,OAAOD,GAITjF,EAAQrxE,UAAUw2E,cAAgB,SAAUC,GAC1C,IAAIznE,EAAIynE,EAAaznE,EACjBC,EAAIwnE,EAAaxnE,EAErB,IAAI,SAAQD,KAAM,SAAQC,GAA1B,CAIA,IAAIynE,EACAC,EACA51E,EACA2lB,EAAQtmB,KAAKid,IAAI,SAErB,GAAI,WAAUpO,IAAM,WAAUD,GAAI,CAChC0nE,EAAO,GACPC,EAAO,GAEP,IAAK,IAAIh3E,EAAI,EAAGuhB,EAAI,EAAG01D,EAAO5nE,EAAEnP,OAAQg3E,EAAO5nE,EAAEpP,OAAQF,EAAIi3E,GAAQ11D,EAAI21D,EAAMl3E,GAAK,EAAGuhB,GAAK,EAC1FngB,EAAM2lB,EAAMoH,aAAa,CACvB9e,EAAGA,EAAErP,GACLsP,EAAGA,EAAEiS,KAEPw1D,EAAK9lE,KAAK7P,EAAIiO,GACd2nE,EAAK/lE,KAAK7P,EAAIkO,QAEX,GAAI,WAAUA,GACnB0nE,EAAO,GACP1nE,EAAE3G,SAAQ,SAAU+rE,GAClBtzE,EAAM2lB,EAAMoH,aAAa,CACvB9e,EAAGA,EACHC,EAAGolE,IAGDqC,GAAQA,IAAS31E,EAAIiO,GAClB,WAAU0nE,KACbA,EAAO,CAACA,IAGVA,EAAK9lE,KAAK7P,EAAIiO,IAEd0nE,EAAO31E,EAAIiO,EAGb2nE,EAAK/lE,KAAK7P,EAAIkO,WAEX,GAAI,WAAUD,GACnB0nE,EAAO,GACP1nE,EAAE1G,SAAQ,SAAUgsE,GAClBvzE,EAAM2lB,EAAMoH,aAAa,CACvB9e,EAAGslE,EACHrlE,EAAGA,IAGD0nE,GAAQA,IAAS51E,EAAIkO,GAClB,WAAU0nE,KACbA,EAAO,CAACA,IAGVA,EAAK/lE,KAAK7P,EAAIkO,IAEd0nE,EAAO51E,EAAIkO,EAGbynE,EAAK9lE,KAAK7P,EAAIiO,UAEX,CACL,IAAI2E,EAAQ+S,EAAMoH,aAAa,CAC7B9e,EAAGA,EACHC,EAAGA,IAELynE,EAAO/iE,EAAM3E,EACb2nE,EAAOhjE,EAAM1E,EAGfwnE,EAAaznE,EAAI0nE,EACjBD,EAAaxnE,EAAI0nE,IAInBtF,EAAQrxE,UAAU80E,aAAe,SAAUnD,EAAcpjC,GACvD,IAAI3oC,EAAK+rE,EAAa1a,OAClBA,OAAgB,IAAPrxD,EAAgB,GAAKA,EAC9BqiB,EAAW0pD,EAAa1pD,SACxB3Y,EAAMqiE,EAAariE,IAEvB,GAAIA,EAEF,OAAOA,EAGT,IAAI2Q,EAASg3C,EAAOzyD,KAAI,SAAUwjC,GAChC,OAAOuG,EAAOvG,MAEhB,OAAO/f,EAAS9nB,WAAM,EAAQ8f,IAIhCoxD,EAAQrxE,UAAUmzE,MAAQ,SAAUJ,GAClC,IAAIjX,EAAS17D,KAAKi7D,YACdn7B,EAAS47B,EAAO9zB,MAEpB,QAAO+qC,GAAa,SAAU+D,GAC5BA,EAAQ3/C,MAAK,SAAUo4C,EAAMC,GAC3B,OAAO1T,EAAO/sC,UAAUwgD,EAAiB,QAAErvC,IAAW47B,EAAO/sC,UAAUygD,EAAiB,QAAEtvC,UAI9F9/B,KAAKqQ,IAAI,YAAasiE,IAGjB1B,EAtwCT,CAuwCE,ICrxCE0F,GAAc,CAAC,QAAS,UAAW,MAAO,SA6G/B,GAzGf,WACE,SAASC,EAAY1nE,GACnB,IAAIyb,EAAa3qB,KAAK62E,iBAEtB,UAAS72E,KAAM2qB,EAAYzb,GAE3BlP,KAAK+O,OAAS/O,KAAK+N,KAAKkP,IAAI,UAC5Bjd,KAAKoiE,eAAiB,GAEtBpiE,KAAK82E,cA6FP,OA1FAF,EAAYh3E,UAAUi3E,eAAiB,WACrC,MAAO,CACLE,WAAY,YACZC,aAAc,YACdC,SAAU,UACVC,WAAY,aAIhBN,EAAYh3E,UAAUu3E,OAAS,SAAU93B,GACvCr/C,KAAKo3E,SAAS/3B,GACdr/C,KAAKkR,MAAMmuC,GACXr/C,KAAKq3E,WAAWh4B,IAGlBu3B,EAAYh3E,UAAUw3E,SAAW,SAAU/3B,KAE3Cu3B,EAAYh3E,UAAUsR,MAAQ,SAAUmuC,KAExCu3B,EAAYh3E,UAAUy3E,WAAa,SAAUh4B,KAE7Cu3B,EAAYh3E,UAAU03E,SAAW,SAAUj4B,GACzCr/C,KAAKu3E,WAAWl4B,GAChBr/C,KAAK4hC,QAAQyd,GACbr/C,KAAKw3E,aAAan4B,IAGpBu3B,EAAYh3E,UAAU23E,WAAa,SAAUl4B,KAE7Cu3B,EAAYh3E,UAAUgiC,QAAU,SAAUyd,KAE1Cu3B,EAAYh3E,UAAU43E,aAAe,SAAUn4B,KAE/Cu3B,EAAYh3E,UAAU63E,KAAO,SAAUp4B,GACrCr/C,KAAK03E,OAAOr4B,GACZr/C,KAAKmR,IAAIkuC,GACTr/C,KAAK23E,SAASt4B,IAGhBu3B,EAAYh3E,UAAU83E,OAAS,SAAUr4B,KAEzCu3B,EAAYh3E,UAAUuR,IAAM,SAAUkuC,KAEtCu3B,EAAYh3E,UAAU+3E,SAAW,SAAUt4B,KAE3Cu3B,EAAYh3E,UAAUg4E,OAAS,SAAUv4B,GACvCr/C,KAAK63E,SAASx4B,GACdr/C,KAAK0pC,MAAM2V,GACXr/C,KAAK83E,WAAWz4B,IAGlBu3B,EAAYh3E,UAAUi4E,SAAW,SAAUx4B,KAE3Cu3B,EAAYh3E,UAAU8pC,MAAQ,SAAU2V,KAExCu3B,EAAYh3E,UAAUk4E,WAAa,SAAUz4B,KAE7Cu3B,EAAYh3E,UAAUk3E,YAAc,WAClC,IAAI5xE,EAAQlF,KAEZ,QAAO22E,IAAa,SAAUxwE,GAC5B,IAAI0H,EAAY3I,EAAMiB,EAAO,SAEzB2H,EAAU,gBAAe5I,EAAO,IAAMiB,GAE1CjB,EAAM6I,KAAKC,GAAGH,EAAWC,GAEzB5I,EAAMk9D,eAAe5xD,KAAK,CACxBrK,KAAM0H,EACNC,QAASA,QAKf8oE,EAAYh3E,UAAUm4E,cAAgB,WACpC,IAAI7yE,EAAQlF,KAERsO,EAAgBtO,KAAKoiE,eAEzB,QAAO9zD,GAAe,SAAUw1D,GAC9B5+D,EAAM6I,KAAKmC,IAAI4zD,EAAG39D,KAAM29D,EAAGh2D,aAI/B8oE,EAAYh3E,UAAUoQ,QAAU,WAC9BhQ,KAAK+3E,gBAEL/3E,KAAK43E,UAGAhB,EAtGT,GCLWoB,GAAkB,GAClBC,GAAiB,SAAwB9xE,GAClD,OAAO6xE,GAAgB7xE,IC4BzB,IAEI,GAEJ,SAAUlB,GAGR,SAASizE,EAAKhpE,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCwc,QAAS,GAAOA,QAChBC,WAAY,GAAOA,WACnB1N,OAAQ,KACRL,UAAW,KACX4X,MAAO,KACP+G,SAAU,GACV8qD,gBAAiB,KACjBxpE,GAAI,YAAW,SACfJ,QAAS,GACT1H,QAAS,GAAO8O,MAAM9O,QACtBmI,OAAQ,KACRopE,gBAAiB,KACjBlxC,OAAQ,GACRh2B,MAAO,CACLtC,EAAG,EACHC,EAAG,GAELsC,IAAK,CACHvC,EAAG,EACHC,EAAG,GAELrK,MAAO,KACPsK,OAAQ,KACR6G,MAAO,KACPhU,MAAO,KACP02E,MAAO,GACPr7D,SAAS,EACT3G,gBAAiB,GACjBiiE,aAAc,IACbppE,KAASlP,KAIZ,OAFAkF,EAAMkK,OAEClK,EA4xCT,OAj0CA,qBAAUgzE,EAAMjzE,GAwChBizE,EAAKt4E,UAAU0W,KAAO,SAAUsxB,EAAO14B,GACrC,IAAIX,EAAUvO,KAAKid,IAAI,YAAc,GAcrC,OAZc,IAAV2qB,GACFr5B,EAAQitD,MAAO,EAEf,OAAMjtD,EAAS,QAAQ,IACd,YAAWq5B,GACpB,OAAMr5B,EAAS,CAAC,OAAQ,UAAWq5B,GAC1B,YAAWA,GACpB,OAAMr5B,EAAS,CAAC,OAAQ,SAAUq5B,GAAQ14B,GAE1C,OAAMX,EAAS,OAAQW,GAGlBlP,MAITk4E,EAAKt4E,UAAU+B,MAAQ,SAAU4M,KAEjC2pE,EAAKt4E,UAAU2Y,QAAU,SAAUyE,EAAS9N,GAC1C,IAAIX,EAAUvO,KAAKid,IAAI,WAcvB,OAZK1O,EAAQgK,UACXhK,EAAQgK,QAAU,KAGJ,IAAZyE,EACFzO,EAAQgK,SAAU,EACT,YAAWyE,GACpB,OAAMzO,EAAQgK,QAASyE,GAEvB,OAAMzO,EAAQgK,QAASrJ,GAGlBlP,MAGTk4E,EAAKt4E,UAAUyX,OAAS,SAAUuwB,EAAO14B,GACvC,IAAIX,EAAUvO,KAAKid,IAAI,WAcvB,OAZc,IAAV2qB,EAEF,OAAMr5B,EAAS,WAAW,GACjB,YAAWq5B,GAEpB,OAAMr5B,EAAS,UAAWq5B,GACjB,YAAWA,GACpB,OAAMr5B,EAAS,CAAC,UAAW,SAAUq5B,GAAQ14B,GAE7C,OAAMX,EAAS,UAAWW,GAGrBlP,MAITk4E,EAAKt4E,UAAU6Z,WAAa,WAC1B,OAAOzZ,KAAKid,IAAI,yBAKlBi7D,EAAKt4E,UAAU24E,WAAa,SAAU94D,GAQpC,OAPAzf,KAAK0sC,KAAK,oBACV1sC,KAAKqQ,IAAI,OAAQoP,GAEjBzf,KAAKw4E,YAELx4E,KAAK0sC,KAAK,mBACV1sC,KAAKwwD,UACExwD,MAITk4E,EAAKt4E,UAAU6f,KAAO,SAAUA,GAK9B,OAJAzf,KAAKqQ,IAAI,OAAQoP,GAEjBzf,KAAKw4E,YAEEx4E,MAGTk4E,EAAKt4E,UAAU+tB,MAAQ,SAAUia,EAAO14B,GACtC,IACIgmE,EADUl1E,KAAKid,IAAI,WACCiqB,OAQxB,OANI,YAAWU,GACb,OAAMstC,EAAWttC,GAEjBstC,EAAUttC,GAAS14B,EAGdlP,MAITk4E,EAAKt4E,UAAUu6D,OAAS,SAAUvyB,EAAO6wC,GACvC,IAAIlqE,EAAUvO,KAAKid,IAAI,WAOvB,OALK1O,EAAQmqE,UACXnqE,EAAQmqE,QAAU,IAGpBnqE,EAAQmqE,QAAQ9wC,GAAS6wC,EAClBz4E,MAGTk4E,EAAKt4E,UAAU+4E,WAAa,SAAUxyE,EAAM+I,GAC1C,IAAI0pE,EAAkB54E,KAAKid,IAAI,mBAW/B,OATI,YAAW9W,GACbyyE,EAAgBlvC,MAAMvjC,GAEtByyE,EAAgBlvC,MAAM,CACpBvjC,KAAMA,EACN+I,IAAKA,IAIF0pE,GAQTV,EAAKt4E,UAAU+kE,WAAa,SAAUz1D,QACxB,IAARA,IACFA,EAAM,IAIR,IAAImpE,EAAQr4E,KAAKid,IAAI,SAEjB47D,EAAS,oBAAS,CACpBljE,MAAO3V,KAAKid,IAAI,SAChBjO,OAAQhP,KACR0O,UAAW1O,KAAKid,IAAI,cACpBlO,OAAQ/O,KAAKid,IAAI,UACjBT,QAASxc,KAAKid,IAAI,YACjB/N,GAGH2pE,EAAOtqE,QAAU,OAAM,GAAIvO,KAAK84E,oBAAqB5pE,EAAIX,SACzD,IAAIR,EAAO,IAAImqE,EAAKW,GAOpB,OANA9qE,EAAKsC,IAAI,KAAM,YAAW,UAE1BgoE,EAAM7nE,KAAKzC,GACX/N,KAAK0sC,KAAK,UAAW,CACnB3+B,KAAMA,IAEDA,GAQTmqE,EAAKt4E,UAAU8kE,WAAa,SAAU32D,GACpC,IAAIsqE,EAAQr4E,KAAKid,IAAI,SAErB,QAAOo7D,EAAOtqE,GAEdA,EAAKiC,WAQPkoE,EAAKt4E,UAAU4kE,MAAQ,SAAU/6B,GAE/B,IAAIsvC,EAAW/4E,KAAKid,IAAI,SACpB87D,GAAUA,EAAS/oE,UAEvB,IAAI7J,EAAO,OAAMsjC,EAAQ,QAErBrI,EdxPc,SAAkBj7B,GACtC,OAAOk/D,GAAO,cAAal/D,IcuPd,CAASA,GACpB,IAAKi7B,EAAM,MAAM,IAAIxrB,MAAM,UAAYzP,EAAO,mBAC9CnG,KAAKqQ,IAAI,QAAS,IAAI+wB,EAAKphC,KAAMypC,KAQnCyuC,EAAKt4E,UAAU4c,QAAU,SAAUw8D,GAIjC,OAHch5E,KAAKid,IAAI,WACfT,QAAUw8D,EAClBh5E,KAAKqQ,IAAI,UAAW2oE,GACbh5E,MAGTk4E,EAAKt4E,UAAU+P,OAAS,SAAUspE,GA8BhC,OA7BAj5E,KAAKk5E,cAELl5E,KAAK0sC,KAAK,gBAEV1sC,KAAKm5E,gBAELn5E,KAAK0sC,KAAK,cAEV1sC,KAAKo5E,cAELp5E,KAAKq5E,gBAGLr5E,KAAKs5E,eAGDt5E,KAAKid,IAAI,SAASxd,QACpB,QAAOO,KAAKid,IAAI,UAAU,SAAUlP,GAClCA,EAAK4B,OAAOspE,MAIhBj5E,KAAKu5E,gBAELv5E,KAAKw5E,YAAYP,GAEjBj5E,KAAK0sC,KAAK,aACV1sC,KAAK0sC,KAAK,eACV1sC,KAAKqQ,IAAI,YAAY,GACdrQ,MAGTk4E,EAAKt4E,UAAUsd,cAAgB,SAAUF,EAASi8D,GAChD,QAAOj5E,KAAKid,IAAI,aAAa,SAAU9U,GACrCA,EAAQ+U,cAAcF,GAAS,MAGjChd,KAAKid,IAAI,aAAa5M,IAAI,UAAW2M,GACrC,IAAIy8D,EAAuBz5E,KAAKid,IAAI,wBACpCw8D,GAAwBA,EAAqBv8D,cAAcF,GAC3D,IAAI08D,EAAiB15E,KAAKid,IAAI,kBAC9By8D,GAAkBA,EAAex8D,cAAcF,GAE1Ci8D,GACHj5E,KAAKid,IAAI,UAAUnN,QAIvBooE,EAAKt4E,UAAUoiE,cAAgB,SAAU9nD,GACvC,IAAIvL,EAAK3O,KAAKid,IAAI,MACd08D,EAAcz/D,EAAM+C,IAAI,UAE5B,GAAI08D,EACF,OAAOA,IAAgBhrE,EAOvB,IAHA,IAAID,EAAY1O,KAAKid,IAAI,aACrB28D,EAAW1/D,EAAM+C,IAAI,UAElB28D,GAAU,CACf,GAAIA,IAAalrE,EAEf,OADAwL,EAAM7J,IAAI,SAAUrQ,KAAKid,IAAI,QACtB,EAGT28D,EAAWA,EAAS38D,IAAI,UAG5B,OAAO,GAGTi7D,EAAKt4E,UAAUi6E,cAAgB,SAAUtmE,GACvC,IAAIojD,EAAY32D,KAAKid,IAAI,aAEzB,OAAI1J,EAAM3E,EAAI+nD,EAAUpuC,MAAQhV,EAAM3E,EAAI+nD,EAAUnuC,MAAQjV,EAAM1E,EAAI8nD,EAAUluC,MAAQlV,EAAM1E,EAAI8nD,EAAUjuC,MAW9GwvD,EAAKt4E,UAAUq7D,UAAY,WACzB,IAAI5tC,EAAWrtB,KAAKid,IAAI,YAExB,OAAIoQ,EAAS5tB,OACJ4tB,EAAS,GAAG4tC,YAGd,MAOTid,EAAKt4E,UAAUk6E,WAAa,WAC1B,IAAIzsD,EAAWrtB,KAAKid,IAAI,YACpBivC,EAAU,GAQd,OAPA7+B,EAASnlB,SAAQ,SAAUC,GACzB,IAAIqlB,EAASrlB,EAAQslB,YAEjBD,IAA0C,IAAhC,WAAU0+B,EAAS1+B,IAC/B0+B,EAAQ17C,KAAKgd,MAGV0+B,GAQTgsB,EAAKt4E,UAAUm6E,MAAQ,SAAUt6D,GAC/B,IAMI7Q,EACAC,EAPAyX,EAAQtmB,KAAKid,IAAI,SAEjBgvC,EAAUjsD,KAAKg6E,WAAW,KAE1B9tB,EAAUlsD,KAAKg6E,WAAW,KAK9B,IAAK,IAAIpyC,KAASnoB,EACZwsC,EAAQrkB,KACVh5B,EAAIq9C,EAAQrkB,GAAOja,MAAMlO,EAAKmoB,KAG5BskB,EAAQtkB,KACV/4B,EAAIq9C,EAAQtkB,GAAOja,MAAMlO,EAAKmoB,KAIlC,OAAK,SAAQh5B,IAAO,SAAQC,GAOrB,KANEyX,EAAM0e,QAAQ,CACnBp2B,EAAGA,EACHC,EAAGA,KAYTqpE,EAAKt4E,UAAUu+D,YAAc,SAAU5qD,GAGrC,OAFwBvT,KAAKid,IAAI,qBACfkhD,YAAY5qD,EAAOvT,MAC9BA,MAOTk4E,EAAKt4E,UAAUy+D,YAAc,WAG3B,OAFwBr+D,KAAKid,IAAI,qBACfohD,cACXr+D,MAQTk4E,EAAKt4E,UAAU2/D,gBAAkB,SAAUhsD,GACzC,IAAI4Y,EAAM,GAENkB,EAAWrtB,KAAKg2D,cAkBpB,OAhBA,QAAO3oC,GAAU,SAAUllB,GACzB,IAAIy4B,EAAYz4B,EAAQ8U,IAAI,aACxBsvB,EAAQ,GAEZ,QAAO3L,GAAW,SAAUnhB,GAC1B,IAAI2/C,EAAWj3D,EAAQk3D,UAAU9rD,EAAOkM,GAExC,GAAI2/C,EAAU,CACZ,IAAIE,EAAWn3D,EAAQo3D,gBAAgBH,GACvC7yB,EAAQA,EAAMlrC,OAAOi+D,OAIzBnzC,EAAMA,EAAI9qB,OAAOkrC,MAGZpgB,GAIT+rD,EAAKt4E,UAAUwP,KAAO,WACpBpP,KAAKi6E,aAELj6E,KAAKk6E,cAELl6E,KAAKm6E,aAELn6E,KAAKo6E,eAELp6E,KAAKq6E,mBAELr6E,KAAK82E,cAED92E,KAAKid,IAAI,SACXjd,KAAKw4E,aAITN,EAAKt4E,UAAUoQ,QAAU,WACvBhQ,KAAKs6E,eAELt6E,KAAKkQ,MAELlQ,KAAK+P,QAEL/P,KAAKu6E,uBAELv6E,KAAKw6E,qBAELv1E,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCk4E,EAAKt4E,UAAUmQ,MAAQ,WAOrB,OANA/P,KAAKqQ,IAAI,YAAY,GAErBrQ,KAAKk5E,cAELl5E,KAAKy6E,mBAEEz6E,MAOTk4E,EAAKt4E,UAAU4wD,QAAU,WAKvB,OAJAxwD,KAAKqQ,IAAI,YAAY,GAGrBrQ,KAAK2P,SACE3P,MAWTk4E,EAAKt4E,UAAUi7D,UAAY,SAAU6f,GACnC,IAAIx1E,EAAQlF,KAERq4E,EAAQr4E,KAAKid,IAAI,SACjBlO,EAAS/O,KAAKid,IAAI,UAEtB,QAAOo7D,GAAO,SAAUtqE,GACtBA,EAAK8sD,UAAU6f,MAIjB,IAAIrtD,EAAWrtB,KAAKid,IAAI,YAsBxB,OApBA,QAAOoQ,GAAU,SAAUllB,GAEzB,IAAI+N,EAAS/N,EAAQijB,YAErB,QAAOlV,GAAQ,SAAUgE,GACvB,IAAIi0B,EAASj0B,EAAM+C,IAAI,UAEvB,GAAI,WAAUkxB,GAAS,CACrB,IAAIvd,EAAMud,EAAO/pC,KAAI,SAAUzD,GAC7B,OAAOA,EAAgB,WAEzB+5E,EAAG9pD,EAAK1W,EAAO/R,EAASjD,OACnB,CACL,IAAIvE,EAAMwtC,EAAmB,QAC7BusC,EAAG/5E,EAAKuZ,EAAO/R,EAASjD,UAK9B6J,EAAOe,OACA9P,MAQTk4E,EAAKt4E,UAAUo2D,YAAc,SAAUnlD,QACnB,IAAdA,IACFA,GAAY,GAGd,IAAIwc,EAAW,0BAAertB,KAAKid,IAAI,aAEvC,GAAIpM,EAAW,CACb,IAAIwnE,EAAQr4E,KAAKid,IAAI,SAErB,QAAOo7D,GAAO,SAAUtqE,GACtBsf,EAAWA,EAAShsB,OAAO0M,EAAKioD,YAAYnlD,OAIhD,OAAOwc,GAST6qD,EAAKt4E,UAAU+6E,kBAAoB,SAAU/yC,GAC3C,IACItZ,EADQtuB,KAAKid,IAAI,UAAU2qB,GACZtZ,OAEfoqD,EAAU14E,KAAK46E,cAUnB,OANIlC,GAAWA,EAAQ9wC,GACftZ,EAAO6rC,OAAOue,EAAQ9wC,IAEtBtZ,EAAOhJ,MAAM,IAYvB4yD,EAAKt4E,UAAU22D,qBAAuB,SAAU3uB,GAC9C,IACItZ,EADQtuB,KAAKid,IAAI,UAAU2qB,GACZtZ,OAEfoqD,EAAU14E,KAAK46E,cAYnB,OARIlC,GAAWA,EAAQ9wC,GACftZ,EAAO6rC,QAAO,SAAU78C,GAC5B,OAAQo7D,EAAQ9wC,GAAOtqB,MAGnB,IAYV46D,EAAKt4E,UAAUq/D,UAAY,SAAU6B,EAAKhxD,GAOxC,YANa,IAATA,IACFA,GAAO,GAGkB9P,KAAKid,IAAI,wBACf4jD,SAAS,SAAUC,EAAKhxD,GACtC9P,MASTk4E,EAAKt4E,UAAUi7E,YAAc,SAAU/Z,EAAKhxD,GAO1C,YANa,IAATA,IACFA,GAAO,GAGkB9P,KAAKid,IAAI,wBACf4jD,SAAS,WAAYC,EAAKhxD,GACxC9P,MASTk4E,EAAKt4E,UAAUk7E,YAAc,SAAUha,EAAKhxD,GAO1C,YANa,IAATA,IACFA,GAAO,GAGkB9P,KAAKid,IAAI,wBACf4jD,SAAS,WAAYC,EAAKhxD,GACxC9P,MAGTk4E,EAAKt4E,UAAU26E,qBAAuB,WACpC,IAAIjC,EAAet4E,KAAKid,IAAI,gBAO5B,OALA,QAAOq7D,GAAc,SAAUyC,EAAap7E,GAC1Co7E,EAAY/qE,iBACLsoE,EAAa34E,MAGfK,MAGTk4E,EAAKt4E,UAAUo7E,iBAAmB,SAAU70E,GAC1C,IAAImyE,EAAet4E,KAAKid,IAAI,gBAO5B,OALIq7D,EAAanyE,KACfmyE,EAAanyE,GAAM6J,iBACZsoE,EAAanyE,IAGfnG,MAGTk4E,EAAKt4E,UAAUm7E,YAAc,SAAU50E,EAAM+I,QAC/B,IAARA,IACFA,EAAM,IAGRA,EAAInB,KAAO/N,KACX,IACI+6E,EAAc,IADP9C,GAAe9xE,GACR,CAAS+I,GAI3B,OAFAlP,KAAKi7E,gBAAgB90E,EAAM40E,GAEpB/6E,MAKTk4E,EAAKt4E,UAAU05E,aAAe,WAC5B,IAAI9U,EAAQxkE,KAAKid,IAAI,SACjBunD,GAAOA,EAAM70D,UAOnBuoE,EAAKt4E,UAAUk5E,kBAAoB,WACjC,IAAIvqE,EAAUvO,KAAKid,IAAI,WAIvB,MAAO,CACLiqB,OAJW34B,EAAQ24B,OAKnB5gB,MAJU/X,EAAQ+X,MAKlBk1C,KAJSjtD,EAAQitD,OAQrB0c,EAAKt4E,UAAUg7E,YAAc,WAE3B,OADc56E,KAAKid,IAAI,WACRy7D,SAIjBR,EAAKt4E,UAAUq6E,WAAa,WAC1B,IAAItkE,EAAQ3V,KAAKid,IAAI,SACjB46C,EAAY,GACZ/6C,EAAW,GAEX,YAAWnH,GACbmH,EAAWnH,EACF,YAAWA,KACpBmH,EAAWzK,GAASsD,IAGtB,WAAUkiD,EAAW,GAAOliD,MAAOmH,GAEnC9c,KAAKqQ,IAAI,QAASwnD,IAGpBqgB,EAAKt4E,UAAUk3E,YAAc,WACL92E,KAAKid,IAAI,mBACf6+B,cAGlBo8B,EAAKt4E,UAAU06E,aAAe,WACNt6E,KAAKid,IAAI,mBACf4mD,eAGlBqU,EAAKt4E,UAAUs6E,YAAc,WAC3B,IAAIxrE,EAAY1O,KAAKid,IAAI,aACrB6O,EAAkBpd,EAAU6+B,SAAS,CACvCt7B,KAAM,kBACNwG,OAAQ,EACR4S,OAAQrrB,KAAKid,IAAI,QAEf4O,EAAand,EAAU6+B,SAAS,CAClCt7B,KAAM,aACNwG,OAAQ,EACR4S,OAAQrrB,KAAKid,IAAI,QAEfwyB,EAAmB/gC,EAAU6+B,SAAS,CACxCt7B,KAAM,mBACNwG,OAAQ,IAEVzY,KAAKqQ,IAAI,mBAAoBo/B,GAC7BzvC,KAAKqQ,IAAI,kBAAmByb,GAC5B9rB,KAAKqQ,IAAI,aAAcwb,IAIzBqsD,EAAKt4E,UAAUu6E,WAAa,WAE1B,IAAI30E,EAAKxF,KAAKid,IAAI,SACdooC,EAAS7/C,EAAGoJ,EACZ09D,EAAS9mE,EAAGqJ,EAEZ2tB,EAAKx8B,KAAKid,IAAI,OACdi+D,EAAO1+C,EAAG5tB,EACVusE,EAAO3+C,EAAG3tB,EAEVG,EAAShP,KAAKid,IAAI,UAEtB,GAAIjO,EAAQ,CACV,IAAI2zB,EAAK3zB,EAAOiO,IAAI,cAChBzY,EAAQm+B,EAAGn+B,MACXsK,EAAS6zB,EAAG7zB,OACZqhC,EAAKxN,EAAGwN,GAGR+qC,EAAO71B,GAAU,IAEnBA,GAAU7gD,EACV8nE,GAAUx9D,EACVosE,GAAQ12E,EACR22E,GAAQrsE,GAGVu2C,GAAUlV,EAAGvhC,EACbssE,GAAQ/qC,EAAGvhC,EACX09D,GAAUn8B,EAAGthC,EACbssE,GAAQhrC,EAAGthC,OACN,GAAIqsE,EAAO71B,GAAU,EAAG,CAG7BA,GAFI7gD,EAAQxE,KAAKid,IAAI,SAGrBqvD,GAFIx9D,EAAS9O,KAAKid,IAAI,UAGtBi+D,GAAQ12E,EACR22E,GAAQrsE,EASV,IAAIwiC,EAAY4pC,EAAO71B,EACnB9T,EAAa4pC,EAAO7O,EACxBtsE,KAAKqQ,IAAI,YAAa,IAAI,QAAKg1C,EAAQinB,EAAQh7B,EAAWC,IAE1D,IAAI1qC,ECh1BD,SAAsBA,GAC3B,IAAI0P,EACAG,EACAC,EACAF,EAWJ,OATI,YAAW5P,IAAY,YAAWA,GACpC0P,EAAMG,EAAOC,EAAQF,EAAS5P,EACrB,WAAUA,KACnB0P,EAAM1P,EAAQ,GACd8P,EAAS,SAAQ9P,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACvC4P,EAAU,SAAQ5P,EAAQ,IAAmBA,EAAQ,GAArBA,EAAQ,GACxC6P,EAAQ,SAAQ7P,EAAQ,IAAmB8P,EAAb9P,EAAQ,IAGjC,CAAC0P,EAAKI,EAAOF,EAAQC,GDi0BZ0kE,CAAap7E,KAAKid,IAAI,YAChC1G,EAAM1P,EAAQ,GACd8P,EAAQ9P,EAAQ,GAChB4P,EAAS5P,EAAQ,GACjB6P,EAAO7P,EAAQ,GACf8nC,EAAa,IAAI,QAAK0W,EAAS3uC,EAAM41D,EAAS/1D,EAAK+6B,EAAY56B,EAAOC,EAAO46B,EAAah7B,EAAME,GACpGzW,KAAKqQ,IAAI,aAAcs+B,IAGzBupC,EAAKt4E,UAAU44E,UAAY,aAG3BN,EAAKt4E,UAAUw6E,aAAe,WAC5B,IAAIl1E,EAAQlF,KAERuO,EAAU,OAAM,GAAIvO,KAAKid,IAAI,YAG5B1O,EAAQ24B,SACX34B,EAAQ24B,OAAS,IAGd34B,EAAQ+X,QACX/X,EAAQ+X,MAAQ,IAIb,eAAc/X,EAAQiO,UACzBxc,KAAKqQ,IAAI,YAAa9B,EAAQiO,SAI5BjO,EAAQ8e,UAAY9e,EAAQ8e,SAAS5tB,QACvC,QAAO8O,EAAQ8e,UAAU,SAAUne,GACjChK,EAAMm2E,eAAensE,MAIzB,IAAIkpE,EAAkBp4E,KAAKid,IAAI,mBAE3Bm7D,IACFA,EAAgBnvC,KAAO16B,EAAQ24B,QAGjC,IAAI0xC,EAAkB54E,KAAKid,IAAI,mBAE3B27D,GACFA,EAAgBlvC,MAAMn7B,EAAQ+X,OAGhCtmB,KAAKqQ,IAAI,UAAW9B,IAGtB2pE,EAAKt4E,UAAUw5E,YAAc,WACtBp5E,KAAKid,IAAI,eACZjd,KAAKs7E,gBAGPt7E,KAAKu7E,qBAELv7E,KAAKw7E,cAELx7E,KAAKy7E,kBAGPvD,EAAKt4E,UAAU47E,YAAc,WAC3B,IAAIjtE,EAAUvO,KAAKid,IAAI,WAGvB,IAAoB,IAFF1O,EAAQitD,KAE1B,CAIA,IAAIke,EAAiB15E,KAAKid,IAAI,kBAE9By8D,EAAehrE,UAAY1O,KAAKid,IAAI,mBAAmBswB,SAAS,CAC9Dt7B,KAAM,cAERynE,EAAepzD,MAAQtmB,KAAKid,IAAI,SAChCy8D,EAAenrE,QAAU,OAAMA,EAAS,OAAQ,IAChD,IAAImtD,EAAS17D,KAAKi7D,YACd/O,EAAUlsD,KAAK85E,aACfzuD,EAASrrB,KAAKid,IAAI,MACtBy8D,EAAeje,WAAWC,EAAQxP,EAAS7gC,KAG7C6sD,EAAKt4E,UAAU67E,eAAiB,WAC9B,IAAIltE,EAAUvO,KAAKid,IAAI,WAEvB,GAAI,SAAQ1O,EAAQgK,WAAgC,IAApBhK,EAAQgK,QAAmB,CACzD,IAAIq8D,EAAoB50E,KAAKid,IAAI,qBACjC23D,EAAkBrmE,QAAUA,EAAQgK,SAAW,GAC/Cq8D,EAAkBtW,kBAItB4Z,EAAKt4E,UAAUy6E,iBAAmB,WAChC,IAAI9rE,EAAUvO,KAAKid,IAAI,WACnBtH,EAAQ3V,KAAKid,IAAI,SACjBlO,EAAS/O,KAAKid,IAAI,UAClBm7D,EAAkB,IAAI,GAAgB7pE,EAAQ24B,QAElDlnC,KAAKqQ,IAAI,kBAAmB+nE,GAC5B,IAAIQ,EAAkB,IAAI,GAAgBrqE,EAAQ+X,OAClDtmB,KAAKqQ,IAAI,kBAAmBuoE,GAC5B,IAAI8C,EAAkB,IAAI,GAAgB,CACxC3sE,OAAQ/O,KAAKid,IAAI,UACjBlP,KAAM/N,OAERA,KAAKqQ,IAAI,kBAAmBqrE,GAC5B,IAAIC,EAAuB,IAAI,GAAqB,CAClD5tE,KAAM/N,OAERA,KAAKqQ,IAAI,uBAAwBsrE,GACjC,IAAIC,EAAmB,IAAI,GAAiB,CAC1C7tE,KAAM/N,OAERA,KAAKqQ,IAAI,mBAAoBurE,GAC7B,IAAInC,EAAuB,IAAI,GAAc,CAC3C9jE,MAAO3V,KAAKid,IAAI,SAChBlP,KAAM/N,KACNyvC,iBAAkBzvC,KAAKid,IAAI,oBAAoBswB,WAC/CzhB,gBAAiB9rB,KAAKid,IAAI,mBAAmBswB,WAE7Ch/B,QAASA,EAAQ2hD,aAAe,KAElClwD,KAAKqQ,IAAI,uBAAwBopE,GACjC,IAAIC,EAAiB,IAAI,GAAe,CACtC3qE,OAAQA,EACR4G,MAAOA,IAET3V,KAAKqQ,IAAI,iBAAkBqpE,GAC3B,IAAI9E,EAAoB,IAAI,GAAkB,CAC5C7mE,KAAM/N,KACN2V,MAAOA,IAET3V,KAAKqQ,IAAI,oBAAqBukE,IAGhCsD,EAAKt4E,UAAUi1E,WAAa,SAAUjtC,EAAOnoB,QAC9B,IAATA,IACFA,EAAO,IAGT,IAAIynB,EAASlnC,KAAKid,IAAI,UAElB0Q,EAAQuZ,EAAOU,GACfi0C,EAAQp8D,EAGRq8D,EAAe97E,KAAK+7E,mBAGnBF,EAAMp8E,SAA2C,IAAjCq8E,EAAax7E,QAAQsnC,KACxCi0C,EAAQ77E,KAAKid,IAAI,SAAW,IAG9B,IAAIm7D,EAAkBp4E,KAAKid,IAAI,mBAQ/B,OANK0Q,IACHA,EAAQyqD,EAAgBlvC,YAAYtB,EAAOi0C,GAE3C30C,EAAOU,GAASja,GAGXA,GAGTuqD,EAAKt4E,UAAUy7E,eAAiB,SAAUnsE,GACxC,IACI/G,EADAhC,EAAO+I,EAAI/I,KAGf,GAAIo/D,GAAWp/D,GAAO,CACpB,IAAI61E,EAAa,oBAAS,oBAAS,GAAI9sE,GAAM,CAC3CR,UAAW1O,KAAKid,IAAI,cAAcswB,WAClCkC,iBAAkBzvC,KAAKid,IAAI,oBAAoBswB,WAC/Cx/B,KAAM/N,KACN+O,OAAQ/O,KAAKid,IAAI,UACjBtH,MAAO3V,KAAKid,IAAI,WAGdg/D,EAAc1W,GAAWp/D,GAC7BgC,EAAU,IAAI8zE,EAAYD,GAE1B,QAAO9sE,GAAK,SAAUoO,EAAGtL,GACnB7J,EAAQ6J,IACV7J,EAAQ6J,GAAGsL,MAIftd,KAAKk8E,YAAY/zE,KAIrB+vE,EAAKt4E,UAAUs8E,YAAc,SAAU/zE,GACtBnI,KAAKid,IAAI,YACfzM,KAAKrI,GACdA,EAAQoqE,cAGV2F,EAAKt4E,UAAUy5E,cAAgB,WAC7Br5E,KAAK0sC,KAAK,sBAEV,QAAO1sC,KAAKid,IAAI,aAAa,SAAU9U,GACrCA,EAAQuqE,WAGV1yE,KAAK0sC,KAAK,sBAGZwrC,EAAKt4E,UAAUu8E,eAAiB,WAC9B,QAAOn8E,KAAKid,IAAI,aAAa,SAAU9U,GACrCA,EAAQ4H,YAIZmoE,EAAKt4E,UAAU66E,iBAAmB,WAGhC,IAFA,IAAIptD,EAAWrtB,KAAKid,IAAI,YAEjBoQ,EAAS5tB,OAAS,GAAG,CACZ4tB,EAAS5H,QACfzV,YAIZkoE,EAAKt4E,UAAUs5E,YAAc,WAC3Bl5E,KAAKqQ,IAAI,SAAU,IACnBrQ,KAAK0sC,KAAK,oBACI1sC,KAAKid,IAAI,WACfoQ,SAAW,GAEnBrtB,KAAKm8E,iBAGL,IAAI3X,EAAQxkE,KAAKid,IAAI,SACjBunD,GAAOA,EAAMz0D,QACjB,IAAI0pE,EAAuBz5E,KAAKid,IAAI,wBACpCw8D,GAAwBA,EAAqB/vC,QAC7C,IAAIgwC,EAAiB15E,KAAKid,IAAI,kBAC9By8D,GAAkBA,EAAe3pE,QACjC,IAAI6kE,EAAoB50E,KAAKid,IAAI,qBAGjC,GAFA23D,GAAqBA,EAAkB7kE,SAElC/P,KAAKid,IAAI,cAAe,CAC3B,IAAI2+D,EAAmB57E,KAAKid,IAAI,oBAChC2+D,GAAoBA,EAAiB7rE,QAIvC,IAAI+b,EAAkB9rB,KAAKid,IAAI,mBAC3B4O,EAAa7rB,KAAKid,IAAI,cAC1B6O,EAAgB7O,IAAI,cAAgB6O,EAAgB7O,IAAI,aAAa9M,SACrE0b,EAAW5O,IAAI,cAAgB4O,EAAW5O,IAAI,aAAa9M,SAC3DnQ,KAAK0sC,KAAK,oBAGZwrC,EAAKt4E,UAAUu5E,cAAgB,WAC7B,QAAOn5E,KAAKid,IAAI,UAAU,SAAUlP,GAClCA,EAAKorE,mBAGPn5E,KAAKo8E,aAGPlE,EAAKt4E,UAAUw8E,UAAY,WACzBp8E,KAAKq8E,eAELr8E,KAAKs8E,aAELt8E,KAAK0sC,KAAK,sBAEV1sC,KAAKu8E,gBAELv8E,KAAKw8E,iBAGPtE,EAAKt4E,UAAU08E,WAAa,WAC1B,IAAI3tC,EAAa3uC,KAAKid,IAAI,cAEtBqJ,EADkBtmB,KAAKid,IAAI,mBACH0sB,YAAYgF,EAAWqB,GAAIrB,EAAW+C,IAClE1xC,KAAKqQ,IAAI,QAASiW,IAGpB4xD,EAAKt4E,UAAUo6E,WAAa,SAAU95C,GACpC,IAAI7S,EAAWrtB,KAAKid,IAAI,YACxB,OAAO,UAASoQ,GAAU,SAAU5pB,EAAQ0E,GAC1C,IAAIwlB,EAAgB,MAARuS,EAAc/3B,EAAQ8yD,YAAc9yD,EAAQslB,YAMxD,OAJIE,IAAU,OAAMlqB,EAAQkqB,EAAMia,SAChCnkC,EAAOkqB,EAAMia,OAASja,GAGjBlqB,IACN,KAGLy0E,EAAKt4E,UAAU28E,cAAgB,WAC7B,IAAIE,EAAez8E,KAAKid,IAAI,gBACxBqJ,EAAQtmB,KAAKid,IAAI,SACjBoO,EAASrrB,KAAKid,IAAI,MAClB1O,EAAUvO,KAAKid,IAAI,WACnBT,EAAUxc,KAAKid,IAAI,WACnBR,EAAazc,KAAKid,IAAI,cACtBkiD,EAAiB5wD,EAAQgK,SAAWhK,EAAQgK,QAAQynD,OAExD,QAAOhgE,KAAKid,IAAI,aAAa,SAAU9U,EAAS5I,GAC9C4I,EAAQkI,IAAI,OAAQosE,GACpBt0E,EAAQkI,IAAI,QAASiW,GACrBne,EAAQkI,IAAI,KAAMgb,EAAS,YAAc9rB,GACzC4I,EAAQkI,IAAI,UAAWmM,GACvBrU,EAAQkI,IAAI,aAAc,WAAU,GAAIoM,EAAYtU,EAAQ8U,IAAI,gBAChE,aAAYkiD,IAAmBh3D,EAAQkI,IAAI,eAAgB8uD,GAC3Dh3D,EAAQiH,WAIZ8oE,EAAKt4E,UAAU48E,cAAgB,WAE7Bx8E,KAAK08E,6BAGL,IAAIrvD,EAAWrtB,KAAKid,IAAI,YACpBi4D,EAAYl1E,KAAKid,IAAI,mBAAmBgsB,KAC5C5b,EAASnlB,SAAQ,SAAUC,GACzB,GAA4B,aAAxBA,EAAQ8U,IAAI,QAAwB,CACtC,IAAIuQ,EAASrlB,EAAQslB,YACjBma,EAAQpa,EAAOoa,MACfnY,EAAMjC,EAAOiC,IACb9J,EAAM6H,EAAO7H,IACbxf,EAAOqnB,EAAOrnB,KAGZ+uE,EAAUttC,IAAUstC,EAAUttC,GAAOnY,KAAiB,SAATtpB,IAC7CspB,EAAM,EACRjC,EAAOoB,OAAO,CACZa,IAAK,IAEE9J,GAAO,GAEhB6H,EAAOoB,OAAO,CACZjJ,IAAK,UASjBuyD,EAAKt4E,UAAU88E,2BAA6B,WAC1C,IAAIp2D,EAAQtmB,KAAKid,IAAI,SACjBy+C,EAAS17D,KAAKi7D,YACd/O,EAAUlsD,KAAK85E,aACfr9D,EAAazc,KAAKid,IAAI,cACtBiqB,EAAS,GACbw0B,GAAUx0B,EAAO12B,KAAKkrD,GAEtBx0B,EAASA,EAAO7lC,OAAO6qD,GACvB,IAAIywB,EAxqCR,SAAsBr2D,GACpB,GAAIA,EAAME,QAAS,CACjB,IAAIC,EAAaH,EAAMG,WAEvB,OADeH,EAAMI,SACHD,IAAyB,EAAVvI,KAAKK,GAGxC,OAAO,EAiqCcq+D,CAAat2D,GAE5B4uD,EADkBl1E,KAAKid,IAAI,mBACCgsB,KAChC/B,EAAOh/B,SAAQ,SAAUylB,GACvB,IAAIia,EAAQja,EAAMia,MACdtZ,EAASX,EAAMW,OAEnB,IAAKX,EAAMO,YAAcP,EAAMU,aAAeC,KAAY4mD,EAAUttC,KAAUstC,EAAUttC,GAAOrZ,OAAQ,CACrG,IAAIgO,EAAQjO,EAAO7uB,OACf8uB,OAAQ,EAEZ,GAAc,IAAVgO,EACFhO,EAAQ,CAAC,GAAK,OACT,CACL,IACIvZ,EAAS,EAQTuZ,EANAouD,EACGr2D,EAAMa,aAKD,EADRnS,EAAS,EAAIunB,EADR9f,EAAWG,aAEE,EAAG,EAAI5H,EAAS,GAJ1B,CAAC,EAAG,EAAI,EAAIunB,GASd,CAFRvnB,EAAS,EAAIunB,EAAQ,EAAI,EAER,EAAIvnB,GAIzB2Y,EAAMY,MAAQA,OAMpB2pD,EAAKt4E,UAAUy8E,aAAe,WACjBr8E,KAAKid,IAAI,QAApB,IACIxZ,EAASzD,KAAKid,IAAI,SAAW,GAE7By7D,EAAU14E,KAAK46E,cAEflC,IACFj1E,EAASA,EAAO02D,QAAO,SAAUx5D,GAC/B,IAAIwrB,GAAM,EAYV,OAVA,QAAOusD,GAAS,SAAU7wD,EAAU+f,GAClC,GAAI/f,KACFsE,EAAMtE,EAASlnB,EAAIinC,GAAQjnC,IAGzB,OAAO,KAKNwrB,MAIXnsB,KAAKqQ,IAAI,eAAgB5M,IAG3By0E,EAAKt4E,UAAU25E,cAAgB,WAG7B,IAAIztD,EAAkB9rB,KAAKid,IAAI,mBAC3B05C,EAAY32D,KAAKid,IAAI,aACrB4/D,EAAiB,CACnBjuE,EAAG+nD,EAAU/nD,EACbC,EAAG8nD,EAAU9nD,EACbrK,MAAOmyD,EAAUnyD,MACjBsK,OAAQ6nD,EAAU7nD,OAClB6D,KAAM,uBAGJ0D,EAAkB,OAAMrW,KAAKid,IAAI,SAAS5G,gBAAiBrW,KAAKid,IAAI,oBAEpE6/D,EAAsBhxD,EAAgBY,SAAS,OAAQ,CACzDrI,MAAO,OAAMw4D,EAAgBxmE,GAC7BoC,QAAS,IAEXqT,EAAgBzb,IAAI,YAAaysE,GACjChxD,EAAgBiL,OAEhB,IAAIlL,EAAa7rB,KAAKid,IAAI,cACtB0xB,EAAa3uC,KAAKid,IAAI,cACtB8/D,EAAiBlxD,EAAWa,SAAS,OAAQ,CAC/CrI,MAAO,CACLzV,EAAG+/B,EAAW//B,EACdC,EAAG8/B,EAAW9/B,EACdrK,MAAOmqC,EAAWnqC,MAClBsK,OAAQ6/B,EAAW7/B,OACnB6D,KAAM,uBAER8F,QAAS,IAEXoT,EAAWxb,IAAI,YAAa0sE,GAC5BlxD,EAAWkL,QAGbmhD,EAAKt4E,UAAU46E,mBAAqB,WAClCx6E,KAAKid,IAAI,oBAAoB9M,SAC7BnQ,KAAKid,IAAI,mBAAmB9M,SAC5BnQ,KAAKid,IAAI,cAAc9M,SACvBnQ,KAAKqQ,IAAI,mBAAoB,MAC7BrQ,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAKqQ,IAAI,aAAc,OAGzB6nE,EAAKt4E,UAAU45E,YAAc,SAAUP,GACrC,IAAIlqE,EAAS/O,KAAKid,IAAI,UAEtB,IAAKg8D,EAAa,CAChB,IAAIZ,EAAQr4E,KAAKid,IAAI,SAErB,GAAIjd,KAAKid,IAAI,WAAY,CAEvB,IAAI+/D,EAAah9E,KAAKid,IAAI,YAE1B,QAAOo7D,GAAO,SAAUtqE,GACtB,GAAQ2d,cAAc3d,EAAMivE,MAG9B,GAAQtxD,cAAc1rB,KAAMg9E,GAC5BjuE,EAAOe,YAEPf,EAAOe,SAKbooE,EAAKt4E,UAAU07E,cAAgB,WACNt7E,KAAKid,IAAI,oBACftN,UAGnBuoE,EAAKt4E,UAAU27E,mBAAqB,WAClC,IAAIj1D,EAAQtmB,KAAKid,IAAI,SACjBw8D,EAAuBz5E,KAAKid,IAAI,wBACpCw8D,EAAqBxtB,QAAUjsD,KAAKg6E,WAAW,KAC/CP,EAAqBvtB,QAAUlsD,KAAKg6E,WAAW,KAC/CP,EAAqB9pE,OAAO2W,IAG9B4xD,EAAKt4E,UAAUm8E,iBAAmB,WAChC,IAAIllB,EAAS,GAMb,OALe72D,KAAKid,IAAI,YACf/U,SAAQ,SAAUC,GACzB,IAAI80E,EAAgB90E,EAAQyrE,kBAC5B/c,EAASA,EAAOx1D,OAAO47E,MAElB,QAAOpmB,IAIhBqhB,EAAKt4E,UAAUq7E,gBAAkB,SAAU90E,EAAM40E,GAC/C,IAAIzC,EAAet4E,KAAKid,IAAI,gBAExBq7D,EAAanyE,IACfmyE,EAAanyE,GAAM6J,UAGrBsoE,EAAanyE,GAAQ40E,GAGhB7C,EAl0CT,CAm0CE,IAEa,MAEJ1S,GAAwB,SAA+B7lE,EAAK0tE,GACrE,GAAKztE,UAAUD,GAAO,SAAUuP,QAClB,IAARA,IACFA,EAAM,IAGRA,EAAInB,KAAO/N,KACXkP,EAAIyG,MAAQ3V,KAAKid,IAAI,SACrB/N,EAAIR,UAAY1O,KAAKid,IAAI,cAAcswB,WACvCr+B,EAAIugC,iBAAmBzvC,KAAKid,IAAI,oBAAoBswB,WACpDr+B,EAAIH,OAAS/O,KAAKid,IAAI,UACtB,IAAI9U,EAAU,IAAIklE,EAAKn+D,GAIvB,OAFAlP,KAAKk8E,YAAY/zE,GAEVA,KE/2CX,SAAUlD,GAGR,SAASi4E,EAAKhuE,GACZ,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChC4/C,aAAc,KACdu9B,YAAa,KACb34E,MAAO,GAAOA,MACdsK,OAAQ,GAAOA,OACfgH,WAAY,GAAOA,WACnByG,SAAU,GAAOA,SACjB6gE,UAAU,GACTluE,KAASlP,KAXd,qBAAUk9E,EAAMj4E,GAchBi4E,EAAKt9E,UAAUwP,KAAO,WACpBpP,KAAKqQ,IAAI,KAAM,YAAW,UAE1BrQ,KAAKq9E,cAELr9E,KAAKs9E,cAELr4E,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAU7Bk9E,EAAKt9E,UAAU29E,WAAa,SAAU/4E,EAAOsK,EAAQ0uE,GAkBnD,YAjBmB,IAAfA,IACFA,GAAa,GAGFx9E,KAAKid,IAAI,UACfsgE,WAAW/4E,EAAOsK,GAEzB9O,KAAKqQ,IAAI,QAAS7L,GAClBxE,KAAKqQ,IAAI,SAAUvB,GACnB9O,KAAKm6E,aAEDqD,IAEFx9E,KAAK2P,SACL3P,KAAK0sC,KAAK,oBAGL1sC,MAGTk9E,EAAKt9E,UAAU+P,OAAS,SAAUspE,GAIhC,OAHAh0E,EAAOrF,UAAU+P,OAAO7P,KAAKE,KAAMi5E,GAEnCj5E,KAAKid,IAAI,UAAUnN,OACZ9P,MAGTk9E,EAAKt9E,UAAUoQ,QAAU,WACvBytE,OAAO1Z,oBAAoB,SAAU,mBAAkB/jE,KAAM,uBAE7DiF,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCk9E,EAAKt9E,UAAUy9E,YAAc,WAC3B,IAAItuE,EAAS,IAAI,UAAO,CACtB6wC,aAAc5/C,KAAKid,IAAI,gBACvBkgE,YAAan9E,KAAKid,IAAI,eACtBzY,MAAOxE,KAAKid,IAAI,SAChBnO,OAAQ9O,KAAKid,IAAI,UACjBV,SAAUvc,KAAKid,IAAI,YACnBnH,WAAY9V,KAAKid,IAAI,gBAKvB,GAHAjd,KAAKqQ,IAAI,SAAUtB,GACnB/O,KAAKqQ,IAAI,YAAatB,GAElB/O,KAAKid,IAAI,YAAa,CACxB,IAAIvO,EAAY1O,KAAK09E,mBAEjBl5E,EAAQ,YAAiBkK,EAAW1O,KAAKid,IAAI,UACjDjd,KAAKqQ,IAAI,QAAS7L,KAItB04E,EAAKt9E,UAAU09E,YAAc,WACvBt9E,KAAKid,IAAI,aACXwgE,OAAO7a,iBAAiB,SAAU,gBAAe5iE,KAAM,wBAI3Dk9E,EAAKt9E,UAAU+9E,mBAAqB,WAClC,IAAIC,EAAQvc,WAAW,gBAAerhE,KAAM,YAAa,KACzDmhE,aAAanhE,KAAKid,IAAI,gBACtBjd,KAAKqQ,IAAI,cAAeutE,IAS1BV,EAAKt9E,UAAUw9E,SAAW,WACxB,IAAIp9E,KAAKmO,UAAT,CAIA,IAAIO,EAAY1O,KAAK09E,mBAEjBG,EAAW79E,KAAKid,IAAI,SACpBzY,EAAQ,YAAiBkK,EAAWmvE,GAExC,GAAc,IAAVr5E,GAAeA,IAAUq5E,EAAU,CACrC,IAAI/uE,EAAS9O,KAAKid,IAAI,UACtBjd,KAAKu9E,WAAW/4E,EAAOsK,GAGzB,OAAO9O,OAGTk9E,EAAKt9E,UAAU89E,iBAAmB,WAChC,IAAIhvE,EAAY1O,KAAKid,IAAI,gBAMzB,OAJK,aAAYvO,KACfA,EAAY4jC,SAASC,eAAevyC,KAAKid,IAAI,iBAGxCvO,GAjIX,CAqIE,IC1IK,SAAS,GAAY/N,GAC1B,IAAI2nB,EAAS,GACT1Z,EAAIjO,EAAIiO,EACRC,EAAIlO,EAAIkO,EAWZ,OAVAA,EAAI,WAAUA,GAAKA,EAAI,CAACA,GAExB,QAAOA,GAAG,SAAUivE,EAAOx5E,GACzB,IAAIiP,EAAQ,CACV3E,EAAG,WAAUA,GAAKA,EAAEtK,GAASsK,EAC7BC,EAAGivE,GAELx1D,EAAO9X,KAAK+C,MAGP+U,EAGF,SAASy1D,GAAa15D,EAAOnV,GAClC,IAAI+E,EAAQ/E,EAAI+E,MACZJ,EAAU3E,EAAI2E,QAEdI,IACFoQ,EAAM1R,KAAOsB,GAGX,YAAWJ,KACbwQ,EAAMxQ,QAAUwQ,EAAMzR,YAAciB,GAIjC,SAASmqE,GAAe35D,EAAOnV,GACpC,IAAI+E,EAAQ/E,EAAI+E,MACZJ,EAAU3E,EAAI2E,QAEdI,IACFoQ,EAAMvR,OAASmB,GAGb,YAAWJ,KACbwQ,EAAMxQ,QAAUwQ,EAAMvQ,cAAgBD,GCnC1C,SAAS,GAAa3E,GACpB,IAAI+uE,EAAY/uE,EAAI3K,MAOpB,OANAy5E,GAAeC,EAAW/uE,GAEtB,YAAWA,EAAIhJ,QACjB+3E,EAAUvrE,UAAYxD,EAAIhJ,MAGrB+3E,EAGT,SAAS,GAAa/uE,GACpB,IAAIgvE,EAAYhvE,EAAI3K,MAEpB,OADAw5E,GAAaG,EAAWhvE,GACjBgvE,EAGT,SAASvwB,GAAQz+C,EAAKmL,EAAQH,GAC5B,IAAIkC,EAAO,GACP+hE,EAAY,GACZC,EAAgB,GAEhBC,EAAmB,GAEnBxsB,EAAa3iD,EAAI2iD,WAoCrB,OAlCA,QAAO3iD,EAAIoZ,QAAQ,SAAU/U,GAC3B6qE,EAAc5tE,KAAK+C,EAAM,IACzB8qE,EAAiB7tE,KAAK+C,EAAM,OAG9B8qE,EAAmBA,EAAiBxhD,UACpCshD,EAAU3tE,KAAK4tE,EAAeC,GAE9B,QAAOF,GAAW,SAAUG,EAAYh6E,GACtC,IAAImuD,EAAU,GACVnqC,EAASpO,EAAMs5C,YAAY8qB,GAC3BrU,EAAK3hD,EAAO,GAEZupC,GACFvpC,EAAO9X,KAAK,CACV5B,EAAGq7D,EAAGr7D,EACNC,EAAGo7D,EAAGp7D,IAKR4jD,EADEp4C,EACQ23C,GAAc1pC,GAAQ,EAAOpZ,EAAI2hD,YAEjC1a,GAAY7tB,GAAQ,GAG5BhkB,EAAQ,IACVmuD,EAAQ,GAAG,GAAK,KAGlBr2C,EAAOA,EAAK/a,OAAOoxD,MAGrBr2C,EAAK5L,KAAK,CAAC,MACJ4L,EA+BT,IAAImiE,GAAmBrpB,GAAqB,OAAQ,CAClDnB,iBAAkB,OAQlBM,iBAAkB,SAA0BF,GAC1C,IAAIvlD,EAAIulD,EAAUvlD,EACdC,EAAIslD,EAAUtlD,EACd0lE,EAAKpgB,EAAUogB,GAEnB,OADA1lE,EAAI,WAAUA,GAAKA,EAAI,CAAC0lE,EAAI1lE,IACnBzK,KAAI,SAAU05E,GACrB,MAAO,CACLlvE,EAAGA,EACHC,EAAGivE,OAITjpB,UAAW,SAAmB1uD,EAAM+I,EAAKR,GACvC,IAAIwL,EAAQla,KAAKi0D,SAAS9tD,GACtBytD,EAAY15C,EAAMjI,KAClB0D,EAAQ3V,KAAK0zD,OAEjB,GAAI/9C,GAASA,EAAMlD,MAAQkD,EAAMlD,KAAKmhD,GAAY,CAChD,IAAIkB,EAAoBn/C,EAAMlD,KAAKmhD,GAAWz5C,QAC9CjL,EAAI3K,MAAQ,OAAM,GAAIuwD,EAAmB5lD,EAAI3K,OAG/C,IAAIwwD,EAA+B,IAAtB7lD,EAAIoZ,OAAO7oB,QAAgByP,EAAIsvE,gBA5ChD,SAAwBhpB,EAAUtmD,EAAKR,GACrC,IACI6E,EADQiiD,EAAStC,OACHxlC,aAAaxe,EAAIoZ,OAAO,GAAG,IAC7C,OAAO5Z,EAAUge,SAAS,SAAU,CAClCrI,MAAO,OAAM,CACXzV,EAAG2E,EAAM3E,EACTC,EAAG0E,EAAM1E,EACTqK,EAAG,EACHvG,KAAMzD,EAAI+E,OACT/E,EAAI3K,SAmCuDk6E,CAAez+E,KAAMkP,EAAKR,GAAawL,EAAMpK,KAAKZ,EAAKR,GAQrH,OANIqmD,IACFA,EAAO1kD,IAAI,SAAUnB,EAAIi/B,QACzB4mB,EAAOpmD,GAAKO,EAAIwvE,aAAexvE,EAAIP,GAAKO,EAAIwvE,aAAexvE,EAAIP,GAC/DomD,EAAO9iD,KAAOjS,KAAKiS,MAGd8iD,GAETT,eAAgB,SAAwBnuD,EAAMopC,GAC5C,IACIr3B,EADAgC,EAAQla,KAAKi0D,SAAS9tD,GAIxB+R,EADEgC,EAAMo6C,eACMp6C,EAAMo6C,eAAe/kB,GAtEzC,SAAwBA,GACtB,MAAO,CACLt2B,OAAQ,SAAgBrK,EAAGC,GACzB,MAAO,CAAC,CAAC,IAAKD,EAAI,IAAKC,EAAI,GAAI,CAAC,IAAKD,EAAI,IAAKC,EAAI,GAAI,CAAC,IAAKD,EAAI,IAAKC,EAAI,GAAI,CAAC,IAAKD,EAAI,IAAKC,EAAI,GAAI,CAAC,OAEvG2E,OAAQ,EACRb,KAAM48B,EAAUt7B,OAkEA0qE,CAAepvC,GAG/B,IAAI55B,EAAQ3V,KAAK0zD,OACbE,EAAY15C,EAAMjI,KAMtB,OAJI0D,GAASA,EAAMlD,MAAQkD,EAAMlD,KAAKmhD,KACpC17C,EAAc,OAAM,GAAIvC,EAAMlD,KAAKmhD,GAAWz5C,QAASjC,IAGlDA,KAIXm9C,GAAc,OAAQ,OAAQ,CAC5BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACrBkN,EAAOuxC,GAAQz+C,GAAK,EAAOlP,MAC/B,OAAO0O,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,SAMdi5C,GAAc,OAAQ,SAAU,CAC9BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACrBoX,EAAQtmB,KAAKmzD,WAEjBjkD,EAAI2hD,WAAa,CAAC,CAACvqC,EAAMpV,MAAMtC,EAAG0X,EAAMnV,IAAItC,GAAI,CAACyX,EAAMnV,IAAIvC,EAAG0X,EAAMpV,MAAMrC,IAC1E,IAAIuN,EAAOuxC,GAAQz+C,GAAK,EAAMlP,MAC9B,OAAO0O,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,SAMdi5C,GAAc,OAAQ,OAAQ,CAC5BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACrBkN,EAAOuxC,GAAQz+C,GAAK,EAAOlP,MAC/B,OAAO0O,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,SAMdi5C,GAAc,OAAQ,aAAc,CAClCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACrBkN,EAAOuxC,GAAQz+C,GAAK,EAAMlP,MAC9B,OAAO0O,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,SAKC,UC3MR,SAAS,GAAUqD,EAAMm/D,EAAch3C,GAC5C,IAAKnoB,EAAKhgB,OAAQ,MAAO,GACzB,IAEImkC,EAFAi7C,EAAY,GACZ3mD,EAAM,GAsBV,OApBAzY,EAAKvX,SAAQ,SAAUvH,GACrBijC,EAASjjC,EAAIy6D,QAAUz6D,EAAIy6D,QAAQxzB,GAASjnC,EAAIinC,GAE5Cg3C,EAEG,SAAQh7C,IACX1L,EAAI1nB,KAAK7P,GAGP,WAAUijC,IAAW,SAAQA,EAAO,KAAO,SAAQA,GACjD1L,EAAIz4B,SACNo/E,EAAUruE,KAAK0nB,GACfA,EAAM,IAGRA,EAAI1nB,KAAK7P,MAIfu3B,EAAIz4B,QAAUo/E,EAAUruE,KAAK0nB,GACtB2mD,EC3BT,IA2Ce,GAzCf,SAAU55E,GAGR,SAAS65E,EAAK5vE,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,OACNmvD,UAAW,OACX6b,gBAAgB,EAChBC,UAAU,EACVwN,cAAc,EACdJ,iBAAiB,GAChBtvE,KAASlP,KAIZ,OAFAkF,EAAMmL,IAAI,eAAgB,IAEnBnL,EAuBT,OArCA,qBAAU45E,EAAM75E,GAiBhB65E,EAAKl/E,UAAUkQ,KAAO,SAAU2P,EAAM/Q,EAAW4hE,EAAchsE,GAC7D,IAAIY,EAAQlF,KAERkP,EAAMlP,KAAKw0E,WAAW/0D,EAAK,IAC3Bs/D,EAAa,GAAUt/D,EAAMzf,KAAKid,IAAI,gBAAiBjd,KAAKytB,YAAYma,OAC5E14B,EAAIi/B,OAAS1uB,EAEb,QAAOs/D,GAAY,SAAUrJ,EAASgJ,GACpCxvE,EAAIwvE,aAAeA,EAEnB,IAAIp2D,EAASotD,EAAQtxE,KAAI,SAAUzD,GACjC,OAAOA,EAAI2nB,UAEbpZ,EAAIoZ,OAASA,EACb,IAAImsD,EAAYnE,EAAazb,UAAU3lD,EAAIgL,MAAOhL,EAAKR,GAEvDxJ,EAAMkuE,gBAAgBqB,EAAWnwE,EAAQo6E,OAItCI,EAtCT,CAuCE,ICnBF,IA0Le,GAxLf,WACE,SAASE,EAAe72E,GACtBnI,KAAKmI,QAAU,KACfnI,KAAKmI,QAAUA,EAkLjB,OA1KA62E,EAAep/E,UAAUwoE,QAAU,SAAUrnC,GAC3C,IAAI76B,EAAOlG,KAAKi/E,cAAcl+C,GAE9B,GAAI,eAAc76B,GAAO,CACvB,IAAIy6C,EAAc3gD,KAAKk/E,kBAEvB,OAAOl/E,KAAKm/E,kBAAkBx+B,GAGhC,OAAOz6C,GAQT84E,EAAep/E,UAAU8zE,kBAAoB,SAAU3yC,GACrD,IAAI76B,EAAOlG,KAAKi/E,cAAcl+C,GAE9B,OAAI,eAAc76B,GACTlG,KAAKk/E,kBAGPl/E,KAAKo/E,kBAAkBl5E,IAGhC84E,EAAep/E,UAAUmQ,MAAQ,WAC/B/P,KAAKq/E,aAAe,MAItBL,EAAep/E,UAAUq/E,cAAgB,SAAUl+C,GACjD,IAAIt9B,EACA0E,EAAUnI,KAAKmI,QACfm3E,EAAWn3E,EAAQiwD,QAAQ,QAM/B,OAJIknB,IACF77E,EAAS0E,EAAQqrE,cAAc8L,EAAUv+C,GAAQ,IAG5Ct9B,GAGTu7E,EAAep/E,UAAU2/E,eAAiB,SAAU3+C,GAClD,IAEIe,EADAqwC,EADUhyE,KAAKmI,QACG8U,IAAI,iBAU1B,GAPA,QAAO+0D,GAAS,SAAUF,GACxB,GAAoB,UAAhBA,EAAO3rE,KAET,OADAw7B,EAAUmwC,EAAOnwC,SACV,KAIPA,EAAS,CACX,IAAIH,EAAY,WAAUZ,GAI1B,OAFa,eAAcY,EAAWG,GAExBliC,OAGhB,OAAOmhC,EAAUnhC,QAInBu/E,EAAep/E,UAAUs/E,gBAAkB,WACzC,IAAIziE,EAAazc,KAAKmI,QAAQ8U,IAAI,cAC9B0jC,EAAc3gD,KAAKq/E,aAEvB,IAAK1+B,EAAa,CAChB,IAAIx4C,EAAUnI,KAAKmI,QACfme,EAAQne,EAAQ8U,IAAI,SACpBy+C,EAASvzD,EAAQ8yD,YACjBukB,EAAU9jB,EAAOptC,OACjBsS,EAAYz4B,EAAQ8U,IAAI,aACxBsf,EAAQijD,EAAQ//E,OAEpB,GAAIi8D,EAAOvtC,UAAYqxD,EAAQ//E,OAAS,EAAG,CAEzC+/E,EAAQzoD,OACR,IAAI9jB,EAvHZ,SAAyB2d,EAAKjD,GAC5B,IAAI4O,EAAQ3L,EAAInxB,OACZggF,EAAY7uD,EAEZ,YAAW6uD,EAAU,MACvBA,EAAY7uD,EAAIxsB,KAAI,SAAUkZ,GAC5B,OAAOqQ,EAAMgB,UAAUrR,OAM3B,IAFA,IAAIm0C,EAAWguB,EAAU,GAAKA,EAAU,GAE/BlgF,EAAI,EAAGA,EAAIg9B,EAAOh9B,IAAK,CAC9B,IAAI24B,EAAMunD,EAAUlgF,GAAKkgF,EAAUlgF,EAAI,GAEnCkyD,EAAWv5B,IACbu5B,EAAWv5B,GAIf,OAAOu5B,EAmGciuB,CAAgBF,EAAS9jB,GACxCn/B,GAASm/B,EAAO/1C,IAAM+1C,EAAOjsC,KAAOxc,EAEhCusE,EAAQ//E,OAAS88B,IACnBA,EAAQijD,EAAQ//E,QAIpB,IAAI8uB,EAAQmtC,EAAOntC,MACfoxD,EAAiB,EAAIpjD,EACrBqjD,EAAK,EAuBT,GArBIz3E,EAAQ0pD,aAGR+tB,EAFEt5D,EAAMa,cAAgBoV,EAAQ,EAE3B9f,EAAWG,YAEXH,EAAWE,MAOd++C,EAAOvtC,WACTwxD,GAAkBpxD,EAAM,GAAKA,EAAM,IAGrCqxD,EAAKnjE,EAAWC,QAGlBijE,GAAkBC,EAEdz3E,EAAQkrE,UAAU,SAGpBsM,GAFiB3/E,KAAKu/E,eAAe3+C,GAMvC,OADA5gC,KAAKq/E,aAAeM,EACbA,EAGT,OAAOh/B,GAITq+B,EAAep/E,UAAUigF,oBAAsB,WAC7C,IAAI13E,EAAUnI,KAAKmI,QACfme,EAAQne,EAAQ8U,IAAI,SAExB,GAAI9U,EAAQ0pD,eAAiBvrC,EAAMa,aAEjC,OAAQb,EAAMI,SAAWJ,EAAMG,YAAcH,EAAMO,YAGrD,IAAI3V,EAAQoV,EAAMoH,aAAa,CAC7B9e,EAAG,EACHC,EAAG,IAEDsC,EAAMmV,EAAMoH,aAAa,CAC3B9e,EAAG,EACHC,EAAG,IAEDrK,EAAQ,EAMZ,OAJI0M,GAASC,IACX3M,EAAQ0Z,KAAKmE,KAAKnE,KAAKyZ,IAAIxmB,EAAIvC,EAAIsC,EAAMtC,EAAG,GAAKsP,KAAKyZ,IAAIxmB,EAAItC,EAAIqC,EAAMrC,EAAG,KAGtErK,GAITw6E,EAAep/E,UAAUu/E,kBAAoB,SAAUQ,GAGrD,OAAOA,EAFe3/E,KAAK6/E,uBAM7Bb,EAAep/E,UAAUw/E,kBAAoB,SAAUl5E,GAGrD,OAAOA,EAFelG,KAAK6/E,uBAKtBb,EArLT,GCvBA,SAASc,GAAYC,GACnB,IAAIn/E,EAAQm/E,EAEP,WAAUA,KACbn/E,EAAQ,CAACm/E,IAGX,IAAItwD,EAAM7uB,EAAM,GAEZ+kB,EAAM/kB,EAAMA,EAAMnB,OAAS,GAE3BugF,EAAOp/E,EAAMnB,OAAS,EAAImB,EAAM,GAAK6uB,EAGzC,MAAO,CACLA,IAAKA,EACL9J,IAAKA,EACLq6D,KAAMA,EACNC,KANSr/E,EAAMnB,OAAS,EAAImB,EAAM,GAAK+kB,EAOvCu6D,OANWt/E,EAAMnB,OAAS,EAAImB,EAAM,GAAKo/E,GAyB7C,SAASG,GAAcC,EAAQC,EAAQ77E,GACrC,IACI87E,EACA3/E,EAlBa27B,EAAMikD,EAgBnBj4D,EAAS,GAGT1Z,EAAIwxE,EACJvxE,EAAIwxE,EAeR,OAbI,WAAUxxE,GAIZyxE,EAAc,CAAC,CAAC1xE,EAAIpK,EAAQ,GAD5B7D,EAAMm/E,GAAYjxE,IACiB8W,KAAM,CAAC/W,EAAIpK,EAAQ,EAAG7D,EAAIglB,KAAM,CAAC/W,EAAGjO,EAAIglB,KAAM,CAAC/W,EAAGjO,EAAIs/E,MAAO,CAACrxE,EAAIpK,EAAQ,EAAG7D,EAAIq/E,MAAO,CAACpxE,EAAIpK,EAAQ,EAAG7D,EAAIs/E,MAAO,CAACrxE,EAAIpK,EAAQ,EAAG7D,EAAIs/E,MAAO,CAACrxE,EAAIpK,EAAQ,EAAG7D,EAAIq/E,MAAO,CAACpxE,EAAGjO,EAAIq/E,MAAO,CAACpxE,EAAGjO,EAAI8uB,KAAM,CAAC7gB,EAAIpK,EAAQ,EAAG7D,EAAI8uB,KAAM,CAAC7gB,EAAIpK,EAAQ,EAAG7D,EAAI8uB,KAAM,CAAC7gB,EAAIpK,EAAQ,EAAG7D,EAAIu/E,QAAS,CAACtxE,EAAIpK,EAAQ,EAAG7D,EAAIu/E,UAG9UrxE,EAAIA,GAAK,GAETyxE,EAAc,CAAC,EADf3/E,EAAMm/E,GAAYlxE,IACE6gB,IAAK5gB,EAAIrK,EAAQ,GAAI,CAAC7D,EAAI8uB,IAAK5gB,EAAIrK,EAAQ,GAAI,CAAC7D,EAAI8uB,IAAK5gB,GAAI,CAAClO,EAAIq/E,KAAMnxE,GAAI,CAAClO,EAAIq/E,KAAMnxE,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIq/E,KAAMnxE,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIs/E,KAAMpxE,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIs/E,KAAMpxE,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIs/E,KAAMpxE,GAAI,CAAClO,EAAIglB,IAAK9W,GAAI,CAAClO,EAAIglB,IAAK9W,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIglB,IAAK9W,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIu/E,OAAQrxE,EAAIrK,EAAQ,GAAI,CAAC7D,EAAIu/E,OAAQrxE,EAAIrK,EAAQ,KA/BpU83B,EAkCPgkD,EAlCaC,EAkCAj4D,EAjCvB,QAAOgU,GAAM,SAAUkkD,GACrBD,EAAG/vE,KAAK,CACN5B,EAAG4xE,EAAO,GACV3xE,EAAG2xE,EAAO,QA+BPl4D,EAQT,IAAIm4D,GAAkBvrB,GAAqB,MAAO,CAChDnB,iBAAkB,QAGpBsB,GAAc,MAAO,MAAO,CAC1BjB,UAAW,SAAmBD,GAC5B,OAAOgsB,GAAchsB,EAAUvlD,EAAGulD,EAAUtlD,EAAGslD,EAAUjuD,OAE3D4J,KAAM,SAAcZ,EAAKR,GACvB,IAdiB4Z,EAcbjE,EA3CR,SAAkBnV,GAChB,IAAI+uE,EAAY/uE,EAAI3K,MAEpB,OADAy5E,GAAeC,EAAW/uE,GACnB+uE,EAwCOyC,CAASxxE,GAEjBkN,EAfK,CAAC,CAAC,KADMkM,EAgBMpZ,EAAIoZ,QAfJ,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,KAAM,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAG0Z,EAAO,IAAIzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAG0Z,EAAO,IAAIzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAG0Z,EAAO,IAAIzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAG0Z,EAAO,IAAIzZ,IAkBpgB,OADAuN,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,MAAO,CACLt2B,OAAQ,SAAgBrK,EAAGC,EAAGqK,GAC5B,IAEIoP,EAAS63D,GAAcvxE,EAFb,CAACC,EAAI,EAAGA,EAAI,EAAGA,EAAGA,EAAI,EAAGA,EAAI,GAEJqK,GAEvC,MAAO,CAAC,CAAC,IAAKoP,EAAO,GAAG1Z,EAAI,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAI,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,KAAM,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAI,EAAG0Z,EAAO,IAAIzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAI,EAAG0Z,EAAO,IAAIzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAG0Z,EAAO,IAAIzZ,GAAI,CAAC,IAAKyZ,EAAO,IAAI1Z,EAAG0Z,EAAO,IAAIzZ,KAEphB2E,OAAQ,EACRd,UAAW,EACXI,OAAQy8B,EAAUt7B,UAIT,UCvEA,GA9Bf,SAAUhP,GAGR,SAAS07E,EAAIzxE,GACX,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,MACNmvD,UAAW,MACX6b,gBAAgB,GACfjiE,KAASlP,KAGRyzE,EAAiB,IAAI,GAAevuE,GAMxC,OAJAA,EAAMmL,IAAI,iBAAkBojE,GAE5BvuE,EAAMmL,IAAI,eAAgB,IAEnBnL,EAUT,OA1BA,qBAAUy7E,EAAK17E,GAmBf07E,EAAI/gF,UAAUy0E,qBAAuB,SAAU1zE,GAC7C,IAAIuO,EAAMjK,EAAOrF,UAAUy0E,qBAAqBv0E,KAAKE,KAAMW,GAG3D,OADAuO,EAAIhJ,KAAOlG,KAAK0zE,kBAAkB/yE,GAC3BuO,GAGFyxE,EA3BT,CA4BE,ICzBF,SAASC,GAAU1xE,GACjB,IAAI+uE,EAAY/uE,EAAI3K,MAEpB,OADAy5E,GAAeC,EAAW/uE,GACnB+uE,EAcT,SAAS4C,GAAUvkD,EAAMikD,GACvB,IAAIj4D,EAAS,GACbA,EAAO9X,KAAK,CACV5B,EAAG0tB,EAAK1tB,EACRC,EAAY,GAATytB,EAAKztB,EAAyB,EAAP0xE,EAAG1xE,EAAQ,IAEvCyZ,EAAO9X,KAAK,CACV3B,EAAY,GAATytB,EAAKztB,EAAyB,EAAP0xE,EAAG1xE,EAAQ,EACrCD,EAAG2xE,EAAG3xE,IAER0Z,EAAO9X,KAAK+vE,GACZ,IAAIhvB,EAAM,CAAC,KAMX,OAJA,QAAOjpC,GAAQ,SAAU/U,GACvBg+C,EAAI/gD,KAAK+C,EAAM3E,EAAG2E,EAAM1E,MAGnB0iD,EAIT,SAASuvB,GAAUP,EAAI55D,GACrB,IAAI2B,EAAS,GACbA,EAAO9X,KAAK,CACV5B,EAAG+X,EAAO/X,EACVC,EAAG8X,EAAO9X,IAEZyZ,EAAO9X,KAAK+vE,GACZ,IAAIhvB,EAAM,CAAC,KAMX,OAJA,QAAOjpC,GAAQ,SAAU/U,GACvBg+C,EAAI/gD,KAAK+C,EAAM3E,EAAG2E,EAAM1E,MAGnB0iD,EAuDT,IAAIwvB,GAAmB7rB,GAAqB,OAAQ,CAClDnB,iBAAkB,OAClBM,iBAAkB,SAA0BF,GAC1C,OAAO,GAAYA,IAErBG,eAAgB,SAAwBnuD,EAAMopC,GAC5C,IACIr3B,EADAgC,EAAQla,KAAKi0D,SAAS9tD,GAIxB+R,EADEgC,EAAMo6C,eACMp6C,EAAMo6C,eAAe/kB,GA7GzC,SAAyBrgC,GACvB,IAAIgJ,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,KAGV,OADAwqE,GAAe9lE,EAAahJ,GACrBgJ,EAyGW8oE,CAAgBzxC,GAGhC,IAAI55B,EAAQ3V,KAAK0zD,OACbE,EAAY15C,EAAMjI,KAMtB,OAJI0D,GAASA,EAAM3C,MAAQ2C,EAAM3C,KAAK4gD,KACpC17C,EAAc,OAAM,GAAIvC,EAAM3C,KAAK4gD,GAAWz5C,QAASjC,IAGlDA,KAGXm9C,GAAc,OAAQ,OAAQ,CAC5BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAImjD,EAAa3iD,EAAI2iD,WACjBvpC,EAAStoB,KAAKwzD,YAAYtkD,EAAIoZ,QAE9BqsD,EAAUiM,GAAU1xE,GAEpBkN,EAAO+5B,GAAY7tB,EAAQupC,GAM/B,OALWnjD,EAAUge,SAAS,OAAQ,CACpCrI,MAAO,OAAMswD,EAAS,CACpBv4D,KAAMA,SAMdi5C,GAAc,OAAQ,MAAO,CAC3BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI4Z,EAASpZ,EAAIoZ,OAEbqsD,EAAUiM,GAAU1xE,GAEpBkN,EAnER,SAAyBkgB,EAAMikD,GAC7B,IAAIj4D,EAAS,GACbA,EAAO9X,KAAK,CACV3B,EAAGytB,EAAKztB,GAAK,EA3FI,EAAI,GA2Fc0xE,EAAG1xE,GA3FrB,EAAI,GA4FrBD,EAAG0tB,EAAK1tB,IAEV0Z,EAAO9X,KAAK,CACV3B,EAAGytB,EAAKztB,GAAK,EA/FI,EAAI,GA+Fc0xE,EAAG1xE,GA/FrB,EAAI,GAgGrBD,EAAG2xE,EAAG3xE,IAER0Z,EAAO9X,KAAK+vE,GACZ,IAAInkE,EAAO,CAAC,CAAC,IAAKkgB,EAAK1tB,EAAG0tB,EAAKztB,IAM/B,OAJA,QAAOyZ,GAAQ,SAAU/U,GACvB6I,EAAK5L,KAAK,CAAC,IAAK+C,EAAM3E,EAAG2E,EAAM1E,OAG1BuN,EAkDM6kE,CAAgB34D,EAAO,GAAIA,EAAO,IAQ7C,OANAlM,EAAOpc,KAAKozD,UAAUh3C,GACX1N,EAAUge,SAAS,OAAQ,CACpCrI,MAAO,OAAMswD,EAAS,CACpBv4D,KAAMA,SAMdi5C,GAAc,OAAQ,SAAU,CAC9BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI4Z,EAASpZ,EAAIoZ,OAEbqsD,EAAUiM,GAAU1xE,GAEpBkN,EApHR,SAA2BkgB,EAAMikD,GAC/B,IAAIhvB,EAAMsvB,GAAUvkD,EAAMikD,GAEtBnkE,EAAO,CAAC,CAAC,IAAKkgB,EAAK1tB,EAAG0tB,EAAKztB,IAE/B,OADAuN,EAAK5L,KAAK+gD,GACHn1C,EA+GM8kE,CAAkB54D,EAAO,GAAIA,EAAO,IAQ/C,OANAlM,EAAOpc,KAAKozD,UAAUh3C,GACX1N,EAAUge,SAAS,OAAQ,CACpCrI,MAAO,OAAMswD,EAAS,CACpBv4D,KAAMA,SAWdi5C,GAAc,OAAQ,MAAO,CAC3BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAKI0E,EACAgJ,EANAkM,EAASpZ,EAAIoZ,OACbniB,EAAOmiB,EAAO7oB,OAAS,EAAI,SAAW,SAEtCk1E,EAAUiM,GAAU1xE,GAKxB,GAAIA,EAAI2iD,WAAY,CAClB,IAAIlrC,EAAS,CACX/X,EAAG,EACHC,EAAG,GAGQ,WAAT1I,EACFiW,EA7IR,SAAwBkgB,EAAMikD,EAAI55D,GAChC,IAAI4qC,EAAMuvB,GAAUP,EAAI55D,GAEpBvK,EAAO,CAAC,CAAC,IAAKkgB,EAAK1tB,EAAG0tB,EAAKztB,IAE/B,OADAuN,EAAK5L,KAAK+gD,GACHn1C,EAwIM+kE,CAAe74D,EAAO,GAAIA,EAAO,GAAI3B,IAE5CguD,EAAQhiE,KAAOgiE,EAAQ7hE,OACvBsJ,EAxIR,SAA8BkM,EAAQ3B,GACpC,IAAIy6D,EAAON,GAAUx4D,EAAO,GAAI3B,GAE5B06D,EAAOP,GAAUx4D,EAAO,GAAI3B,GAE5BvK,EAAO,CAAC,CAAC,IAAKkM,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IAQzC,OAPAuN,EAAK5L,KAAK6wE,GACVjlE,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IACvCuN,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IACvCuN,EAAK5L,KAAK4wE,GACVhlE,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IACvCuN,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IACvCuN,EAAK5L,KAAK,CAAC,MACJ4L,EA2HMklE,CAAqBh5D,EAAQ3B,IAGtCvK,EAAOpc,KAAKozD,UAAUh3C,GACtBhJ,EAAO1E,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMswD,EAAS,CACpBv4D,KAAMA,WAIV,GAAa,WAATjW,EACFmiB,EAAStoB,KAAKwzD,YAAYlrC,GAC1BlV,EAAO1E,EAAUge,SAAS,MAAO,CAC/BrI,MAAO,OAAMswD,EAAS,CACpB/lE,GAAI0Z,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,GAAK,EACjCC,EAAGyZ,EAAO,GAAGzZ,EACbqK,EAAGgF,KAAKsE,IAAI8F,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,GAAK,EACzC6X,WAAYvI,KAAKK,GACjBmI,SAAoB,EAAVxI,KAAKK,WAGd,CACLnC,EAAO,CAAC,CAAC,IAAKkM,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IAEtE,IAAImU,EAAK69D,GAAUv4D,EAAO,GAAIA,EAAO,IAEjCpF,EAAK29D,GAAUv4D,EAAO,GAAIA,EAAO,IAErClM,EAAK5L,KAAKwS,GACV5G,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IACvCuN,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IACvCuN,EAAK5L,KAAK0S,GACV9G,EAAK5L,KAAK,CAAC,MACX4L,EAAOpc,KAAKozD,UAAUh3C,GACtBu4D,EAAQhiE,KAAOgiE,EAAQ7hE,OACvBM,EAAO1E,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMswD,EAAS,CACpBv4D,KAAMA,MAMd,OAAOhJ,KAGI,UC1OA,GAnBf,SAAUnO,GAGR,SAASs8E,EAAKryE,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,OACNgrE,gBAAgB,EAChB7b,UAAW,OACX+b,cAAc,GACbniE,KAASlP,KAIZ,OAFAkF,EAAMmL,IAAI,eAAgB,IAEnBnL,EAGT,OAfA,qBAAUq8E,EAAMt8E,GAeTs8E,EAhBT,CAiBE,IC8Na,GA1Of,SAAUt8E,GAGR,SAASu8E,EAAQtyE,GACf,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,UACNmvD,UAAW,QACXmsB,aAAc,IACbvyE,KAASlP,KA+Nd,OAtOA,qBAAUwhF,EAASv8E,GAUnBu8E,EAAQ5hF,UAAU8hF,cAAgB,WAChC,IAAIjiE,EAAOzf,KAAKid,IAlBF,cAoBV0kE,EADY3hF,KAAKo4D,QAAQ,SACFlxB,OAAO,GAAGU,MACjCnY,EAAMmJ,IACNjT,GAAOiT,IACXnZ,EAAKvX,SAAQ,SAAU69C,GACrB,IAAInlD,EAAQmlD,EAAgB,QAAE47B,GAE1B/gF,EAAQ+kB,IACVA,EAAM/kB,GAGJA,EAAQ6uB,IACVA,EAAM7uB,MAIN6uB,IAAQ9J,IACV8J,EAAM9J,EAAM,GAGd,IAAI4I,EAAQ,CAACkB,EAAK9J,GAClB3lB,KAAKqQ,IA1CS,aA0CQke,IAGxBizD,EAAQ5hF,UAAUgiF,aAAe,WAC/B,IAAIpuE,EAASxT,KAAK43D,gBAAgB,QAE7B,YAAWpkD,KACdA,EAASxT,KAAK6hF,kBAGhB,IAAItQ,EAAevxE,KAAKid,IAAI,gBACxB6kE,EAAOvQ,GAAgB,YAAWA,EAAariE,KAAOqiE,EAAariE,IAAI4yE,KAAO,KAE7E,YAAWA,IAAkB,OAATA,IACvBA,EAAOtuE,EAAS,GAGlBxT,KAAKqQ,IAvDU,cAuDQ,CACrByxE,KAAMA,EACNtuE,OAAQA,KAIZguE,EAAQ5hF,UAAUiiF,eAAiB,WACjC,IAAIrrE,EAAWxW,KAAKo4D,QAAQ,YACxB9xC,EAAQtmB,KAAKid,IAAI,SAErB,OADaiB,KAAKuR,IAAInJ,EAAM9hB,OAA2C,EAAlCgS,EAAS0wB,OAAO,GAAG1Y,MAAM/uB,QAAa6mB,EAAMxX,QAA4C,EAAlC0H,EAAS0wB,OAAO,GAAG1Y,MAAM/uB,UAItH+hF,EAAQ5hF,UAAUmiF,UAAY,SAAUh0B,GAKtC,IAJA,IAAIoK,EAAYn4D,KAAKo4D,QAAQ,SACzB4pB,EAASj0B,EAAItuC,KACbgiE,EAAezhF,KAAKid,IAAI,gBAEnB1d,EAAI,EAAGA,EAAIyiF,EAAOviF,OAAQF,GAAK,EAAG,CACzC,IAAI0iF,EAAQD,EAAOziF,GAEnB,GAAI0iF,EAAO,CACT,IAAIC,OAAU,EAEVT,EAAaQ,GACfC,EAAUT,EAAaQ,IAEvBC,EAAU,WAAUC,QAAQhqB,EAAUjwB,SAAS+5C,EAAQ,MACvDR,EAAaQ,GAASC,GAIxBF,EAAOziF,EAAI,GAAK2iF,EAAQ,GACxBF,EAAOziF,EAAI,GAAK2iF,EAAQ,GACxBF,EAAOziF,EAAI,GAAK2iF,EAAQ,GACxBF,EAAOziF,GAAK0iF,KAKlBT,EAAQ5hF,UAAUwiF,+BAAiC,SAAUlpE,EAAG4oE,GAC9D,IAAIO,EAAeriF,KAAKid,IAjGI,0BAmGvBolE,IACHA,EAAe/vC,SAASgwC,cAAc,UACtCtiF,KAAKqQ,IArGqB,yBAqGUgyE,IAGtC,IAAIE,EAAKrpE,EAAI4oE,EACTU,EAAMH,EAAaI,WAAW,MAClCJ,EAAa79E,MAAQ69E,EAAavzE,OAAc,EAALyzE,EAC3CC,EAAIE,UAAU,EAAG,EAAGL,EAAa79E,MAAO69E,EAAavzE,QACrD0zE,EAAIrpE,cAAgBqpE,EAAIG,cAAqB,EAALJ,EACxCC,EAAIruE,WAAa2tE,EACjBU,EAAIpuE,YAAc,QAClBouE,EAAII,YACJJ,EAAIhoE,KAAK+nE,GAAKA,EAAIrpE,EAAG,EAAa,EAAVgF,KAAKK,IAAQ,GACrCikE,EAAIK,YACJL,EAAI7vE,QAGN6uE,EAAQ5hF,UAAUkjF,4BAA8B,SAAUl0E,EAAGC,EAAGqK,EAAG+oE,EAAOO,GACxE,IAAIH,EAAeriF,KAAKid,IAtHI,0BAuH5BulE,EAAIO,YAAcd,EAClBO,EAAIQ,UAAUX,EAAczzE,EAAIsK,EAAGrK,EAAIqK,IAGzCsoE,EAAQ5hF,UAAUqjF,oBAAsB,WACtC,IAAIl0E,EAAS/O,KAAKid,IAhIF,gBAkIXlO,IACHA,EAASujC,SAASgwC,cAAc,UAChCtiF,KAAKqQ,IApIS,eAoIUtB,IAG1B,IAAI4nD,EAAY32D,KAAKid,IAAI,QAAQA,IAAI,aAGrC,OAFAlO,EAAOvK,MAAQmyD,EAAUnyD,MACzBuK,EAAOD,OAAS6nD,EAAU7nD,OACnBC,EAAO0zE,WAAW,OAG3BjB,EAAQ5hF,UAAUsjF,sBAAwB,WACxC,IAAIV,EAAMxiF,KAAKijF,sBAEfT,EAAIE,UAAU,EAAG,EAAGF,EAAIzzE,OAAOvK,MAAOg+E,EAAIzzE,OAAOD,SAGnD0yE,EAAQ5hF,UAAUujF,eAAiB,WACjC,IAAIC,EAAapjF,KAAKid,IAlJR,cAoJd,OAAImmE,IAKJA,EADgBpjF,KAAKid,IAAI,aACFyP,SAAS,QAAS,IACzC1sB,KAAKqQ,IA1JS,aA0JQ+yE,GACfA,IAGT5B,EAAQ5hF,UAAUmQ,MAAQ,WACxB/P,KAAKkjF,wBAELj+E,EAAOrF,UAAUmQ,MAAMjQ,KAAKE,OAG9BwhF,EAAQ5hF,UAAUyjF,cAAgB,SAAU90D,GAE1C,IAAI/oB,EAAKxF,KAAKid,IAAI,SACd/L,EAAQ1L,EAAG0L,MACXC,EAAM3L,EAAG2L,IACT3M,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAIZw0E,EAAatjF,KAAKo4D,QAAQ,SAASlxB,OAAO,GAAGU,MAC7C1hC,EAAOlG,KAAKid,IA5KD,eA8Kfjd,KAAKkjF,wBAEL,IAAIV,EAAMxiF,KAAKijF,sBAGXxjE,EAAOzf,KAAKid,IArLF,cAuLVsR,IACF9O,EAAOA,EAAK06C,QAAO,SAAUpU,GAC3B,OAAOA,EAAgB,QAAEu9B,IAAe/0D,EAAM,IAAMw3B,EAAgB,QAAEu9B,IAAe/0D,EAAM,OAO/F,IAFA,IAAIZ,EAAQ3tB,KAAKid,IAAI,UAAUqmE,GAEtB/jF,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CACpC,IAAIoB,EAAM8e,EAAKlgB,GACX2P,EAAMlP,KAAKw0E,WAAW7zE,GACtBshF,EAAQt0D,EAAMA,MAAMhtB,EAAgB,QAAE2iF,IAE1CtjF,KAAK8iF,4BAA4B5zE,EAAIN,EAAIsC,EAAMtC,EAAGM,EAAIL,EAAIsC,EAAItC,EAAG3I,EAAKsN,OAAStN,EAAK47E,KAAMG,EAAOO,GAInG,IAAIe,EAAUf,EAAIgB,aAAa,EAAG,EAAGh/E,EAAOsK,GAE5C9O,KAAKkjF,wBAELljF,KAAK+hF,UAAUwB,GAEff,EAAIiB,aAAaF,EAAS,EAAG,GAC7B,IAAIpnE,EAAQ,IAAI0xC,MAChB1xC,EAAM2xC,IAAM00B,EAAIzzE,OAAO20E,UAAU,aAEhB1jF,KAAKmjF,iBAEX/6D,KAAK,CACdxZ,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAOA,EACPsK,OAAQA,EACRi/C,IAAK5xC,KAITqlE,EAAQ5hF,UAAUkQ,KAAO,SAAU2P,GACjCzf,KAAKqQ,IA/NS,aA+NQoP,GAEtBzf,KAAK0hF,gBAEL1hF,KAAK4hF,eAEL,IAAI17E,EAAOlG,KAAKid,IAnOD,eAqOfjd,KAAKoiF,+BAA+Bl8E,EAAKsN,OAAQtN,EAAK47E,MAEtD,IAAIvzD,EAAQvuB,KAAKid,IA3OH,cA4Odjd,KAAKqjF,cAAc90D,IAGdizD,EAvOT,CAwOE,ICnPEmC,GAASzlE,KAAKmE,KAAK,GAEZuhE,GAAc,CACvBxwE,KAAM,SAAcxE,EAAGC,EAAGqK,GACxB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAGrK,GAAI,CAAC,IAAKD,EAAIsK,EAAGrK,KAExCwL,OAAQ,SAAgBzL,EAAGC,EAAGqK,GAC5B,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAGrK,GAAI,CAAC,IAAKqK,EAAI,EAAGA,EAAI,EAAG,EAAG,EAAG,EAAGtK,EAAGC,GAAI,CAAC,IAAKqK,EAAI,EAAGA,EAAI,EAAG,EAAG,EAAG,EAAGtK,EAAIsK,EAAGrK,KAEnGkM,GAAI,SAAYnM,EAAGC,EAAGqK,GACpB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAI,KAAM,CAAC,IAAKD,EAAGC,EAAI,KAAM,CAAC,IAAKD,EAAGC,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,OAEhGmM,GAAI,SAAYpM,EAAGC,EAAGqK,GACpB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAI,KAAM,CAAC,IAAKD,EAAGC,EAAI,KAAM,CAAC,IAAKD,EAAGC,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,OAEhGoM,IAAK,SAAarM,EAAGC,EAAGqK,GACtB,MAAO,CAAC,CAAC,IAAKtK,GAAKsK,EAAI,GAAIrK,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,KAAM,CAAC,IAAKD,EAAIsK,EAAI,EAAGrK,EAAI,OAExK0L,IAAK,SAAa3L,EAAGC,GAEnB,MAAO,CAAC,CAAC,IAAKD,EAAI,EAAGC,EAAI,KAAM,CAAC,IAAKD,EAAI,EAAGC,GAAI,CAAC,IAAKD,EAAGC,GAAI,CAAC,IAAKD,EAAGC,EAAI,GAAI,CAAC,IAAKD,EAAGC,EAAI,GAAI,CAAC,IAAKD,EAAI,IAAKC,EAAI,MAI3Gg1E,GAAe,CACxBvoE,QAAS,SAAiB1M,EAAGC,EAAGqK,GAC9B,IAAI4qE,EAAQ5qE,EAAI,EAAIyqE,GACpB,MAAO,CAAC,CAAC,IAAK/0E,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAIk1E,EAAOj1E,EAAIqK,EAAI,GAAI,CAAC,IAAKtK,EAAIk1E,EAAOj1E,EAAIqK,EAAI,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAIk1E,EAAOj1E,EAAIqK,EAAI,GAAI,CAAC,IAAKtK,EAAIk1E,EAAOj1E,EAAIqK,EAAI,GAAI,CAAC,OAEjKkC,OAAQ,SAAgBxM,EAAGC,EAAGqK,GAC5B,IAAI6qE,EAAQ7qE,EAAI,IAChB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAGrK,EAAIk1E,GAAQ,CAAC,IAAKn1E,EAAIsK,EAAGrK,EAAIk1E,GAAQ,CAAC,IAAKn1E,EAAIsK,EAAGrK,EAAIk1E,GAAQ,CAAC,IAAKn1E,EAAIsK,EAAGrK,EAAIk1E,GAAQ,CAAC,OAE/G/nE,MAAO,SAAepN,EAAGC,EAAGqK,GAC1B,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAGrK,EAAIqK,KAE1FwB,KAAM,SAAc9L,EAAGC,EAAGqK,GACxB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,KAE5I+C,KAAM,SAAcrN,EAAGC,EAAGqK,GACxB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAGrK,GAAI,CAAC,IAAKD,EAAIsK,EAAGrK,GAAI,CAAC,IAAKD,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,KAE1EgD,OAAQ,SAAgBtN,EAAGC,EAAGqK,GAC5B,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAGrK,GAAI,CAAC,IAAKD,EAAIsK,EAAGrK,KAExCuE,KAAM,SAAcxE,EAAGC,EAAGqK,GACxB,MAAO,CAAC,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,MC7B1C,SAAS8qE,GAAc90E,GACrB,IAAImV,EAAQnV,EAAI3K,MAEhB,OADAw5E,GAAa15D,EAAOnV,GACbmV,EAIT,SAAS4/D,GAAc/0E,GACrB,IAAImV,EAAQnV,EAAI3K,MAEhB,OADAy5E,GAAe35D,EAAOnV,GACfmV,EAIT,SAAS6/D,GAAeh1E,EAAKi1E,QACT,IAAdA,IACFA,GAAY,GAGd,IASIC,EACAC,EAUAC,EACAC,EArBA31E,EAAIM,EAAIN,EACRC,EAAIK,EAAIL,EACR0lE,EAAKrlE,EAAIqlE,GACTruE,EAAOgJ,EAAIhJ,KASX,WAAU2I,IACZu1E,EAAOv1E,EAAE,GACTw1E,EAAOx1E,EAAE,KAETu1E,EAAO7P,EACP8P,EAAOx1E,GAML,WAAUD,IACZ01E,EAAO11E,EAAE,GACT21E,EAAO31E,EAAE,KAET01E,EAAO11E,EAAI1I,EAAO,EAClBq+E,EAAO31E,EAAI1I,EAAO,GAGpB,IAAIoiB,EAAS,CAAC,CACZ1Z,EAAG01E,EACHz1E,EAAGu1E,GACF,CACDx1E,EAAG01E,EACHz1E,EAAGw1E,IA2BL,OAxBIF,EAMF77D,EAAO9X,KAAK,CACV5B,EAAG21E,EACH11E,GAAIw1E,EAAOD,GAAQ,IAOrB97D,EAAO9X,KAAK,CACV5B,EAAG21E,EACH11E,EAAGw1E,GACF,CACDz1E,EAAG21E,EACH11E,EAAGu1E,IAIA97D,EAIT,SAASk8D,GAAal8D,GACpB,IAAIlM,EAAO,GACPqoE,EAAan8D,EAAO,GACxBlM,EAAK5L,KAAK,CAAC,IAAKi0E,EAAW71E,EAAG61E,EAAW51E,IAEzC,IAAK,IAAItP,EAAI,EAAGse,EAAMyK,EAAO7oB,OAAQF,EAAIse,EAAKte,IAC5C6c,EAAK5L,KAAK,CAAC,IAAK8X,EAAO/oB,GAAGqP,EAAG0Z,EAAO/oB,GAAGsP,IAMzC,OAHAuN,EAAK5L,KAAK,CAAC,IAAKi0E,EAAW71E,EAAG61E,EAAW51E,IAEzCuN,EAAK5L,KAAK,CAAC,MACJ4L,EA6ET,SAASsoE,GAAex1E,EAAKy1E,GAC3B,IAAIvoE,EAAO,GACPkM,EAASpZ,EAAIoZ,OACbyhD,EAAa76D,EAAI66D,WAWrB,OATK,SAAQA,GAEF4a,EACTvoE,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,MAE/IuN,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GACzG,CAAC,MALDuN,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKk7D,EAAW,GAAGn7D,EAAGm7D,EAAW,GAAGl7D,GAAI,CAAC,IAAKk7D,EAAW,GAAGn7D,EAAGm7D,EAAW,GAAGl7D,GAAI,CAAC,MAQ1JuN,EArMT,QDyC6B,CAC3B1B,KAAM,SAAc9L,EAAGC,EAAGqK,GACxB,MAAO,CAAC,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,GAAI,CAAC,IAAKtK,EAAIsK,EAAI,EAAGrK,EAAIqK,KAE5I9F,KAAM,SAAcxE,EAAGC,EAAGqK,GACxB,MAAO,CAAC,CAAC,IAAKtK,EAAGC,EAAIqK,GAAI,CAAC,IAAKtK,EAAGC,EAAIqK,OC9ClB,SAAU0rE,EAAM3rE,GAItC,UAAO4rE,eAAeC,SAAS7rE,EAAQ2rE,MA2OzC,IAAIG,GAAuB7vB,GAAqB,WAAY,CAC1DnB,iBAAkB,OAClBM,iBAAkB,SAA0BF,GAC1C,OAAO+vB,GAAe/vB,MAI1BkB,GAAc,WAAY,OAAQ,CAChCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ2/D,GAAc90E,GAEtBkN,EAAOooE,GAAat1E,EAAIoZ,QAG5B,OADAlM,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIsiB,EAAatiB,EAAUsiB,WACvB35C,EAAc,CAChBe,OAAQ44C,EAAa,SAAW,SAChCr+C,OAAQq+C,EAAa,IAAM,GAG7B,OADAksB,GAAa7lE,EAAaq3B,GACnBr3B,KAIXm9C,GAAc,WAAY,iBAAkB,CAC1CvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ4/D,GAAc/0E,GAEtBkN,EAAOooE,GAAat1E,EAAIoZ,QAG5B,OADAlM,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIsiB,EAAatiB,EAAUsiB,WACvB35C,EAAc,CAChBe,OAAQ44C,EAAa,SAAW,SAChCr+C,OAAQq+C,EAAa,IAAM,GAG7B,OADAmsB,GAAe9lE,EAAaq3B,GACrBr3B,KAIXm9C,GAAc,WAAY,OAAQ,CAChCjB,UAAW,SAAmBD,GAC5B,OA1LJ,SAAwBjlD,GACtB,IAAIN,EAAIM,EAAIN,EACRC,EAAIK,EAAIL,EACR0lE,EAAKrlE,EAAIqlE,GAEb,OAAI,WAAU1lE,GACLA,EAAEzK,KAAI,SAAU05E,EAAOptE,GAC5B,MAAO,CACL9B,EAAG,WAAUA,GAAKA,EAAE8B,GAAO9B,EAC3BC,EAAGivE,MAKF,CAAC,CACNlvE,EAAGA,EACHC,EAAGA,GACF,CACDD,EAAGA,EACHC,EAAG0lE,IAuKIyQ,CAAe7wB,IAExBrkD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ4/D,GAAc/0E,GAE1BmV,EAAM3R,UAAYxD,EAAIhJ,MAAQ,EAE9B,IAAIkW,EAAOooE,GAAat1E,EAAIoZ,QAG5B,OADAlM,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,OACRzF,OAAQ,GAGV,OADAwqE,GAAe9lE,EAAaq3B,GACrBr3B,KAIXm9C,GAAc,WAAY,OAAQ,CAChCjB,UAAW,SAAmBD,GAC5B,OA9LJ,SAAwBjlD,GACtB,IAIIk1E,EACAC,EALAz1E,EAAIM,EAAIN,EACRC,EAAIK,EAAIL,EACR0lE,EAAKrlE,EAAIqlE,GACTruE,EAAOgJ,EAAIhJ,KAIX,WAAU2I,IACZu1E,EAAOv1E,EAAE,GACTw1E,EAAOx1E,EAAE,KAETu1E,EAAO7P,EACP8P,EAAOx1E,GAGT,IAAI01E,EAAO31E,EAAI1I,EAAO,EAClBo+E,EAAO11E,EAAI1I,EAAO,EAKtB,MAAO,CAAC,CACN0I,EAAG01E,EACHz1E,EAAGw1E,GACF,CACDz1E,EAAG21E,EACH11E,EAAGw1E,GACF,CACDz1E,EAAGA,EACHC,EAAGw1E,GACF,CACDz1E,EAAGA,EACHC,EAAGu1E,GACF,CACDx1E,EAAG01E,EACHz1E,EAAGu1E,GACF,CACDx1E,EAAG21E,EACH11E,EAAGu1E,IAuJIa,CAAe9wB,IAExBrkD,KAAM,SAAcZ,EAAKR,GACvB,IArJkB4Z,EAqJdjE,EAAQ4/D,GAAc/0E,GAEtBkN,EAtJC,CAAC,CAAC,KADWkM,EAuJMpZ,EAAIoZ,QAtJT,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IAyJxM,OADAuN,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,OACRzF,OAAQ,GAGV,OADAwqE,GAAe9lE,EAAaq3B,GACrBr3B,KAIXm9C,GAAc,WAAY,SAAU,CAClCjB,UAAW,SAAmBD,GAG5B,OAFAA,EAAUjuD,KAAwB,EAAjBiuD,EAAUjuD,KAEpBg+E,GAAe/vB,IAExBrkD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ2/D,GAAc90E,GAEtBkN,EAAOsoE,GAAex1E,GAAK,GAG/B,OADAkN,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,GAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAIXm9C,GAAc,WAAY,UAAW,CACnCjB,UAAW,SAAmBD,GAG5B,OAFAA,EAAUjuD,KAAwB,EAAjBiuD,EAAUjuD,KAEpBg+E,GAAe/vB,GAAW,IAEnCrkD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ2/D,GAAc90E,GAEtBkN,EAAOsoE,GAAex1E,GAAK,GAG/B,OADAkN,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,GAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAKXm9C,GAAc,WAAY,WAAY,CACpCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,OAAM,GAAI2/D,GAAc90E,IAEhC3K,EAAQ2K,EAAI3K,MACZ+jB,EAASpZ,EAAIoZ,OAEb48D,EAAWV,GAAal8D,GAE5B48D,EAAWllF,KAAKozD,UAAU8xB,UACnB7gE,EAAMvR,OAEb,IAAIqyE,EAAYz2E,EAAUge,SAAS,OAAQ,CACzCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnC5L,OAAQ,EACR2D,KAAM8oE,MAINE,EAAc,CAAC,CAAC,IAAK98D,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IASjF,OARAH,EAAUge,SAAS,OAAQ,CACzBjU,OAAQ,EACR4L,MAAO,CACLvR,OAAQvO,EAAMuO,QAAU,QACxBJ,UAAWnO,EAAMmO,WAAa,EAC9B0J,KAAMpc,KAAKozD,UAAUgyB,MAGlBD,GAET7wB,eAAgB,SAAwB/kB,GACtC,IAAIsiB,EAAatiB,EAAUsiB,WACvB35C,EAAc,CAChBe,OAAQ44C,EAAa,SAAW,SAChCr+C,OAAQq+C,EAAa,IAAM,GAG7B,OADAksB,GAAa7lE,EAAaq3B,GACnBr3B,KAGI,UCtZA,GA5Cf,SAAUjT,GAGR,SAASogF,EAASn2E,GAChB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,WACNmvD,UAAW,WACX6b,gBAAgB,GACfjiE,KAASlP,KAGRyzE,EAAiB,IAAI,GAAevuE,GAOxC,OALAA,EAAMmL,IAAI,iBAAkBojE,GAG5BvuE,EAAMmL,IAAI,eAAgB,IAEnBnL,EAuBT,OAxCA,qBAAUmgF,EAAUpgF,GAoBpBogF,EAASzlF,UAAUy0E,qBAAuB,SAAU1zE,GAClD,IAAIuO,EAAMjK,EAAOrF,UAAUy0E,qBAAqBv0E,KAAKE,KAAMW,GAI3D,OAFAuO,EAAIhJ,KAAOlG,KAAK0zE,kBAAkB/yE,GAE3BuO,GAGTm2E,EAASzlF,UAAUu/D,eAAiB,WAClC,IAAIA,EAAiBn/D,KAAKid,IAAI,gBAC1BqJ,EAAQtmB,KAAKid,IAAI,SACjB2+C,EAAYt1C,EAAMngB,KAMtB,OAJkB,UAAdy1D,GAAuC,UAAdA,GAAyBt1C,EAAMa,gBAC1Dg4C,GAAiB,GAGZA,GAGFkmB,EAzCT,CA0CE,ICrBF,SAASC,GAAW12E,EAAGC,EAAGrK,GACxB,IAAI+gF,EAzBN,SAAoBxF,GAClB,IAAIn/E,EAAQm/E,EAEP,WAAUA,KACbn/E,EAAQ,CAACm/E,IAIX,IAAIrgD,EAAS9+B,EAAMm2B,MAAK,SAAU1Z,EAAGuC,GACnC,OAAOvC,EAAIuC,EAAI,GAAK,KAElBngB,EAASigC,EAAOjgC,OAEpB,GAAIA,EAAS,EAGX,IAFA,IAAIgwB,EAAMiQ,EAAOjgC,EAAS,GAEjBF,EAAI,EAAGA,EAAI,EAAIE,EAAQF,IAC9BmgC,EAAOlvB,KAAKif,GAIhB,OAAOiQ,EAIO8lD,CAAW32E,GA4BzB,MA1Ba,CAAC,CACZD,EAAGA,EACHC,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EACHC,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EAAIpK,EAAQ,EACfqK,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EAAIpK,EAAQ,EACfqK,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EAAIpK,EAAQ,EACfqK,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EAAIpK,EAAQ,EACfqK,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EACHC,EAAG02E,EAAQ,IACV,CACD32E,EAAGA,EACHC,EAAG02E,EAAQ,KAkBf,IAAIE,GAAoBvwB,GAAqB,QAAS,CACpDnB,iBAAkB,UAEpBsB,GAAc,QAAS,QAAS,CAC9BjB,UAAW,SAAmBD,GAC5B,OAAOmxB,GAAWnxB,EAAUvlD,EAAGulD,EAAUtlD,EAAGslD,EAAUjuD,OAExD4J,KAAM,SAAcZ,EAAKR,GACvB,IApBc4Z,EAoBVjE,EAfR,SAAmBnV,GACjB,IAAI+uE,EAAY/uE,EAAI3K,MAGpB,OAFAw5E,GAAaE,EAAW/uE,GACxB8uE,GAAeC,EAAW/uE,GACnB+uE,EAWO,CAAU/uE,GAElBkN,EArBK,CAAC,CAAC,KADGkM,EAsBMpZ,EAAIoZ,QArBD,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,KAAM,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,IAwBrR,OADAuN,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,MAAO,CACLt2B,OAAQ,SAAgBrK,EAAGC,EAAGqK,GAC5B,IAEIoP,EAASg9D,GAAW12E,EAFV,CAACC,EAAI,IAAKA,EAAI,EAAGA,EAAI,EAAGA,EAAI,KAENqK,GAEpC,MAAO,CAAC,CAAC,IAAKoP,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,KAAM,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,KAErR6D,UAAW,EACXI,OAAQy8B,EAAUt7B,MAClBtB,KAAM48B,EAAUt7B,MAChBT,OAAQ,MAIC,UCvEA,GA7Bf,SAAUvO,GAGR,SAASygF,EAAMx2E,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,QACNmvD,UAAW,QACX6b,gBAAgB,GACfjiE,KAASlP,KAERyzE,EAAiB,IAAI,GAAevuE,GAMxC,OAJAA,EAAMmL,IAAI,iBAAkBojE,GAE5BvuE,EAAMmL,IAAI,eAAgB,IAEnBnL,EAUT,OAzBA,qBAAUwgF,EAAOzgF,GAkBjBygF,EAAM9lF,UAAUy0E,qBAAuB,SAAU1zE,GAC/C,IAAIuO,EAAMjK,EAAOrF,UAAUy0E,qBAAqBv0E,KAAKE,KAAMW,GAG3D,OADAuO,EAAIhJ,KAAOlG,KAAK0zE,kBAAkB/yE,GAC3BuO,GAGFw2E,EA1BT,CA2BE,ICxBEC,GAAe,CAAC,EAAG,GACnBC,GAAgB,CAAC,IAAK,GAE1B,SAAS,GAAU12E,GACjB,IAAI+uE,EAAY/uE,EAAI3K,MAOpB,OANAy5E,GAAeC,EAAW/uE,GAEtBA,EAAIhJ,OACN+3E,EAAUvrE,UAAYxD,EAAIhJ,MAGrB+3E,EAmDT,SAAS4H,GAAev9D,EAAQjO,EAAQw3C,EAAY3iD,GAClD,IAAIkN,EAEJ,GAAK/B,EAGE,CAEL,IAAIw2C,EAAa3hD,EAAI2hD,WACrBgB,GAAcvpC,EAAO7oB,QAAU6oB,EAAO9X,KAAK,CACzC5B,EAAG0Z,EAAO,GAAG1Z,EACbC,EAAGyZ,EAAO,GAAGzZ,IAEfuN,EAAO41C,GAAc1pC,GAAQ,EAAOuoC,QATpCz0C,EAAO+5B,GAAY7tB,GAAQ,GAC3BupC,GAAcz1C,EAAK5L,KAAK,CAAC,MAW3B,OAAO4L,EAIT,SAAS,GAASlN,EAAKmL,GACrB,IAAIiO,EAASpZ,EAAIoZ,OACbupC,EAAa3iD,EAAI2iD,WACjBrxC,EAAQ8H,EAAO,GACnB,OAAO,WAAU9H,EAAM3R,GAhDzB,SAAuByZ,EAAQjO,EAAQw3C,EAAY3iD,GAKjD,IAJA,IAAI42E,EAAU52E,EAAI42E,QACdC,EAAY,GACZC,EAAe,GAEVzmF,EAAI,EAAGse,EAAMyK,EAAO7oB,OAAQF,EAAIse,EAAKte,IAAK,CACjD,IACI24B,EAAM,GADE5P,EAAO/oB,IAEnBymF,EAAax1E,KAAK0nB,EAAI,IACtB6tD,EAAUv1E,KAAK0nB,EAAI,IAGrB,IAAI+tD,EAAUJ,GAAeE,EAAW1rE,EAAQw3C,EAAY3iD,GAExDg3E,EAAaL,GAAeG,EAAc3rE,EAAQw3C,EAAY3iD,GAElE,OAAI42E,EACKG,EAGFA,EAAQ5kF,OAAO6kF,GA4BMC,CAAc79D,EAAQjO,EAAQw3C,EAAY3iD,GAAO22E,GAAev9D,EAAQjO,EAAQw3C,EAAY3iD,GA2B1H,SAASk3E,GAAuBl3E,EAAKwrE,GAGnC,OAXF,SAAuBpyD,GAIrB,OAHWA,EAAOlkB,KAAI,SAAUmP,EAAOjP,GACrC,OAAiB,IAAVA,EAAc,CAAC,IAAKiP,EAAM3E,EAAG2E,EAAM1E,GAAK,CAAC,IAAK0E,EAAM3E,EAAG2E,EAAM1E,MAS/Dw3E,CA3BT,SAAuB/9D,EAAQoyD,GAC7B,IAAI4L,EAAY,GAWhB,OATA,QAAOh+D,GAAQ,SAAU/U,EAAOjP,GAC9B,IAAI8sD,EAAY9oC,EAAOhkB,EAAQ,GAC/BgiF,EAAU91E,KAAK+C,GAEX69C,IACFk1B,EAAYA,EAAUjlF,OAAOq5E,EAAGnnE,EAAO69C,QAIpCk1B,EAaMC,CAAcr3E,EAAIoZ,OAAQoyD,IAKzC,IAAI8L,GAAmBtxB,GAAqB,OAAQ,CAClDnB,iBAAkB,OAClBc,UAAW,SAAmB1uD,EAAM+I,EAAKR,GACvC,IAAIwL,EAAQla,KAAKi0D,SAAS9tD,GAEtBytD,EAAY15C,EAAMjI,KAClB0D,EAAQ3V,KAAK0zD,OAEjB,GAAI/9C,GAASA,EAAMvC,MAAQuC,EAAMvC,KAAKwgD,GAAY,CAChD,IAAIkB,EAAoBn/C,EAAMvC,KAAKwgD,GAAWz5C,QAC9CjL,EAAI3K,MAAQ,OAAM,GAAIuwD,EAAmB5lD,EAAI3K,OAG/C,IAAIwwD,EAA+B,IAAtB7lD,EAAIoZ,OAAO7oB,QAAgByP,EAAIsvE,gBA3GhD,SAAyBtvE,EAAKR,GAC5B,IAAI6E,EAAQrE,EAAIoZ,OAAO,GACvB,OAAO5Z,EAAUge,SAAS,SAAU,CAClCrI,MAAO,CACLzV,EAAG2E,EAAM3E,EACTC,EAAG0E,EAAM1E,EACTqK,EAAG,EACHvG,KAAMzD,EAAI+E,SAoGkDwyE,CAAgBv3E,EAAKR,GAAawL,EAAMpK,KAAKZ,EAAKR,GAQhH,OANIqmD,IACFA,EAAOzrC,UAAU,SAAUpa,EAAIi/B,QAC/B4mB,EAAOpmD,GAAKO,EAAIwvE,aAAexvE,EAAIP,GAAKO,EAAIwvE,aAAexvE,EAAIP,GAC/DomD,EAAO9iD,KAAOjS,KAAKiS,MAGd8iD,GAETT,eAAgB,SAAwBnuD,EAAMopC,GAC5C,IACIr3B,EADAgC,EAAQla,KAAKi0D,SAAS9tD,GAG1B,GAAI+T,EAAMo6C,eACRp8C,EAAcgC,EAAMo6C,eAAe/kB,OAC9B,CACLr3B,EAtIN,SAAyBhJ,GACvB,IAAIslC,EAAc,CAChB9hC,UAAW,EACXc,OAAQ,GAGV,OADAwqE,GAAexpC,EAAatlC,GACrBslC,EAgIW,CAAgBjF,GAC9B,IAAIt2B,EAAS2qE,GAAYz9E,GAEZ,QAATA,IACF8S,EAAS2qE,GAAYxwE,KACrB8E,EAAY5C,SAAW4C,EAAY5C,UAAYqwE,IAGpC,SAATx/E,IACF8S,EAAS2qE,GAAYxwE,KACrB8E,EAAY5C,SAAW4C,EAAY5C,UAAYswE,IAGjD1tE,EAAYe,OAASA,EAGvB,IAAItD,EAAQ3V,KAAK0zD,OACbE,EAAY15C,EAAMjI,KAMtB,OAJI0D,GAASA,EAAMvC,MAAQuC,EAAMvC,KAAKwgD,KACpC17C,EAAc,OAAM,GAAIvC,EAAMvC,KAAKwgD,GAAWz5C,QAASjC,IAGlDA,KAIXm9C,GAAc,OAAQ,OAAQ,CAC5BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAO,GAASlN,GAAK,GAEzB,OAAOR,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,SAMdi5C,GAAc,OAAQ,MAAO,CAC3BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAO,GAASlN,GAAK,GAEzB,OAAOR,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,CACvB/O,SAAUqwE,IACTthE,GAAQ,CACTjI,KAAMA,SAMdi5C,GAAc,OAAQ,OAAQ,CAC5BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAO,GAASlN,GAAK,GAEzB,OAAOR,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,CACvB/O,SAAUswE,IACTvhE,GAAQ,CACTjI,KAAMA,SAMdi5C,GAAc,OAAQ,SAAU,CAC9BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBoX,EAAQtmB,KAAKmzD,WAEjBjkD,EAAI2hD,WAAa,CAAC,CAACvqC,EAAMpV,MAAMtC,EAAG0X,EAAMnV,IAAItC,GAAI,CAACyX,EAAMnV,IAAIvC,EAAG0X,EAAMpV,MAAMrC,IAE1E,IAAIuN,EAAO,GAASlN,GAAK,GAEzB,OAAOR,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,SAMdi5C,GAAc,OAAQ,KAAM,CAC1BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAOgqE,GAAuBl3E,GAAK,SAAUqE,EAAO69C,GACtD,MAAO,CAAC,CACNxiD,EAAGwiD,EAAUxiD,EACbC,EAAG0E,EAAM1E,OAIb,OAAOH,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,SAKdi5C,GAAc,OAAQ,KAAM,CAC1BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAOgqE,GAAuBl3E,GAAK,SAAUqE,EAAO69C,GACtD,MAAO,CAAC,CACNxiD,EAAG2E,EAAM3E,EACTC,EAAGuiD,EAAUviD,OAIjB,OAAOH,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,SAKdi5C,GAAc,OAAQ,MAAO,CAC3BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAOgqE,GAAuBl3E,GAAK,SAAUqE,EAAO69C,GACtD,IAAIs1B,GAAWt1B,EAAUxiD,EAAI2E,EAAM3E,GAAK,EACxC,MAAO,CAAC,CACNA,EAAG83E,EACH73E,EAAG0E,EAAM1E,GACR,CACDD,EAAG83E,EACH73E,EAAGuiD,EAAUviD,OAIjB,OAAOH,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,SAKdi5C,GAAc,OAAQ,MAAO,CAC3BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAUnV,GAElBkN,EAAOgqE,GAAuBl3E,GAAK,SAAUqE,EAAO69C,GACtD,IAAIu1B,GAAWpzE,EAAM1E,EAAIuiD,EAAUviD,GAAK,EACxC,MAAO,CAAC,CACND,EAAG2E,EAAM3E,EACTC,EAAG83E,GACF,CACD/3E,EAAGwiD,EAAUxiD,EACbC,EAAG83E,OAIP,OAAOj4E,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,SAKC,UCvQA,GAvDf,SAAUnX,GAGR,SAAS2hF,EAAK13E,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,OACNmvD,UAAW,OACXspB,cAAc,EACdJ,iBAAiB,GAChBtvE,KAASlP,KAKZ,OAHAkF,EAAMmL,IAAI,eAAgB,IAGnBnL,EAsCT,OAnDA,qBAAU0hF,EAAM3hF,GAsBhB2hF,EAAKhnF,UAAU40E,WAAa,SAAU7zE,GACpC,IAAIkmF,EAAU5hF,EAAOrF,UAAU40E,WAAW10E,KAAKE,KAAMW,GAEjDmlF,EAAU9lF,KAAKqzE,UAAU,SAC7B,OAAO,oBAAS,oBAAS,GAAIwT,GAAU,CACrCf,QAASA,EACTtH,gBAAiBx+E,KAAKid,IAAI,sBAI9B2pE,EAAKhnF,UAAUkQ,KAAO,SAAU2P,EAAM/Q,EAAW4hE,EAAchsE,GAC7D,IAAIY,EAAQlF,KAER++E,EAAa,GAAUt/D,EAAMzf,KAAKid,IAAI,gBAAiBjd,KAAKytB,YAAYma,OACxE14B,EAAMlP,KAAKw0E,WAAW/0D,EAAK,IAC/BvQ,EAAIi/B,OAAS1uB,EAEb,QAAOs/D,GAAY,SAAUrJ,EAASgJ,GACpC,IAAK,WAAUhJ,GAAU,CACvBxmE,EAAIwvE,aAAeA,EAEnBxvE,EAAIoZ,OAASotD,EACb,IAAIjB,EAAYnE,EAAazb,UAAU3lD,EAAIgL,MAAOhL,EAAKR,GAEvDxJ,EAAMkuE,gBAAgBqB,EAAWnwE,EAAQo6E,QAKxCkI,EApDT,CAqDE,IC5Ca,GAbf,SAAU3hF,GAGR,SAAS20C,EAAK1qC,GACZ,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,OACNirE,UAAU,GACTliE,KAASlP,KAGd,OATA,qBAAU45C,EAAM30C,GAST20C,EAVT,CAWE,ICPF,QAAOiqC,IAAc,SAAUe,EAAM3rE,GAGnC,UAAO4rE,eAAeC,SAAS7rE,EAAQ2rE,MAMzC,SAAS,GAAa11E,GACpB,IAAI43E,EAAa53E,EAAI3K,MAOrB,OANAw5E,GAAa+I,EAAY53E,GAErB,YAAWA,EAAIhJ,QACjB4gF,EAAWtzE,OAAStE,EAAIhJ,MAGnB4gF,EAGT,SAAS,GAAa53E,GACpB,IAAI43E,EAAa53E,EAAI3K,MAOrB,OANAy5E,GAAe8I,EAAY53E,GAEvB,YAAWA,EAAIhJ,QACjB4gF,EAAWtzE,OAAStE,EAAIhJ,MAGnB4gF,EAYT,IAAIC,GAAoB7xB,GAAqB,QAAS,CACpDnB,iBAAkB,eAClBM,iBAAkB,SAA0BF,GAC1C,OAAO,GAAYA,MAIvBkB,GAAc,QAAS,OAAQ,CAC7BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAIs4E,EAAY,GAAa93E,GACzBkN,EAnBR,SAAqBlN,GACnB,IAAIN,EAAIM,EAAIoZ,OAAO,GAAG1Z,EAClBC,EAAIK,EAAIoZ,OAAO,GAAGzZ,EAClBisB,EAAI5rB,EAAIhJ,KAAK,GACb+J,EAAIf,EAAIhJ,KAAK,GAEjB,MADW,CAAC,CAAC,IAAK0I,EAAI,GAAMksB,EAAGjsB,EAAI,GAAMoB,GAAI,CAAC,IAAKrB,EAAI,GAAMksB,EAAGjsB,EAAI,GAAMoB,GAAI,CAAC,IAAKrB,EAAI,GAAMksB,EAAGjsB,EAAI,GAAMoB,GAAI,CAAC,IAAKrB,EAAI,GAAMksB,EAAGjsB,EAAI,GAAMoB,GAAI,CAAC,MAcpIg3E,CAAY/3E,GAOvB,OANAkN,EAAOpc,KAAKozD,UAAUh3C,GACT1N,EAAUge,SAAS,OAAQ,CACtCrI,MAAO,OAAM2iE,EAAW,CACtB5qE,KAAMA,OAKZk4C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,OACRzF,OAAQ,KAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAIX,QA/Da,CAAC,SAAU,SAAU,SAAU,UAAW,UAAW,WAAY,iBA+D/D,SAAUgC,GACvBm7C,GAAc,QAASn7C,EAAO,CAC5BpK,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACzB,OAAOR,EAAUge,SAAS,SAAU,CAClCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCpL,OAAQiB,EACRtL,EAAGM,EAAIN,EACPC,EAAGK,EAAIL,OAIbylD,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQiB,EACR1G,OAAQ,KAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAIXm9C,GAAc,QAAS,SAAW,cAAan7C,GAAQ,CACrDpK,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACzB,OAAOR,EAAUge,SAAS,SAAU,CAClCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCpL,OAAQiB,EACRtL,EAAGM,EAAIN,EACPC,EAAGK,EAAIL,OAIbylD,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQiB,EACR1G,OAAQ,KAGV,OADAwqE,GAAe9lE,EAAaq3B,GACrBr3B,QAMb,QA3GoB,CAAC,QAAS,OAAQ,OAAQ,SAAU,SA2GlC,SAAUgC,GAC9Bm7C,GAAc,QAASn7C,EAAO,CAC5BpK,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,GAAanV,GACzB,OAAOR,EAAUge,SAAS,SAAU,CAClCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCpL,OAAQiB,EACRtL,EAAGM,EAAIN,EACPC,EAAGK,EAAIL,OAIbylD,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQiB,EACR1G,OAAQ,KAGV,OADAwqE,GAAe9lE,EAAaq3B,GACrBr3B,QAMbm9C,GAAc,QAAS,QAAS,CAC9BvlD,KAAM,SAAcZ,EAAKR,GAEvB,OADAQ,EAAIoZ,OAAStoB,KAAKwzD,YAAYtkD,EAAIoZ,QAC3B5Z,EAAUge,SAAS,QAAS,CACjCrI,MAAO,CACLzV,EAAGM,EAAIoZ,OAAO,GAAG1Z,EAAIM,EAAIhJ,KAAO,EAChC2I,EAAGK,EAAIoZ,OAAO,GAAGzZ,EAAIK,EAAIhJ,KACzB1B,MAAO0K,EAAIhJ,KACX4I,OAAQI,EAAIhJ,KACZ6nD,IAAK7+C,EAAIgL,MAAM,OAIrBo6C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,KAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAIX,IAAIgvE,GAAiB,YAAU,SAAU9qE,GACvC,IAAI+qE,EAAW,GAAyB/qE,GAEpCgrE,EAAO,WAAUD,GAAUhtB,QAAO,SAAUktB,GAC9C,OAAO,YAAWA,MAGpB,MAAO,CACL94D,MAAOrQ,KAAKyH,IAAI5lB,MAAM,KAAMqnF,GAAQlpE,KAAKuR,IAAI1vB,MAAM,KAAMqnF,GACzDD,SAAUA,MAKd9xB,GAAc,QAAS,OAAQ,CAC7BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAAQ,OAAM,GAAI,GAAanV,GAAM,GAAaA,IAElDkN,EAAOlN,EAAIgL,MAAM,GACjBhU,EAAOgJ,EAAIhJ,MAAQ,GACnBohF,EAAWJ,GAAe9qE,GAC1BuR,EAAQznB,EAAOohF,EAAS/4D,MACxB1e,EAAY,GAEZwU,EAAMnC,SACRrS,EAAUW,KAAK,CAAC,IAAK6T,EAAMnC,OAAS,IAAMhE,KAAKK,YACxC8F,EAAMnC,QAGf,IAAIhI,EAAQxL,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMkrE,EAASH,aAKnB,OAFAt3E,EAAUW,KAAK,CAAC,IAAKmd,EAAOA,GAAQ,CAAC,IAAKze,EAAIN,EAAGM,EAAIL,IACrDqL,EAAMrK,UAAUA,GACTqK,GAETo6C,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,KAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAGI,UCnKA,GA9Cf,SAAUjT,GAGR,SAASsiF,EAAMr4E,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,QACNmvD,UAAW,QACX6b,gBAAgB,EAChBE,cAAc,GACbniE,KAASlP,KAKZ,OAFAkF,EAAMmL,IAAI,eAAgB,IAEnBnL,EA6BT,OA1CA,qBAAUqiF,EAAOtiF,GAiBjBsiF,EAAM3nF,UAAUqvD,UAAY,SAAUtuD,EAAK+N,EAAW4hE,EAAchsE,GAClE,IAAIY,EAAQlF,KAERka,EAAQvZ,EAAIuZ,MACZhL,EAAMlP,KAAKw0E,WAAW7zE,GAE1B,GAAI,WAAUA,EAAIkO,GAAI,CACpB,IAAI24E,EAAmBxnF,KAAKqzE,UAAU,SAEtC,QAAO1yE,EAAIkO,GAAG,SAAUA,EAAG6B,GAIzB,GAHAxB,EAAIL,EAAIA,EACRK,EAAI8lD,OAAStkD,GAER82E,GAA4B,IAAR92E,EAAW,CAClC,IAAI+jE,EAAYnE,EAAazb,UAAU36C,EAAOhL,EAAKR,GAEnDxJ,EAAMkuE,gBAAgBqB,EAAWnwE,EAAQoM,YAGxC,IAAK,SAAQ/P,EAAIkO,GAAI,CAC1B,IAAI4lE,EAAYnE,EAAazb,UAAU36C,EAAOhL,EAAKR,GACnD1O,KAAKozE,gBAAgBqB,EAAWnwE,KAI7BijF,EA3CT,CA4CE,ICvCF,SAAS,GAAQj/D,GAKf,IAJA,IAAI9J,EAAO8J,EAAO,GACd/oB,EAAI,EACJ6c,EAAO,CAAC,CAAC,IAAKoC,EAAK5P,EAAG4P,EAAK3P,IAExBtP,EAAI+oB,EAAO7oB,QAAQ,CACxB,IAAI4f,EAAIiJ,EAAO/oB,GAEX8f,EAAEzQ,IAAM0Z,EAAO/oB,EAAI,GAAGqP,GAAKyQ,EAAExQ,IAAMyZ,EAAO/oB,EAAI,GAAGsP,IACnDuN,EAAK5L,KAAK,CAAC,IAAK6O,EAAEzQ,EAAGyQ,EAAExQ,IAEnBwQ,EAAEzQ,IAAM4P,EAAK5P,GAAKyQ,EAAExQ,IAAM2P,EAAK3P,GAAKtP,EAAI+oB,EAAO7oB,OAAS,IAC1D+e,EAAO8J,EAAO/oB,EAAI,GAClB6c,EAAK5L,KAAK,CAAC,MACX4L,EAAK5L,KAAK,CAAC,IAAKgO,EAAK5P,EAAG4P,EAAK3P,IAC7BtP,MAIJA,IAQF,OALK,WAAU6c,EAAKA,EAAK3c,OAAS,GAAI+e,IACpCpC,EAAK5L,KAAK,CAAC,IAAKgO,EAAK5P,EAAG4P,EAAK3P,IAG/BuN,EAAK5L,KAAK,CAAC,MACJ4L,EAGT,SAASqrE,GAAel4C,GACtB,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,GAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,EAGT,IAAIwvE,GAAsBxyB,GAAqB,UAAW,CACxDnB,iBAAkB,UAClBM,iBAAkB,SAA0BF,GAC1C,IAAI7rC,EAAS,GAUb,OARA,QAAO6rC,EAAUvlD,GAAG,SAAU+4E,EAAMrjF,GAClC,IAAIsjF,EAAOzzB,EAAUtlD,EAAEvK,GACvBgkB,EAAO9X,KAAK,CACV5B,EAAG+4E,EACH94E,EAAG+4E,OAIAt/D,KAGX+sC,GAAc,UAAW,UAAW,CAClCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAK,WAAUQ,EAAIoZ,QAAS,CAC1B,IAAIjE,EAtEV,SAAkBnV,GAChB,IAAImV,EAAQnV,EAAI3K,MAEhB,OADAw5E,GAAa15D,EAAOnV,GACbmV,EAmES,CAASnV,GACjBkN,EAAO,GAAQlN,EAAIoZ,QAEvB,OADAlM,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,QAKdk4C,eAAgB,SAAwB/kB,GACtC,OAAOk4C,GAAel4C,MAG1B8lB,GAAc,UAAW,SAAU,CACjCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAK,WAAUQ,EAAIoZ,QAAS,CAC1B,IAAIjE,EAjFV,SAAwBnV,GACtB,IAAImV,EAAQnV,EAAI3K,MAEhB,OADAy5E,GAAe35D,EAAOnV,GACfmV,EA8ESwjE,CAAe34E,GACvBkN,EAAO,GAAQlN,EAAIoZ,QAEvB,OADAlM,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,OAAMA,EAAO,CAClBjI,KAAMA,QAKdk4C,eAAgB,SAAwB/kB,GACtC,OAAOk4C,GAAel4C,MAGX,UClCA,GA7Df,SAAUtqC,GAGR,SAAS6iF,EAAQ54E,GACf,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,UACNmvD,UAAW,UACX6b,gBAAgB,EAChBE,cAAc,GACbniE,KAASlP,KAIZ,OAFAkF,EAAMmL,IAAI,eAAgB,IAEnBnL,EA6CT,OAzDA,qBAAU4iF,EAAS7iF,GAenB6iF,EAAQloF,UAAUy0E,qBAAuB,SAAU1zE,GACjD,IAIIonF,EAJA74E,EAAMjK,EAAOrF,UAAUy0E,qBAAqBv0E,KAAKE,KAAMW,GAEvDiO,EAAIM,EAAIN,EACRC,EAAIK,EAAIL,EAGZ,IAAM,WAAaD,KAAM,WAAaC,GAAK,CAEzC,IAAI6sD,EAAS17D,KAAKi7D,YACdztC,EAASxtB,KAAKytB,YAIdu6D,EAAU,GAFDtsB,EAAOptC,OAAO7uB,OAGvBwoF,EAAU,GAFDz6D,EAAOc,OAAO7uB,OAIvBi8D,EAAOxtC,YAAcV,EAAOU,YAG9Btf,EAAI,CAACA,EAAIo5E,EAASp5E,EAAIo5E,EAASp5E,EAAIo5E,EAASp5E,EAAIo5E,GAChDn5E,EAAI,CAACA,EAAIo5E,EAASp5E,EAAIo5E,EAASp5E,EAAIo5E,EAASp5E,EAAIo5E,IACvC,WAAar5E,IAGtBA,EAAI,EADJm5E,EAAOn5E,GACG,GAAIm5E,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACrCl5E,EAAI,CAACA,EAAIo5E,EAAU,EAAGp5E,EAAIo5E,EAAU,EAAGp5E,EAAIo5E,EAAU,EAAGp5E,EAAIo5E,EAAU,IAC7D,WAAap5E,KAGtBA,EAAI,EADJk5E,EAAOl5E,GACG,GAAIk5E,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAErCn5E,EAAI,CAACA,EAAIo5E,EAAU,EAAGp5E,EAAIo5E,EAAU,EAAGp5E,EAAIo5E,EAAU,EAAGp5E,EAAIo5E,EAAU,IAGxE94E,EAAIN,EAAIA,EACRM,EAAIL,EAAIA,EAGV,OAAOK,GAGF44E,EA1DT,CA2DE,ICpDF,IAAII,GAAmBhzB,GAAqB,OAAQ,CAClDnB,iBAAkB,OAClBM,iBAAkB,SAA0BF,GAC1C,OAAO,GAAYA,MAGvBkB,GAAc,OAAQ,OAAQ,CAC5BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EApBR,SAAsBnV,GACpB,IAAIq2C,EAAYr2C,EAAI3K,MAQpB,OAPAw5E,GAAax4B,EAAWr2C,GAEpB,YAAWA,EAAIhJ,QAEjBq/C,EAAUzwC,SAAW5F,EAAIhJ,MAGpBq/C,EAWO,CAAar2C,GAQzB,OAPYR,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCzV,EAAGM,EAAIN,EACPC,EAAGK,EAAIL,EACP6E,KAAMxE,EAAIwE,UAKhB4gD,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,KAGV,OADAuqE,GAAa7lE,EAAaq3B,GACnBr3B,KAGI,IvC1BmC/R,GAAMi7B,GuC0BzC,MCiCA,GAjEf,SAAUn8B,GAGR,SAAS+nD,EAAK99C,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAM,oBAAS,CACrCmG,KAAM,OACNmvD,UAAW,QACVpmD,KAASlP,KAKZ,OAFAkF,EAAMmL,IAAI,eAAgB,IAEnBnL,EAkDT,OA7DA,qBAAU8nD,EAAM/nD,GAchB+nD,EAAKptD,UAAUitD,QAAU,SAAUjlB,EAAO/f,GACxC,GAAI,YAAW+f,GACb5nC,KAAKqQ,IAAI,iBAAkBu3B,OACtB,CACL,IAAIivB,EAASka,GAAYnpC,GACzB5nC,KAAKqQ,IAAI,iBAAkB,CACzBwmD,OAAQA,EACRhvC,SAAUA,IAId,OAAO7nB,MAITgtD,EAAKptD,UAAUuoF,YAAc,SAAUC,EAAgBj6C,GACrD,IAAI0oB,EAASuxB,EAAevxB,QAAU,GAClChvC,EAAWugE,EAAevgE,SAE9B,GAAIA,EAAU,CAEZ,IAAIhI,EAASg3C,EAAOzyD,KAAI,SAAUwjC,GAChC,OAAOuG,EAAOvG,MAEhB,OAAO/f,EAAS9nB,WAAM,EAAQ8f,GAGhC,OAAOsuB,EAAO0oB,EAAO,KAQvB7J,EAAKptD,UAAU40E,WAAa,SAAU7zE,GACpC,IAAIuO,EAAMjK,EAAOrF,UAAU40E,WAAW10E,KAAKE,KAAMW,GAE7CynF,EAAiBpoF,KAAKid,IAAI,kBAM9B,OAJImrE,IACFl5E,EAAIwE,KAAO1T,KAAKmoF,YAAYC,EAAgBznF,EAAgB,UAGvDuO,GAGF89C,EA9DT,CA+DE,ICpEE,GAEJ,SAAU/nD,GAGR,SAASiiB,EAAKnZ,EAAMmB,GAClB,OAAOjK,EAAOnF,KAAKE,KAAM+N,EAAM,oBAAS,CAItC4G,WAAW,EAKX0zE,aAAa,EAKbxhF,QAAS,IACRqI,KAASlP,KAwEd,OA1FA,qBAAUknB,EAAMjiB,GAqBhBiiB,EAAKtnB,UAAUukE,eAAiB,SAAU1kD,GACxC,IAAIva,EAAQlF,KAER62D,EAAS72D,KAAKkP,IAAI2nD,OAClByxB,EAAczxB,EAAO,GACrB0xB,EAAW1xB,EAAO,GAClB1qC,EAAM,GACNq8D,EAAqB,EACrBC,EAAkB,EAClBC,EAAe,GACfC,EAAY,GAkDhB,OAhDIL,IACFI,EAAe1oF,KAAK+kE,eAAetlD,EAAM6oE,GACzCE,EAAqBE,EAAajpF,QAGhC8oF,IACFI,EAAY3oF,KAAK+kE,eAAetlD,EAAM8oE,GACtCE,EAAkBE,EAAUlpF,QAI9BipF,EAAaxgF,SAAQ,SAAUgsE,EAAMhP,GACnCyjB,EAAUzgF,SAAQ,SAAU+rE,EAAMjf,GAChC,IAAI4zB,EAAa,CAAC,CAChBhhD,MAAO0gD,EACP1nF,MAAOszE,EACP5lD,OAAQo6D,GACP,CACD9gD,MAAO2gD,EACP3nF,MAAOqzE,EACP3lD,OAAQq6D,IAGNE,EAAY,UAASppE,GAAM,SAAUA,GAEvC,OAAO,SAAQmpE,GAAY,SAAUnQ,GACnC,IAAI7wC,EAAQ6wC,EAAU7wC,MAClBhnC,EAAQ63E,EAAU73E,MACtB,OAAO6e,EAAKmoB,KAAWhnC,QAIvB4jE,EAAQ,CACVr+D,KAAMjB,EAAMgK,IAAI/I,KAChB2iF,YAAa5U,EACb6U,SAAU9U,EACVqU,YAAaA,EACbC,SAAUA,EACVS,YAAa9jB,EACb+jB,SAAUj0B,EACVwzB,mBAAoBA,EACpBC,gBAAiBA,EACjBhpE,KAAMopE,EACN53E,OAAQ/L,EAAM2zD,UAAU4vB,EAAiBD,EAAoBtjB,EAAQlQ,IAEvE7oC,EAAI3b,KAAKg0D,SAGNr4C,GAGTjF,EAAKtnB,UAAUykE,WAAa,aAG5Bn9C,EAAKtnB,UAAUy1C,YAAc,aAGtBnuB,EA3FT,CA4FE,I,OC9FK,SAASgiE,GAAaxpF,GAC3B,QAAKA,MACkB,IAAnBA,EAAOsd,SAA2C,kBAAhBtd,EAAOgU,OAAqBhU,EAAOgU,KAAKy1E,QAgBzE,SAASC,GAAU1pF,EAAQ2pF,GAChC,IAAI5lF,EAAS,0BAAe/D,GAK5B,OAHA2pF,EAAOnhF,SAAQ,SAAUw3C,EAAKp7C,GAC5Bb,EAAOkN,OAAO+uC,EAAMp7C,EAAO,EAAG,SAEzBb,EAAOmgB,KAAK,ICTrB,GAAgB,OAAQ,IACxB,GAAgB,OAAQ,IACxB,GAAgB,QAAS,IACzB,GAAgB,WAAY,IAC5B,GAAgB,OAAQ,IACxB,GAAgB,UAAW,IAC3B,GAAgB,OAAQ,IACxB,GAAgB,MAAO,IACvB,GAAgB,QAAS,IACzB,GAAgB,OAAQ,IACxB,GAAgB,UAAW,I3CduBzd,G2CoBpC,O3CpB0Ci7B,G2CoBlC,G3CnBpBikC,GAAO,cAAal/D,KAASi7B,G4CX/B,IAgHe,GA9Gf,WACE,SAASkoD,EAAgBp6E,GACvBlP,KAAKwW,SAAW,MAChBxW,KAAKmO,WAAY,EAEjB,UAASnO,KAAMkP,GAEflP,KAAKysC,QAoGP,OAjGA68C,EAAgB1pF,UAAUqpB,QAAU,WAClC,IAAI/jB,EAAQlF,KAEZ,GAAIA,KAAKka,MAAO,CACd,IAAI2wB,EAAO7qC,KAAKka,MAAM+O,UAEtB,GAAmB,IAAfjpB,KAAKsE,MACP,OAAOumC,EAGT,IAAI0+C,EAAYvpF,KAAK4vC,KAAKj6B,MAAM/T,YAAYiF,QAU5C,OARI,WAAU0iF,IACZ,QAAOA,GAAW,SAAUC,EAAIllF,GACE,oBAArBilF,EAAUjlF,KACnBilF,EAAUjlF,GAASilF,EAAUjlF,GAAOY,EAAM0qC,KAAKrhC,QAAQ8I,OAAOb,cAK7D,IAAI,QAAKq0B,EAAKriB,KAAMqiB,EAAKpiB,KAAMoiB,EAAKrmC,MAAOqmC,EAAK/7B,OAASy6E,EAAU,IAG5E,OAAO,MAGTD,EAAgB1pF,UAAUmQ,MAAQ,WAC5B/P,KAAKka,OACPla,KAAKka,MAAMkO,KAAK,OAAQ,KAI5BkhE,EAAgB1pF,UAAUoQ,QAAU,WAC9BhQ,KAAKka,OACPla,KAAKka,MAAM/J,SAGbnQ,KAAKmO,WAAY,GAGnBm7E,EAAgB1pF,UAAU6sC,MAAQ,WAChC,IAAIogB,EAAU7sD,KAAKypF,eAEnBzpF,KAAKka,MAAQla,KAAK0O,UAAUge,SAAS,OAAQ,CAC3CrI,MAAO,OAAM,CACXzV,EAAG5O,KAAK0pF,WACR76E,EAAG7O,KAAK2pF,UACRj2E,KAAMm5C,GACL7sD,KAAKuE,SAEVvE,KAAKka,MAAMjI,KAAOjS,KAAKiS,MAQzBq3E,EAAgB1pF,UAAU6pF,aAAe,WACvC,IAAIjlF,EAAQxE,KAAK4pF,aACbrlF,EAAQvE,KAAKuE,MACbslF,EAAc7pF,KAAK0T,KACnBo2E,EAAS,IAAI,QAAK,CACpBzlE,MAAO,oBAAS,CACd3Q,KAAM,GACN9E,EAAG,EACHC,EAAG,GACFtK,KAGDwlF,EADUF,EAAYhmE,MAAM,MACHzf,KAAI,SAAU4lF,GAKzC,IAJA,IAAIt2E,EAAO,GACPu2E,EAAQD,EAAYnmE,MAAM,IAC1BqmE,EAAa,GAER3qF,EAAI,EAAGA,EAAI0qF,EAAMxqF,OAAQF,IAAK,CACrC,IAAI+H,EAAO2iF,EAAM1qF,GAIjB,GAHAuqF,EAAO1hE,KAAK,OAAQ1U,GAAQpM,GACTwiF,EAAO7gE,UAAUzkB,MAAQ,EAEzBA,EAAO,CAExB,GAAU,IAANjF,EACF,MAGF2qF,EAAW15E,KAAKjR,GAChBmU,EAAO,IAIX,OAAO01E,GAAUa,EAAOC,MAG1B,OADAJ,EAAO35E,SACA45E,EAAenmE,KAAK,OAGtB0lE,EA3GT,GCTWa,GAAmB,WAG5B,IAFA,IAAIC,EAAa,GAERh6D,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCg6D,EAAWh6D,GAAM5wB,UAAU4wB,GAG7B,OAAO,SAAU1c,EAAMpM,EAAMoJ,GAC3B,OAAO05E,EAAWC,QAAO,SAAUC,EAASr7D,GAC1C,OAAOA,EAAUq7D,EAAShjF,EAAMoJ,KAC/BgD,KAQI,GAAwB,SAA+B62E,GAChE,OAAO,SAAU72E,EAAMpM,EAAMoJ,GAC3B,IAAI22E,EAAM3kE,OAAOhP,GACjB,OAAOwhB,MAAMmyD,IAAQ,iBAAMkD,GAAa72E,EAAO2zE,EAAI1kE,QAAQ4nE,KAGpD,GAAqB,SAA4BC,GAC1D,OAAO,SAAU92E,EAAMpM,EAAMoJ,GAC3B,OAAO,iBAAM85E,GAAU92E,EAAOA,EAAO,IAAM82E,ICvB/C,SAASC,GAAgB/qF,EAAQJ,EAAQsoC,GACnCloC,EAAOkoC,KACTtoC,EAAOsoC,GAASloC,EAAOkoC,IAI3B,IA2Je,GAzJf,WACE,SAAS8iD,EAAWx7E,GAClBlP,KAAK2qF,QAAS,EACd3qF,KAAK4vC,KAAO1gC,EAAI0gC,KAChB5vC,KAAKkgC,IAAMhxB,EAAIgxB,IACflgC,KAAKoP,OAiJP,OA9IAs7E,EAAW9qF,UAAUwP,KAAO,WAC1BpP,KAAK2qF,QAAS,EACd,IAAIh1E,EAAQ3V,KAAK4vC,KAAKg7C,eACtB5qF,KAAK6qF,YAAcl1E,GAASA,EAAMW,MAAQX,EAAMW,KAAKtW,KAAKkgC,KAEtDlgC,KAAK8qF,aACP9qF,KAAK+qF,gBAITL,EAAW9qF,UAAUmrF,aAAe,WAClC/qF,KAAK2qF,OAAS,oBAAS,GAAI3qF,KAAKgrF,YAChChrF,KAAKirF,WAAW,QAAUjrF,KAAKkrF,cAAgBlrF,KAAK2qF,OAAOv3E,KAAO,KAClEpT,KAAKirF,WAAW,QAAUjrF,KAAKmrF,cAAgBnrF,KAAK2qF,OAAOt1E,KAAO,KAClErV,KAAKirF,WAAW,YAAcjrF,KAAKorF,kBAAoBprF,KAAK2qF,OAAOx1E,SAAW,KAC9EnV,KAAKirF,WAAW,SAAWjrF,KAAKqrF,eAAiBrrF,KAAK2qF,OAAO11E,MAAQ,KACrEjV,KAAKirF,WAAW,SAAWjrF,KAAKsrF,eAAiBtrF,KAAK2qF,OAAOhpF,MAAQ,KACrE8oF,GAAgBzqF,KAAKgrF,WAAYhrF,KAAK2qF,OAAQ,iBAC9CF,GAAgBzqF,KAAKgrF,WAAYhrF,KAAK2qF,OAAQ,mBAC9CF,GAAgBzqF,KAAKgrF,WAAYhrF,KAAK2qF,OAAQ,oBAGhDD,EAAW9qF,UAAUkrF,UAAY,WAE/B,IAAIS,EAASvrF,KAAK4vC,KAAKrhC,QACnBi9E,EAAcD,EAAOvrF,KAAKkgC,IAAM,QAAUqrD,EAAOvrF,KAAKkgC,IAAM,QAAU,GAEtEyqD,EAAS,WAAU,GAAI3qF,KAAK6qF,YAAaW,GAI7C,OAFAxrF,KAAKgrF,WAAaL,IAEdA,EAAO3tE,SAOb0tE,EAAW9qF,UAAUsrF,YAAc,WACjClrF,KAAK2qF,OAAOv3E,KAAOpT,KAAKgrF,WAAW53E,KAE/BpT,KAAKgrF,WAAW53E,KAAK7O,QACvBvE,KAAK2qF,OAAOv3E,KAAOpT,KAAKgrF,WAAW53E,KAAK7O,OAG1CvE,KAAKyrF,iBAAiB,SAGxBf,EAAW9qF,UAAUurF,YAAc,WACjC,IAAIjmF,EAAQlF,KAGRuE,EADUvE,KAAKgrF,WAAW31E,KACV9Q,MAEhB,cAAaA,GAEfvE,KAAK2qF,OAAOt1E,KAAO,SAAU3B,EAAMpP,EAAOi4B,GACxC,IAAIrtB,EAAM3K,EAAMmP,EAAMpP,EAAOi4B,GAC7B,OAAO,WAAU,GAAI,OAAMr3B,EAAM2lF,YAAa,cAAe37E,IAEtD3K,IACTvE,KAAK2qF,OAAOt1E,KAAO9Q,EACnBvE,KAAKyrF,iBAAiB,UAI1Bf,EAAW9qF,UAAUwrF,gBAAkB,WACrCprF,KAAK2qF,OAAOx1E,SAAWnV,KAAKgrF,WAAW71E,SAEnCnV,KAAKgrF,WAAW71E,SAAS5Q,QAC3BvE,KAAK2qF,OAAOx1E,SAAWnV,KAAKgrF,WAAW71E,SAAS5Q,OAGlDvE,KAAKyrF,iBAAiB,aAGxBf,EAAW9qF,UAAUyrF,aAAe,WAClC,IAAI7lF,EAAKxF,KAAKgrF,WAAW/1E,MACrB1Q,EAAQiB,EAAGjB,MACXmnF,EAAiB,kBAAOlmF,EAAI,CAAC,UAE7BmmF,EAAc,oBAAS,GAAID,GAE3BnnF,IACFonF,EAAY92E,UAAY7U,KAAKgrF,WAAW/1E,MAAM1Q,OAGhDonF,EAAY92E,UAAY,WAAU,GAAI,OAAM7U,KAAK6qF,YAAa,eAAgBc,EAAY92E,WAC1F,IAAIoa,EAAYjvB,KAAK4rF,eAAeD,GACpCA,EAAY18D,UAAYA,EACxBjvB,KAAK2qF,OAAO11E,MAAQ02E,GAGtBjB,EAAW9qF,UAAU0rF,aAAe,WAClC,IAAIO,EAAc,oBAAS,GAAI7rF,KAAKgrF,WAAWrpF,OAE3C6D,EAAKxF,KAAKgrF,WAAWrpF,MACrBqb,EAAUxX,EAAGwX,QACbzY,EAAQiB,EAAGjB,MACXmP,EAAOlO,EAAGkO,KAETsJ,GAGHhd,KAAK2qF,OAAOh2E,WAAY,EAEpBpQ,IACFsnF,EAAYh3E,UAAYtQ,GAG1BsnF,EAAYh3E,UAAY,WAAU,GAAI,OAAM7U,KAAK2qF,OAAQ,eAAgBkB,EAAYh3E,WAEjFnB,IACFm4E,EAAYn4E,KAAOA,IAXrB1T,KAAK2qF,OAAOh2E,WAAY,EAe1B3U,KAAK2qF,OAAOhpF,MAAQkqF,GAGtBnB,EAAW9qF,UAAUqrF,WAAa,SAAUh5E,GAC1C,SAAIjS,KAAKgrF,WAAW/4E,KAASjS,KAAKgrF,WAAW/4E,GAAM+K,UAOrD0tE,EAAW9qF,UAAU6rF,iBAAmB,SAAUtlF,GAChDnG,KAAK2qF,OAAOxkF,GAAQ,WAAU,GAAI,OAAMnG,KAAK6qF,YAAa1kF,EAAO,UAAWnG,KAAK2qF,OAAOxkF,KAG1FukF,EAAW9qF,UAAUgsF,eAAiB,SAAUD,GAC9C,IAAI18D,EAAYk7D,ID1IX,SAAUz2E,EAAMpM,EAAMoJ,GAC3B,OAAOgD,ICyI8C,GAAsBi4E,EAAYpB,WAAY,GAAmBoB,EAAYnB,SAMlI,OAJImB,EAAY18D,YACdA,EAAYk7D,GAAiBl7D,EAAW08D,EAAY18D,YAG/CA,GAGFy7D,EAtJT,GCCA,SAASoB,GAAaC,EAAIC,GACxB,OAAOD,EAAGn9E,EAAIo9E,EAAGn9E,EAAIk9E,EAAGl9E,EAAIm9E,EAAGp9E,EA2CjC,SAAS81B,GAAYnxB,EAAO+T,EAAQqd,QACtB,IAARA,IACFA,EAAM,GAGR,IAAIC,EAAS,CAACrxB,EAAM3E,EAAG2E,EAAM1E,EAAG81B,GAEhC,OADA,GAAgBE,cAAcD,EAAQA,EAAQtd,GACvC,CACL1Y,EAAGg2B,EAAO,GACV/1B,EAAG+1B,EAAO,IA4Cd,SAASqnD,GAAiB5rF,EAAGgT,GAI3B,IAFA,IAAI64E,GAAS,EAEJ3sF,EAAI,EAAGuhB,EAAIzN,EAAQ5T,OAAS,EAAGF,EAAI8T,EAAQ5T,OAAQqhB,EAAIvhB,IAAK,CACnE,IAAIgpC,EAAKl1B,EAAQ9T,GAAGqP,EAChB45B,EAAKn1B,EAAQ9T,GAAGsP,EAChBs9E,EAAK94E,EAAQyN,GAAGlS,EAChBw9E,EAAK/4E,EAAQyN,GAAGjS,EACJ25B,EAAKnoC,EAAEwO,IAAMu9E,EAAK/rF,EAAEwO,GAAKxO,EAAEuO,IAAMu9E,EAAK5jD,IAAOloC,EAAEwO,EAAI25B,IAAO4jD,EAAK5jD,GAAMD,IAGnF2jD,GAAUA,GAId,OAAOA,EAGT,SAASG,GAAI/uE,GACX,OAAOA,EAAIA,EAGb,SAAS,GAAMD,EAAGuC,GAChB,OAAO1B,KAAKmE,KAAKgqE,GAAIhvE,EAAEzO,EAAIgR,EAAEhR,GAAKy9E,GAAIhvE,EAAExO,EAAI+Q,EAAE/Q,IAGhD,SAASy9E,GAAkBjvE,EAAGuC,GAC5B,OAAO1B,KAAKmE,KAAKgqE,GAAIhvE,EAAEzO,EAAIgR,EAAEhR,GAAKy9E,GAAIhvE,EAAExO,EAAI+Q,EAAE/Q,IAGhD,SAAS09E,GAAqBlsF,EAAG4pE,EAAI7lD,GACnC,IAAIooE,EAAK,GAAMviB,EAAI7lD,GAEnB,GAAW,IAAPooE,EACF,OAAO,GAAMnsF,EAAG4pE,GAGlB,IAAI7pE,IAAMC,EAAEuO,EAAIq7D,EAAGr7D,IAAMwV,EAAGxV,EAAIq7D,EAAGr7D,IAAMvO,EAAEwO,EAAIo7D,EAAGp7D,IAAMuV,EAAGvV,EAAIo7D,EAAGp7D,IAAM29E,EACxEpsF,EAAI8d,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,EAAGrvB,IAC5B,IAAIqsF,EAAa,GAAMpsF,EAAG,CACxBuO,EAAGq7D,EAAGr7D,EAAIxO,GAAKgkB,EAAGxV,EAAIq7D,EAAGr7D,GACzBC,EAAGo7D,EAAGp7D,EAAIzO,GAAKgkB,EAAGvV,EAAIo7D,EAAGp7D,KAE3B,OAAOqP,KAAKmE,KAAKoqE,GAInB,SAASC,GAA2BrsF,EAAGgT,GACrC,IAAIoc,EAAMmJ,IAGV,QAAOvlB,GAAS,SAAUiK,GACxB,IAAIinC,EAAOrmC,KAAKmE,KAAK,GAAM/E,EAAGjd,IAE1BovB,EAAM80B,IACR90B,EAAM80B,MAMV,IAAK,IAAIhlD,EAAI,EAAGuhB,EAAIzN,EAAQ5T,OAAS,EAAGF,EAAI8T,EAAQ5T,OAAQqhB,EAAIvhB,IAAK,CACnE,IAAIgpC,EAAKl1B,EAAQ9T,GAAGqP,EAChB45B,EAAKn1B,EAAQ9T,GAAGsP,EAChBs9E,EAAK94E,EAAQyN,GAAGlS,EAChBw9E,EAAK/4E,EAAQyN,GAAGjS,EAChB01C,EAAOgoC,GAAqBlsF,EAAG,CACjCuO,EAAG25B,EACH15B,EAAG25B,GACF,CACD55B,EAAGu9E,EACHt9E,EAAGu9E,IAGD38D,EAAM80B,IACR90B,EAAM80B,GAIV,OAAO90B,EAgBT,SAASk9D,GAA4BC,EAAOC,GAC1C,GAdF,SAA+BD,EAAOC,GACpC,IAAK,IAAIz8D,EAAK,EAAG08D,EAAUF,EAAOx8D,EAAK08D,EAAQrtF,OAAQ2wB,IAAM,CAI3D,GAFa67D,GADLa,EAAQ18D,GACiBy8D,GAG/B,OAAO,EAIX,OAAO,EAIHE,CAAsBH,EAAOC,GAC/B,OAAO,EAGT,IAAIG,EAAOp0D,IACPq0D,EAAOr0D,IAkBX,OAhBA,QAAOg0D,GAAO,SAAUtvE,GACtB,IAAI4vE,EAAWR,GAA2BpvE,EAAGuvE,GAEzCG,EAAOE,IACTF,EAAOE,MAIX,QAAOL,GAAO,SAAUvvE,GACtB,IAAI4vE,EAAWR,GAA2BpvE,EAAGsvE,GAEzCK,EAAOC,IACTD,EAAOC,MAIJhvE,KAAKuR,IAAIu9D,EAAMC,GAoFxB,SAASE,GAAmB7kE,GAC1B,OAAIA,EAAO7oB,OAAS,EACX6oB,EAOX,SAAS8kE,EAAe9kE,EAAQ+kE,GAM9B,IALA,IAAI5pF,EACAkiB,GAAOiT,IACPt0B,EAAQ,EACRgpF,EAAWhlE,EAAO7oB,OAAS,EAEtBF,EAAI,EAAGA,EAAI+tF,EAAU/tF,IAAK,CACjC,IAAIgU,EAAQ+U,EAAO/oB,GACf6T,EAAO,CACTlC,MAAOoX,EAAO,GACdnX,IAAKmX,EAAOglE,IAEV/oC,EAAOgoC,GAAqBh5E,EAAOH,EAAKlC,MAAOkC,EAAKjC,KAEpDozC,EAAO5+B,IACTA,EAAM4+B,EACNjgD,EAAQ/E,GAIZ,GAAIomB,EAAM0nE,EAAW,CACnB,IAAIE,EAAQH,EAAe9kE,EAAOhD,MAAM,EAAGhhB,EAAQ,GAAI+oF,GACnDG,EAAQJ,EAAe9kE,EAAOhD,MAAMhhB,EAAOgkB,EAAO7oB,QAAS4tF,GAC/D5pF,EAAS8pF,EAAMlsF,OAAOmsF,QAEtB/pF,EAAS,CAAC6kB,EAAO,GAAIA,EAAOA,EAAO7oB,OAAS,IAG9C,OAAOgE,EAhCA2pF,CAAe9kE,EAPR,GA4ChB,SAASmlE,GAAUC,GACjB,IAAIC,EAAO,SAAQD,GAEnBC,EAAK52D,MAAK,SAAU1Z,EAAGuC,GACrB,OAAOvC,EAAIuC,KAEb,IAAI+a,EAAOzc,KAAK2V,MAAM85D,EAAKluF,OAAS,GAEpC,OAAIkuF,EAAKluF,OAAS,EACTkuF,EAAKhzD,IAGNgzD,EAAKhzD,EAAO,GAAKgzD,EAAKhzD,IAAS,EAazC,SAASizD,GAAQt/D,GACf,OAAOpQ,KAAKmd,KAAKnd,KAAK0Z,IAAItJ,EAAO7uB,QAAUye,KAAK2vE,KAAO,EC1XzD,ICDI,GACA,GD8HW,GA5Hf,WACE,SAASC,EAAU5+E,GACjB,UAASlP,KAAMkP,GAEflP,KAAKysC,QAqHP,OAlHAqhD,EAAUluF,UAAU6sC,MAAQ,WAC1B,IAAIhsC,EAAQT,KAAK4vC,KAAKrhC,QAClBw/E,EAAe/tF,KAAKguF,kBACpBC,EAAa,CACf9nF,KAAM,OACNoQ,KAAK,EACLrF,MAAOlR,KAAKkP,IAAIgC,MAChBC,IAAKnR,KAAKkP,IAAIiC,KAOhB,GALA88E,EAAW76E,KAAO,WAAU,GAAI26E,EAAa36E,KAAM,CACjD7O,MAAOvE,KAAKkP,IAAIsK,YAElBy0E,EAAWv6E,KAAO,WAAU,GAAIq6E,EAAar6E,KAAM1T,KAAKkP,IAAIwE,MAExD1T,KAAKkP,IAAI/I,KAAM,CACjB,IAAI+nF,EAAaluF,KAAKmuF,UAAUnuF,KAAKkP,IAAI/I,MAErCioF,EAAWpuF,KAAKmuF,UAAU,OAE1BE,EAAWruF,KAAKmuF,UAAU,OAU1Bv+D,EAA4C,KAAjC,EANH,IAFA,GAAS,UAET,CAAU,OAAM,GAAI,CAC9BH,IAAwB,WAAnBzvB,KAAK4vC,KAAKzpC,KAAoB,EAAIioF,EACvCzoE,IAAK0oE,EACL/2D,MAAM,EACNhJ,OAAQtuB,KAAKsuB,QACZtuB,KAAK4vC,KAAK+6C,OAAOzjD,OAAOzmC,EAAMs/B,UACNpS,MAAMugE,IAAqB,IAClDh9E,EAAQ,CAAC,KAAM0e,GACfze,EAAM,CAAC,OAAQye,GACnB5vB,KAAK2qF,OAAS,OAAM,CAClBz5E,MAAOA,EACPC,IAAKA,GACJ88E,QAEHjuF,KAAK2qF,OAASsD,GAIlBH,EAAUluF,UAAUuuF,UAAY,SAAUhoF,GAGxC,OAFAnG,KAAKsuB,OAAStuB,KAAKsuF,iBAEN,WAATnoF,EACKsnF,GAAUztF,KAAKsuB,QAGX,SAATnoB,EDsTR,SAAiBunF,GACf,IAAI/7B,EAAM,EAMV,OAJA,QAAO+7B,GAAO,SAAUrG,GACtB11B,GAAO01B,KAGF11B,EAAM+7B,EAAMjuF,OC5TR8uF,CAAQvuF,KAAKsuB,QAGT,QAATnoB,EACK+X,KAAKyH,IAAI5lB,MAAMme,KAAMle,KAAKsuB,QAGtB,QAATnoB,EACK+X,KAAKuR,IAAI1vB,MAAMme,KAAMle,KAAKsuB,aADnC,GAKFw/D,EAAUluF,UAAU0uF,eAAiB,WACnC,IAAI7tF,EAAQT,KAAK4vC,KAAKrhC,QAClBq5B,EAAQnnC,EAAMs/B,OACdzR,EAAS,GAMb,OAJA,QAAO7tB,EAAMgf,MAAM,SAAUb,GAC3B0P,EAAO9d,KAAKoO,EAAEgpB,OAGTtZ,GAGTw/D,EAAUluF,UAAUouF,gBAAkB,WAEpC,OADAhuF,KAAKwuF,sBACE,CACLp7E,KAAM,CACJ7O,MAAO,CACLmO,UAAW,EACXI,OAAQ,UACRe,QAAS,GACTyB,SAAU,CAAC,EAAG,KAGlB5B,KAAM,CACJ62B,SAAU,EACVhmC,MAAO,CACLuQ,SAAU,GACVhC,OAAQ,QACRJ,UAAW,EACXiB,UAAW3T,KAAKwuF,0BAMxBV,EAAUluF,UAAU4uF,oBAAsB,WACxC,IAAIC,EAAazuF,KAAKkP,IAAIwE,KAE1B,GAAI+6E,EAAY,CACd,IAAKA,EAAWj4E,UAAoC,UAAxBi4E,EAAWj4E,SACrC,MAAO,OAGT,GAA4B,WAAxBi4E,EAAWj4E,SACb,MAAO,SAGT,GAA4B,QAAxBi4E,EAAWj4E,SACb,MAAO,UAKNs3E,EAzHT,GE4Ge,GA5Gf,WACE,SAASY,EAAYx/E,GACnBlP,KAAK2qF,OAAS,GAEd,IAAI/6C,EAAO1gC,EAAI0gC,KACX++C,EAAO,kBAAOz/E,EAAK,CAAC,SAExBlP,KAAK4vC,KAAOA,EACZ5vC,KAAK4uF,aAAeD,EACpB3uF,KAAKoP,KAAKF,GAgGZ,OA7FAw/E,EAAY9uF,UAAUsvB,UAAY,WAChC,OAAOlvB,KAAK2qF,QAGd+D,EAAY9uF,UAAUwP,KAAO,SAAUF,GACrC,IAAIhK,EAAQlF,KAEZ,UAASA,KAAK2qF,OAAQz7E,GAEtBlP,KAAK2qF,OAAO9iE,SAAW,SAAUwJ,GAG/B,IAFA,IAAIinC,EAAW,GAENloC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCkoC,EAASloC,EAAK,GAAK5wB,UAAU4wB,GAG/B,OAAOlrB,EAAM2pF,cAAc9uF,MAAMmF,EAAO,0BAAe,CAACmsB,GAAMinC,MAIlEo2B,EAAY9uF,UAAUivF,cAAgB,SAAUx9D,GAG9C,IAFA,IAAIinC,EAAW,GAENloC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCkoC,EAASloC,EAAK,GAAK5wB,UAAU4wB,GAG/B,IAAI0+D,EAAa9uF,KAAK4uF,aAClBj5E,EAAQ3V,KAAK4vC,KAAKg7C,eAElBD,EAAS,oBAAS,GAAImE,GA4B1B,OA1BA9uF,KAAK+uF,YAAYD,EAAYnE,GAEzBmE,EAAWt4E,WACT,cAAas4E,EAAWt4E,UAC1Bm0E,EAAOn0E,SAAWs4E,EAAWt4E,SAAS6a,GAEtCs5D,EAAOn0E,SAAWs4E,EAAWt4E,UAIjCxW,KAAK4rF,eAAe7rF,MAAMC,KAAM,0BAAe,CAAC2qF,EAAQt5D,GAAMinC,IAE1Dw2B,EAAWvqF,QACT,cAAauqF,EAAWvqF,OAC1BomF,EAAO91E,UAAYi6E,EAAWvqF,MAAM8sB,GAEpCs5D,EAAO91E,UAAYi6E,EAAWvqF,OAIlComF,EAAO91E,UAAY,WAAU,GAAI,OAAMc,EAAO,eAAgBg1E,EAAO91E,WAEjEi6E,EAAWp1E,aACbixE,EAAOjxE,WAAao1E,EAAWp1E,YAG1BixE,GAGT+D,EAAY9uF,UAAUmvF,YAAc,SAAUtuF,EAAOkqF,GACnD,IACIpuD,EAAQ,EAEZ,QAHa,CAAC,SAAU,UAAW,YAGpB,SAAU3e,GACnB,OAAMnd,EAAOmd,KACf+sE,EAAO/sE,GAAKnd,EAAMmd,GAClB2e,QAKU,IAAVA,GAA4C,WAA7B,OAAM97B,EAAO,cAC9BkqF,EAAO31E,OAAS,IAIpB05E,EAAY9uF,UAAUgsF,eAAiB,SAAUjB,GAG/C,IAFA,IAAIr8D,EAAS,GAEJ8B,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtC9B,EAAO8B,EAAK,GAAK5wB,UAAU4wB,GAG7B,IAAI0+D,EAAa9uF,KAAK4uF,aACtBjE,EAAO17D,UAAYk7D,ILzFd,SAAUz2E,EAAMpM,EAAMoJ,GAC3B,OAAOgD,IKwFiD,GAAsBo7E,EAAWvE,WAAY,GAAmBuE,EAAWtE,SAE/HsE,EAAW7/D,YACb07D,EAAO17D,UAAYk7D,GAAiBQ,EAAO17D,UAAW6/D,EAAW7/D,aAI9Dy/D,EAzGT,GDAA,SAASM,GAASp/C,EAAM6oC,GACjB,IACHwW,GAAiBr/C,GAGnB,QAAO,IAAQ,SAAU36B,EAAO3Q,GAC9B,IAAIkB,EAAK0pF,GAAcj6E,EAAOwjE,GAI9B,GAAI,GAHYjzE,EAAG61D,UACT71D,EAAG2pF,KAEgB,CACV,GAAY7qF,GAA7B,IACI8qF,EAkGD,CACLv7E,QAAS,EACT84C,WAAY,IACZh6C,KAAM,OApGJsC,EAAMiF,MAAMkO,KAAKgnE,OAuBvB,SAASH,GAAiBr/C,GACxB,GAAS,GACT,GAAc,GACd,IAAI4rB,EAAO5rB,EAAK7hC,KAAKkP,IAAI,kBAAkBu+C,KAE3C,QAAOA,GAAM,SAAUllD,GACrB,IAAI+4E,EAAW,GACX1hE,EA6BR,SAAkBiiB,EAAMt5B,GACtB,IAAI7V,EAAQmvC,EAAKrhC,QACb2xB,EAAM,IACN1pB,EAAWF,EAAK2G,IAAI,YAEP,WAAbzG,GAAsC,QAAbA,IAC3B0pB,EAAM,KAGR,IAAIovD,EAAa7uF,EAAMy/B,EAAM,SAC7B,OAAO0P,EAAK7hC,KAAKkP,IAAI,UAAUqyE,GAvCjBznD,CAAS+H,EAAMt5B,GACvBi5E,EAAcj5E,EAAK2G,IAAI,iBAAiBA,IAAI,SAASA,IAAI,YAW7D,GATA,QAAOsyE,GAAa,SAAUr1E,GACT,SAAfA,EAAM/T,OACRkpF,EAAS7+E,KAAK,CACZ0J,MAAOA,IAET,GAAY1J,KAAK0J,EAAMkO,YAIvBuF,EAAO,CAET,IAAIqO,EAAUrO,EAAMa,MAChBwnD,EAAUroD,EAAMia,MAEpB,QAAOynD,GAAU,SAAUp6E,EAAO3Q,GAChC2Q,EAAMrU,MAAQo7B,EAAQ13B,GACtB2Q,EAAMq6E,WAAatZ,EACnB/gE,EAAM9O,KAAOwnB,EAAMxnB,QAIvB,GAAOqK,KAAKzQ,MAAM,GAAQsvF,MAkB9B,SAASH,GAAcj6E,EAAOwjE,GAC5B,IAAIjzE,EAEA61D,IAAa71D,EAAK,IAAOyP,EAAMq6E,YAAcr6E,EAAMrU,MAAO4E,GAE1D2pF,EAAM,SAAQ1W,GAMlB,MAJmB,SAAfxjE,EAAM9O,MAAmB,YAAWsyE,KAAe,cAAa0W,EAAIruB,OACtEquB,EAAIruB,IAAM,IAAIx9D,KAAK6rF,EAAIruB,KAAK3rC,WAGvB,CACLkmC,UAAWA,EACX8zB,IAAKA,GAmBT,SAAS,GAAQhhD,EAAQsqC,GACvB,IAAK,cAAaA,GAAY,CAC5B,IAAIxqC,EAASwqC,EAAUxmE,KACnB6uD,EAAM2X,EAAU3X,IAEpB,QAAK3yB,EAAOF,KAIR,cAAa6yB,GACRA,EAAI3yB,EAAOF,IAGbE,EAAOF,KAAY6yB,GAG5B,OAAO2X,EAAUtqC,GAGJ,QACb/zB,OAAQ40E,GACR9c,SAAU8c,GACVQ,QAzHF,SAAmB5/C,EAAM6oC,GAClB,IACHwW,GAAiBr/C,GAGnB,QAAO,IAAQ,SAAU36B,EAAO3Q,GAC9B,IAAIkB,EAAK0pF,GAAcj6E,EAAOwjE,GAI9B,GAAI,GAHYjzE,EAAG61D,UACT71D,EAAG2pF,KAEgB,CAC3B,IAAIM,EAAa,GAAYnrF,GACzB8qF,EA0ED,CACLv7E,QAAmB,IA3EoB47E,EAyErB57E,SAAW,IAxE3BoB,EAAMiF,MAAMkO,KAAKgnE,SEgDR,GA1Ef,SAAUnqF,GAGR,SAASyqF,EAAaxgF,GACpB,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAIjC,OAFAkF,EAAMy7D,QAAU,GAChBz7D,EAAM07D,YAAc,GACb17D,EA+DT,OAtEA,qBAAUwqF,EAAczqF,GAUxByqF,EAAa9vF,UAAUihE,SAAW,SAAU5uD,EAAM6uD,GAChD9gE,KAAK4gE,YAAY3uD,GAAQ6uD,EAEzB9gE,KAAK+gE,aAGP2uB,EAAa9vF,UAAUohE,SAAW,SAAU/uD,GAC1C,OAAOjS,KAAK2gE,QAAQ1uD,IAGtBy9E,EAAa9vF,UAAUqhE,aAAe,WACpC,OAAOjhE,KAAK2gE,SAGd+uB,EAAa9vF,UAAUmQ,MAAQ,WAC7B/P,KAAK2gE,QAAU,GACf3gE,KAAK4gE,YAAc,GAEf5gE,KAAKkhE,eACPC,aAAanhE,KAAKkhE,cAClBlhE,KAAKkhE,aAAe,OAIxBwuB,EAAa9vF,UAAUmhE,UAAY,WACjC,IAAI77D,EAAQlF,KAERohE,EAAaphE,KAAK4gE,YAElB5gE,KAAKkhE,eACPC,aAAanhE,KAAKkhE,cAClBlhE,KAAKkhE,aAAe,MAGtBlhE,KAAKkhE,aAAeG,YAAW,WAE7B,QAAOD,GAAY,SAAUN,EAAK7uD,GAChC,IAAIqvD,EAAQF,EAAWnvD,GAElB/M,EAAMy7D,QAAQ1uD,IAAS/M,EAAMy7D,QAAQ1uD,KAAU6uD,IAElD57D,EAAMy7D,QAAQ1uD,GAAQ6uD,EAEtB57D,EAAMq8D,cAActvD,EAAMqvD,OAM9Bp8D,EAAM07D,YAAc,KACnB,KAGL8uB,EAAa9vF,UAAU2hE,cAAgB,SAAUtvD,EAAM6uD,GACrD9gE,KAAK0sC,KAAKz6B,EAAO,UAAW,CAC1BA,KAAMA,EACN6uD,IAAKA,KAIF4uB,EAvET,CAwEE,YC/EK,SAAS,GAAQvhD,EAAQsqC,GAC9B,IAAK,cAAaA,GAAY,CAC5B,IAAIxqC,EAASwqC,EAAUxmE,KACnB6uD,EAAM2X,EAAU3X,IAEpB,OAAI,cAAaA,GACRA,EAAI3yB,EAAOF,IAGbE,EAAOF,KAAY6yB,EAG5B,OAAO2X,EAAUtqC,GAGnB,IChBI,GACA,GDmOW,GAlNf,WACE,SAAS+/B,EAAgBh/D,GACvBlP,KAAK2vF,gBAAkB,GAEvB,UAAS3vF,KAAMkP,GA2MjB,OAxMAg/D,EAAgBtuE,UAAUgwF,mBAAqB,SAAU1gF,GACvDlP,KAAK6vF,aAAe,IAAI,GAAa3gF,IAGvCg/D,EAAgBtuE,UAAUkwF,iBAAmB,SAAUC,EAAS7gF,GAC9DlP,KAAK6vF,aAAeE,EAEhB7gF,EAAI2xD,UACN7gE,KAAKgwF,oBAAoB9gF,EAAI2xD,UAG3B3xD,EAAI+gF,eACNjwF,KAAKkwF,oBAAoBhhF,EAAI+gF,gBAIjC/hB,EAAgBtuE,UAAUuwF,cAAgB,SAAUC,GAClD,IAAIlrF,EAAQlF,KAEZ,QAAOowF,GAAQ,SAAU9uB,EAAOn7D,GAC9B,IAAIsyE,EAAYnX,EAAMmX,UAElB4X,GADQ/uB,EAAM/8D,MACJ+8D,EAAM+uB,SAEpBnrF,EAAM27D,SAAS,CACb16D,KAAMA,EACNsyE,UAAWA,EACX4X,QAASA,QAKfniB,EAAgBtuE,UAAUihE,SAAW,SAAU3xD,GAC7C,IAAIhK,EAAQlF,KAERmG,EAAO+I,EAAI/I,KACXsyE,EAAYvpE,EAAIupE,UAChB4X,EAAUnhF,EAAImhF,QAEbrwF,KAAKkW,SACRlW,KAAKkW,OAASlW,KAAKswF,aACnBtwF,KAAKguE,YAAchuE,KAAKuwF,mBAI1B,QAAOvwF,KAAKkW,QAAQ,SAAUgE,EAAO5V,GACnC,IAAIksF,EAAct2E,EAAM+C,IAAI,UAG5B,GAAI,GAFS,WAAUuzE,GAAeA,EAAY,GAAGp1B,QAAUo1B,EAAYp1B,QAEvDqd,GAAY,CAC9B,IAAIgY,EAAavhF,EAAI3K,MAAQ2K,EAAI3K,MAAQW,EAAMwrF,sBAAsBvqF,EAAM+T,GACvEu1E,EAAavqF,EAAM8oE,YAAY1pE,GAC/B+f,OAAQ,EAGVA,EADE,cAAaosE,GACPA,EAAWhB,GAEX,OAAM,GAAIA,EAAYgB,GAGhCv2E,EAAMkO,KAAK/D,GAEXnf,EAAMgqE,UAAU/oE,EAAM+T,OAOtBm2E,GACFrwF,KAAK2wF,eAAexqF,EAAMkqF,EAAS5X,GAGrCz4E,KAAK4vC,KAAK7gC,OAAOe,QAGnBo+D,EAAgBtuE,UAAUowF,oBAAsB,SAAUY,GACxD,IAAI1rF,EAAQlF,KAEZ,QAAO4wF,GAAa,SAAU1hF,GAC5B,IACIpB,EADAwzD,EAAQpyD,EAAIoyD,MAIdxzD,EADE,cAAawzD,GACL,SAAiBnhE,GACzB,IAAID,EAAIohE,EAAMnhE,GAEd+E,EAAM2qF,aAAahvB,SAAS3gE,EAAE+R,KAAM/R,EAAE4gE,MAG9B,WACR57D,EAAM2qF,aAAahvB,SAASS,EAAMrvD,KAAMqvD,EAAMR,MAI9C5xD,EAAIqwC,MACN5xC,GAAQzI,EAAM0qC,KAAM1qC,EAAM2rF,aAAa3hF,EAAIqwC,OAAQzxC,GAEnDA,QAKNogE,EAAgBtuE,UAAUswF,oBAAsB,SAAUY,GACxD,IAAI5rF,EAAQlF,KAEZ,QAAO8wF,GAAa,SAAU5hF,GAC5BhK,EAAM2qF,aAAa7hF,GAAGkB,EAAI+C,KAAO,WAAW,SAAUxR,GACpDyO,EAAI2Y,SAASpnB,EAAOyE,EAAM0qC,aAKhCs+B,EAAgBtuE,UAAU0wF,WAAa,WACrC,IAAIprF,EAAQlF,KAERkW,EAAS,GACT66E,EAAQ/wF,KAAK4vC,KAAK7hC,KAAKkP,IAAI,YAY/B,OAVA,QAAO8zE,GAAO,SAAUC,GACtB,IAAIrxB,EAAiBqxB,EAAK/zE,IAAI,kBAE9B/X,EAAMyqF,gBAAgBn/E,KAAKmvD,GAEtBqxB,EAAK7iF,WACR+H,EAAO1F,KAAKzQ,MAAMmW,EAAQ86E,EAAK5lE,gBAI5BlV,GAGTg4D,EAAgBtuE,UAAU2wF,gBAAkB,WAC1C,IAAIlsE,EAAQ,GAMZ,OAJA,QAAOrkB,KAAKkW,QAAQ,SAAUgE,GAC5BmK,EAAM7T,KAAK,SAAQ0J,EAAMkO,YAGpB/D,GAIT6pD,EAAgBtuE,UAAUixF,aAAe,SAAUtxC,GACjD,IAAI0xC,EAAW1xC,EAAM17B,MAAM,KAG3B,OAFkB7jB,KAAK4vC,KAAKshD,eAAe,KAAMD,EAAS,IAErC,IADLA,EAAS,IAI3B/iB,EAAgBtuE,UAAU8wF,sBAAwB,SAAUvqF,EAAM+T,GAChE,IAAIvE,EAAQ3V,KAAK4vC,KAAKj6B,MAElBw7E,EADenxF,KAAK4vC,KAAKshD,eAAe,OAAQh3E,EAAMjI,MAC1B,QAEhC,GAAI0D,EAAMw7E,GAAa,CACrB,IAAI5sF,EAAQoR,EAAMw7E,GAAYhrF,GAM9B,OAJI,cAAa5B,KACfA,EAAQA,EAAM2V,EAAMkO,SAGf7jB,EAGT,MAAO,IAGT2pE,EAAgBtuE,UAAU+wF,eAAiB,SAAUxqF,EAAMkqF,EAAS5X,GAClE,IAAIvzE,EAAQlF,KAEZ,QAAOqwF,GAAS,SAAUn3E,GACpBhU,EAAM0qC,KAAK12B,IElLd,SAAiCjH,EAAM9L,GAC5C,OAAOirF,GAAan/E,GAAM9L,GFoLPkrF,CAAwBn4E,EAAG/S,EACxC6nB,CAAO9oB,EAAM0qC,KAAM6oC,OAMzBvK,EAAgBtuE,UAAUsvE,UAAY,SAAUoiB,EAAWp3E,GACzD,GAAkB,WAAdo3E,GAAwC,aAAdA,EAA0B,CAEtD,IAAIhrF,EAAW4T,EAAM+C,IAAI,UAAUA,IAAI,YACvC3W,EAASA,EAAS7G,OAAS,GAAGyvE,UAAU,GACxCh1D,EAAMg1D,UAAU,KAIpBhB,EAAgBtuE,UAAU2xF,YAAc,WACtC,QAAOvxF,KAAK2vF,iBAAiB,SAAUjhF,GACtBA,EAAUuO,IAAI,YACpB8Z,MAAK,SAAUo4C,EAAMC,GAC5B,OAAOD,EAAKE,OAASD,EAAKC,cAKzBnB,EA/MT,GCfA,SAAS,GAASt+B,EAAM6oC,GACjB,IACH+Y,GAAa5hD,GAGf,QAAO,IAAQ,SAAU36B,EAAO3Q,GAG9B,GAAI,GAFS2Q,EAAMgI,IAAI,UAEHw7D,GAAY,CAC9B,IAAIgX,EAAa,GAAYnrF,GAEzBC,EAAQ,OAAM,GAAIkrF,EAAY,CAChC57E,QAAS,IAGXoB,EAAMmT,KAAK7jB,OAqBjB,SAASitF,GAAa5hD,GACpB,GAAS,GACT,GAAc,GACd,IAAImhD,EAAQnhD,EAAK7hC,KAAKkP,IAAI,YAE1B,QAAO8zE,GAAO,SAAUC,GACtB,IAAIS,EAAaT,EAAK/zE,IAAI,UAEtBw0E,GACF,QAAOA,GAAY,SAAUx8E,GAC3B,GAAOzE,KAAKyE,GACZ,GAAYzE,KAAKyE,EAAMmT,cAahB,IEhEXspE,GAAkB,CAAC,SAAU,SAAU,cAE3C,SAAS,GAAS9hD,EAAM6oC,GACtB,IAAIh4E,EAAQmvC,EAAKrhC,QAEjB,GAsCF,SAAsB9N,EAAOg4E,GAC3B,IAAI5hB,EAIN,SAA0Bp2D,GACxB,IAAIo2D,EAAS,GAQb,OANA,QAAO66B,IAAiB,SAAUp0E,GAC5B,OAAM7c,EAAO6c,IACfu5C,EAAOrmD,KAAK8M,MAITu5C,EAbM86B,CAAiBlxF,GAC9B,OAAQ,cAAag4E,IAAc5hB,EAAOv2D,QAAQm4E,EAAUxmE,MAxCxD2/E,CAAanxF,EAAOg4E,GAAY,CAClC,IAAIh5D,EAAOhf,EAAMgf,KAEjB,QAAOA,GAAM,SAAUb,GACrB,GAAI,GAAQA,EAAG65D,GAAY,CACzB,IAAIllE,EAAQq8B,EAAK7hC,KAAKgsE,MAAMn7D,GAE5BgxB,EAAK7hC,KAAKC,GAAG,kBAAkB,SAAU7N,GACvC0xF,GAAapZ,EAAWt4E,GAAG,MAE7ByvC,EAAK7hC,KAAKowD,YAAY5qD,QAY9B,SAASs+E,GAAapZ,EAAWt4E,EAAG2xF,GAClC,IAAIC,GAAWD,EAEXjmB,EAAc,SAAQ1rE,EAAEosC,OAE5BpsC,EAAEosC,MAAM57B,OAAO,GAEf,QAAOk7D,GAAa,SAAUvkE,GAGxB,GAFSA,EAAKiM,MAAM6nD,QAEJqd,KAAesZ,GACjC5xF,EAAEosC,MAAM/7B,KAAKlJ,MAsBJ,IDtDX0qF,GAAmB,CACrB17E,KAAM,GACNrB,MAAO,GACPg9E,UAAW,IAETb,GAAe,CACjB74E,QCgDa,CACb6B,OAAQ,GACR83D,SAAU,GACVsd,QA1CF,SAAmB5/C,EAAM6oC,GACvB7oC,EAAK7hC,KAAKC,GAAG,kBAAkB,SAAU7N,GACvC0xF,GAAapZ,EAAWt4E,GAAG,QDV7B8U,MDmDa,CACbmF,OAAQ,GACR83D,SAAU,GACVsd,QA3CF,SAAmB5/C,EAAM6oC,GAClB,IACH+Y,GAAa5hD,GAGf,QAAO,IAAQ,SAAU36B,EAAO3Q,GAG9B,GAAI,GAFS2Q,EAAMgI,IAAI,UAEHw7D,GAAY,CAC9B,IAAIgX,EAAa,GAAYnrF,GACzB8qF,EAyBD,CACLv7E,QAAmB,IA1BoB47E,EAwBrB57E,SAAW,IAvB3BoB,EAAMmT,KAAKgnE,SCrBf94E,KAAM,IAED,SAAS47E,GAAajgF,EAAM/C,GAEjC,OAAO,IAAIijF,EADMH,GAAiB//E,IACZ/C,GAAKy7E,OEjB7B,IAoEe,GAlEf,SAAU1lF,GAGR,SAASmtF,EAAgBljF,EAAKmjF,EAAWC,EAAkBvX,GACzD,IAAI71E,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAQtC,OANAkF,EAAMmtF,UAAYA,EAClBntF,EAAMotF,iBAAmBA,EACzBptF,EAAMqtF,kBAAoBxX,EAE1B71E,EAAMyK,SAECzK,EAmDT,OA9DA,qBAAUktF,EAAiBntF,GAc3BmtF,EAAgBI,oBAAsB,SAAUrsF,EAAMi7B,GACpDgxD,EAAgBK,uBAAuBtsF,GAAQi7B,GAGjDgxD,EAAgBM,wBAA0B,SAAUC,EAAUxsF,EAAMi7B,GAC7DgxD,EAAgBQ,qBAAqBD,KACxCP,EAAgBQ,qBAAqBD,GAAY,IAGnDP,EAAgBQ,qBAAqBD,GAAUxsF,GAAQi7B,GAGzDgxD,EAAgBna,eAAiB,SAAU9xE,EAAMwsF,GAC/C,OAAIA,GAAYP,EAAgBQ,qBAAqBD,IAAaP,EAAgBO,GAAUxsF,GACnFisF,EAAgBQ,qBAAqBD,GAAUxsF,GAGjDisF,EAAgBK,uBAAuBtsF,IAGhDisF,EAAgBS,oBAAsB,SAAUC,EAAY/X,KAI5DqX,EAAgBxyF,UAAUoQ,QAAU,WAClChQ,KAAK+P,QAEL9K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCoyF,EAAgBxyF,UAAUmzF,aAAe,WACvC,OAAO/yF,KAAKqyF,WAGdD,EAAgBxyF,UAAUozF,SAAW,WACnC,OAAOhzF,KAAKsyF,kBAGdF,EAAgBxyF,UAAUqzF,qBAAuB,WAC/C,OAAOjzF,KAAKuyF,mBAGdH,EAAgBxyF,UAAU+P,OAAS,aAEnCyiF,EAAgBxyF,UAAUmQ,MAAQ,aAElCqiF,EAAgBK,uBAAyB,GACzCL,EAAgBQ,qBAAuB,GAChCR,EA/DT,CAgEE,IC/DS,GAAgB,CAEzBj4E,QARkB,CAClB+4E,WAAY,gBACZC,WAAY,mBACZjtF,KAAM,EACNktF,QAAS,SAMTC,MAAO,CACLF,WAAY,oBC2WD,GA9Wf,SAAUluF,GAGR,SAASquF,EAAUC,GACjB,IAAIruF,EAAQD,EAAOnF,KAAKE,OAASA,KAGjCkF,EAAMsuF,WAAY,EAElBtuF,EAAMuuF,cAAgB,SAAUC,GAC9B,OAAO,SAAUvzF,GACf+E,EAAMsuF,UAAYE,EAElBvzF,EAAEo/C,MAAME,iBACR,IAAIF,EAAQr6C,EAAMsuF,UAAY,OAAMrzF,EAAEo/C,MAAO,YAAap/C,GAAKA,EAC3Ds8C,EAAU8C,EAAM9C,QAChBC,EAAU6C,EAAM7C,QAEpBx3C,EAAMyuF,UAAYzuF,EAAMu4C,aAAehB,EAAUC,EAEjDx3C,EAAM0uF,oBAKV1uF,EAAM2uF,cAAgB,SAAU1zF,GAC9B,IAEIsa,EAFevV,EAAM+X,IAAI,UAAUA,IAAI,gBAEnB62E,wBACpBr3C,EAAUt8C,EAAEs8C,QACZC,EAAUv8C,EAAEu8C,QACZ1nC,EAAS9P,EAAMu4C,aAAehB,EAAUhiC,EAAK/D,KAAOxR,EAAMsR,SAAS5H,EAAI1J,EAAM6uF,SAAW,EAAIr3C,EAAUjiC,EAAKlE,IAAMrR,EAAMsR,SAAS3H,EAAI3J,EAAM6uF,SAAW,EAErJC,EAAY9uF,EAAM+uF,eAAej/E,GAErC9P,EAAMgvF,kBAAkBF,IAK1B9uF,EAAMivF,aAAe,SAAUh0F,GAC7BA,EAAEs/C,iBACF,IAAIF,EAAQr6C,EAAMsuF,UAAY,OAAMrzF,EAAG,YAAaA,GAAKA,EACrDs8C,EAAU8C,EAAM9C,QAChBC,EAAU6C,EAAM7C,QAEhB03C,EAASlvF,EAAMu4C,aAAehB,EAAUC,EAExClF,EAAO48C,EAASlvF,EAAMyuF,UAE1BzuF,EAAMyuF,UAAYS,EAElBlvF,EAAMgvF,kBAAkBhvF,EAAMmvF,YAAc78C,IAI9CtyC,EAAMovF,WAAa,SAAUn0F,GAE3BA,EAAEs/C,iBAEFv6C,EAAMo1E,gBAGRp1E,EAAMqvF,kBAAoB,SAAUp0F,GAClC,IAAIgzF,EAAajuF,EAAMyQ,MAAM09E,MAAMF,WAEnCjuF,EAAMsvF,WAAWpsE,KAAK,SAAU+qE,GAEhCjuF,EAAM+X,IAAI,UAAUnN,QAGtB5K,EAAMuvF,iBAAmB,SAAUt0F,GACjC,IAAIgzF,EAAajuF,EAAMyQ,MAAMwE,QAAQg5E,WAErCjuF,EAAMsvF,WAAWpsE,KAAK,SAAU+qE,GAEhCjuF,EAAM+X,IAAI,UAAUnN,QAGtB,IAAItK,EAAK+tF,EAAa91C,aAClBA,OAAsB,IAAPj4C,GAAwBA,EACvCkvF,EAAWnB,EAAamB,SACxBX,EAAWR,EAAaQ,SACxBv9E,EAAW+8E,EAAa/8E,SACxBgmB,EAAK+2D,EAAaoB,YAClBA,OAAqB,IAAPn4D,EAAgB,GAAKA,EACnCmG,EAAK4wD,EAAac,YAClBA,OAAqB,IAAP1xD,EAAgB,EAAIA,EAClChtB,EAAQ49E,EAAa59E,MAWzB,OAVAzQ,EAAMu4C,aAAeA,EACrBv4C,EAAMmvF,YAAcA,EACpBnvF,EAAMwvF,SAAWA,EACjBxvF,EAAM6uF,SAAWA,EACjB7uF,EAAMsR,SAAWA,EACjBtR,EAAMyvF,YAAcA,EACpBzvF,EAAMyQ,MAAQ,WAAU,GAAI,GAAeA,GAE3CzQ,EAAM0vF,iBAEC1vF,EAwQT,OA1WA,qBAAUouF,EAAWruF,GAyGrBquF,EAAU1zF,UAAUiqE,QAAU,WAC5B,IAAIgrB,EAAY70F,KAAK+zF,SAAW/zF,KAAK00F,SAErC,OADiB10F,KAAKq0F,YAAcr0F,KAAK00F,UACpB,EAAIG,IAQ3BvB,EAAU1zF,UAAUk1F,eAAiB,SAAUC,GAE7C,GAAI/0F,KAAK00F,WAAaK,EAAtB,CAKA,IAEIC,EAAcD,GAFF/0F,KAAK+zF,SAAW/zF,KAAK00F,UAGjCV,EAAYe,GAFC/0F,KAAKq0F,YAAcr0F,KAAK00F,UAGzC10F,KAAK00F,SAAWK,EAEZ/0F,KAAKy9C,aACPz9C,KAAKi1F,WAAW7sE,KAAK,KAAM2sE,GAE3B/0F,KAAKi1F,WAAW7sE,KAAK,KAAM2sE,GAG7B/0F,KAAKk1F,eAAeF,GACpBh1F,KAAKk0F,kBAAkBF,GAEvBh0F,KAAKm1F,wBAQP7B,EAAU1zF,UAAUs1F,eAAiB,SAAUF,GAEzCh1F,KAAK+zF,WAAaiB,IAItBh1F,KAAK+zF,SAAWiB,EAEZh1F,KAAKy9C,aACPz9C,KAAKw0F,WAAWpsE,KAAK,KAAMpoB,KAAKq0F,YAAcW,GAE9Ch1F,KAAKw0F,WAAWpsE,KAAK,KAAMpoB,KAAKq0F,YAAcW,GAGhDh1F,KAAKm1F,wBAQP7B,EAAU1zF,UAAUs0F,kBAAoB,SAAUl/E,GAChD,IAAIg/E,EAAYh0F,KAAKi0F,eAAej/E,GAGhChV,KAAKq0F,cAAgBL,IAIzBh0F,KAAKq0F,YAAcL,EAEfh0F,KAAKy9C,aACPz9C,KAAKw0F,WAAWpsE,KAAK,CACnBhH,GAAI4yE,EACJtyE,GAAIsyE,EAAYh0F,KAAK+zF,WAGvB/zF,KAAKw0F,WAAWpsE,KAAK,CACnB/G,GAAI2yE,EACJryE,GAAIqyE,EAAYh0F,KAAK+zF,WAIzB/zF,KAAKm1F,wBAQP7B,EAAU1zF,UAAUw1F,mBAAqB,SAAUC,GAC7CA,EAAOzmF,IAAM5O,KAAKwW,SAAS5H,GAAKymF,EAAOxmF,IAAM7O,KAAKwW,SAAS3H,IAI/D7O,KAAKwW,SAAW6+E,EAChBr1F,KAAKs1F,eAAe1kD,KAAKykD,EAAOzmF,EAAGymF,EAAOxmF,GAE1C7O,KAAKm1F,wBAIP7B,EAAU1zF,UAAUu1F,oBAAsB,WAExCn1F,KAAK0sC,KAAK,eAAgB,CACxB2nD,YAAar0F,KAAKq0F,YAClBh2D,MAAO,SAAQr+B,KAAKq0F,aAAer0F,KAAK00F,SAAW10F,KAAK+zF,UAAW,EAAG,KAGpE/zF,KAAKid,IAAI,WACXjd,KAAKid,IAAI,UAAUnN,QAIvBwjF,EAAU1zF,UAAU21F,YAAc,SAAU5/E,GAC1C3V,KAAK2V,MAAQ,WAAU,GAAI,GAAeA,GAC1C3V,KAAKw0F,WAAWpsE,KAAK,SAAUpoB,KAAK2V,MAAMwE,QAAQg5E,YAClDnzF,KAAKw0F,WAAWpsE,KAAK,YAAapoB,KAAK2V,MAAMwE,QAAQjU,MACrDlG,KAAKw0F,WAAWpsE,KAAK,UAAWpoB,KAAK2V,MAAMwE,QAAQi5E,SACnDpzF,KAAKid,IAAI,UAAUnN,QAIrBwjF,EAAU1zF,UAAUg1F,eAAiB,WACnC50F,KAAKs1F,eAAiBt1F,KAAKw1F,wBAC3Bx1F,KAAKs1F,eAAe1kD,KAAK5wC,KAAKwW,SAAS5H,EAAG5O,KAAKwW,SAAS3H,GAExD7O,KAAK82E,eAIPwc,EAAU1zF,UAAU41F,sBAAwB,WAC1C,IAAIxzD,EAAQhiC,KAAKutC,SAAS,CACxBvsC,UAAWhB,KAAKy9C,aAAe,gBAAkB,gBAInD,OAFAz9C,KAAKi1F,WAAaj1F,KAAKy1F,kBAAkBzzD,GACzChiC,KAAKw0F,WAAax0F,KAAK01F,kBAAkB1zD,GAClCA,GAITsxD,EAAU1zF,UAAU61F,kBAAoB,SAAUzzD,GAChD,IAAIx8B,EAAKxF,KAAK2V,MAAMwE,QAChBi5E,EAAU5tF,EAAG4tF,QACbF,EAAa1tF,EAAG0tF,WAChBhtF,EAAOV,EAAGU,KAEd,OAAIlG,KAAKy9C,aACAzb,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO,CACLjD,GAAI,EACJC,GAAInb,EAAO,EACXwb,GAAI1hB,KAAK00F,SACT/yE,GAAIzb,EAAO,EACXwM,UAAWxM,EACX4M,OAAQogF,EACRE,QAASA,KAKRpxD,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO,CACLjD,GAAIlb,EAAO,EACXmb,GAAI,EACJK,GAAIxb,EAAO,EACXyb,GAAI3hB,KAAK00F,SACThiF,UAAWxM,EACX4M,OAAQogF,EACRE,QAASA,MAMfE,EAAU1zF,UAAU81F,kBAAoB,SAAU1zD,GAChD,IAAIx8B,EAAKxF,KAAK2V,MAAMwE,QAChBjU,EAAOV,EAAGU,KACVktF,EAAU5tF,EAAG4tF,QACbD,EAAa3tF,EAAG2tF,WAEpB,OAAInzF,KAAKy9C,aACAzb,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO,CACLjD,GAAIphB,KAAKq0F,YACThzE,GAAInb,EAAO,EACXwb,GAAI1hB,KAAKq0F,YAAcr0F,KAAK+zF,SAC5BpyE,GAAIzb,EAAO,EACXwM,UAAWxM,EACX4M,OAAQqgF,EACRC,QAASA,EACTp7E,OAAQ,aAKPgqB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO,CACLjD,GAAIlb,EAAO,EACXmb,GAAIrhB,KAAKq0F,YACT3yE,GAAIxb,EAAO,EACXyb,GAAI3hB,KAAKq0F,YAAcr0F,KAAK+zF,SAC5BrhF,UAAWxM,EACX4M,OAAQqgF,EACRC,QAASA,EACTp7E,OAAQ,cAMds7E,EAAU1zF,UAAUk3E,YAAc,WAChC92E,KAAKgO,GAAG,YAAahO,KAAKyzF,eAAc,IAGxCzzF,KAAKgO,GAAG,UAAWhO,KAAKs0F,YACxBt0F,KAAKgO,GAAG,aAAchO,KAAKyzF,eAAc,IACzCzzF,KAAKgO,GAAG,WAAYhO,KAAKs0F,YACzBt0F,KAAKi1F,WAAWjnF,GAAG,QAAShO,KAAK6zF,eACjC7zF,KAAKw0F,WAAWxmF,GAAG,YAAahO,KAAKu0F,mBACrCv0F,KAAKw0F,WAAWxmF,GAAG,WAAYhO,KAAKy0F,mBAGtCnB,EAAU1zF,UAAUg0F,gBAAkB,WACpC,IAAIh0C,EAAe5/C,KAAKid,IAAI,UAAUA,IAAI,gBACtC04E,EAAS,GAGXA,EADE31F,KAAKwzF,UACE,CAAC,oBAAyB5zC,EAAc,YAAa5/C,KAAKm0F,cAAe,oBAAyBv0C,EAAc,WAAY5/C,KAAKs0F,YAAa,oBAAyB10C,EAAc,cAAe5/C,KAAKs0F,aAEzM,CAAC,oBAAyB10C,EAAc,YAAa5/C,KAAKm0F,cAAe,oBAAyBv0C,EAAc,UAAW5/C,KAAKs0F,YACzI,oBAAyB10C,EAAc,aAAc5/C,KAAKs0F,aAG5Dt0F,KAAKs6E,aAAe,WAClBqb,EAAOztF,SAAQ,SAAU/H,GACvBA,EAAEgQ,cAMRmjF,EAAU1zF,UAAUq0F,eAAiB,SAAUj/E,GAC7C,IAAIg/E,EAAYh/E,EAQhB,OANIA,EAAShV,KAAK+zF,SAAW/zF,KAAK00F,SAChCV,EAAYh0F,KAAK00F,SAAW10F,KAAK+zF,SACxB/+E,EAAShV,KAAK+zF,SAAW/zF,KAAK+zF,WACvCC,EAAY,GAGPA,GAGFV,EA3WT,CA4WE,UClXEsC,ICQJ,SAAU3wF,GAGR,SAAS4wF,EAAK3mF,GACZ,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMkP,IAAQlP,KAElCwF,EAAK0J,EAAIsH,SACTA,OAAkB,IAAPhR,EAAgB,CAC7BoJ,EAAG,EACHC,EAAG,GACDrJ,EACAswF,EAAO5mF,EAAI4mF,KACXt5D,EAAKttB,EAAIwE,KACTA,OAAc,IAAP8oB,EAAgB,GAAKA,EAC5BmG,EAAKzzB,EAAI6mF,QACTA,OAAiB,IAAPpzD,EAAgB,EAAIA,EAC9BqzD,EAAY9mF,EAAI8mF,UAChBnhF,EAAY3F,EAAI2F,UAChB+tB,EAAK1zB,EAAI+mF,YACTA,OAAqB,IAAPrzD,GAAwBA,EA2B1C,OA1BA19B,EAAMsR,SAAWA,EACjBtR,EAAM4wF,KAAOA,EACb5wF,EAAMwO,KAAOA,EACbxO,EAAM6wF,QAAUA,EAEhB7wF,EAAM8wF,UAAY,oBAAS,CACzBjhF,WAAY,WACZD,SAAU,GACVnB,UAAW,OACXC,aAAc,MACdjB,KAAM,WACLqjF,GACH9wF,EAAM2P,UAAY,oBAAS,CACzBC,SAAU,GACVnB,UAAW,OACXC,aAAc,SACdjB,KAAM,QACLkC,GACH3P,EAAM+wF,YAAcA,EAEpB/wF,EAAMgxF,YAEFhxF,EAAM+wF,aACR/wF,EAAM65D,aAGD75D,EA7CT,qBAAU2wF,EAAM5wF,GAiDhB4wF,EAAKj2F,UAAUs2F,UAAY,WACzB,IAAI1wF,EAAKxF,KAAKwW,SACV5H,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EACPinF,EAAOp2E,OAAOy2E,aAAapiE,SAAS/zB,KAAK81F,KAAM,KAE/CM,EAAYp2F,KAAK0sB,SAAS,OAAQ,CACpCrI,MAAO,oBAAS,CACdzV,EAAGA,EACHC,EAAGA,EACH6E,KAAMoiF,GACL91F,KAAKg2F,aAGV,GAAIh2F,KAAK0T,KAAM,CACb,IAAI2iF,EAAWD,EAAUntE,UACzBjpB,KAAK0sB,SAAS,OAAQ,CACpBrI,MAAO,oBAAS,CACdzV,EAAGA,EAAIynF,EAAS7xF,MAAQxE,KAAK+1F,QAC7BlnF,EAAGA,EAAIwnF,EAASvnF,OAAS,EACzB4E,KAAM1T,KAAK0T,MACV1T,KAAK6U,aAKZ,IAAIg2B,EAAO7qC,KAAKipB,UAChBjpB,KAAKq9C,GAAKr9C,KAAK0sB,SAAS,OAAQ,CAC9BrI,MAAO,CACLzV,EAAGi8B,EAAKj8B,EACRC,EAAGg8B,EAAKh8B,EACRrK,MAAOqmC,EAAKrmC,MACZsK,OAAQ+7B,EAAK/7B,OACb0E,OAAQ,EACRb,KAAM,QAER8F,QAAS,IAEXzY,KAAK+2B,QAUP8+D,EAAKj2F,UAAUm/D,WAAa,WAC1B,IAAI75D,EAAQlF,KAEZA,KAAKgO,GAAG,aAAa,WACnB9I,EAAMm4C,GAAGj1B,KAAK,OAAQ,WAEtBljB,EAAM+X,IAAI,UAAUnN,UAEtB9P,KAAKgO,GAAG,YAAY,WAClB9I,EAAMm4C,GAAGj1B,KAAK,OAAQ,QAEtBljB,EAAM+X,IAAI,UAAUnN,WA7G1B,CAkHE,UD1He,CACf6G,MAAO,GAAKuH,KAAKK,GAAK,IACtB7H,KAAM,IAAawH,KAAKK,GAAK,IAC7B8jC,GAAI,EACJC,KAAM,IAAMpkC,KAAKK,GAAK,MENb+3E,IFWX,SAAUrxF,GAGR,SAASs9C,EAAMrzC,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAG7BwF,EAAK0J,EAAIsH,SACTA,OAAkB,IAAPhR,EAAgB,CAC7BoJ,EAAG,EACHC,EAAG,GACDrJ,EACAg3B,EAAKttB,EAAI1K,MACTA,OAAe,IAAPg4B,EAAgB,GAAKA,EAC7BmG,EAAKzzB,EAAIJ,OACTA,OAAgB,IAAP6zB,EAAgB,GAAKA,EAC9BC,EAAK1zB,EAAI6K,UACTA,OAAmB,IAAP6oB,EAAgB,QAAUA,EACtC2zD,EAAKrnF,EAAIsnF,WACTA,OAAoB,IAAPD,EAAgB,GAAKA,EAStC,OARArxF,EAAMsR,SAAWA,EACjBtR,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EACf5J,EAAM6U,UAAYA,EAClB7U,EAAMsxF,WAAaA,EAEnBtxF,EAAMunC,QAECvnC,EA3BT,qBAAUq9C,EAAOt9C,GA8BjBs9C,EAAM3iD,UAAU6sC,MAAQ,WACtB,IAAIvnC,EAAQlF,KAER2oB,EAAU3oB,KAAKwE,MAAQ,EACvBokB,EAAU5oB,KAAK8O,OAAS,EACxBwZ,EAAS,CAAC,CACZ1Z,EAAG,EACHC,GAAI+Z,GACH,CACDha,GAAI+Z,EACJ9Z,EAAG+Z,GACF,CACDha,EAAG+Z,EACH9Z,EAAG+Z,IAED1O,EAAQ,IAAI,QAAK,CACnBmK,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAKkM,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,OAC1G7O,KAAKw2F,cAEVx2F,KAAK4P,IAAIsK,GAETla,KAAKkiB,OAAO0zE,GAAW51F,KAAK+Z,YAE5B/Z,KAAK4wC,KAAK5wC,KAAKwW,SAAS5H,EAAG5O,KAAKwW,SAAS3H,GACzCqL,EAAMlM,GAAG,SAAS,SAAU7N,GAC1BA,EAAEq/C,kBAEFt6C,EAAMwnC,KAAK,QAASvsC,OA3D1B,CAgEE,UE3E4B,CAE5B0T,QAAS,IAEA4iF,GAAa,CACtB3jF,OAAQ,UACRgB,cAAe,KAEN4iF,GAAa,CACtB/jF,KAAM,UACNkB,QAAS,KCaJ,SAAS,GAAYyU,GAC1B,OAfF,SAAsBA,GACpB,OAAO,OAAMA,GAAQ,SAAUjoB,EAAGqQ,GAIhC,MAAO,CAHe,IAARA,EAAY,IAAM,IACxBrQ,EAAE,GACFA,EAAE,OAWLs2F,CAAaruE,GA2Cf,SAASsuE,GAAWn3E,EAAMjb,EAAOsK,EAAQuL,QAC/B,IAAXA,IACFA,GAAS,GAIX,IAAIxL,EAAI,IAAI,GAAO,CACjByf,OAAQ7O,IAEN7Q,EAAI,IAAI,GAAS,CACnB0f,OAAQ,OAAM7O,GAAM,SAAUnC,EAAG5M,GAC/B,OAAOA,OAIP4X,EAAS,OAAM7I,GAAM,SAAUnC,EAAG5M,GACpC,MAAO,CAAC9B,EAAE+e,MAAMjd,GAAOlM,EAAOsK,EAASD,EAAE8e,MAAMrQ,GAAKxO,MAGtD,OAAOuL,EAvDF,SAA2BiO,GAChC,GAAIA,EAAO7oB,QAAU,EAEnB,OAAO,GAAY6oB,GAGrB,IAAI7I,EAAO,GAEX,QAAO6I,GAAQ,SAAUjoB,GAElB,WAAUA,EAAGof,EAAK6F,MAAM7F,EAAKhgB,OAAS,KACzCggB,EAAKjP,KAAKnQ,EAAE,GAAIA,EAAE,OAQtB,IAAI+b,EAAO,GAA2BqD,GAAM,GAExCja,EAAK,QAAO8iB,GACZ1Z,EAAIpJ,EAAG,GACPqJ,EAAIrJ,EAAG,GAGX,OADA4W,EAAKid,QAAQ,CAAC,IAAKzqB,EAAGC,IACfuN,EA6BSy6E,CAAkBvuE,GAAU,GAAYA,GC7E1D,IA8Fe,GA5Ff,SAAUrjB,GAGR,SAAS6xF,EAAM5nF,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAE7BwF,EAAK0J,EAAIN,EACTA,OAAW,IAAPpJ,EAAgB,EAAIA,EACxBg3B,EAAKttB,EAAIL,EACTA,OAAW,IAAP2tB,EAAgB,EAAIA,EACxBmG,EAAKzzB,EAAI1K,MACTA,OAAe,IAAPm+B,EAAgB,IAAMA,EAC9BC,EAAK1zB,EAAIJ,OACTA,OAAgB,IAAP8zB,EAAgB,GAAKA,EAC9B2zD,EAAKrnF,EAAImL,OACTA,OAAgB,IAAPk8E,GAAuBA,EAChCQ,EAAK7nF,EAAI8nF,OACTA,OAAgB,IAAPD,GAAwBA,EACjCE,EAAK/nF,EAAIuQ,KACTA,OAAc,IAAPw3E,EAAgB,GAAKA,EAC5B5gF,EAAkBnH,EAAImH,gBACtBmD,EAAYtK,EAAIsK,UAChB09E,EAAYhoF,EAAIgoF,UAcpB,OAbAhyF,EAAM0J,EAAIA,EACV1J,EAAM2J,EAAIA,EACV3J,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EACf5J,EAAMua,KAAOA,EACbva,EAAMmV,OAASA,EACfnV,EAAM8xF,OAASA,EACf9xF,EAAMmR,gBAAkB,UAAS,GAAIigF,GAAkBjgF,GACvDnR,EAAMsU,UAAY,UAAS,GAAIi9E,GAAYj9E,GAC3CtU,EAAMgyF,UAAY,UAAS,GAAIR,GAAYQ,GAE3ChyF,EAAMiyF,WAECjyF,EAqDT,OAxFA,qBAAU4xF,EAAO7xF,GA2CjB6xF,EAAMl3F,UAAUu3F,SAAW,WACzB,IAAI3xF,EAAKxF,KACL4O,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EACPrK,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OACZ2Q,EAAOja,EAAGia,KACVpF,EAAS7U,EAAG6U,OACZ28E,EAASxxF,EAAGwxF,OACZ3gF,EAAkB7Q,EAAG6Q,gBACrBmD,EAAYhU,EAAGgU,UACf09E,EAAY1xF,EAAG0xF,UAGnBl3F,KAAKo3F,gBAAkBp3F,KAAK0sB,SAAS,OAAQ,CAC3CrI,MAAO,oBAAS,CACdzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,GACPuH,KAEL,IAAI+F,EAAOw6E,GAAWn3E,EAAMjb,EAAOsK,EAAQuL,GAE3Cra,KAAKytC,UAAYztC,KAAK0sB,SAAS,OAAQ,CACrCrI,MAAO,oBAAS,CACdjI,KAAMA,GACL5C,KAIL,IAAI69E,EDSD,SAA4Bj7E,EAAM5X,EAAOsK,GAC9C,IAAIuoF,EAAW,0BAAej7E,GAK9B,OAHAi7E,EAAS7mF,KAAK,CAAC,IAAKhM,EAAO,IAC3B6yF,EAAS7mF,KAAK,CAAC,IAAK,EAAG1B,IACvBuoF,EAAS7mF,KAAK,CAAC,MACR6mF,ECfUC,CAAmBl7E,EAAM5X,EAAOsK,GAE3CkoF,IACFh3F,KAAKu3F,UAAYv3F,KAAK0sB,SAAS,OAAQ,CACrCrI,MAAO,oBAAS,CACdjI,KAAMi7E,GACLH,MAKPl3F,KAAK4wC,KAAKhiC,EAAGC,IAGRioF,EAzFT,CA0FE,UClGS,GAAmB,CAC5BnkF,KAAM,WACNkB,QAAS,KAEA2jF,GAAmB,CAC5B7kF,KAAM,UACNkB,QAAS,IACTmE,OAAQ,QAGCy/E,GAAgB,CACzBjzF,MAFiC,GAGjCsK,OAAQ,IAEC4oF,GAAa,CACtB9jF,aAAc,SACdjB,KAAM,OACNkB,QAAS,KCjBP,GAAgB,CAClBlB,KAAM,UACNG,OAAQ,UACRU,OAAQ,EACRK,QAAS,EACTmE,OAAQ,YAER2/E,cAAe,QAqKF,GAhKf,SAAU1yF,GAGR,SAAS2yF,EAAQ1oF,GACf,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAE7BwF,EAAK0J,EAAIN,EACTA,OAAW,IAAPpJ,EAAgB,EAAIA,EACxBg3B,EAAKttB,EAAIL,EACTA,OAAW,IAAP2tB,EAAgB,EAAIA,EACxBmG,EAAKzzB,EAAI1K,MACTA,OAAe,IAAPm+B,EAAgB,GAAKA,EAC7BC,EAAK1zB,EAAIJ,OACTA,OAAgB,IAAP8zB,EAAgB,GAAKA,EAC9B2zD,EAAKrnF,EAAI3K,MACTA,OAAe,IAAPgyF,EAAgB,GAAKA,EASjC,OARArxF,EAAM0J,EAAIA,EACV1J,EAAM2J,EAAIA,EACV3J,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EACf5J,EAAMX,MAAQ,oBAAS,oBAAS,GAAI,IAAgBA,GAEpDW,EAAMiyF,WAECjyF,EAqIT,OA5JA,qBAAU0yF,EAAS3yF,GA+BnB2yF,EAAQh4F,UAAUi4F,KAAO,SAAUjpF,GACjC5O,KAAK83F,MAAMlpF,OAAG9H,IAQhB8wF,EAAQh4F,UAAUm4F,KAAO,SAAUlpF,GACjC7O,KAAK83F,WAAMhxF,EAAW+H,IAGxB+oF,EAAQh4F,UAAUk4F,MAAQ,SAAUlpF,EAAGC,GACjC,YAAWD,KACb5O,KAAK4O,EAAIA,GAGP,YAAWC,KACb7O,KAAK6O,EAAIA,GAGX7O,KAAKg4F,aAQPJ,EAAQh4F,UAAUu3F,SAAW,WAC3B,IACI3yF,EADKxE,KACMwE,MACXsK,EAFK9O,KAEO8O,OACZvK,EAHKvE,KAGMuE,MAEXoO,EAAOpO,EAAMoO,KACbG,EAASvO,EAAMuO,OACfU,EAASjP,EAAMiP,OACfK,EAAUtP,EAAMsP,QAChBmE,EAASzT,EAAMyT,OAEnBhY,KAAKu9C,WAAav9C,KAAK0sB,SAAS,OAAQ,CACtCrI,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACR6D,KAAMA,EACNG,OAAQA,EACRU,OAAQA,EACRK,QAASA,EACTmE,OAAQA,KAIZ,IAAIoJ,EAAK,EAAI,EAAI5c,EACbkd,EAAK,EAAI,EAAIld,EACb6c,EAAK,EAAI,EAAIvS,EACb6S,EAAK,EAAI,EAAI7S,EACjB9O,KAAK0sB,SAAS,OAAQ,CACpBrI,MAAO,CACLjD,GAAIA,EACJC,GAAIA,EACJK,GAAIN,EACJO,GAAIA,EACJ7O,OAAQA,EACRkF,OAAQA,KAGZhY,KAAK0sB,SAAS,OAAQ,CACpBrI,MAAO,CACLjD,GAAIM,EACJL,GAAIA,EACJK,GAAIA,EACJC,GAAIA,EACJ7O,OAAQA,EACRkF,OAAQA,KAIZhY,KAAKg4F,YAELh4F,KAAK82E,eAGP8gB,EAAQh4F,UAAUk3E,YAAc,WAC9B,IAAI5xE,EAAQlF,KAEZA,KAAKgO,GAAG,cAAc,WACpB,IAAI2pF,EAAgBzyF,EAAMX,MAAMozF,cAEhCzyF,EAAMq4C,WAAWn1B,KAAK,OAAQuvE,GAE9BzyF,EAAMq5D,aAAazuD,UAErB9P,KAAKgO,GAAG,cAAc,WACpB,IAAI2E,EAAOzN,EAAMX,MAAMoO,KAEvBzN,EAAMq4C,WAAWn1B,KAAK,OAAQzV,GAE9BzN,EAAMq5D,aAAazuD,WAIvB8nF,EAAQh4F,UAAUo4F,UAAY,WAC5Bh4F,KAAK4wC,KAAK5wC,KAAK4O,EAAG5O,KAAK6O,IAQzB+oF,EAAQh4F,UAAU2+D,WAAa,WAG7B,IAFA,IAAIn+D,EAAIJ,KAEDI,EAAE6c,IAAI,WACX7c,EAAIA,EAAE6c,IAAI,UAIZ,OAAO7c,GAGFw3F,EA7JT,CA8JE,UC8Pa,GA1Zf,SAAU3yF,GAGR,SAASs3C,EAAOrtC,GACd,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAEjCkF,EAAM+yF,MAAQ,EACd/yF,EAAMgzF,MAAQ,EAEdhzF,EAAMk6C,YAAc,SAAUtxC,GAC5B,OAAO,SAAU3N,GAEf+E,EAAMizF,eAAiBrqF,EAEvB,IAAIyxC,EAAQp/C,EAAEo/C,MACdA,EAAMC,kBACND,EAAME,iBAENv6C,EAAM+yF,MAAQ,OAAM14C,EAAO,kBAAmBA,EAAM64C,OACpDlzF,EAAMgzF,MAAQ,OAAM34C,EAAO,kBAAmBA,EAAM84C,OAEpD,IAAIz4C,EAAe16C,EAAM+X,IAAI,UAAUA,IAAI,gBAE3C2iC,EAAagjB,iBAAiB,YAAa19D,EAAMs3C,aACjDoD,EAAagjB,iBAAiB,UAAW19D,EAAM03C,WAC/CgD,EAAagjB,iBAAiB,aAAc19D,EAAM03C,WAElDgD,EAAagjB,iBAAiB,YAAa19D,EAAMs3C,aACjDoD,EAAagjB,iBAAiB,WAAY19D,EAAM03C,WAChDgD,EAAagjB,iBAAiB,cAAe19D,EAAM03C,aAIvD13C,EAAMs3C,YAAc,SAAUr8C,GAE5BA,EAAEq/C,kBACFr/C,EAAEs/C,iBAEF,IAAI7wC,EAAI,OAAMzO,EAAG,kBAAmBA,EAAEi4F,OAElCvpF,EAAI,OAAM1O,EAAG,kBAAmBA,EAAEk4F,OAGlC/tD,EAAU17B,EAAI1J,EAAM+yF,MAEpBK,EAAepzF,EAAMqzF,kBAAkBjuD,EAAUplC,EAAMV,OAG3DU,EAAMszF,eAAeF,GAGrBpzF,EAAMuzF,YAENvzF,EAAM+yF,MAAQrpF,EACd1J,EAAMgzF,MAAQrpF,EAEd3J,EAAM+X,IAAI,UAAUnN,OAGpB5K,EAAMwnC,KFtDe,eEsDK,CAACxnC,EAAMgM,MAAOhM,EAAMiM,KAAK4lB,SAGrD7xB,EAAM03C,UAAY,WAEZ13C,EAAMizF,iBACRjzF,EAAMizF,oBAAiBrxF,GAGzB,IAAI84C,EAAe16C,EAAM+X,IAAI,UAAUA,IAAI,gBAEvC2iC,IACFA,EAAamkB,oBAAoB,YAAa7+D,EAAMs3C,aACpDoD,EAAamkB,oBAAoB,UAAW7+D,EAAM03C,WAElDgD,EAAamkB,oBAAoB,aAAc7+D,EAAM03C,WAErDgD,EAAamkB,oBAAoB,YAAa7+D,EAAMs3C,aACpDoD,EAAamkB,oBAAoB,WAAY7+D,EAAM03C,WACnDgD,EAAamkB,oBAAoB,cAAe7+D,EAAM03C,aAI1D,IAAIp3C,EAAK0J,EAAIN,EACTA,OAAW,IAAPpJ,EAAgB,EAAIA,EACxBg3B,EAAKttB,EAAIL,EACTA,OAAW,IAAP2tB,EAAgB,EAAIA,EACxBmG,EAAKzzB,EAAI1K,MACTA,OAAe,IAAPm+B,EAAgB,IAAMA,EAC9BC,EAAK1zB,EAAIJ,OACTA,OAAgB,IAAP8zB,EAAgB,GAAKA,EAC9B81D,EAAWxpF,EAAIwpF,SACfnC,EAAKrnF,EAAImH,gBACTA,OAAyB,IAAPkgF,EAAgB,GAAKA,EACvCQ,EAAK7nF,EAAIypF,gBACTA,OAAyB,IAAP5B,EAAgB,GAAKA,EACvCE,EAAK/nF,EAAI0pF,aACTA,OAAsB,IAAP3B,EAAgB,GAAKA,EACpC4B,EAAK3pF,EAAI2F,UACTA,OAAmB,IAAPgkF,EAAgB,GAAKA,EAErCC,EAAK5pF,EAAIgC,MAETA,OAAe,IAAP4nF,EAAgB,EAAIA,EACxBC,EAAK7pF,EAAIiC,IACTA,OAAa,IAAP4nF,EAAgB,EAAIA,EAC1BC,EAAK9pF,EAAI+pF,QACTA,OAAiB,IAAPD,EAAgB,GAAKA,EAC/BE,EAAKhqF,EAAIiqF,QACTA,OAAiB,IAAPD,EAAgB,GAAKA,EAoBnC,OAlBAh0F,EAAM0J,EAAIA,EACV1J,EAAM2J,EAAIA,EACV3J,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EACf5J,EAAMwzF,SAAWA,EAEjBxzF,EAAMmR,gBAAkB,oBAAS,oBAAS,GAAI,IAAmBA,GACjEnR,EAAMyzF,gBAAkB,oBAAS,oBAAS,GAAInB,IAAmBmB,GACjEzzF,EAAM0zF,aAAe,oBAAS,oBAAS,GAAInB,IAAgBmB,GAC3D1zF,EAAM2P,UAAY,oBAAS,oBAAS,GAAI6iF,IAAa7iF,GAErD3P,EAAMgM,MAAQA,EACdhM,EAAMiM,IAAMA,EACZjM,EAAM+zF,QAAUA,EAChB/zF,EAAMi0F,QAAUA,EAEhBj0F,EAAMiyF,WAECjyF,EAuRT,OAtZA,qBAAUq3C,EAAQt3C,GAuIlBs3C,EAAO38C,UAAUyqB,OAAS,SAAUnb,GAClC,IAAIN,EAAIM,EAAIN,EACRC,EAAIK,EAAIL,EACRrK,EAAQ0K,EAAI1K,MACZsK,EAASI,EAAIJ,OACbmqF,EAAU/pF,EAAI+pF,QACdE,EAAUjqF,EAAIiqF,QACdjoF,EAAQhC,EAAIgC,MACZC,EAAMjC,EAAIiC,IAEdnR,KAAKkR,MAAQgN,KAAKuR,IAAI,EAAGvR,KAAKyH,IAAIzU,EAAO,IACzClR,KAAKmR,IAAM+M,KAAKuR,IAAI,EAAGvR,KAAKyH,IAAIxU,EAAK,IAGrC,UAASnR,KAAM,CACb4O,EAAGA,EACHC,EAAGA,EACHrK,MAAOA,EACPsK,OAAQA,EACRmqF,QAASA,EACTE,QAASA,IAIXn5F,KAAKy4F,aAQPl8C,EAAO38C,UAAUu3F,SAAW,WAC1B,IAAI3yF,EAAQxE,KAAKwE,MACbsK,EAAS9O,KAAK8O,OAEd,QAAO,OAAM9O,KAAK04F,SAAU,WAC9B14F,KAAKo5F,WAAa,IAAI,GAAM,oBAAS,CACnCxqF,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,GACP9O,KAAK04F,WACR14F,KAAK4P,IAAI5P,KAAKo5F,aAIhBp5F,KAAKo3F,gBAAkBp3F,KAAK0sB,SAAS,OAAQ,CAC3CrI,MAAO,oBAAS,CACdzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,GACP9O,KAAKqW,mBAGVrW,KAAKo+C,aAAep+C,KAAK0sB,SAAS,OAAQ,CACxCrI,MAAO,oBAAS,CAEdxV,EAAGC,EAAS,EACZ6E,UAAW,QACXD,KAAM1T,KAAKi5F,QACXI,QAAQ,GACPr5F,KAAK6U,aAEV7U,KAAKu+C,aAAev+C,KAAK0sB,SAAS,OAAQ,CACxCrI,MAAO,oBAAS,CAEdxV,EAAGC,EAAS,EACZ6E,UAAW,OACXD,KAAM1T,KAAKm5F,QACXE,QAAQ,GACPr5F,KAAK6U,aAGV7U,KAAKs5F,gBAAkBt5F,KAAK0sB,SAAS,OAAQ,CAC3CrI,MAAO,oBAAS,CAEdxV,EAAG,EAEHC,OAAQA,GACP9O,KAAK24F,mBAGS,OAAM34F,KAAK44F,aAAc,QAAS,IAArD,IAEIW,EAAgB,OAAMv5F,KAAK44F,aAAc,SAAU,IAGvD54F,KAAKw5F,gBAAkB,IAAI,GAAQ,oBAAS,CAC1C5qF,EAAG,EACHC,GAAIC,EAASyqF,GAAiB,EAC9B/0F,MAAOA,EACPsK,OAAQyqF,EACRvhF,OAAQ,aACPhY,KAAK44F,eACR54F,KAAK4P,IAAI5P,KAAKw5F,iBACdx5F,KAAKy5F,gBAAkB,IAAI,GAAQ,oBAAS,CAC1C7qF,EAAG,EACHC,GAAIC,EAASyqF,GAAiB,EAC9B/0F,MAAOA,EACPsK,OAAQyqF,EACRvhF,OAAQ,aACPhY,KAAK44F,eACR54F,KAAK4P,IAAI5P,KAAKy5F,iBAEdz5F,KAAKy4F,YAGLz4F,KAAK4wC,KAAK5wC,KAAK4O,EAAG5O,KAAK6O,GAEvB7O,KAAK82E,eAYPv6B,EAAO38C,UAAUk3E,YAAc,WAE7B92E,KAAKw5F,gBAAgBxrF,GAAG,YAAahO,KAAKo/C,YAAYp/C,KAAKw5F,kBAC3Dx5F,KAAKw5F,gBAAgBxrF,GAAG,aAAchO,KAAKo/C,YAAYp/C,KAAKw5F,kBAE5Dx5F,KAAKy5F,gBAAgBzrF,GAAG,YAAahO,KAAKo/C,YAAYp/C,KAAKy5F,kBAC3Dz5F,KAAKy5F,gBAAgBzrF,GAAG,aAAchO,KAAKo/C,YAAYp/C,KAAKy5F,kBAE5Dz5F,KAAKs5F,gBAAgBtrF,GAAG,YAAahO,KAAKo/C,YAAYp/C,KAAKs5F,kBAC3Dt5F,KAAKs5F,gBAAgBtrF,GAAG,aAAchO,KAAKo/C,YAAYp/C,KAAKs5F,mBAQ9D/8C,EAAO38C,UAAU24F,kBAAoB,SAAUmB,GAE7C,OAAQ15F,KAAKm4F,gBACX,KAAKn4F,KAAKw5F,gBAEN,IAAI/pE,EAAM,EAAIzvB,KAAKkR,MACfyU,EAAM,EAAI3lB,KAAKkR,MACnB,OAAOgN,KAAKuR,IAAI9J,EAAKzH,KAAKyH,IAAI8J,EAAKiqE,IAGvC,KAAK15F,KAAKy5F,gBAEFhqE,EAAM,EAAIzvB,KAAKmR,IACfwU,EAAM,EAAI3lB,KAAKmR,IACnB,OAAO+M,KAAKuR,IAAI9J,EAAKzH,KAAKyH,IAAI8J,EAAKiqE,IAGvC,KAAK15F,KAAKs5F,gBAEF7pE,EAAM,EAAIzvB,KAAKkR,MACfyU,EAAM,EAAI3lB,KAAKmR,IACnB,OAAO+M,KAAKuR,IAAI9J,EAAKzH,KAAKyH,IAAI8J,EAAKiqE,IAGvC,QACE,OAAO,IAIbn9C,EAAO38C,UAAU44F,eAAiB,SAAUkB,GAE1C,OAAQ15F,KAAKm4F,gBACX,KAAKn4F,KAAKw5F,gBACRx5F,KAAKkR,OAASwoF,EACd,MAEF,KAAK15F,KAAKy5F,gBACRz5F,KAAKmR,KAAOuoF,EACZ,MAEF,KAAK15F,KAAKs5F,gBACRt5F,KAAKkR,OAASwoF,EACd15F,KAAKmR,KAAOuoF,IAUlBn9C,EAAO38C,UAAU64F,UAAY,WAC3B,IAAIvzF,EAAQlF,KAERyvB,EAAMzvB,KAAKkR,MAAQlR,KAAKwE,MACxBmhB,EAAM3lB,KAAKmR,IAAMnR,KAAKwE,MAE1BxE,KAAKs5F,gBAAgBlxE,KAAK,IAAKqH,GAC/BzvB,KAAKs5F,gBAAgBlxE,KAAK,QAASzC,EAAM8J,GAEzC,IAAIkqE,EAAe,OAAM35F,KAAK44F,aAAc,QFtVb,IEyV/B54F,KAAKo+C,aAAah2B,KAAK,OAAQpoB,KAAKi5F,SACpCj5F,KAAKu+C,aAAan2B,KAAK,OAAQpoB,KAAKm5F,SAEpC,IAAI3zF,EAAKxF,KAAK45F,WAAW,CAACnqE,EAAK9J,IAC3Bk0E,EAAWr0F,EAAG,GACds0F,EAAWt0F,EAAG,GAGlBxF,KAAKw5F,gBAAgB3B,KAAKpoE,EAAMkqE,EAAe,GAE/C,QAAOE,GAAU,SAAUv8E,EAAGtL,GAC5B,OAAO9M,EAAMk5C,aAAah2B,KAAKpW,EAAGsL,MAIpCtd,KAAKy5F,gBAAgB5B,KAAKlyE,EAAMg0E,EAAe,GAE/C,QAAOG,GAAU,SAAUx8E,EAAGtL,GAC5B,OAAO9M,EAAMq5C,aAAan2B,KAAKpW,EAAGsL,OAUtCi/B,EAAO38C,UAAUg6F,WAAa,SAAUrrE,GACtC,IAAI/oB,EAAIg3B,EAIJm9D,EAAe,OAAM35F,KAAK44F,aAAc,QF1Xb,IE4X3Bx6C,EAAep+C,KAAKo+C,aACpBG,EAAev+C,KAAKu+C,aACpB9uB,EAAMlB,EAAM,GACZ5I,EAAM4I,EAAM,GACZmR,GAAS,EAETjQ,EAAM9J,IACS8J,GAAjBjqB,EAAK,CAACmgB,EAAK8J,IAAe,GAAI9J,EAAMngB,EAAG,GACJ44C,GAAnC5hB,EAAK,CAAC+hB,EAAcH,IAAiC,GAAIG,EAAe/hB,EAAG,GAC3EkD,GAAS,GAIX,IAAIq6D,EAAU37C,EAAan1B,UACvB+wE,EAAUz7C,EAAat1B,UACvB4wE,EAAWE,EAAQv1F,MAAQirB,EAnBjB,EAmBiC,CAC7C7gB,EAAG6gB,EAAMkqE,EAAe,EApBZ,EAqBZhmF,UAAW,QACT,CACF/E,EAAG6gB,EAAMkqE,EAAe,EAvBZ,EAwBZhmF,UAAW,SAETmmF,EAAWE,EAAQx1F,MAAQxE,KAAKwE,MAAQmhB,EA1B9B,EA0B8C,CAC1D/W,EAAG+W,EAAMg0E,EAAe,EA3BZ,EA4BZhmF,UAAW,SACT,CACF/E,EAAG+W,EAAMg0E,EAAe,EA9BZ,EA+BZhmF,UAAW,QAEb,OAAQ+rB,EAAgC,CAACo6D,EAAUD,GAAlC,CAACA,EAAUC,IAGvBv9C,EAvZT,CAwZE,UC3Ta,GApGf,SAAUt3C,GAGR,SAASg1F,EAAO/qF,GACd,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAMjC,OAJAkF,EAAMylF,OAAS,WAAU,GAAIz7E,GAE7BhK,EAAMkK,OAEClK,EAuFT,OAhGA,qBAAU+0F,EAAQh1F,GAYlBg1F,EAAOr6F,UAAUyqB,OAAS,SAAUnb,GAClClP,KAAK2qF,OAAS,WAAU,GAAI3qF,KAAK2qF,OAAQz7E,GACzClP,KAAKk6F,gBACLl6F,KAAKm6F,gBAGPF,EAAOr6F,UAAUwP,KAAO,WACtBpP,KAAKo6F,cACLp6F,KAAKm6F,gBAGPF,EAAOr6F,UAAUw6F,YAAc,WAC7Bp6F,KAAK4W,OAAS5W,KAAK0sB,SAAS,SAAU,CACpCrI,MAAO,CACLzV,EAAG5O,KAAK2qF,OAAO/7E,EACfC,EAAG7O,KAAK2qF,OAAO97E,EACfqK,EAAGlZ,KAAK2qF,OAAOzxE,EACfvG,KAAM,aAGV3S,KAAKq6F,YAAcr6F,KAAK0sB,SAAS,OAAQ,CACvCrI,MAAO,CACLjI,KAAMpc,KAAKs6F,qBACX3nF,KAAM,aAGV3S,KAAKu6F,iBAAmB,IAAI,SAC5B,IAAI/1F,EAAQ,EAAI,EAAIxE,KAAK2qF,OAAOzxE,EAC5BpK,EAAS,GAAM9O,KAAK2qF,OAAOzxE,EAAIgF,KAAKmE,KAAK,GAC7CriB,KAAKw6F,gBAAkBx6F,KAAKu6F,iBAAiB7tE,SAAS,OAAQ,CAC5DrI,MAAO,CACLzV,EAAG5O,KAAK2qF,OAAO/7E,EAAI,KAAkB5O,KAAK2qF,OAAOzxE,EACjDrK,EAAG7O,KAAK2qF,OAAO97E,EAAIC,EAAS,EAC5BtK,MAAOA,EACPsK,OAAQA,EACR6D,KAAM,aAGV3S,KAAKy6F,iBAAmBz6F,KAAKu6F,iBAAiB7tE,SAAS,OAAQ,CAC7DrI,MAAO,CACLzV,EAAG5O,KAAK2qF,OAAO/7E,EAAI,EAAI,EAAI5O,KAAK2qF,OAAOzxE,EACvCrK,EAAG7O,KAAK2qF,OAAO97E,EAAIC,EAAS,EAC5BtK,MAAOA,EACPsK,OAAQA,EACR6D,KAAM,aAGV3S,KAAK4P,IAAI5P,KAAKu6F,mBAGhBN,EAAOr6F,UAAUs6F,cAAgB,WAC/Bl6F,KAAK4W,OAAOwR,KAAK,IAAKpoB,KAAK2qF,OAAO/7E,GAClC5O,KAAK4W,OAAOwR,KAAK,IAAKpoB,KAAK2qF,OAAO97E,GAClC7O,KAAK4W,OAAOwR,KAAK,IAAKpoB,KAAK2qF,OAAOzxE,GAClClZ,KAAKq6F,YAAYjyE,KAAK,OAAQpoB,KAAKs6F,sBACnC,IAAI91F,EAAQ,EAAI,EAAIxE,KAAK2qF,OAAOzxE,EAC5BpK,EAAS,GAAM9O,KAAK2qF,OAAOzxE,EAAIgF,KAAKmE,KAAK,GAC7CriB,KAAKw6F,gBAAgBpyE,KAAK,IAAKpoB,KAAK2qF,OAAO/7E,EAAI,KAAkB5O,KAAK2qF,OAAOzxE,GAC7ElZ,KAAKw6F,gBAAgBpyE,KAAK,IAAKpoB,KAAK2qF,OAAO97E,EAAIC,EAAS,GACxD9O,KAAKw6F,gBAAgBpyE,KAAK,QAAS5jB,GACnCxE,KAAKw6F,gBAAgBpyE,KAAK,SAAUtZ,GACpC9O,KAAKy6F,iBAAiBryE,KAAK,IAAKpoB,KAAK2qF,OAAO/7E,EAAI,EAAI,EAAI5O,KAAK2qF,OAAOzxE,GACpElZ,KAAKy6F,iBAAiBryE,KAAK,IAAKpoB,KAAK2qF,OAAO97E,EAAIC,EAAS,GACzD9O,KAAKy6F,iBAAiBryE,KAAK,QAAS5jB,GACpCxE,KAAKy6F,iBAAiBryE,KAAK,SAAUtZ,IAGvCmrF,EAAOr6F,UAAUu6F,aAAe,WAC1Bn6F,KAAK2qF,OAAO+P,QACd16F,KAAKq6F,YAAY/pF,OACjBtQ,KAAKu6F,iBAAiBnqF,SAEtBpQ,KAAKq6F,YAAYjqF,OACjBpQ,KAAKu6F,iBAAiBjqF,SAM1B2pF,EAAOr6F,UAAU06F,mBAAqB,WACpC,IAAIK,EAAa,GAAM36F,KAAK2qF,OAAOzxE,EAAIgF,KAAKmE,KAAK,GACjD,MAAO,CAAC,CAAC,IAAKriB,KAAK2qF,OAAO/7E,EAAI+rF,EAAaz8E,KAAKmE,KAAK,GAAK,EAAGriB,KAAK2qF,OAAO97E,EAAI8rF,EAAa,GAAI,CAAC,IAAK36F,KAAK2qF,OAAO/7E,EAAI+rF,EAAaz8E,KAAKmE,KAAK,GAAIriB,KAAK2qF,OAAO97E,GAAI,CAAC,IAAK7O,KAAK2qF,OAAO/7E,EAAI+rF,EAAaz8E,KAAKmE,KAAK,GAAK,EAAGriB,KAAK2qF,OAAO97E,EAAI8rF,EAAa,KAG5OV,EAjGT,CAkGE,UClGS,ICUX,SAAUh1F,GAGR,SAAS21F,EAAS1rF,GAChB,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAqEjC,OAnEAkF,EAAM21F,sBAAwB,SAAU16F,GACtCA,EAAEq/C,kBACFr/C,EAAEs/C,iBAEF,IAAI7wC,EAAI,OAAMzO,EAAG,kBAAmBA,EAAEi4F,OAElC9tD,EAAU17B,EAAI1J,EAAM+yF,MAExB/yF,EAAM41F,eAAexwD,GAErBplC,EAAM+yF,MAAQrpF,GAGhB1J,EAAM61F,oBAAsB,SAAU56F,GACpC+E,EAAM81F,mBAEN91F,EAAMwnC,KAhCO,cAgCY,MAGzB,IAAIkT,EAAe16C,EAAM+X,IAAI,UAAUA,IAAI,gBAEvC2iC,IACFA,EAAamkB,oBAAoB,YAAa7+D,EAAM21F,uBACpDj7C,EAAamkB,oBAAoB,UAAW7+D,EAAM61F,qBAElDn7C,EAAamkB,oBAAoB,aAAc7+D,EAAM61F,qBAErDn7C,EAAamkB,oBAAoB,YAAa7+D,EAAM21F,uBACpDj7C,EAAamkB,oBAAoB,WAAY7+D,EAAM61F,qBACnDn7C,EAAamkB,oBAAoB,cAAe7+D,EAAM61F,uBAI1D71F,EAAM+1F,sBAAwB,SAAU96F,GACtC,IAAIo/C,EAAQp/C,EAAEo/C,MACdA,EAAMC,kBACND,EAAME,kBAEe,IAAjBv6C,EAAMw1F,OACRx1F,EAAMwnC,KAzDO,gBAyDc,OAG3BxnC,EAAMw1F,QAAS,EAEfx1F,EAAMg2F,kBAAiB,IAGzBh2F,EAAM+yF,MAAQ,OAAM93F,EAAG,kBAAmBo/C,EAAM64C,OAEhD,IAAIx4C,EAAe16C,EAAM+X,IAAI,UAAUA,IAAI,gBAE3C2iC,EAAagjB,iBAAiB,YAAa19D,EAAM21F,uBACjDj7C,EAAagjB,iBAAiB,UAAW19D,EAAM61F,qBAC/Cn7C,EAAagjB,iBAAiB,aAAc19D,EAAM61F,qBAElDn7C,EAAagjB,iBAAiB,YAAa19D,EAAM21F,uBACjDj7C,EAAagjB,iBAAiB,WAAY19D,EAAM61F,qBAChDn7C,EAAagjB,iBAAiB,cAAe19D,EAAM61F,sBAGrD71F,EAAMylF,OAAS,WAAU,GAAI,CAC3BwQ,MAAO,EACPC,MAAM,GACLlsF,GAEHhK,EAAMkK,OAEClK,EAxET,qBAAU01F,EAAU31F,GA4EpB21F,EAASh7F,UAAUyqB,OAAS,SAAUnb,GACpClP,KAAK2qF,OAAS,WAAU,GAAI3qF,KAAK2qF,OAAQz7E,GACzC,IAAIsf,EAAQxuB,KAAK2qF,OAAOn8D,MACxBxuB,KAAKq7F,YAAc7sE,EAAM6B,SAASrwB,KAAKq7F,aAAer7F,KAAKq7F,YAAc7sE,EAAM,GAC/ExuB,KAAKs7F,mBACLt7F,KAAKu7F,iBACLv7F,KAAKw7F,iBAAiBx7F,KAAKq7F,cAG7BT,EAASh7F,UAAUoQ,QAAU,WAC3B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9BA,KAAKy7F,eAAevrF,MACpBlQ,KAAK07F,WAAWxrF,OAGlB0qF,EAASh7F,UAAUwP,KAAO,WACxB,IAAI5J,EAAKxF,KAAK2qF,OACVn8D,EAAQhpB,EAAGgpB,MACXmtE,EAAqBn2F,EAAGm2F,mBAExBntE,GAASA,EAAM/uB,SACjBO,KAAKq7F,YAAcr7F,KAAK2qF,OAAOn8D,MAAM6B,SAASsrE,GAAsBA,EAAqBntE,EAAM,GAC/FxuB,KAAKs7F,mBACLt7F,KAAKu7F,iBACLv7F,KAAKw7F,iBAAiBx7F,KAAKq7F,aAC3Br7F,KAAK47F,cAIThB,EAASh7F,UAAU07F,iBAAmB,WACpC,IAAI91F,EAAKxF,KAAK2qF,OACV77E,EAAStJ,EAAGsJ,OACZF,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EAEPqK,EAAIpK,EAAS,EADL,GAGR9O,KAAKy7F,eACPz7F,KAAKy7F,eAAepxE,OAAO,CACzBzb,EAAGA,EAAIsK,EACPrK,EAAGA,EAAIqK,EAAIpK,GAAU,EANb,IAM0B,EAClCoK,EAAGA,KAGLlZ,KAAKy7F,eAAiB,IAAI,GAAO,CAC/B7sF,EAAGA,EAAIsK,EACPrK,EAAGA,EAAIqK,EAAIpK,GAAU,EAZb,IAY0B,EAClCoK,EAAGA,EACHwhF,OAAQ16F,KAAK06F,SAEf16F,KAAK4P,IAAI5P,KAAKy7F,kBAIlBb,EAASh7F,UAAUi8F,gBAAkB,WACnC,IAAIr2F,EAAKxF,KAAK87F,SACVltF,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EACPrK,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OACZoK,EAAIpK,EAAS,EAEjB,OAAItK,EAAQ,EACH,IAAMoK,EAAI,KAAOC,EAAK,IAAMqK,EAAI,IAAMA,EAAI,WAAatK,EAAI,KAAOC,EAAIC,GAAY,KAAOF,EAAIpK,GAAS,MAAQqK,EAAIC,GAAY,IAAMoK,EAAI,IAAMA,EAAI,YAActK,EAAIpK,GAAS,IAAMqK,EAAM,IAAMD,EAAI,KAAOC,EAG5M,IAGT+rF,EAASh7F,UAAU27F,eAAiB,WAClC,IAAIr2F,EAAQlF,KAERwF,EAAKxF,KAAK2qF,OACVnmF,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OACZ0f,EAAQhpB,EAAGgpB,MACX5f,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EAEN7O,KAAK87F,WACR97F,KAAK87F,SAAW,IAKlB97F,KAAK87F,SAAShtF,OAAkB,IAATA,EACvB9O,KAAK87F,SAASltF,EAAIA,EAAIE,EA7KP,GA8Kf9O,KAAK87F,SAASjtF,EAAIA,GAAKC,EAAS,EAAI9O,KAAK87F,SAAShtF,OAAS,GAC3D9O,KAAK87F,SAASt3F,MAAQA,EAAQxE,KAAK87F,SAASltF,EA9K5B,GAgLZ5O,KAAK87F,UAAY97F,KAAK87F,SAAS5hF,MACjCla,KAAK87F,SAAS5hF,MAAMkO,KAAK,OAAQpoB,KAAK67F,mBAEtC77F,KAAK87F,SAAS5hF,MAAQla,KAAK0sB,SAAS,OAAQ,CAC1CrI,MAAO,CACLjI,KAAMpc,KAAK67F,kBACXlpF,KAAM,UACNkB,QAAS,MAKf,IAAIZ,EAAWjT,KAAK87F,SAASt3F,OAASgqB,EAAM/uB,OAAS,GACrDO,KAAK+7F,YAAc,GAEf/7F,KAAK87F,SAASE,UAAYh8F,KAAK87F,SAASE,SAASv8F,QACnDO,KAAK87F,SAASE,SAAS9zF,SAAQ,SAAUwL,GACvCA,EAAK1D,aAIT,IAAIisF,GAASrjE,IACb54B,KAAK87F,SAASE,SAAWxtE,EAAMpqB,KAAI,SAAUsW,EAAMpW,GACjDY,EAAM62F,YAAYvrF,KAAKtL,EAAM42F,SAASltF,EAAItK,EAAQ2O,GAElD,IAAIS,EAAOxO,EAAMwnB,SAAS,OAAQ,CAChCrI,MAAO,CACLzV,EAAG1J,EAAM42F,SAASltF,EAAItK,EAAQ2O,EAC9BpE,EAAG3J,EAAM42F,SAASjtF,EAAI3J,EAAM42F,SAAShtF,OAAS,EAC9C4E,KAAMgH,EACN/G,UAAW,SACXC,aAAc,MACdjB,KAAM,UACNkB,QAAS,OAITg3B,EAAOn3B,EAAKuV,UAShB,OAPI4hB,EAAKtiB,KAAO0zE,GACdvoF,EAAKtD,OACL6rF,EAAQpxD,EAAKtiB,KAAOsiB,EAAKrmC,MAAQ,IAEjCkP,EAAKpD,OAGAoD,MAIXknF,EAASh7F,UAAU47F,iBAAmB,SAAUxsE,GAC9C,IAAIxpB,EAAKxF,KAAK2qF,OACVn8D,EAAQhpB,EAAGgpB,MACX1f,EAAStJ,EAAGsJ,OACZmE,EAAWjT,KAAK87F,SAASt3F,OAASgqB,EAAM/uB,OAAS,GAEjD6E,EAAQ,aAAYkqB,GAAO,SAAU9T,GACvC,OAAOA,IAASsU,KAGdpgB,EAAI5O,KAAK87F,SAASltF,EAAItK,EAAQ2O,EAC9BpE,EAAI7O,KAAK2qF,OAAO97E,EAAIC,EAAS,EAC7BoK,EAAa,IAATpK,EAEJ9O,KAAK07F,YACP17F,KAAK07F,WAAWtzE,KAAK,IAAKxZ,GAC1B5O,KAAK07F,WAAWtzE,KAAK,IAAKvZ,GAC1B7O,KAAK07F,WAAWtzE,KAAK,IAAKlP,IAE1BlZ,KAAK07F,WAAa17F,KAAK0sB,SAAS,SAAU,CACxCrI,MAAO,CACLzV,EAAGA,EACHC,EAAGA,EACHqK,EAAGA,EACHvG,KAAM,aAKR3S,KAAKk8F,gBACPl8F,KAAKk8F,eAAe9zE,KAAK,IAAKxZ,GAC9B5O,KAAKk8F,eAAe9zE,KAAK,IAAKvZ,EAAa,IAATC,EAAgB,IAClD9O,KAAKk8F,eAAe9zE,KAAK,OAAQpoB,KAAKq7F,cAEtCr7F,KAAKk8F,eAAiBl8F,KAAK0sB,SAAS,OAAQ,CAC1CrI,MAAO,CACLzV,EAAGA,EACHC,EAAGA,EAAa,IAATC,EAAgB,GACvB4E,KAAM1T,KAAKq7F,YACX1nF,UAAW,SACXC,aAAc,MACdjB,KAAM,cAQdioF,EAASh7F,UAAUu8F,gBAAkB,SAAUC,GAC7C,IAAK,IAAI78F,EAAI,EAAGA,EAAIS,KAAK+7F,YAAYt8F,OAAS,EAAGF,IAC/C,GAAIS,KAAK+7F,YAAYx8F,IAAM68F,GAAeA,GAAep8F,KAAK+7F,YAAYx8F,EAAI,GAC5E,OAAO2e,KAAKsE,IAAIxiB,KAAK+7F,YAAYx8F,GAAK68F,GAAel+E,KAAKsE,IAAI45E,EAAcp8F,KAAK+7F,YAAYx8F,EAAI,IAAMA,EAAIA,EAAI,GAOrHq7F,EAASh7F,UAAUk7F,eAAiB,SAAUxwD,GAC5C,IAAI8xD,EAAcp8F,KAAK07F,WAAWtzE,KAAK,KAAOkiB,EAE1C8xD,EAAcp8F,KAAK87F,SAASltF,IAC9BwtF,EAAcp8F,KAAK87F,SAASltF,GAG1BwtF,EAAcp8F,KAAK87F,SAASltF,EAAI5O,KAAK87F,SAASt3F,QAChD43F,EAAcp8F,KAAK87F,SAASltF,EAAI5O,KAAK87F,SAASt3F,MAE1CxE,KAAK06F,SAEH16F,KAAK2qF,OAAOyQ,KAEVp7F,KAAK07F,WAAWtzE,KAAK,OAASpoB,KAAK87F,SAASltF,EAAI5O,KAAK87F,SAASt3F,QAChE43F,EAAcp8F,KAAK87F,SAASltF,IAG9B5O,KAAK06F,QAAS,EACd16F,KAAKk7F,sBAKXl7F,KAAK07F,WAAWtzE,KAAK,IAAKg0E,GAC1Bp8F,KAAKk8F,eAAe9zE,KAAK,IAAKg0E,GAC9B,IAAI93F,EAAQtE,KAAKm8F,gBAAgBC,GAE7Bp8F,KAAKq7F,cAAgBr7F,KAAK2qF,OAAOn8D,MAAMlqB,KACzCtE,KAAKq7F,YAAcr7F,KAAK2qF,OAAOn8D,MAAMlqB,GACrCtE,KAAKk8F,eAAe9zE,KAAK,OAAQpoB,KAAKq7F,aACtCr7F,KAAK0sC,KA/TW,iBA+TW1sC,KAAKq7F,cAGlCr7F,KAAKid,IAAI,UAAUnN,QAKrB8qF,EAASh7F,UAAUo7F,iBAAmB,WACpC,IAAI91F,EAAQlF,KAERwuB,EAAQxuB,KAAK2qF,OAAOn8D,MACpBvb,EAAWjT,KAAK87F,SAASt3F,OAASgqB,EAAM/uB,OAAS,GAEjD6E,EAAQ,aAAYkqB,GAAO,SAAU9T,GACvC,OAAOA,IAASxV,EAAMm2F,eAGpBzsF,EAAI5O,KAAK87F,SAASltF,EAAItK,EAAQ2O,EAClCjT,KAAK07F,WAAWtzE,KAAK,IAAKxZ,GAC1B5O,KAAKk8F,eAAe9zE,KAAK,IAAKxZ,GAC9B5O,KAAKid,IAAI,UAAUnN,QAGrB8qF,EAASh7F,UAAUy8F,UAAY,WAC7B,IAAIn3F,EAAQlF,KAEZ,OAAOy9E,OAAO6e,uBAAsB,WAClC,IAAI92F,EAAKN,EAAMylF,OACXwQ,EAAQ31F,EAAG21F,MACX3sE,EAAQhpB,EAAGgpB,MAGX8b,EAFQplC,EAAM42F,SAASt3F,MACAgqB,EAAM/uB,QACK,IAAR07F,EAAe,IAE7Cj2F,EAAM41F,eAAexwD,GAEjBplC,EAAMw1F,SACRx1F,EAAMq3F,YAAcr3F,EAAMm3F,iBAKhCzB,EAASh7F,UAAUs7F,iBAAmB,SAAUsB,QAC/B,IAAXA,IACFA,GAAS,GAGXx8F,KAAKy7F,eAAepxE,OAAO,CACzBqwE,OAAQ16F,KAAK06F,SAGX16F,KAAK06F,QAEP16F,KAAKu8F,YAAcv8F,KAAKq8F,YACxBr8F,KAAK0sC,KAvXU,gBAuXW,OAGtB1sC,KAAKu8F,cACP9e,OAAOgf,qBAAqBz8F,KAAKu8F,aAE7BC,IACFx8F,KAAKg7F,mBACLh7F,KAAK0sC,KA7XI,cA6Xe,QAK9B1sC,KAAKid,IAAI,UAAUnN,QAGrB8qF,EAASh7F,UAAUg8F,UAAY,WAC7B,IAAI12F,EAAQlF,KAIZA,KAAKy7F,eAAeztF,GAAG,SAAS,WAC9B9I,EAAMw1F,QAAUx1F,EAAMw1F,OAEtBx1F,EAAMg2F,sBAIRl7F,KAAK07F,WAAW1tF,GAAG,YAAahO,KAAKi7F,wBAvYzC,CA2YE,UDrZ+B,SAA6BrzD,EAAOtZ,EAAQ7O,EAAMja,EAAI20C,GACrF,IAAIjpC,EAAQ1L,EAAG,GACX2L,EAAM3L,EAAG,QAEI,IAAb20C,IACFA,GAAW,GAGb,IAAIuiD,EAAc,mBAAQj9E,EAAMmoB,GAC5B+0D,EAAYxiD,EAAW7rB,EAAOhJ,MAAMgJ,EAAO7uB,OAAS0R,EAAKmd,EAAO7uB,OAASyR,GAASod,EAAOhJ,MAAMpU,EAAOC,GAC1G,OAAO,mBAAQ,eAAIwrF,GAAW,SAAU/7F,GACtC,OAAO87F,EAAY97F,IAAU,SET7B,GAA0B,SAAiCsO,QACjD,IAARA,IACFA,EAAM,IAGR,IAAI0tF,EAAO,oBAAS,CAClBz2F,KAAM,aACN02F,aAXwB,GAYxBr4F,MAbe,EAcfsK,OAde,EAefjI,QAAS,CAAC,EAAG,EAAG,EAAG,IAClBqI,GAOH,OAJKA,EAAIrI,UACP+1F,EAAK/1F,QAAwB,eAAd+1F,EAAKz2F,KAAwB,CArB1B,EAqB4C,EArB5C,EAqBgE,GAAK,CAAC,EArBtE,EAqB0F,EArB1F,IAwBby2F,GAsLM,GAjLf,SAAU33F,GAGR,SAAS63F,IACP,IAAI53F,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAKhE,OAHAkF,EAAM63F,WAAa,oBAAS73F,EAAMmC,SAASinE,KAAKppE,GAAQ,GAAI,CAC1D83F,SAAS,IAEJ93F,EAqKT,OA7KA,qBAAU43F,EAAsB73F,GAWhC63F,EAAqBjK,oBAAsB,SAAUC,EAAY/X,GAC/D,IAAI4P,EAAS,GAAwB5P,GACjCv1E,EAAKmlF,EAAO9jF,QACZo2F,EAAaz3F,EAAG,GAChB03F,EAAe13F,EAAG,GAClB23F,EAAgB33F,EAAG,GACnB43F,EAAc53F,EAAG,GAErB,MAAoB,eAAhBmlF,EAAOxkF,KACF,IAAI,QAAK2sF,EAAWvqE,KAAMuqE,EAAWpqE,KAAOiiE,EAAO77E,OAASmuF,EAAaE,EAAerK,EAAWtuF,MAAOmmF,EAAO77E,OAASmuF,EAAaE,GAEvI,IAAI,QAAKrK,EAAWtqE,KAAOmiE,EAAOnmF,MAAQ44F,EAAcF,EAAcpK,EAAWrqE,KAAMkiE,EAAOnmF,MAAQ44F,EAAcF,EAAcpK,EAAWhkF,SAIxJguF,EAAqBl9F,UAAU+P,OAAS,WACtC,IAAIzK,EAAQlF,KAER+N,EAAO/N,KAAK+N,KAChB/N,KAAKq+B,MAAQ,EACbr+B,KAAKq0F,YAAc,EACnBtmF,EAAKC,GAAG,eAAe,WACrB,IAAInH,EAAU3B,EAAM6I,KAAKkP,IAAI,WAGxB,mBAAQ,CAAC,EAAG,EAAG,EAAG,GAAIpW,KACpB3B,EAAMwvF,SAKTxvF,EAAMm4F,mBAJNn4F,EAAMo4F,mBAENp4F,EAAMq4F,eAAer4F,EAAMs4F,wBAQnCV,EAAqBl9F,UAAUmQ,MAAQ,WACjC/P,KAAKy9F,YACPz9F,KAAKy9F,UAAUztF,UACfhQ,KAAKy9F,UAAY,MAGfz9F,KAAK0O,YACP1O,KAAK0O,UAAUyB,QAAO,GACtBnQ,KAAK0O,UAAY,MAGnB1O,KAAK00F,SAAW,KAChB10F,KAAK+zF,SAAW,MAGlB+I,EAAqBl9F,UAAUy9F,gBAAkB,WAC/C,IAAI1S,EAAS,GAAwB3qF,KAAKizF,wBACtC1kE,EAAQvuB,KAAKgzF,WACbv1C,EAA+B,aAAhBktC,EAAOxkF,KACtBwoC,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3BzX,EAAKmlF,EAAO9jF,QACZo2F,EAAaz3F,EAAG,GAChB43F,EAAc53F,EAAG,GACjBgR,EAAWinC,EAAe,CAC5B7uC,EAAG+/B,EAAWpmB,KAAO60E,EACrBvuF,EAAG0f,EAAM4hB,GAAGthC,EAAIouF,GACd,CACFruF,EAAG2f,EAAM4hB,GAAGvhC,EAAIwuF,EAChBvuF,EAAG8/B,EAAWlmB,KAAOw0E,GAGlBj9F,KAAKy9F,WAaRz9F,KAAKy9F,UAAU3I,eAAe90F,KAAK00F,UACnC10F,KAAKy9F,UAAUvI,eAAel1F,KAAK+zF,UACnC/zF,KAAKy9F,UAAUrI,mBAAmB5+E,GAClCxW,KAAKy9F,UAAUvJ,kBAAkBl0F,KAAKq0F,eAftCr0F,KAAK0O,UAAY1O,KAAK+O,OAAOw+B,WAC7BvtC,KAAKy9F,UAAY,IAAI,GAAU,CAC7BhgD,aAAcA,EACdi3C,SAAU10F,KAAK00F,SACfX,SAAU/zF,KAAK+zF,SACfv9E,SAAUA,EACV69E,YAAar0F,KAAKq+B,MAAQr+B,KAAK00F,WAEjC10F,KAAK0O,UAAUkB,IAAI5P,KAAKy9F,WACxBz9F,KAAKy9F,UAAUptF,IAAI,SAnHA,KAoHnBrQ,KAAKy9F,UAAUzvF,GAAG,eAAgBhO,KAAK+8F,cAS3CD,EAAqBl9F,UAAU09F,iBAAmB,WAChD,IAAI3S,EAAS,GAAwB3qF,KAAKizF,wBACtCztF,EAAKmlF,EAAO9jF,QACZo2F,EAAaz3F,EAAG,GAChB03F,EAAe13F,EAAG,GAClB23F,EAAgB33F,EAAG,GACnB43F,EAAc53F,EAAG,GACjBi4C,EAA+B,aAAhBktC,EAAOxkF,KACtBwoC,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3By+C,EAAS17D,KAAK+N,KAAKktD,YACnB/O,EAAUlsD,KAAK+N,KAAK+rE,aACxB95E,KAAK09F,IAAMhiC,EAAOptC,OAAO7uB,OACzBO,KAAK29F,UAAY,CACf/1D,MAAO8zB,EAAO9zB,MACdtZ,OAAQotC,EAAOptC,QAAU,IAE3BtuB,KAAK49F,WAAa,eAAI1xC,GAAS,SAAU5kD,GACvC,MAAO,CACLsgC,MAAOtgC,EAAKsgC,MACZzhC,KAAMmB,EAAKnB,KACXspB,IAAKnoB,EAAKmoB,IACV9J,IAAKre,EAAKqe,IACV6I,MAAOlnB,EAAKknB,MACZS,UAAW3nB,EAAK2nB,cAGpBjvB,KAAKu7B,KAAOrd,KAAK2V,OAAO4pB,EAAe9O,EAAWnqC,MAAQmqC,EAAW7/B,QAAU67E,EAAOkS,cACtF78F,KAAK00F,SAAWj3C,EAAe9O,EAAWnqC,MAAQ44F,EAAcF,EAAevuD,EAAW7/B,OAASmuF,EAAaE,EAChHn9F,KAAK+zF,SAAW71E,KAAKyH,IAAI3lB,KAAK00F,SAAW,iBAAM10F,KAAKu7B,KAAOmgC,EAAOptC,OAAO7uB,OAAQ,EAAG,GA1JjE,IA6JrBq9F,EAAqBl9F,UAAU49F,eAAiB,WAC9C,IAAIK,EAAW3/E,KAAK2V,OAAO7zB,KAAK09F,IAAM19F,KAAKu7B,MAAQ,iBAAMv7B,KAAKq+B,MAAO,EAAG,IAExE,MAAO,CAACw/D,EADK3/E,KAAKuR,IAAIouE,EAAW79F,KAAKu7B,KAAMv7B,KAAK09F,OAInDZ,EAAqBl9F,UAAU29F,eAAiB,SAAU/3F,GACxD,IAAIN,EAAQlF,KAER69F,EAAWr4F,EAAG,GACds4F,EAASt4F,EAAG,GACZmlF,EAAS,GAAwB3qF,KAAKizF,wBACtCZ,EAAYryF,KAAK+yF,eACjBgL,EAAO1L,EAAU9jF,QAAQwvF,KACzBC,EAAW3L,EAAU4L,UACrBC,EAAU,GAAoBl+F,KAAK29F,UAAU/1D,MAAO5nC,KAAK29F,UAAUrvE,OAAQ0vE,EAAU,CAACH,EAAUC,GAAyB,aAAhBnT,EAAOxkF,MAEpHnG,KAAK49F,WAAW11F,SAAQ,SAAUgH,GAChC,IAAIivF,EAAU,eAAIJ,EAAM7uF,EAAI04B,QAAU,GAEtC1iC,EAAM6I,KAAK4f,MAAMze,EAAI04B,MAAO,oBAAS,oBAAS,CAC5C3Y,UAAW/f,EAAI+f,WACdkvE,GAAU,CACXh4F,KAAM+I,EAAI/I,KACVspB,IAAKvgB,EAAIugB,IACT9J,IAAKzW,EAAIyW,UAGb3lB,KAAK+N,KAAKsC,IAAI,OAAQ6tF,GACtBl+F,KAAK+N,KAAKyiD,WAGZssC,EAAqBl9F,UAAUyH,SAAW,SAAU7B,GAClD,IAAI64B,EAAQ74B,EAAG64B,MACXg2D,EAAc7uF,EAAG6uF,YACrBr0F,KAAKq+B,MAAQA,EACbr+B,KAAKq0F,YAAcA,EACnB,IAAI+J,EAAgBp+F,KAAK+N,KAAKkP,IAAI,aAClCjd,KAAK+N,KAAKyO,SAAQ,GAClBxc,KAAKu9F,eAAev9F,KAAKw9F,kBACzBx9F,KAAK+N,KAAKyO,QAAQ4hF,IAGbtB,EA9KT,CA+KE,ICzME,GAAuB,SAA8B5tF,QAC3C,IAARA,IACFA,EAAM,IAGR,IAAI0tF,EAAO,oBAAS,CAClBz2F,KAAM,aACN+K,MAAO,EACPC,IAAK,EACL3M,WAAOsC,EACPgI,YAAQhI,EACRD,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB8R,qBAAiB7R,EACjBu3F,qBAAiBv3F,GAChBoI,GAGEA,EAAIrI,UACP+1F,EAAK/1F,QAAwB,eAAd+1F,EAAKz2F,KAAwB,CArB1B,EAqB4C,EArB5C,EAqBgE,GAAK,CAAC,EArBtE,EAqB0F,EArB1F,IAyBf+I,EAAIJ,SACP8tF,EAAK9tF,OAzBU,IA4BZI,EAAI1K,QACPo4F,EAAKp4F,MA7BU,IAiCjB,IAAI0M,EAAQ,iBAAMgN,KAAKuR,IAAImtE,EAAK1rF,MAAO0rF,EAAKzrF,KAAM,EAAG,GACjDA,EAAM,iBAAM+M,KAAKyH,IAAIi3E,EAAK1rF,MAAO0rF,EAAKzrF,KAAM,EAAG,GAGnD,OAFAyrF,EAAK1rF,MAAQA,EACb0rF,EAAKzrF,IAAMA,EACJyrF,GAiMM,GA5Lf,SAAU33F,GAGR,SAASq5F,IACP,IAAIp5F,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAKhE,OAHAkF,EAAM63F,WAAa,oBAAS73F,EAAMmC,SAASinE,KAAKppE,GAAQ,GAAI,CAC1D83F,SAAS,IAEJ93F,EAgLT,OAxLA,qBAAUo5F,EAAmBr5F,GAW7Bq5F,EAAkBzL,oBAAsB,SAAUC,EAAY/X,GAC5D,IAAI4P,EAAS,GAAqB5P,GAE9Bv1E,EAAKmlF,EAAO9jF,SAAW,CAAC,EAAG,EAAG,EAAG,GACjCo2F,EAAaz3F,EAAG,GAChB03F,EAAe13F,EAAG,GAClB23F,EAAgB33F,EAAG,GACnB43F,EAAc53F,EAAG,GAErB,MAAoB,eAAhBmlF,EAAOxkF,KACF,IAAI,QAAK2sF,EAAWvqE,KAAMuqE,EAAWpqE,KAAOiiE,EAAO77E,OAASmuF,EAAaE,EAAerK,EAAWtuF,MAAOmmF,EAAO77E,OAASmuF,EAAaE,GAEvI,IAAI,QAAKrK,EAAWtqE,KAAOmiE,EAAOnmF,MAAQ44F,EAAcF,EAAcpK,EAAWrqE,KAAMkiE,EAAOnmF,MAAQ44F,EAAcF,EAAcpK,EAAWhkF,SAIxJwvF,EAAkB1+F,UAAU+P,OAAS,WACnC,IAAIzK,EAAQlF,KAGR2qF,EAAS,GAAqB3qF,KAAKizF,wBACvCjzF,KAAKu+F,SAAW5T,EAAOz5E,MACvBlR,KAAKw+F,OAAS7T,EAAOx5E,IACrBnR,KAAK29F,eAAY72F,EAEjB9G,KAAK+N,KAAKC,GAAG,eAAe,WAC1B,GAAK9I,EAAMy4F,UAaTz4F,EAAM87C,mBAbc,CAEpB,IAAI0a,EAASx2D,EAAM6I,KAAKktD,YAExB/1D,EAAMy4F,UAAY,CAChB/1D,MAAO8zB,EAAO9zB,MACdtZ,OAAQotC,EAAOptC,QAAU,IAG3BppB,EAAM6I,KAAKsC,IAAI,OAAQnL,EAAMu5F,cAAcv5F,EAAMq5F,SAAUr5F,EAAMs5F,SAEjEt5F,EAAM6I,KAAKyiD,eAOjB8tC,EAAkB1+F,UAAUmQ,MAAQ,WAC9B/P,KAAKohD,SACPphD,KAAKohD,OAAOpxC,UACZhQ,KAAKohD,OAAS,MAGZphD,KAAK0O,YACP1O,KAAK0O,UAAUyB,QAAO,GACtBnQ,KAAK0O,UAAY,OAIrB4vF,EAAkB1+F,UAAUohD,aAAe,WACpChhD,KAAKohD,OAMRphD,KAAKohD,OAAO/2B,OAAOrqB,KAAKkhD,oBALxBlhD,KAAK0O,UAAY1O,KAAK+O,OAAOw+B,WAC7BvtC,KAAKohD,OAAS,IAAI,GAAOphD,KAAKkhD,mBAC9BlhD,KAAKohD,OAAOpzC,GAAG,eAAgBhO,KAAK+8F,YACpC/8F,KAAK0O,UAAUkB,IAAI5P,KAAKohD,UAM5Bk9C,EAAkB1+F,UAAUshD,gBAAkB,WAC5C,IACIvS,EADO3uC,KAAK+N,KACMkP,IAAI,cACtBsR,EAAQvuB,KAAKgzF,WAGbxtF,EAFS,GAAqBxF,KAAKizF,yBAEpB,GACfz2D,EAAKh3B,EAAGqB,QACRA,OAAiB,IAAP21B,EAAgB,CAAC,EAAG,EAAG,EAAG,GAAKA,EACzC6hE,EAAkB74F,EAAG64F,gBACrB1lF,EAAkBnT,EAAGmT,gBAErBskF,EAAap2F,EAAQ,GACrBq2F,EAAer2F,EAAQ,GACvBs2F,EAAgBt2F,EAAQ,GACxBu2F,EAAcv2F,EAAQ,GAEtB87B,EAAK3iC,KAAK0+F,oBAAoB1+F,KAAKu+F,SAAUv+F,KAAKw+F,QAClDvF,EAAUt2D,EAAGs2D,QACbE,EAAUx2D,EAAGw2D,QAEbjqF,EAAM,CACRN,EAAG+/B,EAAWpmB,KAAO60E,EACrBvuF,EAAG0f,EAAM4hB,GAAGthC,EAAIouF,EAChBz4F,MAAOmqC,EAAWnqC,MAAQ44F,EAAcF,EACxCpuF,OAAQyf,EAAMzf,OAASmuF,EAAaE,EACpCjsF,MAAOlR,KAAKu+F,SACZptF,IAAKnR,KAAKw+F,OACVvF,QAASA,EACTE,QAASA,EACTT,SAAU,CACRj5E,KAAMzf,KAAK2+F,qBACX3H,QAAQ,EACR38E,QAAQ,GAEVs+E,gBAAiB,GACjBtiF,gBAAiB,IAWnB,OARIgoF,IACFnvF,EAAIypF,gBAAgBhmF,KAAO0rF,GAGzB1lF,IACFzJ,EAAImH,gBAAgB1D,KAAOgG,GAGtBzJ,GAGTovF,EAAkB1+F,UAAU++F,mBAAqB,WAC/C,IAAIn5F,EAAKxF,KAAK+yF,eAAexkF,QACzBkR,EAAOja,EAAGia,KACVsgB,EAASv6B,EAAGu6B,OAChB,OAAO,eAAItgB,GAAM,SAAUnY,GACzB,OAAOA,EAAKy4B,OAIhBu+D,EAAkB1+F,UAAU6+F,cAAgB,SAAUvtF,EAAOC,GAC3D,IAAI6sF,EAAWh+F,KAAK+yF,eAAekL,UAC/Bx+F,EAAS,gBAAKO,KAAK29F,UAAUrvE,QAC7BuvE,EAAW3/E,KAAKgS,MAAMhf,EAAQzR,GAC9Bq+F,EAAS5/E,KAAKyH,IAAIk4E,EAAW,EAAG3/E,KAAKgS,MAAM/e,EAAM1R,IACrD,OAAO,GAAoBO,KAAK29F,UAAU/1D,MAAO5nC,KAAK29F,UAAUrvE,OAAQ0vE,EAAU,CAACH,EAAUC,KAG/FQ,EAAkB1+F,UAAU8+F,oBAAsB,SAAUxtF,EAAOC,GACjE,IAAI3L,EAAKxF,KAAK+yF,eAAexkF,QACzBiuB,EAAKh3B,EAAGia,KACRA,OAAc,IAAP+c,EAAgB,GAAKA,EAC5BsD,EAASt6B,EAAGs6B,OACZrgC,EAAS,gBAAKggB,GACdo+E,EAAW3/E,KAAKgS,MAAMhf,EAAQzR,GAC9Bq+F,EAAS5/E,KAAKyH,IAAIk4E,EAAW,EAAG3/E,KAAKgS,MAAM/e,EAAM1R,IACjDy+F,EAAUz+E,EAAK6F,MAAMu4E,EAAUC,GACnC,MAAO,CACL7E,QAAS,gBAAKiF,GAASp+D,GACvBq5D,QAAS,gBAAK+E,GAASp+D,KAI3Bw+D,EAAkB1+F,UAAUyH,SAAW,SAAUknB,GAC/C,IAAIxgB,EAAO/N,KAAK+N,KACZmD,EAAQ,iBAAMgN,KAAKuR,IAAIlB,EAAM,GAAIA,EAAM,IAAK,EAAG,GAC/Cpd,EAAM,iBAAM+M,KAAKyH,IAAI4I,EAAM,GAAIA,EAAM,IAAK,EAAG,GAC7C9O,EAAOzf,KAAKy+F,cAAcvtF,EAAOC,GAEjC3L,EAAKxF,KAAK0+F,oBAAoBxtF,EAAOC,GACrC8nF,EAAUzzF,EAAGyzF,QACbE,EAAU3zF,EAAG2zF,QAEjBn5F,KAAKu+F,SAAWrtF,EAChBlR,KAAKw+F,OAASrtF,EACdnR,KAAKohD,OAAO/2B,OAAO,CACjBnZ,MAAOA,EACPC,IAAKA,EACL8nF,QAASA,EACTE,QAASA,IAEX,IAAIiF,EAAgBrwF,EAAKkP,IAAI,aAC7BlP,EAAKyO,SAAQ,GACbzO,EAAKwqE,WAAW94D,GAChB1R,EAAKyO,QAAQ4hF,IAGRE,EAzLT,CA0LE,ICxOF,GAAgB9L,oBAAoB,SAAU,IAC9C,GAAgBA,oBAAoB,YAAa,IAElC,UC4bA,GAzbf,WACE,SAASoM,EAAkB1vF,GACzBlP,KAAK6+F,uBAAyB,GAC9B7+F,KAAK8+F,uBAAyB,GAC9B9+F,KAAK4vC,KAAO1gC,EAAI0gC,KAkblB,OA/aAgvD,EAAkBh/F,UAAUm/F,gBAAkB,SAAUC,EAAW74F,EAAM84F,QAC1D,IAAT94F,IACFA,EAAO,cAGY,IAAjB84F,IACFA,GAAe,GAGJ,UAAT94F,EACE84F,GACGj/F,KAAK6+F,uBAAuBK,MAAK,SAAU7/E,GAC9C,OAAOA,GAAK2/E,MAKdh/F,KAAK6+F,uBAAuBruF,KAAKwuF,GAG/BC,GACGj/F,KAAK8+F,uBAAuBI,MAAK,SAAU7/E,GAC9C,OAAOA,GAAK2/E,MAKdh/F,KAAK8+F,uBAAuBtuF,KAAKwuF,IASvCJ,EAAkBh/F,UAAUmQ,MAAQ,WAClC/P,KAAK6+F,uBAAyB,GAG9B7+F,KAAK8+F,uBAAyB,UAAS9+F,KAAK8+F,wBAAwB,SAAUE,GAC5E,OAAOA,EAAUG,gBAIrBP,EAAkBh/F,UAAUw/F,qBAAuB,WACjD,QAAOp/F,KAAK8+F,wBAAwB,SAAUE,GACxCA,EAAUG,aACZH,EAAUhvF,aAIdhQ,KAAK8+F,uBAAyB,IAGhCF,EAAkBh/F,UAAUy/F,WAAa,WACvC,IAAI5+F,EAAQT,KAAK4vC,KAAKrhC,QAClB1H,EAAUpG,EAAMoG,QAAUpG,EAAMoG,QAAU7G,KAAK4vC,KAAK+6C,OAAOh1E,MAAM9O,QAErE,MAAgB,SAAZA,EACK,CAAC,EAAG,EAAG,EAAG,GAGZA,GAKT+3F,EAAkBh/F,UAAU0/F,mBAAqB,WAC/C,IAAIz4F,EAAU7G,KAAKu/F,uBAEnBv/F,KAAK4vC,KAAK3gC,aAAa,CACrBpI,QAASA,IAEX7G,KAAK4vC,KAAKjgC,UAGZivF,EAAkBh/F,UAAU4/F,oBAAsB,WAChD,IAAIC,EAAWz/F,KAAK4vC,KAAKvgC,UAAUkZ,KAC/Bm3E,EAAW1/F,KAAK4vC,KAAKvgC,UAAUmZ,KAC/Bm3E,EAAW3/F,KAAK4vC,KAAKvgC,UAAUoZ,KAC/Bm3E,EAAW5/F,KAAK4vC,KAAKvgC,UAAUqZ,KA4BnC,OA1BA,QAAO1oB,KAAK8+F,wBAAwB,SAAUE,GAC5C,IAAIxoF,EAAWwoF,EAAUxoF,SAErBhR,EAAKw5F,EAAU/1E,UACfV,EAAO/iB,EAAG+iB,KACVC,EAAOhjB,EAAGgjB,KACVC,EAAOjjB,EAAGijB,KACVC,EAAOljB,EAAGkjB,KAEVA,GAAQi3E,GAAYj3E,GAAQk3E,GAAyB,QAAbppF,IAC1CmpF,EAAWj3E,GAGTD,GAAQk3E,GAAYl3E,GAAQm3E,GAAyB,WAAbppF,IAC1CopF,EAAWn3E,GAGTD,EAAOi3E,GAAYj3E,GAAQk3E,GAAyB,SAAblpF,IACzCipF,EAAWj3E,GAGTD,GAAQk3E,GAAYj3E,GAAQk3E,GAAyB,UAAblpF,IAC1CkpF,EAAWn3E,MAIR,IAAI,QAAKk3E,EAAUE,EAAUD,EAAWD,EAAUG,EAAWD,IAGtEf,EAAkBh/F,UAAU2/F,qBAAuB,WACjD,IAAI9+F,EAAQT,KAAK4vC,KAAKrhC,QAClBR,EAAO/N,KAAK4vC,KAAK7hC,KACjB4oD,EAAY5oD,EAAKkP,IAAI,aACrBuL,EAAOmuC,EAAUnuC,KACjBE,EAAOiuC,EAAUjuC,KACjBm3E,EAAW7/F,KAAK4vC,KAAK+6C,OAAOh1E,MAAMkqF,SAElC,WAAUA,IACZ,QAAOA,GAAU,SAAUrW,EAAIllF,GACE,oBAApBu7F,EAASv7F,KAClBu7F,EAASv7F,GAASu7F,EAASv7F,GAAO7D,OAKxCT,KAAK4vC,KAAK+6C,OAAOh1E,MAAM0B,OAAOS,OAAS+nF,EACvC7/F,KAAK6/F,SAAW,SAAQA,GAExB,IAAIC,EAAkB,CAAC/xF,EAAKkP,IAAI,eAEhCjd,KAAK+/F,SAAShyF,EAAM+xF,GAEpB,IAAI/sF,EAAM/S,KAAKglD,WAAW86C,GAE1B9/F,KAAKggG,WAAWjyF,EAAM+xF,EAAiB/sF,GAEvCA,EAAM/S,KAAKglD,WAAW86C,GAEtB,IAAIG,EAAajgG,KAAK6+F,uBAEtB,QAAOoB,GAAY,SAAUt/F,GAC3B,IACIkqC,EADYlqC,EACKsoB,UACrB62E,EAAgBtvF,KAAKq6B,MAIvB,IAAIpiB,GADJ1V,EAAM/S,KAAKglD,WAAW86C,IACPr3E,KAGXA,IAASkuC,EAAUluC,OACrBA,EAAO,GAGT,IAAI5hB,EAAU,CAAC,EAAI4hB,EAAOzoB,KAAK6/F,SAAS,GAAI9sF,EAAIyV,KAAOA,EAAOxoB,KAAK6/F,SAAS,GAAI9sF,EAAI2V,KAAOA,EAAO1oB,KAAK6/F,SAAS,GAAI,EAAI9sF,EAAIwV,KAAOvoB,KAAK6/F,SAAS,KAG7I,OAAMp/F,EAAO,kBAAoB,OAAMA,EAAO,0BAChDoG,EAAQ,GAAKqX,KAAKyH,IAAI3lB,KAAK6/F,SAAS,GAAIh5F,EAAQ,KAGlD7G,KAAKkgG,kBAAkBnyF,EAAMlH,GAE7B,IAAIs5F,EAAengG,KAAKogG,UAAUryF,EAAMgF,GAMxC,OAJAlM,EAAQ,IAAMs5F,EAAa,GAC3Bt5F,EAAQ,IAAMs5F,EAAa,GAC3Bt5F,EAAQ,IAAMs5F,EAAa,GAC3Bt5F,EAAQ,IAAMs5F,EAAa,GACpBt5F,GAGT+3F,EAAkBh/F,UAAUmgG,SAAW,SAAUhyF,EAAM05C,GACrD,IAAI+T,EAAOztD,EAAKkP,IAAI,kBAAkBu+C,KAElCA,EAAK/7D,OAAS,GAChB,QAAO+7D,GAAM,SAAUn+C,GACrB,IACIwtB,EADOxtB,EACKJ,IAAI,SAASgM,UAC7Bw+B,EAAOj3C,KAAKq6B,OAKlB+zD,EAAkBh/F,UAAUogG,WAAa,SAAUjyF,EAAM05C,EAAQ10C,GAC/D,IAAI7N,EAAQlF,KAER22D,EAAY5oD,EAAKkP,IAAI,aACrB24C,EAAU7nD,EAAKkP,IAAI,oBAAoB24C,QAEvCA,EAAQn2D,OAAS,GACnB,QAAOm2D,GAAS,SAAUt2C,GACxB,IAAIjI,EAASiI,EAEbpa,EAAMm7F,cAAchpF,EAAQtJ,EAAMgF,GAElC,IAAIutF,EAAajpF,EAAO4R,UACpBzkB,EAAQ87F,EAAW97F,MACnBsK,EAASwxF,EAAWxxF,OACpBF,EAAI,EACJC,EAAI,EACJ2H,EAAWa,EAAO4F,IAAI,YAAY4G,MAAM,KAExB,UAAhBrN,EAAS,KACX5H,EAAI+nD,EAAUnuC,KACd3Z,EAAIyxF,EAAW73E,MAGG,SAAhBjS,EAAS,KACX5H,EAAImE,EAAIwV,KAAO/jB,EACfqK,EAAIyxF,EAAW73E,MAGG,QAAhBjS,EAAS,KACX5H,EAAI0xF,EAAW/3E,KACf1Z,GAAKC,GAGa,WAAhB0H,EAAS,KACX5H,EAAI0xF,EAAW/3E,KACf1Z,EAAI8nD,EAAUjuC,KAAO5Z,GAGvB,IAAI+7B,EAAO,IAAI,QAAKj8B,EAAGC,EAAGrK,EAAOsK,GACjC24C,EAAOj3C,KAAKq6B,GAEZ,IAAI01D,EAAer7F,EAAMs7F,uBAAuBnpF,GAEhDnS,EAAMu7F,eAAeF,OAK3B3B,EAAkBh/F,UAAUwgG,UAAY,SAAUryF,EAAMgF,GACtD,IAAI0hC,EAAS,GACTs8C,EAAQhjF,EAAKkP,IAAI,YAErB,QAAO8zE,GAAO,SAAUC,GACtB,GAAIA,EAAK/zE,IAAI,mBAAoB,CAC/B,IAAIyjF,EAAiB1P,EAAK/zE,IAAI,mBAAmBkwD,gBAE7CuzB,GACFjsD,EAAOjkC,KAAKkwF,OAKlB,IAAIn4E,EAAOqQ,IACPpQ,GAAQoQ,IACRnQ,EAAOmQ,IACPlQ,GAAQkQ,IAEZ,QAAO6b,GAAQ,SAAUzS,GACRA,EAAM/kB,IAAI,YAChB/U,SAAQ,SAAUojB,GACzB,GAAmB,UAAfA,EAAMnlB,MAAqD,IAAjCmlB,EAAMrO,IAAI,YAAYxd,OAApD,CAIA,IAAIorC,EAAOvf,EAAMrC,UAEb4hB,EAAKtiB,KAAOA,IACdA,EAAOsiB,EAAKtiB,MAGVsiB,EAAKriB,KAAOA,IACdA,EAAOqiB,EAAKriB,MAGVqiB,EAAKpiB,KAAOA,IACdA,EAAOoiB,EAAKpiB,MAGVoiB,EAAKniB,KAAOA,IACdA,EAAOmiB,EAAKniB,aAKlB,IAAIimB,EAAa5gC,EAAKkP,IAAI,cAEtB0jF,EAAYziF,KAAKyH,IAAI6C,EAAOpC,WAAWuoB,EAAWnmB,MAAO,GAEzDm4E,EAAY,IAEdA,GADYhyD,EAAWnqC,OAASmqC,EAAWnqC,MAAQm8F,IAKrD,IAAIC,EAAW1iF,KAAKyH,IAAIS,WAAWuoB,EAAWpmB,MAAQA,EAAM,GAExDq4E,EAAW,IAEbA,GADYjyD,EAAWnqC,OAASmqC,EAAWnqC,MAAQo8F,IAKrD,IAAIC,EAAU3iF,KAAKyH,IAAIS,WAAWuoB,EAAWlmB,MAAQA,EAAM,GAEvDo4E,EAAU,IAEZA,GADYlyD,EAAW7/B,QAAU6/B,EAAW7/B,OAAS+xF,IAKvD,IAAIC,EAAa5iF,KAAKyH,IAAI+C,EAAOtC,WAAWuoB,EAAWjmB,MAAO,GAE1Do4E,EAAa,IAEfA,GADYnyD,EAAW7/B,QAAU6/B,EAAW7/B,OAASgyF,IAIvD,MAAO,CAACD,EAASF,EAAWG,EAAYF,IAG1ChC,EAAkBh/F,UAAUolD,WAAa,SAAUyC,GACjD,IAAIl/B,EAAOqQ,IACPpQ,GAAQoQ,IACRnQ,EAAOmQ,IACPlQ,GAAQkQ,IAUZ,OARA,QAAO6uB,GAAQ,SAAU5c,GACvB,IAAI93B,EAAM83B,EACVtiB,EAAOrK,KAAKuR,IAAI1c,EAAIwV,KAAMA,GAC1BC,EAAOtK,KAAKyH,IAAI5S,EAAIyV,KAAMA,GAC1BC,EAAOvK,KAAKuR,IAAI1c,EAAI0V,KAAMA,GAC1BC,EAAOxK,KAAKyH,IAAI5S,EAAI2V,KAAMA,MAGrB,CACLH,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,IAIVk2E,EAAkBh/F,UAAUygG,cAAgB,SAAUhpF,EAAQtJ,EAAMgF,GAClE,IAAIyD,EAAWa,EAAO4F,IAAI,YAAY4G,MAAM,KACxCnV,EAAY2I,EAAO4F,IAAI,aACvB4tB,EAAOn8B,EAAUua,UAEjBzjB,EAAKuI,EAAKkP,IAAI,aACdzY,EAAQgB,EAAGhB,MAIXkkB,GAHSljB,EAAGsJ,OACLtJ,EAAGgjB,KACHhjB,EAAG+iB,KACH/iB,EAAGkjB,MACVD,EAAOjjB,EAAGijB,KAEM,UAAhBjS,EAAS,IACX9H,EAAUkiC,KAAKpsC,EAAOikB,GAGJ,SAAhBjS,EAAS,IACX9H,EAAUkiC,KAAK79B,EAAIwV,KAAOsiB,EAAKrmC,MAAOikB,GAGpB,QAAhBjS,EAAS,IACX9H,EAAUkiC,KAAK,EAAG79B,EAAI0V,KAAOoiB,EAAK/7B,QAGhB,WAAhB0H,EAAS,IACX9H,EAAUkiC,KAAK,EAAG1yB,KAAKyH,IAAI+C,EAAM3V,EAAI2V,QAIzCk2E,EAAkBh/F,UAAU4gG,uBAAyB,SAAUnpF,GAC7D,IAAIkpF,EAAevgG,KAAK4vC,KAAKj6B,MAAM0B,OAAOkpF,aACtC/pF,EAAWa,EAAO4F,IAAI,YAAY4G,MAAM,KAE5C,MAAoB,QAAhBrN,EAAS,GACJ,CAAC+pF,EAAa,GAAI,EAAG,EAAG,GAGb,WAAhB/pF,EAAS,GACJ,CAAC,EAAG,EAAG+pF,EAAa,GAAI,GAGb,SAAhB/pF,EAAS,GACJ,CAAC,EAAG,EAAG,EAAG+pF,EAAa,IAGZ,UAAhB/pF,EAAS,GACJ,CAAC,EAAG+pF,EAAa,GAAI,EAAG,QADjC,GAKF3B,EAAkBh/F,UAAU6gG,eAAiB,SAAU/gG,GACrD,IAAIJ,EAASU,KAAK6/F,SAElB,GAAIngG,EAAOD,SAAWH,EAAOG,OAI7B,IAAK,IAAIF,EAAI,EAAGA,EAAIG,EAAOD,OAAQF,IACjCD,EAAOC,IAAMG,EAAOH,IAIxBq/F,EAAkBh/F,UAAUsgG,kBAAoB,SAAUnyF,EAAMlH,GAE9D,IAAI62D,EAAQ3vD,EAAKkP,IAAI,kBAAkBu+C,KAAK,GAE5C,GAAKkC,GAAUA,EAAMzgD,IAAI,oBAAuBygD,EAAM/iB,uBAAtD,CAIA,IACI5O,EADgB2xB,EAAMzgD,IAAI,iBACH0wB,YACvBozD,EAAYrjC,EAAM/iB,uBAAuB+iB,EAAMzgD,IAAI,oBACnD+jF,EAAgB9iF,KAAKsE,IAAIk7C,EAAMzgD,IAAI,OAAOrO,EAAI8uD,EAAMzgD,IAAI,SAASrO,GAEjEqyF,EAAcD,EAEdj1D,EAAOtsC,OAAS,IAClBwhG,EAAc/iF,KAAKsE,IAAIupB,EAAO,GAAG3jB,KAAK,KAAO2jB,EAAO,GAAG3jB,KAAK,OAG9D,IACI84E,EAAcD,GADED,EAAgBn6F,EAAQ,GAAKA,EAAQ,IACTm6F,EAC5ChN,EAAYt2B,EAAM/iB,uBAAuB+iB,EAAM/hB,6BAA6BulD,IAE5ElN,EAAY+M,IACdl6F,EAAQ,IAAMmtF,EAAY+M,KAIvBnC,EAtbT,GCLWuC,GAA4B,SAAmCC,GACxE,OAAIA,GAAmD,QAAjCA,EAAev9E,MAAM,KAAK,GACvC,GAGF,IAEEw9E,GAAe,SAAsB5gG,GAC9C,IAAI6gG,EAAe7gG,EAAMkB,OAASlB,EAAMkB,MAAMqb,QAC1CukF,EAAqB9gG,EAAMmB,aAAenB,EAAMmB,YAAYob,QAEhE,OAAIskF,GAAgBC,EAEX,GAGF,IAEE,GAAkB,SAAyB9gG,GACpD,OAAI,gBAAKA,EAAM63E,cAAgB,IAAI,SAAUyC,GAC3C,OAA6B,WAArBA,EAAY50E,MAA0C,cAArB40E,EAAY50E,OAAuE,cAA7C40E,EAAY7rE,KAAO6rE,EAAY7rE,IAAI/I,SAE3G,EAGF,IAEEq7F,GAAuB,CAChCh9F,MAAO,IACPsK,OAAQ,IACR+wF,SAAU,CAACwB,GAAc,GAAI,GAAiB,IAC9Cx6F,QAAS,OACTkP,aApCU,UAqCVC,OApC0B,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAqC9HC,UApC0B,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAqC5OtU,MAAO,CACLkF,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBkO,WAAY,cACZD,SAAU,GACVnC,KAAM,QACNgB,UAAW,OACXC,aAAc,MACdsB,WAAY,GACZusF,eAAe,GAEjB7/F,YAAa,CACXiF,QAAS,CAAC,GAAI,GAAIs6F,GAA2B,IAC7CpsF,WAAY,cACZD,SAAU,GACVnC,KAAM,OACNgB,UAAW,OACXC,aAAc,MACdsB,WAAY,GACZusF,eAAe,GAEjBnrF,KAAM,CACJzH,EAAG,CACDmO,SAAS,EACTxG,SAAU,OACV/B,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACLuO,OAAQ,sBACRJ,UAAW,EACX4C,SAAU,CAAC,EAAG,KAGlBlC,KAAM,CACJ4J,SAAS,EACTzY,MAAO,CACLuO,OAAQ,sBACRJ,UAAW,IAGfyC,SAAU,CACR6H,SAAS,EACTzY,MAAO,CACLuO,OAAQ,mBACRJ,UAAW,GACXjT,OAAQ,IAGZwV,MAAO,CACL+H,SAAS,EACThI,OAAQ,EACRH,UAAW,CACTlC,KAAM,mBACNmC,SAAU,KAGdnT,MAAO,CACLqb,SAAS,EACThI,OAAQ,GACRzQ,MAAO,CACLoO,KAAM,sBACNmC,SAAU,GACVlB,aAAc,YAIpBhF,EAAG,CACDoO,SAAS,EACTxG,SAAU,SACV/B,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACLuO,OAAQ,sBACRJ,UAAW,EACX4C,SAAU,CAAC,EAAG,KAGlBlC,KAAM,CACJ4J,SAAS,EACTzY,MAAO,CACLuO,OAAQ,sBACRJ,UAAW,IAGfyC,SAAU,CACR6H,SAAS,EACTzY,MAAO,CACL9E,OAAQ,EACRqT,OAAQ,sBACRJ,UAAW,KAGfuC,MAAO,CACL+H,SAAS,EACTnI,UAAW,CACTlC,KAAM,mBACNmC,SAAU,IAEZE,OAAQ,IAEVrT,MAAO,CACLqb,SAAS,EACThI,OAAQ,GACRzQ,MAAO,CACLoO,KAAM,sBACNmC,SAAU,MAIhB8B,OAAQ,CACNnC,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EAEjBW,KAAM,CACJ9Q,MAAO,CACL+Q,SAAU,KACV5C,UAAW,EACXI,OAAQ,wBAGZM,KAAM,CACJ7O,MAAO,CACLmO,UAAW,EACXI,OAAQ,wBAGZqC,SAAU,CACR5Q,MAAO,CACLmO,UAAW,EACXI,OAAQ,sBACRrT,OAAQ,EACR2V,gBAAgB,IAGpBH,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,mBACNmC,SAAU,KAGdnT,MAAO,CACLqT,OAAQ,GACRzQ,MAAO,CACLoO,KAAM,sBACNmC,SAAU,MAIhBtB,OAAQ,CACNyB,MAAO,CACLJ,UAAW,CACTlC,KAAM,mBACNmC,SAAU,OAKlBuC,OAAQ,CACN3B,UAAU,EACVc,SAAU,gBAEV+pF,aAAc,CAAC,GAAI,GAAI,GAAI,IAC3BzoF,OAAQ,CAAC,EAAG,GAAI,GAAI,KAEtB7C,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,WAERpO,MAAO,CACLoO,KAAM,UACNG,OAAQ,UACRJ,UAAW,IAGf6F,QAAS,CACP,aAAc,CACZK,UAAW,kCC1Nb8oF,GAAmB,CACrBvnF,QAASqnF,GACTG,KCN8B,CAC9BtrF,gBAAiB,CACf1D,KAAM,WAERoD,aAAc,UACdvR,MAAO,IACPsK,OAAQ,IACR+wF,SAAU,CAACwB,GAAc,GAAI,GAAiB,IAC9Cx6F,QAAS,OACTlF,MAAO,CACLkF,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBkO,WAAY,cACZD,SAAU,GACV63C,WAAY,OACZh6C,KAAM,yBACNG,OAAQ,mBACRa,UAAW,OACXC,aAAc,MACdsB,WAAY,GACZusF,eAAe,GAEjB7/F,YAAa,CACXiF,QAAS,CAAC,GAAI,GAAIs6F,GAA2B,IAC7CpsF,WAAY,cACZD,SAAU,GACVnC,KAAM,4BACNG,OAAQ,mBACRa,UAAW,OACXC,aAAc,MACdsB,WAAY,GACZusF,eAAe,GAEjBnrF,KAAM,CACJzH,EAAG,CACDmO,SAAS,EACTxG,SAAU,OACV/B,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACLuO,OAAQ,4BACRJ,UAAW,EACX4C,SAAU,CAAC,EAAG,KAGlBlC,KAAM,CACJ4J,SAAS,EACTzY,MAAO,CACLuO,OAAQ,4BACRJ,UAAW,IAGfyC,SAAU,CACR6H,SAAS,EACTzY,MAAO,CACLuO,OAAQ,4BACRJ,UAAW,GACXjT,OAAQ,IAGZwV,MAAO,CACL+H,SAAS,EACThI,OAAQ,EACRH,UAAW,CACTlC,KAAM,4BACNmC,SAAU,KAGdnT,MAAO,CACLqb,SAAS,EACThI,OAAQ,GACRzQ,MAAO,CACLoO,KAAM,4BACNmC,SAAU,GACVlB,aAAc,YAIpBhF,EAAG,CACDoO,SAAS,EACTxG,SAAU,SACV/B,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACLuO,OAAQ,4BACRJ,UAAW,EACX4C,SAAU,CAAC,EAAG,KAGlBlC,KAAM,CACJ4J,SAAS,EACTzY,MAAO,CACLuO,OAAQ,8BAGZqC,SAAU,CACR6H,SAAS,EACTzY,MAAO,CACL9E,OAAQ,EACRqT,OAAQ,4BACRJ,UAAW,KAGfuC,MAAO,CACL+H,SAAS,EACTnI,UAAW,CACTlC,KAAM,4BACNmC,SAAU,IAEZE,OAAQ,IAEVrT,MAAO,CACLqb,SAAS,EACThI,OAAQ,GACRzQ,MAAO,CACLoO,KAAM,4BACNmC,SAAU,MAIhB8B,OAAQ,CACNnC,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EAEjBW,KAAM,CACJ9Q,MAAO,CACL+Q,SAAU,KACV5C,UAAW,EACXI,OAAQ,YAGZM,KAAM,CACJ7O,MAAO,CACLmO,UAAW,EACXI,OAAQ,YAGZqC,SAAU,CACR5Q,MAAO,CACLmO,UAAW,EACXI,OAAQ,UACRrT,OAAQ,EACR2V,gBAAgB,IAGpBH,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,UACNmC,SAAU,KAGdnT,MAAO,CACLqT,OAAQ,GACRzQ,MAAO,CACLoO,KAAM,UACNmC,SAAU,MAIhBtB,OAAQ,CACNyB,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,UACNmC,SAAU,OAKlBuC,OAAQ,CACN3B,UAAU,EACVc,SAAU,gBAEV+pF,aAAc,CAAC,GAAI,GAAI,GAAI,KAE7BtrF,MAAO,CACLD,OAAQ,GACRH,UAAW,CACTlC,KAAM,6BAERpO,MAAO,CACLoO,KAAM,4BACND,UAAW,IAGf6F,QAAS,CACP,aAAc,CACZI,gBAAiB,uBACjBC,UAAW,+BACX3E,MAAO,gCD7KN,SAAS2tF,GAAe3vF,QAChB,IAATA,IACFA,EAAO,WAGT,IAAI0D,EAAQ+rF,GAAiBzvF,EAAKK,eAElC,OAAIqD,IAKJ23C,QAAQC,KAAK,8EAA+Et7C,GACrFuvF,IElCT,IAAIK,GAAiB,GAOd,SAAS,GAAc17F,EAAMwP,GAClCksF,GAAe17F,EAAKmM,eAAiBqD,EAOhC,SAAS,GAASxP,GACvB,OAAO07F,GAAe17F,EAAKmM,gBAAkB,GCVxC,SAASwvF,GAAmBC,GAC7BA,EAAQ3uF,OAAiC,IAAzB2uF,EAAQ3uF,KAAK4J,UAC/B+kF,EAAQ3uF,KAAO,MAGb2uF,EAAQ1sF,OAAiC,IAAzB0sF,EAAQ1sF,KAAK2H,UAC/B+kF,EAAQ1sF,KAAO,MAGb0sF,EAAQ5sF,WAAyC,IAA7B4sF,EAAQ5sF,SAAS6H,UACvC+kF,EAAQ5sF,SAAW,MAGjB4sF,EAAQpgG,QAAmC,IAA1BogG,EAAQpgG,MAAMqb,UACjC+kF,EAAQpgG,MAAQ,MAGdogG,EAAQ9sF,QAAmC,IAA1B8sF,EAAQ9sF,MAAM+H,UACjC+kF,EAAQ9sF,MAAQ,MC1Bb,IAAI+sF,GAA2B,CACpC1rF,KAAM,CACJ1H,EAAG,CACDqzF,SAAU,CACRC,YAAa,CAAC,CACZjwF,KAAM,gBAERkwF,MAAO,CACLC,YAAa,CAAC,CACZnwF,KAAM,cACNw3B,OAAQ,CACN44D,WAAY,IAEb,CACDpwF,KAAM,eACNw3B,OAAQ,CACN64D,OAAQ,KAET,CACDrwF,KAAM,eACNw3B,OAAQ,CACN64D,OAAQ,KAET,CACDrwF,KAAM,iBACNw3B,OAAQ,CACN84D,aAAc,QAEf,CACDtwF,KAAM,eAIZ0tB,OAAQ,CACNuiE,YAAa,CAAC,CACZjwF,KAAM,gBAERkwF,MAAO,CACLC,YAAa,CAAC,CACZnwF,KAAM,kBACNw3B,OAAQ,CACN+4D,KAAM,CAAC,SAER,CACDvwF,KAAM,eACNw3B,OAAQ,CACN64D,OAAQ,KAET,CACDrwF,KAAM,eACNw3B,OAAQ,CACN64D,OAAQ,KAET,CACDrwF,KAAM,mBACNw3B,OAAQ,CACN5L,KAAM,WACN4kE,QAAS,EACTF,aAAc,QAEf,CACDtwF,KAAM,eAIZywF,SAAU,CACRR,YAAa,CAAC,CACZjwF,KAAM,gBAERkwF,MAAO,CACLC,YAAa,CAAC,CACZnwF,KAAM,4BACL,CACDA,KAAM,6BACNw3B,OAAQ,CACN+4D,KAAM,CAAC,SAER,CACDvwF,KAAM,eACNw3B,OAAQ,CACN64D,OAAQ,KAET,CACDrwF,KAAM,eACNw3B,OAAQ,CACN64D,OAAQ,KAET,CACDrwF,KAAM,mBACL,CACDA,KAAM,mBACL,CACDA,KAAM,gBAKdpD,EAAG,CACD8wB,OAAQ,CACNuiE,YAAa,CAAC,CACZjwF,KAAM,uBACL,CACDA,KAAM,iBAERkwF,MAAO,CACLQ,oBAAqB,CAAC,CACpB1wF,KAAM,mBACL,CACDA,KAAM,aAER2wF,aAAc,CAAC,CACb3wF,KAAM,oBACL,CACDA,KAAM,eAIZgwF,SAAU,CACRC,YAAa,CAAC,CACZjwF,KAAM,uBACL,CACDA,KAAM,iBAERkwF,MAAO,CACLQ,oBAAqB,CAAC,CACpB1wF,KAAM,mBACL,CACDA,KAAM,aAER2wF,aAAc,CAAC,CACb3wF,KAAM,iBACNw3B,OAAQ,CACN84D,aAAc,QAEf,CACDtwF,KAAM,kBClId4wF,GAAuB,CACzB1oF,QAAS6nF,IAQJ,SAASc,GAAwB7wF,EAAM0D,GAC5CktF,GAAqB5wF,EAAKK,eAAiB,WAAU,GAAI0vF,GAA0BrsF,GAO9E,SAASotF,GAAmB9wF,GACjC,IAAI0D,EAAQktF,GAAqB5wF,EAAKK,eACtC,OAAOqD,GAAgBqsF,GCfzB,IAAIgB,GAAiB,GAAUrtF,MAkEhB,GA9Df,WACE,SAASstF,KA0DT,OAnDAA,EAAgBrB,eAAiB,SAAUjsF,GACzC,OAAI,YAAWA,GACNisF,GAAejsF,GAGjB,WAAU,GAAIisF,KAAkBjsF,IASzCstF,EAAgBrjG,UAAUgrF,aAAe,SAAUnqF,EAAO0F,GACxD,IAAIwP,EAAQlV,EAAMkV,MAElB,OAAI,YAAWA,GACN,WAAU,GAAIisF,GAAejsF,GAAQ,GAASxP,IAGhD,WAAU,GAAIy7F,KAAkB,GAASz7F,GAAOwP,IASzDstF,EAAgBrjG,UAAUyS,SAAW,SAAU5R,EAAO0F,GACpD,IAAI+8F,ECbD,SAA0BC,GAC/B,IAAIC,EAAU,SAAQD,GA2BtB,OAvBKC,EAAQ/rF,SACX+rF,EAAQ/rF,OAAS,IAsBZ+rF,EDfaC,CAAiBrjG,KAAK4qF,aAAanqF,EAAO0F,IAK5D,OAHc,WAAU,GAAI68F,GAAgBE,IAM9CD,EAAgBrjG,UAAUmjG,mBAAqB,SAAU58F,GACvD,OAAO48F,GAAmB58F,IAAS48F,GAAmB,YAGxDE,EAAgBrjG,UAAU0jG,gBAAkB,SAAU3tF,GAKpD,OAJAmsF,GAAmBnsF,EAAMW,KAAKI,MAC9BorF,GAAmBnsF,EAAMW,KAAKK,OAC9BmrF,GAAmBnsF,EAAMW,KAAKC,KAC9BurF,GAAmBnsF,EAAMW,KAAKG,QACvBd,GAGFstF,EA3DT,GECA,IAwoBe,GAtoBf,SAAUh+F,GAGR,SAASs+F,EAAU9iG,GACjB,IAAIyE,EAAQD,EAAOnF,KAAKE,KAAMS,IAAUT,KAYxC,OAVAkF,EAAMozE,aAAe,GACrBpzE,EAAMqJ,QAAUrJ,EAAMsJ,WAAW/N,GACjCyE,EAAMs+F,eAAiB,WAAU,GAAIt+F,EAAMqJ,SAC3CrJ,EAAMu+F,kBAAoB,IAAI,GAAkB,CAC9C7zD,KAAM1qC,IAERA,EAAMstE,gBAAkB,IAAI,GAAgB,CAC1C5iC,KAAM1qC,IAERA,EAAMw+F,gBAAkB,IAAI,GACrBx+F,EAmnBT,OAloBA,qBAAUq+F,EAAWt+F,GAkBrBs+F,EAAUI,kBAAoB,SAAUljG,GACtC,MAAO,CACL8b,SAAU,SACV5a,MAAO,CACLqb,SAAS,EACTtJ,KAAM,IAER9R,YAAa,CACXob,SAAS,EACTtJ,KAAM,IAER7M,QAAS,OACTwQ,OAAQ,CACN2F,SAAS,EACTxG,SAAU,iBAEZ+B,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,CACV1oC,KAAM,MAGVu3D,MAAO,CACL1gD,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZ4uF,MAAO,CACL5mF,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZC,MAAO,CACL+H,SAAS,KAKfumF,EAAU3jG,UAAU4O,WAAa,SAAU/N,GACzC,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGjDkR,EAAiB3R,KAAKoC,YAAYuhG,kBAAkBljG,GACxD,OAAO,WAAU,GAAI8N,EAASoD,EAAgBlR,IAGhD8iG,EAAU3jG,UAAUuP,WAAa,WAC/BlK,EAAOrF,UAAUuP,WAAWrP,KAAKE,OAGnCujG,EAAU3jG,UAAUwP,KAAO,WACzB,IAAIlK,EAAQlF,KAEZiF,EAAOrF,UAAUwP,KAAKtP,KAAKE,MAE3BA,KAAK2V,MAAQ3V,KAAK0jG,gBAAgBrxF,SAASrS,KAAKuO,QAASvO,KAAKmG,MAC9DnG,KAAK2qF,OAAS,CACZzjD,OAAQ,GACR0uB,QAAS,GACTr9C,QAAS,CACP5D,WAAW,EACX0rD,UAAW,YACXzxB,SAAS,EACTp2B,SAAS,GAEXgjD,KAAM,CACJ3E,OAAQ,IAEVvwC,MAAO,CACLngB,KAAM,aAERknB,SAAU,GACV6iC,YAAa,GACbooB,aAAc,GACd3iE,MAAO3V,KAAK2V,MACZg5B,WAAY,GACZnyB,SAAS,GAEXxc,KAAKyjG,kBAAkB1zF,QACvB/P,KAAK6jG,YACL7jG,KAAK8jG,kBACL9jG,KAAKsmB,QACLtmB,KAAK2tB,QACL3tB,KAAKsW,OACLtW,KAAKuY,UACLvY,KAAKqX,SACLrX,KAAK+jG,cACL/jG,KAAKyZ,aACLzZ,KAAKgrB,YACLhrB,KAAK22D,UAAY32D,KAAKgkG,eACtBhkG,KAAKyjG,kBAAkBrE,uBACvBp/F,KAAK+N,KAAO,IAAI,GAAQ,CACtBvJ,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,OACbC,OAAQ/O,KAAK+O,OACbL,UAAW1O,KAAK0O,UAChB7H,QAAS7G,KAAKyjG,kBAAkBpE,aAChC5/E,KAAMzf,KAAKikG,YAAYjkG,KAAKuO,QAAQkR,MACpC9J,MAAO3V,KAAK2V,MACZpH,QAASvO,KAAK2qF,OACdz5E,MAAO,CACLtC,EAAG5O,KAAK22D,UAAUpuC,KAClB1Z,EAAG7O,KAAK22D,UAAUluC,MAEpBtX,IAAK,CACHvC,EAAG5O,KAAK22D,UAAUnuC,KAClB3Z,EAAG7O,KAAK22D,UAAUjuC,QAGtB1oB,KAAKkkG,oBACLlkG,KAAK+N,KAAKC,GAAG,eAAe,WAC1B9I,EAAMi6F,kBAIVoE,EAAU3jG,UAAU8P,UAAY,WAC9BzK,EAAOrF,UAAU8P,UAAU5P,KAAKE,MAE3BA,KAAK+N,OAAQ/N,KAAK+N,KAAKI,WAIC,SAAzBnO,KAAKuO,QAAQ1H,SACf7G,KAAK6R,eAIT0xF,EAAU3jG,UAAUu/F,YAAc,WAChC,GAAKn/F,KAAK+N,OAAQ/N,KAAK+N,KAAKI,UAA5B,CAIA,IAAII,EAAUvO,KAAKuO,QACf1H,EAAU0H,EAAQ1H,QAAU0H,EAAQ1H,QAAU7G,KAAK2qF,OAAOh1E,MAAM9O,QAGhE0H,EAAQ41F,cAA4B,SAAZt9F,GAC1B7G,KAAKwyE,gBAAgB2d,cAAc5hF,EAAQ41F,cAGf,WAA1BnkG,KAAKuO,QAAQgO,UACfvc,KAAKokG,gBAKS,SAAZv9F,GACF7G,KAAKyjG,kBAAkBnE,uBAM3BiE,EAAU3jG,UAAU+P,OAAS,WAC3B1K,EAAOrF,UAAU+P,OAAO7P,KAAKE,MAE7B,IAAIyf,EAAOzf,KAAKuO,QAAQkR,KAEnB,WAAUA,IACbzf,KAAK+N,KAAK4B,UAMd4zF,EAAU3jG,UAAUoQ,QAAU,WAC5BhQ,KAAKqkG,YAELp/F,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAKhCujG,EAAU3jG,UAAUqP,aAAe,SAAUC,GAC3ClP,KAAKqkG,aAEAn1F,EAAIrI,SAAW7G,KAAKwjG,eAAe38F,SAA2C,SAAhC7G,KAAKwjG,eAAe38F,UACrEqI,EAAIrI,QAAU,QAGhB7G,KAAKuO,QAAU,WAAU,GAAIvO,KAAKuO,QAASW,GAC3ClP,KAAKyO,eAAezO,KAAKuO,UAG3Bg1F,EAAU3jG,UAAU24E,WAAa,SAAU94D,GACzCzf,KAAKuO,QAAQkR,KAAOzf,KAAKikG,YAAYxkF,GACrCzf,KAAK+N,KAAKwqE,WAAWv4E,KAAKuO,QAAQkR,OAIpC8jF,EAAU3jG,UAAU0kG,QAAU,WAC5B,OAAOtkG,KAAK+N,MAIdw1F,EAAU3jG,UAAUyS,SAAW,WAC7B,OAAOrS,KAAK2V,OAGd4tF,EAAU3jG,UAAUmjG,mBAAqB,WACvC,OAAO/iG,KAAK0jG,gBAAgBX,mBAAmB/iG,KAAKmG,OAItDo9F,EAAU3jG,UAAUgrF,aAAe,WACjC,OAAO5qF,KAAK0jG,gBAAgB9Y,aAAa5qF,KAAKuO,QAASvO,KAAKmG,OAI9Do9F,EAAU3jG,UAAUkwF,iBAAmB,SAAUD,EAAc3gF,GAC7DlP,KAAKwyE,gBAAgBsd,iBAAiBD,EAAc3gF,IAItDq0F,EAAU3jG,UAAUq/D,UAAY,SAAUwZ,EAAWl0E,GACnDvE,KAAKwyE,gBAAgB3R,SAAS,CAC5B16D,KAAM,SACNsyE,UAAWA,EACXl0E,MAAOA,KAIXg/F,EAAU3jG,UAAUi7E,YAAc,SAAUpC,EAAWl0E,GACrDvE,KAAKwyE,gBAAgB3R,SAAS,CAC5B16D,KAAM,WACNsyE,UAAWA,EACXl0E,MAAOA,KAIXg/F,EAAU3jG,UAAU2kG,WAAa,SAAU9rB,EAAWl0E,GACpDvE,KAAKwyE,gBAAgB3R,SAAS,CAC5B16D,KAAM,UACNsyE,UAAWA,EACXl0E,MAAOA,KAIXg/F,EAAU3jG,UAAU4kG,UAAY,SAAU/rB,GACxCz4E,KAAKwyE,gBAAgB3R,SAAS,CAC5B16D,KAAM,SACNsyE,UAAWA,EACXl0E,MAAO,MAKXg/F,EAAU3jG,UAAUq+F,QAAU,SAAU/sF,EAAOC,GAC7C,OAAOnR,KAAKikG,aAAajkG,KAAKuO,QAAQkR,MAAQ,IAAI6F,MAAMpU,EAAOC,KAGjEoyF,EAAU3jG,UAAUqkG,YAAc,SAAUxkF,GAC1C,OAAOA,GAGT8jF,EAAU3jG,UAAU+tB,MAAQ,WAI1B,IAAI82E,EAAa,aAAYzkG,KAAK2qF,OAAOzjD,QAAQ,SAAUw9D,GACzD,IAAIv+F,EAAOu+F,EAAYv+F,KACvB,OAAOA,EAAO,CACZA,KAAMA,GACJ,MAGF+gC,EAAS,WAAU,GAAIlnC,KAAK2qF,OAAOzjD,OAAQlnC,KAAKuO,QAAQwvF,MAAQ,GAAI0G,GAExEzkG,KAAK2kG,UAAU,SAAUz9D,IAG3Bq8D,EAAU3jG,UAAU0W,KAAO,WACzB,IAAIsuF,EAAe1S,GAAa,OAAQ,CACtCtiD,KAAM5vC,KACNkgC,IAAK,MAEH2kE,EAAe3S,GAAa,OAAQ,CACtCtiD,KAAM5vC,KACNkgC,IAAK,MAEH4kE,EAAa,CACfjuC,OAAQ,IAEViuC,EAAWjuC,OAAO72D,KAAKuO,QAAQuxB,QAAU8kE,EACzCE,EAAWjuC,OAAO72D,KAAKuO,QAAQwxB,QAAU8kE,EAGzC7kG,KAAK2kG,UAAU,OAAQG,IAGzBvB,EAAU3jG,UAAU2Y,QAAU,YACS,IAAjCvY,KAAKuO,QAAQgK,QAAQyE,SAKzBhd,KAAK2kG,UAAU,UAAW,WAAU,GAAI,OAAM3kG,KAAKuO,QAAS,aAE5D,WAAUvO,KAAK2qF,OAAOh1E,MAAM4C,QAASvY,KAAKuO,QAAQgK,QAAQhU,QANxDvE,KAAK2kG,UAAU,WAAW,IAS9BpB,EAAU3jG,UAAUyX,OAAS,WAC3B,IAAoC,IAAhCrX,KAAKuO,QAAQ8I,OAAO2F,QAAxB,CAKA,IAAI+nF,EAAa,OAAM/kG,KAAKuO,QAAS,mBAEjCs0C,EAAY,OAAM7iD,KAAKuO,QAAS,oBAEpCvO,KAAK2kG,UAAU,UAAW,CACxBnuF,SAAU,OAAMxW,KAAKuO,QAAS,mBAC9B0gB,UAAW,OAAMjvB,KAAKuO,QAAS,oBAC/B+7B,QAAS,OAAMtqC,KAAKuO,QAAS,kBAC7Bg8B,QAAS,OAAMvqC,KAAKuO,QAAS,kBAC7Bs0C,YAAW,eAAcA,IAAoBA,EAE7CntC,SAAUqvF,EACVxwD,OAAQ,OAAMv0C,KAAKuO,QAAS,wBAhB5BvO,KAAK2kG,UAAU,WAAW,IAoB9BpB,EAAU3jG,UAAU6Z,WAAa,WAC/B,IAAIvU,EAAQlF,KAER2qF,EAAS,GAEkB,cAA3B3qF,KAAK2qF,OAAOrkE,MAAMngB,MAAwBnG,KAAKuO,QAAQ0jF,WACzD,QAAOjyF,KAAKuO,QAAQ0jF,WAAW,SAAU7+E,GACvC,IAAI6+E,EAAYC,GAAa,YAAa,CACxCtiD,KAAM1qC,EACNgK,IAAKkE,IAEPu3E,EAAOn6E,KAAKyhF,MAIhBjyF,KAAK2kG,UAAU,cAAeha,IAGhC4Y,EAAU3jG,UAAUorB,UAAY,YACC,IAA3BhrB,KAAKuO,QAAQyc,WAAgD,SAAzBhrB,KAAKuO,QAAQ1H,UACnD7G,KAAK2qF,OAAOnuE,SAAU,IAI1B+mF,EAAU3jG,UAAUskG,kBAAoB,WACtC,IAAIh/F,EAAQlF,KAERwF,EAAKxF,KAAKuO,QAAQ+pE,aAClBA,OAAsB,IAAP9yE,EAAgB,GAAKA,EAEpCxF,KAAKs4E,cACPt4E,KAAKs4E,aAAapwE,SAAQ,SAAU88F,GAClCA,EAAKh1F,aAIThQ,KAAKs4E,aAAe,GACpBA,EAAapwE,SAAQ,SAAU6yE,GAC7B,IAAI1N,EAAO,GAAgB4K,eAAe8C,EAAY50E,KAAMjB,EAAMiB,MAElE,GAAIknE,EAAM,CACR,IAAI23B,EAAO,IAAI33B,EAAK,CAClBt/D,KAAM7I,EAAM6I,MACX7I,EAAOmoE,EAAKwlB,oBAAoB3tF,EAAMmK,UAAW0rE,EAAY7rE,KAAM6rE,EAAY7rE,KAElFhK,EAAMozE,aAAa9nE,KAAKw0F,QAO9BzB,EAAU3jG,UAAU+kG,UAAY,SAAUhlG,EAAKgrF,GACjC,YAARhrF,GAKW,IAAXgrF,EAKJ,UAAS3qF,KAAK2qF,OAAOhrF,GAAMgrF,GAJzB3qF,KAAK2qF,OAAOhrF,IAAO,EALnBK,KAAK2qF,OAAOt9D,SAAS7c,KAAKm6E,IAY9B4Y,EAAU3jG,UAAUiS,YAAc,SAAUC,GAC1C,IAAI5M,EAAQlF,KAERuO,EAAUvO,KAAKuO,QAEnB,GAAIA,EAAQonF,OAAQ,CAClB1wF,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAMuO,EAAQonF,QAEhD,IAAIsP,EAAanzF,EAAcA,EAAY9I,UAAYA,GAEvD,QAAOuF,EAAQonF,QAAQ,SAAUx1F,EAAG6R,GAClC,GAAI,cAAa7R,GAAI,CACnB,IAAI0N,EAAYo3F,EAAWjzF,IAAMA,EAEjCrE,GAAQzI,EAAO2I,EADD1N,SAOtBojG,EAAU3jG,UAAUikG,UAAY,WAC9B,IAAIpjG,EAAQT,KAAKuO,QACbggB,EAAQvuB,KAAKqP,UAOjB,GALIrP,KAAK2B,QACP3B,KAAK2B,MAAMqO,UACXhQ,KAAK2B,MAAQ,MAGXunF,GAAazoF,EAAMkB,OAAQ,CAC7B,IAAI6C,EAAQxE,KAAKwE,MACbmR,EAAQ3V,KAAK2qF,OAAOh1E,MACpBhU,EAAQ,IAAI,GAAgB,CAC9B+nF,WAAYn7D,EAAMhG,KAAO5S,EAAMhU,MAAMkF,QAAQ,GAC7C8iF,UAAWp7D,EAAM9F,KAAO9S,EAAMhU,MAAMkF,QAAQ,GAC5C6M,KAAMjT,EAAMkB,MAAM+R,KAClBnP,MAAO,OAAMoR,EAAMhU,MAAOlB,EAAMkB,MAAM4C,OACtCqlF,aAAcplF,EAAQmR,EAAMhU,MAAMkF,QAAQ,GAAK8O,EAAMhU,MAAMkF,QAAQ,GACnE6H,UAAW1O,KAAK0O,UAAU6+B,WAC1B53B,MAAOA,EACPrR,MAAO4kF,GAAazoF,EAAMmB,aAAe,EAAI,EAC7CguC,KAAM5vC,KACNiS,KAAM,UAERjS,KAAK2B,MAAQA,EACb3B,KAAKyjG,kBAAkB1E,gBAAgBp9F,EAAO,WAIlD4hG,EAAU3jG,UAAUkkG,gBAAkB,WACpC,IAAIrjG,EAAQT,KAAKuO,QACbggB,EAAQvuB,KAAKqP,UAOjB,GALIrP,KAAK4B,cACP5B,KAAK4B,YAAYoO,UACjBhQ,KAAK4B,YAAc,MAGjBsnF,GAAazoF,EAAMmB,aAAc,CACnC,IAAI4C,EAAQxE,KAAKwE,MACbmR,EAAQ3V,KAAK2qF,OAAOh1E,MACpBg0E,EAAY,EAEhB,GAAI3pF,KAAK2B,MAAO,CACd,IAAIujG,EAAYllG,KAAK2B,MAAMsnB,UAC3B0gE,GAAaub,EAAUz8E,KAAOy8E,EAAUp2F,OACxC66E,GAAah0E,EAAM/T,YAAYiF,QAAQ,QAGvC8iF,GAAap7D,EAAM9F,KAAO9S,EAAMhU,MAAMkF,QAAQ,GAGhD,IAAIjF,EAAc,IAAI,GAAgB,CACpC8nF,WAAYn7D,EAAMhG,KAAO5S,EAAM/T,YAAYiF,QAAQ,GACnD8iF,UAAWA,EACXj2E,KAAMjT,EAAMmB,YAAY8R,KACxBnP,MAAO,OAAMoR,EAAM/T,YAAanB,EAAMmB,YAAY2C,OAClDqlF,aAAcplF,EAAQmR,EAAM/T,YAAYiF,QAAQ,GAAK8O,EAAM/T,YAAYiF,QAAQ,GAC/E6H,UAAW1O,KAAK0O,UAAU6+B,WAC1B53B,MAAOA,EACPrR,MAAO,EACPsrC,KAAM5vC,KACNiS,KAAM,gBAERjS,KAAK4B,YAAcA,EACnB5B,KAAKyjG,kBAAkB1E,gBAAgBn9F,EAAa,WAMxD2hG,EAAU3jG,UAAUykG,UAAY,WAC9BrkG,KAAKmlG,wBAGAnlG,KAAK+N,KAAKI,WACbnO,KAAK+N,KAAKiC,WAIduzF,EAAU3jG,UAAUulG,sBAAwB,WAEtCnlG,KAAKs4E,cACPt4E,KAAKs4E,aAAapwE,SAAQ,SAAU88F,GAClCA,EAAKh1F,aAIThQ,KAAKs4E,aAAe,IAGtBirB,EAAU3jG,UAAUokG,aAAe,WACjC,IAAI9+F,EAAQlF,KAGRwF,EAAKxF,KAAKuO,QAAQ+pE,aAClBA,OAAsB,IAAP9yE,EAAgB,GAAKA,EACpC6J,EAAYrP,KAAKqP,UA+BrB,OA9BAipE,EAAapwE,SAAQ,SAAU6yE,GAC7B,IAAI1N,EAAO,GAAgB4K,eAAe8C,EAAY50E,KAAMjB,EAAMiB,MAC9DooB,EAAQ8+C,GAAQA,EAAKwlB,oBAAoBxjF,EAAW0rE,EAAY7rE,KAChEsH,EAAW,GAEX+X,IAEEA,EAAM9X,SAAWpH,EAAUoH,QAAU8X,EAAMhY,IAAMlH,EAAUkH,IAE7DC,EAAW,SACF+X,EAAM5X,QAAUtH,EAAUsH,OAAS4X,EAAM7X,KAAOrH,EAAUqH,KAEnEF,EAAW,QACF+X,EAAM7X,OAASrH,EAAUqH,MAAQ6X,EAAM5X,MAAQtH,EAAUsH,MAElEH,EAAW,OACF+X,EAAMhY,MAAQlH,EAAUkH,KAAOgY,EAAM9X,OAASpH,EAAUoH,SAEjED,EAAW,OAGbtR,EAAMu+F,kBAAkB1E,gBAAgB,CACtC91E,QAAS,WACP,OAAOsF,GAET/X,SAAUA,GACT,aAGSxW,KAAKyjG,kBAAkBjE,uBAKzC+D,EAAU3jG,UAAUwkG,cAAgB,WAClC,IAAIz1D,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3BmoF,EAAS,IAAI,QAAK,CACpB/gF,MAAO,CACLzV,EAAG+/B,EAAWpmB,KACd1Z,EAAG8/B,EAAWlmB,KACdjkB,MAAOmqC,EAAWnqC,MAClBsK,OAAQ6/B,EAAW7/B,UAGnBiiF,EAAQ/wF,KAAK+N,KAAKkP,IAAI,YAE1B,QAAO8zE,GAAO,SAAUC,GACtB,IAAIqU,EAAkBrU,EAAK/zE,IAAI,kBAC3BqoF,EAAYD,EAAgBj9E,KAAK,QAEjCk9E,GACFA,EAAUn1F,SAGZk1F,EAAgBj9E,KAAK,OAAQg9E,MAI/B,IAAIG,EAAW,IAAI,QAAK52D,EAAW//B,EAAG+/B,EAAW9/B,EAAG8/B,EAAWnqC,MAAOmqC,EAAW7/B,QAEjF,QAAO9O,KAAKwlG,oBAAoB,SAAUvwF,GACxC,IC5nByBoI,EAAGuC,EAAG9H,ED4nB3Bo0B,EAAYj3B,EAAMgU,UC5nBG5L,ED8nBNkoF,EC9nBS3lF,ED8nBCssB,OC7nBlB,IAAXp0B,IACFA,EAAS,GAGIoG,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAIpS,EAAEzO,EAAIyO,EAAE7Y,MAAQsT,EAAQ8H,EAAEhR,EAAIgR,EAAEpb,MAAQsT,GAAUoG,KAAKyH,IAAItI,EAAEzO,EAAIkJ,EAAQ8H,EAAEhR,EAAIkJ,IACpGoG,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAIpS,EAAExO,EAAIwO,EAAEvO,OAASgJ,EAAQ8H,EAAE/Q,EAAI+Q,EAAE9Q,OAASgJ,GAAUoG,KAAKyH,IAAItI,EAAExO,EAAIiJ,EAAQ8H,EAAE/Q,EAAIiJ,KDwnBtE,GACzC7C,EAAM5E,IAAI,WAAW,OAK3BkzF,EAAU3jG,UAAU4lG,iBAAmB,WACrC,IAAItvF,EAAS,GASb,OARAlW,KAAK+N,KAAKkP,IAAI,YAAY7Y,KAAI,SAAU+D,GACtC,IAAIgrE,EAAkBhrE,EAAQ8U,IAAI,mBAC9BhI,EAAQk+D,EAAgBhG,iBAAmBgG,EAAgBhG,gBAAgBlwD,IAAI,kBAE/EhI,GACFiB,EAAO1F,KAAKzQ,MAAMmW,EAAQjB,EAAM04B,aAAe,OAG5Cz3B,GAGFqtF,EAnoBT,CAooBE,I,UEjda,GArLf,WACE,SAASkC,EAAiBv2F,GACxB,IAAIhK,EAAQlF,KAMZA,KAAK0lG,SAAW,aAAW,WACzB,IAAIxgG,EAAM0qC,KAAKzhC,UAAf,CAIA,IAAI3I,EAAKN,EAAMygG,gBACXnhG,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAIZ5J,EAAMV,QAAUA,IAOpBU,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EAEf5J,EAAM0qC,KAAK3gC,aAAa,CACtBzK,MAAOA,EACPsK,OAAQA,IAGV5J,EAAM0qC,KAAKjgC,aACV,KACH,IAAIiwC,EAAe1wC,EAAI0wC,aACnBhQ,EAAO1gC,EAAI0gC,KACf5vC,KAAK4/C,aAAeA,EACpB5/C,KAAK4vC,KAAOA,EACZ5vC,KAAKoP,OA0IP,OAlIAq2F,EAAiB7lG,UAAU+lG,cAAgB,WACzC,IAAIhwF,EAAQisF,KACRp9F,EAAQxE,KAAK4vC,KAAKprC,MAAQxE,KAAK4vC,KAAKprC,MAAQmR,EAAMnR,MAClDsK,EAAS9O,KAAK4vC,KAAK9gC,OAAS9O,KAAK4vC,KAAK9gC,OAAS6G,EAAM7G,OAOzD,OALI9O,KAAK4vC,KAAKwtC,WACZ54E,EAAQxE,KAAK4/C,aAAawL,YAAcprD,KAAK4/C,aAAawL,YAAc5mD,EACxEsK,EAAS9O,KAAK4/C,aAAauK,aAAenqD,KAAK4/C,aAAauK,aAAer7C,GAGtE,CACLtK,MAAOA,EACPsK,OAAQA,IASZ22F,EAAiB7lG,UAAUgmG,aAAe,WACxC,OAAO5lG,KAAK+O,OAAOkO,IAAI,cAOzBwoF,EAAiB7lG,UAAUimG,iBAAmB,WAC5C,IAAIrgG,EAAKxF,KAAK2lG,gBACVnhG,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAEhB9O,KAAKwE,MAAQA,EACbxE,KAAK8O,OAASA,EACd9O,KAAK+O,OAAOwuE,WAAW/4E,EAAOsK,IAOhC22F,EAAiB7lG,UAAUkmG,kBAAoB,WAC7C,IAAInwF,EAAQ3V,KAAK4vC,KAAKj6B,MAClBowF,EAAc,GAAgBnE,eAAejsF,GAE7ChD,EAAO,OAAMozF,EAAa,wBAE1BpzF,GACF3S,KAAKgmG,kBAAkB,CACrBrtF,gBAAiBhG,KAUvB8yF,EAAiB7lG,UAAUomG,kBAAoB,SAAU/zD,GACvD,qBAAUjyC,KAAK4lG,eAAgB3zD,IAOjCwzD,EAAiB7lG,UAAUoQ,QAAU,WAE/BhQ,KAAKimG,iBACPjmG,KAAKimG,eAAeC,UAAUlmG,KAAK4/C,cACnC5/C,KAAKimG,eAAeE,aACpBnmG,KAAK4/C,aAAe,MAItB5/C,KAAK+O,OAAOiB,WAOdy1F,EAAiB7lG,UAAUwmG,aAAe,WACzBpmG,KAAK4vC,KAAKwtC,WAGvBp9E,KAAKimG,eAAiB,IAAI,WAAejmG,KAAK0lG,UAC9C1lG,KAAKimG,eAAeI,QAAQrmG,KAAK4/C,gBAQrC6lD,EAAiB7lG,UAAUwP,KAAO,WAChCpP,KAAKsmG,cACLtmG,KAAKomG,gBAOPX,EAAiB7lG,UAAU0mG,YAAc,WAEvC,IAAI9gG,EAAKxF,KAAK4vC,KACVpT,EAAKh3B,EAAG+W,SACRA,OAAkB,IAAPigB,EAAgB,SAAWA,EACtC1mB,EAAatQ,EAAGsQ,WAEhB6sB,EAAK3iC,KAAK2lG,gBACVnhG,EAAQm+B,EAAGn+B,MACXsK,EAAS6zB,EAAG7zB,OAEhB9O,KAAK+O,OAAS,IAAI,UAAO,CACvB6wC,aAAc5/C,KAAK4/C,aACnBp7C,MAAOA,EACPsK,OAAQA,EACRyN,SAAUA,EACVzG,WAAYA,IAEd9V,KAAKwE,MAAQA,EACbxE,KAAK8O,OAASA,EACd9O,KAAK8lG,qBAGAL,EAlLT,GCGA,IAmIe,GAjIf,WACE,SAASvjC,EAAgBhzD,GACvBlP,KAAK4vC,KAAO1gC,EAAI0gC,KAChB5vC,KAAK+O,OAASG,EAAIH,OAClB/O,KAAK8V,WAAa9V,KAAK+O,OAAOkO,IAAI,cAClCjd,KAAKsO,cAAgB,GAyHvB,OAtHA4zD,EAAgBtiE,UAAUk8C,WAAa,WACrC97C,KAAKumG,SAASvmG,KAAK+O,OAAQ,YAAa,gBAAe/O,KAAM,aAC7DA,KAAKumG,SAASvmG,KAAK+O,OAAQ,YAAa,gBAAe/O,KAAM,WAC7DA,KAAKumG,SAASvmG,KAAK+O,OAAQ,UAAW,gBAAe/O,KAAM,aAC3DA,KAAKumG,SAASvmG,KAAK+O,OAAQ,QAAS,gBAAe/O,KAAM,aACzDA,KAAKumG,SAASvmG,KAAK+O,OAAQ,WAAY,gBAAe/O,KAAM,aAC5DA,KAAKumG,SAASvmG,KAAK+O,OAAQ,cAAe,gBAAe/O,KAAM,aAC/DA,KAAKumG,SAASvmG,KAAK+O,OAAQ,QAAS,gBAAe/O,KAAM,cAG3DkiE,EAAgBtiE,UAAUikE,YAAc,WACtC,IAAIv1D,EAAgBtO,KAAKsO,cAEzB,QAAOA,GAAe,SAAUw1D,GAC9BA,EAAGxkE,OAAO4Q,IAAI4zD,EAAG39D,KAAM29D,EAAGh2D,aAI9Bo0D,EAAgBtiE,UAAU2mG,SAAW,SAAUjnG,EAAQmjE,EAAW30D,GAChExO,EAAO0O,GAAGy0D,EAAW30D,GACrB9N,KAAKsO,cAAckC,KAAK,CACtBlR,OAAQA,EACR6G,KAAMs8D,EACN30D,QAASA,KAIbo0D,EAAgBtiE,UAAU4mG,SAAW,SAAUnnD,GAC7C,IAAIuf,EAAW5+D,KAAKymG,YAAYpnD,GAC5B//C,EAAS+/C,EAAG//C,OAEZA,EAAOksB,UAAYxrB,KAAKgiE,cAAc1iE,IAAWA,EAAO2S,MAC1DjS,KAAK4vC,KAAKlD,KAAKptC,EAAO2S,KAAO,IAAMotC,EAAGl5C,KAAMk5C,GAG9Cr/C,KAAK4vC,KAAKlD,KAAK,GAAK2S,EAAGl5C,KAAMy4D,GAE7B,IAAI1wD,EAASlO,KAAK4vC,KAAK82D,YAEnBx4F,EAAOzO,OAAS,GAClBO,KAAK2mG,aAAaz4F,EAAQ0wD,EAAUvf,EAAGl5C,OAI3C+7D,EAAgBtiE,UAAUgnG,OAAS,SAAUvnD,GAC3C,IAvEiBwiB,EAAQC,EAuErBxiE,EAAS+/C,EAAG//C,OACZs/D,EAAW5+D,KAAKymG,YAAYpnD,GAE5B//C,EAAOksB,UAAYxrB,KAAKgiE,cAAc1iE,IAAWA,EAAO2S,OAC1DjS,KAAK4vC,KAAKlD,KAAKptC,EAAO2S,KAAO,IAAMotC,EAAGl5C,KAAMy4D,IAExC5+D,KAAKkjE,YA7EMrB,EA6EoBviE,EA7EZwiE,EA6EoB9hE,KAAKkjE,UA5EhDrB,GAAUC,GAAUD,IAAWC,KA6EzB9hE,KAAKkjE,WACPljE,KAAK4vC,KAAKlD,KAAK1sC,KAAKkjE,UAAUjxD,KAAO,cAAe2sD,GAGtD5+D,KAAK4vC,KAAKlD,KAAKptC,EAAO2S,KAAO,cAAe2sD,IAG9C5+D,KAAKkjE,UAAY5jE,GAGnBU,KAAK4vC,KAAKlD,KAAK,YAAakyB,GAE5B,IAAI1wD,EAASlO,KAAK4vC,KAAK82D,YAEnBx4F,EAAOzO,OAAS,GAClBO,KAAK2mG,aAAaz4F,EAAQ0wD,EAAU,cAIxCsD,EAAgBtiE,UAAUoiE,cAAgB,SAAU9nD,GAIlD,IAHA,IAAI2sF,EAAY,CAAC,mBAAoB,kBAAmB,cACpD73F,EAASkL,EAAM+C,IAAI,UAEhBjO,GAAQ,CACb,IAAI+zD,EAAa/zD,EAAOiO,IAAI,QAE5B,GAAI8lD,GAAc,YAAW8jC,EAAW9jC,GACtC,OAAO,EAGT/zD,EAASA,EAAOiO,IAAI,UAGtB,OAAO,GAGTilD,EAAgBtiE,UAAU6mG,YAAc,SAAUpnD,GAOhD,MANU,CACRzwC,EAAGywC,EAAGzwC,EAAI5O,KAAK8V,WACfjH,EAAGwwC,EAAGxwC,EAAI7O,KAAK8V,WACfxW,OAAQ+/C,EAAG//C,OACXigD,MAAOF,EAAGE,QAKd2iB,EAAgBtiE,UAAU+mG,aAAe,SAAUz4F,EAAQ0wD,EAAU/wD,GACnE,IAAI3I,EAAQlF,KAEZ,QAAOkO,GAAQ,SAAUN,GACvB,IAAIi9B,EAAOj9B,EAAM2D,gBAEjB,GA1HN,SAAuBgC,EAAOs3B,GAC5B,OAAIt3B,EAAM3E,GAAKi8B,EAAKtiB,MAAQhV,EAAM3E,GAAKi8B,EAAKriB,MAAQjV,EAAM1E,GAAKg8B,EAAKpiB,MAAQlV,EAAM1E,GAAKg8B,EAAKniB,KAyHpFo+E,CAAc,CAChBl4F,EAAGgwD,EAAShwD,EACZC,EAAG+vD,EAAS/vD,GACXg8B,GAAO,CACRj9B,EAAM8+B,KAAK,GAAK7+B,EAAW+wD,GAC3B,IAAImoC,EAAYn5F,EAAMM,OAElB64F,EAAUtnG,OAAS,GACrByF,EAAMyhG,aAAaI,EAAWnoC,EAAU/wD,QAMzCq0D,EA9HT,GCnBI8kC,GAAkB,GACf,SAASC,GAAiBh1F,EAAMi1F,GACrCF,GAAgB/0F,EAAKK,eAAiB40F,EAEjC,SAASC,GAAYl1F,GAC1B,OAAO+0F,GAAgB/0F,EAAKK,eCI9B,IA2Qe,GAzQf,SAAUrN,GAGR,SAASmiG,EAAS14F,EAAWjO,GAC3B,IAAIyE,EAAQD,EAAOnF,KAAKE,OAASA,KAkCjC,OAhCAkF,EAAM06C,aAAoC,kBAAdlxC,EAAyB4jC,SAASC,eAAe7jC,GAAaA,EAC1FxJ,EAAMk4E,SAAY,SAAQ38E,EAAM28E,UAA6B,SAAQ38E,EAAM+D,QAAU,SAAQ/D,EAAMqO,QAAvDrO,EAAM28E,SAClDl4E,EAAMqX,SAAW9b,EAAM8b,UAAY,SACnCrX,EAAM4Q,WAAarV,EAAMqV,YAAc,KACvC5Q,EAAMV,MAAQ/D,EAAM+D,MACpBU,EAAM4J,OAASrO,EAAMqO,OACrB5J,EAAMyQ,MAAQlV,EAAMkV,MACpBzQ,EAAMmiG,iBAAmB,IAAI,GAAiB,CAC5CznD,aAAc16C,EAAM06C,aACpBhQ,KAAM1qC,IAIRA,EAAMV,MAAQU,EAAMmiG,iBAAiB7iG,MACrCU,EAAM4J,OAAS5J,EAAMmiG,iBAAiBv4F,OACtC5J,EAAM6J,OAAS7J,EAAMmiG,iBAAiBt4F,OACtC7J,EAAMgJ,OAAS,GACfhJ,EAAMiJ,WAAY,EAElBjJ,EAAMoiG,aAAa7mG,GAInByE,EAAMw2E,gBAAkB,IAAI,GAAgB,CAC1C9rC,KAAM1qC,EACN6J,OAAQ7J,EAAMmiG,iBAAiBt4F,SAGjC7J,EAAMw2E,gBAAgB5/B,aAEtB52C,EAAM2M,YAAYpR,GAEXyE,EAgOT,OArQA,qBAAUkiG,EAAUniG,GA0CpBmiG,EAASxnG,UAAUoQ,QAAU,WAC3BhQ,KAAKyP,WAAU,SAAU7B,GACvBA,EAAMoC,aAERhQ,KAAKqnG,iBAAiBr3F,UACtBhQ,KAAK07E,gBAAgB7X,cACrB7jE,KAAKkO,OAAS,GACdlO,KAAKmO,WAAY,GAOnBi5F,EAASxnG,UAAU4wD,QAAU,WAC3BxwD,KAAKqnG,iBAAiBt4F,OAAOe,QAG/Bs3F,EAASxnG,UAAUqP,aAAe,SAAU07E,EAAQ4c,GAKlD,QAJY,IAARA,IACFA,GAAM,GAGJA,EACFvnG,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAMqB,aAAa07E,UAGlB,CACL,IAAI/8E,EAAQ5N,KAAKkO,OAAO,GAEpBN,aAAiB,IACnBA,EAAMqB,aAAa07E,GAInBA,EAAOnmF,QACTxE,KAAKwE,MAAQmmF,EAAOnmF,OAGlBmmF,EAAO77E,SACT9O,KAAK8O,OAAS67E,EAAO77E,QAGnB67E,EAAOh1E,QACT3V,KAAK2V,MAAQg1E,EAAOh1E,OAGtB3V,KAAKqnG,iBAAiBxB,mBACtB7lG,KAAKqnG,iBAAiBvB,qBAGxBsB,EAASxnG,UAAU24E,WAAa,SAAU94D,EAAM8nF,GAK9C,QAJY,IAARA,IACFA,GAAM,GAGJA,EACFvnG,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAM2qE,WAAW94D,UAGhB,CACL,IAAI7R,EAAQ5N,KAAKkO,OAAO,GAEpBN,aAAiB,IACnBA,EAAM2qE,WAAW94D,KAKvB2nF,EAASxnG,UAAUgrF,aAAe,WAEhC,OADY5qF,KAAKkO,OAAO,GACX08E,gBAGfwc,EAASxnG,UAAUq+F,QAAU,WAE3B,OADYj+F,KAAKkO,OAAO,GACX+vF,WAWfmJ,EAASxnG,UAAUkwF,iBAAmB,SAAUD,EAAc3gF,GAC5DlP,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAMkiF,iBAAiBD,EAAc3gF,OAY3Ck4F,EAASxnG,UAAUq/D,UAAY,SAAUwZ,EAAWl0E,GAClDvE,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAMqxD,UAAUwZ,EAAWl0E,OAKjC6iG,EAASxnG,UAAUi7E,YAAc,SAAUpC,EAAWl0E,GACpDvE,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAMitE,YAAYpC,EAAWl0E,OAKnC6iG,EAASxnG,UAAU2kG,WAAa,SAAU9rB,EAAWl0E,GACnDvE,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAM22F,WAAW9rB,EAAWl0E,OAKlC6iG,EAASxnG,UAAU4kG,UAAY,SAAU/rB,GACvCz4E,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAM42F,UAAU/rB,OAUtB2uB,EAASxnG,UAAU4nG,SAAW,SAAU92F,GAKtC,YAJY,IAARA,IACFA,EAAM,GAGD1Q,KAAKkO,OAAOwC,IAGrB02F,EAASxnG,UAAU6nG,UAAY,WAC7B,OAAOznG,KAAKqnG,iBAAiBt4F,QAG/Bq4F,EAASxnG,UAAU8mG,UAAY,WAC7B,OAAO1mG,KAAKkO,QAGdk5F,EAASxnG,UAAU+P,OAAS,WAC1B3P,KAAKyP,WAAU,SAAU7B,GACvB,OAAOA,EAAM+B,aAIjBy3F,EAASxnG,UAAU6P,UAAY,SAAUmC,GACvC,QAAO5R,KAAKkO,OAAQ0D,IAQtBw1F,EAASxnG,UAAU2Q,SAAW,SAAU3C,GAC5B,aAAY5N,KAAKkO,QAAQ,SAAU5G,GAC3C,OAAOA,IAASsG,KAGR,GACR5N,KAAKkO,OAAOsC,KAAK5C,IAIrBw5F,EAASxnG,UAAU0nG,aAAe,SAAU7mG,GAC1C,GAAIA,EAAMyN,aACH,GAAIzN,EAAM0F,KAAM,CACrB,IAUIksF,EAAY,IAVG8U,GAAY1mG,EAAM0F,MAUrB,CARK,WAAU,GAAI1F,EAAO,CACxCsO,OAAQ/O,KAAKqnG,iBAAiBt4F,OAC9BH,EAAG,EACHC,EAAG,EACHrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,UAIf9O,KAAKuQ,SAAS8hF,KAIlB+U,EAASxnG,UAAUiS,YAAc,SAAUpR,GACzC,IAAIyE,EAAQlF,KAER+R,EAAa,QAAO9G,IAEpBxK,EAAMk1F,QACR,QAAOl1F,EAAMk1F,QAAQ,SAAUx1F,EAAG6R,GAChC,GAAI,YAAWD,EAAYC,IAAM,cAAa7R,GAAI,CAChD,IAAI0N,EAAY5C,GAAiB+G,IAAMA,EACnClE,EAAU3N,EAEd+E,EAAM8I,GAAGH,EAAWC,QAMrBs5F,EAtQT,CAuQE,YCtPa,GAzBf,WACE,SAASM,EAAcx4F,GACrB,kBAAOlP,KAAMkP,GACblP,KAAKoP,OAmBP,OAhBAs4F,EAAc9nG,UAAUwP,KAAO,WAC7B,IAAI5J,EAEJxF,KAAK2qF,OAAS,CACZxkF,KAAMnG,KAAKmG,KACXqQ,SAAU,CACRqgD,OAAQ72D,KAAK2nG,gBAEflrF,WAAY,mBAAQ,GAAI,CACtBC,OAAQ,GACRC,KAAM,SACNC,YAAa,EAAI,MACc,QAA5BpX,EAAKxF,KAAK4vC,KAAKrhC,eAA4B,IAAP/I,OAAgB,EAASA,EAAGiX,aAAe,GAAIzc,KAAKyc,YAAc,MAIxGirF,EAtBT,GC0Fe,GAxFf,SAAUziG,GAGR,SAAS2iG,IACP,OAAkB,OAAX3iG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAiF7D,OApFA,qBAAU4nG,EAAY3iG,GAMtB2iG,EAAWhoG,UAAUwP,KAAO,WAC1B,IAAI3O,EAAQT,KAAK4vC,KAAKrhC,QACtBvO,KAAK2qF,OAAS,CACZxkF,KAAM,OACNqQ,SAAU,CACRqgD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,SAE/B6+C,aAAcn+E,EAAMm+E,eAAgB,GAGlCn+E,EAAM4Z,SACRra,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,aAITtuB,KAAK6nG,yBAA2BpnG,EAAMwT,QACxCjU,KAAK8nG,cAGHrnG,EAAMy2F,WAAaz2F,EAAMgS,MAAQhS,EAAMgS,KAAKlO,QAC9CvE,KAAK+nG,cAITH,EAAWhoG,UAAUkoG,WAAa,WAChC,IAAIrnG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAETqd,EAAoBhoG,KAAK6nG,wBAM7B,GAJIG,IACFrd,EAAO9zB,OAASmxC,GAGd,OAAMvnG,EAAO,SAAU,CACzB,IAAIwT,EAAQxT,EAAMwT,MAEd,YAAWA,GACb02E,EAAOr8D,OAAS,CAACra,GACR,cAAaA,GACtB02E,EAAO9iE,SAAW5T,EAElB02E,EAAOr8D,OAASra,EAIpBjU,KAAK2qF,OAAO12E,MAAQ02E,GAGtBid,EAAWhoG,UAAUmoG,WAAa,WAChC,IAAItnG,EAAQT,KAAK4vC,KAAKrhC,QAClB05F,EAAaxnG,EAAMy2F,UAAYz2F,EAAMy2F,UAAYz2F,EAAMgS,KAAKlO,MAC5DomF,EAAS,GAET,cAAasd,IAAexnG,EAAMynG,aACpCvd,EAAO9zB,OAAS,CAACp2D,EAAMynG,aACvBvd,EAAO9iE,SAAWogF,GAElBtd,EAAOz7E,IAAM+4F,EAGfjoG,KAAK2qF,OAAOpmF,MAAQomF,GAGtBid,EAAWhoG,UAAUioG,sBAAwB,WAI3C,IAHA,IAAIpnG,EAAQT,KAAK4vC,KAAKrhC,QAGb6hB,EAAK,EAAG+3E,EAFC,CAAC,aAAc,eAEa/3E,EAAK+3E,EAAc1oG,OAAQ2wB,IAAM,CAC7E,IAAIxS,EAAIuqF,EAAc/3E,GAEtB,GAAI,OAAM3vB,EAAOmd,GACf,MAAO,CAACnd,EAAMmd,MAKbgqF,EArFT,CAsFE,ICvFEQ,GAAU,GAgLP,SAAS,GAAkB1pF,EAAKC,EAAGkyC,GAIxC,IAHA,IAAIC,IAAWnyC,EACXoyC,EAAY,GAEPxxD,EAAI,EAAG+f,EAAIZ,EAAIjf,OAAQF,EAAI+f,EAAG/f,GAAK,EAC1CwxD,EAAUvgD,KAAK,CAACkO,EAAInf,GAAImf,EAAInf,EAAI,KAGlC,IAGIyxD,EACAC,EACA5wD,EALA6wD,EAjFoB,SAAsB5oC,EAAQjO,EAAQy2C,EAAQD,GACtE,IACIM,EACAC,EAEA3hC,EACA9J,EALA0rC,EAAM,GAGNC,IAAkBT,EAItB,GAAIS,EAAe,CACjB7hC,EAAM,CAACmJ,IAAUA,KACjBjT,EAAM,EAAEiT,KAAWA,KAEnB,IAAK,IAAIr5B,EAAI,EAAG+f,EAAIgJ,EAAO7oB,OAAQF,EAAI+f,EAAG/f,IAAK,CAC7C,IAAIgU,EAAQ+U,EAAO/oB,GACnBkwB,EAAM24E,GAAQ34E,IAAI,GAAIA,EAAKlc,GAC3BoS,EAAMyiF,GAAQziF,IAAI,GAAIA,EAAKpS,GAG7Bkc,EAAM24E,GAAQ34E,IAAI,GAAIA,EAAKohC,EAAW,IACtClrC,EAAMyiF,GAAQziF,IAAI,GAAIA,EAAKkrC,EAAW,IAG/BtxD,EAAI,EAAb,IAAK,IAAWse,EAAMyK,EAAO7oB,OAAQF,EAAIse,EAAKte,IAAK,CAC7CgU,EAAQ+U,EAAO/oB,GAEnB,GAAIuxD,EACFK,EAAY7oC,EAAO/oB,EAAIA,EAAI,EAAIse,EAAM,GACrCuzC,EAAY9oC,GAAQ/oB,EAAI,GAAKse,OACxB,CACL,GAAU,IAANte,GAAWA,IAAMse,EAAM,EAAG,CAC5BwzC,EAAI7gD,KAAK+C,GACT,SAEA49C,EAAY7oC,EAAO/oB,EAAI,GACvB6xD,EAAY9oC,EAAO/oB,EAAI,GAI3B,IAAI+d,EAAI,GACRA,EAAI8qF,GAAQ72C,IAAIj0C,EAAG8zC,EAAWD,GAC9B7zC,EAAI8qF,GAAQz6E,MAAMrQ,EAAGA,EAAGjD,GACxB,IAAIm3C,EAAK42C,GAAQ32C,SAASl+C,EAAO49C,GAC7BO,EAAK02C,GAAQ32C,SAASl+C,EAAO69C,GAC7BO,EAAMH,EAAKE,EAEH,IAARC,IACFH,GAAMG,EACND,GAAMC,GAGR,IAAI5zC,EAAKqqF,GAAQz6E,MAAM,GAAIrQ,GAAIk0C,GAC3BxzC,EAAKoqF,GAAQz6E,MAAM,GAAIrQ,EAAGo0C,GAC1BE,EAAMw2C,GAAQx4F,IAAI,GAAI2D,EAAOwK,GAC7BizC,EAAMo3C,GAAQx4F,IAAI,GAAI2D,EAAOyK,GAE7BszC,IACFM,EAAMw2C,GAAQziF,IAAI,GAAIisC,EAAKniC,GAC3BmiC,EAAMw2C,GAAQ34E,IAAI,GAAImiC,EAAKjsC,GAC3BqrC,EAAMo3C,GAAQziF,IAAI,GAAIqrC,EAAKvhC,GAC3BuhC,EAAMo3C,GAAQ34E,IAAI,GAAIuhC,EAAKrrC,IAG7B0rC,EAAI7gD,KAAKohD,GACTP,EAAI7gD,KAAKwgD,GAOX,OAJIF,GACFO,EAAI7gD,KAAK6gD,EAAI5rC,SAGR4rC,EAWgB,CAAaN,EAAW,GAAKD,EAAQD,GACxDhzC,EAAMkzC,EAAUtxD,OAChBiyD,EAAK,GAKT,IAASnyD,EAAI,EAAGA,EAAIse,EAAM,EAAGte,IAC3ByxD,EAAME,EAAqB,EAAJ3xD,GACvB0xD,EAAMC,EAAqB,EAAJ3xD,EAAQ,GAC/Bc,EAAI0wD,EAAUxxD,EAAI,GAClBmyD,EAAGlhD,KAAK,CAAC,IAAKwgD,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAI5wD,EAAE,GAAIA,EAAE,KAUxD,OAPIywD,IACFE,EAAME,EAAiBrzC,GACvBozC,EAAMC,EAAiBrzC,EAAM,GAC7Bxd,EAAI0wD,EAAU,GACdW,EAAGlhD,KAAK,CAAC,IAAKwgD,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAI5wD,EAAE,GAAIA,EAAE,MAGjDqxD,EAOF,SAAS,GAAcppC,EAAQupC,EAAYI,GAChD,IAAIxyC,EAAO,GACPe,EAAQ8H,EAAO,GACf4pC,EAAW,KAEf,GAAI5pC,EAAO7oB,QAAU,EAEnB,OAXG,SAAqB6oB,EAAQupC,GAClC,OA/MF,SAAsBvpC,EAAQupC,GAC5B,IAAIz1C,EAAO,GAEX,GAAIkM,EAAO7oB,OAAQ,CACjB,IAAK,IAAIF,EAAI,EAAG0hB,EAAWqH,EAAO7oB,OAAQF,EAAI0hB,EAAU1hB,GAAK,EAAG,CAC9D,IAAI+H,EAAOghB,EAAO/oB,GACduyD,EAAgB,IAANvyD,EAAU,IAAM,IAC9B6c,EAAK5L,KAAK,CAACshD,EAASxqD,EAAKsH,EAAGtH,EAAKuH,IAG/BgjD,GACFz1C,EAAK5L,KAAK,CAAC,MAIf,OAAO4L,EAgMA,CAAakM,EAAQupC,GAUnB,CAAYvpC,EAAQupC,GAG7B,QAAOvpC,GAAQ,SAAU/U,GAClB2+C,GAAcA,EAAStjD,IAAM2E,EAAM3E,GAAKsjD,EAASrjD,IAAM0E,EAAM1E,IAChE4Q,EAAKjP,KAAK+C,EAAM3E,GAChB6Q,EAAKjP,KAAK+C,EAAM1E,GAChBqjD,EAAW3+C,MAIf,IAEI4+C,EAAa,GAAkB1yC,EAAMoyC,EAFxBI,GAAa,CAC9B,CAAC,EAAG,GAAI,CAAC,EAAG,KAGZ,OADAE,EAAW94B,QAAQ,CAAC,IAAK7Y,EAAM5R,EAAG4R,EAAM3R,IACjCsjD,ECvOT,IAAI,GAAiB,GAAUx8C,MAmC/B,SAAS,GAAQzG,EAAKgL,EAAOmuF,GAC3B,IACIjqB,EAAgB,GAChBC,EAAmB,GAEvB,QAAOnvE,EAAIoZ,QAAQ,SAAU/U,GAC3B6qE,EAAc5tE,KAAK+C,EAAM,IACzB8qE,EAAiB7tE,KAAK+C,EAAM,OAG9B8qE,EAAmBnkE,EAAMs5C,YAAY6qB,EAAiBxhD,WACtDuhD,EAAgB+O,GAAmBjzE,EAAMs5C,YAAY4qB,IACrD,IAAI6H,EAAUoiB,EAAW,GAAcjqB,GAAe,EAXrC,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,KAW6CkqB,GAAgBlqB,GACvF8H,EAAaoiB,GAAgBjqB,GAGjC,OAFA6H,EAAW,GAAG,GAAK,IACRD,EAAQ5kF,OAAO6kF,GAI5B,SAASoiB,GAAgBhgF,GAGvB,IAFA,IAAIlM,EAAO,GAEF7c,EAAI,EAAGA,EAAI+oB,EAAO7oB,OAAQF,IAAK,CACtC,IAAIc,EAAIioB,EAAO/oB,GACXif,EAAa,IAANjf,EAAU,IAAM,IAC3B6c,EAAK5L,KAAK,CAACgO,EAAMne,EAAEuO,EAAGvO,EAAEwO,IAG1B,OAAOuN,EAGT,SAASmsF,GAAct0F,GACrB,MAAO,WAAaA,EAAQ,aAlE9B,GAAiB,OAAQ,WAAY,CACnCnE,KAAM,SAAcZ,EAAKR,GACvB,IAAI0N,EAAO,GAAQlN,EAAKlP,MAAM,GAE1BuE,EAAQ,WAAU,GAAI,CACxBikG,SAAU,QACVpV,QAAS,SACRlkF,EAAI3K,OAUP,OARYmK,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,CACLjI,KAAMA,EACNzJ,KAAM41F,GAAcr5F,EAAI+E,OAAS,GAAe8B,cAChDlC,QAAS3E,EAAI2E,SAAW,IAE1BtP,MAAOA,OAKb,GAAiB,OAAQ,iBAAkB,CACzCuL,KAAM,SAAcZ,EAAKR,GACvB,IAAI0N,EAAO,GAAQlN,EAAKlP,MAAM,GAQ9B,OAPY0O,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,CACLjI,KAAMA,EACNzJ,KAAM41F,GAAcr5F,EAAI+E,OAAS,GAAe8B,cAChDlC,QAAS3E,EAAI2E,SAAW,SA0ChC,IC5Ee,IACb40F,KAAM,GACNC,KD4EF,SAAUzjG,GAGR,SAAS0jG,IACP,OAAkB,OAAX1jG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAuB7D,OA1BA,qBAAU2oG,EAAgB1jG,GAM1B0jG,EAAe/oG,UAAUwP,KAAO,WAC9BnK,EAAOrF,UAAUwP,KAAKtP,KAAKE,MAE3BA,KAAK4oG,cAGPD,EAAe/oG,UAAUgpG,WAAa,WACxB5oG,KAAK4vC,KAAKrhC,QAEZ8L,OACRra,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,mBAGXtuB,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,cAKRq6E,EA3BT,CA4BE,KEzGEE,GAAe,CAAC,aAAc,aAAc,cCFjC,IACbJ,KDKF,SAAUxjG,GAGR,SAAS6jG,IACP,OAAkB,OAAX7jG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAkJ7D,OArJA,qBAAU8oG,EAAgB7jG,GAM1B6jG,EAAelpG,UAAUwP,KAAO,WAC9BpP,KAAKmG,KAAO,WAEZlB,EAAOrF,UAAUwP,KAAKtP,KAAKE,MAE3B,IAAIS,EAAQT,KAAK4vC,KAAKrhC,QAElBvO,KAAK+oG,oBACP/oG,KAAK8nG,aAGF9nG,KAAK2qF,OAAO12E,QACfjU,KAAK2qF,OAAO12E,MAAQ,CAClBqa,OAAQ,CAAC,aAIb,IAAI06E,EAAYhpG,KAAKipG,cAAcxoG,GAE/BuoG,GACFhpG,KAAKkpG,UAAUF,GAGjB,IAAIf,EAAajoG,KAAKmpG,eAAe1oG,GAEjCwnG,GACFjoG,KAAK+nG,WAAWE,IAIpBa,EAAelpG,UAAUkoG,WAAa,WACpC,IAAIrnG,EAAQT,KAAK4vC,KAAKrhC,QAElBozE,EAAa3hF,KAAK6nG,sBAAsBpnG,GAExCkqF,EAAS,GAEThJ,IACFgJ,EAAO9zB,OAAS8qB,GAGdlhF,EAAMwT,QACJ,YAAWxT,EAAMwT,OACnB02E,EAAOr8D,OAAS,CAAC7tB,EAAMwT,OACd,cAAaxT,EAAMwT,OAC5B02E,EAAO9iE,SAAWpnB,EAAMwT,MACf,WAAUxT,EAAMwT,OACzB02E,EAAOr8D,OAAS7tB,EAAMwT,MACb,YAAWxT,EAAMwT,SAC1B02E,EAAO9zB,OAAS8qB,EAEhBgJ,EAAO9iE,SAAW,SAAUjJ,GAC1B,OAAOne,EAAMwT,MAAM2K,MAKzB5e,KAAK2qF,OAAO12E,MAAQ02E,GAGtBme,EAAelpG,UAAUspG,UAAY,SAAUF,GAC7C,IAAIvoG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAET,cAAalqF,EAAMuoG,KACrBre,EAAO9zB,OAAS,CAAC72D,KAAK2qF,OAAOn0E,SAASqgD,QACtC8zB,EAAO9iE,SAAWpnB,EAAMuoG,IAExBre,EAAOr8D,OAAS,CAAC7tB,EAAMuoG,IAGzBhpG,KAAK2qF,OAAOzkF,KAAOykF,GAGrBme,EAAelpG,UAAUmoG,WAAa,SAAUE,GAC9C,IAAI1jG,EAAQvE,KAAK4vC,KAAKrhC,QAAQ05F,GAC1Btd,EAAS,GAET,cAAapmF,IACfomF,EAAO9zB,OAAS,CAAC72D,KAAK2qF,OAAOn0E,SAASqgD,QACtC8zB,EAAO9iE,SAAWtjB,GAElBomF,EAAOz7E,IAAM3K,EAGfvE,KAAK2qF,OAAOpmF,MAAQomF,GAGtBme,EAAelpG,UAAUqpG,cAAgB,SAAUxoG,GAGjD,IAFA,IAES2vB,EAAK,EAAGg5E,EAFA,CAAC,aAAc,WAEYh5E,EAAKg5E,EAAa3pG,OAAQ2wB,IAAM,CAC1E,IAAIxS,EAAIwrF,EAAah5E,GAErB,GAAI,OAAM3vB,EAAOmd,GACf,OAAOA,IAKbkrF,EAAelpG,UAAUupG,eAAiB,SAAU1oG,GAGlD,IAFA,IAES2vB,EAAK,EAAGi5E,EAFA,CAAC,cAAe,WAAY,WAAY,aAEbj5E,EAAKi5E,EAAa5pG,OAAQ2wB,IAAM,CAC1E,IAAIxS,EAAIyrF,EAAaj5E,GAErB,GAAI,OAAM3vB,EAAOmd,GACf,OAAOA,IAKbkrF,EAAelpG,UAAUioG,sBAAwB,SAAUpnG,GAIzD,IAAK,IAAI2vB,EAAK,EAAGk5E,EAAiBT,GAAcz4E,EAAKk5E,EAAe7pG,OAAQ2wB,IAAM,CAChF,IAAIxS,EAAI0rF,EAAel5E,GAEvB,GAAI,OAAM3vB,EAAOmd,GACf,MAAO,CAACnd,EAAMmd,MAKpBkrF,EAAelpG,UAAUmpG,iBAAmB,WAC1C,IAAItoG,EAAQT,KAAK4vC,KAAKrhC,QAEtB,GAAI9N,EAAMwT,MACR,OAAO,EAGT,IAAK,IAAImc,EAAK,EAAGm5E,EAAiBV,GAAcz4E,EAAKm5E,EAAe9pG,OAAQ2wB,IAAM,CAGhF,GAAI3vB,EAFI8oG,EAAen5E,IAGrB,OAAO,EAIX,OAAO,GAGF04E,EAtJT,CAuJE,KEpDa,GApGf,SAAU7jG,GAGR,SAASukG,IACP,OAAkB,OAAXvkG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA6F7D,OAhGA,qBAAUwpG,EAAYvkG,GAMtBukG,EAAW5pG,UAAUwP,KAAO,WAC1B,IAAI3O,EAAQT,KAAK4vC,KAAKrhC,QACtBvO,KAAK2qF,OAAS,CACZxkF,KAAM,OACNqQ,SAAU,CACRqgD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,SAE/B6+C,aAAcn+E,EAAMm+E,cAGlBn+E,EAAMgpG,UACRzpG,KAAKkpG,YAGHzoG,EAAM4Z,SACRra,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,YAIT7tB,EAAM86B,OACRv7B,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC7tB,EAAM86B,SAIf96B,EAAMynG,aAAeznG,EAAMwT,QAC7BjU,KAAK8nG,aAGHrnG,EAAM+Y,WACRxZ,KAAK+nG,cAITyB,EAAW5pG,UAAUspG,UAAY,WAC/B,IAAIF,EAAYhpG,KAAK4vC,KAAKrhC,QAAQk7F,SAC9B9e,EAAS,GAET,cAAaqe,GACfre,EAAO9iE,SAAWmhF,EAElBre,EAAOr8D,OAAS,CAAC06E,GAGnBhpG,KAAK2qF,OAAOzkF,KAAOykF,GAGrB6e,EAAW5pG,UAAUkoG,WAAa,WAChC,IAAIrnG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAMb,GAJIlqF,EAAMynG,cACRvd,EAAO9zB,OAAS,CAACp2D,EAAMynG,cAGrB,OAAMznG,EAAO,SAAU,CACzB,IAAIwT,EAAQxT,EAAMwT,MAEd,YAAWA,GACb02E,EAAOr8D,OAAS,CAACra,GACR,cAAaA,GACtB02E,EAAO9iE,SAAW5T,EAElB02E,EAAOr8D,OAASra,EAIpBjU,KAAK2qF,OAAO12E,MAAQ02E,GAGtB6e,EAAW5pG,UAAUmoG,WAAa,WAChC,IAAItnG,EAAQT,KAAK4vC,KAAKrhC,QAClB05F,EAAaxnG,EAAM+Y,UACnBmxE,EAAS,CACX9zB,OAAQ,KACRhvC,SAAU,KACV3Y,IAAK,MAGH,cAAa+4F,IAAexnG,EAAMynG,aACpCvd,EAAO9zB,OAAS,CAACp2D,EAAMynG,aACvBvd,EAAO9iE,SAAWogF,GAElBtd,EAAOz7E,IAAM+4F,EAGfjoG,KAAK2qF,OAAOpmF,MAAQomF,GAGf6e,EAjGT,CAkGE,IC0Ba,GA5Hf,SAAUvkG,GAGR,SAASykG,IACP,OAAkB,OAAXzkG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAqH7D,OAxHA,qBAAU0pG,EAAiBzkG,GAM3BykG,EAAgB9pG,UAAUwP,KAAO,WAC/B,IAAI3O,EAAQT,KAAK4vC,KAAKrhC,QAEjB9N,EAAMq/B,QAAWr/B,EAAMs/B,SAI5B//B,KAAK2qF,OAAS,CACZxkF,KAAM,OACNqQ,SAAU,CACRqgD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,SAE/BxnB,SAAS,IAGPvY,KAAK6nG,yBAA2B7nG,KAAK2pG,oBAAoB,WAC3D3pG,KAAK8nG,aAGH9nG,KAAK2pG,oBAAoB,SAC3B3pG,KAAKkpG,YAGHzoG,EAAM2S,KAAK7O,OACbvE,KAAK+nG,aAGHtnG,EAAM4Z,SACRra,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,cAKfo7E,EAAgB9pG,UAAUspG,UAAY,WACpC,IAAIzoG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAETlqF,EAAM2S,KAAKlN,KACbykF,EAAOr8D,OAAS,CAAC7tB,EAAM2S,KAAKlN,MAG5BykF,EAAOr8D,OAAS,CAAC,GAGnBtuB,KAAK2qF,OAAOzkF,KAAOykF,GAGrB+e,EAAgB9pG,UAAUkoG,WAAa,WACrC,IAAIrnG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAEThJ,EAAa3hF,KAAK6nG,wBAElBlmB,IACFgJ,EAAO9zB,OAAS8qB,GAGdlhF,EAAM2S,KAAKa,MACb02E,EAAOr8D,OAAS,CAAC7tB,EAAM2S,KAAKa,QAEvB0tE,IACHA,EAAa3hF,KAAK2qF,OAAOn0E,SAASqgD,QAIhC,YAAWp2D,EAAMwT,OACnB02E,EAAOr8D,OAAS,CAAC7tB,EAAMwT,OACd,cAAaxT,EAAMwT,QAC5B02E,EAAO9zB,OAAS8qB,EAChBgJ,EAAO9iE,SAAWpnB,EAAMwT,OACf,WAAUxT,EAAMwT,SACzB02E,EAAO9zB,OAAS8qB,EAChBgJ,EAAOr8D,OAAS7tB,EAAMwT,QAI1BjU,KAAK2qF,OAAO12E,MAAQ02E,GAGtB+e,EAAgB9pG,UAAUmoG,WAAa,WACrC,IACIE,EADQjoG,KAAK4vC,KAAKrhC,QACC6E,KAAK7O,MACxBomF,EAAS,GAET,cAAasd,IACftd,EAAO9zB,OAAS72D,KAAK2qF,OAAOn0E,SAASqgD,OACrC8zB,EAAO9iE,SAAWogF,GAElBtd,EAAOz7E,IAAM+4F,EAGfjoG,KAAK2qF,OAAOpmF,MAAQomF,GAGtB+e,EAAgB9pG,UAAU+pG,oBAAsB,SAAUvhF,GACxD,IAAI3nB,EAAQT,KAAK4vC,KAAKrhC,QAEtB,OADiB9N,EAAM2S,MAAQ3S,EAAM2S,KAAKgV,IAI5CshF,EAAgB9pG,UAAUioG,sBAAwB,WAIhD,IAHA,IAAIpnG,EAAQT,KAAK4vC,KAAKrhC,QAGb6hB,EAAK,EAAG+3E,EAFC,CAAC,aAAc,eAEa/3E,EAAK+3E,EAAc1oG,OAAQ2wB,IAAM,CAC7E,IAAIxS,EAAIuqF,EAAc/3E,GAEtB,GAAI,OAAM3vB,EAAOmd,GACf,MAAO,CAACnd,EAAMmd,MAKb8rF,EAzHT,CA0HE,ICxHE,GAAiB,GAAU/zF,MAC/B,GAAiB,OAAQ,WAAY,CACnC7F,KAAM,SAAcZ,EAAKR,GAIvB,IAHA,IAAI4Z,EAAS6kE,GAAmBj+E,EAAIoZ,QAChClM,EAAO,GAEF7c,EAAI,EAAGA,EAAI+oB,EAAO7oB,OAAQF,IAAK,CACtC,IAAIc,EAAIioB,EAAO/oB,GACXif,EAAa,IAANjf,EAAU,IAAM,IAC3B6c,EAAK5L,KAAK,CAACgO,EAAMne,EAAEuO,EAAGvO,EAAEwO,IAG1B,IAAItK,EAAQ,WAAU,GAAI,CACxBikG,SAAU,QACVpV,QAAS,SACRlkF,EAAI3K,OASP,OAPYmK,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,OAAM,CACXjI,KAAMA,EACNtJ,OAAQ5D,EAAI+E,OAAS,GAAe8B,aACpCrD,UAAWxD,EAAIhJ,MAAQ,GACtB3B,QAKT,GAAiB,OAAQ,iBAAkB,CACzCuL,KAAM,SAAcZ,EAAKR,GACvB,IAEI0N,EAAO,GAFE+wE,GAAmBj+E,EAAIoZ,SAEH,EADhB,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,KAS9B,OAPY5Z,EAAUge,SAAS,OAAQ,CACrCrI,MAAO,OAAM,CACXjI,KAAMA,EACNtJ,OAAQ5D,EAAI+E,OAAS,GAAe8B,aACpCrD,UAAWxD,EAAIhJ,MAAQ,GACtBgJ,EAAI3K,YAMb,IChDe,IACbkkG,KAAM,GACNmB,MAAO,GACPlB,KD+CF,SAAUzjG,GAGR,SAAS4kG,IACP,OAAkB,OAAX5kG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAuB7D,OA1BA,qBAAU6pG,EAAgB5kG,GAM1B4kG,EAAejqG,UAAUwP,KAAO,WAC9BnK,EAAOrF,UAAUwP,KAAKtP,KAAKE,MAE3BA,KAAK4oG,cAGPiB,EAAejqG,UAAUgpG,WAAa,WACxB5oG,KAAK4vC,KAAKrhC,QAEZ8L,OACRra,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,mBAGXtuB,KAAK2qF,OAAOzwE,MAAQ,CAClBoU,OAAQ,CAAC,cAKRu7E,EA3BT,CA4BE,KEoCa,GA/Gf,SAAU5kG,GAGR,SAAS6kG,IACP,OAAkB,OAAX7kG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAwG7D,OA3GA,qBAAU8pG,EAAc7kG,GAMxB6kG,EAAalqG,UAAUwP,KAAO,WAC5B,IAAI3O,EAAQT,KAAK4vC,KAAKrhC,QACtBvO,KAAKuE,MAAQ9D,EAAM2uD,WAEd3uD,EAAMq/B,QAAWr/B,EAAMs/B,SAI5B//B,KAAK2qF,OAAS,CACZxkF,KAAM,QACNqQ,SAAU,CACRqgD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,UAGjC//B,KAAK8nG,aACL9nG,KAAKkpG,YAEDzoG,EAAMyZ,OACRla,KAAK4oG,WAAWnoG,EAAMyZ,OAGpBzZ,EAAM2uD,YACRpvD,KAAK+nG,eAIT+B,EAAalqG,UAAUkoG,WAAa,WAClC,IAAIrnG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GACThJ,EAAalhF,EAAMkhF,WAEnBA,IACFgJ,EAAO9zB,OAAS,WAAU8qB,GAAcA,EAAa,CAACA,IAGpDlhF,EAAMwT,OACRjU,KAAK+pG,YAAYtpG,EAAOkqF,GAG1B3qF,KAAK2qF,OAAO12E,MAAQ02E,GAGtBmf,EAAalqG,UAAUspG,UAAY,WACjC,IAAIzoG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAETlqF,EAAMupG,YACRrf,EAAO9zB,OAAS,CAACp2D,EAAMupG,YAGrBvpG,EAAMwpG,YACRtf,EAAOr8D,OAAS7tB,EAAMwpG,WAGxBjqG,KAAK2qF,OAAOzkF,KAAOykF,GAGrBmf,EAAalqG,UAAUgpG,WAAa,SAAUh1C,GAC5C,IAAI+2B,EAAS,CACXr8D,OAAQ,CAACslC,IAEX5zD,KAAK2qF,OAAOzwE,MAAQywE,GAGtBmf,EAAalqG,UAAUmoG,WAAa,WAClC,IAAItnG,EAAQT,KAAK4vC,KAAKrhC,QAClB05F,EAAaxnG,EAAM2uD,WACnBu7B,EAAS,CACX9zB,OAAQ,KACRhvC,SAAU,KACV3Y,IAAK,MAEH4wB,EAASr/B,EAAMq/B,OACfC,EAASt/B,EAAMs/B,OACf4hD,EAAalhF,EAAMkhF,WAEnB,cAAasmB,IAEbtd,EAAO9zB,OADL8qB,EACc,WAAUA,GAAc,CAAC7hD,EAAQC,EAAQ4hD,GAAYtgF,OAAOsgF,GAAc,CAAC7hD,EAAQC,EAAQ4hD,GAE3F,CAAC7hD,EAAQC,GAG3B4qD,EAAO9iE,SAAWogF,GAElBtd,EAAOz7E,IAAM+4F,EAGfjoG,KAAK2qF,OAAOpmF,MAAQomF,GAGtBmf,EAAalqG,UAAUmqG,YAAc,SAAUtpG,EAAOkqF,GAChD,YAAWlqF,EAAMwT,OACnB02E,EAAOr8D,OAAS,CAAC7tB,EAAMwT,OACd,cAAaxT,EAAMwT,OAC5B02E,EAAO9iE,SAAWpnB,EAAMwT,MACf,WAAUxT,EAAMwT,SACzB02E,EAAOr8D,OAAS7tB,EAAMwT,QAInB61F,EA5GT,CA6GE,ICpGF,IAAI,GAAe,CAAC,cAAe,cCN/BI,GAAe,CACjBz3F,KAAM,GACNW,KAAM,GACNG,MCVa,CACbq2F,MFgBF,SAAU3kG,GAGR,SAASklG,IACP,OAAkB,OAAXllG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAsI7D,OAzIA,qBAAUmqG,EAAkBllG,GAM5BklG,EAAiBvqG,UAAUwP,KAAO,WAChC,IAAI3O,EAAQT,KAAK4vC,KAAKrhC,QACtBvO,KAAKuE,MAAQ9D,EAAM8S,MAAMhP,MAEpB9D,EAAMq/B,QAAWr/B,EAAMs/B,SAI5B//B,KAAK2qF,OAAS,CACZxkF,KAAM,QACNqQ,SAAU,CACRqgD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,SAE/BxnB,SAAS,GAGXvY,KAAK8nG,aAED9nG,KAAK2pG,oBAAoB,SAC3B3pG,KAAKkpG,YAGHzoG,EAAM8S,MAAM2G,OACdla,KAAK4oG,WAAWnoG,EAAM8S,MAAM2G,OAG1BzZ,EAAM8S,MAAMhP,OACdvE,KAAK+nG,eAIToC,EAAiBvqG,UAAUkoG,WAAa,WACtC,IAAIrnG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GAETyf,EAAepqG,KAAK6nG,sBAAsBpnG,GAE1C2pG,EACFpqG,KAAKqqG,mBAAmB5pG,EAAOkqF,EAAQyf,GAEnC3pG,EAAM8S,OAAS9S,EAAM8S,MAAMU,MAC7B02E,EAAOr8D,OAAS,CAAC7tB,EAAM8S,MAAMU,OACpBxT,EAAMwT,OACfjU,KAAK+pG,YAAYtpG,EAAOkqF,GAI5B3qF,KAAK2qF,OAAO12E,MAAQ02E,GAGtBwf,EAAiBvqG,UAAUspG,UAAY,WACrC,IAAIzoG,EAAQT,KAAK4vC,KAAKrhC,QAClBo8E,EAAS,GACbA,EAAOr8D,OAAS,CAAC7tB,EAAM8S,MAAMrN,MAC7BlG,KAAK2qF,OAAOzkF,KAAOykF,GAGrBwf,EAAiBvqG,UAAUgpG,WAAa,SAAUh1C,GAChD,IAAI+2B,EAAS,CACXr8D,OAAQ,CAACslC,IAEX5zD,KAAK2qF,OAAOzwE,MAAQywE,GAGtBwf,EAAiBvqG,UAAUmoG,WAAa,WACtC,IAAItnG,EAAQT,KAAK4vC,KAAKrhC,QAClB05F,EAAaxnG,EAAM8S,OAAS9S,EAAM8S,MAAMhP,MACxComF,EAAS,CACX9zB,OAAQ,KACRhvC,SAAU,KACV3Y,IAAK,MAGH04B,EAAQ5nC,KAAK6nG,sBAAsBpnG,GAEnC,cAAawnG,IAAergE,GAC9B+iD,EAAO9zB,OAAS,CAACjvB,GACjB+iD,EAAO9iE,SAAWogF,GAElBtd,EAAOz7E,IAAM+4F,EAGfjoG,KAAK2qF,OAAOpmF,MAAQomF,GAGtBwf,EAAiBvqG,UAAUyqG,mBAAqB,SAAU5pG,EAAOkqF,EAAQ/iD,GAGvE,GAFA+iD,EAAO9zB,OAAS,CAACjvB,GAEbnnC,EAAM8S,MAAMU,MAAO,CAIrB,IAHA,IAAIsoB,EA/GV,SAA0BqL,EAAOnoB,GAC/B,IAAI6O,EAAS,GAOb,OALA,QAAO7O,GAAM,SAAUb,GACrB,IAAItB,EAAIsB,EAAEgpB,GACVtZ,EAAO9d,KAAK8M,MAGP,QAAOgR,GAuGEg8E,CAAiB1iE,EAAOnnC,EAAMgf,MAAMhgB,OAC5C6uB,EAAS,GAEJ/uB,EAAI,EAAGA,EAAIg9B,EAAOh9B,IACzB+uB,EAAO9d,KAAK/P,EAAM8S,MAAMU,OAG1B02E,EAAOr8D,OAASA,OACP7tB,EAAMwT,OACfjU,KAAK+pG,YAAYtpG,EAAOkqF,IAI5Bwf,EAAiBvqG,UAAUmqG,YAAc,SAAUtpG,EAAOkqF,GACpD,YAAWlqF,EAAMwT,OACnB02E,EAAOr8D,OAAS,CAAC7tB,EAAMwT,OACd,cAAaxT,EAAMwT,OAC5B02E,EAAO9iE,SAAWpnB,EAAMwT,MACf,WAAUxT,EAAMwT,SACzB02E,EAAOr8D,OAAS7tB,EAAMwT,QAI1Bk2F,EAAiBvqG,UAAU+pG,oBAAsB,SAAUvhF,GACzD,IAAI3nB,EAAQT,KAAK4vC,KAAKrhC,QAItB,OAFgB9N,EAAM8S,OAAS,OAAM9S,EAAM8S,MAAO6U,IAMpD+hF,EAAiBvqG,UAAUioG,sBAAwB,SAAUpnG,GAC3D,IAAK,IAAI2vB,EAAK,EAAGk5E,EAAiB,GAAcl5E,EAAKk5E,EAAe7pG,OAAQ2wB,IAAM,CAChF,IAAIxS,EAAI0rF,EAAel5E,GAEvB,GAAI,OAAM3vB,EAAOmd,GACf,MAAO,CAACnd,EAAMmd,MAKbusF,EA1IT,CA2IE,IE1JAvzF,OAAQ,IDSR3D,SAAU,IAEL,SAASs3F,GAAQt4F,EAAM9L,EAAM+I,GAElC,OAAO,IAAIs7F,EADAN,GAAaj4F,GAAM9L,IACd+I,GAAKy7E,OENhB,SAAS8f,GAAaC,EAAUC,GACrC,IAAKA,EACH,OAAOD,EAGLtrG,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,eACnDD,EAASp0E,UAAYq0E,EAAWr0E,WAG9Bl3B,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,SAE3B,aAApBA,EAAWxkG,OACbukG,EAASvkG,KAAOwkG,EAAWxkG,MAI3B/G,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,kBAC3B,SAApBA,EAAWxkG,KACbukG,EAAS5uE,aA1Bf,SAAgC7oB,GAC9B,IAAI23F,EAAYriG,GACZsiG,EAAc53F,EAAS4Q,MAAM,KAC7BinF,EAAgBF,EAAUC,EAAY,IACtCE,EAAgBh3E,SAAS82E,EAAY,GAAI,IAC7C,MAAO,CAACC,EAAcriG,OAAQsiG,EAAgBD,EAAclqG,OAqBhCoqG,CAAuBL,EAAW7uE,cAE1D4uE,EAAS5uE,aAAe6uE,EAAW7uE,cAIf,SAApB6uE,EAAWxkG,MAAmBwkG,EAAW31E,OAC3C01E,EAAS11E,KAAO21E,EAAW31E,MAGzB51B,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,SACnDD,EAASj7E,IAAMk7E,EAAWl7E,KAGxBrwB,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,SACnDD,EAAS/kF,IAAMglF,EAAWhlF,KAGxBvmB,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,cACnDD,EAAStzE,SAAWuzE,EAAWvzE,UAG7Bh4B,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,cACnDD,EAASrzE,SAAWszE,EAAWtzE,UAG7Bj4B,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,UACnDD,EAASpzE,KAAOqzE,EAAWrzE,MAGzBl4B,OAAOQ,UAAUC,eAAeC,KAAK6qG,EAAY,eACnDD,EAASz7E,UAAY07E,EAAW17E,WAG9B07E,EAAWt7E,aACbq7E,EAASr7E,WAAas7E,EAAWt7E,YC5DrC,SAAS47E,GAAgB/wF,EAAOuN,GAE9B,IAAInjB,EAAQ4V,EAAM+C,IAAI,SAClBqJ,EAAQpM,EAAM+C,IAAI,SAElBuQ,EADStT,EAAM+C,IAAI,UACHwK,EAAWsY,QAE3BswC,EAAY,SAAQn2D,EAAM+C,IAAI,WAE9BsJ,EAsHN,SAAiBD,GACf,IAAIpV,EAAQoV,EAAMpV,MACdC,EAAMmV,EAAMnV,IAEZrC,GADQwX,EAAM9hB,MACL8hB,EAAMxX,QACfyX,EAAO,IAAI,UAASW,KAAK,CAC3B7C,MAAO,CACLzV,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAO,EACPsK,OAAQA,KAIZ,OADAyX,EAAKlW,IAAI,UAAU,GACZkW,EApII,CAAQD,GACnBpM,EAAMkO,KAAK,OAAQ7B,GACnBrM,EAAMoP,UAAU,aAAa,GAC7B,IAAIrU,EAyJN,SAAsBlH,EAAMkE,GAC1B,IAAIgD,EACAoY,EAAWtf,EAAKkP,IAAI,YAoBxB,OAlBA,QAAOoQ,GAAU,SAAUltB,GACzB,GAAsB,SAAlBA,EAAE8c,IAAI,SACJ9c,EAAE8c,IAAI,mBAAoB,CAC5B,IAAIyjF,EAAiBvgG,EAAE8c,IAAI,mBAAmBkwD,gBAE9C,GAAIuzB,EAAgB,CAClB,IAAI30D,EAAS20D,EAAezjF,IAAI,kBAAkB0wB,YAElD,QAAO5B,GAAQ,SAAUzsB,GACnBA,EAAE8I,KAAK,UAAYnW,IACrBgD,EAAQqK,WAQbrK,EA/KKi2F,CAAazjF,EAAWmoB,KAAK7hC,KAAMsiE,EAAU,GAAGjV,QAAQ3zC,EAAWygF,cAE3EjzF,IAAUA,EAAMgI,IAAI,cACtBhI,EAAM5E,IAAI,WAAW,GAGvB,IAEI1O,EAFAqN,EAASkL,EAAM+C,IAAI,UAInBwK,EAAWygF,cACbvmG,EAAQqN,EAAO0d,SAAS,OAAQ,CAC9BrI,MAAO,CACLzV,EAAG0X,EAAMpV,MAAMtC,EANP,GAORC,EAAG,EACH6E,KAAM28D,EAAU,GAAGjV,QAAQ3zC,EAAWygF,aACtCv1F,KAAMuH,EAAMkO,KAAK,UACjBtT,SAAU,GACVnB,UAAW,QACXC,aAAc,aAKpB,IAAI22B,EAAU5oC,EAAQ,GAAK,EACvB4yC,EAASvlC,EAAO0d,SAAS,OAAQ,CACnCrI,MAAO,CACLzV,EAAG0X,EAAMpV,MAAMtC,EApBL,GAqBVC,EAAG07B,EACH72B,KAAM,OAASpP,EACfqO,KAAMuH,EAAMkO,KAAK,UACjBtT,SAAU,GACVnB,UAAW,QACXC,aAAc,YAKlB6T,EAAWI,SAAW,WAChB3N,IAAUA,EAAM+C,IAAI,eACtB/C,EAAMkO,KAAK,OAAQ,MACnBlO,EAAMoP,UAAU,aAAc,MAC9BpP,EAAMoP,UAAU,aAAa,GAC7B/C,EAAKpW,SACLokC,EAAO/3B,QAAQ,CACb3I,QAAS,GACR,KAAK,WACN0gC,EAAOpkC,SAEH8E,IAAUA,EAAMgI,IAAI,eACtBhI,EAAM5E,IAAI,WAAW,GACrBoX,EAAWmoB,KAAK7gC,OAAOe,WAIvBnO,GACF4yC,EAAO/3B,QAAQ,CACb3I,QAAS,GACR,KAAK,WACN0gC,EAAOpkC,cAUf,IAAIuX,EAAQD,EAAWC,MAEnB,cAAaA,KACfA,EAAQD,EAAWC,MAAMpjB,IAG3B,IAAIqjB,EAASF,EAAWE,OAEpB,cAAaA,KACfA,EAASF,EAAWE,OAAOrjB,IAM7BiiB,EAAK/J,QAAQ,CACXhY,MAAO8hB,EAAM2B,YACZR,EAAWG,SAAUD,EAAQF,EAAWI,SAAUH,GACrD6sB,EAAO/3B,QAAQ,CACb2uF,QAAS,SAAiB9sE,GACxB,IAAI7nB,EAAW40F,GAAmB/sE,EAAOgyC,EAAW/pD,EANhD,GAOJ,GAAK9P,EAAL,CACA+9B,EAAOnsB,KAAK,IAAK5R,EAAS,GApFhB,IAqFV+9B,EAAOnsB,KAAK,IAAK5R,EAAS,GAAK+zB,GAC/B,IAAI8gE,EAuDV,SAA2B19E,EAAO9e,EAAGyX,GACnC,IAAIglF,GAAUz8F,EAAIyX,EAAMpV,MAAMrC,IAAMyX,EAAMnV,IAAItC,EAAIyX,EAAMpV,MAAMrC,GAC9D,OAAO8e,EAAMoC,OAAOu7E,GAAQ3oF,QAAQ,GAzDpB4oF,CAAkB/9E,EAAQhX,EAAS,GAAI8P,GAE/CkH,EAAOyB,YACTo8E,EAAQ79E,EAAOyB,UAAUo8E,IAG3B92D,EAAOnsB,KAAK,OAAQijF,MAErB5jF,EAAWG,SAAUD,EAAQF,EAAWI,SAAUH,GAEjD/lB,GACFA,EAAM6a,QAAQ,CACZ2uF,QAAS,SAAiB9sE,GACxB,IAAI7nB,EAAW40F,GAAmB/sE,EAAOgyC,EAAW/pD,EAvBlD,GAwBG9P,IACL7U,EAAMymB,KAAK,IAAK5R,EAAS,GArGjB,IAsGR7U,EAAMymB,KAAK,IAAK5R,EAAS,OAE1BiR,EAAWG,SAAUD,EAAQF,EAAWI,SAAUH,GAqBzD,SAAS0jF,GAAmB/sE,EAAOmtE,EAAYllF,EAAOhiB,GAGpD,IAFA,IAAImnG,EAAWnlF,EAAMpV,MAAMtC,EAAI0X,EAAM2B,WAAaoW,EAEzC9+B,EAAI,EAAGA,EAAIisG,EAAW/rG,OAAS,EAAGF,IAAK,CAC9C,IAAIsqE,EAAU2hC,EAAWjsG,GACrB+gC,EAAOkrE,EAAWjsG,EAAI,GAE1B,GAAIksG,GAAY5hC,EAAQj7D,GAAK68F,GAAYnrE,EAAK1xB,EAAG,CAC/C,IAAIgP,GAAK0iB,EAAKzxB,EAAIg7D,EAAQh7D,IAAMyxB,EAAK1xB,EAAIi7D,EAAQj7D,GAGjD,MAAO,CAAC68F,EADA5hC,EAAQh7D,EAAI+O,GAAK6tF,EAAW5hC,EAAQj7D,MAoClDq8F,GAAgB3gF,cAAgB,kBAChC,GAAQY,kBAAkB,SAAU,kBAAmB+/E,IChMvD,IAwDe,GAtDf,WACE,SAASS,EAAWx8F,GAClBlP,KAAKmG,KAAO,QACZnG,KAAKkW,OAAShH,EAAIgH,OAClBlW,KAAK2rG,MAAQ,GAEb3rG,KAAK4rG,eAEL5rG,KAAK6rG,cAAgB,WAAU,GAAI7rG,KAAK2rG,OA2C1C,OAxCAD,EAAW9rG,UAAUksG,QAAU,SAAU5xF,GAKvC,OAJW,WAAU,G3DwNzB,SAAsBA,GACpB,IAAI2wB,EAAO3wB,EAAM+O,UACbra,EAAIi8B,EAAKtiB,KACT1Z,EAAIg8B,EAAKpiB,KAOTsjF,EAAYlhE,EAAK6G,GAAG9iC,EAAIi8B,EAAKsF,GAAGvhC,EAChCo9F,EAAanhE,EAAKmF,GAAGnhC,EAAIg8B,EAAKsF,GAAGthC,EAEjCyY,EAASpN,EAAMkO,KAAK,UACpB6jF,EAAW,CAAC3kF,EAAO,GAAIA,EAAO,GAAI,EAAGA,EAAO,GAAIA,EAAO,GAAI,EAAG,EAAG,EAAG,GACpE4kF,EAAWxnE,GAAY,CACzB91B,EAAG,EACHC,EAAG,GACFo9F,GACHC,EAASt9F,GAAKA,EACds9F,EAASr9F,GAAKA,EACd,IAAIs9F,EAAYznE,GAAY,CAC1B91B,EAAGm9F,EACHl9F,EAAG,GACFo9F,GACHE,EAAUv9F,GAAKA,EACfu9F,EAAUt9F,GAAKA,EACf,IAAIu9F,EAAc1nE,GAAY,CAC5B91B,EAAG,EACHC,EAAGm9F,GACFC,GACHG,EAAYx9F,GAAKA,EACjBw9F,EAAYv9F,GAAKA,EACjB,IAAIw9F,EAAe3nE,GAAY,CAC7B91B,EAAGm9F,EACHl9F,EAAGm9F,GACFC,GACHI,EAAaz9F,GAAKA,EAClBy9F,EAAax9F,GAAKA,EAGlB,IAAIyZ,EAAS,CAAC4jF,EAAUC,EAAWC,EAAaC,GAChD/jF,EAAOyO,MAAK,SAAU1Z,EAAGuC,GACvB,OAAOvC,EAAExO,EAAI+Q,EAAE/Q,KAEjB,IAAI4Z,EAAOH,EAAO,GAAGzZ,EACjB6Z,EAAOJ,EAAOA,EAAO7oB,OAAS,GAAGoP,EACjCy9F,EAAO,CAAChkF,EAAO,GAAIA,EAAO,IAC1BikF,EAAU,CAACjkF,EAAO,GAAIA,EAAO,IAC7BokC,EAAU4/C,EAAK,GAAG19F,EAAI09F,EAAK,GAAG19F,EAAI09F,EAAK,GAAKA,EAAK,GACjDE,EAAWF,EAAK,GAAG19F,EAAI09F,EAAK,GAAG19F,EAAI09F,EAAK,GAAKA,EAAK,GAClDG,EAAaF,EAAQ,GAAG39F,EAAI29F,EAAQ,GAAG39F,EAAI29F,EAAQ,GAAKA,EAAQ,GAChEG,EAAcH,EAAQ,GAAG39F,EAAI29F,EAAQ,GAAG39F,EAAI29F,EAAQ,GAAKA,EAAQ,GACrEjkF,EAAOyO,MAAK,SAAU1Z,EAAGuC,GACvB,OAAOvC,EAAEzO,EAAIgR,EAAEhR,KAEjB,IAAI2Z,EAAOD,EAAO,GAAG1Z,EACjB4Z,EAAOF,EAAOA,EAAO7oB,OAAS,GAAGmP,EAerC,MAdW,CACTpK,MAAOgkB,EAAOD,EACdzZ,OAAQ4Z,EAAOD,EACf/R,KAAM6R,EACN5R,MAAO6R,EACPjS,IAAKkS,EACLhS,OAAQiS,EACRgkC,QAASA,EACT8/C,SAAUA,EACVC,WAAYA,EACZC,YAAaA,EACb/jF,QAASJ,GAAQC,EAAOD,GAAQ,EAChCK,QAASH,GAAQC,EAAOD,GAAQ,G2D9RP,CAAsBvO,GAAQ,CACrDA,MAAOA,KAMXwxF,EAAW9rG,UAAU+sG,aAAe,WAClC,IAAIznG,EAAQlF,KAER2rG,EAAQ,GACRz1F,EAAS,GAEb,QAAOlW,KAAKkW,QAAQ,SAAUgE,EAAO5V,GACnC,IAAI4oC,EAAO,WAAU,GAAIhoC,EAAMymG,MAAMrnG,GAAQY,EAAM4mG,QAAQ5xF,IAExC,IAAfgzB,EAAK1oC,OAA+B,IAAhB0oC,EAAKp+B,SAC3B68F,EAAMn7F,KAAK08B,GACXh3B,EAAO1F,KAAK0J,OAKhBla,KAAK2rG,MAAQA,EACb3rG,KAAKkW,OAASA,GAGhBw1F,EAAW9rG,UAAU0sB,aAAe,aAEpCo/E,EAAW9rG,UAAUgsG,aAAe,WAClC,IAAI1mG,EAAQlF,KAEZ,QAAOA,KAAKkW,QAAQ,SAAUgE,GAC5B,IAAIgzB,EAAOhoC,EAAM4mG,QAAQ5xF,GAEzBhV,EAAMymG,MAAMn7F,KAAK08B,OAIdw+D,EAnDT,GCKe,ICHJkB,GAAiB,CAC1BxK,YCQa,CACbj8F,KAAM,QACN0mG,MAAO,UACPC,WAjBF,SAAqBzvF,EAAGuC,EAAG1Q,QACb,IAARA,IACFA,EAAM,CACJtO,MAAO,IAIX,IAGI2jD,EAAO,GAHI,CAAClnC,EAAEqvC,QAASrvC,EAAEmvF,SAAUnvF,EAAEqvF,YAAarvF,EAAEovF,YAEzC,CAAC7sF,EAAE8sC,QAAS9sC,EAAE4sF,SAAU5sF,EAAE8sF,YAAa9sF,EAAE6sF,aAExD,OAAOvuF,KAAKgS,MAAMq0B,IAASr1C,EAAItO,QDJ/B+hG,oBEEa,CACbx8F,KAAM,QACN0mG,MAAO,UACPC,WAdF,SAA6BzvF,EAAGuC,EAAG1Q,QACrB,IAARA,IACFA,EAAM,CACJtO,MAAO,IAIX,IAAI2jD,EAAOrmC,KAAKsE,IAAInF,EAAE5G,OAASmJ,EAAErJ,KACjC,OAAO2H,KAAKgS,MAAMq0B,IAASr1C,EAAItO,QFE/BmsG,iBGAa,CACb5mG,KAAM,QACN0mG,MAAO,UACPC,WAXF,SAA0BzvF,EAAGuC,GAC3B,IAGI2kC,EAAO,GAHI,CAAClnC,EAAEqvC,QAASrvC,EAAEmvF,SAAUnvF,EAAEqvF,YAAarvF,EAAEovF,YAEzC,CAAC7sF,EAAE8sC,QAAS9sC,EAAE4sF,SAAU5sF,EAAE8sF,YAAa9sF,EAAE6sF,aAExD,OAAOvuF,KAAKgS,MAAMq0B,IAAS,IHI3Bq+C,aIDa,CACbz8F,KAAM,UACN0mG,MAAO,UACPC,WAbF,SAAsB5/D,EAAMj8B,EAAQ/B,GAOlC,YANY,IAARA,IACFA,EAAM,CACJmvB,MAAO,MAIJ6O,EAAK1oC,MAAQyM,EAAOzM,MAAQ0K,EAAImvB,QJKvC2uE,YKFa,CACb7mG,KAAM,UACN0mG,MAAO,SACPC,WAbF,SAAqB5/D,EAAMj8B,EAAQ/B,GAOjC,YANY,IAARA,IACFA,EAAM,CACJmvB,MAAO,KAIJptB,EAAOzM,MAAQ0K,EAAImvB,QLM1B4uE,cDHa,CACb9mG,KAAM,UACN0mG,MAAO,SACPC,WAbF,SAAuB5/D,EAAMj8B,EAAQ/B,GAOnC,YANY,IAARA,IACFA,EAAM,CACJmvB,MAAO,KAIJptB,EAAOuC,OAAStE,EAAImvB,QCO3B6uE,iBMRa,CACb/mG,KAAM,UACN0mG,MAAO,SACPC,WATF,SAA0B5/D,EAAMj8B,GAC9B,IACIk8F,EAAel8F,EAAOqV,MAAM9S,OADR,EAExB,OAAO0K,KAAKuR,IAAI09E,EAAcjgE,EAAKtsC,UCHtB,SAASwsG,GAASlzF,GAC/BA,EAAMkO,KAAK,OAAQ,ICyCd,SAASilF,GAAcC,EAAOC,GACnC,QAAID,EAAM72F,OAAS82F,EAAMh3F,KAAOg3F,EAAM92F,OAAS62F,EAAM/2F,QAIjD+2F,EAAM32F,MAAQ42F,EAAM72F,MAAQ62F,EAAM52F,MAAQ22F,EAAM52F,MC/CtD,IAAI,GAAQ,2EAMR,GAAU,gBAEd,SAAS,GAAQka,EAAKC,GAGpB,IAFA,IAAIC,EAAS,GAEJvxB,EAAI,EAAGse,EAAM+S,EAAInxB,OAAQF,EAAIse,EAAKte,IACzCuxB,EAAOtgB,KAAKogB,EAAIrxB,GAAGwxB,OAAO,EAAGF,IAG/B,OAAOC,EAGT,IAAI,GAAc,SAAqBG,GACrC,OAAO,SAAU3T,EAAG4T,GAClB,IAGI5sB,EAHe4sB,EAAKD,GAAS7sB,KAAI,SAAUkZ,GAC7C,OAAOA,EAAEhL,iBAEchS,QAAQgd,EAAEhL,eAEnC,OAAIhO,GAAS,EACJA,EAGF,OAIX,SAAS,GAAOkpG,GAGd,IAFA,IAAIr9E,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,EAAK,GAAK5wB,UAAU4wB,GAG3B,IAAK,IAAI5qB,EAAK,EAAGioG,EAASt9E,EAAM3qB,EAAKioG,EAAOhuG,OAAQ+F,IAAM,CACxD,IAAI7E,EAAM8sG,EAAOjoG,GAEjB,IAAK,IAAI7F,KAAOgB,EAEd6sG,EAAQ7tG,GAAOgB,EAAIhB,GAIvB,OAAO6tG,EAGT,IAAI,GAAW,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC9E,GAAa,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC5H,GAAkB,GAAQ,GAAY,GAEtCE,GAAc,CAChBj8E,cAFkB,GAAQ,GAAU,GAGpCH,SAAU,GACVE,gBAAiB,GACjBD,WAAY,GACZG,KAAM,CAAC,KAAM,MACbC,KAAM,SAAcg8E,GAClB,OAAOA,EAAa,CAAC,KAAM,KAAM,KAAM,MAAMA,EAAa,GAAK,EAAI,GAAKA,EAAaA,EAAa,KAAO,GAAK,EAAI,GAAKA,EAAa,MAGpIC,GAAa,GAAO,GAAIF,IAMxB,GAAc,SAAqB/3E,GACrC,OAAOA,EAAIhW,QAAQ,oBAAqB,SAGtC,GAAM,SAAa0R,EAAKxT,GAO1B,SANY,IAARA,IACFA,EAAM,GAGRwT,EAAM3R,OAAO2R,GAENA,EAAI5xB,OAASoe,GAClBwT,EAAM,IAAMA,EAGd,OAAOA,GAGL,GAAc,CAChBO,EAAG,SAAWE,GACZ,OAAOpS,OAAOoS,EAAQC,YAExBC,GAAI,SAAYF,GACd,OAAO,GAAIA,EAAQC,YAErBE,GAAI,SAAYH,EAASZ,GACvB,OAAOA,EAAKS,KAAKG,EAAQC,YAE3BnT,EAAG,SAAWkT,GACZ,OAAOpS,OAAOoS,EAAQI,WAExBC,GAAI,SAAYL,GACd,OAAO,GAAIA,EAAQI,WAErBE,IAAK,SAAaN,EAASZ,GACzB,OAAOA,EAAKO,cAAcK,EAAQI,WAEpCG,KAAM,SAAcP,EAASZ,GAC3B,OAAOA,EAAKI,SAASQ,EAAQI,WAE/BI,EAAG,SAAWR,GACZ,OAAOpS,OAAOoS,EAAQS,WAAa,IAErCC,GAAI,SAAYV,GACd,OAAO,GAAIA,EAAQS,WAAa,IAElCE,IAAK,SAAaX,EAASZ,GACzB,OAAOA,EAAKM,gBAAgBM,EAAQS,aAEtCG,KAAM,SAAcZ,EAASZ,GAC3B,OAAOA,EAAKK,WAAWO,EAAQS,aAEjCI,GAAI,SAAYb,GACd,OAAO,GAAIpS,OAAOoS,EAAQc,eAAgB,GAAG7B,OAAO,IAEtD8B,KAAM,SAAcf,GAClB,OAAO,GAAIA,EAAQc,cAAe,IAEpC3iB,EAAG,SAAW6hB,GACZ,OAAOpS,OAAOoS,EAAQgB,WAAa,IAAM,KAE3CC,GAAI,SAAYjB,GACd,OAAO,GAAIA,EAAQgB,WAAa,IAAM,KAExCE,EAAG,SAAWlB,GACZ,OAAOpS,OAAOoS,EAAQgB,aAExBG,GAAI,SAAYnB,GACd,OAAO,GAAIA,EAAQgB,aAErBlV,EAAG,SAAWkU,GACZ,OAAOpS,OAAOoS,EAAQoB,eAExBC,GAAI,SAAYrB,GACd,OAAO,GAAIA,EAAQoB,eAErBhzB,EAAG,SAAW4xB,GACZ,OAAOpS,OAAOoS,EAAQsB,eAExBC,GAAI,SAAYvB,GACd,OAAO,GAAIA,EAAQsB,eAErBE,EAAG,SAAWxB,GACZ,OAAOpS,OAAOxB,KAAKgS,MAAM4B,EAAQyB,kBAAoB,OAEvDC,GAAI,SAAY1B,GACd,OAAO,GAAI5T,KAAKgS,MAAM4B,EAAQyB,kBAAoB,IAAK,IAEzDE,IAAK,SAAa3B,GAChB,OAAO,GAAIA,EAAQyB,kBAAmB,IAExClW,EAAG,SAAWyU,EAASZ,GACrB,OAAOY,EAAQgB,WAAa,GAAK5B,EAAKQ,KAAK,GAAKR,EAAKQ,KAAK,IAE5DgC,EAAG,SAAW5B,EAASZ,GACrB,OAAOY,EAAQgB,WAAa,GAAK5B,EAAKQ,KAAK,GAAG7Q,cAAgBqQ,EAAKQ,KAAK,GAAG7Q,eAE7E8S,GAAI,SAAY7B,GACd,IAAI9c,EAAS8c,EAAQ8B,oBACrB,OAAQ5e,EAAS,EAAI,IAAM,KAAO,GAAwC,IAApCkJ,KAAK2V,MAAM3V,KAAKsE,IAAIxN,GAAU,IAAYkJ,KAAKsE,IAAIxN,GAAU,GAAI,KAIvG64F,GAAa,SAAoBvwF,GACnC,OAAQA,EAAI,GAGVwwF,GAAc,CAAC,KAlLK,aAmLpBC,GAAY,CAAC,KA/KN,WAgLPr8E,GAAO,CAAC,OAhLD,UAgLe,SAAUpU,EAAG4T,GACrC,IAAIG,EAAM/T,EAAEhL,cAEZ,OAAI+e,IAAQH,EAAKQ,KAAK,GACb,EACEL,IAAQH,EAAKQ,KAAK,GACpB,EAGF,OAEL,GAAa,CACfE,EAAG,CAAC,MAhMkB,aAiMtBI,GAAI,CAAC,MAhMS,UAiMdC,GAAI,CAAC,MAAO+7E,mBAA0B,SAAU1wF,GAC9C,OAAOyW,SAASzW,EAAG,MAErBgV,EAAG,CAAC,QArMkB,YAqMUu7E,IAChCr7E,GAAI,CAAC,QArMS,SAqMWq7E,IACzBl7E,GAAI,CAAC,OAtMS,SAsMU,SAAUrV,GAChC,IACI0W,IAAS,IADH,IAAI1wB,MACQsvB,eAAe7B,OAAO,EAAG,GAC/C,QAAS,KAAOzT,EAAI,GAAK0W,EAAO,EAAIA,GAAQ1W,KAE9CrN,EAAG,CAAC,OA5MkB,iBA4MSnJ,EAAW,QAC1CisB,GAAI,CAAC,OA5MS,cA4MUjsB,EAAW,QACnCksB,EAAG,CAAC,OA9MkB,aA+MtBC,GAAI,CAAC,OA9MS,UA+MdrV,EAAG,CAAC,SAhNkB,aAiNtBuV,GAAI,CAAC,SAhNS,UAiNdjzB,EAAG,CAAC,SAlNkB,aAmNtBmzB,GAAI,CAAC,SAlNS,UAmNdR,KAAM,CAAC,OAjNQ,UAkNfS,EAAG,CAAC,cAAe,MAAO,SAAUhW,GAClC,OAAY,KAAJA,IAEVkW,GAAI,CAAC,cAvNS,SAuNiB,SAAUlW,GACvC,OAAY,IAAJA,IAEVmW,IAAK,CAAC,cAzNU,UA0NhB7U,EAAGkvF,GACH37E,GAAI27E,GACJ17E,IAAK27E,GACL17E,KAAM07E,GACNt7E,IAAK,CAAC,QA5NG,UA4NY,GAAY,oBACjCC,KAAM,CAAC,QA7NE,UA6Na,GAAY,eAClCrV,EAAGqU,GACHgC,EAAGhC,GACHiC,GAAI,CAAC,iBAAkB,4CAA6C,SAAUrW,GAC5E,IAAI+W,GAAS/W,EAAI,IAAIgX,MAAM,iBAE3B,GAAID,EAAO,CACT,IAAID,EAAsB,IAAXC,EAAM,GAAUN,SAASM,EAAM,GAAI,IAClD,MAAoB,MAAbA,EAAM,GAAaD,GAAWA,EAGvC,OAAO,KAIP65E,GAAc,CAChB9zF,QAAS,2BACTsa,UAAW,SACXC,WAAY,cACZC,SAAU,eACVC,SAAU,qBACVC,UAAW,QACXC,WAAY,WACZC,SAAU,gBA8KZ,IAOe,GAPH,CACVtsB,OAhKW,SAAgBqpB,EAASkD,EAAM9D,GAa1C,QAZa,IAAT8D,IACFA,EAAOi5E,GAAqB,cAGjB,IAAT/8E,IACFA,EAAO,IAGc,kBAAZY,IACTA,EAAU,IAAIxuB,KAAKwuB,IAG2B,kBAA5C1yB,OAAOQ,UAAU2D,SAASzD,KAAKgyB,IAAgCoD,MAAMpD,EAAQqD,WAC/E,MAAM,IAAIvf,MAAM,+BAIlB,IAAIwf,EAAW,GAEfJ,GAHAA,EAAOi5E,GAAYj5E,IAASA,GAGhBrV,QAAQ,IAAS,SAAU0V,EAAIC,GAEzC,OADAF,EAAS5kB,KAAK8kB,GACP,SAET,IAAI44E,EAAuB,GAAO,GAAO,GAAIN,IAAa18E,GAM1D,OAJA8D,EAAOA,EAAKrV,QAAQ,IAAO,SAAU0V,GACnC,OAAO,GAAYA,GAAIvD,EAASo8E,OAGtBvuF,QAAQ,QAAQ,WAC1B,OAAOyV,EAAS3P,YAkIlB8P,MArHF,SAAeC,EAAS/sB,EAAQyoB,GAK9B,QAJa,IAATA,IACFA,EAAO,IAGa,kBAAXzoB,EACT,MAAM,IAAImN,MAAM,iCAOlB,GAHAnN,EAASwlG,GAAYxlG,IAAWA,EAG5B+sB,EAAQ/1B,OAAS,IACnB,OAAO,KAIT,IACIg2B,EAAW,CACb1sB,MAFU,IAAIzF,MAEFsvB,cACZ9pB,MAAO,EACPF,IAAK,EACLD,KAAM,EACNsrB,OAAQ,EACRzrB,OAAQ,EACR0rB,YAAa,EACbC,KAAM,KACNI,eAAgB,MAEdmB,EAAY,GACZN,EAAW,GAEXQ,EAAYntB,EAAOkX,QAAQ,IAAS,SAAU0V,EAAIC,GAEpD,OADAF,EAAS5kB,KAAK,GAAY8kB,IACnB,SAEL64E,EAAkB,GAClBC,EAAiB,GAErBx4E,EAAY,GAAYA,GAAWjW,QAAQ,IAAO,SAAU0V,GAC1D,IAAIQ,EAAO,GAAWR,GAClBuS,EAAQ/R,EAAK,GACbw4E,EAAQx4E,EAAK,GACby4E,EAAgBz4E,EAAK,GAEzB,GAAIs4E,EAAgBvmE,GAClB,MAAM,IAAIhyB,MAAM,mBAAqBgyB,EAAQ,8BAU/C,OAPAumE,EAAgBvmE,IAAS,EAErB0mE,IACFF,EAAeE,IAAiB,GAGlC54E,EAAUllB,KAAKqlB,GACR,IAAMw4E,EAAQ,OAGvBjvG,OAAOukC,KAAKyqE,GAAgBlmG,SAAQ,SAAU0/B,GAC5C,IAAKumE,EAAgBvmE,GACnB,MAAM,IAAIhyB,MAAM,mBAAqBgyB,EAAQ,uCAIjDhS,EAAYA,EAAUjW,QAAQ,QAAQ,WACpC,OAAOyV,EAAS3P,WAGlB,IAAIqQ,EAAUN,EAAQlB,MAAM,IAAItV,OAAO4W,EAAW,MAElD,IAAKE,EACH,OAAO,KAKT,IAFA,IAAIo4E,EAAuB,GAAO,GAAO,GAAIN,IAAa18E,GAEjD3xB,EAAI,EAAGA,EAAIu2B,EAAQr2B,OAAQF,IAAK,CACvC,IAAIiG,EAAKkwB,EAAUn2B,EAAI,GACnBqoC,EAAQpiC,EAAG,GACX+oG,EAAS/oG,EAAG,GACZ5E,EAAQ2tG,EAASA,EAAOz4E,EAAQv2B,GAAI2uG,IAAyBp4E,EAAQv2B,GAEzE,GAAa,MAATqB,EACF,OAAO,KAGT60B,EAASmS,GAAShnC,EAGE,IAAlB60B,EAAStB,MAA+B,MAAjBsB,EAAS9sB,MAAmC,MAAlB8sB,EAAS9sB,KAC5D8sB,EAAS9sB,MAAQ8sB,EAAS9sB,KAAO,GACN,IAAlB8sB,EAAStB,MAAiC,MAAlBsB,EAAS9sB,OAC1C8sB,EAAS9sB,KAAO,GAMlB,IAHA,IAAI6lG,EAAgB,IAAIlrG,KAAKmyB,EAAS1sB,KAAM0sB,EAAS3sB,MAAO2sB,EAAS7sB,IAAK6sB,EAAS9sB,KAAM8sB,EAASxB,OAAQwB,EAASjtB,OAAQitB,EAASvB,aAChIu6E,EAAiB,CAAC,CAAC,QAAS,YAAa,CAAC,MAAO,WAAY,CAAC,OAAQ,YAAa,CAAC,SAAU,cAAe,CAAC,SAAU,eAE5G5wF,GAAPte,EAAI,EAASkvG,EAAehvG,QAAQF,EAAIse,EAAKte,IAGpD,GAAI4uG,EAAgBM,EAAelvG,GAAG,KAAOk2B,EAASg5E,EAAelvG,GAAG,MAAQivG,EAAcC,EAAelvG,GAAG,MAC9G,OAAO,KAIX,OAA+B,MAA3Bk2B,EAASlB,eACJi6E,EAGF,IAAIlrG,KAAKA,KAAK2yB,IAAIR,EAAS1sB,KAAM0sB,EAAS3sB,MAAO2sB,EAAS7sB,IAAK6sB,EAAS9sB,KAAM8sB,EAASxB,OAASwB,EAASlB,eAAgBkB,EAASjtB,OAAQitB,EAASvB,eAM1Jw5E,YAAaA,GACbgB,kBAvWsB,SAA2Bx9E,GACjD,OAAO08E,GAAa,GAAOA,GAAY18E,IAuWvCy9E,mBAhLuB,SAA4Bn6E,GACnD,OAAO,GAAOy5E,GAAaz5E,KCrPd,SAASo6E,GAAyB10F,EAAOuvB,EAAQnlC,EAAO4K,GACrE,IACI2/F,EADAlD,EAAQz8F,EAAIy8F,MAAMA,MAIpBkD,EADEvqG,IAAUqnG,EAAMlsG,OAAS,EACbksG,EAAMrnG,EAAQ,GAAG4V,MAAM+C,IAAI,UAAUvJ,KAErCi4F,EAAMrnG,EAAQ,GAAG4V,MAAM+C,IAAI,UAAUvJ,KAGrD,IAAIo7F,EAAU,IAAIxrG,KAAKurG,GAGnBn7F,EAAOwG,EAAM+C,IAAI,UAAUvJ,KAC3Bm2D,EAAU,IAAIvmE,KAAKoQ,GACnBq7F,EAAYpD,EAAM,GAAGzxF,MAAM+C,IAAI,UAAUvJ,KACzCxC,EAAQ,IAAI5N,KAAKyrG,GACjBC,EAAUrD,EAAMA,EAAMlsG,OAAS,GAAGya,MAAM+C,IAAI,UAAUvJ,KAEtDu7F,EAAeC,GAAgBh+F,EADzB,IAAI5N,KAAK0rG,IAEfG,EAAYD,GAAgBrlC,EAASilC,GAGzC,GAAIG,IAAiBE,GASrB,GAAc,IAAV7qG,EAAa,CACf,IAAI8qG,EAAezD,EAAMrnG,EAAQ,GAAG4V,MAAM+C,IAAI,UAAUvJ,KAIxD,GAQJ,SAAwB8lC,EAAMqwB,EAASwlC,GACrC,IAAIC,EAAen6E,GAAQ00C,EAASrwB,GAChC+1D,EAAgBp6E,GAAQk6E,EAAU71D,GAEtC,GAAI81D,IAAiBC,EACnB,OAAO,EAGT,OAAO,EAlBcC,CAAeP,EAAcplC,EADjC,IAAIvmE,KAAK8rG,IAGN,CACZngF,EAsCV,SAAgCrH,EAAU6nF,GAOxC,IANA,IAAI/jE,EAAQ,CAAC,OAAQ,QAAS,MAAO,OAAQ,UACzC0+C,EAAa,CAAC,OAAQ,KAAM,KAAM,KAAM,MACxC16B,EAAahkB,EAAMprC,QAAQsnB,GAAY,EACvC0lE,EAAW5hD,EAAMprC,QAAQmvG,GACzBxgF,EAAY,GAEP1vB,EAAImwD,EAAYnwD,GAAK+tF,EAAU/tF,IACtC0vB,GAAam7D,EAAW7qF,GAEpBA,EAAI+tF,IACNr+D,GAAa,KAIjB,OAAOA,EArDaygF,CAAuBT,EAAcE,GAErD,YADAj1F,EAAMkO,KAAK,OAAQ,GAAM3f,OAAOohE,EAAS56C,WAf3C,GAAc,IAAV3qB,GAAeA,IAAUqnG,EAAMlsG,OAAS,EAAG,CAC7C,IAAIwvB,EAqEV,SAA8BuqB,GAC5B,IAEIl1C,EAFQ,CAAC,OAAQ,QAAS,MAAO,OAAQ,UAE3BhE,QAAQk5C,GAE1B,MAHiB,CAAC,OAAQ,KAAM,KAAM,KAAM,MAEjBl1C,GAzEPqrG,CAAqBV,GACrC/0F,EAAMkO,KAAK,OAAQ,GAAM3f,OAAOohE,EAAS56C,KA8B/C,SAASigF,GAAgB7xF,EAAGuC,GAC1B,IAAI45B,EACA+K,EAAOrmC,KAAKsE,IAAInF,EAAIuC,GACpBgwF,EAAS,CACX37E,OAAQ,CAjEC,IACF,MAiEPtrB,KAAM,CAjEC,KACD,OAiENC,IAAK,CAjEC,MACE,SAiERE,MAAO,CAjEC,QACD,SAiEPC,KAAM,CAjEC,QAiEM6vB,MASf,OANA,QAAOg3E,GAAQ,SAAUrhF,EAAO5uB,GAC1B4kD,GAAQh2B,EAAM,IAAMg2B,EAAOh2B,EAAM,KACnCirB,EAAO75C,MAIJ65C,EA6BT,SAASrkB,GAAQY,EAAMyjB,GACrB,MAAa,SAATA,EACKzjB,EAAKnD,cAGD,UAAT4mB,EACKzjB,EAAKxD,WAAa,EAGd,QAATinB,EACKzjB,EAAK7D,SAAW,EAGZ,SAATsnB,EACKzjB,EAAKjD,WAAa,EAGd,WAAT0mB,EACKzjB,EAAK7C,aAAe,OAD7B,EC7HF,IAAI28E,GAAa,CACf79F,EAAG,CACD89F,OAAQ,IACRxrG,MAAO,GAETsZ,EAAG,CACDkyF,OAAQ,IACRxrG,MAAO,GAETsb,EAAG,CACDkwF,OAAQ,IACRxrG,MAAO,GAETlE,EAAG,CACD0vG,OAAQ,KACRxrG,MAAO,IAOI,SAASyrG,GAAiB71F,EAAOuvB,EAAQnlC,EAAO4K,GAC7D,GAAK,OAAMA,EAAK,SAAY,OAAMA,EAAIg+B,KAAM,QAA5C,CAIA,IAAIy+D,EAAQz8F,EAAIy8F,MAAMA,MAClBmE,EAAS1pF,WAAWlM,EAAM+C,IAAI,UAAUvJ,MAE5C,GAAe,IAAXo8F,EAIJ,GAAIrmE,EAAOxa,UACT/U,EAAMkO,KAAK,OAAQqhB,EAAOxa,UAAU6gF,SAItC,GAAIrmE,EAAO5L,KAAM,CACf,IAAIr4B,EAAKwqG,GAAsBvmE,EAAQqmE,GACnCzoB,EAAM7hF,EAAG6hF,IACT4oB,EAAWzqG,EAAGyqG,SAElB/1F,EAAMkO,KAAK,OAAQi/D,EAAM4oB,OACpB,CAKDA,EAmCR,SAAyBH,GACvB,IACIhgF,EAAQ5R,KAAK2V,MAAM3V,KAAK0Z,IAAIk4E,GAAU5xF,KAAK0Z,IAAI,MACnD,MAFY,CAAC,IAAK,IAAK,IAAK,KAEf9H,EAAQ,GAtCJogF,CADFziB,GA0CjB,SAAwBke,GACtB,IAAIwE,EAAU,GAQd,OANA,QAAOxE,GAAO,SAAUz+D,GACtB,IACI4iE,EAAS1pF,WADL8mB,EACkBhzB,MAAM+C,IAAI,UAAUvJ,MAC9Cy8F,EAAQ3/F,KAAKs/F,MAGRK,EApDSC,CAAezE,KAA7B,IAII0E,EAAaR,GAAWI,GAAUH,OAGlCzoB,EAAM2oB,GAAsB,CAC9BnyE,KAAMoyE,EACNxN,QAwDN,SAA0BxvF,EAAUo9F,GAClC,IAAIC,EAAUpyF,KAAK2V,MAAM3V,KAAKod,MAAM+0E,IAEpC,KAAIp9F,GAAYo9F,GAOT,CACL,IAAIE,EAAcryF,KAAK2V,MAAM3V,KAAKod,MAAMroB,IACxC,OAAOiL,KAAKsE,IAAI+tF,EAAcD,GAR9B,IAAIE,EAAYv9F,EAAWo9F,EAE3B,GAAIG,EAAY,EAAG,CACjB,IAAIC,EAAevyF,KAAK2V,MAAM3V,KAAKod,MAAMk1E,IACzC,OAAOtyF,KAAKsE,IAAIiuF,EAAeH,GAOnC,OAAO,EA1ESI,CAiDlB,SAAgC/E,GAC9B,GAAIA,EAAMlsG,QAAU,EAAG,CACrB,IAAI4d,EAAI+I,WAAWulF,EAAM,GAAGzxF,MAAM+C,IAAI,UAAUvJ,MAC5CkM,EAAIwG,WAAWulF,EAAM,GAAGzxF,MAAM+C,IAAI,UAAUvJ,MAChD,OAAOwK,KAAKsE,IAAInF,EAAIuC,GAGtB,OAAO,EAzDU+wF,CAAuBhF,GACG0E,IAItCP,GAAQzoB,IACXntE,EAAMkO,KAAK,OAAQi/D,EAAM4oB,KAI7B,SAASD,GAAsBvmE,EAAQqmE,GACrC,IACIzoB,EACA4oB,EAEJ,GAAoB,SAAhBxmE,EAAO5L,KAAiB,CAE1B,IAAI/N,EAAQ5R,KAAK2V,MAAM3V,KAAK0Z,IAAIk4E,GAAU5xF,KAAK0Z,IAAI,MACnDq4E,EAPU,CAAC,IAAK,IAAK,IAAK,KAOTngF,EAAQ,GACzBu3D,GAAOyoB,EAAS5xF,KAAKyZ,IAAI,IAAM7H,IAAQnN,QAAQ8mB,EAAOg5D,cACjD,GAAIh5D,EAAO5L,KAAM,CACtB,IAAIA,EAAOgyE,GAAWpmE,EAAO5L,MAC7BoyE,EAAWxmE,EAAO5L,KAClBwpD,GAAOyoB,EAASjyE,EAAKiyE,QAAQntF,QAAQ8mB,EAAOg5D,SAG9C,MAAO,CACLpb,IAAKA,EACL4oB,SAAUA,GC/DP,SAASW,GAAOC,EAASvsG,EAAOqnG,GAErC,IAAI/iB,EAAa,GAEjB,QAAOioB,GAAS,SAAU3hG,GACZ,UAARA,EACF05E,EAAWp4E,KAAe,IAAVlM,GACC,QAAR4K,EACT05E,EAAWp4E,KAAKlM,IAAUqnG,EAAMlsG,OAAS,GAChC,YAAWyP,IACpB05E,EAAWp4E,KAAKlM,IAAU4K,MAI9B,IAAK,IAAIkhB,EAAK,EAAG0gF,EAAeloB,EAAYx4D,EAAK0gF,EAAarxG,OAAQ2wB,IAAM,CAG1E,IAAkB,IAFF0gF,EAAa1gF,GAG3B,OAAO,EAIX,OAAO,EC+BT,SAAS2gF,GAAgBpF,EAAO/jE,EAAOy/C,GACrC,IAAK,IAAIj3D,EAAK,EAAG4gF,EAAUrF,EAAOv7E,EAAK4gF,EAAQvxG,OAAQ2wB,IAAM,CAC3D,IAAI8c,EAAO8jE,EAAQ5gF,GAGnB,GAFQ8c,EAAKhzB,MAAM+C,IAAI,UAEjB2qB,KAAWy/C,EACf,OAAOn6C,GC/EE,SAAS+jE,GAAe/2F,EAAOuvB,GAC5C,IAEIynE,EAFA3O,EAAe94D,EAAO84D,aAAe94D,EAAO84D,aAAe,MAC3D7uF,EAAOwG,EAAMkO,KAAK,QAGD,QAAjBm6E,IACF2O,EAAgBx9F,EAAK,GAAK,OAGP,UAAjB6uF,IACF2O,EAAgB,MAAQx9F,EAAKA,EAAKjU,OAAS,IAGxB,WAAjB8iG,IACF2O,EAAgBx9F,EAAK,GAAK,MAAQA,EAAKA,EAAKjU,OAAS,IAGvDya,EAAMorB,cACNprB,EAAMkO,KAAK,CACT1U,KAAMw9F,EACNv9F,UAAW,SACXC,aAAc,QCPX,IAAIu9F,GAAW,CACpBC,YCfa,SAAqBl3F,EAAOuvB,GAKzC,IAJA,IAAI/1B,EAAOwG,EAAMkO,KAAK,QAClBmT,EAAOrd,KAAKmd,KAAK3nB,EAAKjU,OAASgqC,EAAO44D,YACtCgP,EAAc,GAET9xG,EAAI,EAAGA,EAAIkqC,EAAO44D,WAAY9iG,IAAK,CAC1C,IAAI+E,EAAQi3B,EAAOh8B,EACnB8xG,EAAc39F,EAAK4R,MAAM,EAAGhhB,GAAS,KAAOoP,EAAK4R,MAAMhhB,GAGzD,IAAIwQ,EAAWoF,EAAMkO,KAAK,YAC1BlO,EAAMkO,KAAK,CACT1U,KAAM29F,EACNn8F,WAAYJ,EACZnB,UAAW,SACXC,aAAc,SDChB09F,aEhBa,SAAsBp3F,EAAOuvB,GAC1CvvB,EAAMorB,cACNprB,EAAMkO,KAAK,CACTlG,OAAQ,IAAMunB,EAAO64D,OACrB3uF,UAAW,QACXC,aAAc,YFYhBq9F,eAAgBA,GAChB7D,SAAUA,GACV2C,iBAAkBA,GAClBnB,yBAA0BA,GAC1B2C,iBGlBa,SAA0Br3F,EAAOuvB,EAAQnlC,EAAO4K,GAC7D,IRkIqBsiG,EQlIjB7F,EAAQz8F,EAAIy8F,MAAMA,MAClBj4F,EAAOwG,EAAMkO,KAAK,QAGV,QAAQhI,KAAK1M,GAGvBq8F,GAAiB71F,EAAOuvB,EAAQnlC,EAAOqnG,GR4HxB,iDAECvrF,KAHGoxF,EQ1HH99F,IR4HE,4DAC4B0M,KAAKoxF,GQ5HnD5C,GAAyB10F,EAAOuvB,EAAQnlC,EAAOqnG,GAE/CsF,GAAe/2F,EAAOuvB,IHOxBgoE,gBHpBa,SAAyBv3F,EAAOuvB,EAAQnlC,EAAO4K,GAC5D,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAGlB+F,EAAU/F,EAAMlsG,OAAS,IAAM,EAEnC,IAAImxG,GAAOnnE,EAAO+4D,KAAMl+F,EAAOqnG,GAA/B,CAKE,IAAIgG,EAAQrtG,EAAQ,IAAM,IAErBotG,GAAWC,GAASD,IAAYC,IACnCvE,GAASlzF,KGOb03F,2BIrBa,SAAoC13F,EAAOuvB,EAAQnlC,EAAO4K,GACvE,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAElBiF,GAAOnnE,EAAO+4D,KAAMl+F,EAAOqnG,IAKXzxF,EAAMkO,KAAK,UACZlO,EAAM+C,IAAI,UAAUvJ,MAGnC05F,GAASlzF,IJUb23F,wBKpBa,SAAiC33F,EAAOuvB,EAAQnlC,EAAO4K,GACpE,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAClBmG,EA6BN,SAA4BnG,GAC1B,IAAIoG,EAAa,WAAU,GAAIpG,GAK/B,OAHAoG,EAAWh7E,MAAK,SAAU1Z,EAAGuC,GAC3B,OAAOA,EAAEpb,MAAQ6Y,EAAE7Y,SAEd0Z,KAAKgS,MAAM6hF,EAAW,GAAGvtG,OAnChBwtG,CAAmBrG,GAEnC,KAAIrnG,GAAS,GAAb,CAIA,IAAIulE,EAAU8hC,EAAMrnG,GAEhB+qG,EAWN,SAAsB/qG,EAAOqnG,GAC3B,IAAK,IAAIpsG,EAAI+E,EAAQ,EAAG/E,EAAI,EAAGA,IAAK,CAClC,IAAI2tC,EAAOy+D,EAAMpsG,GAEjB,IAAK2tC,EAAKhzB,MAAM+C,IAAI,SAClB,OAAOiwB,GAhBI+kE,CAAa3tG,EAAOqnG,GAC/BuG,EAAQ7C,EAAS1mF,QAAUkhD,EAAQlhD,QACnCwpF,EAAQ9C,EAASzmF,QAAUihD,EAAQjhD,QAC5B1K,KAAKmE,KAAK6vF,EAAQA,EAAQC,EAAQA,GAElCL,IACT1E,GAASlzF,GACTA,EAAM7J,IAAI,SAAS,MLIrB+hG,uBFvBa,SAAgCl4F,EAAOuvB,EAAQnlC,EAAO4K,GACnE,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAClB9hC,EAAU8hC,EAAMrnG,GAEhBulE,EAAQz2D,MACVy2D,EAAQz2D,KAAKjD,SAGf,IAEIkiG,EAuBN,SAAuB5yF,EAAMmoB,EAAO+jE,GAClC,IAAI2G,EAAe,GAEnB,QAAO7yF,GAAM,SAAUb,GACrB0zF,EAAa9hG,KAAKoO,EAAEgpB,OAGtB0qE,EAAav7E,MAAK,SAAU1Z,EAAGuC,GAC7B,OAAOvC,EAAIuC,KAEb,IAAI6P,EAAM6iF,EAAa,GACnBC,EAAWxB,GAAgBpF,EAAO/jE,EAAOnY,GACzC9J,EAAM2sF,EAAaA,EAAa7yG,OAAS,GACzC+yG,EAAWzB,GAAgBpF,EAAO/jE,EAAOjiB,GACzCu6D,EASN,SAAmBwN,GACjB,IAAIC,EAAO,SAAQD,GAEnBC,EAAK52D,MAAK,SAAU1Z,EAAGuC,GACrB,OAAOvC,EAAIuC,KAEb,IAAI+a,EAAOzc,KAAK2V,MAAM85D,EAAKluF,OAAS,GAEpC,GAAIkuF,EAAKluF,OAAS,EAChB,OAAOkuF,EAAKhzD,GAGd,OAAOgzD,EAAKhzD,GArBC,CAAU23E,GACnBG,EAAc1B,GAAgBpF,EAAO/jE,EAAOs4C,GAChD,MAAO,CACLzwD,IAAK8iF,EACL5sF,IAAK6sF,EACLtyB,OAAQuyB,GA1COC,CAFNxjG,EAAI0gC,KAAK+iE,aAAalzF,KACrBvQ,EAAI0gC,KAAK1gC,EAAI0gC,KAAKzpC,MAAM8O,MAAM4hD,OAAO,GACL80C,GACxCiH,GAAU,EASd,GAPA,QAAOP,GAAY,SAAUnlE,GAEvBA,EAAKhzB,MAAM+C,IAAI,YAAc4sD,EAAQ3vD,MAAM+C,IAAI,YACjD21F,GAAU,MAIVA,GACF,GAAI/oC,EAAQgpC,gBAAiB,CAC3B,IAAIrtG,EAAKqkE,EAAQgpC,gBACbjkG,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EACXqL,EAAMkO,KAAK,IAAKxZ,GAChBsL,EAAMkO,KAAK,IAAKvZ,SAGlBu+F,GAASlzF,IELX44F,WMvBa,SAAoB54F,EAAOuvB,EAAQnlC,EAAO4K,GACvD,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAEtB,GAAIrnG,IAAUqnG,EAAMlsG,OAAS,EAA7B,CAIA,IAGI+F,EAYN,SAAwB8nG,EAAOC,GAC7B,IAAIr+C,EAGAtqB,EAAS,CACXh2B,EAAG2+F,EAAM5kF,QAAU2kF,EAAM3kF,QACzB9Z,EAAG0+F,EAAM3kF,QAAU0kF,EAAM1kF,SAEvBmqF,EAAM70F,KAAKmE,KAAKuiB,EAAOh2B,EAAIg2B,EAAOh2B,EAAIg2B,EAAO/1B,EAAI+1B,EAAO/1B,GACxDmkG,EAAoB,CACtBpkG,EAAG,GACHC,EAAG,GAKDokG,EAAiB/0F,KAAKmE,KAAK2wF,EAAkBpkG,EAAIokG,EAAkBpkG,EAAIokG,EAAkBnkG,EAAImkG,EAAkBnkG,GAE/GwP,EADMytE,GAAalnD,EAAQouE,IACZD,EAAME,GAAkB,IAAM/0F,KAAKK,GAClDF,EAAQ,IAAGA,EAAQ,IAAMA,GAC7BA,EAoBF,SAAqBA,GACnB,GAAIA,EAAQ,IAAMA,GAAS,IACzB,OAAO,IAAMA,EAGf,GAAIA,EAAQ,KAAOA,EAAQ,IACzB,OAAOA,EAAQ,IAGjB,OAAO,IAAMA,EA7BL60F,CAAY70F,GAIpB,IAAI6zF,EAAQh0F,KAAKsE,IAAI8qF,EAAM3kF,QAAU4kF,EAAM5kF,SACvCwpF,EAAQj0F,KAAKsE,IAAI8qF,EAAM1kF,QAAU2kF,EAAM3kF,SAEvCvK,EAAQ,GACV6wC,EAAM,IACG7wC,EAAQ,KACjB6wC,EAAM,KAGR,MAAO,CACLA,IAAKA,EACLgjD,MAAOA,EACPC,MAAOA,GAhDAgB,CAHKxH,EAAMrnG,GACTqnG,EAAMrnG,EAAQ,IAGrB4qD,EAAM1pD,EAAG0pD,IAITvW,GAHQnzC,EAAG0sG,MACH1sG,EAAG2sG,MAEEj4F,EAAM+C,IAAI,eAEf,MAARiyC,GACFh1C,EAAMkO,KAAK,IAAKuwB,EAAW9pC,EAAI,MNMjCukG,iBOtBa,SAA0Bl5F,EAAOuvB,EAAQnlC,EAAO4K,GAC7D,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAEtB,GAAc,IAAVrnG,EAAJ,CAIA,IAAIulE,EAAU8hC,EAAMrnG,GAChB+qG,EAAW1D,EAAMrnG,EAAQ,GAE7B,GAAI+oG,GAAcxjC,EAASwlC,GAAW,CACpC,IAAIlnG,EAAU+G,EAAI0gC,KAAKA,KAAK3yB,IAAI,YAAY,GACxCpO,EAAIwgG,EAAS94F,IAAMszD,EAAQ/6D,OAAS,EAGxC,GAAID,EAFS,GAEIK,EAAI+B,OAAOsF,IAAK,CAE/B,IAAI23B,EAAW27B,EAAQ3vD,MAAM+C,IAAI,UAG7Bo2F,EA2BV,SAAsBC,EAASp9F,GAC7B,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,EAvCai0G,CAFFprG,EAAQshE,WAAWv7B,GACpB/lC,EAAQijB,aACyBnO,IAAI,OAC9Cu2F,EAAUH,EAAU38F,KAAO28F,EAAU7uG,MAAQ,EAC7CivG,EAAUJ,EAAU98F,IAGpBY,EADYhP,EAAQ8U,IAAI,mBAAmBkwD,gBACrBzgD,SAAS,OAAQ,CACzCrI,MAAO,CACLjI,KAAM,CAAC,CAAC,IAAKo3F,EAASC,GAAU,CAAC,IAAK5pC,EAAQ3vD,MAAMkO,KAAK,KAAMvZ,IAC/DiE,OAAQ,OACRJ,UAAW,KAKXmgG,EAAkB,CACpBjkG,EAAGsL,EAAMkO,KAAK,KACdvZ,EAAGqL,EAAMkO,KAAK,MAGhByhD,EAAQ3vD,MAAMkO,KAAK,IAAKvZ,EA1Bb,IA2BX88F,EAAMrnG,GAAS4K,EAAIy8F,MAAMG,QAAQjiC,EAAQ3vD,OACzCyxF,EAAMrnG,GAAO8O,KAAO+D,EACpBw0F,EAAMrnG,GAAOuuG,gBAAkBA,MPnBnCa,iBP1Ba,SAA0Bx5F,EAAOuvB,EAAQnlC,EAAO4K,GAC7D,IAAIy8F,EAAQz8F,EAAIy8F,MAAMA,MAClB9hC,EAAU8hC,EAAMrnG,GAChBqvG,EAAa,GAGjB,IAAK9pC,EAAQ3vD,MAAM+C,IAAI,SACrB,IAAK,IAAI1d,EAAI,EAAGA,EAAIosG,EAAMlsG,OAAQF,IAAK,CACrC,IAAI2tC,EAAOy+D,EAAMpsG,GACbq0G,EAAS1mE,EAAKhzB,MAElB,GAAI3a,IAAM+E,IAAUsvG,EAAO32F,IAAI,SACbowF,GAAcxjC,EAAS38B,IAGrCymE,EAAWnjG,KAAK08B,GAQpBymE,EAAWl0G,OAAS,IACtBk0G,EAAWnjG,KAAKq5D,GAChB8pC,EAAW58E,MAAK,SAAU1Z,EAAGuC,GAC3B,OAAOA,EAAErJ,IAAM8G,EAAE9G,OAInB,QAAOo9F,GAAY,SAAUzmE,EAAMx8B,GACjC,GAAIA,EAAM,EAAG,CACX,IAAIkjG,EAAS1mE,EAAKhzB,MAClBkzF,GAASwG,GAETA,EAAOvjG,IAAI,SAAS,UejC5B,IA4Ne,GA1Nf,WACE,SAASwjG,EAAW3kG,GAClBlP,KAAK8zG,cAAgB,GACrB9zG,KAAK+zG,eAAiB,EACtB/zG,KAAKg0G,YAAc,GACnBh0G,KAAKi0G,gBAAkB,EAEvB,UAASj0G,KAAMkP,GAEflP,KAAKk0G,kBAAoBl0G,KAAKkiG,YAAY,GAEtCliG,KAAKmiG,QACPniG,KAAK8zG,cAAgB9zG,KAAKmiG,MAAMniG,KAAKk0G,kBAAkBjiG,MAAMxS,QAG/DO,KAAKm3E,SAELn3E,KAAKm0G,OAELn0G,KAAKy3E,OAoMP,OAjMAo8B,EAAWj0G,UAAUu3E,OAAS,WACxBn3E,KAAKo0G,SACPp0G,KAAKo0G,QAAQp0G,KAAK2rG,QAItBkI,EAAWj0G,UAAUy0G,WAAa,WAChC,IAAI1I,EAQe,WALjBA,GADE3rG,KAAK2rG,MAAMxlG,KACLnG,KAAK2rG,QAKLxlG,MACRwlG,EAAMgB,eAGJ3sG,KAAKmiG,OACPniG,KAAKs0G,cAGY,UAAf3I,EAAMxlG,MACRwlG,EAAMgB,eAGJ3sG,KAAKu0G,aACPv0G,KAAKu0G,YAAYv0G,KAAK2rG,QAI1BkI,EAAWj0G,UAAU63E,KAAO,WACtBz3E,KAAKw0G,OACPx0G,KAAKw0G,MAAMx0G,KAAK2rG,QAIpBkI,EAAWj0G,UAAUu0G,KAAO,WAG1B,IAFA,IAAIM,EAAmBz0G,KAAK00G,oBAEpBD,KACFz0G,KAAK+zG,eAAiB/zG,KAAK8zG,cAAgB,IAI/C9zG,KAAKq0G,aAELI,EAAmBz0G,KAAK00G,mBACxB10G,KAAK+zG,iBAGH/zG,KAAKi0G,gBAAkBj0G,KAAKkiG,YAAYziG,OAAS,IACnDO,KAAKi0G,kBACLj0G,KAAKk0G,kBAAoBl0G,KAAKkiG,YAAYliG,KAAKi0G,iBAC/Cj0G,KAAK8zG,cAAgB9zG,KAAKmiG,MAAQniG,KAAKmiG,MAAMniG,KAAKk0G,kBAAkBjiG,MAAMxS,OAAS,EACnFO,KAAK+zG,eAAiB,EAEtB/zG,KAAKm0G,SAITN,EAAWj0G,UAAU80G,iBAAmB,WACtC,IAAI7jD,EAAa+7C,GAAe5sG,KAAKk0G,kBAAkBjiG,MACnD0iG,EAAmB30G,KAAKk0G,kBAAkBzqE,OAE9C,MAAyB,YAArBonB,EAAWg8C,MACN7sG,KAAK40G,mBAAmB/jD,EAAY8jD,GAGtC30G,KAAK60G,sBAAsBhkD,EAAY8jD,IAGhDd,EAAWj0G,UAAUg1G,mBAAqB,SAAU/jD,EAAYpnB,GAC9D,IAAItjC,EAAO0qD,EAAW1qD,KAClB2mG,EAAaj8C,EAAWi8C,WACxBnB,EAAQ3rG,KAAK2rG,MAAMA,MAEvB,MAAa,UAATxlG,EACKnG,KAAK80G,wBAAwBhI,EAAYnB,EAAOliE,GAG5C,YAATtjC,EACKnG,KAAK+0G,0BAA0BjI,EAAY9sG,KAAKiR,OAAQ06F,EAAOliE,GAG3D,UAATtjC,EACKnG,KAAKg1G,wBAAwBlI,EAAYnB,EAAOliE,QADzD,GAKFoqE,EAAWj0G,UAAUk1G,wBAA0B,SAAUhI,EAAYnB,EAAOliE,GAC1E,IAAK,IAAIlqC,EAAI,EAAGA,EAAIosG,EAAMlsG,OAAS,EAAGF,IAAK,CAIzC,IAAiC,IAA7ButG,EAHInB,EAAMpsG,GACNosG,EAAMpsG,EAAI,GAEGkqC,GACnB,OAAO,EAIX,OAAO,GAGToqE,EAAWj0G,UAAUm1G,0BAA4B,SAAUjI,EAAY77F,EAAQ06F,EAAOliE,GACpF,GAAIx4B,EACF,IAAK,IAAImf,EAAK,EAAG4gF,EAAUrF,EAAOv7E,EAAK4gF,EAAQvxG,OAAQ2wB,IAAM,CAG3D,IAAyC,IAArC08E,EAFOkE,EAAQ5gF,GAEEnf,EAAQw4B,GAC3B,OAAO,EAKb,OAAO,GAGToqE,EAAWj0G,UAAUo1G,wBAA0B,SAAUlI,EAAYnB,EAAOliE,GAC1E,IAAK,IAAIlqC,EAAI,EAAGA,EAAIosG,EAAMlsG,OAAQF,IAGhC,IAFA,IAAI8d,EAAIsuF,EAAMpsG,GAELuhB,EAAI,EAAGA,EAAI6qF,EAAMlsG,OAAQqhB,IAAK,CACrC,GAAIA,IAAMvhB,EAGR,IAAiC,IAA7ButG,EAAWzvF,EAFPsuF,EAAM7qF,GAEO2oB,GACnB,OAAO,EAMf,OAAO,GAGToqE,EAAWj0G,UAAUi1G,sBAAwB,SAAUhkD,EAAYpnB,GACjE,IAAItjC,EAAO0qD,EAAW1qD,KAClB2mG,EAAaj8C,EAAWi8C,WACxBnB,EAAQ3rG,KAAK2rG,MAAMA,MAEvB,MAAa,UAATxlG,EACKnG,KAAKi1G,uBAAuBnI,EAAYnB,EAAOliE,GAG3C,YAATtjC,EACKnG,KAAKk1G,yBAAyBpI,EAAY9sG,KAAKiR,OAAQ06F,EAAOliE,QADvE,GAKFoqE,EAAWj0G,UAAUq1G,uBAAyB,SAAUnI,EAAYnB,EAAOliE,GACzE,OAAO,GAGToqE,EAAWj0G,UAAUs1G,yBAA2B,SAAUpI,EAAY77F,EAAQ06F,EAAOliE,GACnF,GAAIx4B,EACF,IAAK,IAAImf,EAAK,EAAG+kF,EAAUxJ,EAAOv7E,EAAK+kF,EAAQ11G,OAAQ2wB,IAAM,CAC3D,IAAI8c,EAAOioE,EAAQ/kF,GACfxvB,EAAQksG,EAAW5/D,EAAMj8B,EAAQw4B,GACrCyD,EAAKtsC,MAAQA,EAIjB,OAAO,GAGTizG,EAAWj0G,UAAU00G,YAAc,WAOjC,IANA,IAAIc,EAAUp1G,KAAKmiG,MAAMniG,KAAKk0G,kBAAkBjiG,MAAMjS,KAAK+zG,gBAEvDsB,EAAOlE,GAASiE,EAAQnjG,MACxBw3B,EAAS2rE,EAAQ3rE,OAAS2rE,EAAQ3rE,OAAS,GAC3CkiE,EAAQ3rG,KAAK2rG,MAAMA,MAEdpsG,EAAI,EAAGA,EAAIosG,EAAMlsG,OAAQF,IAAK,CACrC,IAAI2tC,EAAOy+D,EAAMpsG,GAGjBS,KAAKs1G,WAAWpoE,EAAKhzB,MAAOm7F,EAAM5rE,EAAQlqC,KAM9Cs0G,EAAWj0G,UAAU01G,WAAa,SAAUp7F,EAAOm7F,EAAM5rE,EAAQnlC,GAO/D+wG,EAAKn7F,EAAOuvB,EAAQnlC,EANV,CACRqnG,MAAO3rG,KAAK2rG,MACZ16F,OAAQjR,KAAKiR,OACb2+B,KAAM5vC,KAAK4vC,QAMRikE,EAvNT,GCgBe,GAlBf,WACE,SAAS0B,EAAgBrmG,GACvB,UAASlP,KAAMkP,GAEflP,KAAKoP,OAWP,OARAmmG,EAAgB31G,UAAUwP,KAAO,WAC/BpP,KAAKmG,KAAOnG,KAAKw1G,UAEbx1G,KAAKy1G,eACPz1G,KAAKD,SAIFw1G,EAfT,GCCIG,GAAe,CACjBC,IAAK,WACLC,QAAS,WACTz/E,KAAM,WACNwJ,OAAQ,UAwCV,IA8Ee,GA5Ef,SAAU16B,GAGR,SAAS4wG,IACP,OAAkB,OAAX5wG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAqE7D,OAxEA,qBAAU61G,EAAqB5wG,GAM/B4wG,EAAoBj2G,UAAUwP,KAAO,WACnCpP,KAAK81G,aAAe91G,KAAK+1G,kBAEzB9wG,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7B61G,EAAoBj2G,UAAU61G,YAAc,WAC1C,QAAKz1G,KAAKg2G,gBAAgB1/F,SAItBtW,KAAKg2G,gBAAgB1/F,KAAKtW,KAAKkgC,MAAQlgC,KAAKmG,MAAQnG,KAAK81G,cAAgB91G,KAAK81G,aAAa74F,IAAI,mBAOrG44F,EAAoBj2G,UAAUG,MAAQ,WAKpC,IAJA,IAAIuW,EAAOtW,KAAK81G,aACZG,EAAY3/F,EAAK2G,IAAI,iBAAiBA,IAAI,SAASA,IAAI,YACvD/G,EAAS,GAEJ3W,EAAI,EAAGA,EAAI02G,EAAUx2G,OAAS,EAAGF,IACxC2W,EAAO1F,KAAKylG,EAAU12G,IAGxB,IAAI22G,EAAa,IAAI,GAAW,CAC9BhgG,OAAQA,IAEN1Q,EAAKxF,KAAKg2G,gBAAgB1/F,KAAK1H,EAAE5O,KAAKmG,MACtC+7F,EAAc18F,EAAG08F,YACjBC,EAAQ38F,EAAG28F,MACf,IAAI,GAAW,CACbwJ,MAAOuK,EACPhU,YAAaA,EACbjxF,OAAQjR,KAAK4vC,KAAK7hC,KAAKkP,IAAI,aAC3BklF,MAAOA,EACPvyD,KAAM5vC,KAAK4vC,KACX4kE,MAAO,SAAe7I,GAChBr1F,EAAK2G,IAAI,aAtFrB,SAAqB0uF,EAAOr1F,GAC1B,IAAIuhC,EAAY,KAChBvhC,EAAK2G,IAAI,SAASA,IAAI,YAAY/U,SAAQ,SAAUgS,GAClD,GAAmB,eAAfA,EAAMjI,KAER,OADA4lC,EAAY39B,GACL,KAGX,IAAIsU,EAAQlY,EAAK2G,IAAI,SACjBq5B,EAAYhgC,EAAK2G,IAAI,aACrBk5F,EAAY,GAEhB,QAAO3nF,GAAO,SAAU9T,GACtB,IAAIta,EAAIsa,EACRy7F,EAAU3lG,KAAKpQ,EAAEsT,SAGnB,IAAI0iG,EAAS,GAEb,QAAOzK,EAAMA,OAAO,SAAUz+D,GAC5B,IAAIhT,EAAIgT,EAER,GAAIhT,EAAE11B,MAAQ,GAAK01B,EAAEprB,OAAS,EAAG,CAC/B,IAAI4E,EAAOwmB,EAAEhgB,MAAM+C,IAAI,UAAUvJ,KAC7BpP,EAAQ6xG,EAAU71G,QAAQoT,GAC1B2iG,EAAW//D,EAAUhyC,GACzB8xG,EAAO5lG,KAAK,CAAC,IAAK6lG,EAASj1F,GAAIi1F,EAASh1F,IAAK,CAAC,IAAKg1F,EAAS30F,GAAI20F,EAAS10F,SAIvD,IAAlBy0F,EAAO32G,SACT22G,EAAS,CAAC,CAAC,IAAK,EAAG,KAGrBv+D,EAAUzvB,KAAK,OAAQguF,GAqDfE,CAAY3K,EAAOr1F,OAM3Bu/F,EAAoBj2G,UAAU41G,QAAU,WACtC,IAAI/0G,EAAQT,KAAK4vC,KAAKrhC,QAClB+H,EAAOtW,KAAKkgC,IAAM,OAClB0H,EAAQ5nC,KAAKkgC,IAAM,QAEvB,GAAIz/B,EAAM6V,IAAS7V,EAAM6V,GAAMnQ,MAA6B,aAArB1F,EAAM6V,GAAMnQ,KACjD,MAAO,WAGT,IAAIowG,EAAYv2G,KAAK4vC,KAAK7hC,KAAKkP,IAAI,UAAUxc,EAAMmnC,IAAQzhC,KAC3D,OAAOuvG,GAAaa,IAGtBV,EAAoBj2G,UAAUm2G,gBAAkB,WAC9C,IAAIS,EAAyB,MAAbx2G,KAAKkgC,IAAc,EAAI,EAEvC,OADWlgC,KAAK4vC,KAAK7hC,KAAKkP,IAAI,kBAAkBu+C,KAAKg7C,IAIhDX,EAzET,CA0EE,ICxHF,IAyCe,GAvCf,SAAU5wG,GAGR,SAASwxG,IACP,OAAkB,OAAXxxG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAgC7D,OAnCA,qBAAUy2G,EAAsBxxG,GAMhCwxG,EAAqB72G,UAAU61G,YAAc,WAC3C,SAAKz1G,KAAKg2G,gBAAgB/gG,QAAUjV,KAAKg2G,gBAAgB/gG,MAAMjV,KAAKmG,QAOtEswG,EAAqB72G,UAAUG,MAAQ,WACrC,IAAIwvF,EAAcvvF,KAAK4vC,KAAK7hC,KAAKkP,IAAI,YAAY,GAAGA,IAAI,UACpD0uF,EAAQ,IAAI,GAAW,CACzBz1F,OAAQq5E,IAEN/pF,EAAKxF,KAAKg2G,gBAAgB/gG,MAAMjV,KAAKmG,MACrC+7F,EAAc18F,EAAG08F,YACjBC,EAAQ38F,EAAG28F,MACf,IAAI,GAAW,CACbwJ,MAAOA,EACPzJ,YAAaA,EACbC,MAAOA,EACPvyD,KAAM5vC,KAAK4vC,KACX3+B,OAAQjR,KAAK4vC,KAAK7hC,KAAKkP,IAAI,gBAI/Bw5F,EAAqB72G,UAAU41G,QAAU,WACvC,OAAO,MAGFiB,EApCT,CAqCE,ICzCE,GAEJ,SAAUxxG,GAGR,SAASyxG,IACP,OAAkB,OAAXzxG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAa7D,OAhBA,qBAAU02G,EAA0BzxG,GAMpCyxG,EAAyB92G,UAAU41G,QAAU,WAC3C,IAAI/0G,EAAQT,KAAK4vC,KAAKrhC,QAEtB,OAAI9N,EAAMwU,OAASxU,EAAMwU,MAAM9O,KACtB1F,EAAMwU,MAAM9O,KAGd,SAGFuwG,EAjBT,CAkBE,ICrBF,IAQe,IACbC,UATwB,GAUxBxX,YAT0B,CAAC,CAC3BltF,KAAM,iBACN+b,OCJa,SAAwBpgB,GACrC,IAAIooG,EAAkBpoG,EAAMm1F,qBACxBh0F,EAASnB,EAAMmB,OAEI,IAAI,GAAoB,CAC7C6gC,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAGgB,IAAI,GAAoB,CAC7C0P,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAEPnxB,EAAOe,SDVN,CACDmC,KAAM,uBACN+b,ODiBa,SAA8BpgB,GAC3C,IAAIooG,EAAkBpoG,EAAMm1F,qBACG,IAAI,GAAyB,CAC1DnzD,KAAMhiC,EACNooG,gBAAiBA,QGVrBlT,GAAwB,OAhBR,CACd7tF,MAAO,CACL1B,MAAO,CACL2uF,YAAa,CAAC,CACZjwF,KAAM,qBAERkwF,MAAO,CACL4K,iBAAkB,CAAC,CACjB96F,KAAM,2BACL,CACDA,KAAM,0B,yBCyDhBg7D,GAAsB,OA7DtB,SAAUhoE,GAGR,SAAS2xG,IACP,OAAkB,OAAX3xG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAsD7D,OAzDA,qBAAU42G,EAAmB3xG,GAM7B2xG,EAAkBh3G,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACzD,IAAIhR,EAAQlF,KAER62G,EAAc,GAElB,KAAM3gG,GAAQ,SAAUgE,GACtB,IAAI8rD,EAAa9rD,EAAM+C,IAAI,UAEvB65F,EAAY,KAAW9wC,EAAWA,EAAWvmE,OAAS,IAEtDorC,EAAO3wB,EAAM+O,UACjB6tF,EAAUloG,EAAIi8B,EAAKriB,KAtBZ,GAuBPquF,EAAYrmG,KAAKsmG,MAGnB7xG,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAM62G,EAAa3gG,GAEpD,IAAIqG,EAAWvc,KAAKid,IAAI,kBAEpB8uB,GADQ/rC,KAAKid,IAAI,gBAAgB45C,OAAO,GAC/Bt6C,EAASU,IAAI,SAASA,IAAI,aACnClP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAEnC,KAAM8uB,GAAQ,SAAU92B,GACtBA,EAAMmT,KAAK,YAAa,QACxBnT,EAAMmT,KAAK,eAAgB,UAC3B,IAAI+lB,EAASl5B,EAAMgI,IAAI,UAEnBq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cl6B,EAAQ/O,EAAM6xG,aAAazD,EAASp9F,GAExCjB,EAAMmT,KAAK,OAAQnU,MAGrBlG,EAAKkP,IAAI,UAAUnN,QAGrB8mG,EAAkBh3G,UAAUm3G,aAAe,SAAUzD,EAASp9F,GAC5D,IAAIjC,EAUJ,OARA,KAAMiC,GAAQ,SAAUgE,GACbA,EAAMvL,KAEJ2kG,IACTr/F,EAAQiG,EAAMkO,KAAK,cAIhBnU,GAGF2iG,EA1DT,CA2DE,KChCF3pC,GAAsB,QA/BtB,SAAUhoE,GAGR,SAAS+xG,IACP,OAAkB,OAAX/xG,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAwB7D,OA3BA,qBAAUg3G,EAAiB/xG,GAM3B+xG,EAAgBp3G,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACvDjR,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IAAIqG,EAAWvc,KAAKid,IAAI,kBAEpBlP,GADSwO,EAASU,IAAI,SAASA,IAAI,YAC5Bjd,KAAKid,IAAI,WAAWA,IAAI,SACjBV,EAASU,IAAI,SAAS7Y,KAAI,SAAUkD,GACpD,MAAO,CACLsH,EAAGtH,EAAK4J,MAAMtC,EAAI,EAClBC,EAAGvH,EAAK4J,MAAMrC,EAAI,EAClBrK,MAAO,EACPsK,OAAQ,MAOZf,EAAKkP,IAAI,UAAUnN,QAGdknG,EA5BT,CA6BE,KCbF,UAAShuG,GAnBa,CACpBiuG,YAAa,aACbC,kBAAmB,gBACnBC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,iBAAkB,kBAClBC,gBAAiB,iBACjBC,cAAe,eACfC,kBAAmB,mBACnBC,aAAc,cACdC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,kBAAmB,mBACnBC,kBAAmB,mBACnBC,iBAAkB,kBAClBC,eAAgB,gBAChBC,mBAAoB,sBCftB,IA8Be,GA5Bf,SAAU/yG,GAGR,SAASgzG,EAAW/oG,GAClB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAEhCg3E,aAAc,aACb9nE,KAASlP,KAkBd,OAxBA,qBAAUi4G,EAAYhzG,GAStBgzG,EAAWr4G,UAAUgiC,QAAU,SAAUyd,GAGvC,GAAoB,SAFPA,EAAG//C,OAEL2S,KAAiB,CAC1B,IAAIimG,EAAS74D,EAAG5/B,KAAK,GAAG27C,QACxBp7D,KAAK+N,KAAKkxD,WAAU,SAAUt+D,GAC5B,OAAOA,IAAQu3G,UAGjBl4G,KAAK+N,KAAKkxD,WAAU,WAClB,OAAO,MAKNg5C,EAzBT,CA0BE,ICCa,GA3Bf,SAAUhzG,GAGR,SAASkzG,EAAWjpG,GAClB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCi3E,SAAU,SACT/nE,KAASlP,KAkBd,OAvBA,qBAAUm4G,EAAYlzG,GAQtBkzG,EAAWv4G,UAAUuR,IAAM,SAAUkuC,GAGnC,GAAoB,SAFPA,EAAG//C,OAEL2S,KAAiB,CAC1B,IAAIimG,EAAS74D,EAAG5/B,KAAK,GAAG27C,QACxBp7D,KAAK+N,KAAK+sE,aAAY,SAAUn6E,GAC9B,OAAOA,IAAQu3G,UAGjBl4G,KAAK+N,KAAK+sE,aAAY,WACpB,OAAO,MAKNq9B,EAxBT,CAyBE,ICPF,GAAc,OAAQ,CACpB3+F,UAAW,CACTwgC,OAAQ,GACR5/B,OAxBoB,SAA2B7V,GAEjD,MAAO,CACLmO,WAFcnO,EAAMmO,WAAa,GAEV,IAsBvB88E,QAlBqB,SAA4BjrF,GAEnD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAkB7Bq+D,SAZsB,SAA6B3tE,GAErD,MAAO,CACLmO,WAFcnO,EAAMmO,WAAa,GAEV,KAWzB08C,WAAY,CACVpV,OAAQ,GACR5/B,OAAQ,GACRo1E,QAAS,GACTtd,SAAU,MCnBd,IAAIkmC,GAAW,CACbhlG,KAAM,OACNG,MAAO,SAGL,GAEJ,SAAUtO,GAGR,SAASozG,IACP,IAAInzG,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,OACNjB,EAkNT,OAxNA,qBAAUmzG,EAAWpzG,GASrBozG,EAAU1U,kBAAoB,WAC5B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD4+E,cAAc,EACdvkE,QAAQ,EACRovF,SAAU,EACVjwF,UAAW,CACTgvF,SAAU,QACVpV,QAAS,SAEX7/E,MAAO,CACLyJ,SAAS,EACT9W,KAAM,EACNgU,MAAO,SACP3V,MAAO,CACLuO,OAAQ,SAGZmC,MAAO,CACL+H,SAAS,EACT7W,KAAM,SAERkR,OAAQ,CACN2F,SAAS,EACTxG,SAAU,WACVksC,YAAa,MAKnB21D,EAAUz4G,UAAU4O,WAAa,SAAU/N,GACzC,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGjDkR,EAAiB3R,KAAKoC,YAAYuhG,oBACtC,OAAO,WAAU,GAAIp1F,EAASoD,EAAgBlR,IAGhD43G,EAAUz4G,UAAUu/F,YAAc,WAChC,IAAI1+F,EAAQT,KAAKuO,QAEb9N,EAAM63G,YAAgC,SAAlB73G,EAAMoG,SAC5B7G,KAAKu4G,gBAAgB,eAGvBtzG,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCq4G,EAAUz4G,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GAClD,OAAOiyG,GAASjyG,IAGlBkyG,EAAUz4G,UAAU+tB,MAAQ,WAC1B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GAGbA,EAAOzmC,EAAMq/B,QAAU,GAEnB,OAAMr/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMq/B,QAASr/B,EAAMi9D,OAK3Cx2B,EAAOzmC,EAAMs/B,QAAU,GAEnB,OAAMt/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMs/B,QAASt/B,EAAMmjG,OAG3C5jG,KAAK2kG,UAAU,SAAUz9D,GzCnCtB,SAA8BwjE,EAAUjrF,GAC7C,IAAI+4F,EAAY,kBAAO/4F,GAAM,SAAUnC,GACrC,OAAO,oBAASA,MAEdmS,EAAMvR,KAAKuR,IAAI1vB,MAAMme,KAAMs6F,GAC3B7yF,EAAMzH,KAAKyH,IAAI5lB,MAAMme,KAAMs6F,GAE3B/oF,EAAM,EACJ,iBAAMi7E,EAASj7E,OACjBi7E,EAASj7E,IAAM,GAER9J,GAAO,GACZ,iBAAM+kF,EAAS/kF,OACjB+kF,EAAS/kF,IAAM,GyCuBjB8yF,CAAqBvxE,EAAOzmC,EAAMs/B,QAAS,OAAMt/B,EAAMgf,MAAM,SAAUnY,GACrE,OAAOA,EAAK7G,EAAMs/B,YAGpB96B,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9Bq4G,EAAUz4G,UAAU0mB,MAAQ,aAE5B+xF,EAAUz4G,UAAUmkG,YAAc,WAEhC/jG,KAAK04G,UAEL14G,KAAK24G,YAGPN,EAAUz4G,UAAU84G,QAAU,WAC5B,IAAIj4G,EAAQT,KAAKuO,QACjBvO,KAAKoT,KAAOm3F,GAAQ,OAAQ,OAAQ,CAClC36D,KAAM5vC,OAGJS,EAAMwU,OACRjV,KAAKiV,QAGPjV,KAAK2kG,UAAU,UAAW3kG,KAAKoT,OAGjCilG,EAAUz4G,UAAU+4G,SAAW,WAC7B,IAAIl4G,EAAQT,KAAKuO,QAKb9N,EAAM8S,QACR9S,EAAM8S,MAAQ,WALI,CAClByJ,SAAS,GAI8Bvc,EAAM8S,QAG3C9S,EAAM8S,OAAS9S,EAAM8S,MAAMyJ,UAC7Bhd,KAAKuT,MAAQg3F,GAAQ,QAAS,QAAS,CACrC36D,KAAM5vC,OAERA,KAAKuT,MAAM6G,QAAS,EACpBpa,KAAK2kG,UAAU,UAAW3kG,KAAKuT,SAInC8kG,EAAUz4G,UAAUqV,MAAQ,WAC1B,IAAIxU,EAAQT,KAAKuO,QACb0G,EAAQxU,EAAMwU,OAEI,IAAlBA,EAAM+H,SAAqBhd,KAAK44G,uBAClC54G,KAAKoT,KAAK6B,OAAQ,GAMD,SAAfA,EAAM9O,OACR8O,EAAMD,OAAS,GAGjBhV,KAAKoT,KAAK6B,MAAQi9E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNuW,KAAK,EACLg3D,UAAWt4D,EAAM9O,KACjB0wD,OAAuB,SAAf5hD,EAAM9O,KAAkB,CAAC1F,EAAMynG,aAAe,CAACznG,EAAMs/B,SAC5D9qB,MAGLojG,EAAUz4G,UAAUorB,UAAY,WAC9B/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,MAEhC,IAAIS,EAAQT,KAAKuO,SAEO,IAApB9N,EAAMuqB,WAERhrB,KAAKoT,KAAKoJ,SAAU,EAChBxc,KAAKuT,QAAOvT,KAAKuT,MAAMiJ,SAAU,IAC5B,OAAM/b,EAAO,cAEO,oBAAzBA,EAAMuqB,UAAU7kB,MAAgD,SAAlB1F,EAAMoG,UACtD7G,KAAKoT,KAAKoJ,QAAU,CAClBwN,OAAQ,CACNgB,UAAW,kBACXrD,OAAQ,aACRC,SAAU,IACVmY,OAAQt/B,EAAMs/B,OACdmoE,YAAaznG,EAAMynG,YACnBt4D,KAAM5vC,OAINS,EAAM8S,OAAS9S,EAAM8S,MAAMyJ,UAC7Bhd,KAAKuT,MAAMiJ,SAAU,KAM7B67F,EAAUz4G,UAAUskG,kBAAoB,WACtCj/F,EAAOrF,UAAUskG,kBAAkBpkG,KAAKE,MAGxC,IAAIs4E,EAAet4E,KAAK+N,KAAKkP,IAAI,gBAC7B47F,EAAa,IAAI,GAAW,CAC9B9qG,KAAM/N,KAAK+N,OAEbuqE,EAAaugC,WAAaA,EAC1B,IAAIC,EAAa,IAAI,GAAW,CAC9B/qG,KAAM/N,KAAK+N,OAEbuqE,EAAawgC,WAAaA,GAG5BT,EAAUz4G,UAAUiS,YAAc,SAAUC,GAC1C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1Cq4G,EAAUz4G,UAAU24G,gBAAkB,SAAUQ,GAC9C,IAAI7zG,EAAQlF,KAERg5G,EAAU,GAAkBD,GAEhC,QAAOC,GAAS,SAAU9/F,GACPA,EACN8U,OAAO9oB,OAItBmzG,EAAUz4G,UAAUg5G,qBAAuB,WAEzC,OAAQ54G,KAAKuO,QAAQ25F,aAAeloG,KAAKuO,QAAQ0G,MAAM9O,MAAoC,SAA5BnG,KAAKuO,QAAQ0G,MAAM9O,MAG7EkyG,EAzNT,CA0NE,IAEa,MACfpR,GAAiB,OAAQ,KC5OzB,SAAUhiG,GAGR,SAAS20C,IACP,OAAkB,OAAX30C,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU45C,EAAM30C,GAMhB20C,EAAKh6C,UAAU0nG,aAAe,SAAU7mG,GACtC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,OAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Cr/D,EAAK+pD,kBAAoB,GAAUA,kBAfrC,CAiBE,ICvBF,IAKe,IACbgT,UANwB,GAOxBxX,YAN0B,CAAC,CAC3BltF,KAAM,iBACN+b,OCHa,SAAwBpgB,GACrC,IAAIooG,EAAkBpoG,EAAMm1F,qBACxBh0F,EAASnB,EAAMmB,OAEI,IAAI,GAAoB,CAC7C6gC,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAGgB,IAAI,GAAoB,CAC7C0P,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAEPnxB,EAAOe,WCaT,UAAS9G,GA3Ba,CACpBkwG,YAAa,aACbC,eAAgB,gBAChBC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,iBAAkB,kBAClBC,gBAAiB,iBACjBC,cAAe,eACfC,kBAAmB,mBACnBxC,YAAa,aACbyC,eAAgB,gBAChBvC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,iBAAkB,kBAClBC,gBAAiB,iBACjBC,cAAe,eACfC,kBAAmB,mBACnBC,aAAc,cACdC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,kBAAmB,mBACnBC,kBAAmB,mBACnBC,iBAAkB,kBAClBC,eAAgB,gBAChBC,mBAAoB,sBC4CtB,GAAc,OAAQ,CACpB9gB,UAAW,CACTl9C,OAAQ,GACR5/B,OAvEoB,SAA2B7V,GAEjD,MAAO,CACLsP,QAFYtP,EAAMsP,SAAW,IAuE7B27E,QAjEqB,SAA4BjrF,GAEnD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAiE7Bq+D,SAAU,CACRx/D,UAAW,EACXI,OAAQ,YAGZ0G,UAAW,CACTwgC,OAAQ,GACR5/B,OAlEoB,SAA2B7V,GAEjD,MAAO,CACLsP,QAFYtP,EAAMsP,SAAW,IAkE7B27E,QA5DqB,SAA4BjrF,GAEnD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KA4D7Bq+D,SAtDsB,SAA6B3tE,GAErD,MAAO,CACLmO,WAFcnO,EAAMmO,WAAa,GAEV,KAqDzB08C,WAAY,CACVpV,OAAQ,GACR5/B,OAnDqB,SAA4B7V,GACnD,IAAI0P,EAAQ1P,EAAMoO,MAAQpO,EAAM2P,UAC5BV,EAASjP,EAAM2B,MAAQ3B,EAAMiP,OACjC,MAAO,CACLA,OAAQA,EAAS,EACjBW,WAAYX,EACZY,YAAaH,EACbnB,OAAQmB,EACRH,cAAe,EACfpB,UAAW,IA2CX88E,QA1BuB,SAA8BjrF,GAEvD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAWtP,EAAMqO,aAAe,KA0BlDs/D,SAxCuB,SAA8B3tE,GACvD,IAAI0P,EAAQ1P,EAAMoO,MAAQpO,EAAM2P,UAC5BV,EAASjP,EAAM2B,MAAQ3B,EAAMiP,OACjC,MAAO,CACLA,OAAQA,EAAS,EACjBW,WAAYX,EACZY,YAAaH,EACbnB,OAAQmB,EACRH,cAAe,EACfpB,UAAW,OCjDf,IAAI,GAAW,CACbD,KAAM,OACNW,KAAM,OACNG,MAAO,SAGL,GAEJ,SAAUtO,GAGR,SAAS00G,IACP,IAAIz0G,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,OACNjB,EAmMT,OAzMA,qBAAUy0G,EAAW10G,GASrB00G,EAAUhW,kBAAoB,WAC5B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDqa,QAAQ,EACR68E,UAAW,CACTrjF,QAAS,IACTjB,YAAa,GAEfQ,KAAM,CACJ4J,SAAS,EACT9W,KAAM,EACN3B,MAAO,CACLsP,QAAS,EACT20F,SAAU,QACVpV,QAAS,UAGb7/E,MAAO,CACLyJ,SAAS,EACT9W,KAAM,EACNgU,MAAO,SAETjF,MAAO,CACL+H,SAAS,EACT7W,KAAM,SAERkR,OAAQ,CACN2F,SAAS,EACTxG,SAAU,WACVksC,YAAa,MAKnBi3D,EAAU/5G,UAAUuP,WAAa,WAC/BlK,EAAOrF,UAAUuP,WAAWrP,KAAKE,MAI7BA,KAAKuO,QAAQ+pG,YAAuC,SAAzBt4G,KAAKuO,QAAQ1H,SAC1C7G,KAAKu4G,gBAAgB,cAIzBoB,EAAU/5G,UAAUu/F,YAAc,WAE5Bn/F,KAAKuO,QAAQ+pG,YAAuC,SAAzBt4G,KAAKuO,QAAQ1H,SAC1C7G,KAAKu4G,gBAAgB,eAGvBtzG,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpC25G,EAAU/5G,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GAClD,OAAO,GAASA,IAGlBwzG,EAAU/5G,UAAU+tB,MAAQ,WAC1B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GAGbA,EAAOzmC,EAAMq/B,QAAU,CACrB35B,KAAM,OAGJ,OAAM1F,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMq/B,QAASr/B,EAAMi9D,OAK3Cx2B,EAAOzmC,EAAMs/B,QAAU,GAEnB,OAAMt/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMs/B,QAASt/B,EAAMmjG,OAG3C5jG,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9B25G,EAAU/5G,UAAU0mB,MAAQ,aAE5BqzF,EAAU/5G,UAAUmkG,YAAc,WAChC,IAAItjG,EAAQT,KAAKuO,QACbkE,EAAO83F,GAAQ,OAAQ,OAAQ,CACjC36D,KAAM5vC,OAERA,KAAKyS,KAAOA,EAERhS,EAAMwU,OACRjV,KAAKiV,QAGPjV,KAAK45G,WAAWnnG,GAChBzS,KAAK2kG,UAAU,UAAWlyF,GAC1BzS,KAAK04G,UACL14G,KAAK24G,YAGPgB,EAAU/5G,UAAUg6G,WAAa,SAAUnnG,KAI3CknG,EAAU/5G,UAAUi6G,WAAa,SAAUzmG,KAI3CumG,EAAU/5G,UAAUk6G,YAAc,SAAUvmG,KAI5ComG,EAAU/5G,UAAU84G,QAAU,WAC5B,IAAIj4G,EAAQT,KAAKuO,QAEbwrG,EAAa,WAAU,GAAIt5G,EAAM2S,MAErC,GAAI2mG,EAAW/8F,QAAS,CACtB,IAAI5J,EAAOm3F,GAAQ,OAAQ,QAAS,CAClCpkG,KAAM,OACNypC,KAAM5vC,KACNoT,KAAM2mG,IAER/5G,KAAK65G,WAAWzmG,GAChBpT,KAAK2kG,UAAU,UAAWvxF,GAC1BpT,KAAKoT,KAAOA,IAIhBumG,EAAU/5G,UAAU+4G,SAAW,WAC7B,IAAIl4G,EAAQT,KAAKuO,QAIjB,GAFkB,WAAU,GAAI9N,EAAM8S,OAEtByJ,QAAS,CACvB,IAAIzJ,EAAQg3F,GAAQ,QAAS,QAAS,CACpC36D,KAAM5vC,OAERA,KAAK85G,YAAYvmG,GACjBvT,KAAK2kG,UAAU,UAAWpxF,GAC1BvT,KAAKuT,MAAQA,IAIjBomG,EAAU/5G,UAAUorB,UAAY,WAC9B/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAIR,IAFZA,KAAKuO,QAEPyc,YAERhrB,KAAKyS,KAAK+J,SAAU,EAChBxc,KAAKoT,OAAMpT,KAAKoT,KAAKoJ,SAAU,GAC/Bxc,KAAKuT,QAAOvT,KAAKuT,MAAMiJ,SAAU,KAIzCm9F,EAAU/5G,UAAUqV,MAAQ,WAC1B,IAAIxU,EAAQT,KAAKuO,QAGjB,IAAsB,IAFV9N,EAAMwU,MAER+H,QAMR,OALIhd,KAAKoT,OACPpT,KAAKoT,KAAK6B,OAAQ,QAGpBjV,KAAKyS,KAAKwC,OAAQ,GAIpBjV,KAAKyS,KAAKwC,MAAQi9E,GAAa,QAAS,CACtCr7B,OAAQ,CAACp2D,EAAMs/B,QACf6P,KAAM5vC,QAIV25G,EAAU/5G,UAAUiS,YAAc,SAAUC,GAC1C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1C25G,EAAU/5G,UAAU24G,gBAAkB,SAAUQ,GAC9C,IAAI7zG,EAAQlF,KAERg5G,EAAU,GAAkBD,GAEhC,QAAOC,GAAS,SAAU9/F,GACPA,EACN8U,OAAO9oB,OAIfy0G,EA1MT,CA2ME,IAEa,MACf1S,GAAiB,OAAQ,IC1NzB,IAAI+S,GAAU,CACZC,aAAc,SAAsB11D,GAClC,OAAOrmC,KAAKsE,IAAI+hC,IAAS,EAAI,KAAQ,EAAIA,EAAOA,GAAQ,GAE1D21D,SAAU,SAAkB31D,GAC1B,OAAO,EAAIrmC,KAAKmE,KAAe,EAAVnE,KAAKK,IAAUL,KAAK4iD,KAAK,GAAM5iD,KAAKyZ,IAAI4sB,EAAM,KAErE41D,QAAS,SAAiB51D,GACxB,OAAOrmC,KAAKsE,IAAI+hC,IAAS,EAAI,GAAM,GAErChpC,SAAU,SAAkBgpC,GAC1B,OAAOrmC,KAAKsE,IAAI+hC,IAAS,EAAI,EAAIrmC,KAAKsE,IAAI+hC,GAAQ,GAEpD61D,QAAS,SAAiB71D,GACxB,IAAIjnC,EAAI,EAAIinC,EAAOA,EACnB,OAAOrmC,KAAKsE,IAAI+hC,IAAS,EAAI,GAAK,GAAKjnC,EAAIA,EAAI,GAEjD+8F,UAAW,SAAmB91D,GAC5B,IAAIjnC,EAAI,EAAIinC,EAAOA,EACnB,OAAOrmC,KAAKsE,IAAI+hC,IAAS,EAAI,GAAK,GAAKrmC,KAAKyZ,IAAIra,EAAG,GAAK,GAE1Dg9F,QAAS,SAAiB/1D,GACxB,IAAIjnC,EAAIY,KAAKK,GAAK,EAAIL,KAAKiE,IAAI,GAAMjE,KAAKK,GAAKgmC,GAC/C,OAAOrmC,KAAKsE,IAAI+hC,IAAS,EAAIjnC,EAAI,IAIjC,GAEJ,SAAUrY,GAGR,SAASs1G,IACP,IAAIr1G,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,UACNjB,EA0FT,OAhGA,qBAAUq1G,EAAct1G,GASxBs1G,EAAa36G,UAAUwP,KAAO,WAC5B,IAAIorG,EAAoBx6G,KAAKuO,QAAQmvD,MAAQ,SAAQ19D,KAAKuO,QAAQmvD,OAAS,GAC3E19D,KAAKuO,QAAQuxB,OAAS,QACtB9/B,KAAKuO,QAAQwxB,OAAS,UACtB//B,KAAKuO,QAAQmvD,MAAQ,WAAU,GAAI88C,EAAmB,CACpDr0G,KAAM,WAERnG,KAAKuO,QAAQ8L,QAAS,EAEtBpV,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7Bu6G,EAAa36G,UAAUqkG,YAAc,SAAUj+B,GAC7C,IAAI9gE,EAAQlF,KAERwF,EAAKxF,KAAKuO,QACVksG,EAAWj1G,EAAGi1G,SACdC,EAAWl1G,EAAGk1G,SACdC,EAAYn1G,EAAGm1G,UACfC,EAASp1G,EAAGo1G,OAIZC,EAAab,GAFHY,GAAkB,gBAI5BE,EAAiB,SAAQ90C,GAE7B,UAAS80C,EAAgBL,GAGzB,IAAInsF,EAAS,eAAcwsF,EAAgBL,GAEvClsF,EAAQ,YAAWD,GAEnBysF,EAAaxsF,EAAM5I,IAAM4I,EAAMkB,IAC/BurF,EAAaL,EACbM,EAAYP,GAEXC,GAAaD,IAChBM,EAAa98F,KAAK2V,MAAMknF,EAAaL,KAGlCA,GAAYC,IACfM,EAAYF,EAAaJ,GAItBA,GAAcD,IACjBM,EAAaptB,GAAQt/D,GACrB2sF,EAAYF,EAAaJ,GAI3B,IAOIO,EANQ,IADM,GAAS,UACf,CAAgB,CAC1BzrF,IAAKlB,EAAMkB,IACX9J,IAAK4I,EAAM5I,IACX2Q,UAAW0kF,EACX1jF,MAAM,IAEYxI,WAEhBqsF,EAAY,GAWhB,OATA,QAAOD,GAAS,SAAUh7G,GACxB,IAAIk6B,EAAUl1B,EAAMk2G,uBAAuBH,EAAWJ,EAAY36G,EAAGouB,GAErE6sF,EAAU3qG,KAAK,CACb5P,MAAOV,EAAEwT,KACT0mB,QAASA,OAIN+gF,GAGTZ,EAAa36G,UAAUw7G,uBAAyB,SAAUV,EAAUG,EAAYjsG,EAAG0f,GACjF,IAAIqjC,EAAM,EAOV,OALA,QAAOrjC,GAAQ,SAAUhR,GACvB,IAAIinC,GAAQ31C,EAAEogB,UAAY1R,GAAKo9F,EAC/B/oD,GAAOkpD,EAAWt2D,MAGK,IAAlBj2B,EAAO7uB,OAAe,EAAIkyD,EAAMrjC,EAAO7uB,QAGzC86G,EAjGT,CAkGE,IAEa,MACftT,GAAiB,UAAW,KCjI5B,SAAUhiG,GAGR,SAASo2G,IACP,OAAkB,OAAXp2G,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUq7G,EAASp2G,GAMnBo2G,EAAQz7G,UAAU0nG,aAAe,SAAU7mG,GACzC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,UAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CoC,EAAQ1X,kBAAoB,GAAaA,kBAf3C,CAiBE,ICpBF,SAASnwC,GAAYt5C,GACnB,IAAIohG,EAAe,GACfh1F,EAAQpM,EAAM+C,IAAI,SAClBqL,EAASpO,EAAM+C,IAAI,UAAUqL,OAMjC,OAJA,QAAOA,GAAQ,SAAUjoB,GACvBi7G,EAAa9qG,KAAK8V,EAAMoH,aAAartB,OAGhCi7G,EAGT,IA0Me,GAxMf,WACE,SAASC,EAAcrsG,GAErB,WAAUlP,KAAMA,KAAKoC,YAAYuhG,kBAAkBz0F,GAAMA,GAEzDlP,KAAKysC,QAgMP,OA7LA8uE,EAAc5X,kBAAoB,SAAUn+F,GAC1C,IAAI4/B,EAAY5/B,EAAG4/B,UACnB,MAAO,CACLpoB,SAAS,EACT9W,KAAMk/B,EAAY,GAAK,GACvB2wD,QAAS3wD,EAAY,EAAI,GACzBpwB,OAAQowB,EAAY,GAAK,EACzBqf,MAAO,CACLznC,SAAS,EACTw+F,SAAU,GACVj3G,MAAO,CACLoO,KAAM,wBAGV/R,MAAO,CACLoc,SAAS,EACTzY,MAAO,CACLuQ,SAAU,GACVnC,KAAM,uBAERsc,UAAW,SAAmBwsF,EAAYC,GACxC,OAAQ,IAAMA,EAAaD,GAAY94F,QAAQ,GAAK,MAGxDqI,UAAW,WAAU,GAAI,GAAQL,cAIrC4wF,EAAc37G,UAAU6sC,MAAQ,WAC9B,IAAIvnC,EAAQlF,KAER4N,EAAQ5N,KAAK+N,KAAKkP,IAAI,mBAC1Bjd,KAAK0O,UAAYd,EAAM2/B,WACvBvtC,KAAK8P,OACL9P,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,YAIVwrG,EAAc37G,UAAUkQ,KAAO,WAC7B,IAMI6rG,EAAYD,EAAYE,EAAYH,EANpCv2G,EAAQlF,KAERolC,EAAYplC,KAAKolC,UACjB9W,EAAStuB,KAAK+N,KAAKkP,IAAI,UAAUjd,KAAK4nC,OAAOtZ,OAE7CpY,EADWlW,KAAK+N,KAAKkP,IAAI,YAAY,GACnBmO,YAGlBga,EACFlvB,EAAOhO,SAAQ,SAAUyzG,EAAYp8G,GACnCm8G,EAAaptF,EAAO/uB,GAEhBA,IAAM,GACR2F,EAAM22G,SAASD,EAAYH,EAAYE,EAAYD,GAGrDD,EAAaC,EACbE,EAAaD,KAGfzlG,EAAOhO,SAAQ,SAAU0zG,EAAYr8G,GACnCk8G,EAAantF,EAAO/uB,GAEhBA,IAAM,GACR2F,EAAM22G,SAASD,EAAYH,EAAYE,EAAYD,GAGrDA,EAAaD,EACbE,EAAaC,MAKnBL,EAAc37G,UAAUmQ,MAAQ,WAC1B/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInBwrG,EAAc37G,UAAUk8G,QAAU,WAC5B97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,UAInBorG,EAAc37G,UAAUi8G,SAAW,SAAUD,EAAYH,EAAYE,EAAYD,GAC/E,IAAIt2E,EAAYplC,KAAKolC,UACjB22E,EAAavoD,GAAYooD,GAAYx2E,EAAY,EAAI,GACrD42E,EAAaxoD,GAAYmoD,GAAYv2E,EAAY,EAAI,GAEzDplC,KAAKi8G,cAAcF,EAAYC,GAE/Bh8G,KAAKk8G,cAAcH,EAAYN,EAAYO,EAAYN,IAGzDH,EAAc37G,UAAUq8G,cAAgB,SAAUF,EAAYC,GAC5D,IAWI1zF,EAXAytE,EAAU/1F,KAAK+1F,QAGf7vF,EADKlG,KACKkG,KACV8O,EAFKhV,KAEOgV,OACZgW,EAHKhrB,KAGUgrB,UACfoa,EAJKplC,KAIUolC,UAEfo2E,EAAWx7G,KAAKykD,MAAM+2D,SACtBzhD,EAAciiD,EAAWntG,EAAIktG,EAAWltG,EACxCgrD,EAAamiD,EAAWptG,EAAImtG,EAAWntG,EAGvCw2B,GACGy0B,EAAa2hD,GAAY,EAAIzlB,GAEhCA,EAAU73E,KAAKyH,IAAI,GAAIk0C,EAAa2hD,GAAY,GAChDlzF,EAAS,CAAC,CAACyzF,EAAWntG,EAAImnF,EAASgmB,EAAWltG,EAAImG,GAAS,CAAC+mG,EAAWntG,EAAImnF,EAASgmB,EAAWltG,EAAImG,EAAS9O,GAAO,CAAC81G,EAAWptG,EAAImnF,EAASimB,EAAWntG,EAAImG,EAAS9O,EAAO,KAG3KoiB,EAAS,CAAC,CAACyzF,EAAWntG,EAAImnF,EAASgmB,EAAWltG,EAAImG,GAAS,CAAC+mG,EAAWntG,EAAImnF,EAASgmB,EAAWltG,EAAImG,EAAS9O,GAAO,CAAC81G,EAAWptG,EAAImnF,EAAUylB,EAAUQ,EAAWntG,EAAImG,EAAS9O,GAAO,CAAC81G,EAAWptG,EAAImnF,EAASimB,EAAWntG,EAAImG,EAAS9O,EAAO,GAAI,CAAC81G,EAAWptG,EAAImnF,EAAUylB,EAAUQ,EAAWntG,EAAImG,KAGlS+kD,EAAcyhD,GAAY,EAAIzlB,GAEjCA,EAAU73E,KAAKyH,IAAI,GAAIo0C,EAAcyhD,GAAY,GACjDlzF,EAAS,CAAC,CAACyzF,EAAWntG,EAAIoG,EAAQ+mG,EAAWltG,EAAIknF,GAAU,CAACgmB,EAAWntG,EAAIoG,EAAS9O,EAAM61G,EAAWltG,EAAIknF,GAAU,CAACimB,EAAWptG,EAAIoG,EAAS9O,EAAO,EAAG81G,EAAWntG,EAAIknF,KAGrKztE,EAAS,CAAC,CAACyzF,EAAWntG,EAAIoG,EAAQ+mG,EAAWltG,EAAIknF,GAAU,CAACgmB,EAAWntG,EAAIoG,EAAS9O,EAAM61G,EAAWltG,EAAIknF,GAAU,CAACimB,EAAWptG,EAAIoG,EAAS9O,EAAM81G,EAAWntG,EAAIknF,EAAUylB,GAAW,CAACQ,EAAWptG,EAAIoG,EAAS9O,EAAO,EAAG81G,EAAWntG,EAAIknF,GAAU,CAACimB,EAAWptG,EAAIoG,EAAQgnG,EAAWntG,EAAIknF,EAAUylB,IAIvS,IAAIW,EAAWn8G,KAAK0O,UAAUge,SAAS,UAAW,CAChDza,KAAM,QACNoS,MAAO,oBAAS,oBAAS,GAAIrkB,KAAKykD,MAAMlgD,OAAQ,CAC9C+jB,OAAQA,OAIM,IAAd0C,GACFhrB,KAAKo8G,gBAAgBD,IAIzBZ,EAAc37G,UAAUs8G,cAAgB,SAAUH,EAAYN,EAAYO,EAAYN,GACpF,IACIx1G,EADKlG,KACKkG,KACV8O,EAFKhV,KAEOgV,OACZgW,EAHKhrB,KAGUgrB,UACfoa,EAJKplC,KAIUolC,UAEf1xB,EAAO1T,KAAKY,MAAMquB,UAAUwsF,EAAYC,GACxCW,EAAWr8G,KAAK0O,UAAUge,SAAS,OAAQ,CAC7Cza,KAAM,QACNoS,MAAO,oBAAS,oBAAS,GAAIrkB,KAAKY,MAAM2D,OAAQ,CAC9CmP,KAAMA,EACN9E,EAAGw2B,GAAa22E,EAAWntG,EAAIotG,EAAWptG,GAAK,EAAImtG,EAAWntG,EAAIoG,EAAS9O,EAAO,EAClF2I,EAAGu2B,EAAY22E,EAAWltG,EAAImG,EAAS9O,EAAO,GAAK61G,EAAWltG,EAAImtG,EAAWntG,GAAK,EAClF8E,UAAW,SACXC,aAAc,aAIlB,GAAIwxB,EAAW,CACb,IAAIy0B,EAAamiD,EAAWptG,EAAImtG,EAAWntG,EACvC0tG,EAAYD,EAASpzF,UAAUzkB,MAEnC,GAAI83G,EAAYziD,EAAY,CAC1B,IAAI0iD,EAASD,EAAY5oG,EAAKjU,OAC1B+8G,EAAOt+F,KAAKyH,IAAI,EAAGzH,KAAKmd,KAAKw+B,EAAa0iD,GAAU,GACpDE,EAAe/oG,EAAK4R,MAAM,EAAGk3F,GAAQ,MACzCH,EAASj0F,KAAK,OAAQq0F,KAIR,IAAdzxF,GACFhrB,KAAKo8G,gBAAgBC,IAIzBd,EAAc37G,UAAUw8G,gBAAkB,SAAUliG,GAClD,IAAI8Q,EAAYhrB,KAAKgrB,UACjBnX,EAAUqG,EAAMkO,KAAK,WACzBlO,EAAMkO,KAAK,UAAW,GAEtB,IAAIR,EAAW,OAAMoD,EAAW,SAAU,GAAQL,WAAWX,QAAQpC,SAErE1N,EAAMsC,QAAQ,CACZ3I,QAASA,GACR+T,IAGE2zF,EArMT,GCfA,IAAI,GAEJ,SAAUt2G,GAGR,SAASy3G,IACP,OAAkB,OAAXz3G,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAa7D,OAhBA,qBAAU08G,EAA4Bz3G,GAMtCy3G,EAA2B98G,UAAU41G,QAAU,WAC7C,OAAIx1G,KAAK4vC,KAAKlzB,OAAOzH,OACdjV,KAAK4vC,KAAKlzB,OAAOzH,MAAMuB,UAAgD,QAApCxW,KAAK4vC,KAAKlzB,OAAOzH,MAAMuB,SAK1D,QAJI,OAONkmG,EAjBT,CAkBE,ICrBF,IAQe,IACb/F,UATwB,GAUxBxX,YAT0B,CAAC,CAC3BltF,KAAM,iBACN+b,OCJa,SAAwBpgB,GACrC,IAAIooG,EAAkBpoG,EAAMm1F,qBACxBh0F,EAASnB,EAAMmB,OAEI,IAAI,GAAoB,CAC7C6gC,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAGgB,IAAI,GAAoB,CAC7C0P,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAEPnxB,EAAOe,SDVN,CACDmC,KAAM,kBACN+b,ODiBa,SAA8BpgB,GAC3C,IAAIooG,EAAkBpoG,EAAMm1F,qBACK,IAAI,GAA2B,CAC9DnzD,KAAMhiC,EACNooG,gBAAiBA,QG7Bd,SAAS7zB,GAAQxsD,GACtB,IAAI/E,EAAM,GAIV,OAHAA,EAAIpgB,KAAKujB,SAAS4B,EAAI5E,OAAO,EAAG,GAAI,KACpCH,EAAIpgB,KAAKujB,SAAS4B,EAAI5E,OAAO,EAAG,GAAI,KACpCH,EAAIpgB,KAAKujB,SAAS4B,EAAI5E,OAAO,EAAG,GAAI,KAC7BH,ECmBTkyE,GAAwB,SArBN,CAChB7tF,MAAO,CACLsB,IAAK,CACH2rF,YAAa,CAAC,CACZjwF,KAAM,qBAERkwF,MAAO,CACL4K,iBAAkB,CAAC,CACjB96F,KAAM,oBACL,CACDA,KAAM,yBACNw3B,OAAQ,CACN+4D,KAAM,CAAC,MAAO,MAAO,YAEtB,CACDvwF,KAAM,kBCdhB,IAEI,GAEJ,SAAUhN,GAGR,SAAS03G,IACP,OAAkB,OAAX13G,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA4L7D,OA/LA,qBAAU28G,EAAc13G,GAMxB03G,EAAa/8G,UAAUmpE,iBAAmB,SAAUx1D,EAAOm3D,EAAapmE,EAAOqmE,GAC7E,IAAIn0D,EAAWm0D,EAEX,cAAan0D,KACfA,EAAWA,EAASk0D,IAGtB,IAAIpkD,EAAQtmB,KAAKid,IAAI,SACjB2tD,EAAStkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/CuiD,EAASvkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAE/C9jB,GADWomE,EAAO/7D,EAAIg8D,EAAOh8D,GACpB+7D,EAAOh8D,EAAIi8D,EAAOj8D,GAAK,GAChCE,GAAU87D,EAAO/7D,EAAIg8D,EAAOh8D,GAAK,EAErC,OAAQ2H,GACN,IAAK,QACHjD,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,OACrC,MAEF,IAAK,OACHJ,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,QACrC,MAEF,IAAK,SACHJ,EAAM1E,GAAc,EAATC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,SACHJ,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,MACHJ,EAAMI,UAAYJ,EAAMI,WAAa,WAQ3CgpG,EAAa/8G,UAAUg9G,aAAe,SAAUt0F,EAAQpS,GACtD,IAAIqG,EAAWvc,KAAKid,IAAI,kBACpBsvB,EAAQhwB,EAASU,IAAI,SACrB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YACnCqJ,EAAQtmB,KAAKid,IAAI,SAErB,QAAOsvB,GAAO,SAAUjlC,EAAMoJ,GAC5B,IAAIuE,EAAQ82B,EAAOr7B,GACfk6D,EAAStkD,EAAMoH,aAAapF,EAAO5X,GAAK4X,OAAO,IAC/CuiD,EAASvkD,EAAMoH,aAAapF,EAAO5X,GAAK4X,OAAO,IACpCsiD,EAAO/7D,EAAIg8D,EAAOh8D,IAG/BvH,EAAKuH,GAAmB,EAAdvH,EAAK0N,OACfC,EAAMmT,KAAK,eAAgB,OAC3BnT,EAAMmT,KAAK,IAAKnT,EAAMmT,KAAK,KAAqB,EAAd9gB,EAAK0N,aAK7C2nG,EAAa/8G,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACpD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/ClW,KAAK48G,aAAat0F,EAAQpS,GAC1B,IAAIqG,EAAWvc,KAAKid,IAAI,kBACpB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YACnCsvB,EAAQhwB,EAASU,IAAI,SACrBlP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAEnC,QAAO8uB,GAAQ,SAAU92B,EAAO3Q,GAC9B,IAAIgb,EAAIrK,EACJ3N,EAAOilC,EAAMjoC,GACb6pC,EAAS7uB,EAAErC,IAAI,UAEfq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cj0B,EAAQhV,EAAM23G,UAAUvJ,EAASp9F,GAEjC1Q,EAAKN,EAAM+X,IAAI,gBACf6/F,EAAct3G,EAAGs3G,YACAt3G,EAAGuxD,gBAGtB7xD,EAAM6xD,eAAez3C,EAAGpF,EAAO5S,GAG7Bw1G,GACF53G,EAAM43G,YAAYx9F,EAAGpF,MAIzBnM,EAAKkP,IAAI,UAAUnN,QAGrB6sG,EAAa/8G,UAAUi9G,UAAY,SAAUvJ,EAASp9F,GACpD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGTq9G,EAAa/8G,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,EAAO5S,GAC9D,IAAIy1G,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI+zF,EAAWluG,QAAUiuG,EAAWjuG,QAA4B,QAAlBxH,EAAKkP,SAAoB,CACrE,IAAIymG,EAAYD,EAAWv0F,KArIhB,GAsIXxT,EAAMmT,KAAK,IAAK60F,KAIpBN,EAAa/8G,UAAUk9G,YAAc,SAAU7nG,EAAOiF,GACpD,IAAI6iG,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI8zF,EAAWt0F,MAAQu0F,EAAWv0F,MAAQs0F,EAAWr0F,MAAQs0F,EAAWt0F,KAAM,CAC5E,IAAIw0F,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GACdG,EAAOn/F,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,EAetEh4E,EAAUnlC,KAAKs9G,cAdH,CAAC,CACfhhF,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAGmCopG,GAE5CpoG,EAAMmT,KAAK,OAAQ+c,GAEH,UAAZA,GACFlwB,EAAMmT,KAAK,SAAU,MACrBnT,EAAMmT,KAAK,YAAa,KAExBnT,EAAMmT,KAAK,SAAU,SACrBnT,EAAMmT,KAAK,YAAa,SAErB,GAAI20F,EAAWr0F,KAAOs0F,EAAWv0F,KAAM,CAE5C,IAAI9S,EAAQ3V,KAAKid,IAAI,SAEjBsgG,EAAiB,OAAM5nG,EAAO,uBAAwB,SAE1DV,EAAMmT,KAAK,OAAQm1F,KAIvBZ,EAAa/8G,UAAU09G,cAAgB,SAAUE,EAAMH,GACrD,IAAIl4E,EAUJ,OARA,QAAOq4E,GAAM,SAAU59F,GACrB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAIXkxB,GAGFw3E,EAhMT,CAiME,IAGF1vC,GAAsB,cAAe,IC/LrC,UAASjkE,GAXa,CACpBy0G,cAAe,iBACfC,iBAAkB,oBAClBC,kBAAmB,qBACnBC,mBAAoB,sBACpBC,mBAAoB,sBACpBC,kBAAmB,qBACnBC,gBAAiB,mBACjBC,oBAAqB,yBCOvB,GAAc,SAAU,CACtBC,YAAa,CACXjkE,OAAQ,GACR5/B,OAlBsB,SAA6B7V,GAErD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAkB7B27E,QAZuB,SAA8BjrF,GACvD,IAAIsP,EAAUtP,EAAMsP,SAAW,EAC/B,MAAO,CACLA,QAAmB,GAAVA,EACTjB,YAAuB,GAAViB,IASbq+D,SAAU,CACRx/D,UAAW,EACXI,OAAQ,YCXd,IAAIorG,GAAc,CAChBxhG,OAAQ,YAENyhG,GAAgB,CAClBlrG,SAAU,UAGR,GAEJ,SAAUhO,GAGR,SAASm5G,IACP,IAAIl5G,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,SACNjB,EA0OT,OAhPA,qBAAUk5G,EAAiBn5G,GAS3Bm5G,EAAgBza,kBAAoB,WAClC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD09D,MAAO,CACL1gD,SAAS,EACT7H,SAAU,CACR6H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,IAGb4mF,MAAO,CACLjiG,MAAO,CACLqb,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEX3H,KAAM,CACJ2H,SAAS,IAGbzE,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,CACV1oC,KAAM,SAGV8O,MAAO,CACL+H,SAAS,EACTxG,SAAU,MACVsmG,aAAa,GAEfzlG,OAAQ,CACN2F,SAAS,EACTxG,SAAU,YAEZ6nG,cAAe,CACbrhG,SAAS,MAKfohG,EAAgBx+G,UAAU4O,WAAa,SAAU/N,GAC/C,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGjDkR,EAAiB3R,KAAKoC,YAAYuhG,oBACtC,OAAO,WAAU,GAAIp1F,EAASoD,EAAgBlR,IAGhD29G,EAAgBx+G,UAAUuP,WAAa,WACrClK,EAAOrF,UAAUuP,WAAWrP,KAAKE,MAI7BA,KAAKuO,QAAQ+pG,YAAuC,SAAzBt4G,KAAKuO,QAAQ1H,SAC1C7G,KAAKu4G,gBAAgB,cAIzB6F,EAAgBx+G,UAAUu/F,YAAc,WACtC,IAAI1+F,EAAQT,KAAKuO,QAGbvO,KAAKuO,QAAQ+pG,YAAuC,SAAzBt4G,KAAKuO,QAAQ1H,SAC1C7G,KAAKu4G,gBAAgB,eAGnB93G,EAAM49G,cAAcrhG,UACtBhd,KAAKq+G,cAAgB,IAAI,GAAc,oBAAS,CAC9CtwG,KAAM/N,KAAK+N,KACX65B,MAAOnnC,EAAMs/B,OACbqF,WAAW,EACXpa,WAA+B,IAApBvqB,EAAMuqB,WAChBvqB,EAAM49G,iBAGXp5G,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCo+G,EAAgBx+G,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACxD,MAAY,OAAR+5B,EACKg+E,GAAY/3G,GAGdg4G,GAAch4G,IAGvBi4G,EAAgBx+G,UAAUqkG,YAAc,SAAUj+B,GAChD,IAAIlmC,EAAS9/B,KAAKuO,QAAQuxB,OACtBw+E,EAAgB,GASpB,OAPA,QAAOt4C,GAAY,SAAUvmD,GAC3B,IAAIb,EAAI,SAAQa,GAEhBb,EAAEkhB,GAAUlhB,EAAEkhB,GAAQv8B,WACtB+6G,EAAc9tG,KAAKoO,MAGd0/F,GAGTF,EAAgBx+G,UAAU+tB,MAAQ,WAChC,IAAIpf,EAAUvO,KAAKuO,QACf24B,EAAS,GAGbA,EAAO34B,EAAQuxB,QAAU,CACvB35B,KAAM,OAGJ,OAAMoI,EAAS,UACjBk8F,GAAavjE,EAAO34B,EAAQuxB,QAASvxB,EAAQmvD,OAK/Cx2B,EAAO34B,EAAQwxB,QAAU,GAErB,OAAMxxB,EAAS,UACjBk8F,GAAavjE,EAAO34B,EAAQwxB,QAASxxB,EAAQq1F,OAG/C5jG,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9Bo+G,EAAgBx+G,UAAU0mB,MAAQ,aAElC83F,EAAgBx+G,UAAU2+G,aAAe,SAAU7hG,KAInD0hG,EAAgBx+G,UAAUmkG,YAAc,WACtC,IAAIx1F,EAAUvO,KAAKuO,QACfmO,EAAS6tF,GAAQ,WAAY,OAAQ,CACvC5C,eAAgB,CAACp5F,EAAQuxB,OAAQvxB,EAAQwxB,QACzC6P,KAAM5vC,OAGJuO,EAAQ8vG,cAAcrhG,UACxBN,EAAOD,WAAWC,OAAS,IAGzBnO,EAAQ0G,QACVyH,EAAOzH,MAAQjV,KAAKw+G,gBAGtBx+G,KAAKu+G,aAAa7hG,GAClB1c,KAAK0c,OAASA,EACd1c,KAAK2kG,UAAU,UAAWjoF,IAG5B0hG,EAAgBx+G,UAAUorB,UAAY,WACpC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAED,IAA3BA,KAAKuO,QAAQyc,YAEfhrB,KAAK0c,OAAOF,SAAU,IAI1B4hG,EAAgBx+G,UAAUiS,YAAc,SAAUC,GAChD7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1Co+G,EAAgBx+G,UAAU4+G,aAAe,WACvC,IAAI/9G,EAAQT,KAAKuO,QACboD,EAAiB3R,KAAKy+G,0BAA0Bh+G,EAAMwU,MAAMuB,UAE5DvB,EAAQ,WAAU,GAAItD,EAAgB3R,KAAKuO,QAAQ0G,OAEvD,OAAsB,IAAlBA,EAAM+H,SAIQk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,cACX1W,OAAQ,CAAC72D,KAAKuO,QAAQwxB,SACrB9qB,KAILmpG,EAAgBx+G,UAAU24G,gBAAkB,SAAUQ,GACpD,IAAI7zG,EAAQlF,KAERg5G,EAAU,GAAkBD,GAEhC,QAAOC,GAAS,SAAU9/F,GACPA,EACN8U,OAAO9oB,OAItBk5G,EAAgBx+G,UAAU6+G,0BAA4B,SAAUjoG,GAC9D,MAAiB,WAAbA,EACK,CACLxB,OAAQ,EACRzQ,MAAO,CACLqP,aAAc,WAKH,QAAb4C,GASa,WAAbA,EARK,CACLxB,OAAQ,EACRzQ,MAAO,CACLqP,aAAc,WAcb,CACLoB,OAAQ,IAILopG,EAjPT,CAkPE,IAEa,MACfnX,GAAiB,SAAU,ICtQ3B,IAqBe,GAnBf,SAAUhiG,GAGR,SAASy5G,IACP,OAAkB,OAAXz5G,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAY7D,OAfA,qBAAU0+G,EAAQz5G,GAMlBy5G,EAAO9+G,UAAU0nG,aAAe,SAAU7mG,GACxC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,SAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CyF,EAAO/a,kBAAoB,GAAYA,kBAChC+a,EAhBT,CAiBE,ICuJFzxC,GAAsB,eAvKtB,SAAUhoE,GAGR,SAAS05G,IACP,OAAkB,OAAX15G,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA+J7D,OAlKA,qBAAU2+G,EAAe15G,GAMzB05G,EAAc/+G,UAAUmpE,iBAAmB,SAAUx1D,EAAOm3D,EAAapmE,EAAOqmE,GAC9E,IAAIn0D,EAAWm0D,EAEX,cAAan0D,KACfA,EAAWA,EAASk0D,IAGtB,IAAIxkE,EAAOwkE,EAAYxkE,KAGnB1B,GAFIkmE,EAAYpiD,OAAO,GACftoB,KAAKid,IAAI,SACT/W,GACR4I,EAAS5I,EAEb,OAAQsQ,GACN,IAAK,QACHjD,EAAM3E,GAAa,EAARpK,EACX+O,EAAMI,UAAYJ,EAAMI,WAAa,OACrC,MAEF,IAAK,OACHJ,EAAM3E,GAAa,EAARpK,EACX+O,EAAMI,UAAYJ,EAAMI,WAAa,QACrC,MAEF,IAAK,SACHJ,EAAM1E,GAAc,EAATC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrCJ,EAAMK,aAAe,MACrB,MAEF,IAAK,SACHL,EAAMK,aAAe,SACrBL,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,MACHJ,EAAM1E,GAAc,EAATC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrCJ,EAAMK,aAAe,WAQ3B+qG,EAAc/+G,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACrD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IAAIqG,EAAWvc,KAAKid,IAAI,kBACpB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YACnCsvB,EAAQhwB,EAASU,IAAI,SACrBlP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAEnC,QAAO8uB,GAAQ,SAAU92B,EAAO3Q,GAC9B,IAAIgb,EAAIrK,EACJ3N,EAAOilC,EAAMjoC,GACb6pC,EAAS7uB,EAAErC,IAAI,UAEfq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cj0B,EAAQhV,EAAM23G,UAAUvJ,EAASp9F,GAEjC1Q,EAAKN,EAAM+X,IAAI,gBACf6/F,EAAct3G,EAAGs3G,YACAt3G,EAAGuxD,gBAGtB7xD,EAAM6xD,eAAez3C,EAAGpF,EAAO5S,GAG7Bw1G,GACF53G,EAAM43G,YAAYx9F,EAAGpF,MAIzBnM,EAAKkP,IAAI,UAAUnN,QAGrB6uG,EAAc/+G,UAAUi9G,UAAY,SAAUvJ,EAASp9F,GACrD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGTq/G,EAAc/+G,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,EAAO5S,GAC9C4S,EAAM+C,IAAI,UAAUm+C,QAArC,IAEI2hD,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,WAEnB+zF,EAAWluG,QAAUiuG,EAAWjuG,QAAUkuG,EAAWx4G,OAASu4G,EAAWv4G,OAA2B,WAAlB8C,EAAKkP,WACzFvB,EAAMmT,KAAK,OAAQ,KAIvBu2F,EAAc/+G,UAAUk9G,YAAc,SAAU7nG,EAAOiF,GACrD,IAAI6iG,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI8zF,EAAWt0F,MAAQu0F,EAAWv0F,MAAQs0F,EAAWr0F,MAAQs0F,EAAWt0F,KAAM,CAC5E,IAAIw0F,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GACdG,EAAOn/F,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,EAetEh4E,EAAUnlC,KAAKs9G,cAdH,CAAC,CACfhhF,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAGmCopG,GAE5CpoG,EAAMmT,KAAK,OAAQ+c,QACd,GAAI43E,EAAWr0F,KAAOs0F,EAAWv0F,KAAM,CAC5C,IAAI9S,EAAQ3V,KAAKid,IAAI,SAEjBsgG,EAAiB,OAAM5nG,EAAO,uBAAwB,SAE1DV,EAAMmT,KAAK,OAAQm1F,KAIvBoB,EAAc/+G,UAAU09G,cAAgB,SAAUE,EAAMH,GACtD,IAAIl4E,EAUJ,OARA,QAAOq4E,GAAM,SAAU59F,GACrB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAIXkxB,GAGFw5E,EAnKT,CAoKE,KC/JF,UAAS31G,GAXa,CACpByuG,aAAc,cACdC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,kBAAmB,mBACnBC,kBAAmB,mBACnBC,iBAAkB,kBAClBC,eAAgB,gBAChBC,mBAAoB,sBCNtB,IAsSe,GApSf,WACE,SAAS4G,EAAS1vG,GAChBlP,KAAK6+G,UAAY,EACjB7+G,KAAK8+G,UAAY,EACjB9+G,KAAK++G,eAAiB,GACtB/+G,KAAKuvD,WAAa,GAClBvvD,KAAK6uD,SAAW,GAChB7uD,KAAKuO,QAAUW,EACflP,KAAK+N,KAAO/N,KAAKuO,QAAQR,KACzB/N,KAAKoP,OAwRP,OArRAwvG,EAASh/G,UAAUwP,KAAO,WACxB,IAYI4vG,EAZA95G,EAAQlF,KAERwF,EAAKxF,KAAKuO,QACVswG,EAAYr5G,EAAGq5G,UACfC,EAAYt5G,EAAGs5G,UACfx4F,EAAQtmB,KAAK+N,KAAKkP,IAAI,SAGtBiqB,EAASlnC,KAAK+N,KAAKkP,IAAI,UACvBy+C,EAASx0B,EAAOlnC,KAAKuO,QAAQ0wG,YAAYn/E,QACzCtS,EAAS0Z,EAAOlnC,KAAKuO,QAAQ0wG,YAAYl/E,QAI7C,GAAI8+E,EAAYnjD,EAAOjsC,KAAOovF,EAAYnjD,EAAO/1C,IAAK,CACpD,IAAI0Y,GAASwgF,EAAYnjD,EAAOjsC,MAAQisC,EAAO/1C,IAAM+1C,EAAOjsC,KAC5DuvF,EAAU,CAAC,IAAI,QAAK14F,EAAMpV,MAAMtC,EAAG0X,EAAMnV,IAAItC,EAAGyX,EAAM9hB,MAAQ65B,EAAO/X,EAAMxX,QAAS,IAAI,QAAKwX,EAAMpV,MAAMtC,EAAI0X,EAAM9hB,MAAQ65B,EAAO/X,EAAMnV,IAAItC,EAAGyX,EAAM9hB,OAAS,EAAI65B,GAAQ/X,EAAMxX,SAChL,IAAIowG,EAAmB,CACrBhuG,MAAO,CACLtC,EAAG0X,EAAMpV,MAAMtC,EAAI0X,EAAM9hB,MAAQ65B,EACjCxvB,EAAGyX,EAAMnV,IAAItC,GAEfsC,IAAK,CACHvC,EAAG0X,EAAMpV,MAAMtC,EAAI0X,EAAM9hB,MAAQ65B,EACjCxvB,EAAGyX,EAAMpV,MAAMrC,IAGnB7O,KAAK6uD,SAASr+C,KAAK0uG,QAEnBF,EAAU,IAAI,QAAK14F,EAAMpV,MAAMtC,EAAG0X,EAAMpV,MAAMrC,EAAGyX,EAAM9hB,MAAO8hB,EAAMxX,QAItE,GAAIgwG,EAAYtxF,EAAOiC,KAAOqvF,EAAYtxF,EAAO7H,IAAK,CACpD,IAAI81B,GAAWqjE,EAAYtxF,EAAOiC,MAAQjC,EAAO7H,IAAM6H,EAAOiC,KAC1D0vF,EAAqB,CACvBjuG,MAAO,CACLtC,EAAG0X,EAAMpV,MAAMtC,EACfC,EAAGyX,EAAMnV,IAAItC,EAAIyX,EAAMxX,OAAS2sC,GAElCtqC,IAAK,CACHvC,EAAG0X,EAAMnV,IAAIvC,EACbC,EAAGyX,EAAMnV,IAAItC,EAAIyX,EAAMxX,OAAS2sC,IAGpCz7C,KAAK6uD,SAASr+C,KAAK2uG,GACnB,gBAAKH,GAAS,SAAU/tG,EAAQ3M,GAC9B,IAAI86G,EAAW,CAAC,OAAQ,SACpBC,EAAQ,CACVptG,KAAM+sG,EAAQv/G,OAAS,EAAI,OAAS2/G,EAAS96G,GAAS,MACtDumC,KAAM,IAAI,QAAK55B,EAAOsX,KAAMtX,EAAOwX,KAAMxX,EAAOzM,MAAOyM,EAAOnC,OAAS2sC,IAGzEv2C,EAAMqqD,WAAW/+C,KAAK6uG,GAEtB,IAAIC,EAAQ,CACVrtG,KAAM+sG,EAAQv/G,OAAS,EAAI,UAAY2/G,EAAS96G,GAAS,SACzDumC,KAAM,IAAI,QAAK55B,EAAOsX,KAAMtX,EAAOwX,KAAOxX,EAAOnC,OAAS2sC,EAASxqC,EAAOzM,MAAOyM,EAAOnC,QAAU,EAAI2sC,KAGxGv2C,EAAMqqD,WAAW/+C,KAAK8uG,WAEnB,GAAuB,IAAnBN,EAAQv/G,OAAc,CAC/B,IAAIiX,EAAO,CACTzE,KAAM,OACN44B,KAAMm0E,EAAQ,IAEhBh/G,KAAKuvD,WAAW/+C,KAAKkG,GACrB,IAAIC,EAAQ,CACV1E,KAAM,QACN44B,KAAMm0E,EAAQ,IAEhBh/G,KAAKuvD,WAAW/+C,KAAKmG,GAIvB3W,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,mBAAmBswB,YAGpDqxE,EAASh/G,UAAU+P,OAAS,WAC1B,IAAIzK,EAAQlF,KAEZ,GAAIA,KAAKuvD,WAAW9vD,OAAS,EAAG,CAC9B,IAAI8/G,EAAiBv/G,KAAKguF,kBACtBwxB,EAAgBx/G,KAAKy/G,eAAez/G,KAAKuvD,YAC7C,gBAAKvvD,KAAKuvD,YAAY,SAAU3wC,EAAGta,GACjC,IAAI09B,EAAQ98B,EAAMwJ,UAAU6+B,WAExB9yB,EAAOunB,EAAMtV,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,CACdzV,EAAGgQ,EAAEisB,KAAKtiB,KACV1Z,EAAG+P,EAAEisB,KAAKpiB,KACVjkB,MAAOoa,EAAEisB,KAAKrmC,MACdsK,OAAQ8P,EAAEisB,KAAK/7B,QACd0wG,EAAcl7G,IACjB2N,KAAM,aAGR,GAAI/M,EAAMqJ,QAAQ0G,OAAS/P,EAAMqJ,QAAQ0G,MAAMvB,KAC7C,KAAIqnD,EAAe,mBAAQ,GAAIwkD,EAAetqG,MAAO/P,EAAMqJ,QAAQ0G,OAE/DygC,EAAWxwC,EAAMw6G,eAAe9gG,EAAGm8C,EAAcz2D,GAEzC09B,EAAMtV,SAAS,OAAQ,CACjCrI,MAAO,oBAAS,GAAIqxB,KAIxBj7B,EAAK6O,UAAU,OAAQ1K,GAEvB1Z,EAAM65G,eAAevuG,KAAKwxB,MAG5B,IAAI29E,EAAc,mBAAQ,GAAIJ,EAAensG,KAAMpT,KAAKuO,QAAQiL,WAChE,gBAAKxZ,KAAK6uD,UAAU,SAAUjwC,GAC5B1Z,EAAMwJ,UAAUge,SAAS,OAAQ,CAC/BrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAKwC,EAAE1N,MAAMtC,EAAGgQ,EAAE1N,MAAMrC,GAAI,CAAC,IAAK+P,EAAEzN,IAAIvC,EAAGgQ,EAAEzN,IAAItC,KACxD8wG,QAGP3/G,KAAK+N,KAAKkP,IAAI,UAAUnN,SAI5B8uG,EAASh/G,UAAUmQ,MAAQ,WACrB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInB6uG,EAASh/G,UAAUoQ,QAAU,WACvBhQ,KAAK0O,WACP1O,KAAK0O,UAAUyB,UAInByuG,EAASh/G,UAAUouF,gBAAkB,WACnC,MAAO,CACL56E,KAAM,CACJN,OAAQ,UACRJ,UAAW,GAEbktG,SAAU,CAAC,CACTjtG,KAAM,UACNkB,QAAS,KACR,CACDlB,KAAM,UACNkB,QAAS,IAEXgsG,SAAU,CAAC,CACTltG,KAAM,UACNkB,QAAS,KACR,CACDlB,KAAM,UACNkB,QAAS,GACR,CACDlB,KAAM,UACNkB,QAAS,GACR,CACDlB,KAAM,UACNkB,QAAS,MAEXoB,MAAO,CACLuB,SAAU,eACVxB,OAAQ,GACRzQ,MAAO,CACLuQ,SAAU,GACVnC,KAAM,WAMdisG,EAASh/G,UAAU6/G,eAAiB,SAAUlwD,GAC5C,IAEIhrD,EAFAu7G,EAAYvwD,EAAW9vD,OACvBsuF,EAAe/tF,KAAKguF,kBASxB,GALEzpF,EADgB,IAAdu7G,EACM/xB,EAAa6xB,SAEb7xB,EAAa8xB,SAGnB7/G,KAAKuO,QAAQwxG,YAAa,CAC5B,IAAIC,EAAgBhgH,KAAKuO,QAAQwxG,YAE7B,mBAAQC,GACVz7G,EAAQA,EAAMH,KAAI,SAAUlE,EAAGoE,GAC7B,OAAI07G,EAAcvgH,QAAU6E,EACnB07G,EAAc17G,GAGhBpE,KAEA,sBAAW8/G,IACpB,gBAAKzwD,GAAY,SAAU3wC,EAAGta,GAC5BC,EAAMD,GAAS07G,EAAcphG,MAKnC,OAAOra,GAGTq6G,EAASh/G,UAAU8/G,eAAiB,SAAUzuG,EAAQ8pD,EAAcz2D,GAClE,IAAIsK,EAAI,EACJC,EAAI,EACJtK,EAAQ,GACRmP,EAAOqnD,EAAarnD,KAEpB,sBAAWA,GACbA,EAAOA,EAAKzC,GACH,mBAAQyC,KACjBA,EAAOA,EAAKpP,IAGd,IACIo7C,EADWqb,EAAavkD,SACTqN,MAAM,KACrBqc,EAAMjvB,EAAOgB,KAAK4R,MAAM,KAiD5B,MA/Ce,SAAXqc,EAAI,IACS,UAAXwf,EAAI,KACN9wC,EAAIqC,EAAO45B,KAAKriB,KAAOuyC,EAAa/lD,OACpCzQ,EAAMoP,UAAY,SAGL,WAAX+rC,EAAI,KACN9wC,EAAIqC,EAAO45B,KAAKtiB,KAAOwyC,EAAa/lD,OACpCzQ,EAAMoP,UAAY,SAEA,UAAXusB,EAAI,KACE,UAAXwf,EAAI,KACN9wC,EAAIqC,EAAO45B,KAAKtiB,KAAOwyC,EAAa/lD,OACpCzQ,EAAMoP,UAAY,QAGL,WAAX+rC,EAAI,KACN9wC,EAAIqC,EAAO45B,KAAKriB,KAAOuyC,EAAa/lD,OACpCzQ,EAAMoP,UAAY,UAKP,QAAXusB,EAAI,IACS,UAAXwf,EAAI,KACN7wC,EAAIoC,EAAO45B,KAAKniB,KAAOqyC,EAAa/lD,OACpCzQ,EAAMqP,aAAe,UAGR,WAAX8rC,EAAI,KACN7wC,EAAIoC,EAAO45B,KAAKpiB,KAAOsyC,EAAa/lD,OACpCzQ,EAAMqP,aAAe,QAEH,WAAXssB,EAAI,KACE,UAAXwf,EAAI,KACN7wC,EAAIoC,EAAO45B,KAAKpiB,KAAOsyC,EAAa/lD,OACpCzQ,EAAMqP,aAAe,OAGR,WAAX8rC,EAAI,KACN7wC,EAAIoC,EAAO45B,KAAKniB,KAAOqyC,EAAa/lD,OACpCzQ,EAAMqP,aAAe,YAIzBrP,EAAQ,mBAAQ,GAAIw2D,EAAax2D,MAAOA,IAClC2Q,WAAa3Q,EAAMuQ,SAClB,oBAAS,CACdlG,EAAGA,EACHC,EAAGA,EACH6E,KAAMA,GACLnP,IAGEq6G,EAjST,G,UCHO,SAAS,GAAOn/F,EAAM7Q,EAAGC,EAAGkoB,GACjCtX,EAAOA,EAAK06C,QAAO,SAAUv7C,GAC3B,IAAIY,EAAI5Q,EAAEgQ,GACNtB,EAAIzO,EAAE+P,GACV,OAAY,MAALY,GAAasd,SAAStd,IAAW,MAALlC,GAAawf,SAASxf,MAGvDyZ,GACFtX,EAAKsX,MAAK,SAAU1Z,EAAGuC,GACrB,OAAOhR,EAAEyO,GAAKzO,EAAEgR,MAcpB,IAVA,IAMIqgG,EACAC,EACAthG,EARAsb,EAAIza,EAAKhgB,OACT+kB,EAAI,IAAI27F,aAAajmF,GACrBzV,EAAI,IAAI07F,aAAajmF,GAErBkmF,EAAK,EACLC,EAAK,EAKA9gH,EAAI,EAAGA,EAAI26B,GAClBtb,EAAIa,EAAKlgB,GACTilB,EAAEjlB,GAAK0gH,GAAMrxG,EAAEgQ,GACf6F,EAAEllB,GAAK2gH,GAAMrxG,EAAE+P,GAEfwhG,IAAOH,EAAKG,KADV7gH,EAEF8gH,IAAOH,EAAKG,GAAM9gH,EAIpB,IAAK,IAAI6wB,EAAK,EAAGA,EAAK8J,IAAK9J,EACzB5L,EAAE4L,IAAOgwF,EACT37F,EAAE2L,IAAOiwF,EAGX,MAAO,CAAC77F,EAAGC,EAAG27F,EAAIC,GAEb,SAASC,GAAY7gG,EAAM7Q,EAAGC,EAAG+C,GAGtC,IAFA,IAAI2uG,EAAa,EAERhhH,EAAI,EAAG26B,EAAIza,EAAKhgB,OAAQF,EAAI26B,EAAG36B,IAAK,CAC3C,IAAIqf,EAAIa,EAAKlgB,GACT8rC,GAAMz8B,EAAEgQ,GACR0sB,GAAMz8B,EAAE+P,GAEF,MAANysB,GAAcvO,SAASuO,IAAa,MAANC,GAAcxO,SAASwO,IACvD15B,EAAGy5B,EAAIC,EAAIi1E,MCjDV,SAASC,GAAc/gG,EAAM7Q,EAAGC,EAAG4xG,EAAIC,GAC5C,IAAIC,EAAM,EACNC,EAAM,EAOV,OANAN,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,GACpC,IAAIu1E,EAAMv1E,EAAKo1E,EAAQr1E,GACnBy1E,EAAMx1E,EAAKm1E,EACfE,GAAOE,EAAMA,EACbD,GAAOE,EAAMA,KAER,EAAIH,EAAMC,ECXZ,SAAS,GAAMxtG,GACpB,OAAsE,IAA/D8K,KAAKm0C,MAAMj/C,EAAK,GAAG,GAAKA,EAAK,GAAG,GAAIA,EAAK,GAAG,GAAKA,EAAK,GAAG,IAAY8K,KAAKK,GCC5E,SAASwiG,GAAUC,EAAMC,EAAMP,GAOpC,IANA,IAAIphG,EAAIpB,KAAK0Z,IAAIqpF,EAAOD,GAAQ9iG,KAAKgjG,OAAS,EAAI,EAC9C32B,EAAY,EAAIrsE,KAAKyZ,IAAI,IAAKrY,EAAI,EAAI,GAEtCgJ,EAAS,CAAC64F,EAAGH,GAAOG,EAAGF,IACvBG,EAAO,EAEJliB,EAAK52E,IAAW84F,EAJT,MAQd,OAAO94F,EAEP,SAAS64F,EAAGvyG,GACV,MAAO,CAACA,EAAG8xG,EAAQ9xG,IAGrB,SAASswF,EAAK52E,GACZ84F,IAIA,IAHA,IDjBqBhuG,ECiBjB8mB,EAAI5R,EAAO7oB,OACX4hH,GAAQ,EAEH9hH,EAAI,EAAGA,EAAI26B,EAAI,EAAG36B,IAAK,CAC9B,IAAI+hH,EAAKh5F,EAAO/oB,GACZ0qE,EAAK3hD,EAAO/oB,EAAI,GAChBqe,EDtBD,GADgBxK,ECuBF,CAACkuG,EAAIr3C,IDtBZ,GAAG,GAAK72D,EAAK,GAAG,IAAM,GAAIA,EAAK,GAAG,GAAKA,EAAK,GAAG,IAAM,GCuB3DmuG,EAAKJ,EAAGvjG,EAAE,IACV4jG,EAAK,GAAM,CAACF,EAAI1jG,IAChBkI,EAAK,GAAM,CAACw7F,EAAIC,IACZrjG,KAAKsE,IAAIg/F,EAAK17F,GAEdykE,IACNjiE,EAAO3X,OAAOpR,EAAI,EAAG,EAAGgiH,GACxBF,GAAQ,GAIZ,OAAOA,GCrCJ,SAASI,GAAIC,EAAIjB,EAAIkB,EAAKC,GAC/B,IAAIxmF,EAAQwmF,EAAMF,EAAKA,EACnBG,EAAQ3jG,KAAKsE,IAAI4Y,GAAS,MAAQ,GAAKumF,EAAMD,EAAKjB,GAAMrlF,EAE5D,MAAO,CADSqlF,EAAKoB,EAAQH,EACVG,GCFN,ICDA,cACb,IAMIxlF,EANAztB,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAIX,SAAS+gB,EAAOlgB,GACd,IAAIya,EAAI,EACJ1V,EAAI,EAERC,EAAI,EAEJq9F,EAAK,EAELC,EAAK,EAELf,EAAO3kF,GAAUA,EAAO,GAAKzD,IACzBqoF,EAAO5kF,GAAUA,EAAO,IAAMzD,IAClC0nF,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,KAClCpR,EACF1V,IAAM6mB,EAAK7mB,GAAK0V,EAChBzV,IAAM6mB,EAAK7mB,GAAKyV,EAChB4nF,IAAOz2E,EAAKC,EAAKw2E,GAAM5nF,EACvB6nF,IAAO12E,EAAKA,EAAK02E,GAAM7nF,EAElBmC,IACCgP,EAAK21E,IAAMA,EAAO31E,GAClBA,EAAK41E,IAAMA,EAAO51E,OAI1B,IAAI22E,EAAOP,GAAIj9F,EAAGC,EAAGq9F,EAAIC,GACrBE,EAAQ,aAAeD,EAAM,GAC7BE,EAAYD,EAAM,GAClBJ,EAAQI,EAAM,GACdvnC,EAAK,SAAY9rE,GACnB,OAAOizG,EAAQjzG,EAAIszG,GAEjB9kG,EAAM,CAAC,CAAC4jG,EAAMtmC,EAAGsmC,IAAQ,CAACC,EAAMvmC,EAAGumC,KAMvC,OAJA7jG,EAAIC,EAAIwkG,EACRzkG,EAAIwC,EAAIsiG,EACR9kG,EAAIsjG,QAAUhmC,EACdt9D,EAAI+kG,SAAW3B,GAAc/gG,EAAM7Q,EAAGC,EAAG4V,EAAGi2D,GACrCt9D,EAeT,OAZAuiB,EAAOtD,OAAS,SAAUzL,GACxB,OAAOpxB,UAAUC,QAAU48B,EAASzL,EAAK+O,GAAUtD,GAGrDsD,EAAO/wB,EAAI,SAAU8rE,GACnB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAI/6C,GAAU/wB,GAG/C+wB,EAAO9wB,EAAI,SAAU6rE,GACnB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAI/6C,GAAU9wB,GAGxC8wB,GCjEF,SAAS,GAAO/O,GACrBA,EAAImG,MAAK,SAAU1Z,EAAGuC,GACpB,OAAOvC,EAAIuC,KAEb,IAAIrgB,EAAIqxB,EAAInxB,OAAS,EACrB,OAAOF,EAAI,IAAM,GAAKqxB,EAAIrxB,EAAI,GAAKqxB,EAAIrxB,IAAM,EAAIqxB,EAAI1S,KAAK2V,MAAMt0B,ICmGlE,SAAS6iH,GAAQxzG,GACf,OAAQA,EAAI,EAAIA,EAAIA,EAAIA,GAAKA,EAAIA,EAInC,SAASyzG,GAAepC,EAAI1gH,EAAG0T,GAC7B,IAAIoe,EAAM4uF,EAAG1gH,GACTmX,EAAOzD,EAAS,GAChB0D,EAAQ1D,EAAS,GAAK,EAC1B,KAAI0D,GAASspG,EAAGxgH,QAGhB,KAAOF,EAAImX,GAAQupG,EAAGtpG,GAAS0a,GAAOA,EAAM4uF,EAAGvpG,IAC7CzD,EAAS,KAAOyD,EAChBzD,EAAS,GAAK0D,IACZA,ECnHS,ICDA,cACb,IAMI0lB,EANAztB,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAIX,SAAS0jG,EAAU7iG,GACjB,IAaIlgB,EACA8rC,EACAC,EACA5pB,EAhBA6gG,EAAU,GAAO9iG,EAAM7Q,EAAGC,GAC1B2zG,EAAW,aAAeD,EAAS,GACnCtC,EAAKuC,EAAS,GACdtC,EAAKsC,EAAS,GACdpC,EAAKoC,EAAS,GACdnC,EAAKmC,EAAS,GACdtoF,EAAI+lF,EAAGxgH,OAEPsiH,EAAK,EACLU,EAAK,EACLC,EAAK,EACLZ,EAAK,EACLa,EAAM,EAMV,IAAKpjH,EAAI,EAAGA,EAAI26B,GACdmR,EAAK40E,EAAG1gH,GACR+rC,EAAK40E,EAAG3gH,KAERwiH,KADArgG,EAAK2pB,EAAKA,GACE02E,GAAMxiH,EAClBkjH,IAAO/gG,EAAK2pB,EAAKo3E,GAAMljH,EACvBmjH,IAAOhhG,EAAKA,EAAKghG,GAAMnjH,EACvBuiH,IAAOz2E,EAAKC,EAAKw2E,GAAMviH,EACvBojH,IAAQjhG,EAAK4pB,EAAKq3E,GAAOpjH,EAG3B,IAAIklB,EAAI,EACJm+F,EAAK,EACL5B,EAAO3kF,GAAUA,EAAO,GAAKzD,IAC7BqoF,EAAO5kF,GAAUA,EAAO,IAAMzD,IAClC0nF,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,GACpCs3E,IACAn+F,IAAM6mB,EAAK7mB,GAAKm+F,EAEXvmF,IACCgP,EAAK21E,IAAMA,EAAO31E,GAClBA,EAAK41E,IAAMA,EAAO51E,OAI1B,IAAIw3E,EAAOH,EAAKX,EAAKA,EACjBnjG,EAAImjG,EAAKc,EAAOJ,EAAKA,EACrBplG,GAAKslG,EAAMZ,EAAKD,EAAKW,GAAM7jG,EAC3BgB,GAAKkiG,EAAKe,EAAOF,EAAMF,GAAM7jG,EAC7BS,GAAKhC,EAAI0kG,EACTrnC,EAAK,SAAY9rE,GAEnB,OAAOyO,GADPzO,GAAQwxG,GACOxxG,EAAIgR,EAAIhR,EAAIyQ,EAAIghG,GAG7BjjG,EAAM2jG,GAAUC,EAAMC,EAAMvmC,GAMhC,OALAt9D,EAAIC,EAAIA,EACRD,EAAIwC,EAAIA,EAAI,EAAIvC,EAAI+iG,EACpBhjG,EAAIiC,EAAIA,EAAIO,EAAIwgG,EAAK/iG,EAAI+iG,EAAKA,EAAKC,EACnCjjG,EAAIsjG,QAAUhmC,EACdt9D,EAAI+kG,SAAW3B,GAAc/gG,EAAM7Q,EAAGC,EAAG4V,EAAGi2D,GACrCt9D,EAeT,OAZAklG,EAAUjmF,OAAS,SAAUzL,GAC3B,OAAOpxB,UAAUC,QAAU48B,EAASzL,EAAK0xF,GAAajmF,GAGxDimF,EAAU1zG,EAAI,SAAU8rE,GACtB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAI4nC,GAAa1zG,GAGlD0zG,EAAUzzG,EAAI,SAAU6rE,GACtB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAI4nC,GAAazzG,GAG3CyzG,GCnFM,ICAXQ,GAAiB,CACnBhiD,IPDa,WACb,IAMIzkC,EANAztB,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAIX,SAASmkG,EAAYtjG,GACnB,IAAIya,EAAI,EACJzV,EAAI,EACJu+F,EAAK,EACLlB,EAAK,EACLmB,EAAM,EACNN,EAAM,EACN3B,EAAO3kF,GAAUA,EAAO,GAAKzD,IAC7BqoF,EAAO5kF,GAAUA,EAAO,IAAMzD,IAClC0nF,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,GACpC,IAAI43E,EAAKhlG,KAAK0Z,IAAI0T,GACd1pB,EAAKypB,EAAKC,IACZpR,EACFzV,IAAM6mB,EAAK7mB,GAAKyV,EAChB4nF,IAAOlgG,EAAKkgG,GAAM5nF,EAClByoF,IAAQt3E,EAAKzpB,EAAK+gG,GAAOzoF,EACzB8oF,IAAO13E,EAAK43E,EAAKF,GAAM9oF,EACvB+oF,IAAQrhG,EAAKshG,EAAKD,GAAO/oF,EAEpBmC,IACCgP,EAAK21E,IAAMA,EAAO31E,GAClBA,EAAK41E,IAAMA,EAAO51E,OAI1B,IAAI22E,EAAOP,GAAIK,EAAKr9F,EAAGu+F,EAAKv+F,EAAGw+F,EAAMx+F,EAAGk+F,EAAMl+F,GAC1Cw9F,EAAQ,aAAeD,EAAM,GAC7B3kG,EAAI4kG,EAAM,GACVriG,EAAIqiG,EAAM,GAEd5kG,EAAIa,KAAK4iD,IAAIzjD,GAEb,IAAIq9D,EAAK,SAAY9rE,GACnB,OAAOyO,EAAIa,KAAK4iD,IAAIlhD,EAAIhR,IAEtBwO,EAAM2jG,GAAUC,EAAMC,EAAMvmC,GAMhC,OAJAt9D,EAAIC,EAAIA,EACRD,EAAIwC,EAAIA,EACRxC,EAAIsjG,QAAUhmC,EACdt9D,EAAI+kG,SAAW3B,GAAc/gG,EAAM7Q,EAAGC,EAAG4V,EAAGi2D,GACrCt9D,EAeT,OAZA2lG,EAAY1mF,OAAS,SAAUzL,GAC7B,OAAOpxB,UAAUC,QAAU48B,EAASzL,EAAKmyF,GAAe1mF,GAG1D0mF,EAAYn0G,EAAI,SAAU8rE,GACxB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAIqoC,GAAen0G,GAGpDm0G,EAAYl0G,EAAI,SAAU6rE,GACxB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAIqoC,GAAel0G,GAG7Ck0G,GO/DPpjF,OAAQ,GACRwjF,MJIa,WACb,IAAIv0G,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAEPwkG,EAAY,GAEhB,SAASD,EAAM1jG,GAab,IAZA,IAAI8iG,EAAU,GAAO9iG,EAAM7Q,EAAGC,GAAG,GAC7B2zG,EAAW,aAAeD,EAAS,GACnCtC,EAAKuC,EAAS,GACdtC,EAAKsC,EAAS,GACdpC,EAAKoC,EAAS,GACdnC,EAAKmC,EAAS,GACdtoF,EAAI+lF,EAAGxgH,OACP4jH,EAAKnlG,KAAKyH,IAAI,KAAMy9F,EAAYlpF,IAChCopF,EAAO,IAAInD,aAAajmF,GACxBqpF,EAAY,IAAIpD,aAAajmF,GAC7BspF,EAAgB,IAAIrD,aAAajmF,GAAGvnB,KAAK,GAEpCyuG,GAAQ,IAAKA,GAxBX,GAwB8B,CAGvC,IAFA,IAAInuG,EAAW,CAAC,EAAGowG,EAAK,GAEf9jH,EAAI,EAAGA,EAAI26B,IAAK36B,EAAG,CAY1B,IAXA,IAAI8rC,EAAK40E,EAAG1gH,GACRk9B,EAAKxpB,EAAS,GACdypB,EAAKzpB,EAAS,GACdD,EAAOq4B,EAAK40E,EAAGxjF,GAAMwjF,EAAGvjF,GAAM2O,EAAK5O,EAAKC,EACxC+mF,EAAI,EACJj/F,EAAI,EACJC,EAAI,EACJq9F,EAAK,EACLC,EAAK,EACL2B,EAAQ,EAAIxlG,KAAKsE,IAAIy9F,EAAGjtG,GAAQq4B,GAAM,GAEjCr5B,EAAIyqB,EAAIzqB,GAAK0qB,IAAM1qB,EAAG,CAC7B,IAAI2xG,EAAK1D,EAAGjuG,GACR4xG,EAAK1D,EAAGluG,GACR8oB,EAAIsnF,GAAQlkG,KAAKsE,IAAI6oB,EAAKs4E,GAAMD,GAASF,EAAcxxG,GACvD6xG,EAAMF,EAAK7oF,EACf2oF,GAAK3oF,EACLtW,GAAKq/F,EACLp/F,GAAKm/F,EAAK9oF,EACVgnF,GAAM8B,EAAKC,EACX9B,GAAM4B,EAAKE,EAIb,IAAI7B,EAAOP,GAAIj9F,EAAIi/F,EAAGh/F,EAAIg/F,EAAG3B,EAAK2B,EAAG1B,EAAK0B,GACtCxB,EAAQ,aAAeD,EAAM,GAC7B3kG,EAAI4kG,EAAM,GACVriG,EAAIqiG,EAAM,GAEdqB,EAAK/jH,GAAK8d,EAAIuC,EAAIyrB,EAClBk4E,EAAUhkH,GAAK2e,KAAKsE,IAAI09F,EAAG3gH,GAAK+jH,EAAK/jH,IACrC8iH,GAAepC,EAAI1gH,EAAI,EAAG0T,GAG5B,GA9DS,IA8DLmuG,EACF,MAGF,IAAI0C,EAAiB,GAAOP,GAC5B,GAAIrlG,KAAKsE,IAAIshG,GAlEL,MAkEgC,MAExC,IAAK,IAAYC,EAAKC,EAAb5zF,EAAK,EAAYA,EAAK8J,IAAK9J,EAClC2zF,EAAMR,EAAUnzF,IAAO,EAAI0zF,GAG3BN,EAAcpzF,GAAM2zF,GAAO,EAxErB,OAwEoCC,EAAK,EAAID,EAAMA,GAAOC,EAIpE,OAuCJ,SAAgB/D,EAAIqD,EAAMlD,EAAIC,GAQ5B,IAPA,IAKI/iG,EALA4c,EAAI+lF,EAAGxgH,OACP2d,EAAM,GACN7d,EAAI,EACJm+F,EAAM,EACNumB,EAAO,GAGJ1kH,EAAI26B,IAAK36B,EACd+d,EAAI2iG,EAAG1gH,GAAK6gH,EAER6D,EAAK,KAAO3mG,EAEd2mG,EAAK,KAAOX,EAAK/jH,GAAK0kH,EAAK,MAAQvmB,GAGnCA,EAAM,EACNumB,EAAK,IAAM5D,EACX4D,EAAO,CAAC3mG,EAAGgmG,EAAK/jH,IAChB6d,EAAI5M,KAAKyzG,IAKb,OADAA,EAAK,IAAM5D,EACJjjG,EA/DE8mG,CAAOjE,EAAIqD,EAAMlD,EAAIC,GAe9B,OAZA8C,EAAMC,UAAY,SAAUC,GAC1B,OAAO7jH,UAAUC,QAAU2jH,EAAYC,EAAIF,GAASC,GAGtDD,EAAMv0G,EAAI,SAAU8rE,GAClB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAIyoC,GAASv0G,GAG9Cu0G,EAAMt0G,EAAI,SAAU6rE,GAClB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAIyoC,GAASt0G,GAGvCs0G,GI7FPvrF,IHJa,WACb,IAMIyE,EANAztB,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAIX,SAASulG,EAAY1kG,GACnB,IAAIya,EAAI,EACJ1V,EAAI,EACJC,EAAI,EACJq9F,EAAK,EACLC,EAAK,EACLf,EAAO3kF,GAAUA,EAAO,GAAKzD,IAC7BqoF,EAAO5kF,GAAUA,EAAO,IAAMzD,IAClC0nF,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,GACpC,IAAI84E,EAAKlmG,KAAK0Z,IAAIyT,KAChBnR,EACF1V,IAAM4/F,EAAK5/F,GAAK0V,EAChBzV,IAAM6mB,EAAK7mB,GAAKyV,EAChB4nF,IAAOsC,EAAK94E,EAAKw2E,GAAM5nF,EACvB6nF,IAAOqC,EAAKA,EAAKrC,GAAM7nF,EAElBmC,IACCgP,EAAK21E,IAAMA,EAAO31E,GAClBA,EAAK41E,IAAMA,EAAO51E,OAI1B,IAAI22E,EAAOP,GAAIj9F,EAAGC,EAAGq9F,EAAIC,GACrBE,EAAQ,aAAeD,EAAM,GAC7BE,EAAYD,EAAM,GAClBJ,EAAQI,EAAM,GACdvnC,EAAK,SAAY9rE,GACnB,OAAOizG,EAAQ3jG,KAAK0Z,IAAIhpB,GAAKszG,GAE3B9kG,EAAM2jG,GAAUC,EAAMC,EAAMvmC,GAMhC,OAJAt9D,EAAIC,EAAIwkG,EACRzkG,EAAIwC,EAAIsiG,EACR9kG,EAAIsjG,QAAUhmC,EACdt9D,EAAI+kG,SAAW3B,GAAc/gG,EAAM7Q,EAAGC,EAAG4V,EAAGi2D,GACrCt9D,EAeT,OAZA+mG,EAAY9nF,OAAS,SAAUzL,GAC7B,OAAOpxB,UAAUC,QAAU48B,EAASzL,EAAKuzF,GAAe9nF,GAG1D8nF,EAAYv1G,EAAI,SAAU8rE,GACxB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAIypC,GAAev1G,GAGpDu1G,EAAYt1G,EAAI,SAAU6rE,GACxB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAIypC,GAAet1G,GAG7Cs1G,GGtDPE,KCEa,WACb,IAOIhoF,EAPAztB,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAEPkR,EAAQ,EAGZ,SAASw0F,EAAW7kG,GAElB,GAAc,IAAVqQ,EAAa,CACf,IAAIltB,EAAI,KAASgM,EAAEA,GAAGC,EAAEA,GAAGwtB,OAAOA,EAA1B,CAAkC5c,GAI1C,OAHA7c,EAAE2hH,aAAe,CAAC3hH,EAAEgd,EAAGhd,EAAEya,UAClBza,EAAEya,SACFza,EAAEgd,EACFhd,EAGT,GAAc,IAAVktB,EAAa,CACf,IAAI00F,EAAK,KAAO51G,EAAEA,GAAGC,EAAEA,GAAGwtB,OAAOA,EAAxB,CAAgC5c,GAMzC,OAJA+kG,EAAGD,aAAe,CAACC,EAAGnlG,EAAGmlG,EAAG5kG,EAAG4kG,EAAGnnG,UAC3BmnG,EAAGnnG,SACHmnG,EAAG5kG,SACH4kG,EAAGnlG,EACHmlG,EAGT,IAwBIjlH,EAAGuhB,EAAGxB,EAAGhC,EAAG+B,EAxBZkjG,EAAU,GAAO9iG,EAAM7Q,EAAGC,GAC1B2zG,EAAW,aAAeD,EAAS,GACnCtC,EAAKuC,EAAS,GACdtC,EAAKsC,EAAS,GACdpC,EAAKoC,EAAS,GACdnC,EAAKmC,EAAS,GACdtoF,EAAI+lF,EAAGxgH,OACPglH,EAAM,GACNC,EAAM,GACN1yG,EAAI8d,EAAQ,EAEZrL,EAAI,EACJm+F,EAAK,EACL5B,EAAO3kF,GAAUA,EAAO,GAAKzD,IAC7BqoF,EAAO5kF,GAAUA,EAAO,IAAMzD,IAYlC,IAXA0nF,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,KAClCs3E,EACFn+F,IAAM6mB,EAAK7mB,GAAKm+F,EAEXvmF,IACCgP,EAAK21E,IAAMA,EAAO31E,GAClBA,EAAK41E,IAAMA,EAAO51E,OAKrB9rC,EAAI,EAAGA,EAAIyS,IAAKzS,EAAG,CACtB,IAAK+f,EAAI,EAAGhC,EAAI,EAAGgC,EAAI4a,IAAK5a,EAC1BhC,GAAKY,KAAKyZ,IAAIsoF,EAAG3gG,GAAI/f,GAAK2gH,EAAG5gG,GAM/B,IAHAmlG,EAAIj0G,KAAK8M,GACT+B,EAAI,IAAI8gG,aAAanuG,GAEhB8O,EAAI,EAAGA,EAAI9O,IAAK8O,EAAG,CACtB,IAAKxB,EAAI,EAAGhC,EAAI,EAAGgC,EAAI4a,IAAK5a,EAC1BhC,GAAKY,KAAKyZ,IAAIsoF,EAAG3gG,GAAI/f,EAAIuhB,GAG3BzB,EAAEyB,GAAKxD,EAGTonG,EAAIl0G,KAAK6O,GAGXqlG,EAAIl0G,KAAKi0G,GAET,IAAIE,EAkER,SAA6Br9F,GAC3B,IAEI/nB,EAAGuhB,EAAG9O,EAAGkH,EAAG9Y,EAFZ85B,EAAI5S,EAAO7nB,OAAS,EACpBklH,EAAO,GAGX,IAAKplH,EAAI,EAAGA,EAAI26B,IAAK36B,EAAG,CAGtB,IAFA2Z,EAAI3Z,EAECuhB,EAAIvhB,EAAI,EAAGuhB,EAAIoZ,IAAKpZ,EACnB5C,KAAKsE,IAAI8E,EAAO/nB,GAAGuhB,IAAM5C,KAAKsE,IAAI8E,EAAO/nB,GAAG2Z,MAC9CA,EAAI4H,GAIR,IAAK9O,EAAIzS,EAAGyS,EAAIkoB,EAAI,IAAKloB,EACvB5R,EAAIknB,EAAOtV,GAAGzS,GACd+nB,EAAOtV,GAAGzS,GAAK+nB,EAAOtV,GAAGkH,GACzBoO,EAAOtV,GAAGkH,GAAK9Y,EAGjB,IAAK0gB,EAAIvhB,EAAI,EAAGuhB,EAAIoZ,IAAKpZ,EACvB,IAAK9O,EAAIkoB,EAAGloB,GAAKzS,EAAGyS,IAClBsV,EAAOtV,GAAG8O,IAAMwG,EAAOtV,GAAGzS,GAAK+nB,EAAO/nB,GAAGuhB,GAAKwG,EAAO/nB,GAAGA,GAK9D,IAAKuhB,EAAIoZ,EAAI,EAAGpZ,GAAK,IAAKA,EAAG,CAG3B,IAFA1gB,EAAI,EAEC4R,EAAI8O,EAAI,EAAG9O,EAAIkoB,IAAKloB,EACvB5R,GAAKknB,EAAOtV,GAAG8O,GAAK6jG,EAAK3yG,GAG3B2yG,EAAK7jG,IAAMwG,EAAO4S,GAAGpZ,GAAK1gB,GAAKknB,EAAOxG,GAAGA,GAG3C,OAAO6jG,EAvGMC,CAAoBF,GAC3BhqC,EAAK,SAAY9rE,GACnBA,GAAKwxG,EACL,IAAIvxG,EAAIwxG,EAAKsE,EAAK,GAAKA,EAAK,GAAK/1G,EAAI+1G,EAAK,GAAK/1G,EAAIA,EAEnD,IAAKrP,EAAI,EAAGA,EAAIyS,IAAKzS,EACnBsP,GAAK81G,EAAKplH,GAAK2e,KAAKyZ,IAAI/oB,EAAGrP,GAG7B,OAAOsP,GAELuO,EAAM2jG,GAAUC,EAAMC,EAAMvmC,GAKhC,OAHAt9D,EAAImnG,aAyBR,SAAkBvyG,EAAGqL,EAAGzO,EAAGC,GACzB,IACItP,EAAGuhB,EAAGxD,EAAG+B,EADTV,EAAInB,MAAMxL,GAGd,IAAKzS,EAAI,EAAGA,EAAIyS,IAAKzS,EACnBof,EAAEpf,GAAK,EAIT,IAAKA,EAAIyS,EAAI,EAAGzS,GAAK,IAAKA,EAKxB,IAJA+d,EAAID,EAAE9d,GACN8f,EAAI,EACJV,EAAEpf,IAAM+d,EAEHwD,EAAI,EAAGA,GAAKvhB,IAAKuhB,EACpBzB,IAAM9f,EAAI,EAAIuhB,GAAKA,EAEnBnC,EAAEpf,EAAIuhB,IAAMxD,EAAIY,KAAKyZ,IAAI/oB,EAAGkS,GAAKzB,EAMrC,OADAV,EAAE,IAAM9P,EACD8P,EAhDckmG,CAAS7yG,EAAG2yG,GAAOvE,EAAIC,GAC1CjjG,EAAIsjG,QAAUhmC,EACdt9D,EAAI+kG,SAAW3B,GAAc/gG,EAAM7Q,EAAGC,EAAG4V,EAAGi2D,GACrCt9D,EAmBT,OAhBAknG,EAAWjoF,OAAS,SAAUzL,GAC5B,OAAOpxB,UAAUC,QAAU48B,EAASzL,EAAK0zF,GAAcjoF,GAGzDioF,EAAW11G,EAAI,SAAU8rE,GACvB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAI4pC,GAAc11G,GAGnD01G,EAAWz1G,EAAI,SAAU6rE,GACvB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAI4pC,GAAcz1G,GAGnDy1G,EAAWx0F,MAAQ,SAAUoK,GAC3B,OAAO16B,UAAUC,QAAUqwB,EAAQoK,EAAGoqF,GAAcx0F,GAG/Cw0F,GDjHP3sF,IDNa,WACb,IAMI0E,EANAztB,EAAI,SAAWgQ,GACjB,OAAOA,EAAE,IAEP/P,EAAI,SAAW+P,GACjB,OAAOA,EAAE,IAIX,SAASoe,EAAMvd,GACb,IAAIya,EAAI,EACJ1V,EAAI,EACJC,EAAI,EACJq9F,EAAK,EACLC,EAAK,EACL+C,EAAK,EACL9D,EAAO3kF,GAAUA,EAAO,GAAKzD,IAC7BqoF,EAAO5kF,GAAUA,EAAO,IAAMzD,IAClC0nF,GAAY7gG,EAAM7Q,EAAGC,GAAG,SAAUw8B,EAAIC,GACpC,IAAI84E,EAAKlmG,KAAK0Z,IAAIyT,GACd63E,EAAKhlG,KAAK0Z,IAAI0T,KAChBpR,EACF1V,IAAM4/F,EAAK5/F,GAAK0V,EAChBzV,IAAMy+F,EAAKz+F,GAAKyV,EAChB4nF,IAAOsC,EAAKlB,EAAKpB,GAAM5nF,EACvB6nF,IAAOqC,EAAKA,EAAKrC,GAAM7nF,EACvB4qF,IAAOx5E,EAAKw5E,GAAM5qF,EAEbmC,IACCgP,EAAK21E,IAAMA,EAAO31E,GAClBA,EAAK41E,IAAMA,EAAO51E,OAI1B,IAAI22E,EAAOP,GAAIj9F,EAAGC,EAAGq9F,EAAIC,GACrBE,EAAQ,aAAeD,EAAM,GAC7B3kG,EAAI4kG,EAAM,GACVriG,EAAIqiG,EAAM,GAEd5kG,EAAIa,KAAK4iD,IAAIzjD,GAEb,IAAIq9D,EAAK,SAAY9rE,GACnB,OAAOyO,EAAIa,KAAKyZ,IAAI/oB,EAAGgR,IAErBxC,EAAM2jG,GAAUC,EAAMC,EAAMvmC,GAMhC,OAJAt9D,EAAIC,EAAIA,EACRD,EAAIwC,EAAIA,EACRxC,EAAIsjG,QAAUhmC,EACdt9D,EAAI+kG,SAAW3B,GAAc/gG,EAAM7Q,EAAGC,EAAGi2G,EAAIpqC,GACtCt9D,EAeT,OAZA4f,EAAMX,OAAS,SAAUzL,GACvB,OAAOpxB,UAAUC,QAAU48B,EAASzL,EAAKoM,GAASX,GAGpDW,EAAMpuB,EAAI,SAAU8rE,GAClB,OAAOl7E,UAAUC,QAAUmP,EAAI8rE,EAAI19C,GAASpuB,GAG9CouB,EAAMnuB,EAAI,SAAU6rE,GAClB,OAAOl7E,UAAUC,QAAUoP,EAAI6rE,EAAI19C,GAASnuB,GAGvCmuB,GC1DP+nF,KAAM,IAOR,IAkMe,GAhMf,WACE,SAASnG,EAAS1vG,GAgBhBlP,KAAKuO,QAAU,mBAAQ,GAfF,CACnBpI,KAAM,SACN5B,MAAO,CACLuO,OAAQ,UACRJ,UAAW,EACXmB,QAAS,GACT20F,SAAU,QACVpV,QAAS,SAEX4xB,gBAAgB,EAChBC,gBAAiB,CACftyG,KAAM,OACNkB,QAAS,KAG8B3E,GAC3ClP,KAAK+N,KAAO/N,KAAKuO,QAAQR,KACzB/N,KAAKoP,OA0KP,OAvKAwvG,EAASh/G,UAAUwP,KAAO,WAExB,IAAI5J,EAAKxF,KAAKuO,QAAQ0wG,YAClBn/E,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OACZtgB,EAAOja,EAAGia,KACVylG,EAAMpC,GAAe9iH,KAAKuO,QAAQpI,QAAQyI,GAAE,SAAUgQ,GACxD,OAAOA,EAAEkhB,MACRjxB,GAAE,SAAU+P,GACb,OAAOA,EAAEmhB,MAEX//B,KAAKyf,KAAOzf,KAAKikG,YAAYihB,EAAIzlG,IAEjCzf,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,mBAAmBswB,YAGpDqxE,EAASh/G,UAAU+P,OAAS,WAC1B,IAAIu3B,EAASlnC,KAAK+N,KAAKkP,IAAI,UACvBkoG,EAAcj+E,EAAOlnC,KAAKuO,QAAQ0wG,YAAYn/E,QAC9CslF,EAAcl+E,EAAOlnC,KAAKuO,QAAQ0wG,YAAYl/E,QAC9CzZ,EAAQtmB,KAAK+N,KAAKkP,IAAI,SACtBooG,EAAgBrlH,KAAKyf,KAAK4lG,cAE1BC,EAAc,GAAS,UACvBz1D,EAAS7vD,KAAKulH,YAAYJ,EAAaE,EAAe,KACtD3pD,EAAS,IAAI4pD,EAAY,CAC3B71F,IAAKogC,EAAOpgC,IACZ9J,IAAKkqC,EAAOlqC,IACZ2R,KAAM6tF,EAAY7tF,OAEhBw4B,EAAS9vD,KAAKulH,YAAYH,EAAaC,EAAe,KACtD73F,EAAS,IAAI83F,EAAY,CAC3B71F,IAAKqgC,EAAOrgC,IACZ9J,IAAKmqC,EAAOnqC,IACZ2R,KAAM8tF,EAAY9tF,OAGpB,GAAIt3B,KAAKuO,QAAQy2G,eAAgB,CAC/B,IAAIQ,EAAiBxlH,KAAKylH,kBAAkB/pD,EAAQluC,EAAQlH,GAC5DtmB,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,oBAAS,CACdjI,KAAMopG,GACLxlH,KAAKuO,QAAQ02G,mBAKpB,IAEI7oG,EAAO,GAFEpc,KAAK0lH,mBAAmBhqD,EAAQluC,EAAQlH,IAEpB,EADhB,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,KAE9BtmB,KAAKka,MAAQla,KAAK0O,UAAUge,SAAS,OAAQ,CAC3CrI,MAAO,oBAAS,CACdjI,KAAMA,GACLpc,KAAKuO,QAAQhK,UAIpBq6G,EAASh/G,UAAUmQ,MAAQ,WACrB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInB6uG,EAASh/G,UAAUoQ,QAAU,WACvBhQ,KAAK0O,WACP1O,KAAK0O,UAAUsB,WAInB4uG,EAASh/G,UAAUqkG,YAAc,SAAUxkF,GACzC,IAAIkmG,EAAY,GACZC,EAAa,GAajB,OAZA,gBAAKnmG,GAAM,SAAUb,GACnB+mG,EAAUn1G,KAAK,CACb5B,EAAGgQ,EAAE,GACL/P,EAAG+P,EAAE,KAEP,IAzGQve,EAAG65B,EAyGP2rF,GAzGIxlH,EAyGQof,EAAK0iG,SAzGVjoF,EAyGoBtb,EAAE,GAxGD,KAA7BV,KAAKmE,KAAKhiB,GAAK,EAAIA,GAAK65B,IAyG3B0rF,EAAWp1G,KAAK,CACd5B,EAAGgQ,EAAE,GACL21D,GAAI31D,EAAE,GAAKinG,EACXxkG,GAAIzC,EAAE,GAAKinG,OAGR,CACLR,cAAeM,EACfG,eAAgBF,IAIpBhH,EAASh/G,UAAU8lH,mBAAqB,SAAUhqD,EAAQluC,EAAQlH,GAChE,IAAIgC,EAAS,GAWb,OAVA,gBAAKtoB,KAAKyf,KAAK4lG,eAAe,SAAUzmG,GACtC,IAAImnG,EAASrqD,EAAO/tC,MAAM/O,EAAEhQ,GACxB08F,EAAS99E,EAAOG,MAAM/O,EAAE/P,GACxBD,EAAI0X,EAAMpV,MAAMtC,EAAI0X,EAAM9hB,MAAQuhH,EAClCl3G,EAAIyX,EAAMpV,MAAMrC,EAAIyX,EAAMxX,OAASw8F,EACvChjF,EAAO9X,KAAK,CACV5B,EAAGA,EACHC,EAAGA,OAGAyZ,GAGTs2F,EAASh/G,UAAU6lH,kBAAoB,SAAU/pD,EAAQluC,EAAQlH,GAC/D,IAAI0/F,EAAc,GACdC,EAAc,GACd7pG,EAAO,GACX,gBAAKpc,KAAKyf,KAAKqmG,gBAAgB,SAAUlnG,GACvC,IAAImnG,EAASrqD,EAAO/tC,MAAM/O,EAAEhQ,GACxBs3G,EAAU14F,EAAOG,MAAM/O,EAAE21D,IACzB4xC,EAAU34F,EAAOG,MAAM/O,EAAEyC,IACzBzS,EAAI0X,EAAMpV,MAAMtC,EAAI0X,EAAM9hB,MAAQuhH,EAClCxxC,EAAKjuD,EAAMpV,MAAMrC,EAAIyX,EAAMxX,OAASo3G,EACpC7kG,EAAKiF,EAAMpV,MAAMrC,EAAIyX,EAAMxX,OAASq3G,EACxCH,EAAYx1G,KAAK,CACf5B,EAAGA,EACHC,EAAG0lE,IAEL0xC,EAAYz1G,KAAK,CACf5B,EAAGA,EACHC,EAAGwS,OAIP,IAAK,IAAI9hB,EAAI,EAAGA,EAAIymH,EAAYvmH,OAAQF,IAAK,CAC3C,IAAIif,EAAa,IAANjf,EAAU,IAAM,IACvBc,EAAI2lH,EAAYzmH,GAEf21B,MAAM70B,EAAEuO,IAAOsmB,MAAM70B,EAAEwO,IAC1BuN,EAAK5L,KAAK,CAACgO,EAAMne,EAAEuO,EAAGvO,EAAEwO,IAI5B,IAAK,IAAIiS,EAAImlG,EAAYxmH,OAAS,EAAGqhB,EAAI,EAAGA,IAAK,CAC3CzgB,EAAI4lH,EAAYnlG,GAEfoU,MAAM70B,EAAEuO,IAAOsmB,MAAM70B,EAAEwO,IAC1BuN,EAAK5L,KAAK,CAAC,IAAKnQ,EAAEuO,EAAGvO,EAAEwO,IAI3B,OAAOuN,GAGTwiG,EAASh/G,UAAU2lH,YAAc,SAAUa,EAAWf,EAAenlF,GAEnE,IAAIzQ,EAAM22F,EAAU32F,IAChB9J,EAAMygG,EAAUzgG,IAChBngB,EAAKxF,KAAKuO,QAAQ0wG,YAClBx/F,EAAOja,EAAGia,KACVqgB,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OACZ6H,EAAgB,MAAR1H,EAAcJ,EAASC,EAC/BsmF,EAAU,iBAAM5mG,EAAMmoB,GAAOA,GAC7B0+E,EAAU,iBAAM7mG,EAAMmoB,GAAOA,GAC7B4Y,GAAY/wB,EAAM42F,IAAYC,EAAUD,GACxC5lE,GAAY96B,EAAM2gG,IAAYA,EAAUD,GACxCE,EAAW,iBAAMlB,EAAenlF,GAAKA,GACrCsmF,EAAW,iBAAMnB,EAAenlF,GAAKA,GACzC,MAAO,CACLzQ,IAAK82F,EAAW/lE,GAAYgmE,EAAWD,GACvC5gG,IAAK6gG,EAAW/lE,GAAY+lE,EAAWD,KAIpC3H,EA7LT,GEVI,GAAc,CAChB/yE,QAAS,SAEP,GAAgB,CAClBt4B,MAAO,SAGL,GAEJ,SAAUtO,GAGR,SAASwhH,IACP,IAAIvhH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,UACNjB,EAkLT,OAxLA,qBAAUuhH,EAAcxhH,GASxBwhH,EAAa9iB,kBAAoB,WAC/B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDiqG,UAAW,EACX76C,WAAY,CACVt7C,cAAe,EACflB,YAAa,GACbiB,QAAS,KAEX6pD,MAAO,CACLroD,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,IAGb4mF,MAAO,CACLvuF,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,IAGbzE,QAAS,CACPyE,SAAS,EAETgjD,OAAQ,KACRnxB,WAAY,CACV1oC,KAAM,SAGV8O,MAAO,CACL+H,SAAS,EACTxG,SAAU,OAEZ0D,MAAO,YAIXusG,EAAa7mH,UAAUu/F,YAAc,WACnCl6F,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,MAE9BA,KAAKuO,QAAQm4G,UAAY1mH,KAAKuO,QAAQm4G,SAAS1pG,UAAYhd,KAAK0mH,WAC9D1mH,KAAK0mH,UACP1mH,KAAK0mH,SAAS12G,UAGhBhQ,KAAK0mH,SAAW,IAAI,GAAS,oBAAS,CACpC34G,KAAM/N,KAAK+N,KACXkxG,YAAaj/G,KAAKuO,SACjBvO,KAAKuO,QAAQm4G,WAChB1mH,KAAK0mH,SAAS/2G,UAGZ3P,KAAKuO,QAAQo3G,WAAa3lH,KAAKuO,QAAQo3G,UAAU3oG,UACnDhd,KAAK2lH,UAAY,IAAI,GAAU,oBAAS,CACtC53G,KAAM/N,KAAK+N,KACXkxG,YAAaj/G,KAAKuO,SACjBvO,KAAKuO,QAAQo3G,YAChB3lH,KAAK2lH,UAAUh2G,WAInB82G,EAAa7mH,UAAUoQ,QAAU,WAC3BhQ,KAAK0mH,WACP1mH,KAAK0mH,SAAS12G,UACdhQ,KAAK0mH,SAAW,MAGd1mH,KAAK2lH,YACP3lH,KAAK2lH,UAAU31G,UACfhQ,KAAK2lH,UAAY,MAGnB1gH,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCymH,EAAa7mH,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACrD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBsgH,EAAa7mH,UAAU+tB,MAAQ,WAC7B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GAGbA,EAAOzmC,EAAMq/B,QAAU,GAEnB,OAAMr/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMq/B,QAASr/B,EAAMi9D,OAK3Cx2B,EAAOzmC,EAAMs/B,QAAU,GAEnB,OAAMt/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMs/B,QAASt/B,EAAMmjG,OAG3C5jG,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9BymH,EAAa7mH,UAAU0mB,MAAQ,aAE/BmgG,EAAa7mH,UAAU6Z,WAAa,aAEpCgtG,EAAa7mH,UAAUmkG,YAAc,WACnC,IAAIz7E,EAASiiF,GAAQ,QAAS,SAAU,CACtC36D,KAAM5vC,OAERA,KAAKsoB,OAASA,EAEVtoB,KAAKuO,QAAQ0G,OAASjV,KAAKuO,QAAQ0G,MAAM+H,UAC3Chd,KAAKsoB,OAAOrT,MAAQjV,KAAKw+G,gBAGvBx+G,KAAKuO,QAAQgK,SAAWvY,KAAKuO,QAAQgK,QAAQyE,UAC/Chd,KAAKsoB,OAAO/P,QAAUvY,KAAK2mH,iBAC3B3mH,KAAK2kG,UAAU,UAAW,oBAAS,CACjChwF,WAAW,GACV3U,KAAKuO,QAAQgK,WAGlBvY,KAAK2kG,UAAU,UAAWr8E,IAG5Bm+F,EAAa7mH,UAAUorB,UAAY,WACjC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAIR,IAFZA,KAAKuO,QAEPyc,YAERhrB,KAAKsoB,OAAO9L,SAAU,IAI1BiqG,EAAa7mH,UAAUiS,YAAc,SAAUC,GAE7C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM8R,GAAe,IAGzD20G,EAAa7mH,UAAU4+G,aAAe,WACpC,IAAI/9G,EAAQT,KAAKuO,QACb0G,EAAQxU,EAAMwU,MAElB,QAAIA,IAA2B,IAAlBA,EAAM+H,UAIDk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,eACX1W,OAAQ,CAACp2D,EAAMs/B,QACfvpB,SAAU,QACVxB,OAAQ,GACPC,KAILwxG,EAAa7mH,UAAU+mH,eAAiB,WACtC,IAAIlmH,EAAQT,KAAKuO,QACjB,MAAO,CACLsoD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,UAI1B0mF,EAzLT,CA0LE,IAEa,MACfxf,GAAiB,UAAW,IC1M5B,IAAI,GAEJ,SAAUhiG,GAGR,SAAS2hH,IACP,IAAI1hH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,SACNjB,EAiCT,OAvCA,qBAAU0hH,EAAa3hH,GASvB2hH,EAAYjjB,kBAAoB,WAC9B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDiqG,UAAW,CAAC,EAAG,IACf76C,WAAY,CACVt7C,cAAe,EACflB,YAAa,EACbiB,QAAS,IAEXoB,MAAO,CACLuB,SAAU,aAKhBowG,EAAYhnH,UAAUyX,OAAS,WAC7B,IAAI7R,EAEJP,EAAOrF,UAAUyX,OAAOvX,KAAKE,MAI7BA,KAAK2kG,UAAU,UAAW,CACxB9tC,QAASrxD,EAAK,GAAIA,EAAGxF,KAAKuO,QAAQy7F,YAAa,EAAOxkG,MAI1DohH,EAAYhnH,UAAUiS,YAAc,WAClC5M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAGnC4mH,EAxCT,CAyCE,IAEa,MACf3f,GAAiB,SAAU,KC9C3B,SAAUhiG,GAGR,SAAS4hH,IACP,OAAkB,OAAX5hH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU6mH,EAAQ5hH,GAMlB4hH,EAAOjnH,UAAU0nG,aAAe,SAAU7mG,GACxC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,SAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C4N,EAAOljB,kBAAoB,GAAYA,mBAfzC,CAiBE,ICjBF,SAAU1+F,GAGR,SAAS6hH,IACP,OAAkB,OAAX7hH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU8mH,EAAS7hH,GAMnB6hH,EAAQlnH,UAAU0nG,aAAe,SAAU7mG,GACzC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,UAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C6N,EAAQnjB,kBAAoB,GAAaA,kBAf3C,CAiBE,IDnBF,IEAI,GAEJ,SAAU1+F,GAGR,SAAS8hH,IACP,IAAI7hH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,cACNjB,EA4BT,OAlCA,qBAAU6hH,EAAkB9hH,GAS5B8hH,EAAiBpjB,kBAAoB,WACnC,OAAO,mBAAQ,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACtD4jG,MAAO,CACLjiG,MAAO,CACLqb,SAAS,OAMjB+pG,EAAiBnnH,UAAUmjG,mBAAqB,WAC9C,OAAO/iG,KAAK0jG,gBAAgBX,mBAAmB,WAGjDgkB,EAAiBnnH,UAAUmkG,YAAc,WACvC9+F,EAAOrF,UAAUmkG,YAAYjkG,KAAKE,OAGpC+mH,EAAiBnnH,UAAU2+G,aAAe,SAAU7hG,GAClDA,EAAOo1D,OAAS,CAAC,CACf3rE,KAAM,QACNs7B,YAAa,MAIVslF,EAnCT,CAoCE,IAEa,MACf9f,GAAiB,cAAe,KCvChC,SAAUhiG,GAGR,SAAS+hH,IACP,OAAkB,OAAX/hH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUgnH,EAAa/hH,GAMvB+hH,EAAYpnH,UAAU0nG,aAAe,SAAU7mG,GAC7C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,cAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C+N,EAAYrjB,kBAAoB,GAAiBA,kBAfnD,CAiBE,ICjBF,SAAS,GAAYzpF,GACnB,IAAIohG,EAAe,GACfh1F,EAAQpM,EAAM+C,IAAI,SAClBqL,EAASpO,EAAM+C,IAAI,UAAUqL,OAMjC,OAJA,QAAOA,GAAQ,SAAUjoB,GACvBi7G,EAAa9qG,KAAK8V,EAAMoH,aAAartB,OAGhCi7G,EAeT,IAoSe,GAlSf,WACE,SAAS2L,EAAc/3G,GACrBlP,KAAKknH,MAAQ,GACblnH,KAAKmnH,MAAQ,GACbnnH,KAAKonH,WAAa,GAClBpnH,KAAKqnH,WAAa,GAElB,UAASrnH,KAAMkP,GAEflP,KAAKysC,QAsRP,OAnRAw6E,EAAcrnH,UAAUkQ,KAAO,WAC7B,IAAI5K,EAAQlF,KAERsnH,EAAgBtnH,KAAKunH,oBAEzB,QAAOD,GAAe,SAAUpxG,EAAQjE,GAClCiE,EAAOzW,OAAS,GAClByF,EAAMsiH,gBAAgBtxG,EAAQjE,MAI9BjS,KAAKqgE,UACPrgE,KAAKynH,kBACIznH,KAAKgrB,WAEdhrB,KAAK0nH,qBAITT,EAAcrnH,UAAUmQ,MAAQ,WAC1B/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,QAGjB/P,KAAKknH,MAAQ,GACblnH,KAAKmnH,MAAQ,IAGfF,EAAcrnH,UAAUk8G,QAAU,WAC5B97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,UAInB82G,EAAcrnH,UAAUihE,SAAW,SAAUS,EAAOmX,GACpC,WAAVnX,GACFthE,KAAKwuE,UAAUiK,GAGH,aAAVnX,GACFthE,KAAK2nH,YAAYlvC,GAGL,aAAVnX,GACFthE,KAAKuvE,YAAYkJ,IAIrBwuC,EAAcrnH,UAAU6sC,MAAQ,WAC9B,IAAIvnC,EAAQlF,KAER4N,EAAQ5N,KAAK+N,KAAKkP,IAAI,mBAC1Bjd,KAAK0O,UAAYd,EAAM2/B,WACvB,IAAIoB,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3B2qG,EAAY,IAAI,QAAK,CACvBvjG,MAAO,CACL7f,MAAOmqC,EAAWnqC,MAClBsK,OAAQ6/B,EAAW7/B,OACnBF,EAAG+/B,EAAWpmB,KACd1Z,EAAG8/B,EAAWlmB,QAGlBzoB,KAAK0O,UAAU0Z,KAAK,OAAQw/F,GAC5B5nH,KAAK8P,OACL9P,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,YAIVk3G,EAAcrnH,UAAU2nH,kBAAoB,WAC1C,IAAIriH,EAAQlF,KAGRsuB,EAAStuB,KAAK+N,KAAKkP,IAAI,UAAUjd,KAAK4nC,OAAOtZ,OAE7CpY,EADWlW,KAAK+N,KAAKkP,IAAI,YAAY,GACnBmO,YAElBqpB,EAAS,GAcb,OAZA,QAAOnmB,GAAQ,SAAUhR,GACvBm3B,EAAOn3B,GAAK,MAId,QAAOpH,GAAQ,SAAUgE,GACvB,IAEIva,EAFSua,EAAM+C,IAAI,UAAUm+C,QAEhBl2D,EAAM0iC,OACvB6M,EAAO90C,GAAK6Q,KAAK0J,MAGZu6B,GAGTwyE,EAAcrnH,UAAU4nH,gBAAkB,SAAUtxG,EAAQjE,GAE1D,IAAI02C,EAAczyC,EAAO,GAAGkS,KAAK,QACjCpoB,KAAKonH,WAAWn1G,GAAQjS,KAAK6nH,eAAel/D,EAAa,QACzD3oD,KAAKqnH,WAAWp1G,GAAQjS,KAAK6nH,eAAel/D,EAAa,QAEzD,IAAK,IAAIppD,EAAI,EAAGA,EAAI2W,EAAOzW,OAAS,EAAGF,IAAK,CAC1C,IAAIsqE,EAAU,GAAY3zD,EAAO3W,IAC7B+gC,EAAO,GAAYpqB,EAAO3W,EAAI,IAE9B23F,EAAY,OAAM,GAAIl3F,KAAKonH,WAAWn1G,IAEtCuH,EAAY,OAAM,GAAIxZ,KAAKqnH,WAAWp1G,IAEtCjS,KAAKqgE,YACP62B,EAAUrjF,QAAU,EACpB2F,EAAU3F,QAAU,GAGtB,IAAIpB,EAAOzS,KAAK0O,UAAUge,SAAS,OAAQ,CACzCrI,MAAO,OAAM,GAAI6yE,EAAW,CAC1B96E,KAAM,CAAC,CAAC,IAAKytD,EAAQ,GAAGj7D,EAAGi7D,EAAQ,GAAGh7D,GAAI,CAAC,IAAKyxB,EAAK,GAAG1xB,EAAG0xB,EAAK,GAAGzxB,GAAI,CAAC,IAAKyxB,EAAK,GAAG1xB,EAAG0xB,EAAK,GAAGzxB,GAAI,CAAC,IAAKg7D,EAAQ,GAAGj7D,EAAGi7D,EAAQ,GAAGh7D,MAErIoD,KAAM,kBAEJmB,EAAOpT,KAAK0O,UAAUge,SAAS,OAAQ,CACzCrI,MAAO,OAAM,GAAI7K,EAAW,CAC1B4C,KAAM,CAAC,CAAC,IAAKytD,EAAQ,GAAGj7D,EAAGi7D,EAAQ,GAAGh7D,GAAI,CAAC,IAAKyxB,EAAK,GAAG1xB,EAAG0xB,EAAK,GAAGzxB,MAErEoD,KAAM,kBAGJ+zD,EAAa9vD,EAAO3W,GAAG0d,IAAI,UAAUm+C,QAEzC3oD,EAAKpC,IAAI,OAAQ21D,GACjB5yD,EAAK/C,IAAI,OAAQ21D,GACjBhmE,KAAKknH,MAAM12G,KAAKiC,GAChBzS,KAAKmnH,MAAM32G,KAAK4C,KAIpB6zG,EAAcrnH,UAAUioH,eAAiB,SAAUl/D,EAAa2M,GAC9D,IAAIwyD,EAAYxyD,EAAY,QAE5B,GAAIt1D,KAAK8nH,GACP,OAAO9nH,KAAK8nH,GAGd,IAAI/5B,EAvKC,CACLmJ,UAAW,CACTrjF,QAAS,IAEX2F,UAAW,CACT9G,UAAW,EACXmB,QAAS,KAiK0Bi0G,GACjCC,EAAc,CAChBp1G,KAAMg2C,GASR,MANkB,SAAd2M,IACFyyD,EAAc,CACZj1G,OAAQ61C,IAIL,OAAMolC,EAAcg6B,IAG7Bd,EAAcrnH,UAAU6nH,gBAAkB,WACxC,IAAIviH,EAAQlF,KAER6N,EAAY7N,KAAKqgE,UACrBrgE,KAAK+N,KAAKC,GAAG,YAAcH,GAAW,SAAU1N,GAC9C,IAAIguC,EAAShuC,EAAEb,OAAO2d,IAAI,UAAUm+C,QAAQl2D,EAAM0iC,OAElD1iC,EAAM27D,SAAS,SAAU,CACvB5uD,KAAM/M,EAAM0iC,MACZk5B,IAAK3yB,IAGPjpC,EAAM27D,SAAS,WAAY,CACzB5uD,KAAM/M,EAAM0iC,MACZk5B,IAAK,SAAaliD,GAChB,OAAOA,IAAMuvB,KAIjBjpC,EAAM6I,KAAKkP,IAAI,UAAUnN,UAG3B9P,KAAK+N,KAAKC,GAAG,aAAa,SAAU7N,GACZ,aAAlBA,EAAEb,OAAO2S,MACX/M,EAAM27D,SAAS,WAAY,CACzB5uD,KAAM/M,EAAM0iC,MACZk5B,IAAK,WACH,OAAO,SAOjBmmD,EAAcrnH,UAAU8nH,kBAAoB,WAE1C,IAAIliH,EAAKxF,KAAK+N,KAAKkP,IAAI,SACnB/L,EAAQ1L,EAAG0L,MACXC,EAAM3L,EAAG2L,IACT3M,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAEZk5G,EAAW,IAAI,UAAO9gG,KAAK,CAC7B7C,MAAO,CACLzV,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAO,EACPsK,OAAQA,KAGZ9O,KAAK0O,UAAU0Z,KAAK,OAAQ4/F,GAC5BhoH,KAAK0O,UAAU4a,UAAU,aAAa,GACtC0+F,EAASxrG,QAAQ,CACfhY,MAAOA,GACN,IAAK,eAAe,cAAgB,MAGzCyiH,EAAcrnH,UAAU4uE,UAAY,SAAUiK,GAC5C,IAAIvzE,EAAQlF,KAEZ,QAAOA,KAAKknH,OAAO,SAAUz0G,GAC3B,IAAI49D,EAAY59D,EAAKwK,IAAI,QACrBk0E,EAAa9gB,EAAUnrE,EAAM0iC,OAEjC,GAAI,GAAQyoC,EAAWoI,GAAY,CACjC,IAAI5kE,EAAU3O,EAAMkiH,WAAWj2B,GAAYt9E,SAAW,EAEtDpB,EAAK4hC,cACL5hC,EAAK+J,QAAQ,CACX3I,QAASA,GACR,IAAK,mBAIZ,QAAO7T,KAAKmnH,OAAO,SAAU/zG,GAC3B,IAAIi9D,EAAYj9D,EAAK6J,IAAI,QACrBk0E,EAAa9gB,EAAUnrE,EAAM0iC,OAEjC,GAAI,GAAQyoC,EAAWoI,GAAY,CACjC,IAAI5kE,EAAU3O,EAAMmiH,WAAWl2B,GAAYt9E,SAAW,EAEtDT,EAAKihC,cACLjhC,EAAKoJ,QAAQ,CACX3I,QAASA,GACR,IAAK,oBAKdozG,EAAcrnH,UAAU+nH,YAAc,SAAUlvC,GAC9C,QAAOz4E,KAAKknH,OAAO,SAAUz0G,GAGvB,GAFYA,EAAKwK,IAAI,QAEFw7D,KAErBhmE,EAAK4hC,cACL5hC,EAAK+J,QAAQ,CACX3I,QAAS,GACR,IAAK,mBAIZ,QAAO7T,KAAKmnH,OAAO,SAAU/zG,GAGvB,GAFYA,EAAK6J,IAAI,QAEFw7D,KAErBrlE,EAAKihC,cACLjhC,EAAKoJ,QAAQ,CACX3I,QAAS,GACR,IAAK,oBAKdozG,EAAcrnH,UAAU2vE,YAAc,SAAUkJ,GAC9Cz4E,KAAKwuE,UAAUiK,IAGVwuC,EA/RT,GCLAh6C,GAAsB,mBAtBtB,SAAUhoE,GAGR,SAASgjH,IACP,OAAkB,OAAXhjH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAe7D,OAlBA,qBAAUioH,EAAmBhjH,GAM7BgjH,EAAkBroH,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,GAC5D,IAAI6iG,EAAa9nG,EAAMgU,UACN/O,EAAM+O,UAERna,QAAUiuG,EAAWjuG,SAClCmG,EAAMmT,KAAK,UAAW,GACtBnT,EAAMmT,KAAK,cAAe,GAC1BnT,EAAMmT,KAAK,gBAAiB,GAC5BnT,EAAM5E,IAAI,WAAW,KAIlB43G,EAnBT,CAoBE,KClBF,IAAI,GAEJ,SAAUhjH,GAGR,SAASijH,IACP,IAAIhjH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,aACNjB,EAoET,OA1EA,qBAAUgjH,EAAkBjjH,GAS5BijH,EAAiBvkB,kBAAoB,WACnC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDqX,OAAQ,CACN2F,SAAS,EACTxG,SAAU,aAEZvB,MAAO,CACL+H,SAAS,EACTxG,SAAU,SACVxB,OAAQ,EACR8nG,aAAa,GAEfqL,cAAe,CACbnrG,SAAS,EACTqjD,UAAW,iBAKjB6nD,EAAiBtoH,UAAUwP,KAAO,WAC5BpP,KAAKuO,QAAQ45G,cAAcnrG,UAC7Bhd,KAAKuO,QAAQgK,QAAQs2B,WAAa,MAGpC5pC,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7BkoH,EAAiBtoH,UAAUu/F,YAAc,WACvC,IAAI1+F,EAAQT,KAAKuO,QAEb9N,EAAM0nH,cAAcnrG,UACtBhd,KAAKmoH,cAAgB,IAAI,GAAc,oBAAS,CAC9Cp6G,KAAM/N,KAAK+N,KACX65B,MAAOnnC,EAAM2nH,WACbp9F,WAA+B,IAApBvqB,EAAMuqB,WAChBvqB,EAAM0nH,iBAGXljH,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCkoH,EAAiBtoH,UAAU2+G,aAAe,SAAU7hG,GAClDA,EAAOo1D,OAAS,CAAC,CACf3rE,KAAM,WAIV+hH,EAAiBtoH,UAAU4+G,aAAe,WACxC,IAAI/9G,EAAQT,KAAKuO,QACboD,EAAiB3R,KAAKy+G,0BAA0Bh+G,EAAMwU,MAAMuB,UAE5DvB,EAAQ,WAAU,GAAItD,EAAgB3R,KAAKuO,QAAQ0G,OAEvD,QAAIA,IAA2B,IAAlBA,EAAM+H,UAIDk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,mBACX1W,OAAQ,CAACp2D,EAAMs/B,SACd9qB,KAIEizG,EA3ET,CA4EE,IAEa,MACfjhB,GAAiB,cAAe,KClFhC,SAAUhiG,GAGR,SAASojH,IACP,OAAkB,OAAXpjH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUqoH,EAAapjH,GAMvBojH,EAAYzoH,UAAU0nG,aAAe,SAAU7mG,GAC7C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,cAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CoP,EAAY1kB,kBAAoB,GAAiBA,kBAfnD,CAiBE,IAnBF,ICHW,GAA0B,SAAiClkF,EAAM6oG,EAAYC,GAEtF,IAAIC,EAAQ,mBAAQ/oG,EAAM6oG,GAC1BE,EAAQ,qBAAUA,GAAO,SAAUj8E,GACjC,OAAO,eAAIA,GAAO,SAAUjlC,GAC1B,OAAO,eAAIihH,GAAU,SAAU3gF,GAC7B,OAAOtgC,EAAKsgC,YAIlB4gF,EAAQ,qBAAUA,EAAO,YACzBA,EAAQ,qBAAUA,GAAO,SAAUC,GACjC,OAAO,eAAIA,GAAM,SAAUp3F,GAEzB,IAAI/T,EAAIoF,OAAO0D,WAAWiL,GAE1B,OAAK,oBAAS/T,IAAM4X,MAAM5X,GACjB,EAGFA,QAIX,IAAIorG,EAAc,qBAAUF,GAAO,SAAUC,GAC3C,OAAO,kBAAOA,GAAM,SAAU92D,EAAKtgC,GACjC,OAAOsgC,EAAMtgC,IACZ,MAGD6sE,EAAU,eAAIz+E,GAAM,SAAUnY,GAChC,IAAI6kB,EAAM,oBAAS,oBAAS,GAAI7kB,GAAO,CACrC8zD,QAAS9zD,EACT8hE,MAAOs/C,EAAYphH,EAAKghH,MAO1B,OAJA,gBAAKC,GAAU,SAAU3gF,GAEvBzb,EAAIyb,GAAStgC,EAAKsgC,GAAS8gF,EAAYphH,EAAKghH,OAEvCn8F,KAkBT,OAfA,gBAAK,mBAAQ+xE,EAASoqB,IAAa,SAAU/7E,GAC3C,IAAIolB,EAAM,EACV,gBAAKplB,GAAO,SAAUjlC,EAAMqhH,GAC1B,gBAAKJ,GAAU,SAAU3gF,EAAOghF,IAE1Bj3D,EAAMrqD,EAAKsgC,IAAU,GAAK+gF,IAAYp8E,EAAM9sC,OAAS,GAAKmpH,IAAaL,EAAS9oH,OAAS,KAC3F6H,EAAKsgC,GAAS,EAAI+pB,GAIpBA,GAAOrqD,EAAKsgC,YAKXs2D,GCtDL,GAEJ,SAAUj5F,GAGR,SAAS4jH,IACP,IAAI3jH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,wBACNjB,EAqDT,OA3DA,qBAAU2jH,EAA4B5jH,GAStC4jH,EAA2BllB,kBAAoB,WAC7C,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDiV,MAAO,CACL+H,SAAS,EACTxG,SAAU,SACVxB,OAAQ,GAEV4uF,MAAO,CACL5mF,SAAS,EACTtC,KAAM,CACJsC,SAAS,GAEX3H,KAAM,CACJ2H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,GAEX/H,MAAO,CACL+H,SAAS,OAMjB6rG,EAA2BjpH,UAAUqkG,YAAc,SAAUj+B,GAC3D,IAAIxgE,EAAKxF,KAAKuO,QACVuxB,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OAChB,OAAO,GAAwBimC,GAAc,GAAIlmC,EAAQ,CAACC,KAG5D8oF,EAA2BjpH,UAAU+tB,MAAQ,WAC3C,IAAIm7F,EAAa,GACb/oF,EAAS//B,KAAKuO,QAAQwxB,OAC1B+oF,EAAW/oF,GAAU,CACnBzJ,UAAW,EACXmiC,MAAO14B,EAAS,OAChBtQ,IAAK,EACL9J,IAAK,EACLsJ,UAAW,SAAmB3R,GAE5B,OAD0B,IAAJA,GAASqF,QAAQ,GACf,MAG5B3iB,KAAKuO,QAAQwvF,KAAO+qB,EAEpB7jH,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAGvB6oH,EA5DT,CA6DE,IAEa,MACf5hB,GAAiB,wBAAyB,KCjE1C,SAAUhiG,GAGR,SAAS8jH,IACP,OAAkB,OAAX9jH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU+oH,EAAuB9jH,GAMjC8jH,EAAsBnpH,UAAU0nG,aAAe,SAAU7mG,GACvD,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,wBAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C8P,EAAsBplB,kBAAoB,GAA2BA,kBAfvE,CAiBE,IAnBF,ICCI,GAEJ,SAAU1+F,GAGR,SAAS+jH,IACP,IAAI9jH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,YACNjB,EAyFT,OA/FA,qBAAU8jH,EAAgB/jH,GAS1B+jH,EAAeppH,UAAUwP,KAAO,WAC9BpP,KAAKuO,QAAQuxB,OAAS,QACtB9/B,KAAKuO,QAAQwxB,OAAS,QAEtB96B,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7BgpH,EAAeppH,UAAUqkG,YAAc,SAAUj+B,GAC/C,IAAI9gE,EAAQlF,KAERwF,EAAKxF,KAAKuO,QACVksG,EAAWj1G,EAAGi1G,SACdC,EAAWl1G,EAAGk1G,SACdC,EAAYn1G,EAAGm1G,UAEfsO,EAAkB,SAAQjjD,GAG9B,UAASijD,EAAiBxO,GAG1B,IAAInsF,EAAS,eAAc26F,EAAiBxO,GAExClsF,EAAQ,YAAWD,GAEnBysF,EAAaxsF,EAAM5I,IAAM4I,EAAMkB,IAE/BwrF,EAAYP,EAOhB,IALKA,GAAYC,IACfM,EAAYF,EAAaJ,IAItBD,IAAaC,EAAW,CAC3B,IAAIuO,EAAoBt7B,GAAQt/D,GAEhC2sF,EAAYF,EAAamO,EAG3B,IAAIC,EAAO,GAEX,QAAOF,GAAiB,SAAUxpG,GAChC,IAAI7e,EAAQ6e,EAAKg7F,GAEb2O,EAAMlkH,EAAMmkH,OAAOzoH,EAAOq6G,GAE1BqO,EAAUF,EAAI,GAAK,IAAMA,EAAI,GAE5B,UAASD,EAAMG,KAClBH,EAAKG,GAAW,CACdr3G,KAAMq3G,EACN/6F,MAAO66F,EACP7sF,MAAO,EACP9c,KAAM,KAIV0pG,EAAKG,GAAS7pG,KAAKjP,KAAKiP,GACxB0pG,EAAKG,GAAS/sF,OAAS,KAIzB,IAAIgtF,EAAW,GAMf,OAJA,QAAOJ,GAAM,SAAUC,GACrBG,EAAS/4G,KAAK44G,MAGTG,GAGTP,EAAeppH,UAAU+tB,MAAQ,WAC/B1oB,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,MAG5B,IAAIuuB,EAAQvuB,KAAK2qF,OAAOzjD,OAAO3Y,MAC/BA,EAAM+I,MAAO,EACb/I,EAAMpoB,KAAO,UAGf6iH,EAAeppH,UAAUypH,OAAS,SAAUzoH,EAAO85G,GACjD,IAAIp2G,EAAQ4Z,KAAK2V,MAAMjzB,EAAQ85G,GAC/B,MAAO,CAACA,EAAWp2G,EAAOo2G,GAAYp2G,EAAQ,KAGzC0kH,EAhGT,CAiGE,IAEa,MACf/hB,GAAiB,YAAa,KCrG9B,SAAUhiG,GAGR,SAASukH,IACP,OAAkB,OAAXvkH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUwpH,EAAWvkH,GAMrBukH,EAAU5pH,UAAU0nG,aAAe,SAAU7mG,GAC3C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,YAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CuQ,EAAU7lB,kBAAoB,GAAeA,kBAf/C,CAiBE,ICvBF,IAKe,IACbgT,UANwB,GAOxBxX,YAN0B,CAAC,CAC3BltF,KAAM,iBACN+b,OCHa,SAAwBpgB,GACrC,IAAIooG,EAAkBpoG,EAAMm1F,qBACxBh0F,EAASnB,EAAMmB,OAEI,IAAI,GAAoB,CAC7C6gC,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAGgB,IAAI,GAAoB,CAC7C0P,KAAMhiC,EACNooG,gBAAiBA,EACjB91E,IAAK,MAEPnxB,EAAOe,WCVL,GAEJ,SAAU7K,GAGR,SAASwkH,IACP,OAAkB,OAAXxkH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA4L7D,OA/LA,qBAAUypH,EAAWxkH,GAOrBwkH,EAAU7pH,UAAUmpE,iBAAmB,SAAUx1D,EAAOm3D,EAAapmE,EAAOqmE,GAC1E,IAAIn0D,EAAWm0D,EAEX,cAAan0D,KACfA,EAAWA,EAASk0D,IAGtB,IAAIpkD,EAAQtmB,KAAKid,IAAI,SACjB2tD,EAAStkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/CuiD,EAASvkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/C2a,EAAW2nC,EAAOh8D,EAAIi8D,EAAOj8D,EAC7BpK,GAASomE,EAAOh8D,EAAIi8D,EAAOj8D,GAAK,GAAK,EACrCE,GAAU87D,EAAO/7D,EAAIg8D,EAAOh8D,GAAK,GAAK,EAE1C,OAAQ2H,GACN,IAAK,SACHjD,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,MACHJ,EAAM3E,GAAKpK,EACX+O,EAAM1E,GAAKC,EACXyE,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,OACHJ,EAAM3E,GAAa,EAARpK,EACX+O,EAAMI,UAAYJ,EAAMI,YAAcsvB,EAAW,QAAU,QAC3D,MAEF,IAAK,SACH1vB,EAAM3E,GAAKpK,EACX+O,EAAMI,UAAYJ,EAAMI,WAAa,SACrC,MAEF,IAAK,QACHJ,EAAMI,UAAYJ,EAAMI,YAAcsvB,EAAW,QAAU,UASjEwmF,EAAU7pH,UAAUg9G,aAAe,SAAUt0F,EAAQpS,GACnD,IAAIqG,EAAWvc,KAAKid,IAAI,kBACpBsvB,EAAQhwB,EAASU,IAAI,SACrB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YACnCqJ,EAAQtmB,KAAKid,IAAI,SAErB,QAAOsvB,GAAO,SAAUjlC,EAAMoJ,GAC5B,IAAIuE,EAAQ82B,EAAOr7B,GACfk6D,EAAStkD,EAAMoH,aAAapF,EAAO5X,GAAK4X,OAAO,IAC/CuiD,EAASvkD,EAAMoH,aAAapF,EAAO5X,GAAK4X,OAAO,IACpCsiD,EAAOh8D,EAAIi8D,EAAOj8D,GAEjBtH,EAAK0N,SACnB1N,EAAKsH,GAAmB,EAAdtH,EAAK0N,OACfC,EAAMmT,KAAK,IAAKnT,EAAMmT,KAAK,KAAqB,EAAd9gB,EAAK0N,aAK7Cy0G,EAAU7pH,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACjD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/ClW,KAAK48G,aAAat0F,EAAQpS,GAC1B,IAAIqG,EAAWvc,KAAKid,IAAI,kBACpB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YACnCsvB,EAAQhwB,EAASU,IAAI,SACrBlP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAE/BzX,EAAKxF,KAAKid,IAAI,gBACd6/F,EAAct3G,EAAGs3G,YACjB/lD,EAAiBvxD,EAAGuxD,eAExB,QAAOhrB,GAAQ,SAAU92B,EAAO3Q,GAC9B,IAAIgb,EAAIrK,EACJ3N,EAAOilC,EAAMjoC,GACb6pC,EAAS7uB,EAAErC,IAAI,UAEfq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cj0B,EAAQhV,EAAM23G,UAAUvJ,EAASp9F,GAEjC6gD,GACF7xD,EAAM6xD,eAAez3C,EAAGpF,EAAO5S,GAG7Bw1G,GACF53G,EAAM43G,YAAYx9F,EAAGpF,MAIzBnM,EAAKkP,IAAI,UAAUnN,QAGrB25G,EAAU7pH,UAAUi9G,UAAY,SAAUvJ,EAASp9F,GACjD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGTmqH,EAAU7pH,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,EAAO5S,GAC3D,IAAIy1G,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI+zF,EAAWx4G,OAASu4G,EAAWv4G,OAA2B,UAAlB8C,EAAKkP,SAAsB,CACrE,IAAIkzG,EAAY1M,EAAWx0F,KAtId,GAuIbvT,EAAMmT,KAAK,IAAKshG,KAIpBD,EAAU7pH,UAAUk9G,YAAc,SAAU7nG,EAAOiF,GACjD,IAAI6iG,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI8zF,EAAWx0F,MAAQy0F,EAAWz0F,MAAQw0F,EAAWv0F,MAAQw0F,EAAWx0F,KAAM,CAC5E,IAAI00F,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GACdG,EAAOn/F,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,EAetEh4E,EAAUnlC,KAAKs9G,cAdH,CAAC,CACfhhF,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAGmCopG,GAE5CpoG,EAAMmT,KAAK,OAAQ+c,GAEH,UAAZA,GACFlwB,EAAMmT,KAAK,SAAU,MACrBnT,EAAMmT,KAAK,YAAa,KAExBnT,EAAMmT,KAAK,SAAU,SACrBnT,EAAMmT,KAAK,YAAa,SAErB,GAAI20F,EAAWr0F,KAAOs0F,EAAWv0F,KAAM,CAC5C,IAAI9S,EAAQ3V,KAAKid,IAAI,SAEjBsgG,EAAiB,OAAM5nG,EAAO,uBAAwB,SAE1DV,EAAMmT,KAAK,OAAQm1F,KAIvBkM,EAAU7pH,UAAU09G,cAAgB,SAAUE,EAAMH,GAClD,IAAIl4E,EAUJ,OARA,QAAOq4E,GAAM,SAAU59F,GACrB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAIXkxB,GAGFskF,EAhMT,CAiME,IAGFx8C,GAAsB,WAAY,IC/LlC,UAASjkE,GAXa,CACpB2gH,WAAY,iBACZC,cAAe,oBACfC,eAAgB,qBAChBC,gBAAiB,sBACjBC,gBAAiB,sBACjBC,eAAgB,qBAChBC,aAAc,mBACdC,iBAAkB,yBCMpB,GAAc,MAAO,CACnBjM,YAAa,CACXjkE,OAAQ,GACR5/B,OAjBmB,SAA0B7V,GAE/C,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAiB7B27E,QAXoB,SAA2BjrF,GAEjD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAW7Bq+D,SAAU,CACRx/D,UAAW,EACXI,OAAQ,YCXd,IAAI,GAAc,CAChBq3G,IAAK,YAEH,GAAgB,CAClBl3G,SAAU,OAGR,GAEJ,SAAUhO,GAGR,SAASmlH,IACP,IAAIllH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,MACNjB,EAsPT,OA5PA,qBAAUklH,EAAcnlH,GASxBmlH,EAAazmB,kBAAoB,WA8D/B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MA7DzC,CACR09D,MAAO,CACL1gD,SAAS,EACT5J,KAAM,CACJ4J,SAAS,GAEXrb,MAAO,CACLqb,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX3H,KAAM,CACJ2H,SAAS,IAGb4mF,MAAO,CACL5mF,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZuD,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,CACV1oC,KAAM,SAGV8O,MAAO,CACL+H,SAAS,EACTxG,SAAU,OACVsmG,aAAa,GAEfzlG,OAAQ,CACN2F,SAAS,EACTxG,SAAU,YAEZ6nG,cAAe,CACbrhG,SAAS,MAMfotG,EAAaxqH,UAAUuP,WAAa,WAClClK,EAAOrF,UAAUuP,WAAWrP,KAAKE,MAEjC,IAAIS,EAAQT,KAAKuO,QAGb9N,EAAM63G,YAAgC,SAAlB73G,EAAMoG,SAC5B7G,KAAKu4G,gBAAgB,cAIzB6R,EAAaxqH,UAAUu/F,YAAc,WACnC,IAAI1+F,EAAQT,KAAKuO,QAGb9N,EAAM63G,YAAgC,SAAlB73G,EAAMoG,SAC5B7G,KAAKu4G,gBAAgB,eAGnB93G,EAAM49G,cAAcrhG,UACtBhd,KAAKq+G,cAAgB,IAAI,GAAc,oBAAS,CAC9CtwG,KAAM/N,KAAK+N,KACX65B,MAAOnnC,EAAMq/B,OACb9U,WAA+B,IAApBvqB,EAAMuqB,WAChBvqB,EAAM49G,iBAGXp5G,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCoqH,EAAaxqH,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACrD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBikH,EAAaxqH,UAAUqkG,YAAc,SAAUj+B,GAC7C,IAAIqkD,EAAYrkD,EAAaA,EAAW1gD,QAAQuX,UAAYmpC,EACxDjmC,EAAS//B,KAAKuO,QAAQwxB,OACtBu+E,EAAgB,GASpB,OAPA,QAAO+L,GAAW,SAAU5qG,GAC1B,IAAIb,EAAI,SAAQa,GAEhBb,EAAEmhB,GAAUnhB,EAAEmhB,GAAQx8B,WACtB+6G,EAAc9tG,KAAKoO,MAGd0/F,GAGT8L,EAAaxqH,UAAU+tB,MAAQ,WAC7B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GAGbA,EAAOzmC,EAAMs/B,QAAU,CACrB55B,KAAM,OAGJ,OAAM1F,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMs/B,QAASt/B,EAAMmjG,OAK3C18D,EAAOzmC,EAAMq/B,QAAU,GAEnB,OAAMr/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMq/B,QAASr/B,EAAMi9D,OAG3C19D,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9BoqH,EAAaxqH,UAAU0mB,MAAQ,WAI7BtmB,KAAK2kG,UAAU,QAHG,CAChBxgG,QAAS,CAAC,CAAC,iBAKfimH,EAAaxqH,UAAU0qH,UAAY,SAAUH,KAI7CC,EAAaxqH,UAAUmkG,YAAc,WACnC,IAAItjG,EAAQT,KAAKuO,QACb47G,EAAM5f,GAAQ,WAAY,OAAQ,CACpC5C,eAAgB,CAAClnG,EAAMs/B,OAAQt/B,EAAMq/B,QACrC8P,KAAM5vC,OAGJS,EAAM49G,cAAcrhG,UACtBmtG,EAAI1tG,WAAWC,OAAS,EAAI,GAG1Bjc,EAAMwU,QACRk1G,EAAIl1G,MAAQjV,KAAKw+G,gBAGnBx+G,KAAKsqH,UAAUH,GACfnqH,KAAKmqH,IAAMA,EACXnqH,KAAK2kG,UAAU,UAAWwlB,IAG5BC,EAAaxqH,UAAUorB,UAAY,WACjC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAIR,IAFZA,KAAKuO,QAEPyc,YAERhrB,KAAKmqH,IAAI3tG,SAAU,IAIvB4tG,EAAaxqH,UAAU4+G,aAAe,WACpC,IAAI/9G,EAAQT,KAAKuO,QACboD,EAAiB3R,KAAKy+G,0BAA0Bh+G,EAAMwU,MAAMuB,UAE5DvB,EAAQ,WAAU,GAAItD,EAAgB3R,KAAKuO,QAAQ0G,OAEvD,QAAIA,IAA2B,IAAlBA,EAAM+H,UAIDk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,WACX1W,OAAQ,CAACp2D,EAAMq/B,SACd7qB,KAILm1G,EAAaxqH,UAAUiS,YAAc,SAAUC,GAC7C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1CoqH,EAAaxqH,UAAU24G,gBAAkB,SAAUQ,GACjD,IAAI7zG,EAAQlF,KAERg5G,EAAU,GAAkBD,GAEhC,QAAOC,GAAS,SAAU9/F,GACPA,EACN8U,OAAO9oB,OAItBklH,EAAaxqH,UAAU6+G,0BAA4B,SAAUjoG,GAC3D,MAAiB,WAAbA,EACK,CACLxB,OAAQ,GAIK,SAAbwB,EACK,CACLxB,OAAQ,EACRzQ,MAAO,CACLuO,OAAQ,KACRJ,UAAW,IAKA,UAAb8D,EACK,CACLxB,OAAQ,QAFZ,GAOKo1G,EA7PT,CA8PE,IAEa,MACfnjB,GAAiB,MAAO,KC/QxB,SAAUhiG,GAGR,SAASslH,IACP,OAAkB,OAAXtlH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUuqH,EAAKtlH,GAMfslH,EAAI3qH,UAAU0nG,aAAe,SAAU7mG,GACrC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,MAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CsR,EAAI5mB,kBAAoB,GAASA,kBAfnC,CAiBE,ICIF12B,GAAsB,gBAtBtB,SAAUhoE,GAGR,SAASulH,IACP,OAAkB,OAAXvlH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAe7D,OAlBA,qBAAUwqH,EAAgBvlH,GAM1BulH,EAAe5qH,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,GACzD,IAAI6iG,EAAa9nG,EAAMgU,UACN/O,EAAM+O,UAERzkB,OAASu4G,EAAWv4G,QACjCyQ,EAAMmT,KAAK,UAAW,GACtBnT,EAAMmT,KAAK,cAAe,GAC1BnT,EAAMmT,KAAK,gBAAiB,GAC5BnT,EAAM5E,IAAI,WAAW,KAIlBm6G,EAnBT,CAoBE,KCnBF,IAAI,GAEJ,SAAUvlH,GAGR,SAASwlH,IACP,IAAIvlH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EA0ET,OAhFA,qBAAUulH,EAAexlH,GASzBwlH,EAAc9mB,kBAAoB,WAChC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD09D,MAAO,CACL1gD,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZ4uF,MAAO,CACL5mF,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,QAMhBy1G,EAAc7qH,UAAU0qH,UAAY,SAAUH,GAC5CA,EAAIr4C,OAAS,CAAC,CACZ3rE,KAAM,WAIVskH,EAAc7qH,UAAU4+G,aAAe,WACrC,IAAI/9G,EAAQT,KAAKuO,QACb0G,EAAQxU,EAAMwU,MAElB,OAAsB,IAAlBA,EAAM+H,SAIQk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,gBACX1W,OAAQ,CAACp2D,EAAMq/B,SACd7qB,KAIEw1G,EAjFT,CAkFE,IAEa,MACfxjB,GAAiB,WAAY,KCvF7B,SAAUhiG,GAGR,SAASylH,IACP,OAAkB,OAAXzlH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU0qH,EAAUzlH,GAMpBylH,EAAS9qH,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CyR,EAAS/mB,kBAAoB,GAAcA,kBAf7C,CAiBE,IAnBF,ICCI,GAEJ,SAAU1+F,GAGR,SAAS0lH,IACP,IAAIzlH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,qBACNjB,EA0DT,OAhEA,qBAAUylH,EAAyB1lH,GASnC0lH,EAAwBhnB,kBAAoB,WAC1C,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD09D,MAAO,CACL1gD,SAAS,EACT7H,SAAU,CACR6H,SAAS,GAEX3H,KAAM,CACJ2H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACTiS,UAAW,SAAmB3R,GAC5B,OAAOA,EAAI,SAGfrI,MAAO,CACL+H,SAAS,EACTiS,UAAW,SAAmB3R,GAE5B,OAAOA,EAAEqC,QADC,MACY,UAOhCgrG,EAAwB/qH,UAAUqkG,YAAc,SAAUj+B,GACxD,IAAIxgE,EAAKxF,KAAKuO,QACVuxB,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OAEZkkE,EAAch/F,EAAOrF,UAAUqkG,YAAYnkG,KAAKE,KAAMgmE,GAE1D,OAAO,GAAwBi+B,EAAalkE,EAAQ,CAACD,KAGvD6qF,EAAwB/qH,UAAU+tB,MAAQ,WACxC,IAAIm7F,EAAa,GACbhpF,EAAS9/B,KAAKuO,QAAQuxB,OAC1BgpF,EAAWhpF,GAAU,CACnBxJ,UAAW,EACXmiC,MAAO34B,EAAS,OAChBrQ,IAAK,EACL9J,IAAK,EACLsJ,UAAW,SAAmB3R,GAE5B,OAD0B,IAAJA,GAASqF,QAAQ,GACf,MAG5B3iB,KAAKuO,QAAQwvF,KAAO+qB,EAEpB7jH,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAGvB2qH,EAjET,CAkEE,IAEa,MACf1jB,GAAiB,qBAAsB,KCtEvC,SAAUhiG,GAGR,SAAS2lH,IACP,OAAkB,OAAX3lH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU4qH,EAAoB3lH,GAM9B2lH,EAAmBhrH,UAAU0nG,aAAe,SAAU7mG,GACpD,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,qBAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C2R,EAAmBjnB,kBAAoB,GAAwBA,kBAfjE,CAiBE,IAnBF,ICAI,GAEJ,SAAU1+F,GAGR,SAAS4lH,IACP,IAAI3lH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EA4ET,OAlFA,qBAAU2lH,EAAe5lH,GASzB4lH,EAAclnB,kBAAoB,WAChC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD09D,MAAO,CACL1gD,SAAS,EACT3H,KAAM,CACJ2H,SAAS,IAGb4mF,MAAO,CACL5mF,SAAS,EACTrb,MAAO,CACLqb,SAAS,IAGb/H,MAAO,CACL+H,SAAS,EACTxG,SAAU,QACVxB,OAAQ,EACR8nG,aAAa,GAEfzlG,OAAQ,CACN2F,SAAS,EACTxG,SAAU,gBAKhBq0G,EAAcjrH,UAAUu/F,YAAc,WACpCl6F,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,MAElC,IAAIinC,EAAQ,eAAcjnC,KAAKuO,QAAQkR,KAAMzf,KAAKuO,QAAQ+5G,YAE1DtoH,KAAK+N,KAAKC,GAAG,kBAAkB,SAAU7N,GAKvC,IAJA,IAAIosC,EAAQpsC,EAAEosC,MAEVu+E,EAAe,SAAQv+E,GAElBhtC,EAAI,EAAGA,EAAI0nC,EAAMxnC,OAAQF,IAGhC,IAFA,IAAI0uC,EAAShH,EAAM1nC,GAEVuhB,EAAI,EAAGA,EAAIgqG,EAAarrH,OAAQqhB,IAAK,CAC5C,IAAIxZ,EAAOwjH,EAAahqG,GAEpBxZ,EAAK2K,OAASg8B,IAChB9tC,EAAEosC,MAAMhtC,GAAK+H,QAOvBujH,EAAcjrH,UAAU+tB,MAAQ,WAC9B,IAAIo9F,EAAc,GAClBA,EAAY/qH,KAAKuO,QAAQ+5G,YAAc,CACrCh6F,OAAQ,eAActuB,KAAKuO,QAAQkR,KAAMzf,KAAKuO,QAAQ+5G,aAGnDtoH,KAAKuO,QAAQwvF,KAGhB/9F,KAAKuO,QAAQwvF,KAAO,WAAU,GAAI/9F,KAAKuO,QAAQwvF,KAAMgtB,GAFrD/qH,KAAKuO,QAAQwvF,KAAOgtB,EAKtB9lH,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9B6qH,EAAcjrH,UAAU0qH,UAAY,SAAUH,GAC5CA,EAAIr4C,OAAS,CAAC,CACZ3rE,KAAM,QACNs7B,YAAa,MAIVopF,EAnFT,CAoFE,IAEa,MACf5jB,GAAiB,WAAY,KCvF7B,SAAUhiG,GAGR,SAAS+lH,IACP,OAAkB,OAAX/lH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUgrH,EAAU/lH,GAMpB+lH,EAASprH,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C+R,EAASrnB,kBAAoB,GAAcA,kBAf7C,CAiBE,ICRF,ICZI,GD8PW,GAhPf,WACE,SAASsnB,EAAc/7G,GACrBlP,KAAKmO,WAAY,EACjBnO,KAAK+N,KAAOmB,EAAInB,KAChB/N,KAAK4vC,KAAO1gC,EAAI0gC,KAChB,IAAIj+B,EAAiB3R,KAAK2jG,oBAC1B3jG,KAAKuO,QAAU,mBAAQoD,EAAgBzC,EAAK,IAEvClP,KAAKuO,QAAQ28G,YAChBlrH,KAAKuO,QAAQ28G,UAAYlrH,KAAKuO,QAAQhK,OAGnCvE,KAAKuO,QAAQ48G,aAChBnrH,KAAKuO,QAAQ48G,WAAanrH,KAAKuO,QAAQhK,OAGzCvE,KAAKoP,OA6NP,OA1NA67G,EAAcrrH,UAAUwP,KAAO,WAC7B,IAAIlK,EAAQlF,KAERorH,EAAgBprH,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,aACrDjd,KAAK0O,UAAY08G,EAAc79E,WAC/BvtC,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,QAEN7K,EAAM0qC,KAAK7gC,OAAOe,WAItBm7G,EAAcrrH,UAAU+P,OAAS,WAC/B,IAAIzK,EAAQlF,KAERqrH,EAAWrrH,KAAK+N,KAAKkP,IAAI,YAAY,GACrC/G,EAASm1G,EAASjgG,YACtB,gBAAKlV,GAAQ,SAAUgE,GACrB,IAAIw0C,EAAYxpD,EAAMomH,YAAYpxG,GAE9BoU,EAASppB,EAAMq7C,SAASrmC,GAExBvG,EAAYzO,EAAMqmH,eAElBx/E,EAAS,GACb,gBAAK2iB,GAAW,SAAUhP,EAAKngD,GAC7B,IAAIgF,EAAc,IAANhF,EAAU2F,EAAMqJ,QAAQ28G,UAAYhmH,EAAMqJ,QAAQ48G,WAE1Dl3G,EAAQ/O,EAAMsmH,aAAatxG,EAAO3a,GAEP,UAA3B2F,EAAMqJ,QAAQiI,UAAwBtR,EAAMqJ,QAAQuuG,aAAyB,UAAV7oG,IACrE1P,EAAMuO,OAAS,MAGjB,IAAImc,EAAY/pB,EAAMqJ,QAAQ0gB,UAC1B49B,EAAU59B,EAAYA,EAAUX,EAAO/uB,IAAM+uB,EAAO/uB,GAEpD0V,EAAQ/P,EAAMwJ,UAAUge,SAAS,OAAQ,CAC3CrI,MAAO,mBAAQ,GAAI9f,EAAO,CACxBqK,EAAG8wC,EAAI9wC,EACPC,EAAG6wC,EAAI7wC,EACP6E,KAAMm5C,EACNl6C,KAAMsB,EACNN,UAAWA,EAAUpU,GACrBqU,aAAc,aAIlBm4B,EAAOv7B,KAAKyE,GAEZ/P,EAAMsiB,YAAYvS,MAEpBiF,EAAM7J,IAAI,cAAe07B,GAEzB7mC,EAAM6xD,eAAehrB,EAAO,GAAIA,EAAO,GAAI7xB,MAE9BmxG,EAASpuG,IAAI,mBACnBkwD,gBAAkBntE,KAAK0O,UAChC1O,KAAK4vC,KAAK7gC,OAAOe,QAGnBm7G,EAAcrrH,UAAU0Q,KAAO,WAC7BtQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAK4vC,KAAK7gC,OAAOe,QAGnBm7G,EAAcrrH,UAAUwQ,KAAO,WAC7BpQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAK4vC,KAAK7gC,OAAOe,QAGnBm7G,EAAcrrH,UAAUmQ,MAAQ,WAC1B/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInBk7G,EAAcrrH,UAAUk8G,QAAU,WAC5B97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,SAGjBnQ,KAAKmO,WAAY,GAGnB88G,EAAcrrH,UAAUqpB,QAAU,aAElCgiG,EAAcrrH,UAAU+jG,kBAAoB,WAC1C,IACI8nB,EADQzrH,KAAK4vC,KAAKj6B,MACCV,MAAM1Q,MAC7B,MAAO,CACLiS,SAAU,QACV8zB,QA/He,EAgIfC,QAAS,EACThmC,MAAO,iBAAMknH,GACb3O,aAAa,EACb/lD,gBAAgB,IAIpBk0D,EAAcrrH,UAAU0rH,YAAc,SAAUpxG,GAC9C,IAOIkH,EAAIM,EAPJysB,EAASj0B,EAAM+C,IAAI,UACnBsL,EAAO4lB,EAAOv/B,EAAE,GAChB4Z,EAAO2lB,EAAOv/B,EAAE,GAChBpJ,EAAKxF,KAAKuO,QACV+7B,EAAU9kC,EAAG8kC,QAEbz7B,GADUrJ,EAAG+kC,QACT4D,EAAOt/B,EAAE,IAWjB,MAR8B,UAA1B7O,KAAKuO,QAAQiI,UACf4K,EAAKmH,EAAO+hB,EACZ5oB,EAAK8G,EAAO8hB,IAEZlpB,EAAKmH,EAAO+hB,EACZ5oB,EAAK8G,EAAO8hB,GAGP,CAAC,CACN17B,EAAGwS,EACHvS,EAAGA,GACF,CACDD,EAAG8S,EACH7S,EAAGA,KAIPo8G,EAAcrrH,UAAU2gD,SAAW,SAAUrmC,GAC3C,IAAI4lB,EAAS9/B,KAAK4vC,KAAKrhC,QAAQuxB,OAC/B,OAAO5lB,EAAM+C,IAAI,UAAUm+C,QAAQt7B,IAGrCmrF,EAAcrrH,UAAU2rH,aAAe,WACrC,MAA8B,UAA1BvrH,KAAKuO,QAAQiI,SACR,CAAC,QAAS,QAEV,CAAC,OAAQ,UAIpBy0G,EAAcrrH,UAAU4rH,aAAe,SAAUtxG,EAAO5V,GACtD,GAAItE,KAAKuO,QAAQuuG,aAAyC,UAA1B98G,KAAKuO,QAAQiI,SAAsB,CACjE,IAAI0mG,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GAgBlB,OAjMN,SAAsBM,EAAMH,GAC1B,IAAIl4E,EAQJ,OAPA,gBAAKq4E,GAAM,SAAU59F,GACnB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAGXkxB,EAuLWumF,CAbE,CAAC,CACfpvF,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAZEiK,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,GAmB5E,OAD6B,IAAV74G,EAActE,KAAKuO,QAAQ28G,UAAUv4G,KAAO3S,KAAKuO,QAAQ48G,WAAWx4G,MAIzFs4G,EAAcrrH,UAAU4nB,YAAc,SAAUvS,GAC1CjV,KAAK4vC,KAAK5kB,YAAqC,IAAxBhrB,KAAK4vC,KAAK5kB,YAIrC/V,EAAMmT,KAAK,cAAe,GAC1BnT,EAAMmT,KAAK,gBAAiB,GAC5BnT,EAAMo/B,cACNp/B,EAAMuH,QAAQ,CACZ5J,YAAa,EACbkB,cAAe,GACd,IAAK,aAAc,OAGxBm3G,EAAcrrH,UAAUm3D,eAAiB,SAAUvS,EAAImnE,EAAIzxG,GACzD,IAAIi0B,EAASj0B,EAAM+C,IAAI,UACnB2uG,EAAYz9E,EAAOv/B,EAAE,GACrBi9G,EAAY19E,EAAOv/B,EAAE,GACrBk9G,EAAa5tG,KAAKsE,IAAIqpG,EAAYD,GAClCj9E,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3BuvD,EAAQ,CAAChoB,EAAGv7B,UAAW0iG,EAAG1iG,WAC1BjF,EAAKwgC,EAAGp8B,KAAK,KACb9D,EAAKqnG,EAAGvjG,KAAK,KAEjB,GAAIpoB,KAAKuO,QAAQwoD,gBAA4C,UAA1B/2D,KAAKuO,QAAQiI,SAAsB,CACpE,IAAI2pC,EAAcqsB,EAAM,GAAGhoE,MAAQgoE,EAAM,GAAGhoE,OAC5BgoE,EAAM,GAAGhkD,KAAOgkD,EAAM,GAAGjkD,KAAO,GAC/B43B,EAAc2rE,KAG7B9nG,EAAK4nG,EAAY5rH,KAAKuO,QAAQ+7B,QAC9Bka,EAAGp8B,KAAK,OAAQpoB,KAAKuO,QAAQ28G,UAAUv4G,MACvC6xC,EAAGp8B,KAAK,YAAa,SACrBokD,EAAM,GAAKhoB,EAAGv7B,UACd3E,EAAKunG,EAAY7rH,KAAKuO,QAAQ+7B,QAC9BqhF,EAAGvjG,KAAK,OAAQpoB,KAAKuO,QAAQ48G,WAAWx4G,MACxCg5G,EAAGvjG,KAAK,YAAa,QACrBokD,EAAM,GAAKm/C,EAAG1iG,WAIdujD,EAAM,GAAGjkD,KAAOomB,EAAWpmB,OAC7BvE,EAAK2qB,EAAWpmB,KApPD,EAqPfi8B,EAAGp8B,KAAK,YAAa,SAGvBo8B,EAAGp8B,KAAK,IAAKpE,GACb2nG,EAAGvjG,KAAK,IAAK9D,GACbtkB,KAAK4vC,KAAK7gC,OAAOe,QAGZm7G,EA7OT,GCZA,SAASc,GAAiB7xG,EAAOuN,GAC/B,IAAIojB,EAAO3wB,EAAM+O,UACbN,EAAUkiB,EAAKtiB,KAAOsiB,EAAKrmC,MAAQ,EACnC4gG,EAAS,IAAI,QAAO,CACtB/gF,MAAO,CACLzV,EAAG+Z,EACH9Z,EAAGg8B,EAAKpiB,KACRjkB,MAAO,EACPsK,OAAQ+7B,EAAK/7B,UAGjBoL,EAAMkO,KAAK,OAAQg9E,GACnBA,EAAO5oF,QAAQ,CACbhY,MAAOqmC,EAAKrmC,MACZoK,EAAGi8B,EAAKtiB,MACPd,EAAWG,SAAUH,EAAWE,QAAQ,WACzCzN,EAAMkO,KAAK,OAAQ,QAClBX,EAAWC,OAQhB,SAASskG,GAAiB9xG,EAAOuN,GAC/B,IAAIwkG,EAUN,SAA2B/xG,GACzB,IACI5a,EADAqP,EAAKuL,EAAMvL,GASf,OANA,QAAO,IAAY,SAAUzO,GACvBA,EAAEyO,KAAOA,IACXrP,EAASY,MAINZ,EApBQ4sH,CAAkBhyG,GAAOkO,KAAK,QAEzC+jG,EAAS,SAAQjyG,EAAMkO,KAAK,SAEhClO,EAAMkO,KAAK,OAAQ6jG,GACnB/xG,EAAMsC,QAAQ,CACZJ,KAAM+vG,GACL1kG,EAAWG,SAAUH,EAAWE,OAAQF,EAAWI,SAAU,KAblEkkG,GAAiBzhG,cAAgB,mBA6BjC0hG,GAAiB1hG,cAAgB,mBACjC,GAAQY,kBAAkB,SAAU,mBAAoB6gG,IACxD,GAAQ7gG,kBAAkB,SAAU,mBAAoB8gG,IClDxD,IAAI,GAEJ,SAAU/mH,GAGR,SAASmnH,IACP,IAAIlnH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EAmGT,OAzGA,qBAAUknH,EAAennH,GASzBmnH,EAAczoB,kBAAoB,WAChC,OAAO,WAAU1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACpDiV,MAAO,CACL+H,SAAS,EACTxG,SAAU,SAEZknD,MAAO,CACL1gD,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZ4uF,MAAO,CACL5mF,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,MAGX,KAGLo3G,EAAcxsH,UAAUu/F,YAAc,WAChCn/F,KAAKuO,QAAQ0G,OAASjV,KAAKuO,QAAQ0G,MAAM+H,SAC/B,IAAI,GAAc,oBAAS,CACrCjP,KAAM/N,KAAK+N,KACX6hC,KAAM5vC,MACLA,KAAKuO,QAAQ0G,QACVtF,SAIR,IAAI08G,EAAc,GACdt7B,EAAQ/wF,KAAK+N,KAAKkP,IAAI,YAE1B,QAAO8zE,GAAO,SAAUC,GACtB,IAAI96E,EAAS86E,EAAK5lE,YAElB,QAAOlV,GAAQ,SAAUgE,GACvBmyG,EAAY77G,KAAK0J,SD7DvB,GCiEgBmyG,EAEdpnH,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCosH,EAAcxsH,UAAU4+G,aAAe,aAEvC4N,EAAcxsH,UAAUorB,UAAY,WAClC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,MAEhCA,KAAKmqH,IAAI3tG,QAAU,CACjBwN,OAAQ,CACNgB,UAAW,mBACXpD,SAAU,KAEZyC,OAAQ,CACNW,UAAW,mBACXpD,SAAU,OAKTwkG,EA1GT,CA2GE,IAEa,MACfnlB,GAAiB,WAAY,KChH7B,SAAUhiG,GAGR,SAASqnH,IACP,OAAkB,OAAXrnH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUssH,EAAUrnH,GAMpBqnH,EAAS1sH,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CqT,EAAS3oB,kBAAoB,GAAcA,kBAf7C,CAiBE,ICRF,ICZI,GD+PW,GAjPf,WACE,SAAS4oB,EAAiBr9G,GACxBlP,KAAKmO,WAAY,EACjBnO,KAAK+N,KAAOmB,EAAInB,KAChB/N,KAAK4vC,KAAO1gC,EAAI0gC,KAChB,IAAIj+B,EAAiB3R,KAAK2jG,oBAC1B3jG,KAAKuO,QAAU,mBAAQoD,EAAgBzC,EAAK,IAEvClP,KAAKuO,QAAQi+G,WAChBxsH,KAAKuO,QAAQi+G,SAAWxsH,KAAKuO,QAAQhK,OAGlCvE,KAAKuO,QAAQk+G,cAChBzsH,KAAKuO,QAAQk+G,YAAczsH,KAAKuO,QAAQhK,OAG1CvE,KAAKoP,OA8NP,OA3NAm9G,EAAiB3sH,UAAUwP,KAAO,WAChC,IAAIlK,EAAQlF,KAERorH,EAAgBprH,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,aACrDjd,KAAK0O,UAAY08G,EAAc79E,WAC/BvtC,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,QAEN7K,EAAM0qC,KAAK7gC,OAAOe,WAItBy8G,EAAiB3sH,UAAU+P,OAAS,WAClC,IAAIzK,EAAQlF,KAERqrH,EAAWrrH,KAAK+N,KAAKkP,IAAI,YAAY,GACrC/G,EAASm1G,EAASjgG,YACtB,gBAAKlV,GAAQ,SAAUgE,GACrB,IAAIw0C,EAAYxpD,EAAMomH,YAAYpxG,GAE9BoU,EAASppB,EAAMq7C,SAASrmC,GAExBwyG,EAAcxnH,EAAMynH,kBAEpB5gF,EAAS,GACb,gBAAK2iB,GAAW,SAAUhP,EAAKngD,GAC7B,IAAIgF,EAAc,IAANhF,EAAU2F,EAAMqJ,QAAQi+G,SAAWtnH,EAAMqJ,QAAQk+G,YAEzDx4G,EAAQ/O,EAAMsmH,aAAatxG,EAAO3a,GAEP,UAA3B2F,EAAMqJ,QAAQiI,UAAwBtR,EAAMqJ,QAAQuuG,aAAyB,UAAV7oG,IACrE1P,EAAMuO,OAAS,MAGjB,IAAImc,EAAY/pB,EAAMqJ,QAAQ0gB,UAC1B49B,EAAU59B,EAAYA,EAAUX,EAAO/uB,IAAM+uB,EAAO/uB,GAEpD0V,EAAQ/P,EAAMwJ,UAAUge,SAAS,OAAQ,CAC3CrI,MAAO,mBAAQ,GAAI9f,EAAO,CACxBqK,EAAG8wC,EAAI9wC,EACPC,EAAG6wC,EAAI7wC,EACP6E,KAAMm5C,EACNl6C,KAAMsB,EACNN,UAAW,SACXC,aAAc84G,EAAYntH,OAI9BwsC,EAAOv7B,KAAKyE,GAEZ/P,EAAMsiB,YAAYvS,MAEpBiF,EAAM7J,IAAI,cAAe07B,GAEzB7mC,EAAM6xD,eAAehrB,EAAO,GAAIA,EAAO,GAAI7xB,MAE9BmxG,EAASpuG,IAAI,mBACnBkwD,gBAAkBntE,KAAK0O,UAChC1O,KAAK4vC,KAAK7gC,OAAOe,QAGnBy8G,EAAiB3sH,UAAU0Q,KAAO,WAChCtQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAK4vC,KAAK7gC,OAAOe,QAGnBy8G,EAAiB3sH,UAAUwQ,KAAO,WAChCpQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAK4vC,KAAK7gC,OAAOe,QAGnBy8G,EAAiB3sH,UAAUmQ,MAAQ,WAC7B/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInBw8G,EAAiB3sH,UAAUk8G,QAAU,WAC/B97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,SAGjBnQ,KAAKmO,WAAY,GAGnBo+G,EAAiB3sH,UAAUqpB,QAAU,aAErCsjG,EAAiB3sH,UAAU+jG,kBAAoB,WAC7C,IACI8nB,EADQzrH,KAAK4vC,KAAKj6B,MACCV,MAAM1Q,MAC7B,MAAO,CACLiS,SAAU,QACV8zB,QAAS,EACTC,QAhIe,EAiIfhmC,MAAO,iBAAMknH,GACb3O,aAAa,EACb/lD,gBAAgB,IAIpBw1D,EAAiB3sH,UAAU0rH,YAAc,SAAUpxG,GACjD,IAOImH,EAAIM,EAPJwsB,EAASj0B,EAAM+C,IAAI,UACnBwL,EAAO0lB,EAAOt/B,EAAE,GAChB6Z,EAAOylB,EAAOt/B,EAAE,GAChBrJ,EAAKxF,KAAKuO,QAEVg8B,GADU/kC,EAAG8kC,QACH9kC,EAAG+kC,SACb37B,EAAIu/B,EAAOv/B,EAWf,MAR8B,UAA1B5O,KAAKuO,QAAQiI,UACf6K,EAAKoH,EAAO8hB,EACZ5oB,EAAK+G,EAAO6hB,IAEZlpB,EAAKoH,EAAO8hB,EACZ5oB,EAAK+G,EAAO6hB,GAGP,CAAC,CACN37B,EAAGA,EACHC,EAAG8S,GACF,CACD/S,EAAGA,EACHC,EAAGwS,KAIPkrG,EAAiB3sH,UAAU2gD,SAAW,SAAUrmC,GAC9C,IAAI6lB,EAAS//B,KAAK4vC,KAAKrhC,QAAQwxB,OAC/B,OAAO7lB,EAAM+C,IAAI,UAAUm+C,QAAQr7B,IAGrCwsF,EAAiB3sH,UAAU+sH,gBAAkB,WAC3C,MAA8B,UAA1B3sH,KAAKuO,QAAQiI,SACR,CAAC,MAAO,UAER,CAAC,SAAU,QAItB+1G,EAAiB3sH,UAAU4rH,aAAe,SAAUtxG,EAAO5V,GACzD,GAAItE,KAAKuO,QAAQuuG,aAAyC,UAA1B98G,KAAKuO,QAAQiI,SAAsB,CACjE,IAAI0mG,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GAgBlB,OAjMN,SAAsBM,EAAMH,GAC1B,IAAIl4E,EAQJ,OAPA,gBAAKq4E,GAAM,SAAU59F,GACnB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAGXkxB,EAuLW,CAbE,CAAC,CACf7I,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAZEiK,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,GAmB5E,OAD6B,IAAV74G,EAActE,KAAKuO,QAAQi+G,SAAS75G,KAAO3S,KAAKuO,QAAQk+G,YAAY95G,MAIzF45G,EAAiB3sH,UAAU4nB,YAAc,SAAUvS,GAC7CjV,KAAK4vC,KAAK5kB,YAAqC,IAAxBhrB,KAAK4vC,KAAK5kB,YAIrC/V,EAAMmT,KAAK,cAAe,GAC1BnT,EAAMmT,KAAK,gBAAiB,GAC5BnT,EAAMo/B,cACNp/B,EAAMuH,QAAQ,CACZ5J,YAAa,EACbkB,cAAe,GACd,IAAK,aAAc,OAGxBy4G,EAAiB3sH,UAAUm3D,eAAiB,SAAUvS,EAAImnE,EAAIzxG,GAC5D,IAAIi0B,EAASj0B,EAAM+C,IAAI,UACnB2vG,EAAYz+E,EAAOt/B,EAAE,GACrBg+G,EAAY1+E,EAAOt/B,EAAE,GACrBi+G,EAAc5uG,KAAKsE,IAAIqqG,EAAYD,GACnCj+E,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3BuvD,EAAQ,CAAChoB,EAAGv7B,UAAW0iG,EAAG1iG,WAC1BhF,EAAKugC,EAAGp8B,KAAK,KACb7D,EAAKonG,EAAGvjG,KAAK,KAEjB,GAAIpoB,KAAKuO,QAAQwoD,gBAA4C,UAA1B/2D,KAAKuO,QAAQiI,SAAsB,CACpE,IAAI2pC,EAAcqsB,EAAM,GAAG19D,OAAS09D,EAAM,GAAG19D,QAC7B09D,EAAM,GAAG9jD,KAAO8jD,EAAM,GAAG/jD,KAAO,GAC/B03B,EAAc2sE,KAG7BvoG,EAAKqoG,EAAY5sH,KAAKuO,QAAQg8B,QAC9BohF,EAAGvjG,KAAK,OAAQpoB,KAAKuO,QAAQi+G,SAAS75G,MACtCg5G,EAAGvjG,KAAK,eAAgB,UACxBnE,EAAK4oG,EAAY7sH,KAAKuO,QAAQg8B,QAC9Bia,EAAGp8B,KAAK,OAAQpoB,KAAKuO,QAAQk+G,YAAY95G,MACzC6xC,EAAGp8B,KAAK,eAAgB,OACxBokD,EAAM,GAAKhoB,EAAGv7B,UACdujD,EAAM,GAAKm/C,EAAG1iG,WAKdujD,EAAM,GAAG9jD,KAAOimB,EAAWjmB,KApPd,IAqPfzE,EAAK0qB,EAAWjmB,KAAO,EACvB87B,EAAGp8B,KAAK,eAAgB,WAG1Bo8B,EAAGp8B,KAAK,IAAKnE,GACb0nG,EAAGvjG,KAAK,IAAK7D,GACbvkB,KAAK4vC,KAAK7gC,OAAOe,QAGZy8G,EA9OT,GCZA,SAASQ,GAAyB7yG,EAAOuN,GACvC,IAAIojB,EAAO3wB,EAAM+O,UACbL,EAAUiiB,EAAKpiB,KAAOoiB,EAAK/7B,OAAS,EACpCs2F,EAAS,IAAI,QAAO,CACtB/gF,MAAO,CACLzV,EAAGi8B,EAAKtiB,KACR1Z,EAAG+Z,EACHpkB,MAAOqmC,EAAKrmC,MACZsK,OAAQ,KAGZoL,EAAMkO,KAAK,OAAQg9E,GACnBA,EAAO5oF,QAAQ,CACb1N,OAAQ+7B,EAAK/7B,OACbD,EAAGg8B,EAAKpiB,MACPhB,EAAWG,SAAUH,EAAWE,QAAQ,WACzCzN,EAAMkO,KAAK,OAAQ,QAClBX,EAAWC,OAQhB,SAASslG,GAAyB9yG,EAAOuN,GACvC,IAAIwkG,EAUN,SAA2B/xG,GACzB,IACI5a,EADAqP,EAAKuL,EAAMvL,GASf,OANA,QAAO,IAAY,SAAUzO,GACvBA,EAAEyO,KAAOA,IACXrP,EAASY,MAINZ,EApBQ,CAAkB4a,GAAOkO,KAAK,QAEzC+jG,EAAS,SAAQjyG,EAAMkO,KAAK,SAEhClO,EAAMkO,KAAK,OAAQ6jG,GACnB/xG,EAAMsC,QAAQ,CACZJ,KAAM+vG,GACL1kG,EAAWG,SAAUH,EAAWE,OAAQF,EAAWI,SAAU,KAblEklG,GAAyBziG,cAAgB,2BA6BzC0iG,GAAyB1iG,cAAgB,2BACzC,GAAQY,kBAAkB,SAAU,2BAA4B6hG,IAChE,GAAQ7hG,kBAAkB,SAAU,2BAA4B8hG,IClDhE,IAAI,GAEJ,SAAU/nH,GAGR,SAASgoH,IACP,IAAI/nH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,cACNjB,EAuDT,OA7DA,qBAAU+nH,EAAkBhoH,GAS5BgoH,EAAiBtpB,kBAAoB,WACnC,OAAO,WAAU1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACpDiV,MAAO,CACL+H,SAAS,EACTxG,SAAU,UAEX,KAGLy2G,EAAiBrtH,UAAUu/F,YAAc,WACnCn/F,KAAKuO,QAAQ0G,OAASjV,KAAKuO,QAAQ0G,MAAM+H,SAC/B,IAAI,GAAiB,oBAAS,CACxCjP,KAAM/N,KAAK+N,KACX6hC,KAAM5vC,MACLA,KAAKuO,QAAQ0G,QACVtF,SAIR,IAAI08G,EAAc,GACdt7B,EAAQ/wF,KAAK+N,KAAKkP,IAAI,YAE1B,QAAO8zE,GAAO,SAAUC,GACtB,IAAI96E,EAAS86E,EAAK5lE,YAElB,QAAOlV,GAAQ,SAAUgE,GACvBmyG,EAAY77G,KAAK0J,SDjBvB,GCqBgBmyG,EAEdpnH,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCitH,EAAiBrtH,UAAU4+G,aAAe,aAE1CyO,EAAiBrtH,UAAUorB,UAAY,WACrC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,MAEhCA,KAAK0c,OAAOF,QAAU,CACpBwN,OAAQ,CACNgB,UAAW,2BACXpD,SAAU,KAEZyC,OAAQ,CACNW,UAAW,2BACXpD,SAAU,OAKTqlG,EA9DT,CA+DE,IAEa,MACfhmB,GAAiB,cAAe,KCpEhC,SAAUhiG,GAGR,SAASioH,IACP,OAAkB,OAAXjoH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUktH,EAAajoH,GAMvBioH,EAAYttH,UAAU0nG,aAAe,SAAU7mG,GAC7C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,cAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CiU,EAAYvpB,kBAAoB,GAAiBA,kBAfnD,CAiBE,ICbF,SAAS,GAAYh9E,EAAQtI,EAAOnF,GAClC,MAAO,CACLtK,EAAG+X,EAAO/X,EAAIsK,EAAIgF,KAAKiE,IAAI9D,GAC3BxP,EAAG8X,EAAO9X,EAAIqK,EAAIgF,KAAKkE,IAAI/D,IAmB/B,IA+Ye,GA7Yf,WACE,SAAS8uG,EAAYj+G,GACnBlP,KAAK+N,KAAOmB,EAAInB,KAChB/N,KAAK62D,OAAS3nD,EAAI2nD,OAClB72D,KAAKivB,UAAY/f,EAAI+f,UACrBjvB,KAAKsqC,QAAUp7B,EAAIo7B,QACnBtqC,KAAKuqC,QAAUr7B,EAAIq7B,QACnBvqC,KAAK2qF,OAAS,UAvBT,CACLj3E,KAAM,CACJf,KAAM,sBACNmC,SAAU,IAEZpC,UAAW,GACX06G,WAAY,sBAGZC,YAAa,GACbn4G,WAAY,IAa4B,QAAOhG,EAAI3K,MAAO,CAAC,aAAc,eAErE2K,EAAI3K,QACNvE,KAAK2qF,OAAOj3E,KAAO,OAAM1T,KAAK2qF,OAAOj3E,KAAMxE,EAAI3K,QAGjDvE,KAAKstH,cAActtH,KAAK2qF,QAExB3qF,KAAKysC,QA2XP,OAxXA0gF,EAAYvtH,UAAUkQ,KAAO,WAC3B,IAAI5K,EAAQlF,KAEZ,GAAKA,KAAK+N,OAAQ/N,KAAK+N,KAAKI,UAA5B,CAMA,IAAIsR,EAAO,SAAQzf,KAAK+N,KAAKkP,IAAI,iBAEjCjd,KAAKksE,OAAS,CAAC,GAAI,IACnBlsE,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,oBAAoBswB,WACnD,IAAIr3B,EAASlW,KAAK+N,KAAKkP,IAAI,YAAY,GAAGmO,YACtC9E,EAAQtmB,KAAK+N,KAAKkP,IAAI,SACtBswG,EAAavtH,KAAK62D,OAAO,GACzBlpC,EAAQ3tB,KAAK+N,KAAKkP,IAAI,UAAUswG,GAChC5mG,EAASL,EAAMK,OACfF,EAAaH,EAAMG,WACnBjT,EAAS8S,EAAMO,YAEfrhB,EAAKxF,KAAK+N,KAAKkP,IAAI,cACnBzY,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAEhB9O,KAAKwE,MAAQA,EACbxE,KAAK8O,OAASA,EAsHd,IArHA,IAAIuP,EAAQoI,EAER+mG,EAAU,SAAiB98G,GAC7B,IAAIkO,EAAIa,EAAK/O,GAET+8G,EAAa9/F,EAAMA,MAAM/O,EAAE2uG,IAC3BG,EAAcrvG,EAAkB,EAAVH,KAAKK,GAASkvG,EACpCtiD,EAAc9sD,GAASqvG,EAAcrvG,GAAS,EAClDA,EAAQqvG,EAER,IAAIC,EAAc,GAAYhnG,EAAQwkD,EAAa33D,EAxFrC,GAyFVo6G,EAAkB,GAAYjnG,EAAQwkD,EAAa33D,EAvFrC,IAyFdS,EAvFU,OAyFd,GAA6B,IAAzB45G,EAAOh3D,OAAOp3D,OAAc,CAC9B,IAAIkiF,EAAaksC,EAAOh3D,OAAO,GAE3Bi3D,EADaD,EAAO9/G,KAAKkP,IAAI,UAAU0kE,GACfh0D,MAAM/O,EAAE+iE,IAChCosC,EAAa7vG,KAAK2V,MAAMi6F,GAAc53G,EAAOzW,OAAS,IAC1DwU,EAAQiC,EAAO63G,GAAY3lG,KAAK,QAIlC,IAAInT,EAAQ,CACV+4G,QAASL,EACTM,YAAaL,EACb/xC,MAAOj9D,EACPhQ,EAAGg/G,EAAgBh/G,EACnBC,EAAG++G,EAAgB/+G,EACnBqK,EAAG1F,EA1Ga,GA2GhBb,KAAMsB,EACNi6G,UAAW,KACXC,MAAO,MAGLC,EAAQ,GAMZ,GAJA,QAAOP,EAAOh3D,QAAQ,SAAUtrB,GAC9B6iF,EAAM59G,KAAKoO,EAAE2sB,OAGXsiF,EAAO5+F,UAAW,CACpB,IAAIo/F,EAAYR,EAAO5+F,UAAUrQ,EAAE2uG,GAAa,CAC9CnyD,QAASx8C,EACT3K,MAAOA,GACNvD,GAEC,YAAW29G,KACbA,EAAY,CAACA,IAGfD,EAAQC,EAGV,IAAIH,EAAY,IAAI,SAChB3oE,EAAY,CACd32C,EAAG,EACHC,EAAG,EACHiG,SAAU+4G,EAAOljC,OAAOj3E,KAAKoB,SAC7BI,WAAY24G,EAAOljC,OAAOj3E,KAAKoB,SAC/B63C,WAAYkhE,EAAOljC,OAAOj3E,KAAKi5C,WAC/Bh6C,KAAMk7G,EAAOljC,OAAOj3E,KAAKf,MAGvB27G,EAAY1vG,EAAE2uG,GAEdM,EAAO5+F,YACTq/F,EAAYF,EAAM,IAGpB,IAAIG,EAAiB,SAAQhpE,IAER,IAAjB6oE,EAAM3uH,SACR8uH,EAAe5hE,WAAa,KAGTuhE,EAAUxhG,SAAS,OAAQ,CAC9CrI,MAAO,OAAM,CACXzQ,aAA+B,IAAjBw6G,EAAM3uH,OAAe,MAAQ,SAC3CiU,KAAM46G,GACLC,GACH9uG,KAAMb,EACN2rB,QAA0B,IAAjB6jF,EAAM3uH,OA5JF,EA4JkC,EAC/CwS,KAAM,UAEOA,KAAO,QAID,IAAjBm8G,EAAM3uH,UACWyuH,EAAUxhG,SAAS,OAAQ,CAC5CrI,MAAO,OAAM,CACXzQ,aAAc,SACdF,KAAM06G,EAAM,IACX7oE,GACH9lC,KAAMb,EACN2rB,SAzKW,EA0KXt4B,KAAM,UAEKA,KAAO,SAGtBgD,EAAMi5G,UAAYA,EAGdP,EAAY/+G,EAAI+X,EAAO/X,GACzBqG,EAAMk5G,MAAQ,OACdN,EAAO3hD,OAAO,GAAG17D,KAAKyE,KAEtBA,EAAMk5G,MAAQ,QACdN,EAAO3hD,OAAO,GAAG17D,KAAKyE,KAItB44G,EAAS7tH,KAEJ0Q,EAAM,EAAGA,EAAM+O,EAAKhgB,OAAQiR,IACnC88G,EAAQ98G,GAKV,IACI89G,EAAqBtwG,KAAK2V,MAAM/kB,EAAS9O,KAAK2qF,OAAOz1E,YAEzD,QAAOlV,KAAKksE,QAAQ,SAAUvxC,GACxBA,EAAKl7B,OAAS+uH,GAChB7zF,EAAKhqB,OAAO69G,EAAoB7zF,EAAKl7B,OAAS+uH,GAGhD7zF,EAAK5D,MAAK,SAAU1Z,EAAGuC,GACrB,OAAOvC,EAAExO,EAAI+Q,EAAE/Q,KAGjB3J,EAAMupH,eAAe9zF,MAGvB36B,KAAK+N,KAAKkP,IAAI,UAAUnN,SAG1Bq9G,EAAYvtH,UAAUmQ,MAAQ,WACxB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInBo9G,EAAYvtH,UAAU6sC,MAAQ,WAC5B,IAAIvnC,EAAQlF,KAEZA,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,WAER/P,KAAK+N,KAAKC,GAAG,eAAe,WAC1B9I,EAAM4K,WAIVq9G,EAAYvtH,UAAU6uH,eAAiB,SAAU9zF,GAC/C,IASIp7B,EATA2F,EAAQlF,KAERsmB,EAAQtmB,KAAK+N,KAAKkP,IAAI,SACtB68C,EAAexzC,EAAM+e,YACrB1e,EAASL,EAAMK,OACfnT,EAAS8S,EAAMO,YACfylD,EAAS3lD,EAAO9X,EAAI2E,EAjPJ,GAiPiCxT,KAAK2qF,OAAOz1E,WAC7Dm3D,GAAc,EACdqiD,EAAS50D,EAETpxC,EAAO,EACPD,EAAO/F,OAAO6pD,UACdoiD,EAAgB,EAChBniD,EAAQ7xC,EAAKv2B,KAAI,SAAU6Q,GAC7B,IAAI25G,EAAS35G,EAAMpG,EAEf+/G,EAASlmG,IACXA,EAAOkmG,GAGLA,EAASnmG,IACXA,EAAOmmG,GAGT,IACIC,EADY55G,EAAMi5G,UACKjlG,UAAUzkB,MAMrC,OAJIqqH,GAAcF,IAChBA,EAAgBE,GAGX,CACL3oH,KAAMhB,EAAMylF,OAAOz1E,WACnBu3D,QAAS,CAACmiD,EAAStiD,OAInB5jD,EAAO4jD,EAASoiD,IAClBA,EAAShmG,EAAO4jD,GAUlB,KAAOD,GAML,IALcG,EAPRtkE,SAAQ,SAAU6K,GACtB,IAAIzT,GAAU4e,KAAKuR,IAAI1vB,MAAM0oB,EAAM1V,EAAI05D,SAAWvuD,KAAKyH,IAAI5lB,MAAM0oB,EAAM1V,EAAI05D,UAAY,EACvF15D,EAAI2sC,IAAMxhC,KAAKuR,IAAIvR,KAAKyH,IAAI8C,EAAMnpB,EAASyT,EAAI7M,KAAO,GAAIwoH,EAAS37G,EAAI7M,SAOzEmmE,GAAc,EACd9sE,EAAIitE,EAAM/sE,OAEHF,KACL,GAAIA,EAAI,EAAG,CACT,IAAImtE,EAAcF,EAAMjtE,EAAI,GACxBwT,EAAMy5D,EAAMjtE,GAEZmtE,EAAYhtB,IAAMgtB,EAAYxmE,KAAO6M,EAAI2sC,MAE3CgtB,EAAYxmE,MAAQ6M,EAAI7M,KACxBwmE,EAAYD,QAAUC,EAAYD,QAAQprE,OAAO0R,EAAI05D,SAEjDC,EAAYhtB,IAAMgtB,EAAYxmE,KAAOwoH,IACvChiD,EAAYhtB,IAAMgvE,EAAShiD,EAAYxmE,MAGzCsmE,EAAM77D,OAAOpR,EAAG,GAEhB8sE,GAAc,GAMtB9sE,EAAI,EACJitE,EAAMtkE,SAAQ,SAAU0X,GACtB,IAAI+sD,EAAoBL,EAExB1sD,EAAE6sD,QAAQvkE,SAAQ,WAChByyB,EAAKp7B,GAAGsP,EAAI+Q,EAAE8/B,IAAMitB,EAAoBznE,EAAMylF,OAAOz1E,WAAa,EAClEy3D,GAAqBznE,EAAMylF,OAAOz1E,WAClC3V,UAGJ,IAAIuvH,EAAc,GAClBn0F,EAAKzyB,SAAQ,SAAU+M,GACrB,IAAIi5G,EAAYhpH,EAAM6pH,WAAW95G,GAEjC/P,EAAMwJ,UAAUkB,IAAIs+G,GAEpBhpH,EAAM8pH,eAAe/5G,EAAO05G,GAE5BG,EAAYt+G,KAAK09G,OAIrBf,EAAYvtH,UAAUmvH,WAAa,SAAU95G,GAC3C,IAAIqR,EAAQtmB,KAAK+N,KAAKkP,IAAI,SACtB0J,EAASL,EAAMM,YACfpT,EAAS8S,EAAMO,YAEfhY,GADQ7O,KAAKwE,MACTyQ,EAAMpG,GACVq/G,EAAYj5G,EAAMi5G,UAClB5nH,EAAW4nH,EAAUjxG,IAAI,YACzBgyG,EAAwB,SAAhBh6G,EAAMk5G,MAAmB,GAAK,EACtC5oE,EAAY,CACd5xC,UAA2B,SAAhBsB,EAAMk5G,MAAmB,QAAU,OAC9Cv/G,EAAmB,SAAhBqG,EAAMk5G,MAAmBxnG,EAAO/X,EAAI4E,EAASxT,KAAK2qF,OAAO0iC,YAAc1mG,EAAO/X,EAAI4E,EAASxT,KAAK2qF,OAAO0iC,aAa5G,OAVIrtH,KAAKsqC,UACPib,EAAU32C,GAAK5O,KAAKsqC,QAAU2kF,GAGhC3oH,EAAS4B,SAAQ,SAAUojB,GACzB,IAAIif,EAAUjf,EAAMrO,IAAI,WACpBggG,EAAYpuG,EAAI07B,EACpBjf,EAAMlD,KAAKm9B,GACXj6B,EAAMlD,KAAK,IAAK60F,MAEXiR,GAGTf,EAAYvtH,UAAUovH,eAAiB,SAAU/5G,EAAO05G,GACtD,IAAIX,EAAU,CAAC/4G,EAAM+4G,QAAQp/G,EAAGqG,EAAM+4G,QAAQn/G,GAC1Co/G,EAAc,CAACh5G,EAAMg5G,YAAYr/G,EAAGqG,EAAMg5G,YAAYp/G,GAEtDA,GADOoG,EAAMtC,KACTsC,EAAMpG,GACVq/G,EAAYj5G,EAAMi5G,UACtB,GAAKA,EAAL,CACA,IAAIpX,EAAY,CAAiB,SAAhB7hG,EAAMk5G,MAAmBD,EAAUjlG,UAAUT,KAAO,EAAI0lG,EAAUjlG,UAAUV,KAAO,EAAG1Z,GACnGyZ,EAAS,CAAC0lG,EAASC,EAAanX,GAEpC,GAAImX,EAAY,KAAOp/G,EAErB,GAAIo/G,EAAY,GAAKp/G,EAAG,CAEtB,IAAIg8D,EAASojD,EACTiB,EAAYpY,EAAU,GAAK6X,EAlXpB,GAmXPQ,EAAarY,EAAU,GAAK6X,EAnXrB,GAoXPS,EAAS,CAAiB,SAAhBn6G,EAAMk5G,MAAmBe,EAAYC,EAAYlB,EAAY,IACvEoB,EAAS,CAAiB,SAAhBp6G,EAAMk5G,MAAmBrX,EAAU,GAAK6X,EAAgB7X,EAAU,GAAK6X,EAAe7X,EAAU,IAC9GxuF,EAAS,CAAC0lG,EAASnjD,EAAQukD,EAAQC,EAAQvY,IAEvB,UAAhB7hG,EAAMk5G,OAAqBiB,EAAO,GAAKvkD,EAAO,IAAsB,SAAhB51D,EAAMk5G,OAAoBiB,EAAO,GAAKvkD,EAAO,MACnGviD,EAAS,CAAC0lG,EAASqB,EAAQvY,SAG7BxuF,EAAS,CAAC0lG,EAAS,CAACC,EAAY,GAAIp/G,GAAIioG,GAM5C,IAFA,IAAI16F,EAAO,GAEF7c,EAAI,EAAGA,EAAI+oB,EAAO7oB,OAAQF,IAAK,CACtC,IAAIc,EAAIioB,EAAO/oB,GACX+vH,EAAU,IAEJ,IAAN/vH,IACF+vH,EAAU,KAGZlzG,EAAK5L,KAAK,CAAC8+G,EAASjvH,EAAE,GAAIA,EAAE,KAG9BL,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,CACLjI,KAAMA,EACN1J,UAAW1S,KAAK2qF,OAAOj4E,UACvBI,OAAQ9S,KAAK2qF,OAAOyiC,gBAa1BD,EAAYvtH,UAAU0tH,cAAgB,SAAU3iC,GAC1CA,EAAOj3E,KAAKoB,WACd61E,EAAOz1E,WAAoC,EAAvBy1E,EAAOj3E,KAAKoB,WAI7Bq4G,EA1YT,GCnCO,SAAS,GAAYxmG,EAAQtI,EAAOnF,GACzC,MAAO,CACLtK,EAAG+X,EAAO/X,EAAIsK,EAAIgF,KAAKiE,IAAI9D,GAC3BxP,EAAG8X,EAAO9X,EAAIqK,EAAIgF,KAAKkE,IAAI/D,IAsExB,ICtEHmkE,GADSlwC,SAASgwC,cAAc,UACnBG,WAAW,MAKjB8sC,GAAmB,YAAU,SAAU77G,EAAM87G,QACzC,IAATA,IACFA,EAAO,IAGT,IAAI16G,EAAW06G,EAAK16G,SAChBC,EAAay6G,EAAKz6G,WAClB43C,EAAa6iE,EAAK7iE,WAClB51C,EAAYy4G,EAAKz4G,UACjB04G,EAAcD,EAAKC,YAEvB,OADAjtC,GAAIgtC,KAAO,CAACz4G,EAAW04G,EAAa9iE,EAAY73C,EAAW,KAAMC,GAAY6O,KAAK,KAC3E4+D,GAAIktC,YAAY,YAAWh8G,GAAQA,EAAO,IAAIlP,SACpD,SAAUkP,EAAM87G,GACjB,OAAOA,EAAO,0BAAe,CAAC97G,GAAO,UAAS87G,IAAO5rG,KAAK,IAAMlQ,KC+JnD,GAzKf,SAAUzO,GAGR,SAAS0qH,IACP,OAAkB,OAAX1qH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAkK7D,OArKA,qBAAU2vH,EAAW1qH,GAMrB0qH,EAAU/vH,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACjD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IAAInI,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAC/BqJ,EAAQtmB,KAAKid,IAAI,SACjB2yG,EAAQ7hH,EAAKkP,IAAI,cAEjBV,EAAWvc,KAAKid,IAAI,kBACpB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YAEnCwC,EAAO1R,EAAKkP,IAAI,gBAChB45C,EAAS72D,KAAK6vH,kBAAkBh5D,OAChC02D,EAAa12D,EAAO,GACpB8qB,EAAa9qB,EAAO,GACpBlpC,EAAQ5f,EAAKkP,IAAI,UAAUswG,GAC/BxhF,EAAO7jC,SAAQ,SAAU+M,EAAOvE,GAC9B,IAAIo/G,EAAWrwG,EAAK/O,GAChBkxC,EAAaj0B,EAAMA,MAAMmiG,EAASvC,IACtCt4G,EAAMmT,KAAK,OAAQ,CACjBxnB,MAAOkvH,EAASvC,GAChBt7G,KAAM69G,EAASnuC,GACf/xD,QAASgyB,OAGb,IAAIrV,EAAQhwB,EAASU,IAAI,UAAY,GAErCjd,KAAK+vH,QAAU,GACf,IAAIC,EAAe1pG,EAAMO,YAAc7mB,KAAKiwH,mBAC5CjwH,KAAKgwH,aAAeA,EACpBjkF,EAAO7jC,SAAQ,SAAU+M,EAAOvE,GAC9B,IAAIpJ,EAAOilC,EAAM77B,GACb6C,EAAQ,GAAY+S,EAAMM,YAAatf,EAAK+W,MAAO2xG,GAEvD9qH,EAAM6qH,QAAQv/G,KAAK,oBAAS,oBAAS,oBAAS,GAAIlJ,GAAOiM,GAAQ,CAC/D5E,GAAIsG,EAAMtG,SAGd,IAAIuhH,EAAa3zG,EAASU,IAAI,aAAaA,IAAI,aAAe,GAC9Djd,KAAK+2D,eAAehrB,EAAQQ,EAAOjmB,EAAOspG,GAC1C5vH,KAAKmwH,YAAYpkF,EAAQQ,EAAOjmB,EAAOspG,GAEvC5vH,KAAKowH,cAAcrkF,EAAQ6jF,GAC3B5vH,KAAKqwH,YAAYtkF,EAAQQ,EAAO2jF,EAAY5pG,EAAOspG,GACnD7hH,EAAKkP,IAAI,UAAUnN,QAKrB6/G,EAAU/vH,UAAUuwH,YAAc,SAAUpkF,EAAQQ,EAAOjmB,EAAOspG,GAChE,IAAI1qH,EAAQlF,KAEZ+rC,EAAO7jC,SAAQ,SAAU+M,GACvB,IAAIq7G,EAAS/jF,EAAM2yD,MAAK,SAAU5hF,GAChC,OAAOA,EAAE3O,KAAOsG,EAAMtG,MAGxBzJ,EAAMqrH,gBAAgBt7G,EAAOq7G,EAAQhqG,EAAOspG,OAIhDD,EAAU/vH,UAAUipE,YAAc,SAAUgD,GAE1C,OAAOA,GAKT8jD,EAAU/vH,UAAU2wH,gBAAkB,SAAUt7G,EAAO3N,EAAMgf,EAAOspG,GAClE,IAAI78G,EAAMkC,EAAMgU,UAEZqyB,EAAyB,UADbh0C,EAAKqM,UACkBZ,EAAIyV,KAAOonG,EAAMrnG,KAAOqnG,EAAMpnG,KAAOzV,EAAIwV,KAEhF,GAAI+yB,EAAWvoC,EAAIvO,MAAO,CACxB,IAAIgsH,EAAS,CACXz7G,WAAYE,EAAMmT,KAAK,cACvBtT,SAAUG,EAAMmT,KAAK,YACrBqnG,YAAax6G,EAAMmT,KAAK,eACxBukC,WAAY13C,EAAMmT,KAAK,cACvBrR,UAAW9B,EAAMmT,KAAK,cAEpBmiD,EAAat1D,EAAMmT,KAAK,QAKxBqoG,GAJOx7G,EAAMmT,KAAK,QAGyBnW,KACzBs4D,EAAW1mD,MAAM,MAAMzf,KAAI,SAAUhE,GACzD,ODxEqB,SAAyBsT,EAAM4nC,EAAUk0E,EAAMkB,GAC1E,IAGIC,EADAC,EAAYrB,GAAiB,MAAOC,GAMtCmB,EAHG,YAAWj9G,GAGHA,EAFA,YAAWA,GAKxB,IAGIm9G,EACAC,EAJAC,EAAYz1E,EACZpiC,EAAI,GAKR,GAAIq2G,GAAiB77G,EAAM87G,IAASl0E,EAClC,OAAO5nC,EAIT,KAEEm9G,EAAcF,EAAS5/F,OAAO,EAxBrB,OA0BT+/F,EAAevB,GAAiBsB,EAAarB,IAE1BoB,EAAYG,GACzBD,EAAeC,IAUrB,GALA73G,EAAE1I,KAAKqgH,GAEPE,GAAaD,IACbH,EAAWA,EAAS5/F,OArCX,KAwCP,OAAO7X,EAAE0K,KAAK,IAKlB,KAEEitG,EAAcF,EAAS5/F,OAAO,EAAG,MAEjC+/F,EAAevB,GAAiBsB,EAAarB,IAE1BoB,EAAYG,IAS/B,GALA73G,EAAE1I,KAAKqgH,GAEPE,GAAaD,IACbH,EAAWA,EAAS5/F,OAAO,IAGzB,OAAO7X,EAAE0K,KAAK,IAIlB,OAAO1K,EAAE0K,KAAK,IAAM,MCMP,CAAgBxjB,EAAGk7C,EAAW,EAAGk1E,OAE1Cv7G,EAAMmT,KAAK,OAAQqoG,EAAgB7sG,KAAK,SAM5C+rG,EAAU/vH,UAAUwwH,cAAgB,SAAUrkF,EAAQ6jF,GACpD,IAAI1qH,EAAQlF,KAGRgxH,EAAejlF,EAAOzmB,QAE1B,IAAItlB,KAAK6vH,kBAAkBoB,aAA3B,CAIAD,EAAaj6F,MAAK,SAAUm6F,EAAQC,GAIlC,OAHkBD,EAAO9oG,KAAK,QAAQxnB,MACpBuwH,EAAO/oG,KAAK,QAAQxnB,OAG5B,EAGH,KAGT,IAAK,IAAIrB,EAAI,EAAGA,EAAIyxH,EAAavxH,OAAQF,IAIvC,IAHA,IAAI0V,EAAQ+7G,EAAazxH,GACrB6xH,EAAc,EAETtwG,EAAIvhB,EAAI,EAAGuhB,GAAK,EAAGA,IAAK,CAC/B,IAAImjG,EAAO+M,EAAalwG,GAEpBuwG,EAAUpN,EAAKh7F,UACfqoG,EAAUr8G,EAAMgU,UAEpB,GAAIg7F,EAAKhnG,IAAI,aFnIUI,EEoIQg0G,EFpILzxG,EEoIc0xG,OFnI/B,KADoBx5G,OEoIb,KFlIpBA,EAAS,GEkIHs5G,EF/HOlzG,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAIpS,EAAEzO,EAAIyO,EAAE7Y,MAAQsT,EAAQ8H,EAAEhR,EAAIgR,EAAEpb,MAAQsT,GAAUoG,KAAKyH,IAAItI,EAAEzO,EAAIkJ,EAAQ8H,EAAEhR,EAAIkJ,IACpGoG,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAIpS,EAAExO,EAAIwO,EAAEvO,OAASgJ,EAAQ8H,EAAE/Q,EAAI+Q,EAAE9Q,OAASgJ,GAAUoG,KAAKyH,IAAItI,EAAExO,EAAIiJ,EAAQ8H,EAAE/Q,EAAIiJ,IAqDvFlJ,EE2EZwiH,EF3EeviH,EE2EF,OF1ErB,KAD0B1O,OE2EvBoxH,KFzEXpxH,EAAI+d,KAAKyZ,IAAIjV,OAAOmX,QAAS,OAGxB,CAACjrB,EAAGC,GAAGwhB,SAASuI,KAAY1a,KAAKsE,IAAI5T,KAAOsP,KAAKsE,IAAI3T,GAAKqP,KAAKsE,IAAI5T,EAAIC,GAAK1O,IEsEhD,CACzB8U,EAAM5E,IAAI,WAAW,GACrB,OF7EM,IAAczB,EAAGC,EAAG1O,EA3DPkd,EAAGuC,EAAG9H,EE8IjCk5G,EAAa9oH,SAAQ,SAAU+M,GAC7B,OAAO/P,EAAMssH,aAAav8G,EAAO26G,QAQrCD,EAAU/vH,UAAU4xH,aAAe,SAAUv8G,EAAO26G,GAClD,IAAI78G,EAAMkC,EAAMgU,UAEV2mG,EAAM/gH,GAAKkE,EAAIlE,GAAK+gH,EAAM/gH,EAAI+gH,EAAM9gH,QAAUiE,EAAIlE,EAAIkE,EAAIjE,QAC9DmG,EAAM5E,IAAI,WAAW,IAIzBs/G,EAAU/vH,UAAUiwH,gBAAkB,WACpC,OAAO7vH,KAAKid,IAAI,iBAGX0yG,EAtKT,CAPuB3iD,GAAiB,QCEjC,SAASykD,GAAe7wH,GAE7B,OADiB8hB,OAAO9hB,EAAM8wH,SAAS,KAAO9wH,EAAM0kB,MAAM,GAAI,GAAK1kB,GAC/C,IA+HtBqsE,GAAsB,QAtHtB,SAAUhoE,GAGR,SAAS0sH,IACP,OAAkB,OAAX1sH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA+G7D,OAlHA,qBAAU2xH,EAAY1sH,GAMtB0sH,EAAW/xH,UAAUm3D,eAAiB,SAAUhrB,EAAQQ,EAAOjmB,GAC7D,IAAIphB,EAAQlF,KAER2mB,EAASL,EAAMM,YAGf1N,EAFSoN,EAAMO,YACN7mB,KAAKiwH,mBAElBlkF,EAAO7jC,SAAQ,SAAU+M,EAAOvE,GAC9B,IAAI4/G,EAAS/jF,EAAM2yD,MAAK,SAAU3/F,GAChC,OAAOA,EAAEoP,KAAOsG,EAAMtG,MAGpBnJ,EAAK,GAAYmhB,EAAQ2pG,EAAOjyG,MAAOnF,GACvC04G,EAAOpsH,EAAGoJ,EACVg3B,EAAOpgC,EAAGqJ,EAMd,GAJAoG,EAAMmT,KAAK,IAAKwpG,GAChB38G,EAAMmT,KAAK,IAAKwd,GAChB3wB,EAAMmT,KAAK,eAAgB,UAEvB1X,EAAM,EAAG,CACX,IAAImhH,EAAY9lF,EAAOr7B,EAAM,GAE7BxL,EAAM4sH,iBAAiB78G,EAAO48G,EAAWvB,EAAQhqG,QAOvDqrG,EAAW/xH,UAAUywH,YAAc,SAAUtkF,EAAQQ,EAAO2jF,EAAY5pG,GACtE4pG,EAAWhoH,SAAQ,SAAUoX,GAC3B,OAAOA,EAAEjP,IAAI,WAAW,OAM5BshH,EAAW/xH,UAAU2wH,gBAAkB,aAIvCoB,EAAW/xH,UAAUqwH,iBAAmB,WACtC,IACIj7G,EADehV,KAAKid,IAAI,gBACFjI,OACtBxB,EAASxT,KAAKid,IAAI,SAAS4J,YAM/B,OAJI,oBAAS7R,KACXA,EAASxB,EAASi+G,GAAez8G,IAG5BA,EAAS,EAAI,EAAIA,GAK1B28G,EAAW/xH,UAAUkyH,iBAAmB,SAAU78G,EAAOgvG,EAAMqM,EAAQhqG,GACrE,IAAIjI,EAAQiyG,EAAOjyG,MACftL,EAAMkC,EAAMgU,UACZ8oG,EAAW9N,EAAKh7F,UAChBy2B,EAAM,CACR9wC,GAAImE,EAAIwV,KAAOxV,EAAIyV,MAAQ,EAC3B3Z,GAAIkE,EAAI0V,KAAO1V,EAAI2V,MAAQ,GAKzBspG,EAAO,iBAAMtyE,GAGbuyE,EAAO,iBAAMvyE,GAEjB,GAAIukE,EAAKt1G,KAAOsG,EAAMtG,GAAI,CACxB,IAAInJ,EHpEH,SAAwB6X,EAAGuC,EAAG9H,QACpB,IAAXA,IACFA,EAAS,GAGX,IAAIo6G,EAAWh0G,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAIpS,EAAEzO,EAAIyO,EAAE7Y,MAAQsT,EAAQ8H,EAAEhR,EAAIgR,EAAEpb,MAAQsT,GAAUoG,KAAKyH,IAAItI,EAAEzO,EAAIkJ,EAAQ8H,EAAEhR,EAAIkJ,IAC/Gq6G,EAAWj0G,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAIpS,EAAExO,EAAIwO,EAAEvO,OAASgJ,EAAQ8H,EAAE/Q,EAAI+Q,EAAE9Q,OAASgJ,GAAUoG,KAAKyH,IAAItI,EAAExO,EAAIiJ,EAAQ8H,EAAE/Q,EAAIiJ,IAmBrH,OAjBIo6G,GAAY70G,EAAEzO,EAAIgR,EAAEhR,IACtBsjH,GAAYA,GAGVC,GAAY90G,EAAExO,EAAI+Q,EAAE/Q,IACtBsjH,GAAYA,GAIV90G,EAAEzO,IAAMgR,EAAEhR,GAAKyO,EAAE7Y,QAAUob,EAAEpb,QAC/B0tH,EAAWtyG,EAAEpb,OAGX6Y,EAAExO,IAAM+Q,EAAE/Q,GAAKwO,EAAEvO,SAAW8Q,EAAE9Q,SAChCqjH,EAAWvyG,EAAE9Q,QAGR,CACLojH,SAAUA,EACVC,SAAUA,GGyCCC,CAAer/G,EAAKg/G,GACzBG,EAAW1sH,EAAG0sH,SACdC,EAAW3sH,EAAG2sH,SAOlB,GALID,IACFF,EAAKpjH,EAAI8wC,EAAI9wC,EAAIsjH,EACjBF,EAAKnjH,EAAI6wC,EAAI7wC,EAAIqP,KAAKkF,IAAI/E,GAAS6zG,GAGjCC,EAAU,CAEZ,IAAIE,EAASF,EACTxrG,EAASL,EAAMM,YAIjByrG,EAFE3yE,EAAI7wC,EAAI8X,EAAO9X,EAERwjH,EAAS,EAAIA,EAASN,EAAStpG,KAAO1V,EAAI2V,KAG1C2pG,EAAS,EAAIA,EAASN,EAASrpG,KAAO3V,EAAI0V,KAGrDwpG,EAAKpjH,EAAI6wC,EAAI7wC,EAAIwjH,EACjBJ,EAAKrjH,EAAI8wC,EAAI9wC,EAAIyjH,EAASn0G,KAAKkF,IAAI/E,GAGrC,IAEIi0G,EAFQhmC,GAAkB5sC,EAAKsyE,GACvB1lC,GAAkB5sC,EAAKuyE,GACHD,EAAOC,EAEvCh9G,EAAMmT,KAAK,IAAKkqG,EAAU1jH,GAC1BqG,EAAMmT,KAAK,IAAKkqG,EAAUzjH,KAIvB8iH,EAnHT,CAoHE,KC6MF1kD,GAAsB,QAjUtB,SAAUhoE,GAGR,SAASstH,IACP,OAAkB,OAAXttH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA0T7D,OA7TA,qBAAUuyH,EAAettH,GAMzBstH,EAAc3yH,UAAUm3D,eAAiB,SAAUhrB,EAAQQ,EAAOjmB,EAAOspG,GACvE,IAAI1qH,EAAQlF,KAEZA,KAAKwyH,qBAAqBzmF,EAAQzlB,EAAOspG,GAEzC,IAAI6C,EAAW,UAAS1mF,GAAQ,SAAUzsB,GACxC,MAEiB,UAFV,QAAOpa,EAAM6qH,SAAS,SAAU1yG,GACrC,OAAOA,EAAE1O,KAAO2Q,EAAE3Q,MACjBgF,aASL,CANgB,UAASo4B,GAAQ,SAAUzsB,GACzC,MAEiB,SAFV,QAAOpa,EAAM6qH,SAAS,SAAU1yG,GACrC,OAAOA,EAAE1O,KAAO2Q,EAAE3Q,MACjBgF,aAGO8+G,GAAUvqH,SAAQ,SAAUyyB,EAAM+3F,GAC5CxtH,EAAMupH,eAAe9zF,EAAMrU,EAAOspG,GAAQ8C,OAM9CH,EAAc3yH,UAAUywH,YAAc,SAAUtkF,EAAQ+I,EAAYo7E,EAAY5pG,EAAOspG,GACrF,IAAI1qH,EAAQlF,KAER+6D,EAAe/6D,KAAK6vH,kBAExB,QAAO9jF,GAAQ,SAAU92B,EAAOvE,GAC9B,IAAIyG,EAAY+4G,EAAWx/G,GAEvB0L,EAAOlX,EAAMytH,aAAa19G,EAAOqR,EAAOspG,GAI5C,GAFAz4G,EAAUiR,KAAK,OAAQhM,GAEnB2+C,EAAa3nD,KACf,IAAK,IAAIgV,KAAQ2yC,EAAa3nD,KAC5B+D,EAAUiR,KAAKA,EAAM2yC,EAAa3nD,KAAKgV,IAI3CjR,EAAU9G,IAAI,UAAW4E,EAAMgI,IAAI,gBAMvCs1G,EAAc3yH,UAAUqwH,iBAAmB,WACzC,IACIj7G,EADehV,KAAK6vH,kBACE76G,OAM1B,OAJI,YAAWA,KACbA,EAASy8G,GAAez8G,SAGRlO,IAAXkO,EAzEiB,GAyEuBA,EAAS49G,EAAqB59G,EAAS,EAAIA,EAtElE,GA2E1Bu9G,EAAc3yH,UAAU6uH,eAAiB,SAAU1iF,EAAQzlB,EAAO2lD,EAAWG,GAC3E,IAAIlnE,EAAQlF,KAERkX,EAAclX,KAAK6yH,iBACnBC,EAAS9yH,KAAKgwH,aACdrpG,EAASL,EAAMM,YACfmzC,EAAc77C,KAAKuR,IAAIw8C,EAAUn9D,OAAQoP,KAAKyH,IAAa,EAATmtG,EAA2B,EAAd57G,EAAiB60B,EAAOtsC,OAASyX,IAChG67G,EAAiB70G,KAAK2V,MAAMkmC,EAAc7iD,GAEzClX,KAAKid,IAAI,gBAAgBg0G,cAC5BllF,EAAOzmB,MAAMytG,GAAgB7qH,SAAQ,SAAU+M,GAC7CA,EAAM5E,IAAI,WAAW,MAIzB07B,EAAOp7B,OAAOoiH,EAAgBhnF,EAAOtsC,OAASszH,GAE9ChnF,EAAOhV,MAAK,SAAU1Z,EAAGuC,GACvB,OAAOvC,EAAE4L,UAAUpa,EAAI+Q,EAAEqJ,UAAUpa,KA2BrC,IAxBA,IACItP,EADA8sE,GAAc,EAEd3jD,EAAO/B,EAAO9X,EAAIkrD,EAAc,EAChCtxC,EAAO9B,EAAO9X,EAAIkrD,EAAc,EAChCyS,EAAQzgC,EAAO3nC,KAAI,SAAU6Q,GAC/B,IAAI+9G,EAAW/9G,EAAMgU,UAUrB,OARI+pG,EAAStqG,KAAOA,IAClBA,EAAOxK,KAAKuR,IAAIw8C,EAAUvjD,KAAMsqG,EAAStqG,OAGvCsqG,EAASvqG,KAAOA,IAClBA,EAAOvK,KAAKyH,IAAIsmD,EAAUxjD,KAAMuqG,EAASvqG,OAGpC,CACL/U,KAAMuB,EAAMmT,KAAK,QACjBliB,KAAMgR,EACNwoC,IAAKszE,EAASnkH,EACd49D,QAAS,OAGT3rD,EAAI,EAEDA,EAAI0rD,EAAM/sE,QACXqhB,IAAM0rD,EAAM/sE,OAAS,EACvB+sE,EAAM1rD,GAAG2rD,QAAQ,GAAK/jD,EAEtB8jD,EAAM1rD,GAAG2rD,QAAQ,GAAKD,EAAM1rD,EAAI,GAAG4+B,IAAM8sB,EAAM1rD,EAAI,GAAG5a,KAAO,EAG/D4a,IAGF,KAAOurD,GAUL,IATAG,EAAMtkE,SAAQ,SAAU6K,GACtB,IAAIzT,EAAS,QAAOyT,EAAI05D,SAExB15D,EAAI2sC,IAAMxhC,KAAKyH,IAAI8C,EAAMvK,KAAKuR,IAAI1c,EAAI2sC,IAAKpgD,EAASyT,EAAI7M,UAG1DmmE,GAAc,EACd9sE,EAAIitE,EAAM/sE,OAEHF,KACL,GAAIA,EAAI,EAAG,CACT,IAAImtE,EAAcF,EAAMjtE,EAAI,GACxBwT,EAAMy5D,EAAMjtE,GAEhB,GAAImtE,EAAYhtB,IAAMgtB,EAAYxmE,KAAO6M,EAAI2sC,IAAK,CAEhDgtB,EAAYxmE,MAAQ6M,EAAI7M,KACxBwmE,EAAYD,QAAUC,EAAYD,QAAQprE,OAAO0R,EAAI05D,SAErD,IAAIntE,EAAS,QAAOotE,EAAYD,SAE5BC,EAAYhtB,IAAMgtB,EAAYxmE,KAAO5G,IACvCotE,EAAYhtB,IAAMpgD,EAASotE,EAAYxmE,MAGzCsmE,EAAM77D,OAAOpR,EAAG,GAEhB8sE,GAAc,OAGdK,EAAYD,QAAQ97D,QAAQ,EAAG,EAAGoC,EAAI2sC,KAM9CngD,EAAI,EAEJitE,EAAMtkE,SAAQ,SAAU0X,GACtB,IAAI+sD,EAAoBz1D,EAAc,EAEtC0I,EAAE6sD,QAAQvkE,SAAQ,WAChB6jC,EAAOxsC,GAAG6oB,KAAK,IAAKxI,EAAE8/B,IAAMitB,GAC5BA,GAAqBz1D,EACrB3X,UAIJ,IAAI0zH,EAAY,GACZC,EAAe,GACnBnnF,EAAO7jC,SAAQ,SAAU+M,GACvB,IAAIq7G,EAASprH,EAAM6qH,QAAQ7wB,MAAK,SAAU7hF,GACxC,OAAOA,EAAE1O,KAAOsG,EAAMtG,MAGpB2hH,EAAOjyG,OAAS,GAAKiyG,EAAOjyG,OAASH,KAAKK,GAC5C20G,EAAa1iH,KAAKyE,GAElBg+G,EAAUziH,KAAKyE,MAGnB,CAACg+G,EAAWC,GAAchrH,SAAQ,SAAU8oH,EAAcmC,GACxD,GAAKnC,EAAavxH,OAAlB,CAIA,IAAI8hB,EAAK4xG,EAAW,QAAOnC,GAAc/nG,UAAUP,KAAO/B,EAAO9X,EAAI8X,EAAO9X,EAAI,QAAOmiH,GAAc/nG,UAAUR,KAC/GlH,EAAKrD,KAAKyH,IAAImtG,EAAQvxG,GAEtB,IAAIvM,EAAS9P,EAAM+qH,mBAEfx+D,EAAWvsD,EAAMkuH,mBAEjBzE,EAAgBzwG,KAAKyH,IAAI5lB,MAAM,EAAG,OAAMgsC,GAAQ,SAAU92B,GAC5D,OAAOA,EAAMgU,UAAUzkB,UACnBwQ,EAASy8C,EACXnwC,EAAKpD,KAAKyH,IAAImtG,EAAQ50G,KAAKuR,KAAKlO,EAAKuxG,GAAU,EAAGnsG,EAAO/X,GAAKq9D,EAAU1jD,KAAOomG,KAC/E0E,EAAS/xG,EAAKA,EACdgyG,EAAS/xG,EAAKA,EAClByvG,EAAa9oH,SAAQ,SAAU+M,GAC7B,IAAIlC,EAAMkC,EAAMgU,UACZsqG,GACCxgH,EAAIwV,KAAOxV,EAAIvO,MACfuO,EAAI0V,KAAO1V,EAAIjE,OAAS,GAEzB+9D,EAAS3uD,KAAKyZ,IAAI47F,EAAc5sG,EAAO9X,EAAG,GAE1CyhH,EAASprH,EAAM6qH,QAAQ7wB,MAAK,SAAU7hF,GACxC,OAAOA,EAAE1O,KAAOsG,EAAMtG,MAGpBiqC,EAAW,GAAYjyB,EAAQ2pG,EAAOjyG,MAAOiI,EAAMO,aACnD2sG,GAAmBpnD,EAAU,GAAK,GAAK3a,EAAW,EAEtD,GAAIob,EAASymD,EACXhmE,QAAQC,KAAK,qDAAct4C,EAAMmT,KAAK,SACtCnT,EAAMmT,KAAK,IAAKwwB,EAAShqC,EAAI4kH,OACxB,CAGL,IAAIC,EAAO9sG,EAAO/X,GAAKw9D,EAAU,GAAK,GAAKluD,KAAKmE,MAAM,EAAIwqD,EAASymD,GAAUD,GAE7E,GAAI1sG,EAAO/X,IAAMgqC,EAAShqC,GAAK2kH,IAAgB36E,EAAS/pC,GAAK8X,EAAO9X,IAAM+pC,EAAS/pC,GAAK4kH,IAAS76E,EAAShqC,EACxG6kH,EAAO76E,EAAShqC,MACX,CACL,IAAI8kH,GAAM/sG,EAAO9X,EAAI+pC,EAAS/pC,IAAM8X,EAAO/X,EAAIgqC,EAAShqC,GACpD+kH,GAAMJ,EAAc36E,EAAS/pC,IAAM4kH,EAAO76E,EAAShqC,GACnDqP,EAAQC,KAAK01G,MAAMF,EAAKC,IAAO,EAAID,EAAKC,IAExCz1G,KAAKiE,IAAIlE,GAAS,IAAOmuD,EAA8BqnD,EAAO76E,EAAShqC,EAApC6kH,EAAO76E,EAAShqC,KACrD6kH,EAAO76E,EAAShqC,GAIpBqG,EAAMmT,KAAK,IAAKqrG,EAAOD,YAO/BjB,EAAc3yH,UAAU4yH,qBAAuB,SAAUzmF,EAAQzlB,EAAOspG,GACtE,IAAI1qH,EAAQlF,KAERyxD,EAAWzxD,KAAKozH,mBACpBrnF,EAAO7jC,SAAQ,SAAUoX,GACvB,IAAIgxG,EAASprH,EAAM6qH,QAAQ7wB,MAAK,SAAU7hF,GACxC,OAAOA,EAAE1O,KAAO2Q,EAAE3Q,MAGhBy9D,EAA+B,SAArBkkD,EAAO38G,UACrB2L,EAAE8I,KAAK,IAAKkoG,EAAO1hH,GAAKw9D,EAAqB,EAAX3a,EAA2B,GAAXA,IAClDnyC,EAAE8I,KAAK,IAAKkoG,EAAOzhH,GAEnByQ,EAAE8I,KAAK,eAAgB,cAM3BmqG,EAAc3yH,UAAU+yH,aAAe,SAAU19G,EAAOqR,EAAOspG,GAC7D,IAAI70D,EAAe/6D,KAAK6vH,kBACpBx1G,IAAS0gD,EAAa3nD,MAAO2nD,EAAa3nD,KAAKiH,OAC/Ci2G,EAAStwH,KAAK+vH,QAAQ7wB,MAAK,SAAU7hF,GACvC,OAAOA,EAAE1O,KAAOsG,EAAMtG,MAEpB0P,EAAQiyG,EAAOjyG,MACfsI,EAASL,EAAMM,YACf6qC,EAAWzxD,KAAKozH,mBAChBliH,EAAQ,GAAYyV,EAAQtI,EAAOiI,EAAMO,aACzCgtG,EAAU,GAAYltG,EAAQtI,EAAOiI,EAAMO,YAAc,GACzDitG,EAAa5iH,EAAMtC,EAAI0hH,EAAO1hH,GAAK,EACnCmlH,EAAgB,CAClBnlH,EAAGqG,EAAMmT,KAAK,MAAQ0rG,GAAcriE,EAAWA,GAC/C5iD,EAAGoG,EAAMmT,KAAK,MAEZ4rG,EAAa,CAAC,IAClBD,EAAcnlH,GACdklH,GAAc,EAAI,GAAIC,EAAcllH,EAAG,EAAIglH,EAAQjlH,EAAIsC,EAAMtC,EAAG,EAAIilH,EAAQhlH,EAAIqC,EAAMrC,EAAGglH,EAAQjlH,EAAGilH,EAAQhlH,GACxGolH,EAAe,CAAC,IAEpBJ,EAAQjlH,EAAGilH,EAAQhlH,GACfsgD,EAAW90C,EAAS25G,EAAaC,EAErC,MADW,CAAC,IAAKF,EAAcnlH,EAAGmlH,EAAcllH,GAAGxN,OAAO8tD,GAAU9tD,OAAO,IAAK6P,EAAMtC,EAAGsC,EAAMrC,GACnF+U,KAAK,MAGnB2uG,EAAc3yH,UAAUwzH,iBAAmB,WACzC,IACIp+G,EADehV,KAAKid,IAAI,gBACFjI,OAC1B,OAAOA,EAAS49G,EAAqB59G,EAAS,EA7StB,GAkT1Bu9G,EAAc3yH,UAAUizH,eAAiB,WACvC,IAAI93D,EAAe/6D,KAAKid,IAAI,gBAE5B,IAAK89C,EAAa7jD,YAAa,CAC7B,IACI60B,EADW/rC,KAAKid,IAAI,kBACFA,IAAI,SAASA,IAAI,YACvC,OAAO,QAAO8uB,GAAU,QAAOA,GAAQ9iB,UAAUna,OAAS,GAG5D,OAAOisD,EAAa7jD,aAItBq7G,EAAc3yH,UAAUspE,iBAAmB,SAAU31D,GACnD,IAAIyB,EAAS/P,EAAOrF,UAAUspE,iBAAiBppE,KAAKE,KAAMuT,GAE1D,YAAkBzM,IAAXkO,EArUiB,GAqUuBA,GAlUvB,EAkUkD,EAAIA,EAlUtD,GAqUnBu9G,EA9TT,CA+TE,KCjOFtlD,GAAsB,eAtGtB,SAAUhoE,GAGR,SAASivH,IACP,OAAkB,OAAXjvH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA+F7D,OAlGA,qBAAUk0H,EAAqBjvH,GAM/BivH,EAAoBt0H,UAAUm3D,eAAiB,SAAUhrB,EAAQQ,EAAOjmB,EAAOspG,GAC7E5vH,KAAKwyH,qBAAqBzmF,EAAQQ,EAAOjmB,EAAOspG,IAKlDsE,EAAoBt0H,UAAUywH,YAAc,SAAUtkF,EAAQ+I,EAAYo7E,EAAY5pG,EAAOspG,GAC3F,IAAI1qH,EAAQlF,KAEZ,QAAO+rC,GAAQ,SAAU92B,EAAOvE,GAC9B,IAAIyG,EAAY+4G,EAAWx/G,GAEvB0L,EAAOlX,EAAMytH,aAAa19G,EAAOqR,EAAOspG,GAE5Cz4G,EAAUiR,KAAK,OAAQhM,GACvBjF,EAAU9G,IAAI,UAAW4E,EAAMgI,IAAI,gBAMvCi3G,EAAoBt0H,UAAUqwH,iBAAmB,WAC/C,IACIj7G,EADehV,KAAKid,IAAI,gBACFjI,OAC1B,YAAkBlO,IAAXkO,EDjCiB,GCiCuBA,GD9BvB,EC8BkD,EAAIA,ED9BtD,GCkC1Bk/G,EAAoBt0H,UAAU4yH,qBAAuB,SAAUzmF,EAAQQ,EAAOjmB,EAAOspG,GACnF,IAAI1qH,EAAQlF,KAER2mB,EAASL,EAAMM,YACf1N,EAAIoN,EAAMO,YACV4qC,EAAWzxD,KAAKozH,mBACpBrnF,EAAO7jC,SAAQ,SAAUoX,EAAG5O,GAC1B,IAAIpJ,EAAOilC,EAAM77B,GAEbsE,EAAS9P,EAAM+qH,mBAEfvwE,EAAM,GAAY/4B,EAAQrf,EAAK+W,MAAOnF,EAAIlE,GAC1Co3D,EAA6B,SAAnB9kE,EAAKqM,UACnB2L,EAAE8I,KAAK,IAAKs3B,EAAI9wC,GAAKw9D,EAAqB,EAAX3a,EAA2B,GAAXA,IAC/CnyC,EAAE8I,KAAK,IAAKs3B,EAAI7wC,OAKpBqlH,EAAoBt0H,UAAU+yH,aAAe,SAAU19G,EAAOqR,EAAOspG,GACnE,IAAI70D,EAAe/6D,KAAK6vH,kBACpBx1G,IAAS0gD,EAAa3nD,MAAO2nD,EAAa3nD,KAAKiH,OAC/Ci2G,EAAStwH,KAAK+vH,QAAQ7wB,MAAK,SAAU7hF,GACvC,OAAOA,EAAE1O,KAAOsG,EAAMtG,MAEpB0P,EAAQiyG,EAAOjyG,MACfsI,EAASL,EAAMM,YACf1N,EAAIoN,EAAMO,YACV3V,EAAQ,GAAYyV,EAAQtI,EAAOnF,GAEnClE,EAAShV,KAAKiwH,mBACd7jD,EAA+B,SAArBkkD,EAAO38G,UACjBkgH,EAAU,GAAYltG,EAAQtI,EAAOnF,EAAIlE,GACzCy8C,EAAWzxD,KAAKozH,oBAAsBhnD,EAAU,GAAK,GACrDj7D,EAAM,CACRvC,EAAGqG,EAAMmT,KAAK,KAAOqpC,EACrB5iD,EAAGoG,EAAMmT,KAAK,MAEZhM,EAAO,GAQX,OAPAA,EAAO,CAAC,KAAOlL,EAAMtC,EAAGsC,EAAMrC,EAAI,KAAOglH,EAAQjlH,EAAGilH,EAAQhlH,EAAI,IAAMsC,EAAIvC,EAAGuC,EAAItC,GAAG+U,KAAK,MAE1E,IAAXvJ,IAEF+B,EAAO,CAAC,KAAOlL,EAAMtC,EAAGsC,EAAMrC,EAAI,KAAOglH,EAAQjlH,EAAGilH,EAAQhlH,EAAI,KAAOsC,EAAIvC,GAAGgV,KAAK,MAG9ExH,GAMT83G,EAAoBt0H,UAAUspE,iBAAmB,SAAU31D,GACzD,IAAIyB,EAAS/P,EAAOrF,UAAUspE,iBAAiBppE,KAAKE,KAAMuT,GAE1D,YAAkBzM,IAAXkO,ED5FiB,GC4FuBA,GDzFvB,ECyFkD,EAAIA,EDzFtD,GC4F1Bk/G,EAAoBt0H,UAAUwzH,iBAAmB,WAC/C,IACIp+G,EADehV,KAAKid,IAAI,gBACFjI,OAC1B,OAAOA,EAAS49G,EAAqB59G,EAAS,ED/FtB,GCkGnBk/G,EAnGT,CAoGE,KChGF,UAASlrH,GAXa,CACpBmrH,WAAY,iBACZC,cAAe,oBACfC,eAAgB,qBAChBC,gBAAiB,sBACjBC,gBAAiB,sBACjBC,eAAgB,qBAChBC,aAAc,mBACdC,iBAAkB,yBCMpB,GAAc,MAAO,CACnBzW,YAAa,CACXjkE,OAAQ,GACR5/B,OAjBmB,SAA0B7V,GAE/C,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAiB7B27E,QAXoB,SAA2BjrF,GAEjD,MAAO,CACLsP,QAAmB,IAFPtP,EAAMsP,SAAW,KAW7Bq+D,SAAU,CACRx/D,UAAW,EACXI,OAAQ,YCXd,IAAI,GAAc,CAChB6hH,IAAK,YAEH,GAAgB,CAClBA,IAAK,UAGH,GAEJ,SAAU1vH,GAGR,SAAS2vH,IACP,IAAI1vH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,MACNjB,EAiRT,OAvRA,qBAAU0vH,EAAU3vH,GASpB2vH,EAASjxB,kBAAoB,WAC3B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDwE,MAAO,IACPsK,OAAQ,IACRnN,MAAO,CACLqb,SAAS,GAEXpb,YAAa,CACXob,SAAS,GAEXogE,UAAU,EACVv2E,QAAS,OACT2M,OAAQ,GACRyB,MAAO,CACL+H,SAAS,EACT7W,KAAM,QACNuT,YAAY,EACZu3G,cAAc,EACd79G,KAAM,CACJiH,QAAQ,IAGZhD,OAAQ,CACN2F,SAAS,EACTxG,SAAU,gBAEZ+B,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,MAEdgmF,SAAU,CACR/hH,OAAQ,QACRJ,UAAW,MAKjBkiH,EAASh1H,UAAU4O,WAAa,SAAU/N,GAExC,IAAIkR,EAAiB3R,KAAKoC,YAAYuhG,oBAItC,OAFc,WAAU,GAAI1+F,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAAQkR,EAAgBlR,IAK7Fm0H,EAASh1H,UAAU8P,UAAY,WAC7BzK,EAAOrF,UAAU8P,UAAU5P,KAAKE,MAEhC,IAAIS,EAAQT,KAAKuO,QAGjB,GAAI9N,EAAMwU,OAASxU,EAAMwU,MAAM+H,QAAS,CACtC,IAAI2uE,EAAclrF,EAAMwU,MAExB,GAAyB,WAArB02E,EAAYxlF,KAAmB,CACjC,IAAI2uH,EAAc,IAAI,GAAY,CAChC/mH,KAAM/N,KAAK+N,KACX8oD,OAAQp2D,EAAMkhF,WAAa,CAAClhF,EAAM8sH,WAAY9sH,EAAMkhF,YAAc,CAAClhF,EAAM8sH,YACzEhpH,MAAOonF,EAAYpnF,MAAQonF,EAAYpnF,MAAQ,GAC/C0qB,YAAWxuB,EAAMwU,MAAMga,WAAYxuB,EAAMwU,MAAMga,UAC/Cqb,QAAS7pC,EAAMwU,MAAMq1B,QACrBC,QAAS9pC,EAAMwU,MAAMs1B,UAEvBvqC,KAAK80H,YAAcA,KAKzBF,EAASh1H,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACjD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvByuH,EAASh1H,UAAU+tB,MAAQ,WACzB,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GACbA,EAAOzmC,EAAM8sH,YAAc,GAC3BrmF,EAAOzmC,EAAMkhF,YAAc,CACzBx7E,KAAM,OAERnG,KAAK2kG,UAAU,SAAUz9D,IAG3B0tF,EAASh1H,UAAUqkG,YAAc,SAAUxkF,GACzC,IAAI9f,EAAMK,KAAKuO,QAAQg/G,WACvB,OAAO9tG,EAAKrb,KAAI,SAAUkD,GACxB,IAAI9B,EAEJ,OAAO,oBAAS,oBAAS,GAAI8B,KAAQ9B,EAAK,IAAO7F,GAA4B,kBAAd2H,EAAK3H,GAAoB+iB,OAAO0D,WAAW9e,EAAK3H,IAAQ2H,EAAK3H,GAAM6F,QAItIovH,EAASh1H,UAAU0W,KAAO,aAE1Bs+G,EAASh1H,UAAU0mB,MAAQ,WACzB,IAAI7lB,EAAQT,KAAKuO,QACbwmH,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAAQ/S,EAAM+S,OAEdiyB,YAAahlC,EAAMglC,aAAe,IAGtCzlC,KAAK2kG,UAAU,QAASowB,IAG1BH,EAASh1H,UAAUmkG,YAAc,WAC/B,IAAItjG,EAAQT,KAAKuO,QACbomH,EAAMpqB,GAAQ,WAAY,OAAQ,CACpC36D,KAAM5vC,KACN2nG,eAAgB,CAAClnG,EAAM8sH,cAEzBoH,EAAI7iD,OAAS,CAAC,CACZ3rE,KAAM,UAERnG,KAAK20H,IAAMA,EAEPl0H,EAAMwU,OACRjV,KAAKiV,QAGHxU,EAAM8X,SAAW9X,EAAM8X,QAAQyE,SACjChd,KAAKuY,UAGPvY,KAAK2kG,UAAU,UAAWgwB,IAG5BC,EAASh1H,UAAUorB,UAAY,WAC7B/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAIR,IAFZA,KAAKuO,QAEPyc,YAERhrB,KAAK20H,IAAIn4G,SAAU,IAIvBo4G,EAASh1H,UAAU6Z,WAAa,aAEhCm7G,EAASh1H,UAAUiS,YAAc,SAAUC,GACzC7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1C40H,EAASh1H,UAAU2Y,QAAU,WAC3B,IAAIrT,EAAQlF,KAEZiF,EAAOrF,UAAU2Y,QAAQzY,KAAKE,MAE9B,IAAIS,EAAQT,KAAKuO,QAEjB,GAAI9N,EAAM8X,QAAQu5B,YAAa,CAC7B,IAAIkjF,EAAsBv0H,EAAM8X,QAAQu5B,YACxC9xC,KAAK2kG,UAAU,UAAW,oBAAS,oBAAS,GAAI3kG,KAAKuO,QAAQgK,SAAU,CACrEu5B,YAAa,SAAqBnwC,EAAO4qC,GACvC,GAAIA,GAASA,EAAM9sC,OAAQ,CACzB,IAAIw1H,EAAe/vH,EAAMqJ,QAAQg/G,WAE7B2H,EAAgBhwH,EAAMiwH,iBAE1B,OAAOH,EAAoBrzH,EAAO4qC,EAAMnoC,KAAI,SAAUkD,GACpD,IAEIsoB,EAFQ,OAAMtoB,EAAM,iBAAmB2tH,GAErBC,EACtB,OAAO,oBAAS,oBAAS,GAAI5tH,GAAO,CAClCsoB,QAASA,QAKf,MAAO,oBAMfglG,EAASh1H,UAAUu1H,eAAiB,WAClC,IAAI5H,EAAavtH,KAAKuO,QAAQg/G,WAE9B,OADmBvtH,KAAK+N,KAAKkP,IAAI,iBAAmB,IAChCotE,QAAO,SAAUhqD,EAAK+0F,GACxC,OAAO/0F,EAAM+0F,EAAiB7H,KAC7B,IAGLqH,EAASh1H,UAAUqV,MAAQ,WACzB,IAAI/P,EAAQlF,KAERS,EAAQT,KAAKuO,QAEbo9E,EAAc,oBAAS,GAAIlrF,EAAMwU,OAIrC,GAFA02E,EAAc3rF,KAAKq1H,0BAA0Br1H,KAAKuO,SAE7CvO,KAAKs1H,YAAV,CAaA,GARyB,UAArB3pC,EAAYxlF,KAEdwlF,EAAYx0E,WAAY,EAGxBw0E,EAAYx0E,WAAYw0E,IAAeA,EAAYv4E,MAAOu4E,EAAYv4E,KAGpEu4E,EAAY18D,UAAW,CACzB,IAAIsmG,EAAoB5pC,EAAY18D,UAEpC08D,EAAY18D,UAAY,SAAUvb,EAAMpM,EAAMhD,GAC5C,IAAIipH,EAAaroH,EAAMqJ,QAAQg/G,WAE3BiI,EAActwH,EAAMiwH,iBAEpBvlG,EAAUtoB,EAAK8zD,QAAQmyD,GAAciI,EACzC,OAAOD,EAAkB7hH,EAAM,oBAAS,oBAAS,GAAIpM,GAAO,CAC1DsoB,QAASA,IACPtrB,IAKR,IAAIipE,EAAYoe,EAAYxlF,MAEW,IAAnC,CAAC,UAAU7F,QAAQitE,KACrBA,EAAY,MAGdvtE,KAAK20H,IAAI1/G,MAAQi9E,GAAa,QAAS,oBAAS,CAC9CtiD,KAAM5vC,KACNutE,UAAWA,EACX1W,OAAQp2D,EAAMkhF,WAAa,CAAClhF,EAAM8sH,WAAY9sH,EAAMkhF,YAAc,CAAClhF,EAAM8sH,aACxE5hC,SAtCD3rF,KAAK20H,IAAI1/G,OAAQ,GAyCrB2/G,EAASh1H,UAAU01H,UAAY,WAC7B,IAAI70H,EAAQT,KAAKuO,QACjB,OAAO9N,EAAMwU,QAAiC,IAAxBxU,EAAMwU,MAAM+H,SAAyC,WAArBvc,EAAMwU,MAAM9O,MAKpEyuH,EAASh1H,UAAUy1H,0BAA4B,SAAU9mH,GACvD,IAAIo9E,EAAc,oBAAS,GAAIp9E,EAAQ0G,OAiBvC,OAfI02E,GAAoC,UAArBA,EAAYxlF,OAC7BwlF,EAAc,WAAU,GAAI,CAC1B32E,QAAS,EAAI,EAAI,IAAM,IACvBzQ,MAAO,CACLoP,UAAW,WAEZg4E,IAGDA,GAAoC,UAArBA,EAAYxlF,OAC7BwlF,EAAc,WAAU,GAAI,CAC1B32E,OAAQ,IACP22E,IAGEA,GAGFipC,EAxRT,CAyRE,IAEa,MACf3tB,GAAiB,MAAO,KC1SxB,SAAUhiG,GAGR,SAASwwH,IACP,OAAkB,OAAXxwH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUy1H,EAAKxwH,GAMfwwH,EAAI71H,UAAU0nG,aAAe,SAAU7mG,GACrC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,MAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Cwc,EAAI9xB,kBAAoB,GAASA,kBAfnC,CAiBE,IAnBF,ICWe,GAZf,WACE,SAAS+xB,EAAcxmH,GACrBlP,KAAKmG,KAAO,WAEZ,UAASnG,KAAMkP,GAKjB,OAFAwmH,EAAc91H,UAAUq6C,UAAY,aAE7By7E,EATT,GCHA,IAKe,IACb/e,UANwB,CAAC,CACzB1kG,KAAM,iBACN+b,OCAa,SAAwBpgB,GACrC,IAAInN,EAAQmN,EAAMW,QACdynG,EAAkBpoG,EAAMm1F,qBACxBl8F,EAAUpG,EAAMoG,QAChB2M,EAAS/S,EAAM+S,OAAS/S,EAAM+S,OAAS,EACvChP,EAAQoJ,EAAMpJ,MACdsK,EAASlB,EAAMkB,OAefmC,EAAS,CACXuC,OAAQA,EACR8S,MAbU,IADAwgB,GAAc,SACd,CAAU,CACpBtzB,OAAQA,EACRtC,MAAO,CACLtC,EAAG/H,EAAQ,GACXgI,EAAGhI,EAAQ,IAEbsK,IAAK,CACHvC,EAAGpK,EAAQqC,EAAQ,GACnBgI,EAAGC,EAASjI,EAAQ,OAOpB8kG,EAAQ,IAAI,GAAc,CAC5BA,MAAO,CAAC,CACN15F,KAAM,cACNrR,MAAO,MAGPshG,EAAc8T,EAAgB2f,KAAKzzB,YACvC,IAAI,GAAW,CACbyJ,MAAOA,EACPzJ,YAAaA,EACbjxF,OAAQA,EACR2+B,KAAMhiC,EACN4mG,MAAO,WACL/zG,EAAMglC,YAAckmE,EAAMA,MAAM,GAAG/qG,aC3BzCkiG,GAAwB,OATR,CACd6yB,KAAM,CACJzzB,YAAa,CAAC,CACZjwF,KAAM,iBACL,CACDA,KAAM,wBCTZ,IAAI2jH,GAAiB,iPCYrB,UAAS5sH,GAXa,CACpB6sH,YAAa,iBACbC,eAAgB,oBAChBC,gBAAiB,qBACjBC,iBAAkB,sBAClBC,iBAAkB,sBAClBC,gBAAiB,qBACjBC,cAAe,mBACfC,kBAAmB,yBCFrB,IAAI,GAAc,CAChBT,KAAM,YAEJ,GAAgB,CAClB1iH,SAAU,QAGR,GAEJ,SAAUhO,GAGR,SAASoxH,IACP,IAAInxH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,OACNjB,EAmPT,OAzPA,qBAAUmxH,EAAWpxH,GASrBoxH,EAAU1yB,kBAAoB,WAC5B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDwT,OAAQ,GACRiyB,YAAa,IACb6wF,UAAW,CACTt5G,SAAS,EACTqjD,UAAW,aACXk2D,WAAY,iBAKlBF,EAAUz2H,UAAU4O,WAAa,SAAU/N,GACzC,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGjDkR,EAAiB3R,KAAKoC,YAAYuhG,oBACtC,OAAO,WAAU,GAAIp1F,EAASoD,EAAgBlR,IAGhD41H,EAAUz2H,UAAUuP,WAAa,WAC/BlK,EAAOrF,UAAUuP,WAAWrP,KAAKE,MAEjCq2H,EAAUG,YACVx2H,KAAKy2H,eAAiB,mBAAqBJ,EAAUG,UACrD,IAAI/1H,EAAQT,KAAKuO,QAGb9N,EAAM63G,YAAgC,SAAlB73G,EAAMoG,SAC5B7G,KAAKu4G,gBAAgB,cAIzB8d,EAAUz2H,UAAU8P,UAAY,WAC9B,IAAIxK,EAAQlF,KAMZ,GAJAiF,EAAOrF,UAAU8P,UAAU5P,KAAKE,MAI5BA,KAAKs2H,WAAat2H,KAAKs2H,UAAUt5G,SAAWhd,KAAKs2H,UAAUj2D,UAAW,CACxE,IAAIq2D,EAAiB12H,KAAKs2H,UAAUj2D,UACpCrgE,KAAK+N,KAAKC,GAAG,YAAc0oH,EAAgB,aAAW,SAAUv2H,GAC9D,IAAIw2H,EAAczxH,EAAM0xH,mBAAmBz2H,EAAEsf,KAAK27C,SAE9Cy7D,EAAa3xH,EAAM4xH,uBAAuBH,GAE9CrkF,SAASV,uBAAuB1sC,EAAMuxH,gBAAgB,GAAG5pF,UAAYgqF,IACpE,MACH,IAAIE,EAAkB/2H,KAAKs2H,UAAUC,WAAav2H,KAAKs2H,UAAUC,WAAa,aAC9Ev2H,KAAK+N,KAAKC,GAAG,YAAc+oH,EAAiB,aAAW,SAAU52H,GAC/D,IAAI62H,EAAa9xH,EAAM+xH,gBAEnBN,EAAczxH,EAAM0xH,mBAAmBI,GAEvCH,EAAa3xH,EAAM4xH,uBAAuBH,GAE9CrkF,SAASV,uBAAuB1sC,EAAMuxH,gBAAgB,GAAG5pF,UAAYgqF,IACpE,QAIPR,EAAUz2H,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GAClD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBkwH,EAAUz2H,UAAU0mB,MAAQ,WAC1B,IAAI7lB,EAAQT,KAAKuO,QACbwmH,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAAQ/S,EAAM+S,OACdiyB,YAAahlC,EAAMglC,cAGvBzlC,KAAK2kG,UAAU,QAASowB,IAG1BsB,EAAUz2H,UAAU6Z,WAAa,WAC/B,IAAIy9G,EAAoB,GACpBz2H,EAAQT,KAAKuO,QAEjB,GAAI9N,EAAM61H,WAAa71H,EAAM61H,UAAUt5G,QAAS,CAC9C,IAAIs5G,EAAYt2H,KAAKm3H,cAAc12H,EAAM61H,WACzCY,EAAkB1mH,KAAK8lH,GACvBt2H,KAAKs2H,UAAYA,EAGnBt2H,KAAK2kG,UAAU,cAAeuyB,IAGhCb,EAAUz2H,UAAUiS,YAAc,SAAUC,GAC1C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1Cq2H,EAAUz2H,UAAUu3H,cAAgB,SAAUxsC,GAC5C,IASIgsC,EAYAE,EArBAP,EAAY,WAAU,GAAI,CAC5BnwH,KAAM,OACNoQ,KAAK,EACLC,SAAU,CAAC,MAAO,OAClB6pD,UAAW,cACVsqB,GAMH,GAAIA,EAAO99B,QACT8pE,EAAchsC,EAAO99B,YAChB,CAEL,IAAIptC,EAAOzf,KAAKi3H,gBAChBN,EAAc32H,KAAK42H,mBAAmBn3G,GAoBxC,OAZEo3G,EADElsC,EAAO74C,YACI64C,EAAO74C,YAAY6kF,GAEnB32H,KAAKo3H,qBAAqBT,GAGzCL,EAAU7+G,KAAOo/G,EAGbP,EAAUj2D,WACZrgE,KAAK2kG,UAAU,WAAW,GAGrB2xB,GAKTD,EAAUz2H,UAAUq3H,cAAgB,WAClC,IAAIzxH,EAEA/E,EAAQT,KAAKuO,QACb66D,EAAQ,EASZ,OAPA,QAAO3oE,EAAMgf,MAAM,SAAUnY,GACW,kBAA3BA,EAAK7G,EAAM8sH,cACpBnkD,GAAS9hE,EAAK7G,EAAM8sH,iBAIZ/nH,EAAK,IAAO/E,EAAM8sH,YAAcnkD,EAAO5jE,EAAG/E,EAAMkhF,YAAc,eAAMn8E,GAIlF6wH,EAAUz2H,UAAUg3H,mBAAqB,SAAUn3G,GACjD,IAAIhf,EAAQT,KAAKuO,QACbg/G,EAAa9sH,EAAM8sH,WACvB,OAAO9sH,EAAMkhF,WAAa,CACxB1vE,KAAMwN,EAAKhf,EAAMkhF,YACjB/gF,MAAO6e,EAAK8tG,IACV9tG,EAAK8tG,IAGX8I,EAAUz2H,UAAUw3H,qBAAuB,SAAUT,GACnD,IACIE,EADA3wH,EAAOlG,KAAKq3H,mBAIhB,GAAI,YAAWV,GACbE,EFlMN,SAA+Bj2H,EAAO02H,EAASpxH,GAE7C,MAAO,+BAAkCoxH,EAAU,YADpC1B,GAAiB,SAAW1vH,EAAO,OAC3C,uFAAqItF,EAAQ,gBEgMnI,CAAwC+1H,EAAa32H,KAAKy2H,eAAgBvwH,QAClF,GAAI,YAAWywH,IAA+C,IAA/B,QAAOA,GAAal3H,OAAc,CAEtE,IAAIotD,EAAU8pE,EACdE,EFjMN,SAA4B5kH,EAAMrR,EAAO02H,EAASpxH,GAEhD,MAAO,+BAAkCoxH,EAAU,YADpC1B,GAAiB,SAAW1vH,EAAO,OAC3C,yDAAmI+L,EAAnI,kGAAqNrR,EAAQ,gBE+LnN,CAAqCisD,EAAQ56C,KAAM46C,EAAQjsD,MAAOZ,KAAKy2H,eAAgBvwH,GAKtG,OAAO2wH,GAKTR,EAAUz2H,UAAUk3H,uBAAyB,SAAUS,GACrD,IACIV,EADAW,EAAkBx3H,KAAKs2H,UAAUj2D,UAYrC,OATI,YAAWm3D,KACbX,EAAa72H,KAAKo3H,qBAAqBG,IAGrC,cAAaC,KACfX,EAAaW,EAAgBD,GAC7BV,EAAa,+BAAkC72H,KAAKy2H,eAAiB,KAAQI,EAAa,UAGrFA,GAGTR,EAAUz2H,UAAU24G,gBAAkB,SAAUQ,GAC9C,IAAI7zG,EAAQlF,KAERg5G,EAAU,GAAkBD,GAEhC,QAAOC,GAAS,SAAU9/F,GACPA,EACN8U,OAAO9oB,OAItBmxH,EAAUz2H,UAAUy3H,iBAAmB,WACrC,OAAOr3H,KAAKwE,MAAQxE,KAAKuO,QAAQiF,QAKnC6iH,EAAUz2H,UAAUy1H,0BAA4B,SAAU9mH,GACxD,IAAIo9E,EAAc,oBAAS,GAAIp9E,EAAQ0G,OAEvC,GAAI02E,GAAoC,UAArBA,EAAYxlF,KAAkB,CAC/C,IAAIsxH,EAAmB9rC,EAAYpnF,OAAS,GAEvCkzH,EAAiB9jH,YACpB8jH,EAAiB9jH,UAAY,UAG/Bg4E,EAAYpnF,MAAQkzH,EAEf9rC,EAAY32E,SACf22E,EAAY32E,QAAUzG,EAAQk3B,YAAc,GAAK,EAAI,IAAM,KAI/D,OAAOkmD,GAGT0qC,EAAUG,UAAY,EACfH,EA1PT,CA2PE,IAEa,MACfpvB,GAAiB,OAAQ,IC1QzB,IAqBe,GAnBf,SAAUhiG,GAGR,SAASyyH,IACP,OAAkB,OAAXzyH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAY7D,OAfA,qBAAU03H,EAAMzyH,GAMhByyH,EAAK93H,UAAU0nG,aAAe,SAAU7mG,GACtC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,OAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Cye,EAAK/zB,kBAAoB,GAAUA,kBAC5B+zB,EAhBT,CAiBE,ICKF,UAAS1uH,GA3Ba,CACpBkwG,YAAa,aACbC,eAAgB,gBAChBC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,iBAAkB,kBAClBC,gBAAiB,iBACjBC,cAAe,eACfC,kBAAmB,mBACnBxC,YAAa,aACbyC,eAAgB,gBAChBvC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,iBAAkB,kBAClBC,gBAAiB,iBACjBC,cAAe,eACfC,kBAAmB,mBACnBC,aAAc,cACdC,gBAAiB,iBACjBC,iBAAkB,kBAClBC,kBAAmB,mBACnBC,kBAAmB,mBACnBC,iBAAkB,kBAClBC,eAAgB,gBAChBC,mBAAoB,sBClBtB,IAAI,GAAW,CACbvlG,KAAM,OACNW,KAAM,OACNG,MAAO,SAGL,GAEJ,SAAUtO,GAGR,SAAS0yH,IACP,IAAIzyH,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,QACNjB,EA0OT,OAhPA,qBAAUyyH,EAAY1yH,GAStB0yH,EAAWh0B,kBAAoB,WAC7B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDwE,MAAO,IACPsK,OAAQ,IACRnN,MAAO,CACLqb,SAAS,GAEXpb,YAAa,CACXob,SAAS,GAEXogE,UAAU,EACVv2E,QAAS,OACT2M,OAAQ,GACR6G,QAAQ,EACRjH,KAAM,CACJ4J,SAAS,EACT9W,KAAM,EACN3B,MAAO,CACLsP,QAAS,IAGbpB,KAAM,CACJuK,SAAS,EACTzY,MAAO,CACLsP,QAAS,MAGbN,MAAO,CACLyJ,SAAS,EACT9W,KAAM,EACNgU,MAAO,QACP3V,MAAO,CACLsP,QAAS,IAGb+jH,UAAW,CACT56G,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBtB,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX3H,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACL+Q,SAAU,CAAC,EAAG,KAGlBL,MAAO,CACL+H,SAAS,EACThI,OAAQ,GAEVrT,MAAO,CACLqb,SAAS,IAGb66G,WAAY,CACVpoG,IAAK,EACLzS,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBtB,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEXpI,SAAU,OACVS,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACL+Q,SAAU,CAAC,EAAG,KAGlBL,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,IAGb/H,MAAO,CACL+H,SAAS,EACT7W,KAAM,SAERkR,OAAQ,CACN2F,SAAS,EACTxG,SAAU,YAEZ+B,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,SAKlB8oF,EAAW/3H,UAAUwP,KAAO,WAC1B,IAAI3O,EAAQT,KAAKuO,QACjB9N,EAAMq/B,OAASr/B,EAAM8sH,WACrB9sH,EAAMs/B,OAASt/B,EAAMq3H,YAErB7yH,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7B23H,EAAW/3H,UAAU4O,WAAa,SAAU/N,GAC1C,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGjDkR,EAAiB3R,KAAKoC,YAAYuhG,oBACtC,OAAO,WAAU,GAAIp1F,EAASoD,EAAgBlR,IAGhDk3H,EAAW/3H,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACnD,OAAO,GAASA,IAGlBwxH,EAAW/3H,UAAU+tB,MAAQ,WAC3B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GAGbA,EAAOzmC,EAAM8sH,YAAc,GAEvB,OAAM9sH,EAAO,cACfgqG,GAAavjE,EAAOzmC,EAAM8sH,YAAa9sH,EAAMm3H,WAK/C1wF,EAAOzmC,EAAMq3H,aAAe,GAExB,OAAMr3H,EAAO,eACfgqG,GAAavjE,EAAOzmC,EAAMq3H,aAAcr3H,EAAMo3H,YAGhD73H,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9B23H,EAAW/3H,UAAU0mB,MAAQ,WAC3B,IACIyuG,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAJQxT,KAAKuO,QAICiF,SAGlBxT,KAAK2kG,UAAU,QAASowB,IAG1B4C,EAAW/3H,UAAU0W,KAAO,WAC1B,IAAI7V,EAAQT,KAAKuO,QACbq2F,EAAe1S,GAAa,OAAQ,CACtCtiD,KAAM5vC,KACNkgC,IAAK,UAEH2kE,EAAe3S,GAAa,OAAQ,CACtCtiD,KAAM5vC,KACNkgC,IAAK,WAEH4kE,EAAa,CACfjuC,OAAQ,IAEViuC,EAAWjuC,OAAOp2D,EAAM8sH,YAAc3oB,EACtCE,EAAWjuC,OAAOp2D,EAAMq3H,aAAejzB,EAGvC7kG,KAAK2kG,UAAU,OAAQG,IAGzB6yB,EAAW/3H,UAAUmkG,YAAc,WACjC,IAAItjG,EAAQT,KAAKuO,QAGjB,GAAI9N,EAAMgS,KAAKuK,QAAS,CACtB,IAAIvK,EAAO83F,GAAQ,OAAQ,OAAQ,CACjC36D,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAWlyF,GAC1BzS,KAAKyS,KAAOA,EAKd,GAAIhS,EAAM2S,MAAQ3S,EAAM2S,KAAK4J,QAAS,CACpC,IAAI5J,EAAOm3F,GAAQ,OAAQ,QAAS,CAClC36D,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAWvxF,GAC1BpT,KAAKoT,KAAOA,EAKd,GAAI3S,EAAM8S,OAAS9S,EAAM8S,MAAMyJ,QAAS,CACtC,IAAIzJ,EAAQg3F,GAAQ,QAAS,QAAS,CACpC36D,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAWpxF,GAC1BvT,KAAKuT,MAAQA,IAIjBokH,EAAW/3H,UAAUqV,MAAQ,aAE7B0iH,EAAW/3H,UAAU6Z,WAAa,aAElCk+G,EAAW/3H,UAAUorB,UAAY,WAC/B/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAIR,IAFZA,KAAKuO,QAEPyc,YAEJhrB,KAAKyS,OAAMzS,KAAKyS,KAAK+J,SAAU,GAC/Bxc,KAAKoT,OAAMpT,KAAKoT,KAAKoJ,SAAU,GAC/Bxc,KAAKuT,QAAOvT,KAAKuT,MAAMiJ,SAAU,KAIzCm7G,EAAW/3H,UAAUiS,YAAc,SAAUC,GAC3C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAGnC23H,EAjPT,CAkPE,IAEa,MACf1wB,GAAiB,QAAS,KC9P1B,SAAUhiG,GAGR,SAAS8yH,IACP,OAAkB,OAAX9yH,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU+3H,EAAO9yH,GAMjB8yH,EAAMn4H,UAAU0nG,aAAe,SAAU7mG,GACvC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,QAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C8e,EAAMp0B,kBAAoB,GAAWA,kBAfvC,CAiBE,IAnBF,ICFIq0B,GAiBY,SAAsB3zG,EAAOnV,GACrCA,EAAI+E,QAAUoQ,EAAM1R,OACtB0R,EAAM1R,KAAOzD,EAAI+E,OAGf,YAAW/E,EAAI2E,WACjBwQ,EAAMxQ,QAAUwQ,EAAMzR,YAAc1D,EAAI2E,UAvB1CmkH,GA0Bc,SAAwB3zG,EAAOnV,GACzCA,EAAI+E,QAAUoQ,EAAMvR,SACtBuR,EAAMvR,OAAS5D,EAAI+E,OAGjB,YAAW/E,EAAI2E,WACjBwQ,EAAMxQ,QAAUwQ,EAAMvQ,cAAgB5E,EAAI2E,UAI5CokH,GACI,SAAc56G,EAAGuC,EAAGyY,GACxB,OAAQ,EAAIA,GAAUhb,EAAIgb,EAASzY,GAkBnC,GAAe,SAAsB1Q,GACvC,IAAIgpH,EAAe,GAAOviH,MAAMuE,MAAMhH,eAElCmR,EAAQ,OAAM,GAAI6zG,EAAchpH,EAAI3K,OAGxC,OADAyzH,GAAyB3zG,EAAOnV,GACzBmV,GAwBT,SAAS8zG,GAAsBvpH,EAAGmqG,EAAOqf,EAAYC,GACnD,OAAc,IAAVtf,EACK,CAAC,CAACnqG,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAK,EAAG85G,EAAY,GAAI,CAACzpH,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAI85G,GAAY,CAACzpH,EAAIwpH,EAAa,EAAGC,IAGvH,IAAVtf,EACK,CAAC,CAACnqG,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAK,GAAKL,KAAKK,GAAK,GAAI85G,GAAY,CAACzpH,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAK,GAAKL,KAAKK,GAAK,GAAI85G,EAAY,GAAI,CAACzpH,EAAIwpH,EAAa,EAAG,IAG3J,IAAVrf,EACK,CAAC,CAACnqG,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAK,GAAI85G,EAAY,GAAI,CAACzpH,EAAI,GAAQwpH,EAAal6G,KAAKK,IAAK85G,GAAY,CAACzpH,EAAIwpH,EAAa,GAAIC,IAGjI,CAAC,CAACzpH,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAK,GAAKL,KAAKK,GAAK,IAAK85G,GAAY,CAACzpH,EAAI,GAAQwpH,EAAal6G,KAAKK,GAAK,GAAKL,KAAKK,GAAK,IAAK85G,EAAY,GAAI,CAACzpH,EAAIwpH,EAAa,EAAG,IAgB3K,SAASE,GAAiB9kH,EAAQ+kH,EAAYH,EAAYI,EAAOH,EAAWt2G,EAAIC,GAK9E,IAJA,IAAIy2G,EAAkD,EAAzCv6G,KAAKmd,KAAK,EAAI7nB,EAAS4kH,EAAa,GAC7Ch8G,EAAO,GACPs8G,EAASF,EAENE,EAAoB,GAAVx6G,KAAKK,IACpBm6G,GAAoB,EAAVx6G,KAAKK,GAGjB,KAAOm6G,EAAS,GACdA,GAAoB,EAAVx6G,KAAKK,GAIjB,IAAI7H,EAAOqL,EAAKvO,GADhBklH,EAASA,EAASx6G,KAAKK,GAAK,EAAI65G,GACW,EAAT5kH,EAYlC4I,EAAK5L,KAAK,CAAC,IAAKkG,EAAM6hH,IAWtB,IAFA,IAAII,EAAY,EAEPt5G,EAAI,EAAGA,EAAIo5G,IAAUp5G,EAAG,CAC/B,IACIqgC,EAAMy4E,GAAsB94G,EAAI+4G,EAAa,EADrC/4G,EAAI,EAC2C+4G,EAAYC,GACvEj8G,EAAK5L,KAAK,CAAC,IAAKkvC,EAAI,GAAG,GAAKhpC,GAAOgpC,EAAI,GAAG,GAAK64E,EAAY74E,EAAI,GAAG,GAAKhpC,GAAOgpC,EAAI,GAAG,GAAK64E,EAAY74E,EAAI,GAAG,GAAKhpC,GAAOgpC,EAAI,GAAG,GAAK64E,IAEjIl5G,IAAMo5G,EAAS,IACjBE,EAAYj5E,EAAI,GAAG,IAkBvB,OAHAtjC,EAAK5L,KAAK,CAAC,IAAKmoH,EAAYjiH,EAAMsL,EAAKxO,IACvC4I,EAAK5L,KAAK,CAAC,IAAKkG,EAAMsL,EAAKxO,IAC3B4I,EAAK5L,KAAK,CAAC,IAAKkG,EAAM6hH,IACfn8G,EChLT,SAASw8G,GAAa1+G,EAAOuN,GAC3B,IAAI/Y,EAAYwL,EAAM+C,IAAI,UACtBlK,EAAMrE,EAAUua,UAChBoP,EAASna,KAAKuR,IAAIvR,KAAKyH,IAAI,EAAG,OAAM8B,EAAY,SAAU,KAAO,GAEjEC,EAAQ,OAAMD,EAAY,QAAS,GAEnCG,EAAW,OAAMH,EAAY,WAAY,KAEzCI,EAAWJ,EAAWI,SACtB2rF,GAAWzgG,EAAIwV,KAAOxV,EAAIyV,MAAQ,EAClCirF,EAAU1gG,EAAI2V,KACdmwG,EAAOnqH,EAAUwwF,MAAK,SAAUhlF,GAClC,MAA4B,QAArBA,EAAM+C,IAAI,WAEf67G,EAAoBD,EAAKzwG,KAAK,WAClCywG,EAAKzwG,KAAK,UAAW,GACrBywG,EAAKr8G,QAAQ,CACX3I,QAASilH,GACRlxG,EAAWyQ,EAAQ,aAAc,KAAM3Q,GAC1C,IAAIqxG,EAAQrqH,EAAUwwF,MAAK,SAAUhlF,GACnC,MAA4B,SAArBA,EAAM+C,IAAI,WAGf+7G,EAAoB,SAAQD,EAAM3wG,KAAK,WAE3C2wG,EAAM3wG,KAAK,YAAa,CAAC,CAAC,KAAMorF,GAAUC,GAAU,CAAC,IAAK,EAAG,GAAI,CAAC,IAAKD,EAASC,KAChFslB,EAAMv8G,QAAQ,CACZ8K,OAAQ0xG,GACPpxG,EAAUH,EAAWE,QAAQ,WAC9B,OAAOE,GAAYA,EAASnZ,EAAWmqH,EAAME,KAC5CrxG,GD0LL2tC,GAAc,WAAY,oBAAqB,CAC7CvlD,KAAM,SAAcZ,EAAKR,GACvB,IACIuqH,EAAO,EACP1wG,EAAOqQ,IAEX,QAAO1pB,EAAIoZ,QAAQ,SAAUjoB,GACvBA,EAAEuO,EAAI2Z,IACRA,EAAOloB,EAAEuO,GAGXqqH,GAAQ54H,EAAEuO,KAGZ,IAAImT,EAAKk3G,EAAO/pH,EAAIoZ,OAAO7oB,OACvBy5H,EAAKl5H,KAAKqsD,WAAW,CACvBz9C,EAAGmT,EACHlT,EAfO,KAiBLsqH,EAAOn5H,KAAKqsD,WAAW,CACzBz9C,EAAG2Z,EACH1Z,EAAG,KAEDs2D,EAAS+zD,EAAGtqH,EAAIuqH,EAAKvqH,EACrB4E,EAAS0K,KAAKuR,IAAI01C,EAAQg0D,EAAKtqH,GAC/B8D,EAxMW,SAAsBzD,GACvC,IAAIgpH,EAAe,GAAOviH,MAAMuE,MAAMjH,SAElCoR,EAAQ,OAAM,GAAI6zG,EAAchpH,EAAI3K,OAQxC,OANAyzH,GAAuB3zG,EAAOnV,GAE1BA,EAAI+E,QAAUoQ,EAAMvR,SACtBuR,EAAMvR,OAASuR,EAAMvR,QAAU5D,EAAI+E,OAG9BoQ,EA6LM,CAAanV,GAAKyD,KACzBymH,EAAa,IAAI,UAAO,CAC1B/0G,MAAO,CACLzV,EAAGsqH,EAAGtqH,EACNC,EAAGqqH,EAAGrqH,EACNqK,EAAG1F,KAGHulH,EAAQrqH,EAAU6+B,SAAS,CAC7Bt7B,KAAM,QACNoS,MAAO,CACLzV,EAAGsqH,EAAGtqH,EACNC,EAAGqqH,EAAGrqH,EACN0X,KAAM6yG,KAKV,OArEJ,SAAsBxqH,EAAGC,EAAGwqH,EAAOC,EAAWrlH,EAAO+tB,EAAOzb,EAAM/S,GAMhE,IALA,IAAIq3B,EAAOtkB,EAAK0C,UACZzkB,EAAQqmC,EAAKriB,KAAOqiB,EAAKtiB,KACzBzZ,EAAS+7B,EAAKniB,KAAOmiB,EAAKpiB,KAGrBlpB,EAAI,EAAGA,EAAI+5H,EAAW/5H,IAAK,CAClC,IAAI84B,EAASihG,GAAa,EAAI,EAAI/5H,GAAK+5H,EAAY,GAC/CC,EAAOv3F,EAAMtV,SAAS,OAAQ,CAChCrI,MAAO,CACLjI,KAAMk8G,GAAiB9kH,EAAQq3B,EAAKpiB,KAAO3Z,EAASuqH,EAAO70H,EAAQ,EAAG,EAAGA,EAAQyzH,GAAe,GAAI,GAAI5/F,GAASzpB,EAAGC,GACpH8D,KAAMsB,EACNsS,KAAMA,EACN1S,QAASokH,GAAe,GAAK,GAAK5/F,MAId,WAApB,GAAO9b,UACTg9G,EAAK/8G,QAAQ,CACX3M,UAAW,CAAC,CAAC,IAAKrL,EAAQ,EAAG,IAC7Bg1H,QAAQ,GACPvB,GAjBQ,IAiBiB,KAAgB5/F,KA8C9CohG,CAAaP,EAAGtqH,EAAGsqH,EAAGrqH,EAAG,EAAIK,EAAIoZ,OAAO,GAAGzZ,EAC3C,EAAG8D,EAAMomH,EAAOK,EAAqB,EAAT5lH,GACrB9E,EAAUge,SAAS,SAAU,CAClCza,KAAM,OACNoS,MAAO,OAAM,GAAanV,GAAM,CAC9BN,EAAGsqH,EAAGtqH,EACNC,EAAGqqH,EAAGrqH,EACNqK,EAAG1F,EACHb,KAAM,qBCxOdimH,GAAatuG,cAAgB,eAC7B,GAAQY,kBAAkB,SAAU,eAAgB0tG,IC5BpD,IAAI,GAAc,CAChBl8G,OAAQ,YAEN,GAAgB,CAClBzJ,SAAU,UAGR,GAEJ,SAAUhO,GAGR,SAASy0H,IACP,IAAIx0H,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,SACbjB,EAAMy0H,wBAAyB,EACxBz0H,EAiTT,OAxTA,qBAAUw0H,EAAaz0H,GAUvBy0H,EAAY/1B,kBAAoB,WAW9B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAVzC,CACRgrB,UAAW,CACTqN,OAAQ,GACR1Q,OAAQ,aACRC,SAAU,KAEZgyG,YAAa,CACXlnH,UAAW,MAMjBgnH,EAAY95H,UAAUuP,WAAa,WACjC,IAAI3J,EAAKxF,KAAKuO,QACVkhB,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IACT/kB,EAAQ4E,EAAG5E,MAEf,IAAK,YAAW6uB,GACd,MAAM,IAAI7Z,MAAM,4EAGlB,IAAK,YAAW+P,GACd,MAAM,IAAI/P,MAAM,4EAGlB,IAAK,YAAWhV,GACd,MAAM,IAAIgV,MAAM,2EAIpB8jH,EAAY95H,UAAUwP,KAAO,WAC3BpP,KAAKuO,QAAQkR,KAAO,CAAC,IAErBxa,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7B05H,EAAY95H,UAAU0mB,MAAQ,aAE9BozG,EAAY95H,UAAU+tB,MAAQ,WAC5B,IAAIltB,EAAQT,KAAKuO,QACbkhB,EAAMhvB,EAAMgvB,IACZ9J,EAAMllB,EAAMklB,IACZuhB,EAAS,CACXtmC,MAAO,IAET6pG,GAAavjE,EAAOtmC,MAAO,CACzB6uB,IAAKvR,KAAKuR,IAAIA,EAAK9J,GACnBA,IAAKzH,KAAKyH,IAAI8J,EAAK9J,KAGrB3lB,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9B05H,EAAY95H,UAAU0W,KAAO,WAC3BtW,KAAK2kG,UAAU,QAAQ,IAGzB+0B,EAAY95H,UAAUi6H,aAAe,SAAUC,GAC7C,IAAIr5H,EAAQT,KAAKuO,QACjBurH,EAAO5/G,MAAQ,CACboU,OAAQ,CAAC,sBAEXwrG,EAAOvhH,SAAU,EACjB,IAAIqhH,EAAcn5H,EAAMm5H,YACpB,cAAaA,KAAcA,EAAcA,KAEzCA,IACFE,EAAOv1H,MAAQq1H,IAInBF,EAAY95H,UAAUmkG,YAAc,WAClC,IAAI+1B,EAASvvB,GAAQ,WAAY,OAAQ,CACvC5C,eAAgB,CAAC,IAAK,SACtB/3D,KAAM5vC,OAERA,KAAK65H,aAAaC,GAClB95H,KAAK85H,OAASA,EACd95H,KAAK2kG,UAAU,UAAWm1B,IAG5BJ,EAAY95H,UAAUorB,UAAY,WAChC,IAAIvqB,EAAQT,KAAKuO,QAEjB,IAAwB,IAApB9N,EAAMuqB,UAERhrB,KAAK85H,OAAOt9G,SAAU,MACjB,CACL,IAAI6b,EAAS,OAAM53B,EAAO,oBAEtBknB,EAAS,OAAMlnB,EAAO,oBAEtBmnB,EAAW,OAAMnnB,EAAO,sBAE5BT,KAAK85H,OAAOt9G,QAAU,CACpBwN,OAAQ,CACNgB,UAAW,eACXqN,OAAQA,EACR1Q,OAAQA,EACRC,SAAUA,MAMlB8xG,EAAY95H,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACpD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBuzH,EAAY95H,UAAU6Z,WAAa,WACjC,IAAIy9G,EAAoB,GACpB6C,EAAkB/5H,KAAKg6H,mBAC3B9C,EAAkB1mH,KAAKupH,GACvB/5H,KAAK2kG,UAAU,cAAeuyB,IAGhCwC,EAAY95H,UAAUo6H,iBAAmB,WACvC,IAEIntE,EAQA/3C,EACAX,EAeAN,EA1BApT,EAAQT,KAAKuO,QACb+nH,EAAY71H,EAAM61H,WAAa,GAYnC,GAREzpE,EADE,cAAaypE,EAAUrnG,WACfqnG,EAAUrnG,UAAUxuB,EAAMG,OAE1B,GAAKH,EAAMG,MAMV,CASXkU,EAAW,IANPrU,EAAM+D,MAAQ/D,EAAMqO,OACO,GAAdrO,EAAM+D,MAEN/D,EAAMqO,QAGS+9C,EAAQptD,OACxC0U,EAAa+J,KAAKyH,IAAI,EAAGzH,KAAKmd,KAAK,KAAQvmB,KAKnB,IAAtBwhH,EAAUt5G,UACZnJ,EAAU,GAGZ,IAAIkmH,EAAkB,WAAU,CAC9Bx1H,MAAO,CACLuQ,SAAUA,EACVX,WAAYA,IAEbmiH,EAAW,CACZ//G,KAAK,EACLs2C,QAASA,EACT1mD,KAAM,OACNqQ,SAAU,CAAC,IAAK,UAChBjS,MAAO,CACLsP,QAASA,EACTlB,KAAM,cACNyB,YAAa,cACbT,UAAW,YAOf,cAHOomH,EAAgB/8G,eAChB+8G,EAAgB9qG,iBAChB8qG,EAAgBjd,YAChBid,GAGTL,EAAY95H,UAAUu/F,YAAc,WAClCn/F,KAAKi6H,mBACL,IAAI1rH,EAAUvO,KAAKuO,QACf1H,EAAU0H,EAAQ1H,QAAU0H,EAAQ1H,QAAU7G,KAAK2qF,OAAOh1E,MAAM9O,QAGhE0H,EAAQ41F,cAA4B,SAAZt9F,GAC1B7G,KAAKwyE,gBAAgB2d,cAAc5hF,EAAQ41F,cAK7B,SAAZt9F,GACF7G,KAAKyjG,kBAAkBnE,sBAI3Bo6B,EAAY95H,UAAUqkG,YAAc,SAAUxkF,GAE5C,MAAO,CAAC,CACNy6G,EAAG,IACHt5H,MAHUZ,KAAKuO,QAGF3N,SAIjB84H,EAAY95H,UAAUu6H,YAAc,SAAUv5H,GAChCZ,KAAKuO,QACX3N,MAAQA,EACdZ,KAAKu4E,WAAW,KAGlBmhD,EAAY95H,UAAUq6H,iBAAmB,WACvC,IAAI/0H,EAAQlF,KAGRgrB,EADQhrB,KAAKuO,QACKyc,WAAa,GAE/BovG,EADcp6H,KAAK+N,KAAK0L,aAAay2C,YACV,GAAGjzC,IAAI,MAClCo9G,EAAar6H,KAAKs6H,2BAElBt6H,KAAK25H,uBACPS,EAAa59G,QAAQ69G,EAAYrvG,EAAUpD,SAAW1J,KAAKuR,IAAI,EAAG,IAAMzE,EAAUqN,QAAS,MAAM,WAC/FnzB,EAAMy0H,wBAAyB,KAGjC,SAAQU,GAAY,SAAU/8G,EAAGtL,GAC/B,OAAOooH,EAAahyG,KAAKpW,EAAGsL,OAKlCo8G,EAAY95H,UAAU06H,yBAA2B,WAC/C,IAAI75H,EAAQT,KAAKuO,QAKbgsH,EAAiB,CACnB5nH,KAAM,UACNyB,YAAa,SAGf,IAA8C,IAA1C,OAAM3T,EAAO,yBACf,MAAO,CACLkS,KAAM,OAAMlS,EAAO,uBAAwB85H,EAAe5nH,MAC1DyB,YAAa,OAAM3T,EAAO,8BAA+B85H,EAAenmH,cAI5E,IAAIqb,EAAMhvB,EAAMgvB,IACZ9J,EAAMllB,EAAMklB,IACZ/kB,EAAQH,EAAMG,MAWlB,KAVA6uB,EAAMvR,KAAKuR,IAAIA,EAAK9J,MACpBA,EAAMzH,KAAKyH,IAAI8J,EAAK9J,IAIR,GAEC/kB,EAAQ6uB,IAAQ9J,EAAM8J,IAGrB,IAAM,CAClB,IAMI2tF,EAAMj7B,GANEniF,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,aAAaiiF,MAAK,SAAUhlF,GACvE,MAA4B,SAArBA,EAAM+C,IAAI,WAEFu9G,gBAAgB,GACZpyG,KAAK,SAI1B,OADWlK,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAF1C,GAGJ,IAtCM,CACpBzqG,KAAM,UACNyB,YAAa,SAoCyBmmH,EAGxC,OAAOA,GAGTb,EAAY95H,UAAUqP,aAAe,SAAUC,GAC7CjK,EAAOrF,UAAUqP,aAAanP,KAAKE,KAAMkP,GAEzClP,KAAK25H,wBAAyB,GAGhCD,EAAY95H,UAAUokG,aAAe,WACnC,IAAIrtC,EAAY1xD,EAAOrF,UAAUokG,aAAalkG,KAAKE,MAE/C45H,EAAc55H,KAAKuO,QAAQqrH,YAC3Ba,EAAcb,EAAYlnH,UAAYknH,EAAYlnH,UAAY,EAC9D6V,EAAOouC,EAAUpuC,KACjBE,EAAOkuC,EAAUluC,KACjBjkB,EAAQmyD,EAAUnyD,MAClBsK,EAAS6nD,EAAU7nD,OACnB5I,EAAOgY,KAAKuR,IAAIjrB,EAAOsK,GAAwB,EAAd2rH,EAGjC7rH,EAFK2Z,EAAO/jB,EAAQ,EAEX0B,EAAO,EAChB2I,EAFK4Z,EAAO3Z,EAAS,EAEZ5I,EAAO,EACpB,OAAO,IAAI,QAAK0I,EAAGC,EAAG3I,EAAMA,IAGvBwzH,EAzTT,CA0TE,IAEa,MACfzyB,GAAiB,SAAU,IC3U3B,IAyCe,GAvCf,SAAUhiG,GAGR,SAASy1H,IACP,OAAkB,OAAXz1H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAgC7D,OAnCA,qBAAU06H,EAAQz1H,GAMlBy1H,EAAO96H,UAAU0nG,aAAe,SAAU7mG,GACxC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,SAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CyhB,EAAO96H,UAAUu6H,YAAc,SAAUv5H,EAAO2mG,GAK9C,QAJY,IAARA,IACFA,GAAM,GAGJA,EACFvnG,KAAKyP,WAAU,SAAU7B,GACnBA,aAAiB,IACnBA,EAAMusH,YAAYv5H,UAGjB,CACL,IAAIgN,EAAQ5N,KAAKkO,OAAO,GAEpBN,aAAiB,IACnBA,EAAMusH,YAAYv5H,KAKxB85H,EAAO/2B,kBAAoB,GAAYA,kBAChC+2B,EApCT,CAqCE,ICzCFrlE,GAAc,QAAS,UAAW,CAChCvlD,KAAM,SAAcZ,EAAK8yB,GACvB,IAAIzuB,EAAQrE,EAAIoZ,OAAO,GACnB3B,EAAS3mB,KAAKqsD,WAAW,CAC3Bz9C,EAAG,EACHC,EAAG,IAEDvP,EAASU,KAAKqsD,WAAW,CAC3Bz9C,EAAG2E,EAAM3E,EACTC,EAAG,KAED8rH,EAAU,CACZ/rH,EAAG+X,EAAO/X,EAAItP,EAAOsP,EACrBC,EAAG8X,EAAO9X,EAAIvP,EAAOuP,GAGnBpP,EAASye,KAAKmE,KAAKs4G,EAAQ/rH,EAAI+rH,EAAQ/rH,EAAI+rH,EAAQ9rH,EAAI8rH,EAAQ9rH,GACnE8rH,EAAQ/rH,GAAK,EAAInP,EACjBk7H,EAAQ9rH,GAAK,EAAIpP,EAEjB,IAAIm7H,GAAU18G,KAAKK,GAAK,EACpBs8G,EAAM38G,KAAKiE,IAAIy4G,GAAUD,EAAQ/rH,EAAIsP,KAAKkE,IAAIw4G,GAAUD,EAAQ9rH,EAChEisH,EAAM58G,KAAKkE,IAAIw4G,GAAUD,EAAQ/rH,EAAIsP,KAAKiE,IAAIy4G,GAAUD,EAAQ9rH,EAEhEksH,EAAS78G,KAAKK,GAAK,EACnBy8G,EAAM98G,KAAKiE,IAAI44G,GAAUJ,EAAQ/rH,EAAIsP,KAAKkE,IAAI24G,GAAUJ,EAAQ9rH,EAChEosH,EAAM/8G,KAAKkE,IAAI24G,GAAUJ,EAAQ/rH,EAAIsP,KAAKiE,IAAI44G,GAAUJ,EAAQ9rH,EAEhEwP,EAAQH,KAAKm0C,MAAMsoE,EAAQ9rH,EAAG8rH,EAAQ/rH,GAEtCy2C,EAAS1+B,EAAO/X,GADPssH,EACWh9G,KAAKiE,IAAI9D,GAC7BiuD,EAAS3lD,EAAO9X,GAFPqsH,EAEWh9G,KAAKkE,IAAI/D,GAE7BjC,EAAO,CAAC,CAAC,IAAK9c,EAAOsP,EAAU,EAANisH,EAASv7H,EAAOuP,EAAU,EAANisH,GAAU,CAAC,IAAKz1E,EAAe,EAANw1E,EAASvuD,EAAe,EAANwuD,GAAU,CAAC,IAAKz1E,EAAe,EAAN21E,EAAS1uD,EAAe,EAAN2uD,GAAU,CAAC,IAAK37H,EAAOsP,EAAU,EAANosH,EAAS17H,EAAOuP,EAAU,EAANosH,GAAU,CAAC,MAgBjM,OAfAj5F,EAAMtV,SAAS,SAAU,CACvBrI,MAAO,CACLzV,EAAG+X,EAAO/X,EACVC,EAAG8X,EAAO9X,EACVqK,EAxCa,GAyCbxG,UAxCiB,EAyCjBI,OAAQ5D,EAAI+E,SAGL+tB,EAAMtV,SAAS,OAAQ,CAChCrI,MAAO,CACLjI,KAAMA,EACNzJ,KAAMzD,EAAI+E,YChDlB,GAAc,QAAS,CACrBknH,WAAY,GACZC,eAAgB,OAChBt/F,aAAc,GACdu/F,aAAc,QACdC,cAAe,GACfC,eAAgB,OAChBC,cAAe,OACf5mF,aAAc,EACd6mF,SAAU,CAAC,MAAO,OAClBC,WAAY,OACZC,UAAW,KCLb,IAGI,GAEJ,SAAU12H,GAGR,SAAS22H,IACP,IAAI12H,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,QACNjB,EAyTT,OA/TA,qBAAU02H,EAAY32H,GAStB22H,EAAWj4B,kBAAoB,WAC7B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDymB,YAAa,EAAI,EACjBC,SAAU,EAAI,EACd6H,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,KACvBstG,WAAY,CACVL,cAAe,gBACfM,aAAc,UACdC,aAAc,CAAC,MAAO,YAK5BH,EAAWh8H,UAAUwP,KAAO,WAC1B,IAAI5J,EAAKxF,KAAKuO,QACV3N,EAAQ4E,EAAG5E,MAEXo7H,EADQx2H,EAAG+oB,MACSnqB,KAAI,SAAUwa,GACpC,OAAQA,KACPmY,MAAK,SAAU1Z,EAAGuC,GACnB,OAAOvC,EAAIuC,KAET4c,EAAKx8B,KAAKuO,QACVo0B,EAAKnG,EAAG/M,IACRA,OAAa,IAAPkT,EAAgBq5F,EAAY,GAAKr5F,EACvCC,EAAKpG,EAAG7W,IACRA,OAAa,IAAPid,EAAgBo5F,EAAYA,EAAYv8H,OAAS,GAAKmjC,EAC5D2zD,EAAK/5D,EAAG/zB,OACRA,OAAgB,IAAP8tF,EAAgB,SAAU33E,GACrC,MAAO,GAAKA,GACV23E,EACA7hD,EAAYjsC,EAAO7H,GACnBq7H,EAAWj8H,KAAKk8H,cACpBl8H,KAAKuO,QAAQ0tH,SAAWA,EACxBj8H,KAAKuO,QAAQkR,KAAO,CAAC,CACnB7e,MAAOA,GAAS,IAElBZ,KAAKuO,QAAQmmC,UAAYA,EACzB10C,KAAKuO,QAAQkhB,IAAMA,EACnBzvB,KAAKuO,QAAQoX,IAAMA,EACnB3lB,KAAKuO,QAAQ9F,OAASA,EAEtBxD,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7B47H,EAAWh8H,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACnD,MAAM,IAAIyP,MAAM,4BAGlBgmH,EAAWh8H,UAAUs8H,YAAc,WACjC,IAAI12H,EAAKxF,KAAKuO,QAAQstH,WAClBA,OAAoB,IAAPr2H,EAAgB,GAAKA,EAGlChB,EADKxE,KACMwE,MACXsK,EAFK9O,KAEO8O,OAEZ5I,EAAOgY,KAAKyH,IAAInhB,EAAOsK,GAAU,GACjCi/E,EAAe3uF,OAAOC,OAAO,GAAIW,KAAK2V,MAAO,CAC/CwlH,WAAYj1H,EACZo1H,cAAep1H,EAAO,EACtBi2H,cAAsB,IAAPj2H,IAEjB,OAAO9G,OAAOC,OAAO0uF,EAAc8tC,IAGrCD,EAAWh8H,UAAU+tB,MAAQ,WAC3B,IAAInoB,EAAKxF,KAAKuO,QACVkhB,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IACTld,EAASjD,EAAGiD,OACZwzH,EAAWz2H,EAAGy2H,SACd/0F,EAAS,CACXtmC,MAAO,IAET6pG,GAAavjE,EAAOtmC,MAAO,CACzB6uB,IAAKA,EACL9J,IAAKA,EACLyR,SAAU3H,EACV4H,SAAU1R,EACV2R,MAAM,EACNrI,UAAWxmB,EAEXqzB,aAAcmgG,EAASngG,eAGzB97B,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9B47H,EAAWh8H,UAAU0mB,MAAQ,WAC3B,IAAIyuG,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAAQ,GACRiT,WAAYzmB,KAAKuO,QAAQkY,WAAavI,KAAKK,GAC3CmI,SAAU1mB,KAAKuO,QAAQmY,SAAWxI,KAAKK,KAG3Cve,KAAK2kG,UAAU,QAASowB,IAG1B6G,EAAWh8H,UAAU0W,KAAO,WAC1B,IAAI2lH,EAAWj8H,KAAKuO,QAAQ0tH,SACxBjnH,EAA0C,kBAA1BinH,EAASZ,cAA6BY,EAASZ,aAAyC,UAA1BY,EAASZ,aAA2B,IAAO,GACzHv2B,EAAa,CACfjuC,OAAQ,CACNj2D,MAAO,GACPw7H,EAAG,KAGPt3B,EAAWjuC,OAAOj2D,MAAQ,CACxBwS,KAAM,KACN6B,MAAO,CACLD,OAAQA,GAAUinH,EAASd,WAAa,IAAMc,EAASX,cAAgB,KACvEzmH,UAAW,CACTC,SAAUmnH,EAASX,cACnB3oH,KAAMspH,EAASV,eACf5nH,UAAW,SACXC,aAAc,WAGlBuB,SAAU,CACR1V,OAAQuV,GAAUinH,EAASd,WAAa,GACxCroH,OAAQmpH,EAAST,cACjB9oH,UAAW,EAEX4C,SAAU,CAAC,EAAG2mH,EAASd,WAAa,EAAGj9G,KAAKsE,IAAIxN,GAAUinH,EAASd,WAAa,MAElFvmF,aAAcqnF,EAASrnF,aACvBC,YAAa,CACXp1C,OAAQuV,GAAUinH,EAASd,WAAa,GACxCroH,OAAQmpH,EAAST,cACjB9oH,UAAW,EACX4C,SAAU,CAAC,EAAG2mH,EAASd,WAAa,EAAGj9G,KAAKsE,IAAIxN,GAAUinH,EAASd,WAAa,MAElFkB,iBAAiB,GAEnBv3B,EAAWjuC,OAAO,IAAO,EACzB72D,KAAK2kG,UAAU,OAAQG,IAGzB82B,EAAWh8H,UAAUmkG,YAAc,WACjC,IAEIu4B,EAAU,CACZn2H,KAAM,QACNqQ,SAAU,CACRqgD,OAAQ,CAAC,QAAS,MAEpB38C,MAAO,CACLoU,OAAQ,CAAC,YAEXra,MAAO,CACLqa,OAAQ,CAXGtuB,KAAKuO,QAAQ0tH,SACAH,cAAgB97H,KAAK2qF,OAAOh1E,MAAMI,eAY5DyG,SAAS,GAEXxc,KAAK2kG,UAAU,UAAW23B,IAG5BV,EAAWh8H,UAAU6Z,WAAa,WAChC,IAAIjU,EAAKxF,KAAKuO,QAGV+nH,GAFM9wH,EAAGiqB,IACHjqB,EAAGmgB,IACGngB,EAAG8wH,WACf/nG,EAAQ/oB,EAAG+oB,MACX0tG,EAAWz2H,EAAGy2H,SACd/E,EAAoB,GAExB,IAAkB,IAAdZ,EAAqB,CACvB,IAAIiG,EAAav8H,KAAKw8H,kBACtBtF,EAAkB1mH,KAAK+rH,GAGzB,IAEIE,EAASz8H,KAAK08H,WAAWnuG,EAFf,EAE+B0tG,GACzCU,EAAUzF,EAAkB71H,OAAOo7H,GACvCz8H,KAAK2kG,UAAU,cAAeg4B,IAGhCf,EAAWh8H,UAAU88H,WAAa,SAAUnuG,EAAOquG,EAASX,GAC1D,IAIqCr9G,EAJjC1Z,EAAQlF,KAERgW,EAASimH,EAASjmH,QAAUhW,KAAK2qF,OAAOh1E,MAAMK,OAQ9CumB,EAAQhO,EAAM9uB,OAAS,EACvBo9H,EAAO,GACPC,EAAM,GACNC,GATiCn+G,EAST2d,EARnB,0BAAe/e,MAAMoB,GAAGjM,KAAK,GAAGvO,KAAI,SAAUqb,EAAMlgB,GACzD,OAAOA,OAyDX,OAhDA,QAAOw9H,GAAY,SAAUz4H,GAC3B,IAAI8sC,EAAM9sC,IAAUy4H,EAAWt9H,OAAS,EAAI,EAAIyF,EAAM83H,cAClDxiH,EAAM,CACRrU,KAAM,MACN+K,MAAO,CAACqd,EAAMjqB,GAAQs4H,GACtBzrH,IAAK,CAACod,EAAMjqB,EAAQ,GAAK8sC,EAAKwrF,GAC9Br4H,MAAO,CACLuO,OAAQkD,EAAO1R,EAAQ0R,EAAOvW,QAC9BiT,UAAWupH,EAASd,aAIpBrjG,EAAO,WAAU,GAAItd,EAAK,CAC5BjW,MAAO,CACLuO,OAAQmpH,EAASb,kBAIrB0B,EAAItsH,KAAKsnB,GACT+kG,EAAKrsH,KAAKgK,MAIK,IAAb+T,EAAM,IACRuuG,EAAItsH,KAAK,CACPrK,KAAM,MACN+K,MAAO,CAAC,EAAG0rH,GACXzrH,IAAK,CAACod,EAAM,GAAKvuB,KAAKg9H,cAAeJ,GACrCr4H,MAAO,CACLuO,OAAQmpH,EAASb,eACjB1oH,UAAWupH,EAASd,cAMM,MAA5B5sG,EAAMA,EAAM9uB,OAAS,IACvBq9H,EAAItsH,KAAK,CACPrK,KAAM,MACN+K,MAAO,CAACqd,EAAMA,EAAM9uB,OAAS,GAAKO,KAAKg9H,cAAeJ,GACtDzrH,IAAK,CAAC,IAAKyrH,GACXr4H,MAAO,CACLuO,OAAQmpH,EAASb,eACjB1oH,UAAWupH,EAASd,cAKnB2B,EAAIz7H,OAAOw7H,IAGpBjB,EAAWh8H,UAAUq9H,cAAgB,WACnC,IAAIz3H,EAAKxF,KAAKuO,QACV3N,EAAQ4E,EAAG5E,MACX6H,EAASjD,EAAGiD,OACZ6tH,EAAYt2H,KAAKuO,QAAQ+nH,UACzBjI,EAAY5lH,EAAO7H,GAEvB,MAAyB,mBAAd01H,IAAyC,IAAdA,EACnB,OAAV11H,EAAiBytH,EAAY,KAGb,kBAAdiI,EACFA,EAGgB,oBAAdA,EACFA,EAAU11H,EAAOytH,GAGnB,MAGTuN,EAAWh8H,UAAU48H,gBAAkB,WACrC,IAAIh3H,EAAKxF,KAAKuO,QACV+nH,EAAY9wH,EAAG8wH,UACf2F,EAAWz2H,EAAGy2H,SACdgB,EAAgBj9H,KAAKi9H,gBAEzB,MAAyB,oBAAd3G,EACE,CACTnwH,KAAM,OACN0mD,QAASowE,EACT1mH,KAAK,EACLC,SAAUylH,EAASF,aACnBx3H,MAAO,CACLoO,KAAMspH,EAASiB,eACfpoH,SAAUmnH,EAASE,cACnBxoH,UAAW,WAMQ,oBAAd2iH,EACE,CACTnwH,KAAM,OACNsS,OAAQ,GACRjC,SAAUylH,EAASF,aACnBtkH,KAAMwlH,QALV,GAWFrB,EAAWh8H,UAAUo9H,YAAc,WACjC,IAAI3+F,EAAQngB,KAAKsE,IAAIxiB,KAAKuO,QAAQkY,WAAazmB,KAAKuO,QAAQmY,UAAYxI,KAAKK,GAAK,IAElF,OAlUM,GAiUOve,KAAKwE,MAAQ,EAhUjB,IAiUa65B,GAGjBu9F,EAhUT,CAiUE,IAEa,MACf30B,GAAiB,QAAS,KCzU1B,SAAUhiG,GAGR,SAASk4H,IACP,OAAkB,OAAXl4H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUm9H,EAAOl4H,GAMjBk4H,EAAMv9H,UAAU0nG,aAAe,SAAU7mG,GACvC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,QAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CkkB,EAAMx5B,kBAAoB,GAAWA,mBAfvC,CAiBE,ICjBF,SAAU1+F,GAGR,SAAS65E,IACP,OAAkB,OAAX75E,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU8+E,EAAM75E,GAMhB65E,EAAKl/E,UAAU0nG,aAAe,SAAU7mG,GACtC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,OAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Cn6B,EAAK6kB,kBAAoB,GAAUA,kBAfrC,CAiBE,ICCF,SAASy5B,GAAaxuH,EAAG0Z,EAAQhkB,GAC/B,IAAI4qH,EAAY5mG,EAAO,GACnB6mG,EAAa7mG,EAAOA,EAAO7oB,OAAS,GACxC,gBAAK6oB,GAAQ,SAAUjoB,GACrB,GAAIA,EAAEuO,IAAMA,EACV,OAAOvO,EAAEwO,EAAEvK,GAGTjE,EAAEuO,EAAIA,GAAKvO,EAAEuO,EAAIsgH,EAAUtgH,IAC7BsgH,EAAY7uH,GAGVA,EAAEuO,EAAIA,GAAKvO,EAAEuO,EAAIugH,EAAWvgH,IAC9BugH,EAAa9uH,MAGjB,IAAID,GAAKwO,EAAIsgH,EAAUtgH,IAAMugH,EAAWvgH,EAAIsgH,EAAUtgH,GACtD,OAAOsgH,EAAUrgH,EAAEvK,IAAU,EAAIlE,GAAK+uH,EAAWtgH,EAAEvK,GAASlE,EAG9D,SAASi9H,GAAU59G,EAAM7Q,GAEvB,IAAIrP,EAEJ,IAAKA,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CAChC,IAAIqf,EAAIa,EAAKlgB,GAEb,GAAIqf,EAAEhQ,IAAMA,GAAKgQ,EAAEhQ,EAAIA,EACrB,MAIJ,OAAOrP,EAmOT0tE,GAAsB,OA9NtB,SAAUhoE,GAGR,SAASq4H,IACP,IAAIp4H,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMq4H,YAAc,GACbr4H,EAoNT,OA1NA,qBAAUo4H,EAAWr4H,GASrBq4H,EAAU19H,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACjD,IAAIhR,EAAQlF,KAIRooH,EADOpoH,KAAKid,IAAI,gBAAgB2yB,KACdrhC,QAAQ65G,WAE9B,GAAIA,EAAY,CAEd,IAAIoV,EAAgBx9H,KAAKy9H,aAAan1G,EAAQ8/F,GAE1CsV,EAAgB,GACpB,gBAAKF,GAAe,SAAUG,EAAY1rH,GACxC,IAAIq5D,EAAapmE,EAAM6pH,WAAW4O,EAAY1rH,GAE1Cq5D,IACFoyD,EAAcltH,KAAK,eAAI,GAAImtH,EAAW,GAAIryD,IAE1CpmE,EAAMq4H,YAAY/sH,KAAK86D,EAAWiyD,iBAItCt4H,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAM09H,EAAexnH,GAEnClW,KAAKid,IAAI,gBAEX2gH,WACf59H,KAAK69H,yBAGP54H,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,IAInDonH,EAAU19H,UAAU69H,aAAe,SAAUn1G,EAAQsf,GACnD,IAAI41F,EAAgB,GAUpB,OATA,gBAAKl1G,GAAQ,SAAUjoB,GACrB,IAAIO,EAAQP,EAAE+6D,QAAQxzB,GAEjB,eAAI41F,EAAe58H,KACtB48H,EAAc58H,GAAS,IAGzB48H,EAAc58H,GAAO4P,KAAKnQ,MAErBm9H,GAGTF,EAAU19H,UAAUmvH,WAAa,SAAUzmG,EAAQrW,GACjD,IAAIzM,EAhHR,SAAkB8iB,GAChB,IAAI6yB,GAAaviB,IACbnJ,EAAMmJ,IACNjT,GAAOiT,IAOX,OANA,gBAAKtQ,GAAQ,SAAUjoB,GACrBovB,EAAMvR,KAAKuR,IAAIpvB,EAAEuO,EAAG6gB,GACpB9J,EAAMzH,KAAKyH,IAAItlB,EAAEuO,EAAG+W,GACpB,IAAI7W,EAASoP,KAAKsE,IAAIniB,EAAEwO,EAAE,GAAKxO,EAAEwO,EAAE,IACnCssC,EAAYj9B,KAAKyH,IAAIw1B,EAAWrsC,MAE3B,CACL+gD,OAAQ,CAACpgC,EAAK9J,GACdw1B,UAAWA,GAoGF63C,CAAS1qE,GACdunC,EAASrqD,EAAGqqD,OACZ1U,EAAY31C,EAAG21C,UAGf2iF,EAAajuE,EAAO,GAAKA,EAAO,GAEhCkuE,EAAqB/9H,KAAKg+H,uBAAuBnuE,EAAO,GAAIiuE,EAAYx1G,GAGxEuiB,EAAO7qC,KAAKi+H,cAAchsH,GAE1BisH,EAAY,CACdruE,OAAQA,EACRsuE,OAAQtzF,EAAKrmC,MAAQqmC,EAAK/7B,OAC1B2Q,KAAMs+G,EACNK,UAAU,GAGRtvH,EAAS9O,KAAKq+H,WArIL,GAqI4BljF,EAAWn7C,KAAKs+H,SAAUJ,EAvIvD,IACI,KAwIhB,GAAe,OAAXpvH,EAAJ,CAIAovH,EAAUE,UAAW,EAErB,IAAIG,EAAMv+H,KAAKs+H,SAASJ,GAKxB,OAHAK,EAAI3vH,EAAI2vH,EAAI3vH,EACZ2vH,EAAI1vH,EAAI0vH,EAAIhqD,IAAMgqD,EAAIl9G,GAAKk9G,EAAIhqD,IAAM,EACrCgqD,EAAIhB,YAAczuH,EAAS+7B,EAAK/7B,OAAS,GAClCyvH,IAGTjB,EAAU19H,UAAUo+H,uBAAyB,SAAUz1G,EAAMu1G,EAAYx1G,GAIvE,IAHA,IAAIy1G,EAAqB,GAGhBx+H,EAAIgpB,EAAMhpB,EAAIu+H,EAAYv+H,GAFxB,EAEmC,CAC5C,IAAIg1E,EAAK6oD,GAAa79H,EAAG+oB,EAAQ,GAC7BjH,EAAK+7G,GAAa79H,EAAG+oB,EAAQ,GACjCy1G,EAAmBvtH,KAAK,CACtB5B,EAAGrP,EACHsP,EAAG,CAAC0lE,EAAIlzD,KAIZ,OAAO08G,GAGTT,EAAU19H,UAAUy+H,WAAa,SAAU5uG,EAAK9J,EAAKvF,EAAMo+G,EAAY1sB,EAAW2sB,GAChF,IAAK,IAAIl/H,EAAI,EAAGA,EAAIk/H,EAAcl/H,IAAK,CACrC,IAAIm/H,GAAUjvG,EAAM9J,GAAO,EACvBpX,EAAUiwH,EACdjwH,EAAQO,OAAS4vH,EACjBnwH,EAAQ/J,MAAQk6H,EAASnwH,EAAQ4vH,OACjC,IAAIQ,EAAav+G,EAAK7R,GAGtB,GAAIowH,IAFmBh5G,EAAM8J,GAAO,EAAIqiF,EAGtC,OAAO4sB,EAGLC,EACFlvG,EAAMivG,EAEN/4G,EAAM+4G,EAIV,OAAO,MAGTpB,EAAU19H,UAAU0+H,SAAW,SAAU70F,GAOvC,IANA,IAAIomB,EAASpmB,EAAOomB,OAChBrrD,EAAQilC,EAAOjlC,MACfsK,EAAS26B,EAAO36B,OAChB2Q,EAAOgqB,EAAOhqB,KACd2+G,EAAW30F,EAAO20F,SAEb7+H,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CACpC,IACIq/H,EADIn/G,EAAKlgB,GACFqP,EACPwS,EAAKw9G,EAAKp6H,EAEd,GAAI4c,EAAKyuC,EAAO,GACd,MASF,IANA,IAAIgvE,EAAWxB,GAAU59G,EAAM2B,GAC3B09G,GAAWlmG,IACXmmG,EAAe,KAEflrG,EAAQ+E,IAEH9X,EAAIvhB,EAAGuhB,EAAI+9G,EAAU/9G,IAAK,CACjC,IAAIk+G,EAAQv/G,EAAKqB,GAAGjS,EAAE,GAClB4H,EAASgJ,EAAKqB,GAAGjS,EAAE,GAWvB,GATI4H,EAASod,IACXA,EAAQpd,GAGNuoH,EAAQF,IACVA,EAAUE,EACVD,EAAetoH,GAGbod,EAAQirG,EAAUhwH,EACpB,MAIJ,GAAI+kB,EAAQirG,GAAWhwH,EACrB,QAAIsvH,GAIG,CACLxvH,EAAGgwH,EACHrqD,GAAIuqD,EACJz9G,GAAI09G,EACJv6H,MAAOA,EACPsK,OAAQA,GAKd,OAAO,GAGTwuH,EAAU19H,UAAUq+H,cAAgB,SAAUvqH,GAC5C,IAAIk8B,EAAO5vC,KAAKid,IAAI,gBAAgB2yB,KAChC67E,EAAa,iBAAM77E,EAAKj6B,MAAMV,MAAMJ,WASxC,OARA42G,EAAW32G,SA5PI,GA6PF,IAAI,QAAK,CACpBuP,MAAO,oBAAS,CACd3Q,KAAMA,EACN9E,EAAG,EACHC,EAAG,GACF48G,KAESxiG,WAGhBq0G,EAAU19H,UAAUi+H,kBAAoB,WACtC,IAAI34H,EAAQlF,KAGR+rC,EADW/rC,KAAKid,IAAI,kBACFA,IAAI,SAASA,IAAI,YACnClP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QACnC,gBAAK8uB,GAAQ,SAAU92B,EAAO3Q,GAC5B,IAAIi5H,EAAcr4H,EAAMq4H,YAAYj5H,GACpC2Q,EAAMmT,KAAK,WA/QE,IAgRbnT,EAAMpF,UAAU,CAAC,CAAC,KAAMoF,EAAMmT,KAAK,MAAOnT,EAAMmT,KAAK,MAAO,CAAC,IAAKm1G,EAAaA,GAAc,CAAC,IAAKtoH,EAAMmT,KAAK,KAAMnT,EAAMmT,KAAK,WAEjIra,EAAKkP,IAAI,UAAUnN,QAGdwtH,EA3NT,CA4NE,KC7NFrwD,GAAsB,WAtDtB,SAAUhoE,GAGR,SAASg6H,IACP,OAAkB,OAAXh6H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA+C7D,OAlDA,qBAAUi/H,EAAuBh6H,GAMjCg6H,EAAsBr/H,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GAC7D,IAAIhR,EAAQlF,KAER62G,EAAc,GAClB,gBAAK3gG,GAAQ,SAAUgE,GACrB,IAAI8rD,EAAa9rD,EAAM+C,IAAI,UACvB65F,EAAY,mBAAQ,GAAI9wC,EAAWA,EAAWvmE,OAAS,IACvDorC,EAAO3wB,EAAM+O,UACjB6tF,EAAUloG,EAAIi8B,EAAKriB,KAnBZ,GAoBPsuF,EAAUjoG,EAAIioG,EAAUjoG,EAAE,GAC1BgoG,EAAYrmG,KAAKsmG,MAGnB7xG,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAM62G,EAAa3gG,GAEpD,IACI61B,EADW/rC,KAAKid,IAAI,kBACFA,IAAI,SAASA,IAAI,YACnClP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QACnC,gBAAK8uB,GAAQ,SAAU92B,GACrBA,EAAMmT,KAAK,YAAa,QACxBnT,EAAMmT,KAAK,eAAgB,UAC3B,IAAI+lB,EAASl5B,EAAMgI,IAAI,UAEnBq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cl6B,EAAQ/O,EAAM6xG,aAAazD,EAASp9F,GAExCjB,EAAMmT,KAAK,OAAQnU,MAErBlG,EAAKkP,IAAI,UAAUnN,QAGrBmvH,EAAsBr/H,UAAUm3G,aAAe,SAAUzD,EAASp9F,GAChE,IAAIjC,EAQJ,OAPA,gBAAKiC,GAAQ,SAAUgE,GACZA,EAAMvL,KAEJ2kG,IACTr/F,EAAQiG,EAAMkO,KAAK,YAGhBnU,GAGFgrH,EAnDT,CAoDE,KCnDF,IAAI,GAEJ,SAAUh6H,GAGR,SAASi6H,IACP,IAAIh6H,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,YACNjB,EA6ET,OAnFA,qBAAUg6H,EAAgBj6H,GAS1Bi6H,EAAev7B,kBAAoB,WACjC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDiV,MAAO,CACL+H,SAAS,EACT7W,KAAM,WAKZ+4H,EAAet/H,UAAUqV,MAAQ,WAC/B,IAAIxU,EAAQT,KAAKuO,QACb0G,EAAQxU,EAAMwU,MAElB,GAAIA,IAA2B,IAAlBA,EAAM+H,QACjBhd,KAAKyS,KAAKwC,OAAQ,MADpB,CAKA,IAAIs4D,EAAYvtE,KAAKm/H,aAAalqH,GAGhB,aAAds4D,GAA0C,SAAdA,IAC9Bt4D,EAAMD,OAAS,GAGC,SAAdu4D,IACFt4D,EAAM1Q,MAAQ,WAAU,GAAI0Q,EAAM1Q,MAAO,CACvCmO,UAAW,EACXI,OAAQ,mBAIZ9S,KAAKyS,KAAKwC,MAAQi9E,GAAa,QAAS,oBAAS,CAC/Cr7B,OAAQ,CAAC72D,KAAKo/H,cAAc7xD,EAAW9sE,IACvC8sE,UAAWA,EACX39B,KAAM5vC,MACLiV,MAGLiqH,EAAet/H,UAAUg6G,WAAa,SAAUylB,GAC9CA,EAAIvtD,OAAS,CAAC,CACZ3rE,KAAM,WAIV+4H,EAAet/H,UAAUi6G,WAAa,SAAUwlB,GAC9CA,EAAIvtD,OAAS,CAAC,CACZ3rE,KAAM,WAIV+4H,EAAet/H,UAAUk6G,YAAc,SAAUulB,GAC/CA,EAAIvtD,OAAS,CAAC,CACZ3rE,KAAM,WAIV+4H,EAAet/H,UAAUw/H,cAAgB,SAAUj5H,EAAM1F,GAMvD,MALa,CACX8S,MAAO9S,EAAMs/B,OACbu/F,SAAU7+H,EAAM2nH,WAChB31G,KAAMhS,EAAM2nH,YAEAjiH,IAGhB+4H,EAAet/H,UAAUu/H,aAAe,SAAUrwC,GAChD,MAAwB,SAApBA,EAAW3oF,KACN,WAGF2oF,EAAW3oF,MAGb+4H,EApFT,CAqFE,IAEa,MACfj4B,GAAiB,YAAa,KC3F9B,SAAUhiG,GAGR,SAASs6H,IACP,OAAkB,OAAXt6H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUu/H,EAAWt6H,GAMrBs6H,EAAU3/H,UAAU0nG,aAAe,SAAU7mG,GAC3C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,YAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CsmB,EAAU57B,kBAAoB,GAAeA,kBAf/C,CAiBE,IAnBF,ICCI,GAEJ,SAAU1+F,GAGR,SAASu6H,IACP,IAAIt6H,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,sBACNjB,EA2CT,OAjDA,qBAAUs6H,EAA0Bv6H,GASpCu6H,EAAyB77B,kBAAoB,WAC3C,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD4jG,MAAO,CACL5mF,SAAS,EACT/H,MAAO,CACL+H,SAAS,EACTiS,UAAW,SAAmB3R,GAE5B,OAAOA,EAAEqC,QADC,MACY,UAOhC6/G,EAAyB5/H,UAAUqkG,YAAc,SAAUj+B,GACzD,IAAIxgE,EAAKxF,KAAKuO,QACVuxB,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OAChB,OAAO,GAAwBimC,EAAYlmC,EAAQ,CAACC,KAGtDy/F,EAAyB5/H,UAAU+tB,MAAQ,WACzC,IAAIm7F,EAAa,GACb/oF,EAAS//B,KAAKuO,QAAQwxB,OAC1B+oF,EAAW9oH,KAAKuO,QAAQwxB,QAAU,CAChCzJ,UAAW,EACXmiC,MAAO14B,EAAS,OAChBtQ,IAAK,EACL9J,IAAK,EACLsJ,UAAW,SAAmB3R,GAE5B,OAD0B,IAAJA,GAASqF,QAAQ,GACf,MAG5B3iB,KAAKuO,QAAQwvF,KAAO,WAAU,GAAI+qB,EAAY9oH,KAAKuO,QAAQwvF,MAE3D94F,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAGvBw/H,EAlDT,CAmDE,IAEa,MACfv4B,GAAiB,sBAAuB,KCvDxC,SAAUhiG,GAGR,SAASw6H,IACP,OAAkB,OAAXx6H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUy/H,EAAqBx6H,GAM/Bw6H,EAAoB7/H,UAAU0nG,aAAe,SAAU7mG,GACrD,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,sBAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CwmB,EAAoB97B,kBAAoB,GAAyBA,kBAfnE,CAiBE,IAnBF,I,qBCUA,SAAS+7B,GAAKriH,EAAGuC,EAAGyY,GAClB,OAAQ,EAAIA,GAAUhb,EAAIgb,EAASzY,ECZrC,SAAS+/G,GAAezlH,EAAOuN,EAAYnB,GACzC,IAAI9gB,EAAKiiB,GAAc,GACnB+U,EAAKh3B,EAAGoiB,SACRA,OAAkB,IAAP4U,EAAgB,IAAMA,EACjC7U,EAASniB,EAAGmiB,OACZE,EAAWriB,EAAGqiB,SACdgV,EAAUr3B,EAAGq3B,QAEb9pB,EAAMmH,EAAM+O,UACZuqF,EAAU32E,EAAU9pB,EAAIyV,KAAOzV,EAAIwV,KACnCkrF,GAAW1gG,EAAI0V,KAAO1V,EAAI2V,MAAQ,EAClCqlG,EAAa7zG,EAAM+C,IAAI,SACvBsJ,EAsBN,SAAiBD,GACf,IAAIpV,EAAQoV,EAAMpV,MACdC,EAAMmV,EAAMnV,IACZ3M,EAAQ8hB,EAAM9hB,MACdsK,EAASwX,EAAMxX,OASnB,OARW,IAAI,UAASoY,KAAK,CAC3B7C,MAAO,CACLzV,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAOA,EACPsK,OAAQA,KAhCD,CAAQwX,GAEfs5G,EAAmB,SAAQr5G,EAAK6B,KAAK,WAEzC7B,EAAK6B,KAAK,YAAa,CAAC,CAAC,KAAMorF,GAAUC,GAAU,CAAC,IAAK,EAAG,GAAI,CAAC,IAAKD,EAASC,KAC/E,IAAIosB,EAAyB3lH,EAAMkO,KAAK,eACxClO,EAAMkO,KAAK,cAAe,GAC1BlO,EAAMkO,KAAK,OAAQ7B,GACnBA,EAAK/J,QAAQ,CACX8K,OAAQs4G,GACPh4G,EAAUD,GAAQ,WACnBpB,EAAKpW,SACL+J,EAAMkO,KAAK,OAAQ,QAClB2lG,EAAanmG,GAChB1N,EAAMsC,QAAQ,CACZ5J,YAAaitH,GACZj4G,EAAUD,EAAQ,KAAMomG,EAAanmG,GACxCC,GAAYw5C,YAAW,WACrB,OAAOx5C,EAAS3N,KACf0N,EAAWmmG,EAAanmG,GC/B7B,SAAS,GAAe1N,EAAOuN,EAAYnB,GACzC,IAAI9gB,EAAKiiB,GAAc,GACnB+U,EAAKh3B,EAAGoiB,SACRA,OAAkB,IAAP4U,EAAgB,IAAMA,EACjC7U,EAASniB,EAAGmiB,OACZE,EAAWriB,EAAGqiB,SACdgV,EAAUr3B,EAAGq3B,QAEb9pB,EAAMmH,EAAM+O,UACZuqF,GAAWzgG,EAAIwV,KAAOxV,EAAIyV,MAAQ,EAClCirF,EAAU52E,EAAU9pB,EAAI0V,KAAO1V,EAAI2V,KACnCqlG,EAAa7zG,EAAM+C,IAAI,SACvBsJ,EAsBN,SAAiBD,GACf,IAAIpV,EAAQoV,EAAMpV,MACdC,EAAMmV,EAAMnV,IACZ3M,EAAQ8hB,EAAM9hB,MACdsK,EAASwX,EAAMxX,OASnB,OARW,IAAI,UAASoY,KAAK,CAC3B7C,MAAO,CACLzV,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAOA,EACPsK,OAAQA,KAhCD,CAAQwX,GAEfs5G,EAAmB,SAAQr5G,EAAK6B,KAAK,WAEzC7B,EAAK6B,KAAK,YAAa,CAAC,CAAC,KAAMorF,GAAUC,GAAU,CAAC,IAAK,EAAG,GAAI,CAAC,IAAKD,EAASC,KAC/E,IAAIosB,EAAyB3lH,EAAMkO,KAAK,eACxClO,EAAMkO,KAAK,cAAe,GAC1BlO,EAAMkO,KAAK,OAAQ7B,GACnBA,EAAK/J,QAAQ,CACX8K,OAAQs4G,GACPh4G,EAAUD,GAAQ,WACnBpB,EAAKpW,SACL+J,EAAMkO,KAAK,OAAQ,QAClB2lG,EAAanmG,GAChB1N,EAAMsC,QAAQ,CACZ5J,YAAaitH,GACZj4G,EAAUD,EAAQ,KAAMomG,EAAanmG,GACxCC,GAAYw5C,YAAW,WACrB,OAAOx5C,EAAS3N,KACf0N,EAAWmmG,EAAanmG,GClC7B,GAAc,SAAU,IH2LxBqlD,GAAsB,cAvKtB,SAAUhoE,GAGR,SAAS66H,IACP,OAAkB,OAAX76H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA+J7D,OAlKA,qBAAU8/H,EAAa76H,GAMvB66H,EAAYlgI,UAAUmpE,iBAAmB,SAAUx1D,EAAOm3D,EAAapmE,GACrE,IAAIgiB,EAAQtmB,KAAKid,IAAI,SACjBu1C,EAAalsC,EAAMa,aACnByjD,EAAStkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/CuiD,EAASvkD,EAAMoH,aAAag9C,EAAYpiD,OAAO,IAC/C9jB,GAASomE,EAAOh8D,EAAIi8D,EAAOj8D,GAAK,GAAK4jD,GAAc,EAAI,GACvD1jD,GAAU87D,EAAO/7D,EAAIg8D,EAAOh8D,GAAK,GAAK2jD,GAAc,EAAI,GAExDA,EACFj/C,EAAM3E,GAAKpK,EAEX+O,EAAM1E,GAAKC,EAGbyE,EAAMI,UAAY,SAClBJ,EAAMK,aAAe,UAGvBksH,EAAYlgI,UAAU2pE,cAAgB,SAAUxO,EAAcxnD,EAAOjP,GACnE,IAAI8kE,EAAQrO,EAAarnD,KAAKjU,OAE9B,SAASiqE,EAAY9oE,EAAO8P,GAC1B,IAAI4M,EAAI1c,EAeR,OAbI,WAAU0c,KAIRA,EAH6B,IAA7By9C,EAAarnD,KAAKjU,OAEhB6d,EAAE7d,QAAU,EACV6d,EAAE1c,EAAMnB,OAAS,GAnDjC,SAAamxB,GACX,IAAI+gC,EAAM,EAMV,OAJA,QAAO/gC,GAAK,SAAUhwB,GACpB+wD,GAAO/wD,KAGF+wD,EAAM/gC,EAAInxB,OA8CH,CAAI6d,GAGNA,EAAE5M,IAIH4M,EAGT,IAAIrI,EAAQ,CACVvB,KAAMqnD,EAAarnD,KAAKpP,GACxBsK,EAAG,EACHC,EAAG,EACHqC,MAAO,CACLtC,EAAG,EACHC,EAAG,GAELoF,MAAO,QAETgB,EAAMrG,EAAI86D,EAAYn2D,EAAM3E,EAAGtK,GAC/B2Q,EAAMpG,EAAI66D,EAAYn2D,EAAM1E,EAAGvK,GAC/BtE,KAAK+oE,iBAAiB9zD,EAAO1B,EAAOjP,GACpC,IAAIi2C,EAAcv6C,KAAKmpE,eAAepO,EAAcz2D,EAAO8kE,GAkB3D,OAhBIrO,EAAazwB,UACfiQ,EAAY3rC,GAAKmsD,EAAazwB,SAG5BywB,EAAaxwB,UACfgQ,EAAY1rC,GAAKksD,EAAaxwB,SAGhCvqC,KAAKgpE,gBAAgB/zD,GACrBA,EAAM/D,MAAQ,CACZtC,EAAGqG,EAAMrG,EACTC,EAAGoG,EAAMpG,GAEXoG,EAAMrG,GAAK2rC,EAAY3rC,EACvBqG,EAAMpG,GAAK0rC,EAAY1rC,EACvBoG,EAAMhB,MAAQV,EAAMU,MACbgB,GAGT6qH,EAAYlgI,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACnD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IACI61B,EADW/rC,KAAKid,IAAI,kBACFA,IAAI,SAASA,IAAI,YACnClP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAEnC,QAAO8uB,GAAQ,SAAU92B,EAAO3Q,GAC9B,IAAIgb,EAAIrK,EACJk5B,EAAS7uB,EAAErC,IAAI,UAEfq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cj0B,EAAQhV,EAAM23G,UAAUvJ,EAASp9F,GAEnBhR,EAAM+X,IAAI,gBAAgB6/F,aAG1C53G,EAAM43G,YAAYx9F,EAAGpF,MAIzBnM,EAAKkP,IAAI,UAAUnN,QAGrBgwH,EAAYlgI,UAAUk9G,YAAc,SAAU7nG,EAAOiF,GACnD,IAAIgjG,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAe,YAAWjjG,EAAMkO,KAAK,YAAclK,KAAKuR,IAAIvR,KAAKyH,IAAI,EAAGzL,EAAMkO,KAAK,YAAa,GAAK,EACrGg1F,EAAMj7B,GAAQ+6B,GAEdvqG,EADOuL,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,EACxD,IAAM,UAAY,UACpCloG,EAAMmT,KAAK,OAAQzV,GACnB,IAAI2T,EAAQtmB,KAAKid,IAAI,SACjBkvB,EAAYjyB,EAAM+O,UAElBzjB,EAAK8gB,EAAMwe,aAAaqH,EAAUv9B,EAAGu9B,EAAUt9B,EAAG,GAClDkxH,EAAcv6H,EAAG,GACjBw6H,EAAcx6H,EAAG,GAEjBg3B,EAAKlW,EAAMwe,aAAaqH,EAAU3nC,MAAO2nC,EAAUr9B,OAAQ,GAI3D6zB,EAAK,CAACo9F,EAHOvjG,EAAG,GAGgBwjG,EAFnBxjG,EAAG,IAGhByjG,EAAYt9F,EAAG,GACfu9F,EAAYv9F,EAAG,GACfipF,EAAY1tG,KAAKuR,IAAIswG,EAAaE,GAClCpU,EAAY3tG,KAAKyH,IAAIo6G,EAAaE,GAClCrT,EAAY1uG,KAAKuR,IAAIuwG,EAAaE,GAClCrT,EAAY3uG,KAAKyH,IAAIq6G,EAAaE,GAClCpxB,EAAU50F,EAAM+C,IAAI,eAExB,GAAI6xF,EAAS,CACX,IAAIvpB,EAAUupB,EAAQvpB,QACtBtwE,EAAMmT,KAAK,CACTxZ,EAAGkgG,EAAQ1pE,WAAawmF,EAAYC,GAAa,EAAI6T,GAAK9T,EAAWC,EAAWtmC,EAAQ,IAAMA,EAAQ,GAAKA,EAAQ,KACnH12E,EAAGigG,EAAQ1pE,UAAYs6F,GAAK9S,EAAWC,EAAWtnC,EAAQ,IAAMA,EAAQ,GAAKA,EAAQ,MAAQqnC,EAAYC,GAAa,IAI1H,IAAI3gF,EAAYj3B,EAAMgU,UAClBk3G,EAAqBj0F,EAAU3jB,MAAQqjG,GAAa1/E,EAAU1jB,MAAQqjG,GAAa3/E,EAAUzjB,MAAQmkG,GAAa1gF,EAAUxjB,MAAQmkG,EACxI53G,EAAM5E,IAAI,UAAW8vH,IAGvBL,EAAYlgI,UAAUi9G,UAAY,SAAUvJ,EAASp9F,GACnD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGFwgI,EAnKT,CAoKE,KCnIFH,GAAer1G,cAAgB,iBAC/B,GAAQY,kBAAkB,SAAU,iBAAkBy0G,ICDtD,GAAer1G,cAAgB,iBAC/B,GAAQY,kBAAkB,SAAU,iBAAkB,I,cElDtD,SAAS,GAAK7N,EAAGuC,EAAGyY,GAClB,OAAQ,EAAIA,GAAUhb,EAAIgb,EAASzY,EC0HrCy1C,GAAc,WAAY,oBAAqB,CAC7CjB,UAAW,SAAmBD,GAG5B,OAFAA,EAAUjuD,KAAwB,IAAjBiuD,EAAUjuD,KAnH/B,SAAwBgJ,EAAKi1E,QACT,IAAdA,IACFA,GAAY,GAGd,IASIC,EACAC,EAUAC,EACAC,EArBA31E,EAAIM,EAAIN,EACRC,EAAIK,EAAIL,EACR0lE,EAAKrlE,EAAIqlE,GACTruE,EAAOgJ,EAAIhJ,KASX,WAAU2I,IACZu1E,EAAOv1E,EAAE,GACTw1E,EAAOx1E,EAAE,KAETu1E,EAAO7P,EACP8P,EAAOx1E,GAML,WAAUD,IACZ01E,EAAO11E,EAAE,GACT21E,EAAO31E,EAAE,KAET01E,EAAO11E,EAAI1I,EAAO,EAClBq+E,EAAO31E,EAAI1I,EAAO,GAGpB,IAAIoiB,EAAS,CAAC,CACZ1Z,EAAG01E,EACHz1E,EAAGu1E,GACF,CACDx1E,EAAG01E,EACHz1E,EAAGw1E,IA2BL,OAxBIF,EAMF77D,EAAO9X,KAAK,CACV5B,EAAG21E,EACH11E,GAAIw1E,EAAOD,GAAQ,IAOrB97D,EAAO9X,KAAK,CACV5B,EAAG21E,EACH11E,EAAGw1E,GACF,CACDz1E,EAAG21E,EACH11E,EAAGu1E,IAIA97D,EAiDE,CAAe6rC,IAExBrkD,KAAM,SAAcZ,EAAKR,GACvB,IAAIlJ,EAEA6e,EApIR,SAAuBnV,GACrB,IAAIgpH,EAAe,GAAOviH,MAAMuE,MAAMjH,SAASwH,KAAKN,QAEhDkK,EAAQ,OAAM,GAAI6zG,EAAchpH,EAAI3K,OAGxC,OADA,wBAAa8f,EAAOnV,GACbmV,EA8HO,CAAcnV,GAEtB4/F,EAAU,OAAM5/F,EAAK,8BAErBkN,EAtDR,SAAwBlN,EAAK4/F,GAC3B,IAAI1yF,EAAO,GACPkM,EAASpZ,EAAIoZ,OACbyhD,EAAa76D,EAAI66D,WAErB,GAAI+kC,EAAS,CAEX,IAAIvpB,EAAUupB,EAAQvpB,QAClB66C,EAAatxB,EAAQsxB,WACrBC,EAAcvxB,EAAQuxB,YACtB5sB,GAAWnrF,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,GAAK,EACxCyxH,EAAgB/6C,EAAQ,GAAKA,EAAQ,GACrCg7C,EAAUh7C,EAAQnhF,KAAI,SAAUw/B,GAClC,OAAOA,EAAS08F,EAAgB,MAE9Br4C,EAAoE,IAAzDm4C,EAAW,IAAMA,EAAW,GAAKA,EAAW,IAAM,IAGjE,GAAK,SAAQr2D,GAQX3tD,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAGq5E,GAAW3/D,EAAO,GAAGzZ,EAAI4kG,GAAW8sB,EAAQ,GAAK9sB,GAAU,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,EAAUwrB,GAAU,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,EAAUwrB,GAAU,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,GAAW3/D,EAAO,GAAGzZ,EAAI4kG,GAAW8sB,EAAQ,GAAK9sB,GAAU,CAAC,MACrPr3F,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAGq5E,EAAU,KAAQwrB,GAAU,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,EAAU,MAAS3/D,EAAO,GAAGzZ,EAAI4kG,GAAW8sB,EAAQ,GAAK9sB,GAAU,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,EAAU,MAAS3/D,EAAO,GAAGzZ,EAAI4kG,GAAW8sB,EAAQ,GAAK9sB,GAAU,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,EAAU,KAAQwrB,GAAU,CAAC,UAT7P,CACxB,IAAI+sB,EAAoBH,EAAY,GAAKA,EAAY,GACjDI,EAAcJ,EAAYj8H,KAAI,SAAUs8H,GAC1C,OAAOA,EAAaF,EAAoB,MAE1CpkH,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAGq5E,GAAW3/D,EAAO,GAAGzZ,EAAI4kG,GAAW8sB,EAAQ,GAAK9sB,EAPlE,MAOsF,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,EAAUwrB,EAPnH,MAOuI,CAAC,IAAK1pC,EAAW,GAAGn7D,EAAGq5E,EAAUwrB,EAPxK,MAO4L,CAAC,IAAK1pC,EAAW,GAAGn7D,EAAGq5E,GAAWle,EAAW,GAAGl7D,EAAI4kG,GAAWgtB,EAAY,GAAKhtB,EAP5Q,MAOgS,CAAC,MAC7Sr3F,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAGq5E,EAAUwrB,EAR3B,MAQ+C,CAAC,IAAKnrF,EAAO,GAAG1Z,EAAGq5E,GAAW3/D,EAAO,GAAGzZ,EAAI4kG,GAAW8sB,EAAQ,GAAK9sB,EARnH,MAQuI,CAAC,IAAK1pC,EAAW,GAAGn7D,EAAGq5E,GAAWle,EAAW,GAAGl7D,EAAI4kG,GAAWgtB,EAAY,GAAKhtB,EARvN,MAQ2O,CAAC,IAAK1pC,EAAW,GAAGn7D,EAAGq5E,EAAUwrB,EAR5Q,MAQgS,CAAC,YAO1S,SAAQ1pC,GAGX3tD,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,MAF/IuN,EAAK5L,KAAK,CAAC,IAAK8X,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKk7D,EAAW,GAAGn7D,EAAGm7D,EAAW,GAAGl7D,GAAI,CAAC,IAAKk7D,EAAW,GAAGn7D,EAAGm7D,EAAW,GAAGl7D,GAAI,CAAC,MAMnK,OAAOuN,EAgBM,CAAelN,EAAK4/F,GAG/B,OADA1yF,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,SAASlnB,EAAK,CACtC6e,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,MAES,YAAI0yF,EAAStpG,KAElC8uD,eAAgB,SAAwB/kB,GACtC,IAAIr3B,EAAc,CAChBe,OAAQ,SACRzF,OAAQ,GAGV,OADA,wBAAa0E,EAAaq3B,GACnBr3B,KD9FXm9C,GAAc,WAAY,sBAAuB,CAC/CvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI2V,EAtDR,SAAuBnV,GACrB,IAAIgpH,EAAe,GAAOviH,MAAMuE,MAAMjH,SAASwH,KAAKN,QAEhDkK,EAAQ,OAAM,GAAI6zG,EAAchpH,EAAI3K,OAGxC,OADA,wBAAa8f,EAAOnV,GACbmV,EAgDO,CAAcnV,GAEtBkN,EA9CR,SAAsBkM,EAAQ9iB,GAC5B,IAAIq3B,EAAUr3B,EAAGq3B,QACb8jG,EAAan7H,EAAGm7H,WAChBC,EAAap7H,EAAGo7H,WAChBxkH,EAAO,GACPqoE,EAAan8D,EAAO,GACpBkrF,GAAWlrF,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,GAAK,EAI5C,GAAIiuB,EAAS,CACX,IAAI3E,EAAM0oG,EACVA,EAAaD,EACbA,EAAazoG,EAGf,IAAI2oG,GAAep8C,EAAW71E,EAAI4kG,GAAW,GAR1B,GADH,IAS2DotB,GAAcptB,EACzFp3F,EAAK5L,KAAK,CAAC,IAAKqwH,EAAap8C,EAAW51E,IAExC,IAAK,IAAItP,EAAI,EAAGse,EAAMyK,EAAO7oB,OAAQF,EAAIse,EAAKte,IAAK,CACjD,IAAI6gF,EAAS93D,EAAO/oB,GAAGqP,EAEvB,OAAQrP,GACN,KAAK,EACL,KAAK,EACH6gF,GAAUA,EAASozB,GAAW,GAjBjB,GADH,IAkBkDmtB,GAAcntB,EAC1E,MAEF,KAAK,EACHpzB,GAAUA,EAASozB,GAAW,GArBjB,GADH,IAsBkDotB,GAAcptB,EAI9Ep3F,EAAK5L,KAAK,CAAC,IAAK4vE,EAAQ93D,EAAO/oB,GAAGsP,IAMpC,OAHAuN,EAAK5L,KAAK,CAAC,IAAKqwH,EAAap8C,EAAW51E,IAExCuN,EAAK5L,KAAK,CAAC,MACJ4L,EAOM,CAAalN,EAAIoZ,OAAQ,OAAMpZ,EAAK,8BAG/C,OADAkN,EAAOpc,KAAKozD,UAAUh3C,GACf1N,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,oBAAS,oBAAS,GAAIA,GAAQ,CACnCjI,KAAMA,OAIZk4C,eAAgB,SAAwB/kB,GACtC,IAAIsiB,EAAatiB,EAAUsiB,WACvB35C,EAAc,CAChBe,OAAQ44C,EAAa,SAAW,SAChCr+C,OAAQq+C,EAAa,IAAM,GAG7B,OADA,wBAAa35C,EAAaq3B,GACnBr3B,KE7EX,IA4De,GA1Df,SAAUjT,GAGR,SAAS67H,IACP,OAAkB,OAAX77H,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAmD7D,OAtDA,qBAAU8gI,EAAmB77H,GAM7B67H,EAAkBlhI,UAAUgsF,eAAiB,SAAUjB,GAKrD,IAJA,IAAIzlF,EAAQlF,KAERsuB,EAAS,GAEJ8B,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtC9B,EAAO8B,EAAK,GAAK5wB,UAAU4wB,GAG7B,IAAI0+D,EAAa9uF,KAAK4uF,aAClBmyC,EAAe52C,IzNTd,SAAUz2E,EAAMpM,EAAMoJ,GAC3B,OAAOgD,IyNQiD,GAAsBo7E,EAAWvE,WAAY,GAAmBuE,EAAWtE,SAC/Hw2C,EAAYhhI,KAAK4vC,KAAKrhC,QAE1Bo8E,EAAO17D,UAAY,SAAUoU,EAAQ/7B,EAAMoJ,GACzC,IAAIuwH,EAAO,SAAcr9F,EAAQs9F,GAC/B,IAAIC,EAAkBJ,EAAan9F,EAAQt8B,EAAMoJ,GAEjD,OAAI,cAAao+E,EAAW7/D,WACnB6/D,EAAW7/D,UAAUoU,EAAQ/7B,EAAMoJ,EAAKkzB,EAAQs9F,GAEhD79F,EAAS,IAAM89F,GAI1B,GAAIH,EAAUI,aAAc,CAC1B,IAAIC,EAAY,OAAM/5H,EAAM,+BAExBg6H,EAAe,OAAMp8H,EAAM0qC,KAAKquD,UAAW,yBAM/C,OAJI+iC,EAAU57F,WACZ,OAAMulD,EAAQ,uBAAwB,OAAMA,EAAQ,qBAAsB,KAGrE,CAAC,EAAG,GAAGvmF,KAAI,SAAU7E,GAC1B,IAAIqkC,EAASy9F,EAAU9hI,GACnB2hI,EAAYI,EAAa/hI,GAC7B,OAAO0hI,EAAKr9F,EAAQs9F,MACnBt9G,KAAKo9G,EAAU57F,UAAY,OAAS,QAEvC,IAAIxB,EAAS,OAAMt8B,EAAM,WAAa05H,EAAUjhG,QAE5CmhG,EAAY,OAAMh8H,EAAM0qC,KAAKquD,UAAW,KAAO+iC,EAAUjhG,QAE7D,OAAOkhG,EAAKr9F,EAAQs9F,KAKnBJ,EAvDT,CAwDE,IC/CF,SAAS,GAAKzjH,EAAGuC,EAAGyY,GAClB,OAAQ,EAAIA,GAAUhb,EAAIgb,EAASzY,EAGrC,IAAI,GAAc,CAChBlD,OAAQ,YAEN,GAAgB,CAClBzJ,SAAU,UAGR,GAEJ,SAAUhO,GAGR,SAASs8H,EAAY9gI,GACnB,IAAIyE,EAAQD,EAAOnF,KAAKE,KAAMS,IAAUT,KAwCxC,OAtCAkF,EAAMiB,KAAO,SACbjB,EAAMs8H,yBAA0B,EAChCt8H,EAAMu8H,kBAAmB,EACzBv8H,EAAMw8H,wBAAyB,EAC/Bx8H,EAAMy8H,yBAA0B,EAEhCz8H,EAAM08H,4BAA8B,SAAUzhI,GAC5C,IAAIM,EAAQyE,EAAMqJ,QAElB,GAAqB,eAAjBpO,EAAEb,OAAO2S,KAAuB,CAGlC,GAFA/M,EAAM28H,qBAEFphI,EAAMqhI,cAAe,CACvB,IAAIriH,EAAOva,EAAM68H,sCAAsC5hI,EAAEb,QAEzD4F,EAAM88H,gCAAgCviH,GAGxC,GAAIhf,EAAM2gI,aAAc,CAClB3hH,EAAOva,EAAM68H,sCAAsC5hI,EAAEb,QAEzD4F,EAAM+8H,sBAAsBxiH,GAE5Bva,EAAMg9H,yBAKZh9H,EAAMi9H,YAAYj9H,EAAMqJ,SAEpB9N,EAAMqhI,eACR58H,EAAM88H,gCAAgC98H,EAAM+4F,WAG1Cx9F,EAAM2gI,eACRl8H,EAAMqJ,QAAQkR,KAAOva,EAAMk9H,sBAAsBl9H,EAAM+4F,YAGlD/4F,EAwmCT,OAnpCA,qBAAUq8H,EAAat8H,GA8CvBs8H,EAAY59B,kBAAoB,SAAUljG,GACxC,IAAIyO,EAAM,CACR+F,MAAO,CACL+H,SAAS,EACT8/F,aAAa,EACb7tF,UAAWxuB,IAAUA,EAAM2gI,cAAgB3gI,EAAM2kC,WAAa,SAAU/B,EAAQ/7B,EAAMoJ,EAAKkzB,EAAQs9F,GACjG,MAAO,GAAKt9F,GACV,SAAUP,EAAQ/7B,EAAMoJ,EAAKkzB,EAAQs9F,GACvC,OAAO79F,EAAS,IAAMO,IAG1Bge,WAAY,CACV5kC,SAAS,EACTstB,QAAS7pC,EAAM2kC,UAAY,EAAI,GAC/BmF,QAAS9pC,EAAM2kC,UAAY,GAAK,EAChC2wD,QAAS,EACT3iF,KAAM,CACJ4J,SAAS,EACTzY,MAAO,CACLmO,UAAW,EACXI,OAAQ,wBAGZY,KAAM,CACJm5C,QAAS,qBACTtoD,MAAO,CACLoO,KAAM,wBAGV/R,MAAO,CACLoc,SAAS,EACTzY,MAAO,CACLoO,KAAM,SAERsc,UAAW,SAAmBozG,EAAaC,GACzC,OAAQ,IAAMA,EAAcD,GAAa1/G,QAAQ,GAAK,OAI5DpK,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRrrD,WAAW,EACXk6B,WAAY,CACV1oC,KAAM,QACN5B,MAAO,CACLuO,OAAQ,QAIdkY,UAAW,WAAU,GAAI,GAAQL,WAAY,CAC3CX,OAAQ,CACNpC,SAAU,OAGdk6G,eAAe,EACfS,YAAa,CACXvlH,SAAS,EACTstB,SAAU,GACVC,SAAU,GACVhmC,MAAO,CACLoO,KAAM,WAIZ,OAAO,WAAU,GAAI1N,EAAO0+F,kBAAkB7jG,KAAKE,MAAOkP,IAG5DqyH,EAAY3hI,UAAU0mB,MAAQ,WAC5B,IAAI7lB,EAAQT,KAAKuO,QACbwmH,EAAc,CAChB5wH,QAAS1D,EAAM2kC,UAAY3kC,EAAMqhI,cAAgB,CAAC,CAAC,aAAc,CAAC,QAAS,GAAI,IAAM,CAAC,CAAC,QAAS,GAAI,IAAMrhI,EAAMqhI,cAAgB,GAAK,CAAC,CAAC,aAAc,CAAC,QAAS,GAAI,KAErK9hI,KAAK2kG,UAAU,QAASowB,IAG1BwM,EAAY3hI,UAAU0W,KAAO,WAC3BtW,KAAK2kG,UAAU,QAAQ,IAGzB48B,EAAY3hI,UAAU4iI,aAAe,SAAU7nH,GAC7C,IAAIla,EAAQT,KAAKuO,QACjBoM,EAAOT,MAAQ,CACboU,OAAQ,CAAC7tB,EAAMqhI,cAAgB,sBAAwB,sBAEzDnnH,EAAO1G,MAAQ,CACb4iD,OAAQ,CAACp2D,EAAMq/B,QACfxR,OAAQ7tB,EAAMwT,QAAUuJ,MAAMilH,QAAQhiI,EAAMwT,OAASxT,EAAMwT,MAAQ,CAACxT,EAAMwT,SAGxE,cAAaxT,EAAMiiI,aAErB/nH,EAAOpW,MAAQ,CACbsjB,SAAUpnB,EAAMiiI,aAIlB/nH,EAAOpW,MAAQ,CACb2K,IAAKzO,EAAMiiI,aAIf/nH,EAAOm3D,OAAS,CAAC,CACf3rE,KAAM1F,EAAMqhI,cAAgB,QAAU,eAI1CP,EAAY3hI,UAAU2Y,QAAU,WAC9B,IAAI9X,EAAQT,KAAKuO,QAEb9N,EAAM2gI,cACR,WAAU3gI,EAAM8X,QAAS,CACvBu5B,YAAa,SAAqBnwC,EAAO4qC,GACvC,IAAIo2F,EAAMx2E,EAAIl4C,EAAO2uH,EACrBD,EAAO,aACPx2E,EAAK,aAAkB,eAAkBw2E,EAAO,YAChD,aAAkBx2E,EAAI,KAAaw2E,IACnC,IAAIE,EAAS12E,EAEb,GAAIxqD,EAAO,CACTghI,EAAO,mBACPx2E,EAAK,aAAkB,eAAkBw2E,EAAO,YAChD,aAAkBx2E,EAAI,KAAaw2E,IACnCE,EAAOx0F,YAAY8d,GACnB,IAAI22E,EAAU32E,EACdw2E,EAAO,oBACPx2E,EAAK,aAAkB,gBAAmBw2E,EAAO,aACjD,aAAkBx2E,EAAI,KAAaw2E,IACnC,aAAkBx2E,EAAI,CACpB3nD,MAAO,OACPsK,OAAQ,SAEVg0H,EAAQz0F,YAAY8d,GACpBy2E,EAAWz2E,EACXA,EAAK,aAAkB,SAAWxqD,EAAQ,WAC1CmhI,EAAQz0F,YAAY8d,GAGtB,GAAI5f,EAAO,CACTo2F,EAAO,kBACPx2E,EAAK,aAAkB,cAAiBw2E,EAAO,WAC/C,aAAkBx2E,EAAI,KAAaw2E,IACnCE,EAAOx0F,YAAY8d,GACnB,IAAI42E,EAAW52E,EACf5f,EAAM89C,QAAO,SAAU24C,EAAO17H,GACvB2M,IACHA,EAAQ3M,EAAK2M,OAGf,IAAIgvH,EAAgB,OAAM37H,EAAM,2CAOhC,OALc,OAAMA,EAAM,qCAElBY,SAAQ,SAAU07B,EAAQrkC,GAChC,OAAOyjI,EAAMxyH,KAAK,CAACyyH,EAAc1jI,GAAIqkC,OAEhCo/F,IACN,IAAI96H,SAAQ,SAAU1C,EAAIlB,GAC3B,IAAI4+H,EAAe19H,EAAG,GAClBo+B,EAASp+B,EAAG,GAChBm9H,EAAO,uBACPx2E,EAAK,aAAkB,cAAiBw2E,EAAO,gBAAmBr+H,EAAQ,UAC1E,aAAkB6nD,EAAI,KAAaw2E,IACnCI,EAAS10F,YAAY8d,GACrB,IAAIg3E,EAAah3E,EACjBA,EAAK,aAAkB,SAAW+2E,EAAe,WACjDC,EAAW90F,YAAY8d,GACvBw2E,EAAO,mBACPx2E,EAAK,aAAkB,gBAAmBw2E,EAAO,KAAQ/+F,EAAS,WAClE,aAAkBuoB,EAAI,KAAaw2E,IACnCQ,EAAW90F,YAAY8d,MAU3B,OANIl4C,GAAS2uH,GACX,aAAkBA,EAAU,CAC1BjqH,gBAAiB1E,IAId4uH,KAKb59H,EAAOrF,UAAU2Y,QAAQzY,KAAKE,OAGhCuhI,EAAY3hI,UAAUmkG,YAAc,WAClC,IAAItjG,EAAQT,KAAKuO,QACboM,EAAS4vF,GAAQ,WAAY,OAAQ,CACvC5C,eAAgB,CAAClnG,EAAMqhI,cAAgB,IAAMrhI,EAAMq/B,OAAQr/B,EAAMs/B,QACjE6P,KAAM5vC,OAGJS,EAAMwU,QACR0F,EAAO1F,MAAQjV,KAAKw+G,gBAGtBx+G,KAAKwiI,aAAa7nH,GAClB3a,KAAK2a,OAASA,EACd3a,KAAK2kG,UAAU,UAAWhqF,IAG5B4mH,EAAY3hI,UAAUorB,UAAY,WAChC,IAAI9lB,EAAQlF,KAERS,EAAQT,KAAKuO,QAEjB,IAAwB,IAApB9N,EAAMuqB,UAERhrB,KAAK2a,OAAO6B,SAAU,EACtBxc,KAAKyhI,kBAAmB,MACnB,CACL,IAAI2B,EAAiB,OAAM3iI,EAAO,6BAE9B4iI,EAAuBD,GAAkBpjI,KAAKi+F,UAAUx+F,QAAU,GAElEO,KAAKsjI,gCACPniE,aAAanhE,KAAKsjI,sCACXtjI,KAAKsjI,+BAGdtjI,KAAKsjI,8BAAgCjiE,YAAW,WAC9Cn8D,EAAMq+H,yBAENr+H,EAAMu8H,kBAAmB,EAEzBv8H,EAAMs+H,kBAAkBH,GAEpB5iI,EAAM2gI,cACRl8H,EAAMu+H,mBAAmBJ,UAGpBn+H,EAAMo+H,gCACZF,GACHpjI,KAAK2a,OAAO6B,QAAU,WAAU,GAAI/b,EAAMuqB,UAAW,CACnDhB,OAAQ,CACNgB,UAAWvqB,EAAM2kC,UAAY,iBAAmB,iBAChDxd,SAAUy7G,EACVxmG,QAASp8B,EAAMqhI,gBAAkBrhI,EAAM2kC,UACvCvd,SAAU,SAAkB3N,GAC1BhV,EAAMu8H,kBAAmB,EAEzBv8H,EAAMwjE,WAAWxuD,SAO3BqnH,EAAY3hI,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACpD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBo7H,EAAY3hI,UAAUu/F,YAAc,WAClC,IAAI1+F,EAAQT,KAAKuO,QAOjB,GANAvO,KAAK0jI,mBAEDjjI,EAAM2gI,cACRphI,KAAK2jI,oBAGc,QAAjBljI,EAAMoG,QAAmB,CAC3B,IAAI+8H,EAAsB5jI,KAAK6jI,2BAE3BD,GACF5jI,KAAKyjG,kBAAkB1E,gBAAgB6kC,EAAqB,SAAS,GAGvE,IAAIE,EAAuB9jI,KAAK+jI,4BAE5BD,GACF9jI,KAAKyjG,kBAAkB1E,gBAAgB+kC,EAAsB,SAAS,IAI1E7+H,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,MAE9BA,KAAKsjI,gCACPtjI,KAAKgkI,sBAEDvjI,EAAM2gI,cACRphI,KAAKyjI,sBAITzjI,KAAK0oE,cAEmB,IAApBjoE,EAAMuqB,YACRhrB,KAAKwjI,oBAED/iI,EAAM2gI,cACRphI,KAAKyjI,sBAIJzjI,KAAKwhI,2BACRxhI,KAAKwhI,yBAA0B,EACTxhI,KAAK+N,KAAKkP,IAAI,oBAAoBvO,UACxCV,GAAG,YAAahO,KAAK4hI,+BAIzCL,EAAY3hI,UAAUqP,aAAe,SAAUC,GAC7CA,EAAMlP,KAAKmiI,YAAYjzH,GAEvBjK,EAAOrF,UAAUqP,aAAanP,KAAKE,KAAMkP,GAEzClP,KAAKwhI,yBAA0B,EAC/BxhI,KAAKyhI,kBAAmB,GAG1BF,EAAY3hI,UAAU24E,WAAa,SAAU94D,GAC3C,IAAIhf,EAAQT,KAAKuO,QAOjB,IALwB,IAApB9N,EAAMuqB,YACRhrB,KAAK0hI,wBAAyB,EAC9B1hI,KAAK2hI,yBAA0B,GAG7BlhI,EAAMqhI,cAAe,CACvB,IAAImC,EAAcjkI,KAAKkkI,0BAA0BzkH,GAEjDzf,KAAKgiI,gCAAgCiC,GAGvC,GAAIxjI,EAAM2gI,aAAc,CACtB3hH,EAAOzf,KAAKoiI,sBAAsB3iH,GAE9BwkH,EAAcjkI,KAAKkkI,0BAA0BzkH,GAEjDzf,KAAKiiI,sBAAsBgC,GAG7Bh/H,EAAOrF,UAAU24E,WAAWz4E,KAAKE,KAAMyf,GAEvCzf,KAAK6hI,qBAEDphI,EAAM2gI,cACRphI,KAAKkiI,sBAGPliI,KAAKmkI,6CAGP5C,EAAY3hI,UAAU4+G,aAAe,WACnC,IAAI/9G,EAAQT,KAAKuO,QACb0G,EAAQxU,EAAMwU,MAElB,QAAIA,IAA2B,IAAlBA,EAAM+H,UAID,IAAI,GAAkB,WAAU,CAChDnI,UAAW,CACT/B,OAAQ,OAETmC,EAAO,CACR26B,KAAM5vC,KACNutE,UAAW,cACX/2D,SAAU,SACV3B,UAAW,CACThB,QAAS,GAEXgjD,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,WAC3B7Q,aAINqyG,EAAY3hI,UAAU8oE,WAAa,SAAUxuD,GACtCla,KAAKyhI,kBACVzhI,KAAK+N,KAAKkP,IAAI,YAAY/U,SAAQ,SAAUC,GAC1C,IAAIglE,EAAkBhlE,EAAQ8U,IAAI,mBAAmBkwD,gBAEjDA,GACFA,EAAgBlwD,IAAI,kBAAkBA,IAAI,SAASA,IAAI,YAAY/U,SAAQ,SAAU+M,GAC/EiF,EACE/R,EAAQshE,WAAWx0D,EAAMgI,IAAI,YAAc/C,EAAMvL,IACnDsG,EAAMmT,KAAK,UAAW,GAGxBnT,EAAMmT,KAAK,UAAW,UAOhCm5G,EAAY3hI,UAAUuiI,YAAc,SAAU1hI,GAW5C,OAVIA,EAAM2gI,eACR3gI,EAAMqhI,eAAgB,GAGpBrhI,EAAMqhI,gBACR,OAAMrhI,EAAO,QAAUA,EAAMs/B,OAAS,SAAS,GAE/C,OAAMt/B,EAAO,kBAAkB,IAG1BA,GAGT8gI,EAAY3hI,UAAU8jI,iBAAmB,WACvC,IAAIx+H,EAAQlF,KAEZ,GAAKA,KAAK0hI,uBAAV,CACA,IAmBI0C,EAnBA3jI,EAAQT,KAAKuO,QAEb/I,EAAK/E,EAAMmhD,YAAc,GACzBtX,EAAU9kC,EAAG8kC,QACbC,EAAU/kC,EAAG+kC,QACbwrD,EAAUvwF,EAAGuwF,QACbv5D,EAAKh3B,EAAG4N,KACRixH,OAAwB,IAAP7nG,EAAgB,GAAKA,EACtCmG,EAAKn9B,EAAGkO,KACR4wH,OAAwB,IAAP3hG,EAAgB,GAAKA,EACtCC,EAAKp9B,EAAG5E,MACR2jI,OAAyB,IAAP3hG,EAAgB,GAAKA,EAEvC4hG,EAAkBlhI,KAAKmhI,MAEvB/1H,EAAY1O,KAAK6jI,0BAAyB,GAE1Cv9G,EAAQtmB,KAAK+N,KAAKkP,IAAI,SACtB1d,EAAI,EAERS,KAAK+N,KAAK8sD,WAAU,SAAU6pE,EAAYxqH,GACxC,GAAI3a,IAAM,EAAG,CACX,IAAIiG,EAAK0U,EAAM+O,UACXV,EAAO/iB,EAAG+iB,KACVC,EAAOhjB,EAAGgjB,KACVE,EAAOljB,EAAGkjB,KACVD,EAAOjjB,EAAGijB,KAEV+T,EAAKlW,EAAMwe,aAAarkC,EAAM2kC,UAAY7c,EAAOC,EAAM/nB,EAAM2kC,UAAY3kC,EAAM2gI,aAAe34G,EAAOC,EAAOjoB,EAAMqhI,cAAgBr5G,EAAOC,EAAM,GAC/ItH,EAAKob,EAAG,GACRnb,EAAKmb,EAAG,GAERmG,EAAKz9B,EAAMy/H,yCAAyCj2H,EAAWwL,GAAO,GACtE0qH,EAASjiG,EAAGvvB,KACZyxH,EAASliG,EAAGjvB,KACZoxH,EAAUniG,EAAG/hC,MAEbmkI,EAAc,CAAC,SAAUn2H,EAAGC,EAAGuE,EAAMM,EAAM9S,GACzCwS,IACFA,EAAKgV,KAAK,WAAU,GAAIi8G,EAAe9/H,MAAO,CAC5C6c,GAAIxS,EACJyS,GAAIxS,EACJ6S,GAAIjhB,EAAM2kC,UAAYx2B,EAAI07B,EAAU17B,EAAI07B,EACxC3oB,GAAI9S,EAAI07B,EACR12B,QAAS,KAEXT,EAAK/C,IAAI,kBAAmBm0H,IAG9B,IAAIloB,EAAY,EACZ0oB,EAAa,EAEbC,EAAW,WACTvxH,IACFA,EAAK0U,KAAK,WAAU,GAAIk8G,EAAe//H,MAAO,CAC5CqK,EAAGnO,EAAM2kC,UAAYx2B,EAAI07B,EAAU17B,EAAI07B,EAAUyrD,EAAUivC,EAAajvC,EACxElnF,EAAGpO,EAAM2kC,UAAYv2B,EAAI07B,EAAUwrD,EAAUlnF,EAAI07B,EACjD12B,QAAS,EACTH,KAAM4wH,EAAez3E,QACrBl5C,UAAWlT,EAAM2kC,UAAY,OAAS,QACtCxxB,aAAcnT,EAAM2kC,UAAY,SAAW,YAE7C1xB,EAAKrD,IAAI,kBAAmBm0H,GAC5BloB,EAAY5oG,EAAKuV,UAAUzkB,QAI3B0gI,EAAY,WACVtkI,IACFA,EAAMwnB,KAAK,WAAU,GAAIm8G,EAAgBhgI,MAAO,CAC9CqK,EAAGnO,EAAM2kC,UAAYx2B,EAAI07B,EAAUgyE,EAAYvmB,EAAUnnF,EAAI07B,EAAUyrD,EACvElnF,EAAGpO,EAAM2kC,UAAYv2B,EAAI07B,EAAUwrD,EAAUlnF,EAAI07B,EACjD12B,QAAS,EACTH,KAAM,cAAa6wH,EAAgBt1G,WAAaxuB,EAAM2gI,aAAemD,EAAgBt1G,UAAU,OAAMm1G,EAAY,yBAA0B,OAAMM,EAAY,0BAA4BH,EAAgBt1G,UAAUm1G,EAAW3jI,EAAMs/B,QAAS2kG,EAAWjkI,EAAMs/B,SAAW,GACzQpsB,UAAWlT,EAAM2kC,UAAY,OAAS,QACtCxxB,aAAcnT,EAAM2kC,UAAY,SAAW,YAE7CxkC,EAAMyP,IAAI,kBAAmBm0H,GAC7BQ,EAAapkI,EAAMqoB,UAAUzkB,QAI7B/D,EAAM2kC,WACR6/F,IACAC,MAEAA,IACAD,MAED,SAAUr2H,EAAGC,EAAGuE,EAAMM,EAAM9S,GACzBwS,IACFA,EAAKgV,KAAK,WAAU,GAAIi8G,EAAe9/H,MAAO,CAC5C6c,GAAIxS,EACJyS,GAAIxS,EACJ6S,GAAI9S,EAAI07B,EACR3oB,GAAIlhB,EAAM2kC,UAAY3kC,EAAM2gI,aAAevyH,EAAI07B,EAAU17B,EAAI07B,EAAU17B,EAAI07B,EAC3E12B,QAAS,KAEXT,EAAK/C,IAAI,kBAAmBm0H,IAG9B,IAAIloB,EAAY,EAEZ5oG,IACFA,EAAK0U,KAAK,WAAU,GAAIk8G,EAAe//H,MAAO,CAC5CqK,EAAGnO,EAAM2kC,UAAYx2B,EAAI07B,EAAU17B,EAAI07B,EAAUyrD,EACjDlnF,EAAGpO,EAAM2kC,UAAY3kC,EAAM2gI,aAAevyH,EAAI07B,EAAUwrD,EAAUlnF,EAAI07B,EAAUwrD,EAAUlnF,EAAI07B,EAC9F12B,QAAS,EACTH,KAAM4wH,EAAez3E,QACrBl5C,UAAW,OACXC,aAAcnT,EAAM2kC,UAAY3kC,EAAM2gI,aAAe,MAAQ,SAAW,YAE1E1tH,EAAKrD,IAAI,kBAAmBm0H,GAC5BloB,EAAY5oG,EAAKuV,UAAUzkB,OAGzB5D,IACFA,EAAMwnB,KAAK,WAAU,GAAIm8G,EAAgBhgI,MAAO,CAC9CqK,EAAGnO,EAAM2kC,UAAYx2B,EAAI07B,EAAUgyE,EAAYvmB,EAAUnnF,EAAI07B,EAAUyrD,EAAUumB,EAAYvmB,EAC7FlnF,EAAGpO,EAAM2kC,UAAY3kC,EAAM2gI,aAAevyH,EAAI07B,EAAUwrD,EAAUlnF,EAAI07B,EAAUwrD,EAAUlnF,EAAI07B,EAC9F12B,QAAS,EACTH,KAAM,cAAa6wH,EAAgBt1G,WAAaxuB,EAAM2gI,aAAemD,EAAgBt1G,UAAU,OAAMm1G,EAAY,yBAA0B,OAAMM,EAAY,0BAA4BH,EAAgBt1G,UAAUm1G,EAAW3jI,EAAMs/B,QAAS2kG,EAAWjkI,EAAMs/B,SAAW,GACzQpsB,UAAW,OACXC,aAAcnT,EAAM2kC,UAAY3kC,EAAM2gI,aAAe,MAAQ,SAAW,YAE1ExgI,EAAMyP,IAAI,kBAAmBm0H,MAIjC,GAAI/jI,EAAM2gI,aAAc,CACtB,IAAIx+F,EAAKtc,EAAMwe,aAAavc,EAAMG,EAAM,GAIxC,CAAC,CAHQka,EAAG,GACHA,EAAG,IAED,CAACxhB,EAAIC,IAAKnZ,SAAQ,SAAU1C,EAAIjG,GACzC,IAAIqP,EAAIpJ,EAAG,GACPqJ,EAAIrJ,EAAG,GACX,OAAOu/H,EAAYxlI,GAAGqP,EAAGC,EAAG+1H,GAAUA,EAAOrlI,GAAIslI,GAAUA,EAAOtlI,GAAIulI,GAAWA,EAAQvlI,YAG3FwlI,EAAY,GAAG3jH,EAAIC,EAAIujH,EAAQC,EAAQC,GAI3CV,EAAaM,KAEfh2H,EAAUuO,IAAI,YAAY/U,SAAQ,SAAUojB,GACtCA,EAAMrO,IAAI,oBAAsBunH,IAClCl5G,EAAMlD,KAAK,CACTvU,QAAS,IAEXnF,EAAU2B,IAAIib,EAAMrO,IAAI,MAAO,MAC/BokD,YAAW,WACT,OAAO/1C,EAAMnb,kBAMrBoxH,EAAY3hI,UAAU4jI,kBAAoB,SAAU57G,EAAUC,GAC5D,IAAI3iB,EAAQlF,KAERS,EAAQT,KAAKuO,QAEbG,EAAY1O,KAAK6jI,2BAEjBsB,EAAW,SAAkB5lI,GAC/B,IAAI6lI,EAAW,CACb78G,KAAMqQ,IACNpQ,MAAOoQ,IACPnQ,KAAMmQ,IACNlQ,MAAOkQ,KAGT1zB,EAAM6I,KAAK8sD,WAAU,SAAUwqE,EAAOnrH,GACpC,IAAIorH,EAAUpgI,EAAMy/H,yCAAyCj2H,EAAWwL,GAEpEqrH,EAAW,CACbh9G,KAAMqQ,IACNpQ,MAAOoQ,IACPnQ,KAAMmQ,IACNlQ,MAAOkQ,KAGL4sG,EAAW,SAAkBC,GAC/B,GAAIA,GAAgC,QAAtBA,EAAOxoH,IAAI,QAAmB,CAC1C,IAAIzX,EAAKigI,EAAOx8G,UACZV,EAAO/iB,EAAG+iB,KACVC,EAAOhjB,EAAGgjB,KACVC,EAAOjjB,EAAGijB,KACVC,EAAOljB,EAAGkjB,KAEVH,EAAOg9G,EAASh9G,OAAMg9G,EAASh9G,KAAOA,GACtCC,EAAO+8G,EAAS/8G,OAAM+8G,EAAS/8G,KAAOA,GACtCC,EAAO88G,EAAS98G,OAAM88G,EAAS98G,KAAOA,GACtCC,EAAO68G,EAAS78G,OAAM68G,EAAS78G,KAAOA,KAQ9C,GAJA,QAAO48G,GAAS,SAAUG,GACxB,OAAO,WAAUA,GAAUD,EAASC,EAAOlmI,IAAMimI,EAASC,MAGxDF,EAASh9G,KAAO68G,EAAS58G,MAAQ+8G,EAAS/8G,KAAO48G,EAAS78G,MAAQg9G,EAAS98G,KAAO28G,EAAS18G,MAAQ68G,EAAS78G,KAAO08G,EAAS38G,KAAM,CACpI,IAAIi9G,EAAa,SAAoBD,GACnC,GAAIA,EAAQ,CACV,IAAIphH,EAAQ,CACVxQ,QAAS,GAEX+T,EAAW69G,EAAOjpH,QAAQ6H,EAAOuD,GAAY69G,EAAOr9G,KAAK/D,KAI7D,QAAOihH,GAAS,SAAUG,GACxB,OAAO,WAAUA,GAAUC,EAAWD,EAAOlmI,IAAMmmI,EAAWD,MAGhE,UAASL,EAAUG,QAKzB9kI,EAAM2gI,aAAe,CAAC,EAAG,GAAGl5H,QAAQi9H,GAAYA,IAChDv9G,GAAYC,GAAYw5C,WAAWx5C,EAAUD,IAG/C25G,EAAY3hI,UAAU+lI,mBAAqB,SAAU/9G,EAAUC,GAC7D,IAAI3iB,EAAQlF,KAER0O,EAAY1O,KAAK6jI,2BAErB7jI,KAAK+N,KAAK8sD,WAAU,SAAUwqE,EAAOnrH,GACnC,IAAIorH,EAAUpgI,EAAMy/H,yCAAyCj2H,EAAWwL,GAEpEirH,EAAW,SAAkBM,GAC/B,GAAIA,EAAQ,CACV,IAAIphH,EAAQ,CACVxQ,QAAS,GAEX+T,EAAW69G,EAAOjpH,QAAQ6H,EAAOuD,GAAY69G,EAAOr9G,KAAK/D,KAI7D,QAAOihH,GAAS,SAAUG,GACxB,OAAO,WAAUA,GAAUA,EAAOv9H,QAAQi9H,GAAYA,EAASM,SAGnE79G,GAAYC,GAAYw5C,WAAWx5C,EAAUD,IAG/C25G,EAAY3hI,UAAUiiI,mBAAqB,SAAUh6G,GACnD,IAAI3iB,EAAQlF,KAIZ,IAAwB,IAFZA,KAAKuO,QAEPyc,UAAqB,CAC7B,IAAIxlB,EAAKxF,KAAK4lI,4BACVC,EAAkBrgI,EAAGqgI,gBACrBC,EAAmBtgI,EAAGugI,eAE1B/lI,KAAK0hI,wBAAyB,EAC9B1hI,KAAK2lI,mBAAmBE,GAAiB,WACvC3gI,EAAMw8H,wBAAyB,EAE/Bx8H,EAAMw+H,mBAENx+H,EAAMs+H,kBAAkBsC,EAAkBj+G,QAKhD05G,EAAY3hI,UAAUgmI,0BAA4B,WAChD,IAAInlI,EAAQT,KAAKuO,QAEby3H,EAAiB,OAAMvlI,EAAO,6BAE9BwlI,EAAgB,OAAMxlI,EAAO,4BAIjC,MAAO,CACLslI,eAH6D,GAA1C7nH,KAAKuR,IAAIw2G,EAAeD,GAI3CH,gBAH8D,IAA1C3nH,KAAKyH,IAAIsgH,EAAeD,KAOhDzE,EAAY3hI,UAAUikI,yBAA2B,SAAUqC,GAKzD,IAAItC,EAEJ,QANyB,IAArBsC,IACFA,GAAmB,GAKjBlmI,KAAK+N,KAAM,CACb,IAAIsf,EAAWrtB,KAAK+N,KAAKkP,IAAI,YAK7B,GAJAoQ,EAAS6xE,MAAK,SAAU/2F,GACtB,OAAOy7H,EAAsBz7H,EAAQ8U,IAAI,2BAGtC2mH,GAAuBsC,GACtB74G,EAAS5tB,OAAQ,CACnB,IAAI0I,EAAUklB,EAAS,GACvBu2G,EAAsBz7H,EAAQ8U,IAAI,aAAaswB,WAC/CplC,EAAQkI,IAAI,sBAAuBuzH,IAKzC,OAAOA,GAGTrC,EAAY3hI,UAAU+kI,yCAA2C,SAAUj2H,EAAWwL,EAAOgsH,QAClE,IAArBA,IACFA,GAAmB,GAGrB,IAAIzlI,EAAQT,KAAKuO,QAEb/I,EAAK/E,EAAMmhD,YAAc,GACzB5kC,EAAUxX,EAAGwX,QACbwf,EAAKh3B,EAAG4N,KACRixH,OAAwB,IAAP7nG,EAAgB,GAAKA,EACtCmG,EAAKn9B,EAAGkO,KACR4wH,OAAwB,IAAP3hG,EAAgB,GAAKA,EACtCC,EAAKp9B,EAAG5E,MACR2jI,OAAyB,IAAP3hG,EAAgB,GAAKA,EAEvC0iG,EAAU,CACZlyH,UAAMtM,EACN4M,UAAM5M,EACNlG,WAAOkG,GAGT,IAAgB,IAAZkW,IAAsBtO,EACxB,OAAO42H,EAGT,IAA+B,IAA3BjB,EAAernH,QAAmB,CACpC,IAAIkiF,EAAO,SAAc3/F,GACvB,IAAI4mI,EAAS,oBAAsBjsH,EAAMvL,GAAK,IAAMpP,EAChD6T,EAAO1E,EAAUuO,IAAIkpH,GASzB,OAPK/yH,GAAQ8yH,IACX9yH,EAAO1E,EAAUge,SAAS,OAAQ,CAChC/d,GAAIw3H,IAENz3H,EAAU2B,IAAI81H,EAAQ/yH,IAGjBA,GAGLA,EAAO3S,EAAM2gI,aAAe,CAAC,EAAG,GAAGh9H,IAAI86F,GAAQA,EAAK,GACxDomC,EAAQlyH,KAAOA,EAGjB,IAA+B,IAA3BkxH,EAAetnH,QAAmB,CAChCkiF,EAAO,SAAc3/F,GACvB,IAAI6mI,EAAS,oBAAsBlsH,EAAMvL,GAAK,IAAMpP,EAChDmU,EAAOhF,EAAUuO,IAAImpH,GASzB,OAPK1yH,GAAQwyH,IACXxyH,EAAOhF,EAAUge,SAAS,OAAQ,CAChC/d,GAAIy3H,IAEN13H,EAAU2B,IAAI+1H,EAAQ1yH,IAGjBA,GAXT,IAcIA,EAAOjT,EAAM2gI,aAAe,CAAC,EAAG,GAAGh9H,IAAI86F,GAAQA,EAAK,GACxDomC,EAAQ5xH,KAAOA,EAGjB,IAAgC,IAA5B6wH,EAAgBvnH,QAAmB,CACjCkiF,EAAO,SAAc3/F,GACvB,IAAI8mI,EAAU,qBAAuBnsH,EAAMvL,GAAK,IAAMpP,EAClDqB,EAAQ8N,EAAUuO,IAAIopH,GAS1B,OAPKzlI,GAASslI,IACZtlI,EAAQ8N,EAAUge,SAAS,OAAQ,CACjC/d,GAAI03H,IAEN33H,EAAU2B,IAAIg2H,EAASzlI,IAGlBA,GAXT,IAcIA,EAAQH,EAAM2gI,aAAe,CAAC,EAAG,GAAGh9H,IAAI86F,GAAQA,EAAK,GACzDomC,EAAQ1kI,MAAQA,EAGlB,OAAO0kI,GAGT/D,EAAY3hI,UAAUoiI,gCAAkC,SAAUviH,GAChE,IAAIhf,EAAQT,KAAKuO,QACb66D,EAAQ3pD,EAAK4qE,QAAO,SAAUjhB,EAAOi8D,GACvC,OAAOj8D,EAAQi8D,EAAM5kI,EAAMs/B,UAC1B,GACC4gG,EAAa,EACjBlhH,EAAKvX,SAAQ,SAAUm9H,EAAO/gI,GAC5B,IAAI1D,EAAQykI,EAAM5kI,EAAMs/B,QAEpB6gG,EAAaD,EADL//H,EAAQwoE,EAEpBi8D,EAAkB,WAAI,CACpBiB,WAAYhiI,EACZiiI,WAAY9mH,EAAKhgB,OACjBkhI,WAAYA,EACZC,WAAYA,EACZ/jG,QAASp8B,EAAM2kC,WAEjBu7F,EAAaC,MAIjBW,EAAY3hI,UAAU+jI,kBAAoB,WACxC,GAAK3jI,KAAK2hI,wBAAV,CACA,IACI6E,EACA13B,EAFAruG,EAAQT,KAAKuO,QAIbk4H,EAAczmI,KAAK0mI,iBAAiB1mI,KAAKi+F,WAAW,GASxD,GAPAj+F,KAAK+N,KAAK8sD,WAAU,SAAUwqE,EAAOnrH,GAC/BmrH,GAASoB,IACXD,EAAkBtsH,EAAM+C,IAAI,UAAUgM,UACtC6lF,EAAU,OAAMu2B,EAAO,mBAIvBmB,GAAmB13B,IAAmD,IAAxC,OAAMruG,EAAO,uBAAkC,CAC/E,IAAI6lB,EAAQtmB,KAAK+N,KAAKkP,IAAI,SAEtB0pH,EAAc3mI,KAAK+jI,2BAA0B,GAE7C6C,EAAe93B,EAAQsxB,WACvByG,EAAkB/3B,EAAQm0B,cAC1B6D,EAASxgH,EAAMwe,aAAa0hG,EAAgBj+G,KAAMi+G,EAAgB/9G,KAAM,GACxEs+G,EAAOzgH,EAAMwe,aAAa0hG,EAAgBh+G,KAAMg+G,EAAgB99G,KAAM,GACtEs+G,EAAS9oH,KAAKuR,IAAIq3G,EAAO,GAAIC,EAAK,IAClC/8D,EAAS9rD,KAAKyH,IAAImhH,EAAO,GAAIC,EAAK,IAClCE,EAAS/oH,KAAKuR,IAAIq3G,EAAO,GAAIC,EAAK,IAClCG,EAAShpH,KAAKyH,IAAImhH,EAAO,GAAIC,EAAK,IAClCI,EAAiBR,EAAY1pH,IAAI,YACrC,CAAC,EAAG,GAAG/U,SAAQ,SAAU3I,GACvB,IAAIgjI,EAAc4E,EAAe5nI,GAE5BgjI,IACHA,EAAcoE,EAAYj6G,SAAS,SAGrC61G,EAAYn6G,KAAK,WAAU,GAAI,OAAM3nB,EAAO,qBAAsB,CAChEiT,KAAMjT,EAAM2kC,UAAYyhG,EAAgBtnI,GAAKA,EAAI,KAAOsnI,EAAgBtnI,GAAKsnI,EAAgBtnI,GAAK,KAClGqP,EAAGnO,EAAM2kC,UAAY4hG,EAAS,OAAMvmI,EAAO,uBAAyB,GAAKumI,EAAQh9D,EAAQ48D,EAAa,IAAMA,EAAa,GAAKA,EAAa,KAC3I/3H,EAAGpO,EAAM2kC,UAAY,GAAK6hG,EAAQC,EAAQN,EAAa,IAAMA,EAAa,GAAKA,EAAa,MAAQrnI,EAAI,GAAK,GAAK0nI,EAAS,OAAMxmI,EAAO,uBACxIoT,QAAS,EACTF,UAAWlT,EAAM2kC,UAAY,QAAU7lC,EAAI,OAAS,QACpDqU,aAAcnT,EAAM2kC,WAAY7lC,EAAI,MAAmB,kBAM/DgiI,EAAY3hI,UAAU6jI,mBAAqB,SAAU77G,EAAUC,GAC7D,IAAInZ,EAAY1O,KAAK+jI,4BAErB,GAAIr1H,EAAW,CACb,IAAI04H,EAAiB14H,EAAUuO,IAAI,YACnC,CAAC,EAAG,GAAG/U,SAAQ,SAAU3I,GACvB,IAAIgjI,EAAc6E,EAAe7nI,GAEjC,GAAIgjI,EAAa,CACf,IAAIl+G,EAAQ,CACVxQ,QAAS,GAEX+T,EAAW26G,EAAY/lH,QAAQ6H,EAAOuD,GAAY26G,EAAYn6G,KAAK/D,OAKzEuD,GAAYC,GAAYw5C,WAAWx5C,EAAUD,IAG/C25G,EAAY3hI,UAAUynI,oBAAsB,SAAUz/G,EAAUC,GAC9D,IAAInZ,EAAY1O,KAAK+jI,4BAErB,GAAIr1H,EAAW,CACb,IAAI44H,EAAiB54H,EAAUuO,IAAI,YACnC,CAAC,EAAG,GAAG/U,SAAQ,SAAU3I,GACvB,IAAIgjI,EAAc+E,EAAe/nI,GAEjC,GAAIgjI,EAAa,CACf,IAAIl+G,EAAQ,CACVxQ,QAAS,GAEX+T,EAAW26G,EAAY/lH,QAAQ6H,EAAOuD,GAAY26G,EAAYn6G,KAAK/D,OAKzEuD,GAAYC,GAAYw5C,WAAWx5C,EAAUD,IAG/C25G,EAAY3hI,UAAUsiI,oBAAsB,SAAUr6G,GACpD,IAAI3iB,EAAQlF,KAIZ,IAAwB,IAFZA,KAAKuO,QAEPyc,UAAqB,CAC7B,IAAIxlB,EAAKxF,KAAK4lI,4BACV2B,EAAmB/hI,EAAGugI,eACtBF,EAAkBrgI,EAAGqgI,gBAEzB7lI,KAAK2hI,yBAA0B,EAC/B3hI,KAAKqnI,oBAAoBxB,GAAiB,WACxC3gI,EAAMy8H,yBAA0B,EAEhCz8H,EAAMy+H,oBAENz+H,EAAMu+H,mBAAmB8D,EAAkB1/G,QAKjD05G,EAAY3hI,UAAUmkI,0BAA4B,SAAUmC,GAK1D,IAAIpC,EAEJ,QANyB,IAArBoC,IACFA,GAAmB,GAKjBlmI,KAAK+N,KAAM,CACb,IAAIsf,EAAWrtB,KAAK+N,KAAKkP,IAAI,YAK7B,GAJAoQ,EAAS6xE,MAAK,SAAU/2F,GACtB,OAAO27H,EAAuB37H,EAAQ8U,IAAI,4BAGvC6mH,GAAwBoC,GACvB74G,EAAS5tB,OAAQ,CACnB,IAAI0I,EAAUklB,EAAS,GACvBy2G,EAAuB37H,EAAQ8U,IAAI,aAAaswB,WAChDplC,EAAQkI,IAAI,uBAAwByzH,IAK1C,OAAOA,GAGTvC,EAAY3hI,UAAUwiI,sBAAwB,SAAU3iH,GACtD,IACI+nH,EADA/mI,EAAQT,KAAKuO,QAEb6xH,EAAa,EAAExnG,KAAWA,KA0C9B,OAzCAnZ,EAAOA,EAAK4qE,QAAO,SAAU6T,EAASmnC,GACpC,IAAI7/H,EAEA69B,EAASgiG,EAAM5kI,EAAMq/B,QACrB8D,EAASyhG,EAAM5kI,EAAMs/B,QACrBmjG,EAAemC,EAAM5kI,EAAM2gI,cAC1BoG,IAA0BA,EAA2BtE,GAC1D,IAAIuE,EAAWvpC,EAAQgB,MAAK,SAAUuoC,GACpC,OAAOA,EAAShnI,EAAMq/B,SAAWuD,KAG9BokG,KACSjiI,EAAK,IAAO/E,EAAMq/B,QAAUuD,EAAQ79B,EAAG/E,EAAMs/B,QAAU,EAAGv6B,EAAgB,YAAI,CACxFy9H,cAAe,GACf19C,QAAS,GACT66C,WAAY,GACZC,iBAAav5H,EACbs+B,UAAW3kC,EAAM2kC,WALnBqiG,EAMGjiI,EACH04F,EAAQ1tF,KAAKi3H,IAGf,IAAI/2H,EAAMwyH,GAAgBsE,EAA2B,EAAI,EAQzD,OAPAC,EAAsB,YAAEliD,QAAQ70E,GAAOkzB,EAEnCw8F,EAAW1vH,GAAOkzB,IACpBw8F,EAAW1vH,GAAOkzB,GAGpB6jG,EAAsB,YAAExE,cAAcvyH,GAAOwyH,EACtChlC,IACN,KACEh2F,SAAQ,SAAUm9H,EAAO/gI,GAC5B+gI,EAAM5kI,EAAMs/B,QAAU,OAAMslG,EAAO,sBAAuB,IAAIh7C,QAAO,SAAUq9C,EAAQ9jG,GACrF,OAAO8jG,EAAU9jG,IAChB,GAEH,OAAMyhG,EAAO,yBAA0BjF,GAEvC,OAAMiF,EAAO,0BAA2B,OAAM5lH,EAAMnb,EAAQ,EAAI,4BAE3Dmb,GAGT8hH,EAAY3hI,UAAUqiI,sBAAwB,SAAUxiH,GACtD,IAAI2gH,EAAa,EAAExnG,KAAWA,KAC9BnZ,EAAKvX,SAAQ,SAAUm9H,GACrB,IAAI9/C,EAAU,OAAM8/C,EAAO,uBAE3B,CAAC,EAAG,GAAGn9H,SAAQ,SAAU3I,GACnBgmF,EAAQhmF,GAAK6gI,EAAW7gI,KAC1B6gI,EAAW7gI,GAAKgmF,EAAQhmF,UAI9BkgB,EAAKvX,SAAQ,SAAUm9H,EAAO/gI,GAC5B,OAAM+gI,EAAO,yBAA0BjF,GAEvC,OAAMiF,EAAO,0BAA2B,OAAM5lH,EAAMnb,EAAQ,EAAI,6BAIpEi9H,EAAY3hI,UAAU8mI,iBAAmB,SAAUjnH,GACjD,IAAIhf,EAAQT,KAAKuO,QACbo5H,EAAe3nI,KAAK+N,KAAKkP,IAAI,UAAU2qH,SAAQ,SAAU1tH,GAC3D,MAAqB,eAAdA,EAAMjI,MAAyBiI,EAAM+C,IAAI,UAAUA,IAAI,cAC7D7Y,KAAI,SAAU8V,GACf,OAAOA,EAAM+C,IAAI,UAAUrc,SAE7B,OAAO6e,EAAK06C,QAAO,SAAUkrE,GAC3B,OAAO,YAAWsC,EAActC,EAAM5kI,EAAMq/B,aAIhDyhG,EAAY3hI,UAAUskI,0BAA4B,SAAUhmC,GAC1D,IAAIz9F,EAAQT,KAAKuO,QACbo5H,EAAe3nI,KAAK+N,KAAKkP,IAAI,UAAU2qH,SAAQ,SAAU1tH,GAC3D,MAAqB,eAAdA,EAAMjI,MAAyBiI,EAAM+C,IAAI,UAAUA,IAAI,cAC7D7Y,KAAI,SAAU8V,GACf,OAAOA,EAAM+C,IAAI,UAAUrc,SAGzBinI,EADU7nI,KAAKi+F,UACW75F,KAAI,SAAU0jI,GAC1C,OAAOA,EAASrnI,EAAMq/B,WACrBq6B,QAAO,SAAU92B,GAClB,OAAQ,YAAWskG,EAActkG,MAEnC,OAAO66D,EAAQ/jC,QAAO,SAAUstE,GAC9B,OAAQ,YAAWI,EAAiBJ,EAAShnI,EAAMq/B,aAIvDyhG,EAAY3hI,UAAUmiI,sCAAwC,SAAUgG,GACtE,IAAItnI,EAAQT,KAAKuO,QACby5H,EAAmBD,EAAW9qH,IAAI,UAClCgrH,EAAgBF,EAAW9qH,IAAI,UAAUA,IAAI,UAAU2qH,SAAQ,SAAU1tH,GAC3E,OAAOA,GAAS6tH,GAA4B,eAAd7tH,EAAMjI,MAAyBiI,EAAM+C,IAAI,UAAUA,IAAI,cACpF7Y,KAAI,SAAU8V,GACf,OAAOA,EAAM+C,IAAI,UAAUrc,SAEzB6e,EAAO,GAQX,OAPAzf,KAAKi+F,UAAU/1F,SAAQ,SAAUm9H,GAC/B,IAAIhiG,EAASgiG,EAAM5kI,EAAMq/B,SAErBkoG,EAAiBpnI,OAASyiC,IAAW0kG,EAAW9qH,IAAI,UAAUA,IAAI,YAAc,YAAWgrH,EAAe5kG,KAC5G5jB,EAAKjP,KAAK60H,MAGP5lH,GAGT8hH,EAAY3hI,UAAUokI,oBAAsB,WAC1C,IAAIj1H,EAAS/O,KAAK+N,KAAKkP,IAAI,UACvBirH,EAAgBn5H,EAAOkO,IAAI,kBAE1BirH,IACHA,EAAgBn5H,EAAO2d,SAAS,QAChC3d,EAAOsB,IAAI,iBAAkB63H,IAG/BA,EAAc9/G,KAAK,CACjBxZ,EAAG,EACHC,EAAG,EACH8D,KAAM,cACNnO,MAAOuK,EAAOkO,IAAI,SAClBnO,OAAQC,EAAOkO,IAAI,aAIvBskH,EAAY3hI,UAAU2jI,uBAAyB,WAC7C,IAAIx0H,EAAS/O,KAAK+N,KAAKkP,IAAI,UACvBirH,EAAgBn5H,EAAOkO,IAAI,kBAE3BirH,GACFA,EAAc9/G,KAAK,CACjBxZ,GAAIG,EAAOkO,IAAI,YAKrBskH,EAAY3hI,UAAUukI,0CAA4C,WAChE,IAAIj/H,EAAQlF,KAIZ,IAAwB,IAFZA,KAAKuO,QAEPyc,UAAqB,CAC7B,IAAIxlB,EAAKxF,KAAK4lI,4BACVC,EAAkBrgI,EAAGqgI,gBACrBE,EAAiBvgI,EAAGugI,eAExB/lI,KAAKgkI,sBAEL3iE,YAAW,WACT,OAAOn8D,EAAMq+H,2BACZsC,EAAkBE,KAIlBxE,EAppCT,CAqpCE,IAEa,MACft6B,GAAiB,SAAU,KC9qC3B,SAAUhiG,GAGR,SAASkjI,IACP,OAAkB,OAAXljI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUmoI,EAAQljI,GAMlBkjI,EAAOvoI,UAAU0nG,aAAe,SAAU7mG,GACxC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,SAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CkvB,EAAOxkC,kBAAoB,GAAYA,kBAfzC,CAiBE,IC6OF,GAAgB,gBArPhB,SAAU1+F,GAGR,SAASmjI,EAAcl5H,GACrB,OAAOjK,EAAOnF,KAAKE,KAAM,oBAAS,CAChCmG,KAAM,gBACNmvD,UAAW,QACXmsB,aAAc,IACbvyE,KAASlP,KA0Od,OAjPA,qBAAUooI,EAAenjI,GAUzBmjI,EAAcxoI,UAAU8hF,cAAgB,WACtC,IAAIjiE,EAAOzf,KAAKid,IAlBF,cAoBV0kE,EADY3hF,KAAKo4D,QAAQ,SACFlxB,OAAO,GAAGU,MACjCnY,EAAMmJ,IACNjT,GAAOiT,IACXnZ,EAAKvX,SAAQ,SAAU69C,GACrB,IAAInlD,EAAQmlD,EAAgB,QAAE47B,GAE1B/gF,EAAQ+kB,IACVA,EAAM/kB,GAGJA,EAAQ6uB,IACVA,EAAM7uB,MAIN6uB,IAAQ9J,IACV8J,EAAM9J,EAAM,GAGd,IAAI4I,EAAQ,CAACkB,EAAK9J,GAClB3lB,KAAKqQ,IA1CS,aA0CQke,IAGxB65G,EAAcxoI,UAAUgiF,aAAe,WACrC,IAAIpuE,EAEAxT,KAAKid,IAAI,UACXzJ,EAASxT,KAAKid,IAAI,WAElBzJ,EAASxT,KAAK43D,gBAAgB,QAEzB,YAAWpkD,KACdA,EAASxT,KAAK6hF,mBAIlB,IAAItQ,EAAevxE,KAAKid,IAAI,gBACxB6kE,EAAOvQ,GAAgB,YAAWA,EAAariE,KAAOqiE,EAAariE,IAAI4yE,KAAO,KAE7E,YAAWA,IAAkB,OAATA,IACvBA,EAAOtuE,EAAS,GAGlBxT,KAAKqQ,IA7DU,cA6DQ,CACrByxE,KAAMA,EACNtuE,OAAQA,KAIZ40H,EAAcxoI,UAAUiiF,eAAiB,WACvC,IAAIrrE,EAAWxW,KAAKo4D,QAAQ,YACxB9xC,EAAQtmB,KAAKid,IAAI,SAErB,OADaiB,KAAKuR,IAAInJ,EAAM9hB,OAA2C,EAAlCgS,EAAS0wB,OAAO,GAAG1Y,MAAM/uB,QAAa6mB,EAAMxX,QAA4C,EAAlC0H,EAAS0wB,OAAO,GAAG1Y,MAAM/uB,UAItH2oI,EAAcxoI,UAAUmiF,UAAY,SAAUh0B,GAK5C,IAJA,IAAIoK,EAAYn4D,KAAKo4D,QAAQ,SACzB4pB,EAASj0B,EAAItuC,KACbgiE,EAAezhF,KAAKid,IAAI,gBAEnB1d,EAAI,EAAGA,EAAIyiF,EAAOviF,OAAQF,GAAK,EAAG,CACzC,IAAI0iF,EAAQD,EAAOziF,GAEnB,GAAI0iF,EAAO,CACT,IAAIC,OAAU,EAEVT,EAAaQ,GACfC,EAAUT,EAAaQ,IAEvBC,EAAU,GAAkB/pB,EAAUjwB,SAAS+5C,EAAQ,MACvDR,EAAaQ,GAASC,GAIxBF,EAAOziF,EAAI,GAAK2iF,EAAQ,GACxBF,EAAOziF,EAAI,GAAK2iF,EAAQ,GACxBF,EAAOziF,EAAI,GAAK2iF,EAAQ,GACxBF,EAAOziF,GAAK0iF,KAKlBmmD,EAAcxoI,UAAUwiF,+BAAiC,SAAUlpE,GACjE,IAAImpE,EAAeriF,KAAKid,IAvGI,0BAyGvBolE,IACHA,EAAe/vC,SAASgwC,cAAc,UACtCtiF,KAAKqQ,IA3GqB,yBA2GUgyE,IAGtC,IAAIgmD,EAAYroI,KAAKid,IAAI,aAAejd,KAAKid,IAAI,aAAe,EAC5DqrH,EAAepqH,KAAKmE,MAAM,EAAMnE,KAAK0Z,IArHlC,EAAM,IAAQ,GAqH+B1e,EAAImvH,EAtH3C,oBAsHsE,EAAMnvH,EACrF4oE,EAAOwmD,EAAepvH,EACtBqpE,EAAK+lD,EAAexmD,EACpBU,EAAMH,EAAaI,WAAW,MAClCJ,EAAa79E,MAAQ69E,EAAavzE,OAAc,EAALyzE,EAC3CC,EAAIE,UAAU,EAAG,EAAGL,EAAa79E,MAAO69E,EAAavzE,QACrD0zE,EAAIrpE,cAAgBqpE,EAAIG,cAAqB,EAALJ,EACxCC,EAAIruE,WAAa2tE,EACjBU,EAAIpuE,YAAc,QAClBouE,EAAII,YACJJ,EAAIhoE,KAAK+nE,GAAKA,EAAIrpE,EAAG,EAAa,EAAVgF,KAAKK,IAAQ,GACrCikE,EAAIK,YACJL,EAAI7vE,QAGNy1H,EAAcxoI,UAAUkjF,4BAA8B,SAAUl0E,EAAGC,EAAGqK,EAAG+oE,EAAOO,GAC9E,IAAIH,EAAeriF,KAAKid,IA/HI,0BAgI5BulE,EAAIO,YAAcd,EAClBO,EAAIQ,UAAUX,EAAczzE,EAAIsK,EAAGrK,EAAIqK,IAGzCkvH,EAAcxoI,UAAUqjF,oBAAsB,WAC5C,IAAIl0E,EAAS/O,KAAKid,IAzIF,gBA2IXlO,IACHA,EAASujC,SAASgwC,cAAc,UAChCtiF,KAAKqQ,IA7IS,eA6IUtB,IAG1B,IAAI4nD,EAAY32D,KAAKid,IAAI,QAAQA,IAAI,cACrClO,EAAOvK,MAAQmyD,EAAUnyD,MACzBuK,EAAOD,OAAS6nD,EAAU7nD,OAC1B,IAAIy5H,EAAUx5H,EAAO0zE,WAAW,MAEhC,OADA8lD,EAAQC,yBAA2B,UAC5BD,GAGTH,EAAcxoI,UAAUsjF,sBAAwB,WAC9C,IAAIV,EAAMxiF,KAAKijF,sBAEfT,EAAIE,UAAU,EAAG,EAAGF,EAAIzzE,OAAOvK,MAAOg+E,EAAIzzE,OAAOD,SAGnDs5H,EAAcxoI,UAAUujF,eAAiB,WACvC,IAAIC,EAAapjF,KAAKid,IA7JR,cA+Jd,OAAImmE,IAKJA,EADgBpjF,KAAKid,IAAI,aACFyP,SAAS,QAAS,IACzC1sB,KAAKqQ,IArKS,aAqKQ+yE,GACfA,IAGTglD,EAAcxoI,UAAUmQ,MAAQ,WAC9B/P,KAAKkjF,wBAELj+E,EAAOrF,UAAUmQ,MAAMjQ,KAAKE,OAG9BooI,EAAcxoI,UAAUyjF,cAAgB,SAAU90D,GAEhD,IAAI/oB,EAAKxF,KAAKid,IAAI,SACd/L,EAAQ1L,EAAG0L,MACXC,EAAM3L,EAAG2L,IACT3M,EAAQgB,EAAGhB,MACXsK,EAAStJ,EAAGsJ,OAIZw0E,EAAatjF,KAAKo4D,QAAQ,SAASlxB,OAAO,GAAGU,MAC7C1hC,EAAOlG,KAAKid,IAvLD,eAyLfjd,KAAKkjF,wBAEL,IAAIV,EAAMxiF,KAAKijF,sBAGXxjE,EAAOzf,KAAKid,IAhMF,cAkMVsR,IACF9O,EAAOA,EAAK06C,QAAO,SAAUpU,GAC3B,OAAOA,EAAgB,QAAEu9B,IAAe/0D,EAAM,IAAMw3B,EAAgB,QAAEu9B,IAAe/0D,EAAM,OAO/F,IAFA,IAAIZ,EAAQ3tB,KAAKid,IAAI,UAAUqmE,GAEtB/jF,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CACpC,IAAIoB,EAAM8e,EAAKlgB,GACX2P,EAAMlP,KAAKw0E,WAAW7zE,GACtBshF,EAAQt0D,EAAMA,MAAMhtB,EAAgB,QAAE2iF,IAE1CtjF,KAAK8iF,4BAA4B5zE,EAAIN,EAAIsC,EAAMtC,EAAGM,EAAIL,EAAIsC,EAAItC,EAAG3I,EAAKsN,OAAStN,EAAK47E,KAAMG,EAAOO,GAInG,IAAIe,EAAUf,EAAIgB,aAAa,EAAG,EAAGh/E,EAAOsK,GAE5C9O,KAAKkjF,wBAELljF,KAAK+hF,UAAUwB,GAEff,EAAIiB,aAAaF,EAAS,EAAG,GAC7B,IAAIpnE,EAAQ,IAAI0xC,MAChB1xC,EAAM2xC,IAAM00B,EAAIzzE,OAAO20E,UAAU,aAEhB1jF,KAAKmjF,iBAEX/6D,KAAK,CACdxZ,EAAGsC,EAAMtC,EACTC,EAAGsC,EAAItC,EACPrK,MAAOA,EACPsK,OAAQA,EACRi/C,IAAK5xC,KAITisH,EAAcxoI,UAAUkQ,KAAO,SAAU2P,GACvCzf,KAAKqQ,IA1OS,aA0OQoP,GAEtBzf,KAAK0hF,gBAEL1hF,KAAK4hF,eAEL,IAAI17E,EAAOlG,KAAKid,IA9OD,eAgPfjd,KAAKoiF,+BAA+Bl8E,EAAKsN,QAEzC,IAAI+a,EAAQvuB,KAAKid,IAtPH,cAuPdjd,KAAKqjF,cAAc90D,IAGd65G,EAlPT,CAmPE,KChQF,IA0Ze,GApZf,WACE,SAASK,EAAcv5H,GACrBlP,KAAKmO,WAAY,EACjBnO,KAAK0oI,WAAa,GAClB,IAAI/2H,EAAiB3R,KAAK2jG,oBAEtBz0F,EAAI0gC,KAAKrhC,QAAQoH,OAAoC,SAA3BzG,EAAI0gC,KAAKrhC,QAAQoH,QAC7ChE,EAAiB3R,KAAK2oI,kBAGxB3oI,KAAKuO,QAAU,mBAAQ,GAAIoD,EAAgBzC,GAC3ClP,KAAK+N,KAAO/N,KAAKuO,QAAQR,KACzB/N,KAAKm/F,aAAc,EACnBn/F,KAAKoP,OAoYP,OAjYAq5H,EAAc7oI,UAAUwP,KAAO,WAC7BpP,KAAKsX,OAAStX,KAAK4oI,YACnB5oI,KAAKwE,MAAQxE,KAAKuO,QAAQ/J,MAAQxE,KAAKuO,QAAQ/J,MAAQxE,KAAK6oI,kBAC5D7oI,KAAK8O,OAAS9O,KAAKuO,QAAQO,OAAS9O,KAAKuO,QAAQO,OAAS9O,KAAK8oI,mBAC/D,IAAIC,EAAgB/oI,KAAKuO,QAAQqhC,KAAKlhC,UACtC1O,KAAK0O,UAAYq6H,EAAcx7F,YAGjCk7F,EAAc7oI,UAAU+P,OAAS,WAC/B,IAAIu3B,EAASlnC,KAAK+N,KAAKkP,IAAI,UACvB0kE,EAAa3hF,KAAKuO,QAAQqhC,KAAKrhC,QAAQozE,WAC3C3hF,KAAKgpI,WAAa9hG,EAAOy6C,GACzB,IAAIn8E,EAAKxF,KAAKgpI,WACVv5G,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IACT1R,EAAQjU,KAAKuO,QAAQqhC,KAAKrhC,QAAQ0F,MAElB,eAAhBjU,KAAKsX,OACPtX,KAAKipI,iBAAiBx5G,EAAK9J,EAAK1R,GAEhCjU,KAAKkpI,eAAez5G,EAAK9J,EAAK1R,GAGhCjU,KAAKmpI,eACLnpI,KAAKopI,kBAGPX,EAAc7oI,UAAU0Q,KAAO,WAC7BtQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAKuO,QAAQqhC,KAAK7gC,OAAOe,QAG3B24H,EAAc7oI,UAAUwQ,KAAO,WAC7BpQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAKuO,QAAQqhC,KAAK7gC,OAAOe,QAG3B24H,EAAc7oI,UAAUmQ,MAAQ,WAC1B/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInB04H,EAAc7oI,UAAUoQ,QAAU,WAC5BhQ,KAAK0O,WACP1O,KAAK0O,UAAUyB,SAGjBnQ,KAAKmO,WAAY,GAGnBs6H,EAAc7oI,UAAUqpB,QAAU,WAChC,IAAIogH,EAAcrpI,KAAK0O,UAAUua,UACjC,OAAO,IAAI,QAAKjpB,KAAK4O,EAAG5O,KAAK6O,EAAGw6H,EAAY7kI,MAAO6kI,EAAYv6H,SAGjE25H,EAAc7oI,UAAUspI,eAAiB,SAAUz5G,EAAK9J,EAAK3P,GAC3D,IAAI9Q,EAAQlF,KAERspI,EAAYtpI,KAAKwE,MACjB+kI,EAAavpI,KAAK8O,OAASkH,EAAOvW,OAClC+pI,EAAoB,IAAI,SACxBC,EAAa,iBAAMzzH,GAAQ6mB,UAC3B6sG,GAAa/jH,EAAM8J,GAAOzZ,EAAOvW,OAErC,gBAAKgqI,GAAY,SAAUpqH,EAAG9f,GAC5B,IAAIsP,EAAI06H,EAAahqI,EAEjBm3C,EAAa,CACf6pC,GAAI56D,EAAM+jH,EAAYnqI,EACtB+8B,KAAM3W,EAAM+jH,GAAanqI,EAAI,IAGpB2F,EAAMwJ,UAAUge,SAAS,OAAQ,CAC1CrI,MAAO,CACLzV,EAAG,EACHC,EAAGA,EACHrK,MAAO8kI,EACPx6H,OAAQy6H,EACR52H,KAAM0M,EACNxL,QArGW,EAsGXmE,OAAQ,WAEV/F,KAAM,SAGH5B,IAAI,OAAQqmC,GAEjB,IAAIizF,EAAYzkI,EAAM0kI,aAAalzF,GAEnCxxC,EAAMwjI,WAAWhyF,EAAWpa,KAAO,IAAMoa,EAAW6pC,IAAM,CACxD/mC,KAAM,SACN/5B,KAAMkqH,GAEGH,EAAkB98G,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAK,EAAGvN,EAAI06H,GAAa,CAAC,IAAKD,EAAWz6H,EAAI06H,KACrDrkI,EAAMqJ,QAAQs7H,oBAIP7pI,KAAK0O,UAAUge,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACd3Q,KAAMiS,EACN/W,EAAG06H,EAAY,EACfz6H,GA/HW,EAgIX8E,UAAW,SACXC,aAAc,UACb5T,KAAKuO,QAAQmF,KAAKnP,SAETvE,KAAK0O,UAAUge,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACd3Q,KAAM+b,EACN7gB,EAAG06H,EAAY,EACfz6H,EAAG7O,KAAK8O,OAxIG,EAyIX6E,UAAW,SACXC,aAAc,OACb5T,KAAKuO,QAAQmF,KAAKnP,SAGZilI,EAAkB98G,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAK,EAAG,GAAI,CAAC,IAAKpc,KAAKwE,MAAO,GAAI,CAAC,IAAKxE,KAAKwE,MAAOxE,KAAK8O,QAAS,CAAC,IAAK,EAAG9O,KAAK8O,QAAS,CAAC,IAAK,EAAG,KACzG9O,KAAKuO,QAAQs7H,iBAElB7pI,KAAK0O,UAAUkB,IAAI45H,IAGrBf,EAAc7oI,UAAUqpI,iBAAmB,SAAUx5G,EAAK9J,EAAK3P,GAC7D,IAAI9Q,EAAQlF,KAERspI,EAAYtpI,KAAKwE,MAAQwR,EAAOvW,OAChC8pI,EAAavpI,KAAK8O,OAClB06H,EAAoB,IAAI,SACxBE,GAAa/jH,EAAM8J,GAAOzZ,EAAOvW,OAErC,gBAAKuW,GAAQ,SAAUqJ,EAAG9f,GACxB,IAAIqP,EAAI06H,EAAY/pI,EAEhBm3C,EAAa,CACfpa,KAAMotG,EAAYnqI,EAClBghF,GAAImpD,GAAanqI,EAAI,IAGZ2F,EAAMwJ,UAAUge,SAAS,OAAQ,CAC1CrI,MAAO,CACLzV,EAAGA,EACHC,EAAG,EACHrK,MAAO8kI,EACPx6H,OAAQy6H,EACR52H,KAAM0M,EACNxL,QAAS,GACTmE,OAAQ,WAEV/F,KAAM,SAGH5B,IAAI,OAAQqmC,GACN8yF,EAAkB98G,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAKxN,EAAI06H,EAAW,GAAI,CAAC,IAAK16H,EAAI06H,EAAWC,KACpDrkI,EAAMqJ,QAAQs7H,oBAIrB7pI,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,oBAAS,oBAAS,CACvB3Q,KAAM+b,EACN7gB,GA9LW,EA+LXC,EAAG06H,EAAa,GACfvpI,KAAKuO,QAAQmF,KAAKnP,OAAQ,CAC3BoP,UAAW,QACXC,aAAc,aAGlB5T,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,oBAAS,CACd3Q,KAAMiS,EACN/W,EAAG5O,KAAKwE,MAxMG,EAyMXqK,EAAG06H,EAAa,EAChB51H,UAAW,OACXC,aAAc,UACb5T,KAAKuO,QAAQmF,KAAKnP,SAGvBilI,EAAkB98G,SAAS,OAAQ,CACjCrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAK,EAAG,GAAI,CAAC,IAAKpc,KAAKwE,MAAO,GAAI,CAAC,IAAKxE,KAAKwE,MAAOxE,KAAK8O,QAAS,CAAC,IAAK,EAAG9O,KAAK8O,QAAS,CAAC,IAAK,EAAG,KACzG9O,KAAKuO,QAAQs7H,iBAElB7pI,KAAK0O,UAAUkB,IAAI45H,IAGrBf,EAAc7oI,UAAUgpI,UAAY,WAClC,IAAIl6E,EAAY1uD,KAAKuO,QAAQiI,SAASqN,MAAM,KAG5C,OAFA7jB,KAAKwW,SAAWk4C,EAAU,GAEL,SAAjBA,EAAU,IAAkC,UAAjBA,EAAU,GAChC,WAGF,cAGT+5E,EAAc7oI,UAAUipI,gBAAkB,WACxC,MAAoB,eAAhB7oI,KAAKsX,OAEQ,GADHtX,KAAKuO,QAAQqhC,KAAKrhC,QAAQ/J,MAIjC,IAGTikI,EAAc7oI,UAAUkpI,iBAAmB,WACzC,MAAoB,aAAhB9oI,KAAKsX,OAES,GADHtX,KAAKuO,QAAQqhC,KAAKrhC,QAAQO,OAIlC,IAGT25H,EAAc7oI,UAAUupI,aAAe,WACrC,IAAIjkI,EAAQlF,KAER6/F,EAAW7/F,KAAKuO,QAAQqhC,KAAKg7C,eAAeiV,SAE5C,mBAAQA,IACV,gBAAKA,GAAU,SAAUrW,EAAIllF,GACI,oBAApBu7F,EAASv7F,KAClBu7F,EAASv7F,GAASu7F,EAASv7F,GAAOY,EAAMqJ,QAAQqhC,KAAKrhC,aAK3D,IAAIs8B,EAAO7qC,KAAK0O,UAAUua,UACtBra,EAAI,EACJC,EAAI,EACJ6/C,EAAY1uD,KAAKuO,QAAQiI,SAASqN,MAAM,KACxCimH,EAAY9pI,KAAKuO,QAAQqhC,KAAKprC,MAC9BulI,EAAa/pI,KAAKuO,QAAQqhC,KAAK9gC,OAEd,SAAjB4/C,EAAU,GACZ9/C,EAAIixF,EAAS,GACa,UAAjBnxC,EAAU,GACnB9/C,EAAIk7H,EAAYjqC,EAAS,GAAKh1D,EAAKrmC,MACT,WAAjBkqD,EAAU,GACnB9/C,GAAKk7H,EAAYj/F,EAAKrmC,OAAS,EACL,SAAjBkqD,EAAU,GACnB9/C,EAAIixF,EAAS,GACa,UAAjBnxC,EAAU,KACnB9/C,EAAI5O,KAAKuO,QAAQqhC,KAAKprC,MAAQq7F,EAAS,GAAKh1D,EAAKrmC,OAI9B,WAAjBkqD,EAAU,GACZ7/C,EAAIk7H,EAAalqC,EAAS,GAAKh1D,EAAK/7B,OACV,QAAjB4/C,EAAU,GACnB7/C,EAAI7O,KAAKgqI,eAAenqC,GACE,WAAjBnxC,EAAU,GACnB7/C,GAAKk7H,EAAal/F,EAAK/7B,QAAU,EACP,QAAjB4/C,EAAU,GACnB7/C,EAAIgxF,EAAS,GACa,WAAjBnxC,EAAU,KACnB7/C,EAAIk7H,EAAalqC,EAAS,GAAKh1D,EAAK/7B,QAGtC9O,KAAK4O,EAAIA,EACT5O,KAAK6O,EAAIA,EACT7O,KAAK0O,UAAUigB,UAAU/f,EAAGC,IAG9B45H,EAAc7oI,UAAU+jG,kBAAoB,WAC1C,MAAO,CACLjwF,KAAM,CACJnP,MAAO,CACLuQ,SAAU,GACVnC,KAAM,wBAGVk3H,cAAe,CACbn3H,UAAW,EACXI,OAAQ,yBAKd21H,EAAc7oI,UAAU+oI,eAAiB,WACvC,MAAO,CACLj1H,KAAM,CACJnP,MAAO,CACLuQ,SAAU,GACVnC,KAAM,8BAGVk3H,cAAe,CACbn3H,UAAW,EACXI,OAAQ,+BAKd21H,EAAc7oI,UAAUwpI,eAAiB,WACvC,IAAIlkI,EAAQlF,KAERwF,EAAKxF,KAAKuO,QAAQqhC,KAAKrhC,QACvBozE,EAAan8E,EAAGm8E,WACTn8E,EAAGia,KACdzf,KAAK0O,UAAUV,GAAG,SAAS,SAAUqxC,GACnC,IAAI//C,EAAS+/C,EAAG//C,OAEhB,GAA2B,SAAvBA,EAAO2d,IAAI,QAAoB,CACjC,IAAIy5B,EAAap3C,EAAO2d,IAAI,QACxBgtH,EAAavzF,EAAWpa,KAAO,IAAMoa,EAAW6pC,GAChD2pD,EAAehlI,EAAMwjI,WAAWuB,GAEV,WAAtBC,EAAa1wF,MACf0wF,EAAa1wF,KAAO,WACpBl6C,EAAO+0C,cACP/0C,EAAOkd,QAAQ,CACb3I,QApVW,IAqVV,OAEHq2H,EAAa1wF,KAAO,SACpBl6C,EAAO+0C,cACP/0C,EAAOkd,QAAQ,CACb3I,QA3VS,GA4VR,MAGL,IAAI4oE,EAAev3E,EAAMilI,kBAErB1tD,EAAah9E,OAAS,IACxByF,EAAM6I,KAAKsC,IAAI,OAAQosE,GAEvBv3E,EAAM6I,KAAK4f,MAAMg0D,EAAY,CAC3BlyD,IAAKvqB,EAAM8jI,WAAWv5G,IACtB9J,IAAKzgB,EAAM8jI,WAAWrjH,IACtB2R,KAAMpyB,EAAM8jI,WAAW1xG,OAGzBpyB,EAAM6I,KAAK4B,eAMnB84H,EAAc7oI,UAAUuqI,gBAAkB,WACxC,IAAI1tD,EAAe,GAMnB,OALA,gBAAKz8E,KAAK0oI,YAAY,SAAUxoI,GAChB,UAAVA,EAAEs5C,MACJijC,EAAajsE,KAAKzQ,MAAM08E,EAAcv8E,EAAEuf,SAGrCg9D,GAITgsD,EAAc7oI,UAAUgqI,aAAe,SAAUr7G,GAC/C,IAAI67G,EAAQ,GACR5kI,EAAKxF,KAAKuO,QAAQqhC,KAAKrhC,QACvBozE,EAAan8E,EAAGm8E,WAChBliE,EAAOja,EAAGia,KAQd,OAPA,gBAAKA,GAAM,SAAUb,GACnB,IAAIhe,EAAQge,EAAE+iE,GAEV/gF,GAAS2tB,EAAM+N,MAAQ17B,EAAQ2tB,EAAMgyD,IACvC6pD,EAAM55H,KAAKoO,MAGRwrH,GAGT3B,EAAc7oI,UAAUoqI,eAAiB,SAAUnqC,GACjD,OAAI7/F,KAAKuO,QAAQqhC,KAAKhuC,YACT5B,KAAKuO,QAAQqhC,KAAKhuC,YAAYqnB,UAC7BP,KAAO,GACV1oB,KAAKuO,QAAQqhC,KAAKjuC,MAChB3B,KAAKuO,QAAQqhC,KAAKjuC,MAAMsnB,UACvBP,KAAO,GAGdm3E,EAAS,IAGX4oC,EAjZT,GCgFe,GApFf,SAAUxjI,GAGR,SAASolI,EAAkBn7H,GACzB,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAOjC,OALAkF,EAAMqJ,QAAUW,EAChBhK,EAAM6I,KAAO7I,EAAMqJ,QAAQR,KAE3B7I,EAAMkK,OAEClK,EAsET,OAhFA,qBAAUmlI,EAAmBplI,GAa7BolI,EAAkBzqI,UAAUwP,KAAO,WACjC,IAAIkX,EAAQtmB,KAAK+N,KAAKkP,IAAI,SAC1Bjd,KAAKwE,MAAQ8hB,EAAM9hB,MACnBxE,KAAK8O,OAASwX,EAAMxX,OACpB9O,KAAK4O,EAAI0X,EAAMpV,MAAMtC,EACrB5O,KAAK6O,EAAIyX,EAAMnV,IAAItC,EACnB,IAAIk6H,EAAgB/oI,KAAKuO,QAAQqhC,KAAKlhC,UACtC1O,KAAK0O,UAAYq6H,EAAcx7F,WAC/BvtC,KAAK0O,UAAUwgE,WAAW,MAG5Bm7D,EAAkBzqI,UAAU+P,OAAS,WACnC,GAA0B,UAAtB3P,KAAKuO,QAAQpI,KACfnG,KAAKsqI,6BACA,GAA0B,UAAtBtqI,KAAKuO,QAAQpI,KACtBnG,KAAKuqI,6BACA,GAAIvqI,KAAKuO,QAAQsZ,SAAU,CAChC,IAAI2iH,EAAc,CAChB57H,EAAG5O,KAAK4O,EACRC,EAAG7O,KAAK6O,EACRrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,OACbJ,UAAW1O,KAAK0O,WAElB1O,KAAKuO,QAAQsZ,SAAS2iH,KAI1BH,EAAkBzqI,UAAU0qI,sBAAwB,WAClDtqI,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,CACLzV,EAAG5O,KAAK4O,EACRC,EAAG7O,KAAK6O,EACRrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,OACb6D,KAAM3S,KAAKuO,QAAQ3N,UAKzBypI,EAAkBzqI,UAAU2qI,sBAAwB,WAClDvqI,KAAK0O,UAAUge,SAAS,QAAS,CAC/BrI,MAAO,CACLzV,EAAG5O,KAAK4O,EACRC,EAAG7O,KAAK6O,EACRrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,OACbi/C,IAAK/tD,KAAKuO,QAAQu/C,QAKxBu8E,EAAkBzqI,UAAUmQ,MAAQ,WAC9B/P,KAAK0O,YACP1O,KAAK0O,UAAUqB,QACf/P,KAAK0sC,KAAK,sBAId29F,EAAkBzqI,UAAUoQ,QAAU,WAChChQ,KAAK0O,YACP1O,KAAK0O,UAAUyB,SAEfnQ,KAAK0sC,KAAK,wBAIP29F,EAjFT,CAkFE,YC3EE,GAEJ,SAAUplI,GAGR,SAASwlI,IACP,IAAIvlI,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,UACbjB,EAAMq3B,MAAQ,EACPr3B,EA0MT,OAjNA,qBAAUulI,EAAcxlI,GAUxBwlI,EAAa9mC,kBAAoB,WAC/B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD09D,MAAO,CACL1gD,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZ4uF,MAAO,CACL5mF,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZuD,QAAS,CACPyE,SAAS,EACT6xB,WAAY,CACV1oC,KAAM,QACN5B,MAAO,CACLmO,UAAW,KAIjB2E,OAAQ,CACN2F,SAAS,EACTxG,SAAU,iBAEZvC,MAAO,CAAC,qBAAsB,mBAAoB,mBAAoB,mBAAoB,kBAAmB,qBAIjHw2H,EAAa7qI,UAAUu/F,YAAc,WAC/Bn/F,KAAKuO,QAAQ8I,QAAUrX,KAAKuO,QAAQ8I,OAAO2F,UAC7Chd,KAAK0qI,cAAgB,IAAI,GAAc,oBAAS,CAC9C38H,KAAM/N,KAAK+N,KACX6hC,KAAM5vC,MACLA,KAAKuO,QAAQ8I,SAChBrX,KAAK0qI,cAAc/6H,SACnB3P,KAAKyjG,kBAAkB1E,gBAAgB/+F,KAAK0qI,cAAe,UAGzD1qI,KAAKuO,QAAQgvC,YAAuC,SAAzBv9C,KAAKuO,QAAQ1H,UAC1C7G,KAAKu9C,WAAa,IAAI,GAAkB,oBAAS,CAC/CxvC,KAAM/N,KAAK+N,KACX6hC,KAAM5vC,MACLA,KAAKuO,QAAQgvC,aAChBv9C,KAAKu9C,WAAW5tC,UAGlB1K,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,MAElCA,KAAKu8B,OAAS,GAGhBkuG,EAAa7qI,UAAUoQ,QAAU,WAC3BhQ,KAAK0qI,gBACP1qI,KAAK0qI,cAAc16H,UACnBhQ,KAAK0qI,cAAgB,MAGnB1qI,KAAKu9C,aACPv9C,KAAKu9C,WAAWvtC,UAChBhQ,KAAKu9C,WAAa,MAGpBt4C,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCyqI,EAAa7qI,UAAU+tB,MAAQ,WAC7B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GAGbA,EAAOzmC,EAAMq/B,QAAU,GAEnB,OAAMr/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMq/B,QAASr/B,EAAMi9D,OAK3Cx2B,EAAOzmC,EAAMs/B,QAAU,GAEnB,OAAMt/B,EAAO,UACfgqG,GAAavjE,EAAOzmC,EAAMs/B,QAASt/B,EAAMmjG,OAG3C5jG,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9ByqI,EAAa7qI,UAAU0mB,MAAQ,aAE/BmkH,EAAa7qI,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACrD,MAAO,WAGTskI,EAAa7qI,UAAUmkG,YAAc,WACnC,IAAIpZ,EAAS,CACXxkF,KAAM,gBACNqQ,SAAU,CACRqgD,OAAQ,CAAC72D,KAAKuO,QAAQuxB,OAAQ9/B,KAAKuO,QAAQwxB,SAE7C9rB,MAAO,CACL4iD,OAAQ,CAAC72D,KAAKuO,QAAQozE,YACtBrzD,OAAQtuB,KAAKuO,QAAQ0F,QAIrBjU,KAAKuO,QAAQiF,SACfm3E,EAAOn3E,OAASxT,KAAKuO,QAAQiF,QAG3BxT,KAAKuO,QAAQ85H,YACf19C,EAAO09C,UAAYroI,KAAKuO,QAAQ85H,WAGlCroI,KAAK2kG,UAAU,UAAWha,GAC1B3qF,KAAK24G,YAGP8xB,EAAa7qI,UAAU+4G,SAAW,WAChC,IAAIl4G,EAAQT,KAAKuO,QACbo8H,EAAgB,CAClB3tH,SAAS,EACT9W,KAAM,GAGJzF,EAAM8S,OAAS9S,EAAM8S,MAAMyJ,QAC7Bvc,EAAM8S,MAAQ,WAAUo3H,EAAelqI,EAAM8S,OAE7C9S,EAAM8S,MAAQo3H,EAGhB,IAAIp3H,EAAQg3F,GAAQ,QAAS,QAAS,CACpC36D,KAAM5vC,OAERuT,EAAM6G,QAAS,EACf7G,EAAM0B,MAAQjV,KAAKw+G,eACnBx+G,KAAK2kG,UAAU,UAAWpxF,IAG5Bk3H,EAAa7qI,UAAU4+G,aAAe,WACpC,IAAI/9G,EAAQT,KAAKuO,QACb0G,EAAQxU,EAAMwU,MAElB,QAAIA,IAA2B,IAAlBA,EAAM+H,UAIDk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,eACX1W,OAAQ,CAACp2D,EAAMq/B,OAAQr/B,EAAMs/B,QAC7BvpB,SAAU,SACVxB,OAAQ,GACPC,KAILw1H,EAAa7qI,UAAUyX,OAAS,WAC9BrX,KAAK2kG,UAAU,WAAW,IAG5B8lC,EAAa7qI,UAAUorB,UAAY,aAE5By/G,EAlNT,CAmNE,IAEa,MACfxjC,GAAiB,UAAW,KC7N5B,SAAUhiG,GAGR,SAASu8E,IACP,OAAkB,OAAXv8E,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUwhF,EAASv8E,GAMnBu8E,EAAQ5hF,UAAU0nG,aAAe,SAAU7mG,GACzC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,UAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Cz3B,EAAQmiB,kBAAoB,GAAaA,kBAf3C,CAiBE,IAnBF,IC0We,GAxWf,WACE,SAASinC,EAAa17H,GACpBlP,KAAKmO,WAAY,EACjBnO,KAAK0oI,WAAa,GAClB,IAAI/2H,EAAiB3R,KAAK2jG,oBAC1B3jG,KAAKuO,QAAU,mBAAQ,GAAIoD,EAAgBzC,GAC3ClP,KAAK+N,KAAO/N,KAAKuO,QAAQR,KACzB/N,KAAKm/F,aAAc,EACnBn/F,KAAKoP,OA6VP,OA1VAw7H,EAAahrI,UAAUwP,KAAO,WAC5BpP,KAAKsX,OAAStX,KAAK4oI,YACnB5oI,KAAKwE,MAAQxE,KAAKuO,QAAQ/J,MAAQxE,KAAKuO,QAAQ/J,MAAQxE,KAAK6oI,kBAC5D7oI,KAAK8O,OAAS9O,KAAKuO,QAAQO,OAAS9O,KAAKuO,QAAQO,OAAS9O,KAAK8oI,mBAC/D,IAAIC,EAAgB/oI,KAAKuO,QAAQqhC,KAAKlhC,UACtC1O,KAAK0O,UAAYq6H,EAAcx7F,YAGjCq9F,EAAahrI,UAAU+P,OAAS,WAC9B,IAAIu3B,EAASlnC,KAAK+N,KAAKkP,IAAI,UACvB0kE,EAAa3hF,KAAKuO,QAAQqhC,KAAKrhC,QAAQozE,WAC3C3hF,KAAKgpI,WAAa9hG,EAAOy6C,GACzB,IAAIn8E,EAAKxF,KAAKgpI,WACVv5G,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IACT1R,EAAQjU,KAAKuO,QAAQqhC,KAAKrhC,QAAQ0F,MAElB,eAAhBjU,KAAKsX,OACPtX,KAAKipI,iBAAiBx5G,EAAK9J,EAAK1R,GAEhCjU,KAAKkpI,eAAez5G,EAAK9J,EAAK1R,GAGhCjU,KAAKmpI,eACLnpI,KAAKopI,kBAGPwB,EAAahrI,UAAU0Q,KAAO,WAC5BtQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAKuO,QAAQqhC,KAAK7gC,OAAOe,QAG3B86H,EAAahrI,UAAUwQ,KAAO,WAC5BpQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAKuO,QAAQqhC,KAAK7gC,OAAOe,QAG3B86H,EAAahrI,UAAUmQ,MAAQ,WACzB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInB66H,EAAahrI,UAAUoQ,QAAU,WAC3BhQ,KAAK0O,WACP1O,KAAK0O,UAAUyB,SAGjBnQ,KAAKmO,WAAY,GAGnBy8H,EAAahrI,UAAUqpB,QAAU,WAC/B,IAAIogH,EAAcrpI,KAAK0O,UAAUua,UACjC,OAAO,IAAI,QAAKjpB,KAAK4O,EAAG5O,KAAK6O,EAAGw6H,EAAY7kI,MAAO6kI,EAAYv6H,SAGjE87H,EAAahrI,UAAUspI,eAAiB,SAAUz5G,EAAK9J,EAAK3P,GAC1D,IAAI9Q,EAAQlF,KAER0pI,GAAa/jH,EAAM8J,IAAQzZ,EAAOvW,OAAS,GAC3CorI,EAAY,GAAK70H,EAAOvW,OAAS,GACjCw7C,EAAWj7C,KAAK8O,QAAUkH,EAAOvW,OAAS,GAC1CqrI,EAAgB,QACpB,gBAAK90H,GAAQ,SAAUqJ,EAAG/a,GAExBwmI,GADcD,EAAYvmI,EACC,IAAM+a,EAAI,OAEvCrf,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,OACb6D,KAAMm4H,KAIV,gBAAK90H,GAAQ,SAAUqJ,EAAG/a,GAExB,IAAIi3B,EAAO0f,EAAW32C,EAEtBY,EAAMwJ,UAAUge,SAAS,OAAQ,CAC/BrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAK,EAAGmf,GAAO,CAAC,IAAKr2B,EAAMV,MAAO+2B,KACzCr2B,EAAMqJ,QAAQw8H,iBAInB,IAAInqI,EAAQsd,KAAKgS,MAAMw5G,EAAYplI,GAEnCY,EAAMwJ,UAAUge,SAAS,OAAQ,CAC/BrI,MAAO,oBAAS,CACd3Q,KAAM9S,EACN+S,UAAW,OACXC,aAAc,SACdhF,EAAG1J,EAAMV,MA9GA,EA+GTqK,EAAG0sB,GACFr2B,EAAMqJ,QAAQmF,KAAKnP,YAI1B,IAEIymI,EAAW,CAAC,CAAC,KAFD,IAEkB,GAAkB,CAAC,IAAK,EAAG,GAAI,CAAC,KAFlD,GAEmEC,GAAiB,CAAC,MACrGjrI,KAAKswH,OAAStwH,KAAK0O,UAAUge,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACdjI,KAAM4uH,GACLhrI,KAAKuO,QAAQ28H,eAElBlrI,KAAKswH,OAAOjgH,IAAI,WAAW,IAG7Bu6H,EAAahrI,UAAUqpI,iBAAmB,SAAUx5G,EAAK9J,EAAK3P,GAC5D,IAAI9Q,EAAQlF,KAER0pI,GAAa/jH,EAAM8J,IAAQzZ,EAAOvW,OAAS,GAC3CorI,EAAY,GAAK70H,EAAOvW,OAAS,GACjCw7C,EAAWj7C,KAAKwE,OAASwR,EAAOvW,OAAS,GACzCqrI,EAAgB,OACpB,gBAAK90H,GAAQ,SAAUqJ,EAAG/a,GAExBwmI,GADcD,EAAYvmI,EACC,IAAM+a,EAAI,OAEvCrf,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,OACb6D,KAAMm4H,KAIV,gBAAK90H,GAAQ,SAAUqJ,EAAG/a,GAExB,IAAIi3B,EAAO0f,EAAW32C,EAEtBY,EAAMwJ,UAAUge,SAAS,OAAQ,CAC/BrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAKmf,EAAM,GAAI,CAAC,IAAKA,EAAMr2B,EAAM4J,UACxC5J,EAAMqJ,QAAQw8H,iBAInB,IAAInqI,EAAQsd,KAAKgS,MAAMw5G,EAAYplI,GAEnCY,EAAMwJ,UAAUge,SAAS,OAAQ,CAC/BrI,MAAO,oBAAS,CACd3Q,KAAM9S,EACN+S,UAAW,SACXC,aAAc,MACdhF,EAAG2sB,EACH1sB,EAAG3J,EAAM4J,OAvKA,GAwKR5J,EAAMqJ,QAAQmF,KAAKnP,YAI1B,IAEIymI,EAAW,CAAC,CAAC,IAAK,EAAG,GAAI,CAAC,KAAK,GADlB,IACgD,CAAC,IAAKG,GADtD,IACmF,CAAC,MACrGnrI,KAAKswH,OAAStwH,KAAK0O,UAAUge,SAAS,OAAQ,CAC5CrI,MAAO,oBAAS,CACdjI,KAAM4uH,GACLhrI,KAAKuO,QAAQ28H,eAElBlrI,KAAKswH,OAAOjgH,IAAI,WAAW,IAG7Bu6H,EAAahrI,UAAUgpI,UAAY,WACjC,IAAIl6E,EAAY1uD,KAAKuO,QAAQiI,SAASqN,MAAM,KAG5C,OAFA7jB,KAAKwW,SAAWk4C,EAAU,GAEL,SAAjBA,EAAU,IAAkC,UAAjBA,EAAU,GAChC,WAGF,cAGTk8E,EAAahrI,UAAUipI,gBAAkB,WACvC,MAAoB,eAAhB7oI,KAAKsX,OACKtX,KAAK+N,KAAKkP,IAAI,cAAczY,MAInC,IAGTomI,EAAahrI,UAAUkpI,iBAAmB,WACxC,MAAoB,aAAhB9oI,KAAKsX,OACMtX,KAAK+N,KAAKkP,IAAI,cAAcnO,OAIpC,IAGT87H,EAAahrI,UAAUupI,aAAe,WACpC,IAAIjkI,EAAQlF,KAER2uC,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3B4iF,EAAW7/F,KAAKuO,QAAQqhC,KAAKg7C,eAAeiV,SAE5C,mBAAQA,IACV,gBAAKA,GAAU,SAAUrW,EAAIllF,GACI,oBAApBu7F,EAASv7F,KAClBu7F,EAASv7F,GAASu7F,EAASv7F,GAAOY,EAAMqJ,QAAQqhC,KAAKrhC,aAK3D,IAAIs8B,EAAO7qC,KAAK0O,UAAUua,UACtBra,EAAI,EACJC,EAAI,EACJ6/C,EAAY1uD,KAAKuO,QAAQiI,SAASqN,MAAM,KACxCimH,EAAY9pI,KAAKuO,QAAQqhC,KAAKprC,MAC9BulI,EAAa/pI,KAAKuO,QAAQqhC,KAAK9gC,OAEd,SAAjB4/C,EAAU,GACZ9/C,EAAIixF,EAAS,GACa,UAAjBnxC,EAAU,GACnB9/C,EAAIk7H,EAAYjqC,EAAS,GAAKh1D,EAAKrmC,MACT,WAAjBkqD,EAAU,GAGjB9/C,EADE5O,KAAKwE,QAAUmqC,EAAWnqC,MACxBmqC,EAAW//B,GAEVk7H,EAAYj/F,EAAKrmC,OAAS,EAEP,SAAjBkqD,EAAU,GACnB9/C,EAAIixF,EAAS,GACa,UAAjBnxC,EAAU,KACnB9/C,EAAI5O,KAAKuO,QAAQqhC,KAAKprC,MAAQq7F,EAAS,GAAKh1D,EAAKrmC,OAI9B,WAAjBkqD,EAAU,GACZ7/C,EAAIk7H,EAAalqC,EAAS,GAAKh1D,EAAK/7B,OACV,QAAjB4/C,EAAU,GACnB7/C,EAAI7O,KAAKgqI,eAAenqC,GACE,WAAjBnxC,EAAU,GAGjB7/C,EADE7O,KAAK8O,SAAW6/B,EAAW7/B,OACzB6/B,EAAW9/B,GAGVk7H,EAAal/F,EAAK/7B,QAAU,EAET,QAAjB4/C,EAAU,GACnB7/C,EAAIgxF,EAAS,GACa,WAAjBnxC,EAAU,KACnB7/C,EAAIk7H,EAAalqC,EAAS,GAAKh1D,EAAK/7B,QAGtC9O,KAAK4O,EAAIA,EACT5O,KAAK6O,EAAIA,EACT7O,KAAK0O,UAAUigB,UAAU/f,EAAGC,IAG9B+7H,EAAahrI,UAAU+jG,kBAAoB,WACzC,MAAO,CACLjwF,KAAM,CACJnP,MAAO,CACLuQ,SAAU,GACVnC,KAAM,wBAGVo4H,cAAe,CACbr4H,UAAW,EACXI,OAAQ,sBAEVo4H,YAAa,CACXv4H,KAAM,mBAER0tD,UAAW,cAIfuqE,EAAahrI,UAAUwpI,eAAiB,WACtC,IAAIlkI,EAAQlF,KAUR6N,GANwC,SAAxC7N,KAAKuO,QAAQqhC,KAAKrhC,QAAQ+mD,UACjB,UAEA,SAGc,IAAMt1D,KAAKuO,QAAQ8xD,UAC1C+qE,EAAiB,SAAWprI,KAAKuO,QAAQ8xD,UACzCz4B,EAAQ5nC,KAAKuO,QAAQqhC,KAAKrhC,QAAQozE,WAClCn8E,EAAKxF,KAAKgpI,WACVv5G,EAAMjqB,EAAGiqB,IACT9J,EAAMngB,EAAGmgB,IACb3lB,KAAK+N,KAAKC,GAAGH,GAAW,SAAUwxC,GAChC,IACIhhB,GADQghB,EAAG5/B,KAAK27C,QAAQxzB,GACPnY,IAAQ9J,EAAM8J,GAEnCvqB,EAAMmmI,WAAWhtG,MAEnBr+B,KAAK+N,KAAKC,GAAGo9H,GAAgB,SAAU/rF,GACrC,IACIhhB,GADQghB,EAAG5/B,KAAKmoB,GACCnY,IAAQ9J,EAAM8J,GAEnCvqB,EAAMmmI,WAAWhtG,MAEnBr+B,KAAKuO,QAAQqhC,KAAK7gC,OAAOf,GAAG,cAAc,SAAUqxC,GAClDn6C,EAAMorH,OAAOjgH,IAAI,WAAW,OAIhCu6H,EAAahrI,UAAUyrI,WAAa,SAAUhtG,GAG5C,GAFAr+B,KAAKswH,OAAOjgH,IAAI,WAAW,GAEP,aAAhBrQ,KAAKsX,OAAuB,CAC9B,IAAIooC,EAAM1/C,KAAK8O,OAASuvB,GACpB4tE,EAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/B,GAAKvsD,EACd1/C,KAAKswH,OAAOj8E,cACZr0C,KAAKswH,OAAO9zG,QAAQ,CAClB8K,OAAQ2kF,GACP,IAAK,kBACH,CACL,IACIA,EADAvsD,EAAM1/C,KAAKwE,MAAQ65B,GACnB4tE,EAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/B,GAAKvsD,EACd1/C,KAAKswH,OAAOj8E,cACZr0C,KAAKswH,OAAO9zG,QAAQ,CAClB8K,OAAQ2kF,GACP,IAAK,gBAIZ2+B,EAAahrI,UAAUoqI,eAAiB,SAAUnqC,GAChD,OAAI7/F,KAAKuO,QAAQqhC,KAAKhuC,YACT5B,KAAKuO,QAAQqhC,KAAKhuC,YAAYqnB,UAC7BP,KAAO,GACV1oB,KAAKuO,QAAQqhC,KAAKjuC,MAChB3B,KAAKuO,QAAQqhC,KAAKjuC,MAAMsnB,UACvBP,KAAO,GAGdm3E,EAAS,IAGX+qC,EArWT,GCNO,SAAS,GAAY7oH,EAAIC,EAAIxd,EAAOsK,EAAQ5I,GACjD,IAAI40B,EAAIt2B,EAAQ0B,EACZ+J,EAAInB,EAAS5I,EAEjB,MADW,CAAC,CAAC,IAAK6b,EAAK+Y,EAAI,EAAG9Y,EAAK/R,EAAI,GAAI,CAAC,IAAK8R,EAAK+Y,EAAI,EAAG9Y,EAAID,EAAK+Y,EAAI,EAAG9Y,EAAK/R,EAAI,GAAI,CAAC,IAAK8R,EAAIC,EAAK/R,EAAI,EAAG8R,EAAK+Y,EAAI,EAAG9Y,EAAK/R,EAAI,GAAI,CAAC,IAAK8R,EAAK+Y,EAAI,EAAG9Y,EAAID,EAAK+Y,EAAI,EAAG9Y,EAAK/R,EAAI,GAAI,CAAC,IAAK8R,EAAIC,EAAK/R,EAAI,EAAG8R,EAAK+Y,EAAI,EAAG9Y,EAAK/R,EAAI,GAAI,CAAC,MAGnO,SAASq7H,GAAc18H,EAAGC,EAAG3I,GAElC,MADW,CAAC,CAAC,IAAK0I,EAAGC,GAAI,CAAC,KAAM3I,EAAM,GAAI,CAAC,IAAKA,EAAMA,EAAM,EAAG,EAAG,EAAU,EAAPA,EAAU,GAAI,CAAC,IAAKA,EAAMA,EAAM,EAAG,EAAG,GAAY,EAAPA,EAAW,GAAI,CAAC,MAG3H,SAASqlI,GAAe38H,EAAGC,EAAG3I,GAGnC,MADW,CAAC,CAAC,IAAK0I,EAAI1I,EAAM2I,GAAI,CAAC,IAAKD,EAAI1I,EAAM2I,EAAI3I,EAAM0I,EAAGC,EAAI3I,GAAO,CAAC,IAAK0I,EAAI1I,EAAM2I,EAAI3I,EAAM0I,EAAI1I,EAAM2I,GAAI,CAAC,IAAKD,EAAI1I,EAAM2I,EAAI3I,EAAM0I,EAAGC,EAAI3I,GAAO,CAAC,IAAK0I,EAAI1I,EAAM2I,EAAI3I,EAAM0I,EAAI1I,EAAM2I,GAAI,CAAC,MAGnMwmD,GAAc,UAAW,OAAQ,CAC/BvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI4Z,EAAStoB,KAAKwzD,YAAYtkD,EAAIoZ,QAC9B9jB,EAAQ8jB,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,EAChCE,EAASwZ,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,EAajCuN,EAAO,GAZGkM,EAAO,GAAG1Z,EAAIpK,EAAQ,EACtB8jB,EAAO,GAAGzZ,EAAIC,EAAS,EAWItK,EAAOsK,EAAQI,EAAIi/B,OAAOjoC,MACnE,OAAOwI,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,CACLjI,KAAMA,EACNzJ,KAAMzD,EAAI+E,MACVJ,QAAS,QAKjBwhD,GAAc,QAAS,aAAc,CACnCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAI0N,EAAOkvH,GAAcp8H,EAAIN,EAAGM,EAAIL,EAAGK,EAAIhJ,MAC3C,OAAOwI,EAAUge,SAAS,OAAQ,CAChCrI,MAAO,CACLjI,KAAMA,EACNzJ,KAAMzD,EAAI+E,MACVJ,QAAS,QCuEjBo5D,GAAsB,cAlHtB,SAAUhoE,GAGR,SAASumI,IACP,OAAkB,OAAXvmI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA0G7D,OA7GA,qBAAUwrI,EAAcvmI,GAMxBumI,EAAa5rI,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACpD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IAAIqG,EAAWvc,KAAKid,IAAI,kBACpB8uB,EAASxvB,EAASU,IAAI,SAASA,IAAI,YACnCsvB,EAAQhwB,EAASU,IAAI,SACrBlP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAEnC,QAAO8uB,GAAQ,SAAU92B,EAAO3Q,GAC9B,IAAIgb,EAAIrK,EAEJk5B,GADO5B,EAAMjoC,GACJgb,EAAErC,IAAI,WAEfq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cj0B,EAAQhV,EAAM23G,UAAUvJ,EAASp9F,GAEjC1Q,EAAKN,EAAM+X,IAAI,gBACf6/F,EAAct3G,EAAGs3G,YACjB/lD,EAAiBvxD,EAAGuxD,eAEpB+lD,GACF53G,EAAM43G,YAAYx9F,EAAGpF,GAGnB68C,GACF7xD,EAAM6xD,eAAez3C,EAAGpF,MAI5BnM,EAAKkP,IAAI,UAAUnN,QAGrB07H,EAAa5rI,UAAUi9G,UAAY,SAAUvJ,EAASp9F,GACpD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGTksI,EAAa5rI,UAAUk9G,YAAc,SAAU7nG,EAAOiF,GACpD,IAAI6iG,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI8zF,EAAWt0F,MAAQu0F,EAAWv0F,MAAQs0F,EAAWr0F,MAAQs0F,EAAWt0F,KAAM,CAC5E,IAAIw0F,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GACdG,EAAOn/F,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,EActEh4E,EAAUnlC,KAAK0rH,aAbH,CAAC,CACfpvF,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAEkCopG,GAC3CpoG,EAAMmT,KAAK,OAAQ+c,KAIvBqmG,EAAa5rI,UAAU8rH,aAAe,SAAUlO,EAAMH,GACpD,IAAIl4E,EAUJ,OARA,QAAOq4E,GAAM,SAAU59F,GACrB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAIXkxB,GAGTqmG,EAAa5rI,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,GACvD,IAAI6iG,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,WAEnB8zF,EAAWv4G,MAAQw4G,EAAWx4G,OAASu4G,EAAWjuG,OAASkuG,EAAWluG,UACxEmG,EAAMmT,KAAK,UAAW,GACtBnT,EAAMmT,KAAK,cAAe,GAC1BnT,EAAMmT,KAAK,gBAAiB,GAC5BnT,EAAM5E,IAAI,WAAW,KAIlBm7H,EA9GT,CA+GE,KC1GF,IAAI,GAEJ,SAAUvmI,GAGR,SAASwmI,IACP,IAAIvmI,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,SACbjB,EAAMwmI,SAAW,GACVxmI,EAgaT,OAvaA,qBAAUumI,EAAaxmI,GAUvBwmI,EAAY9nC,kBAAoB,WAC9B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD2rI,aAAa,EACbr2E,UAAW,OACXj+C,OAAQ,CACN2F,SAAS,EACTxG,SAAU,gBAEZ+B,QAAS,CACPynD,QAAQ,EACRnxB,YAAY,GAEd6uB,MAAO,CACL1gD,SAAS,EACTsgD,UAAW,SACXjoD,KAAM,CACJ2H,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEXxI,iBAAiB,GAEnBovF,MAAO,CACL5mF,SAAS,EACTsgD,UAAW,SACXjoD,KAAM,CACJ2H,SAAS,EACTy7B,MAAO,UAETtjC,SAAU,CACR6H,SAAS,GAEXxI,iBAAiB,GAEnBP,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/DgB,MAAO,CACL+H,SAAS,EACT8/F,aAAa,EACb/lD,gBAAgB,EAChB/hD,OAAQ,EACRzQ,MAAO,CACLuO,OAAQ,sBACRJ,UAAW,OAMnB+4H,EAAY7rI,UAAU8P,UAAY,WAGhC,GAFAzK,EAAOrF,UAAU8P,UAAU5P,KAAKE,MAE5BA,KAAKuO,QAAQo9H,YAAa,CAC5B,IAAIh9F,EAAa3uC,KAAK+N,KAAKkP,IAAI,cAC3BzX,EAAKxF,KAAKuO,QACVuxB,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OACZtgB,EAAOja,EAAGia,KAEVmsH,EAAS,eAAcnsH,EAAMqgB,GAAQrgC,OAErCosI,EAAS,eAAcpsH,EAAMsgB,GAAQtgC,OAIrCisI,EAFYxtH,KAAKuR,IAAIkf,EAAWnqC,MAAOmqC,EAAW7/B,QAC1CoP,KAAKyH,IAAIimH,EAAQC,GAEzBrnI,EAAQknI,EAAWE,EACnB98H,EAAS48H,EAAWG,EACxB7rI,KAAK+N,KAAKsC,IAAI,aAAc,IAAI,QAAKs+B,EAAW//B,EAAG+/B,EAAW9/B,EAAGrK,EAAOsK,MAI5E28H,EAAY7rI,UAAUu/F,YAAc,WAC9Bn/F,KAAKuO,QAAQ8I,QAAUrX,KAAKuO,QAAQ8I,OAAO2F,UAC7Chd,KAAK8rI,aAAe,IAAI,GAAa,oBAAS,CAC5C/9H,KAAM/N,KAAK+N,KACX6hC,KAAM5vC,MACLA,KAAKuO,QAAQ8I,SAChBrX,KAAK8rI,aAAan8H,SAClB3P,KAAKyjG,kBAAkB1E,gBAAgB/+F,KAAK8rI,aAAc,UAG5D7mI,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCyrI,EAAY7rI,UAAUmsI,YAAc,SAAU5lI,GAC5C,GAAInG,KAAKuO,QAAQ+mD,YAAcnvD,EAM/B,GAFAnG,KAAKuO,QAAQ+mD,UAAYnvD,EAEZ,SAATA,EAAiB,CACnB,IACI+P,EADOlW,KAAK+N,KAAKkP,IAAI,YAAY,GACnBmO,YAClBprB,KAAKgsI,aAAa91H,QACb,GAAa,WAAT/P,EAAmB,CAExB+P,EADOlW,KAAK+N,KAAKkP,IAAI,YAAY,GACnBmO,YAClBprB,KAAKisI,aAAa/1H,KAItBu1H,EAAY7rI,UAAUssI,YAAc,SAAUtkG,GAC5C,IAAI5nC,KAAKuO,QAAQy7F,WAAahqG,KAAKuO,QAAQy7F,YAAcpiE,EAAzD,CAKA,IAAItZ,EAAS,eAActuB,KAAKuO,QAAQkR,KAAMmoB,GAE1CnY,EAAMvR,KAAKuR,IAAI1vB,MAAMme,KAAMoQ,GAC3B3I,EAAMzH,KAAKyH,IAAI5lB,MAAMme,KAAMoQ,GAE3BX,EAAQ,IADM,GAAS,UACf,CAAgB,CAC1B8B,IAAKA,EACL9J,IAAKA,IAGHzP,EADOlW,KAAK+N,KAAKkP,IAAI,YAAY,GACnBmO,YAEa,SAA3BprB,KAAKuO,QAAQ+mD,UACft1D,KAAKmsI,gBAAgBj2H,EAAQyX,EAAOia,GACA,WAA3B5nC,KAAKuO,QAAQ+mD,WACtBt1D,KAAKosI,kBAAkBl2H,EAAQyX,EAAOia,KAI1C6jG,EAAY7rI,UAAUysI,mBAAqB,WACzC,IACIn2H,EADOlW,KAAK+N,KAAKkP,IAAI,YAAY,GACnBmO,YAEa,SAA3BprB,KAAKuO,QAAQ+mD,UACft1D,KAAKssI,uBAAuBp2H,GACQ,WAA3BlW,KAAKuO,QAAQ+mD,WACtBt1D,KAAKusI,yBAAyBr2H,IAIlCu1H,EAAY7rI,UAAUsxF,eAAiB,WACrC,MAAO,IAGTu6C,EAAY7rI,UAAU0mB,MAAQ,aAE9BmlH,EAAY7rI,UAAUyX,OAAS,WAC7BrX,KAAK2kG,UAAU,WAAW,IAG5B8mC,EAAY7rI,UAAUmkG,YAAc,WAGlC,GAFA/jG,KAAK0rI,SAAW1rI,KAAKwsI,cAEU,SAA3BxsI,KAAKuO,QAAQ+mD,UAAsB,CACrC,IAAI76C,EAAOza,KAAKysI,UAChBzsI,KAAK2kG,UAAU,UAAWlqF,OACrB,CACL,IAAI7D,EAAS5W,KAAK0sI,YAClB1sI,KAAK2kG,UAAU,UAAW/tF,KAI9B60H,EAAY7rI,UAAU6sI,QAAU,WAE9B,IAAIvmI,EAAO,CAAC,GAAK,IAEblG,KAAKuO,QAAQo+H,YACfzmI,EAAK,GAAKlG,KAAKuO,QAAQo+H,UAAU,GAAK3sI,KAAK0rI,SAAS,GACpDxlI,EAAK,GAAKlG,KAAKuO,QAAQo+H,UAAU,GAAK3sI,KAAK0rI,SAAS,IAGtD,IAAIjxH,EAAO,CACTtU,KAAM,UACNqQ,SAAU,CACRqgD,OAAQ,CAAC72D,KAAKuO,QAAQuxB,OAAQ9/B,KAAKuO,QAAQwxB,SAE7C9rB,MAAO,CACL4iD,OAAQ,CAAC72D,KAAKuO,QAAQozE,YACtBrzD,OAAQtuB,KAAKuO,QAAQ0F,OAEvBiG,MAAO,CACLoU,OAAQ,CAAC,SAEXrZ,MAAOjV,KAAKw+G,gBAcd,OAXIx+G,KAAKuO,QAAQy7F,UACfvvF,EAAKvU,KAAO,CACV2wD,OAAQ,CAAC72D,KAAKuO,QAAQy7F,WACtB17E,OAAQpoB,GAGVuU,EAAKvU,KAAO,CACVooB,OAAQ,CAAC,IAIN7T,GAGTgxH,EAAY7rI,UAAU8sI,UAAY,WAChC,IAAIxmI,EAAO,CAAC,GAAK,IAEblG,KAAKuO,QAAQo+H,UACfzmI,EAAOlG,KAAKuO,QAAQo+H,WAEpBzmI,EAAK,GAAKlG,KAAK0rI,SAAS,GAAKxlI,EAAK,GAAK,GACvCA,EAAK,GAAKlG,KAAK0rI,SAAS,GAAKxlI,EAAK,GAAK,IAGzC,IAAI0Q,EAAS,CACXzQ,KAAM,QACNqQ,SAAU,CACRqgD,OAAQ,CAAC72D,KAAKuO,QAAQuxB,OAAQ9/B,KAAKuO,QAAQwxB,SAE7C9rB,MAAO,CACL4iD,OAAQ,CAAC72D,KAAKuO,QAAQozE,YACtBrzD,OAAQtuB,KAAKuO,QAAQ0F,OAEvBiG,MAAO,CACLoU,OAAQ,CAAC,eAEXrZ,MAAOjV,KAAKw+G,gBAcd,OAXIx+G,KAAKuO,QAAQy7F,UACfpzF,EAAO1Q,KAAO,CACZ2wD,OAAQ,CAAC72D,KAAKuO,QAAQy7F,WACtB17E,OAAQpoB,GAGV0Q,EAAO1Q,KAAO,CACZooB,OAAQ,CAAgD,GAA/CpQ,KAAKuR,IAAIzvB,KAAK0rI,SAAS,GAAI1rI,KAAK0rI,SAAS,IAAY,KAI3D90H,GAGT60H,EAAY7rI,UAAU4+G,aAAe,WACnC,IAAIzjD,EAAe/6D,KAAKuO,QAAQ0G,MAEhC,QAAK8lD,EAAa/9C,aAIbhd,KAAKuO,QAAQy7F,YAAchqG,KAAKuO,QAAQozE,aAIjCuQ,GAAa,QAAS,oBAAS,CACzCtiD,KAAM5vC,KACNuW,KAAK,EACLg3D,UAAW,cACX1W,OAAQ72D,KAAKuO,QAAQozE,WAAa,CAAC3hF,KAAKuO,QAAQozE,YAAc,CAAC3hF,KAAKuO,QAAQy7F,YAC3EjvC,MAIL0wE,EAAY7rI,UAAU4sI,YAAc,WAClC,GAA6B,SAAzBxsI,KAAKuO,QAAQ1H,QACf,MAAO,CAAC,EAAG,GAEX,IAAI8vD,EAAY32D,KAAKgkG,eACjBx+F,EAAKxF,KAAKuO,QACV1H,EAAUrB,EAAGqB,QACbi5B,EAASt6B,EAAGs6B,OACZC,EAASv6B,EAAGu6B,OACZtgB,EAAOja,EAAGia,KACVjb,EAAQmyD,EAAUnyD,MAAQqC,EAAQ,GAAKA,EAAQ,GAC/CiI,EAAS6nD,EAAU7nD,OAASjI,EAAQ,GAAKA,EAAQ,GAMrD,MAAO,CAACrC,EAJK,eAAcib,EAAMqgB,GAAQrgC,OAIjBqP,EAFX,eAAc2Q,EAAMsgB,GAAQtgC,SAM7CgsI,EAAY7rI,UAAUosI,aAAe,SAAU91H,GAC7C,IAAIhR,EAAQlF,KAER0rI,EAAW1rI,KAAK0rI,SAEpB,QAAOx1H,GAAQ,SAAUgE,GACvB,IAAI1U,EAAK0U,EAAM+C,IAAI,UACfrO,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EACP3I,EAAOV,EAAGU,KAEV0mI,EAAmB,EAAP1mI,EAAWgY,KAAKuR,IAAIi8G,EAAS,GAAIA,EAAS,IAErDxmI,EAAMqJ,QAAQy7F,YACjB4iC,EAAY,GAGd,IAAIC,EAAYtB,GAAe38H,EAAGC,EAAG3I,GACjCg/E,EAAW,GAAYt2E,EAAGC,EAAG68H,EAAS,GAAIA,EAAS,GAAIkB,GAC3D1yH,EAAMm6B,cACNn6B,EAAMkO,KAAK,OAAQykH,GACnB3yH,EAAMsC,QAAQ,CACZJ,KAAM8oE,GACL,IAAK,kBAIZumD,EAAY7rI,UAAUqsI,aAAe,SAAU/1H,GAC7C,IAAIhR,EAAQlF,KAEZ,QAAOkW,GAAQ,SAAUgE,GACvB,IAAIoM,EAAQpM,EAAM+C,IAAI,SAClBqL,EAASpO,EAAM+C,IAAI,UAAUqL,OAC7BwkH,EAAK,GAET,QAAOxkH,GAAQ,SAAUjoB,GACvBysI,EAAGt8H,KAAK8V,EAAMoH,aAAartB,OAG7B,IAAIwqC,EAAO3wB,EAAM+O,UACbzkB,EAAQqmC,EAAKrmC,MACbsK,EAAS+7B,EAAK/7B,OACd6Z,EAAUkiB,EAAKtiB,KAAO/jB,EAAQ,EAC9BokB,EAAUiiB,EAAKpiB,KAAO3Z,EAAS,EAC/Bi+H,EAAc7nI,EAAMqJ,QAAQy7F,UAAY,EAAI,GAC5C6iC,EAAYtB,GAAe5iH,EAASC,EAAS1K,KAAKuR,IAAIjrB,EAAOsK,GAAU,EAAIi+H,GAC3EC,EAAa1B,GAAc3iH,EAASC,EAAS1K,KAAKuR,IAAIjrB,EAAOsK,GAAU,EAAIi+H,GAC/E7yH,EAAMm6B,cACNn6B,EAAMsC,QAAQ,CACZJ,KAAMywH,GACL,IAAK,cAAc,WACpB3yH,EAAMkO,KAAK,OAAQ4kH,UAKzBvB,EAAY7rI,UAAUusI,gBAAkB,SAAUj2H,EAAQyX,EAAOia,GAC/D,QAAO1xB,GAAQ,SAAUgE,GACvB,IAAIuF,EAAOvF,EAAM+C,IAAI,UAAUm+C,QAE3B/8B,EAAQ,GAAiC,GAA3B1Q,EAAMA,MAAMlO,EAAKmoB,IACnC1tB,EAAM+C,IAAI,UAAU/W,KAAOm4B,EAC3B,IAAIwM,EAAO3wB,EAAM+O,UACbzkB,EAAQqmC,EAAKrmC,MACbsK,EAAS+7B,EAAK/7B,OAGdsN,EAAO,GAFGyuB,EAAKtiB,KAAO/jB,EAAQ,EACpBqmC,EAAKpiB,KAAO3Z,EAAS,EACMtK,EAAOsK,EAAQuvB,GACxDnkB,EAAMm6B,cACNn6B,EAAMsC,QAAQ,CACZJ,KAAMA,GACL,IAAK,kBAIZqvH,EAAY7rI,UAAUwsI,kBAAoB,SAAUl2H,EAAQyX,EAAOia,GACjE,QAAO1xB,GAAQ,SAAUgE,GACvB,IAAIuF,EAAOvF,EAAM+C,IAAI,UAAUm+C,QAE3B/8B,EAAQ,GAAiC,GAA3B1Q,EAAMA,MAAMlO,EAAKmoB,IAE/BpiC,EAAK0U,EAAM+C,IAAI,UACfrO,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EACP3I,EAAOV,EAAGU,KAEVkW,EAAOkvH,GAAc18H,EAAGC,EAAG3I,EAAOm4B,GACtCnkB,EAAM+C,IAAI,UAAU/W,KAAOA,EAAOm4B,EAClCnkB,EAAMm6B,cACNn6B,EAAMsC,QAAQ,CACZJ,KAAMA,GACL,IAAK,kBAIZqvH,EAAY7rI,UAAU2sI,yBAA2B,SAAUr2H,GACzD,IAAIhR,EAAQlF,KAEZ,QAAOkW,GAAQ,SAAUgE,GACvB,IAAI1U,EAAK0U,EAAM+C,IAAI,UACfrO,EAAIpJ,EAAGoJ,EACPC,EAAIrJ,EAAGqJ,EAEP3I,EAAwD,GAAjDgY,KAAKuR,IAAIvqB,EAAMwmI,SAAS,GAAIxmI,EAAMwmI,SAAS,IACtDxxH,EAAM+C,IAAI,UAAU/W,KAAOA,EAAO,EAClC,IAAIkW,EAAOkvH,GAAc18H,EAAGC,EAAG3I,EAAO,GACtCgU,EAAMm6B,cACNn6B,EAAMsC,QAAQ,CACZJ,KAAMA,GACL,IAAK,kBAIZqvH,EAAY7rI,UAAU0sI,uBAAyB,SAAUp2H,GACvD,IAAIhR,EAAQlF,KAEZ,QAAOkW,GAAQ,SAAUgE,GACvB,IAAI2wB,EAAO3wB,EAAM+O,UACbzkB,EAAQqmC,EAAKrmC,MACbsK,EAAS+7B,EAAK/7B,OAGdsN,EAAO,GAFGyuB,EAAKtiB,KAAO/jB,EAAQ,EACpBqmC,EAAKpiB,KAAO3Z,EAAS,EACM5J,EAAMwmI,SAAS,GAAIxmI,EAAMwmI,SAAS,GAAI,GAC/ExxH,EAAM+C,IAAI,UAAU/W,KAAO,EAC3BgU,EAAMm6B,cACNn6B,EAAMsC,QAAQ,CACZJ,KAAMA,GACL,IAAK,kBAILqvH,EAxaT,CAyaE,IAEa,MACfxkC,GAAiB,SAAU,KCnb3B,SAAUhiG,GAGR,SAASgoI,IACP,OAAkB,OAAXhoI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUitI,EAAQhoI,GAMlBgoI,EAAOrtI,UAAU0nG,aAAe,SAAU7mG,GACxC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,SAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Cg0B,EAAOrtI,UAAUmsI,YAAc,SAAU5lI,GAC3BnG,KAAKkO,OAAO,GAClB69H,YAAY5lI,IAGpB8mI,EAAOrtI,UAAUssI,YAAc,SAAUtkG,GAC3B5nC,KAAKkO,OAAO,GAClBg+H,YAAYtkG,IAGpBqlG,EAAOrtI,UAAUysI,mBAAqB,WACxBrsI,KAAKkO,OAAO,GAClBm+H,sBAGRY,EAAOtpC,kBAAoB,GAAYA,kBA9BzC,CAgCE,ICjBF,IAAI,GACY,SAAsBt/E,EAAOnV,GACrCA,EAAI+E,QACNoQ,EAAM1R,KAAOzD,EAAI+E,OAGf,YAAW/E,EAAI2E,WACjBwQ,EAAMxQ,QAAUwQ,EAAMzR,YAAc1D,EAAI2E,UAoB9CwhD,GAAc,WAAY,YAAa,CACrCvlD,KAAM,SAAcZ,EAAKR,GACvB,IAAIw+H,EAjBR,SAAsBh+H,GACpB,IAAIgpH,EAAe,GAAOviH,MAAMuE,MAAMjH,SAElCoR,EAAQ,OAAM,GAAI6zG,EAAchpH,EAAI3K,OAQxC,OANA,GAAuB8f,EAAOnV,GAE1BA,EAAI+E,QACNoQ,EAAMvR,OAASuR,EAAMvR,QAAU5D,EAAI+E,OAG9BoQ,EAMW,CAAanV,GACzBg2E,EAhDR,SAAqB58D,GAGnB,IAFA,IAAIlM,EAAO,GAEF7c,EAAI,EAAGA,EAAI+oB,EAAO7oB,OAAQF,IAAK,CACtC,IAAIgU,EAAQ+U,EAAO/oB,GAEnB,GAAIgU,EAAO,CACT,IAAIlP,EAAe,IAAN9E,EAAU,IAAM,IAC7B6c,EAAK5L,KAAK,CAACnM,EAAQkP,EAAM3E,EAAG2E,EAAM1E,KAItC,IAAI2R,EAAQ8H,EAAO,GAGnB,OAFAlM,EAAK5L,KAAK,CAAC,IAAKgQ,EAAM5R,EAAG4R,EAAM3R,IAC/BuN,EAAK5L,KAAK,CAAC,MACJ4L,EAiCU,CAAYlN,EAAIoZ,QAC/B48D,EAAWllF,KAAKozD,UAAU8xB,GAE1B,IAAIjyE,EAAWvE,EAAUge,SAAS,OAAQ,CACxCrI,MAAO,OAAM6oH,EAAW,CACtB9wH,KAAM8oE,MAINioD,EAAa,OAAMj+H,EAAI3K,MAAO,cAElC,GAAI4oI,GAAcA,EAAWnwH,QAAS,CACpC,IAAIxD,EAAY2zH,EAAW5oI,OAAS,GAEpC,GAAI2K,EAAI66D,WAAY,CAClB,IAAIqjE,EAAW,CAAC,CAAC,IAAKl+H,EAAIoZ,OAAO,GAAG1Z,EAAGM,EAAIoZ,OAAO,GAAGzZ,GAAI,CAAC,IAAKK,EAAI66D,WAAW,GAAGn7D,EAAGM,EAAI66D,WAAW,GAAGl7D,IACtGu+H,EAAWptI,KAAKozD,UAAUg6E,GACf1+H,EAAUge,SAAS,OAAQ,CACpCrI,MAAO,oBAAS,CACdjI,KAAMgxH,EACNt6H,OAAQ,UACRwC,SAAU,CAAC,EAAG,GACd5C,UAAW,GACV8G,KAEAvH,KAAO,eAIhB,OAAOgB,KCxCXg6D,GAAsB,YAjCtB,SAAUhoE,GAGR,SAASooI,IACP,OAAkB,OAAXpoI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA0B7D,OA7BA,qBAAUqtI,EAAiBpoI,GAM3BooI,EAAgBztI,UAAUm3D,eAAiB,SAAU9hD,EAAOiF,EAAO5S,GACjE,IACIgmI,EAAWpzH,EAAM+O,UACjBklB,EAASl5B,EAAMgI,IAAI,UACnB8iB,EAASz4B,EAAKuvD,OAAO,GACrBvoC,EAAS6f,EAAOo/F,IAChB/1F,EAAOrJ,EAAOpO,GACdn/B,EAAQ,WAAU0tB,GAAUA,EAAO,GAAKA,EACxCk/G,GAAQF,EAAS7kH,KAAO6kH,EAAS5kH,MAAQ,EACzC9U,EAAe,SAEf4jC,EAAO,GACTg2F,EAAOF,EAAS5kH,KAXL,EAYX9U,EAAe,OAEf45H,EAAOF,EAAS7kH,KAdL,EAiBbxT,EAAMmT,KAAK,IAAKolH,GAChBv4H,EAAMmT,KAAK,OAAQxnB,GACnBqU,EAAMmT,KAAK,eAAgBxU,IAGtBy5H,EA9BT,CA+BE,KCzBF,IAmGe,GAjGf,WACE,SAASI,EAAUv+H,GACjBlP,KAAKulD,UAAY,GACjBvlD,KAAK+N,KAAOmB,EAAInB,KAChB/N,KAAK62D,OAAS3nD,EAAI2nD,OAClB72D,KAAKivB,UAAY/f,EAAI+f,UACrBjvB,KAAKulD,UAAY,OAhBZ,CACL5yC,KAAM,OACNmC,SAAU,GACVI,WAAY,GACZpC,OAAQ,uBAYgC5D,EAAI3K,OAE5CvE,KAAKysC,QAsFP,OAjFAghG,EAAU7tI,UAAUkQ,KAAO,WACzB,IAAI5K,EAAQlF,KAEZ,GAAKA,KAAK+N,OAAQ/N,KAAK+N,KAAKI,UAA5B,CAIA,IAAIsR,EAAO,SAAQzf,KAAK+N,KAAKkP,IAAI,SAEjCjd,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,oBAAoBswB,WACnD,IAAIr3B,EAASlW,KAAK+N,KAAKkP,IAAI,YAAY,GAAGmO,YAAY+uC,QAAO,SAAUj6D,GACrE,MAAkB,aAAXA,EAAE+R,QAEPu2D,EAAc,IAAI,SAEtB,QAAOtyD,GAAQ,SAAUgE,EAAOxJ,GAC9B,GAAKwJ,EAAM+C,IAAI,UAAf,CAEA,IAAIm+C,EAAUlhD,EAAM+C,IAAI,UAAUm+C,QAE9BkyE,EAAWpzH,EAAM+O,UACjBqF,EAAS8sC,EAAQmyE,IACjB/1F,EAAOlpB,EAEP,WAAUA,KACZkpB,EAAOlpB,EAAO,GAAKA,EAAO,IAG5BkpB,EAAOA,EAAO,EAAI,IAAMA,EAAOA,EAG3B4jB,EAAQsyE,MACVl2F,EAAOlpB,EAAO,GAAKA,EAAO,IAG5B,IAAIq/G,EAAgBn2F,EAEpB,GAAItyC,EAAM+pB,UAAW,CACnB,IAAIhb,EAAQiC,EAAOxF,GAAK0X,KAAK,QAC7BulH,EAAgBzoI,EAAM+pB,UAAU,GAAKuoB,EAAM,CACzC4jB,QAAS37C,EAAK/O,GACduD,MAAOA,GACNvD,GAGL,IAAIgD,EAAO80D,EAAY97C,SAAS,OAAQ,CACtCrI,MAAO,oBAAS,CACd3Q,KAAMi6H,EACN/5H,aAAc,SACdD,UAAW,SACX/E,GAAI0+H,EAAS/kH,KAAO+kH,EAAS9kH,MAAQ,EACrC3Z,GAAIy+H,EAAS7kH,KAAO6kH,EAAS5kH,MAAQ,GACpCxjB,EAAMqgD,aAGP7xC,EAAKuV,UAAUna,OAASw+H,EAASx+H,QACnC4E,EAAKrD,IAAI,WAAW,OAIxBrQ,KAAK0O,UAAUkB,IAAI44D,GACnBxoE,KAAK+N,KAAKkP,IAAI,UAAUnN,SAG1B29H,EAAU7tI,UAAUmQ,MAAQ,WACtB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInB09H,EAAU7tI,UAAU6sC,MAAQ,WAC1B,IAAIvnC,EAAQlF,KAEZA,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,WAER/P,KAAK+N,KAAKC,GAAG,eAAe,WAC1B9I,EAAM4K,WAIH29H,EA9FT,GCNI,GAAc,CAChBG,UAAW,YAET,GAAgB,CAClB36H,SAAU,aAEDs6H,GAAc,YACdG,GAAW,YAGlB,GAEJ,SAAUzoI,GAGR,SAAS4oI,IACP,IAAI3oI,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,YACNjB,EAuUT,OA7UA,qBAAU2oI,EAAgB5oI,GAS1B4oI,EAAelqC,kBAAoB,WACjC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDqX,OAAQ,CACN2F,SAAS,EACTxG,SAAU,UAEZvB,MAAO,CACL+H,SAAS,EACT+5C,gBAAgB,GAIlB+2E,UAAW,CACT9wH,SAAS,GAIXmwH,WAAY,CACVnwH,SAAS,GAIX+wH,UAAW,CACT/wH,SAAS,EACT/H,MAAO,sBAET+4H,eAAgB,CAEdt7H,UAAW,GAEb6F,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,CACV1oC,KAAM,YAMd0nI,EAAejuI,UAAU4O,WAAa,SAAU/N,GAC9C,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAIrD,OAFAT,KAAKiuI,oBAAoB1/H,GACzBvO,KAAKkuI,WAAW3/H,GACTA,GAGTs/H,EAAejuI,UAAU8P,UAAY,WACnCzK,EAAOrF,UAAU8P,UAAU5P,KAAKE,MAEhC,IAAIuO,EAAUvO,KAAKuO,QAEfA,EAAQu/H,WAAav/H,EAAQu/H,UAAU9wH,QACzChd,KAAK8tI,UAAY,IAAI,GAAU,CAC7B//H,KAAM/N,KAAK+N,KACX8oD,OAAQ,CAACtoD,EAAQuxB,OAAQvxB,EAAQwxB,OAAQwtG,IACzCt+G,UAAW1gB,EAAQu/H,UAAU7+G,UAC7B1qB,MAAOgK,EAAQu/H,UAAUvpI,QAElBvE,KAAK8tI,YACd9tI,KAAK8tI,UAAU/9H,QACf/P,KAAK8tI,UAAY,OAIrBD,EAAejuI,UAAUu/F,YAAc,WACrCl6F,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,MAElC,IAAIuO,EAAUvO,KAAKuO,QACnBvO,KAAK+N,KAAKC,GAAG,kBAAkB,SAAU7N,GAGvC,IAFA,IAAIosC,EAAQpsC,EAAEosC,MAELhtC,EAAI,EAAGA,EAAIgtC,EAAM9sC,OAAQF,IAAK,CACrC,IAAI+H,EAAOilC,EAAMhtC,GAEb67D,EAAU,OAAM9zD,EAAKiM,MAAO,UAAW,IAM3C,GAHAjM,EAAK2K,KAAOmpD,EAAQ7sD,EAAQuxB,QAC5Bx4B,EAAK1G,MAAQw6D,EAAQ7sD,EAAQwxB,SAExBz4B,EAAK1G,OAASw6D,EAAQsyE,IAAW,CACpC,IAAIp/G,EAAS8sC,EAAQmyE,IACrBjmI,EAAK1G,MAAQ0tB,EAAO,GAAKA,EAAO,GAGlCnuB,EAAEosC,MAAMhtC,GAAK+H,OAKnBumI,EAAejuI,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACvD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvB0nI,EAAejuI,UAAUmkG,YAAc,WACrC,IAAIx1F,EAAUvO,KAAKuO,QACfq/H,EAAY,CACdznI,KAAM,WACNqQ,SAAU,CACRqgD,OAAQ,CAACtoD,EAAQuxB,OAAQytG,KAE3BrzH,MAAO,CACLoU,OAAQ,CAAC,eAIT/f,EAAQ0G,QACV24H,EAAU34H,MAAQjV,KAAKw+G,gBAGzBovB,EAAUrpI,MAAQvE,KAAKmuI,cACvBP,EAAU35H,MAAQjU,KAAK+pG,cACvB/pG,KAAK4tI,UAAYA,EACjB5tI,KAAK2kG,UAAU,UAAWipC,IAG5BC,EAAejuI,UAAUqkG,YAAc,SAAUj+B,GAC/C,IAAIxgE,EAEA+jH,EAAW,GACXzpF,EAAS9/B,KAAKuO,QAAQuxB,OACtBC,EAAS//B,KAAKuO,QAAQwxB,OAoB1B,GAlBA,OAAMimC,GAAY,SAAU8pD,EAAUp/G,GACpC,IAAIlL,EAEA5E,EAAQkvH,EAAS/vF,GAErB,GAAIrvB,EAAM,EAAG,CACX,IAAI09H,EAAY7kB,EAAS74G,EAAM,GAAG68H,IAGhC3sI,EADE,WAAUwtI,GACJ,CAACA,EAAU,GAAIte,EAAS/vF,GAAUquG,EAAU,IAE5C,CAACA,EAAWte,EAAS/vF,GAAUquG,GAI3C7kB,EAAS/4G,KAAK,oBAAS,oBAAS,GAAIs/G,KAAYtqH,EAAK,IAAO+nI,IAAe3sI,EAAO4E,EAAc,UAAIkL,EAAKlL,QAGvGxF,KAAKuO,QAAQw/H,WAAa/tI,KAAKuO,QAAQw/H,UAAU/wH,QAAS,CAC5D,IAAIsR,EAAS,OAAM03C,GAAY,SAAUpjE,GACvC,OAAOA,EAAEm9B,MAGPi3F,EAAa,UAAS1oG,GAAQ,SAAUjuB,EAAG65B,GAC7C,OAAO75B,EAAI65B,IACV,GAEHqvF,EAAS/4G,OAAMhL,EAAK,IAAOs6B,GAAU9/B,KAAKuO,QAAQw/H,UAAU94H,MAAOzP,EAAGu6B,GAAU,KAAMv6B,EAAG+nI,IAAe,CAACvW,EAAY,GAAIxxH,EAAc,UAAI+jH,EAAS9pH,OAAQ+F,EAAGkoI,KAAY,EAAMloI,IAGnL,OAAO+jH,GAGTskB,EAAejuI,UAAU+tB,MAAQ,WAC/B,IAAIpf,EAAUvO,KAAKuO,QACf24B,EAAS,GAGbA,EAAO34B,EAAQuxB,QAAU,CACvB35B,KAAM,OAGJ,OAAMoI,EAAS,UACjBk8F,GAAavjE,EAAO34B,EAAQuxB,QAASvxB,EAAQmvD,OAK/Cx2B,EAAOqmG,IAAe,GAElB,OAAMh/H,EAAS,UACjBk8F,GAAavjE,EAAOqmG,IAAch/H,EAAQq1F,OAG5C5jG,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAK9B6tI,EAAejuI,UAAU0W,KAAO,WAC9B,IAAIsuF,EAAe1S,GAAa,OAAQ,CACtCtiD,KAAM5vC,KACNkgC,IAAK,MAEH2kE,EAAe3S,GAAa,OAAQ,CACtCtiD,KAAM5vC,KACNkgC,IAAK,MAEH4kE,EAAa,CACfjuC,OAAQ,IAEViuC,EAAWjuC,OAAO72D,KAAKuO,QAAQuxB,QAAU8kE,EACzCE,EAAWjuC,OAAO02E,IAAe1oC,EAGjC7kG,KAAK2kG,UAAU,OAAQG,IAGzB+oC,EAAejuI,UAAU0mB,MAAQ,aAEjCunH,EAAejuI,UAAUiS,YAAc,SAAUC,GAC/C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1C6tI,EAAejuI,UAAU4+G,aAAe,WACtC,IAAIjwG,EAAUvO,KAAKuO,QAEf0G,EAAQ,WAAU,GAAI1G,EAAQ0G,OAElC,OAAsB,IAAlBA,EAAM+H,SAIQk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,YACX1W,OAAQ,CAACtoD,EAAQwxB,SAChB9qB,KAML44H,EAAejuI,UAAUuuI,YAAc,WACrC,IAAI5pI,EAAQvE,KAAKuO,QAAQy/H,eACrBb,EAAantI,KAAKuO,QAAQ4+H,WAC1BxiD,EAAS,GAoBb,OAlBI,cAAapmF,GACfomF,EAAO9iE,SAAW,WAGhB,IAFA,IAAIsI,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,GAAM5wB,UAAU4wB,GAGvB,OAAOhxB,OAAOC,OAAO,GAAIkF,EAAMxE,WAAM,EAAQowB,GAAO,CAClDg9G,WAAYA,KAIhBxiD,EAAOz7E,IAAM,oBAAS,oBAAS,GAAI3K,GAAQ,CACzC4oI,WAAYA,IAITxiD,GAGTkjD,EAAejuI,UAAUmqG,YAAc,WACrC,IAAI7kG,EAAQlF,KAERuO,EAAUvO,KAAKuO,QACf/I,EAAKxF,KAAKuO,QAGVo8E,EAAS,CACX9zB,OAAQ,CAHGrxD,EAAGs6B,OACHt6B,EAAGu6B,OAEWwtG,GA1Rb,cA6Rd,GAAI,cAAah/H,EAAQ0F,OACvB02E,EAAO9iE,SAAWtZ,EAAQ0F,UACrB,CACL,IAAIo6H,EAAgB,UAChBC,EAAiB,UACjBC,EAAe,sBAEnB,GAAI,YAAWhgI,EAAQ0F,OACrBo6H,EAAgBC,EAAiBC,EAAehgI,EAAQ0F,WACnD,GAAI,YAAW1F,EAAQ0F,OAAQ,CACpC,IAAIuoB,EAAKjuB,EAAQ0F,MACbu6H,EAAShyG,EAAGgyG,OACZC,EAAUjyG,EAAGiyG,QACbrlE,EAAQ5sC,EAAG4sC,MACfilE,EAAgBG,EAChBF,EAAiBG,EACjBF,EAAenlE,EAGjBuhB,EAAO9iE,SAAW,SAAU1hB,EAAMvF,EAAO0tB,EAAQhqB,GAC/C,OAAIA,IAAUY,EAAMqJ,QAAQkR,KAAKhgB,OACxB8uI,IAAiBjgH,EAAO,IAAM,EAAI+/G,EAAgBC,IAGnD,WAAUhgH,GAAUA,EAAO,GAAKA,EAAO,GAAKA,IAAW,EAAI+/G,EAAgBC,GAIvF,OAAO3jD,GAKTkjD,EAAejuI,UAAUquI,oBAAsB,SAAU1/H,GACvD,IAAIsnD,EAAgBtnD,EAAQ8I,OAExBw+C,IACFA,EAAc74C,SAAU,IAM5B6wH,EAAejuI,UAAUsuI,WAAa,SAAU3/H,GAC9C,IAAImgI,EAAcngI,EAAQwvF,KAE1B,GAAI2wC,EAAa,CACf,IAAIC,EAAiBD,EAAcA,EAAYngI,EAAQwxB,QAAU,GACjE4uG,EAAel2E,MAAQk2E,EAAel2E,OAASlqD,EAAQwxB,OACvDxxB,EAAQwvF,KAAKwvC,IAAeoB,IAIzBd,EA9UT,CA+UE,IAEa,MACf5mC,GAAiB,YAAa,KCjW9B,SAAUhiG,GAGR,SAAS2pI,IACP,OAAkB,OAAX3pI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU4uI,EAAW3pI,GAMrB2pI,EAAUhvI,UAAU0nG,aAAe,SAAU7mG,GAC3C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,YAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C21B,EAAUjrC,kBAAoB,GAAeA,kBAf/C,CAiBE,ICvBK,SAASkrC,GAAKC,EAAMlQ,EAAIrqD,EAAInzD,EAAIC,GACrC,IAAI7c,EAAQ4c,EAAKw9G,EACbt4H,EAAWwoI,EAAKxoI,SAChB1F,EAAQkuI,EAAKluI,MACjB0F,EAASywB,MAAK,SAAU1Z,EAAGuC,GACzB,OAAOA,EAAEhf,MAAQyc,EAAEzc,SAErB,IAAIoR,EAAIxN,EAAQ5D,EACZmuI,EAASnQ,EACb,gBAAKt4H,GAAU,SAAU+Y,GACvBA,EAAEk1D,GAAKA,EACPl1D,EAAEgC,GAAKA,EACPhC,EAAEu/G,GAAKmQ,EACPA,GAAU1vH,EAAEze,MAAQoR,EACpBqN,EAAE+B,GAAK/B,EAAEu/G,GAAKv/G,EAAEze,MAAQoR,KCdrB,SAASsT,GAAMwpH,EAAMlQ,EAAIrqD,EAAInzD,EAAIC,GACtC,IAAIvS,EAASuS,EAAKkzD,EACdjuE,EAAWwoI,EAAKxoI,SAChB1F,EAAQkuI,EAAKluI,MACjB0F,EAASywB,MAAK,SAAU1Z,EAAGuC,GACzB,OAAOA,EAAEhf,MAAQyc,EAAEzc,SAErB,IAAIoR,EAAIlD,EAASlO,EACbouI,EAASz6D,EACb,gBAAKjuE,GAAU,SAAU+Y,GACvBA,EAAEu/G,GAAKA,EACPv/G,EAAE+B,GAAKA,EACP/B,EAAEk1D,GAAKy6D,EACPA,GAAU3vH,EAAEze,MAAQoR,EACpBqN,EAAEgC,GAAKhC,EAAEk1D,GAAKl1D,EAAEze,MAAQoR,KCX5B,IAAI,IAAS,EAAIkM,KAAKmE,KAAK,IAAM,EAClB,SAAS4sH,GAASH,EAAMlQ,EAAIrqD,EAAInzD,EAAIC,GACjD,IAAI/a,EAAWwoI,EAAKxoI,SAChB1F,EAAQkuI,EAAKluI,MACjB0F,EAASywB,MAAK,SAAU1Z,EAAGuC,GACzB,OAAOA,EAAEhf,MAAQyc,EAAEzc,SAUrB,IARA,IACIsuI,EAAU7gD,EAAUD,EACpBnM,EAAOktD,EACPC,EAAU5uF,EACV6uF,EAJArqE,EAAO,GAKPzlE,EAAI,EACJuhB,EAAI,EAEDvhB,EAAI+G,EAAS7G,QAAQ,CAC1B,IAAI+E,EAAQ4c,EAAKw9G,EACb9vH,EAASuS,EAAKkzD,EAQlB,IANA8Z,EADA6gD,EAAW5oI,EAASwa,KAAKlgB,MAEzBwtF,EAAW8gD,EAEXC,EAAOD,EAAWA,GADlBjtD,EAAQ/jE,KAAKyH,IAAI7W,EAAStK,EAAOA,EAAQsK,IAAWlO,EAAQ,KAE5D4/C,EAAWtiC,KAAKyH,IAAI0oE,EAAW8gD,EAAMA,EAAO/gD,GAErCttE,EAAIxa,EAAS7G,OAAQqhB,IAAK,CAQ/B,IAPAuuH,EAAY/oI,EAASwa,GAAGlgB,OAERwtF,IAAUA,EAAWihD,GACjCA,EAAYhhD,IAAUA,EAAWghD,GACrCF,GAHAD,GAAYG,GAGMH,EAAWjtD,GAC7BmtD,EAAWlxH,KAAKyH,IAAI0oE,EAAW8gD,EAAMA,EAAO/gD,IAE7B5tC,EAAU,CACvB0uF,GAAYG,EACZ,MAGF7uF,EAAW4uF,EAGb,IAAIrpF,EAAM,CACRnlD,MAAOsuI,EACPL,KAAMrqI,EAAQsK,EACdxI,SAAUA,EAASgf,MAAM/lB,EAAGuhB,IAI9B,GAFAkkD,EAAKx0D,KAAKu1C,GAENA,EAAI8oF,KAAM,CACZ,IAAI5+H,EAAIrP,EAAQkO,EAASogI,EAAWtuI,EAAQkO,EAC5C+/H,GAAK9oF,EAAK64E,EAAIrqD,EAAInzD,EAAImzD,EAAKtkE,GAEvBrP,IACF2zE,GAAMtkE,OAEH,CACL,IAAI6qB,EAAIl6B,EAAQ4D,EAAQ0qI,EAAWtuI,EAAQ4D,EAC3C8gB,GAAMygC,EAAK64E,EAAIrqD,EAAIqqD,EAAK9jG,EAAGzZ,GAEvBzgB,IACFg+H,GAAM9jG,GAIVl6B,GAASsuI,EACT3vI,EAAIuhB,EAGN,OAAOkkD,ECrET,IC0Pe,GAvPf,SAAU//D,GAGR,SAASqqI,IACP,IAAIpqI,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAkBhE,OAhBAkF,EAAMqqI,UAAY,GAElBrqI,EAAMsqI,wBAA0B,SAAUx7F,EAAW55B,GACnD,OAAO,WACL,IAAI+qE,EAAYnxC,EAAU/2B,IAAI,YAAYiiF,MAAK,SAAU53F,GACvD,MAA6B,oBAAtBA,EAAK2V,IAAI,YAGdkoE,GACFA,EAAU/8D,KAAKhO,EAASlV,EAAMuqI,0BAA4BvqI,EAAMwqI,qBAGlExqI,EAAMuiG,YAAY33F,SAIf5K,EA8NT,OAnPA,qBAAUoqI,EAAYrqI,GAwBtBqqI,EAAW1vI,UAAUoQ,QAAU,WAC7BhQ,KAAK2vI,YAEL1qI,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCsvI,EAAW1vI,UAAUwP,KAAO,SAAUu7E,GACpC3qF,KAAK4O,EAAI+7E,EAAO/7E,EAChB5O,KAAK6O,EAAI87E,EAAO97E,EAChB7O,KAAKusC,MAAQo+C,EAAOp+C,OAAS,GAC7BvsC,KAAK4vI,YAAcjlD,EAAOilD,aAAe,CAAC,EAAG,EAAG,EAAG,GACnD5vI,KAAKqW,gBAAkB,oBAAS,CAC9B3D,UAAW,EACXI,OAAQ,WACP63E,EAAOt0E,iBAAmB,IAC7BrW,KAAK0vI,oBAAsB,oBAAS,CAClC/8H,KAAM,QACLg4E,EAAO+kD,qBAAuB,IACjC1vI,KAAKyvI,0BAA4B,oBAAS,CACxC98H,KAAM,OACNkB,QAAS,IACR82E,EAAO8kD,2BAA6B,IACvCzvI,KAAK6vI,UAAYllD,EAAOklD,WAAa,IACrC7vI,KAAK8vI,eAAiB,oBAAS,CAC7Bl8H,aAAc,MACdjB,KAAM,OACNkB,QAAS,KACR82E,EAAOmlD,gBAAkB,IAC5B9vI,KAAKylD,UAAYklC,EAAOllC,UACxBzlD,KAAKi0C,WAAa02C,EAAO12C,WACzBj0C,KAAKqjD,aAAesnC,EAAOtnC,aAC3BrjD,KAAK6U,UAAY,oBAAS,CACxBjB,aAAc,MACdjB,KAAM,OACNkB,QAAS,KACR82E,EAAO91E,WAAa,KAGzBy6H,EAAW1vI,UAAUmwI,YAAc,SAAU/tG,GAG3ChiC,KAAK2vI,YACL3vI,KAAK+7C,YAAY/Z,EAHJ,EACA,GAIbhiC,KAAKgiC,MAAM4O,KAAK5wC,KAAK4O,EAAG5O,KAAK6O,IAG/BygI,EAAW1vI,UAAUm8C,YAAc,SAAU/Z,EAAOqjB,EAAQinB,GAC1D,IAOIr4B,EAPA/uC,EAAQlF,KAERwF,EAAKxF,KAAK4vI,YACVI,EAAaxqI,EAAG,GAChByqI,EAAezqI,EAAG,GAClB0qI,EAAgB1qI,EAAG,GACnB2qI,EAAc3qI,EAAG,GAGjB4qI,EAAiBpuG,EAAMtV,SAAS,OAAQ,CAC1CiqB,MAAO,wBACPtyB,MAAO,oBAAS,CACdzV,EAAGy2C,EACHx2C,EAAGy9D,EACH9nE,MAAO,EACPsK,OAAQ,GACP9O,KAAKqW,mBAEVrW,KAAKusC,MAAMrkC,SAAQ,SAAUZ,EAAMoJ,GAEjC,IAAIsjC,EAAYhS,EAAMuL,SAAS,CAC7B5+B,GAAI,cAAgBrH,EAAK3H,IAEzB8f,KAAMnY,EACNqvC,MAAO,aACPtyB,MAAO,CACLrM,OAAQ,aAIRmtE,EAAYnxC,EAAUtnB,SAAS,OAAQ,CACzC/d,GAAI,mBAAqBrH,EAAK3H,IAC9Bg3C,MAAO,kBACPtyB,MAAO,oBAAS,oBAAS,CACvBzV,EAAGy2C,EACHx2C,EAAGy9D,EACH9nE,MAAO2rI,EAAcF,EACrBnhI,OAAQkhI,EAAaE,GACpBhrI,EAAMwqI,qBAAsB,CAC7B13H,OAAQ,cAGZmtE,EAAUlzE,KAAO,aAEjB,IAAIuzC,EAAYxR,EAAUtnB,SAAS,OAAQ,CACzC/d,GAAI,aAAerH,EAAK3H,IACxBg3C,MAAO,YACPtyB,MAAO,oBAAS,oBAAS,CACvBzV,EAAGy2C,EAAS8qF,EACZthI,EAAGy9D,EAAS0jE,EACZt8H,KAAMpM,EAAKoM,MACVxO,EAAM2P,WAAY,CACnBmD,OAAQ,cAGZwtC,EAAUvzC,KAAO,aACjB,IAAIo+H,EAAgB7qF,EAAUv8B,UAC9BgrB,EAAa/uC,EAAM+uC,YAAco8F,EAAcvhI,OAC/C,IAAI22C,EAAYvgD,EAAMugD,WAAa4qF,EAAc7rI,MAE7CU,EAAMm+C,eACRoC,EAAYvnC,KAAKuR,IAAIg2B,EAAWvgD,EAAMm+C,eAIxC,IAAIitF,EAAqB,CACvB1hI,EAAGy2C,EACHx2C,EAAGy9D,EACH9nE,MAAOihD,EAAY0qF,EAAcF,EACjCnhI,OAAQmlC,EAAa+7F,EAAaE,GAUpC,GARA/qD,EAAU/8D,KAAK,QAASkoH,EAAmB9rI,OAC3C2gF,EAAU/8D,KAAK,SAAUkoH,EAAmBxhI,QAE5CklC,EAAU5rB,KAAK,OAAQ,IAAI,QAAK,CAC9B/D,MAAOisH,KAETjrF,GAAUirF,EAAmB9rI,MAEzBkM,IAAQxL,EAAMqnC,MAAM9sC,OAAS,EAAG,CAClC,IAAI8wI,EAAWvuG,EAAMtV,SAAS,OAAQ,CACpCrI,MAAO,oBAAS,CACdzV,EAAGy2C,EACHx2C,EAAGy9D,EAAS0jE,EACZt8H,KAAMxO,EAAM2qI,WACX3qI,EAAM4qI,gBACTn5F,MAAO,cAET0O,GAAUkrF,EAAStnH,UAAUzkB,UAIjC4rI,EAAehoH,KAAK,CAClB5jB,MAAO6gD,EACPv2C,OAAQmlC,EAAa+7F,EAAaE,KAItCZ,EAAW1vI,UAAUk8C,WAAa,SAAU9Z,GAC1C,IAAI98B,EAAQlF,KAERusC,EAAQvsC,KAAKusC,MACbikG,EAAaxuG,EAAM/kB,IAAI,YAAYk9C,QAAO,SAAU7yD,GACtD,MAA6B,eAAtBA,EAAK2V,IAAI,YAGd4K,EAAW,SAAkB03B,EAAOvL,EAAWy8F,GACjD,OAAO,WACL,IAAI9wI,EAAMq0C,EAAU/2B,IAAI,QACpB3V,EAAOilC,EAAM2yD,MAAK,SAAU7tE,GAC9B,OAAOA,EAAI1xB,MAAQA,KAGrBuF,EAAMwnC,KAAK+jG,EAAe,CACxBnpI,KAAMA,MAKZkpI,EAAWtoI,SAAQ,SAAU8rC,GAC3B,IAAI08F,EAAgB7oH,EAAS,EAASmsB,EAAW,eAC7C28F,EAAmB9oH,EAAS,EAAYmsB,EAAW,kBAEnD48F,EAAqB1rI,EAAMsqI,wBAAwBx7F,GAAW,GAE9D68F,EAAqB3rI,EAAMsqI,wBAAwBx7F,GAAW,GAElEA,EAAUhmC,GAAG,QAAS0iI,GACtB18F,EAAUhmC,GAAG,WAAY2iI,GACzB38F,EAAUhmC,GAAG,aAAc4iI,GAC3B58F,EAAUhmC,GAAG,aAAc6iI,GAE3B3rI,EAAMqqI,UAAU/+H,KAAK,CACnBlR,OAAQ00C,EACRuL,MAAO,QACP13B,SAAU6oH,IAGZxrI,EAAMqqI,UAAU/+H,KAAK,CACnBlR,OAAQ00C,EACRuL,MAAO,WACP13B,SAAU8oH,IAGZzrI,EAAMqqI,UAAU/+H,KAAK,CACnBlR,OAAQ00C,EACRuL,MAAO,aACP13B,SAAU+oH,IAGZ1rI,EAAMqqI,UAAU/+H,KAAK,CACnBlR,OAAQ00C,EACRuL,MAAO,aACP13B,SAAUgpH,QAKhBvB,EAAW1vI,UAAU+vI,UAAY,WAC3B3vI,KAAKuvI,WACPvvI,KAAKuvI,UAAUrnI,SAAQ,SAAU1C,GAC/B,IAAIlG,EAASkG,EAAGlG,OACZigD,EAAQ/5C,EAAG+5C,MACX13B,EAAWriB,EAAGqiB,SAClBvoB,EAAO4Q,IAAIqvC,EAAO13B,MAItB7nB,KAAKuvI,UAAY,IAGZD,EApPT,CDDA,SAAUrqI,GAGR,SAAS6rI,EAAcnmD,GACrB,IAAIzlF,EAAQD,EAAOnF,KAAKE,OAASA,KASjC,OAPAkF,EAAMwJ,UAAYi8E,EAAOj8E,UACzBxJ,EAAMiJ,WAAY,EAClBjJ,EAAM88B,MAAQ98B,EAAMwJ,UAAU6+B,WAC9BroC,EAAMylF,OAASA,EAEfzlF,EAAMkK,KAAKu7E,GAEJzlF,EAuCT,OAnDA,qBAAU4rI,EAAe7rI,GAezB6rI,EAAclxI,UAAUmxI,SAAW,WACjC,OAAO/wI,KAAKgiC,OAGd8uG,EAAclxI,UAAUqpB,QAAU,WAChC,OAAOjpB,KAAK+wI,WAAW9nH,WAGzB6nH,EAAclxI,UAAU+P,OAAS,WAC/B3P,KAAK+vI,YAAY/vI,KAAKgiC,OACtBhiC,KAAKynG,YAAY33F,QAGnBghI,EAAclxI,UAAUyqB,OAAS,SAAUsgE,GACzC3qF,KAAK2qF,OAAS,oBAAS,oBAAS,GAAI3qF,KAAK2qF,QAASA,GAClD3qF,KAAKoP,KAAK,oBAAS,oBAAS,GAAIpP,KAAK2qF,QAAS,CAC5CA,OAAQA,KAEV3qF,KAAKgiC,MAAMjyB,QACX/P,KAAK+vI,YAAY/vI,KAAKgiC,OACtBhiC,KAAKynG,YAAY33F,QAGnBghI,EAAclxI,UAAUoQ,QAAU,WAChChQ,KAAKgiC,MAAM7xB,QAAO,GAClBnQ,KAAKmO,WAAY,GAGnB2iI,EAAclxI,UAAU6nG,UAAY,WAClC,OAAOznG,KAAK0O,UAAUuO,IAAI,WAG5B6zH,EAAclxI,UAAUwP,KAAO,SAAUu7E,KAEzCmmD,EAAclxI,UAAUmwI,YAAc,SAAU/tG,KAEzC8uG,EApDT,CAqDE,aExDE,GAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAiExC,SAASE,GAAa3lB,EAAU38G,GAC9B,IAAIwH,EAASm1G,EAASjgG,YAClB6lH,EAAa,GASjB,OARA,gBAAK/6H,GAAQ,SAAUgE,GACrB,IAAIha,EAAIwO,EAAUge,SAAS,OAAQ,CACjCrI,MAAO,mBAAQ,GAAInK,EAAMmK,MAAO,CAC9BgmB,SAAS,MAGb4mG,EAAWzgI,KAAKtQ,MAEX+wI,EAGF,SAASC,GAAUj/H,EAAMlE,EAAM8Z,GACpC,IAAIwjG,EAAWt9G,EAAKkP,IAAI,YAAY,GACpCk0H,GAAU9lB,GACV,IAAI38G,EAAY28G,EAASpuG,IAAI,aAC7BvO,EAAU0Z,KAAK,SAAU,iBAAM,KAC/B,IAAIgpH,EAAgBrjI,EAAKkP,IAAI,aAAaswB,WAC1C6jG,EAAc/gI,IAAI,UAAW,KAC7B,IAAI4gI,EAAaD,GAAa3lB,EAAU+lB,GACxC1iI,EAAU2B,IAAI,WAAW,GACzBtC,EAAKkP,IAAI,UAAUnN,OACnB+X,IAEAspH,GADA9lB,EAAWt9G,EAAKkP,IAAI,YAAY,IAEhCvO,EAAY28G,EAASpuG,IAAI,aACzB,IAEIxC,EAAO42H,GA8Bb,SAAyBn7H,EAAQgkB,GAC/B,IAAIhgB,EAQJ,OAPA,gBAAKhE,GAAQ,SAAUhW,GACVA,EAAE+c,IAAI,UAAUm+C,QAAQnpD,OAEtBioB,IACXhgB,EAAQha,MAGLga,EAzCKo3H,CAAgBjmB,EAASjgG,YAAanZ,IAG9Csc,EAAQ,GAASxgB,GACjBq3F,EAAS,IAAI,QAAK,CACpB/gF,MAAO,CACLzV,EAAG2f,EAAMhG,KACT1Z,EAAG0f,EAAM9F,KACTjkB,MAAO+pB,EAAM/pB,MACbsK,OAAQyf,EAAMzf,UAGdyiI,EAAkB7iI,EAAUuO,IAAI,UAE/Bs0H,EAAgBnpH,KAAK,SACxBmpH,EAAgBnpH,KAAK,OAAQg9E,GA2DjC,SAAoB12F,EAAWwH,EAAQuE,EAAM8T,GAC3C,IAAIw3F,EAAStrG,EAAKjW,MAAQ+pB,EAAM/pB,MAC5B8mG,EAAS7wF,EAAK3L,OAASyf,EAAMzf,OAC7Be,EAAY,CACdA,UAAW,CAAC,CAAC,IAAKk2G,EAAQza,GAAS,CAAC,IAAK7wF,EAAK8N,KAAM9N,EAAKgO,QAE3D/Z,EAAU8N,QAAQ3M,EA5KL,IACF,iBA2KoC,WAC7CnB,EAAUyB,YAEZ,gBAAK+F,GAAQ,SAAUgE,GACrBA,EAAMsC,QAAQ,CACZ3I,QAAS,GAjLA,IACF,oBA6GX29H,CAAWJ,EAAeH,EAAYx2H,EAAM8T,GAC5C,IAAIw3F,EAASx3F,EAAM/pB,MAAQiW,EAAKjW,MAC5B8mG,EAAS/8E,EAAMzf,OAAS2L,EAAK3L,OAC7Bw7B,GAAW/b,EAAMhG,KAAO9N,EAAK8N,MAAQw9F,EACrCx7E,GAAWhc,EAAM9F,KAAOhO,EAAKgO,MAAQ6iF,EACzC58F,EAAUmB,UAAU,CAAC,CAAC,IAAKk2G,EAAQza,GAAS,CAAC,IAAKhhE,EAASC,KAC3D77B,EAAU2B,IAAI,WAAW,GACzB3B,EAAU8N,QAAQ,CAChB8K,OAAQ,IAtHG,IACF,iBAsHU,WACnBguG,GAAUjK,MAgBd,SAAS,GAASt9G,GAChB,IAAI4oD,EAAY5oD,EAAKkP,IAAI,aASzB,MARY,CACVsL,KAAMouC,EAAUpuC,KAChBE,KAAMkuC,EAAUluC,KAChBE,SAAUguC,EAAUnuC,KAAOmuC,EAAUpuC,MAAQ,EAC7CK,SAAU+tC,EAAUjuC,KAAOiuC,EAAUluC,MAAQ,EAC7CjkB,MAAOmyD,EAAUnyD,MACjBsK,OAAQ6nD,EAAU7nD,QAKtB,SAASuiI,GAAQn3H,GACf,IAAIkC,EAAOlC,EAAMkO,KAAK,QAClBw2G,EAAKxiH,EAAK,GAAG,GACbiF,EAAKjF,EAAK,GAAG,GACbgF,EAAKhF,EAAK,GAAG,GACbm4D,EAAKn4D,EAAK,GAAG,GASjB,MARW,CACTmM,KAAMq2G,EACNn2G,KAAM8rD,EACN5rD,SAAUvH,EAAKw9G,GAAM,EACrBh2G,SAAUvH,EAAKkzD,GAAM,EACrB/vE,MAAO0Z,KAAKsE,IAAIpB,EAAKw9G,GACrB9vH,OAAQoP,KAAKsE,IAAInB,EAAKkzD,IAqB1B,SAAS48D,GAAU9lB,GACIA,EAASpuG,IAAI,mBAAmBkwD,gBACtC98D,IAAI,WAAW,GAGhC,SAASilH,GAAUjK,GACIA,EAASpuG,IAAI,mBAAmBkwD,gBACtC98D,IAAI,WAAW,GC1LhC,IAuBI,GAEJ,SAAUpL,GAGR,SAASwsI,IACP,OAAkB,OAAXxsI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAmP7D,OAtPA,qBAAUyxI,EAAsBxsI,GAMhCwsI,EAAqB5+C,oBAAsB,SAAUC,EAAY/X,GAC/D,IA7B6D7rE,EA6BzDy7E,QA5BM,KADmDz7E,EA6BvB6rE,KA3BtC7rE,EAAM,IAGG,oBAAS,CAClBN,EAAG,EACHC,EAAG,EACH6iI,UAAW,CACTz/H,KAAM,QAERwzC,UAfqB,IAgBrBxR,WAfsB,GAgBtBptC,QAAS,CAAC,EAAG,EAAG,EAAG,IAClBqI,IAgBG1J,EAAKmlF,EAAO9jF,QACZo2F,EAAaz3F,EAAG,GAChB23F,EAAgB33F,EAAG,GACvB,OAAO,IAAI,QAAKstF,EAAWvqE,KAAMuqE,EAAWpqE,KAAOiiE,EAAO12C,WAAagpD,EAAaE,EAAerK,EAAWtuF,MAAOmmF,EAAO12C,WAAagpD,EAAaE,IAGxJs0C,EAAqB7xI,UAAUsR,MAAQ,SAAUmuC,GAC/C,IAAIn6C,EAAQlF,KAERyf,EAAO4/B,EAAG5/B,KAAK27C,QAEf37C,EAAKnZ,WACPtG,KAAKuuC,WAAa,CAChBr0B,MAAOmlC,EAAG//C,OACVmgB,KAAM,CACJxN,KAAM,iBAAMjS,KAAK2xI,YAAY1/H,MAC7BrR,MAAO,iBAAMZ,KAAK2xI,YAAY/wI,QAEhCgxI,MAAO,iBAAM5xI,KAAK6xI,eAEpB7xI,KAAK6xI,eDvDJ,SAAsBvyI,EAAQyO,EAAM8Z,GACzC,IAAIpN,EAAO42H,GAAQ/xI,GACfivB,EAAQ,GAASxgB,GACjBg4G,EAASx3F,EAAM/pB,MAAQiW,EAAKjW,MAC5B8mG,EAAS/8E,EAAMzf,OAAS2L,EAAK3L,OAG7Be,EAAY,CACdA,UAAW,CAAC,CAAC,IAAKk2G,EAAQza,GAAS,CAAC,KAHvB/8E,EAAMhG,KAAO9N,EAAK8N,MAAQw9F,GAC1Bx3F,EAAM9F,KAAOhO,EAAKgO,MAAQ6iF,KAIrC+f,EAAWt9G,EAAKkP,IAAI,YAAY,GACpCk0H,GAAU9lB,GACV,IAAIymB,EAAa,IAAI,QAAK,CACxBztH,MAAO,CACLzV,EAAG2f,EAAMhG,KACT1Z,EAAG0f,EAAM9F,KACTjkB,MAAO+pB,EAAM/pB,MACbsK,OAAQyf,EAAMzf,UAGdsiI,EAAgBrjI,EAAKkP,IAAI,aAAaswB,WAC1C6jG,EAAc/gI,IAAI,UAAW,KAC7B+gI,EAAchpH,KAAK,OAAQ0pH,GAC3B,IAAIb,EAAaD,GAAa3lB,EAAU+lB,GACxC/lB,EAASpuG,IAAI,aAAa5M,IAAI,WAAW,GACzCtC,EAAKkP,IAAI,UAAUnN,OACnB+X,IACA41D,OAAOpc,YAAW,WAChB,gBAAK4vE,GAAY,SAAU/2H,EAAO5V,GAClB,IAAVA,EACF4V,EAAMsC,QAAQ3M,EAhCP,IACF,iBA+BsC,WACzCuhI,EAAcjhI,SACdpC,EAAKkP,IAAI,UAAUnN,UAGrBoK,EAAMsC,QAAQ3M,EArCP,QAyCXshI,GADA9lB,EAAWt9G,EAAKkP,IAAI,YAAY,IAEhC,IAAI/G,EAASm1G,EAASjgG,YACtB,gBAAKlV,GAAQ,SAAUgE,GACrBA,EAAMkO,KAAK,UAAW,GACtBlO,EAAMsC,QAAQ,CACZ3I,QAAS,GA9CF,IACF,oBAgDT,IAAInF,EAAY28G,EAASpuG,IAAI,aAC7BvO,EAAU2lC,cACV3lC,EAAU2B,IAAI,WAAW,GACzB3B,EAAU0Z,KAAK,SAAU,iBAAM,KAC/B1Z,EAAUmB,UAAU,CAAC,CAAC,IAAK4K,EAAKjW,MAAQ+pB,EAAM/pB,MAAOiW,EAAK3L,OAASyf,EAAMzf,QAAS,CAAC,IAAK2L,EAAK8N,KAAM9N,EAAKgO,QACxG,IAAInB,EAAS,iBAAM,IACnB+jG,EAASpuG,IAAI,aAAaT,QAAQ,CAChC8K,OAAQA,GAxDC,IACF,iBAwDY,WACnBguG,GAAUjK,MAEZt9G,EAAKkP,IAAI,UAAUnN,SAClB,ICHCiiI,CAAa1yF,EAAG//C,OAAQU,KAAK+N,MAAM,WACjC7I,EAAMmlB,OAAO5K,QAKnBgyH,EAAqB7xI,UAAUyqB,OAAS,SAAU5K,GAC3C,kBAAOzf,KAAKmjC,MAAO1jB,EAAKxN,QAC3BjS,KAAKmjC,MAAM1jB,EAAKxN,MAAQwN,GAG1B,IAAIuyH,EAAYhyI,KAAK4vC,KAAKqiG,eAAexyH,EAAMA,EAAKmyH,OACpD5xI,KAAK+N,KAAKwqE,WAAWy5D,GACrBhyI,KAAKulH,YAAYvlH,KAAK6xI,cACtB7xI,KAAK2xI,YAAclyH,EACnBzf,KAAK2P,UAGP8hI,EAAqB7xI,UAAU+P,OAAS,WACtC,GAAI3P,KAAKkyI,WAAY,CACnB,IAAI3lG,EAAQvsC,KAAKmyI,WACjBnyI,KAAKkyI,WAAW7nH,OAAO,CACrBkiB,MAAOA,IAETvsC,KAAKsX,cAELtX,KAAKoyI,eACLpyI,KAAKmjC,MAAQ,GACbnjC,KAAKqyI,oBACLryI,KAAK0O,UAAY1O,KAAK0O,UAAY1O,KAAK+O,OAAOw+B,WAEzCvtC,KAAK0xI,YACR1xI,KAAK0xI,UAAY,CACfz/H,KAAM,SAIkB,SAAxBjS,KAAK0xI,UAAUz/H,MACjBjS,KAAKsyI,cAAgB,kBAAOtyI,KAAK4vC,KAAKrhC,QAAQkR,KAAM,QAAUzf,KAAK4vC,KAAKrhC,QAAQkR,KAAKxN,KAAO,OAC5FjS,KAAK2xI,YAAc3xI,KAAK4vC,KAAKrhC,QAAQkR,KACrCzf,KAAK6xI,aAAe,IAEpB7xI,KAAKsyI,cAAgBtyI,KAAK0xI,UAAUz/H,KACpCjS,KAAK2xI,YAAc3xI,KAAK0xI,WAG1B1xI,KAAK6O,EAAI7O,KAAK+N,KAAKkP,IAAI,aAAayL,KAnGxB,GAoGZ1oB,KAAKkyI,WAAa,IAAI,GAAW,CAC/BxjI,UAAW1O,KAAK0O,UAChBE,EAAG,EACHC,EAAG7O,KAAK6O,EACR09B,MAAOvsC,KAAKmyI,aAEdnyI,KAAKkyI,WAAWviI,SAChB3P,KAAKsX,SAGPtX,KAAKuyI,iBAGPd,EAAqB7xI,UAAUmQ,MAAQ,aAEvC0hI,EAAqB7xI,UAAU0X,OAAS,WACtC,IAAIw5G,EAAe9wH,KAAK0O,UAAUua,UAAUzkB,MACxCoK,GAAK5O,KAAK4vC,KAAKprC,MAAQssH,GAAgB,EAC3C9wH,KAAKkyI,WAAW7nH,OAAO,CACrBzb,EAAGA,EACHC,EAAG7O,KAAK6O,KAIZ4iI,EAAqB7xI,UAAUuyI,SAAW,WACxC,IAAI5lG,EAAQ,GAEZ,GAAIvsC,KAAK2xI,YAAY1/H,MAAQjS,KAAK2xI,YAAY1/H,OAASjS,KAAKsyI,cAAe,CACzE,IAAIE,EAAWxyI,KAAKyyI,cACpBlmG,EAAM/7B,KAAKgiI,OACN,CACLjmG,EAAQ,GACR,IAAImmG,EAAU,GACd1yI,KAAK2yI,WAAW3yI,KAAK2xI,YAAae,GAClCnmG,EAAM/7B,KAAKxQ,KAAKyyI,eAChB,gBAAKC,GAAS,SAAUryI,EAAGiE,GACzBioC,EAAM/7B,KAAK,CACT7Q,IAAK+f,OAAOpb,EAAQ,GACpBoP,KAAMrT,EAAE4R,KACRwN,KAAMpf,OAGVksC,EAAM/7B,KAAK,CACT7Q,IAAK+f,OAAOgzH,EAAQjzI,OAAS,GAC7BiU,KAAM1T,KAAK2xI,YAAY1/H,KACvBwN,KAAMzf,KAAK2xI,cAIf,OAAOplG,GAGTklG,EAAqB7xI,UAAU+yI,WAAa,SAAUlzH,EAAMizH,GACtDjzH,EAAKzQ,SACH,kBAAOhP,KAAKmjC,MAAO1jB,EAAKzQ,OAAOiD,MACjCygI,EAAQliI,KAAKxQ,KAAKmjC,MAAM1jB,EAAKzQ,OAAOiD,OAEpCygI,EAAQliI,KAAKiP,EAAKzQ,QAGpBhP,KAAK2yI,WAAWlzH,EAAKzQ,OAAQ0jI,KAMjCjB,EAAqB7xI,UAAU2yI,cAAgB,WAC7C,IAAIrtI,EAAQlF,KAEZA,KAAK0O,UAAUV,GAAG,SAAS,SAAUqxC,GACnC,IAAIyjB,EAAezjB,EAAG//C,OAAO2d,IAAI,UAEjC,GAAI6lD,GAA8C,eAA9BA,EAAa7lD,IAAI,SAA2B,CAC9D,IAAIi7F,EAASp1C,EAAa7lD,IAAI,QAE9B,GAAIi7F,EAAOz4F,KACT,GAAIy4F,EAAOxkG,OAASxO,EAAMotI,cAAe,CAGnCptI,EAAM2sI,aAAe,IAFP,EAGhBX,GAAUhsI,EAAMysI,YAAY1/H,KAAM/M,EAAM6I,MAAM,WAC5C7I,EAAM0tI,WAAW16B,MAGnBhzG,EAAM0tI,WAAW16B,GAGnBhzG,EAAM2sI,aAAe,MAChB,IAAI3sI,EAAMysI,cAAgBz5B,EAAOz4F,KACtC,OAEA,IAAIozH,EAAgB,iBAAM3tI,EAAM2sI,cAChC3sI,EAAM2sI,aAAe99G,SAASmkF,EAAOv4G,KAEjCkzI,EAAgB,IAAM3tI,EAAM2sI,aAC9BX,GAAUhsI,EAAMysI,YAAY1/H,KAAM/M,EAAM6I,MAAM,WAC5C7I,EAAMmlB,OAAO6tF,EAAOz4F,SAGtBva,EAAMmlB,OAAO6tF,EAAOz4F,YAQhCgyH,EAAqB7xI,UAAU6yI,YAAc,WAC3C,IAAIK,EAAW9yI,KAAK4vC,KAAKrhC,QAAQkR,KAEjC,MAAO,CACL9f,IAAK,IACL+T,KAHa,kBAAOo/H,EAAU,QAAUA,EAAS7gI,KAAO,OAIxDwN,KAAMzf,KAAK4vC,KAAKkjG,WAIpBrB,EAAqB7xI,UAAUyyI,kBAAoB,WACjD,IAAI7sI,EAAKxF,KAAK4vC,KAAKrhC,QAGfwkI,EAAc,CAChBnrG,MAHepiC,EAAGm8E,WAIlBrzD,OAHW9oB,EAAGwQ,QAKhBhW,KAAKgzI,cAAgBD,GAGvBtB,EAAqB7xI,UAAU2lH,YAAc,SAAUjhH,GACrD,IAAIyJ,EAAO/N,KAAK+N,KAEhB,GAAI,kBAAO/N,KAAKonC,QAAS1nB,OAAOpb,IAAS,CAGvC,IAFI2uI,EAAa,iBAAMjzI,KAAKonC,QAAQ9iC,KAErBgqB,QAAU,sBAAW2kH,EAAW3kH,QAAS,CACtD,IAAIA,EAAS2kH,EAAW3kH,OAAOtuB,KAAKuuC,WAAYvuC,KAAK2xI,aACrDsB,EAAW3kH,OAASA,EAGtBtuB,KAAK+N,KAAKkP,IAAI,YAAY,GAAGhJ,MAAMg/H,EAAWrrG,MAAOqrG,EAAW3kH,YAC3D,CACL,IAAI2kH,EAAa,iBAAMjzI,KAAKgzI,eAC5BhzI,KAAK+N,KAAKkP,IAAI,YAAY,GAAGhJ,MAAMg/H,EAAWrrG,MAAOqrG,EAAW3kH,QAGlEvgB,EAAK4B,UAGP8hI,EAAqB7xI,UAAUwyI,aAAe,WAC5CpyI,KAAKqrH,SAAWrrH,KAAK+N,KAAKkP,IAAI,YAAY,GAC1C,IAAI05C,EAAY32D,KAAK+N,KAAKkP,IAAI,aAC1BvO,EAAY1O,KAAKqrH,SAASpuG,IAAI,aAC9BmoF,EAAS,IAAI,QAAK,CACpB/gF,MAAO,CACLzV,EAAG+nD,EAAUpuC,KACb1Z,EAAG8nD,EAAUluC,KACbjkB,MAAOmyD,EAAUnyD,MACjBsK,OAAQ6nD,EAAU7nD,UAGtBJ,EAAU0Z,KAAK,OAAQg9E,IAGzBqsC,EAAqB7xI,UAAUgzI,WAAa,SAAUnzH,GACpDzf,KAAK+N,KAAKwqE,WAAW94D,EAAKA,MAC1Bzf,KAAKulH,YAAY,GACjBvlH,KAAK2xI,YAAc3xI,KAAK4vC,KAAKrhC,QAAQkR,KACrCzf,KAAK2P,UAGA8hI,EAvPT,CAwPE,IAEa,MACf,GAAgBj/C,oBAAoB,YAAa,ICzR1C,IAAI,GAAkB,CAC3B0gD,UAAW,ICYb,UAASlqI,GAZa,CACpBmqI,YAAa,gBACbC,eAAgB,mBAChBC,gBAAiB,oBACjBC,iBAAkB,qBAClBC,iBAAkB,qBAClBC,gBAAiB,oBACjBC,cAAe,kBACfC,kBAAmB,sBACnBtzH,KAAM,qBCwCR,SAAS,GAAe1M,EAAMoB,EAAUtQ,GAqBtC,IApBA,IAQImvI,EARY,IAAI,QAAK,CACvBtvH,MAAO,CACL3Q,KAAM,MACN9E,EAAG,EACHC,EAAG,EACHiG,SAAUA,KAGYmU,UAAUzkB,MAChCslF,EAAS,IAAI,QAAK,CACpBzlE,MAAO,CACL3Q,KAAM,GACN9E,EAAG,EACHC,EAAG,EACHiG,SAAUA,KAGV1U,EAAI,GACJwzI,EAAkBpvI,EAAQmvI,EAErBp0I,EAAI,EAAGA,EAAImU,EAAKjU,OAAQF,IAAK,CACpC,IAAI+H,EAAOoM,EAAKnU,GAIhB,GAHAuqF,EAAO1hE,KAAK,OAAQhoB,GAAKkH,GACNwiF,EAAO7gE,UAAUzkB,OAEhBovI,EAAiB,CACnC,IAAIpiC,EAASpxG,EAAE2wB,OAAO,EAAG3wB,EAAEX,OAAS,GAEpC,GAAI+xG,EAAO/xG,OAAS,EAClB,OAAO+xG,EAAS,OAKtB,OAAOpxG,EAoHT6sE,GAAsB,eA/GtB,SAAUhoE,GAGR,SAAS4uI,IACP,OAAkB,OAAX5uI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAuG7D,OA1GA,qBAAU6zI,EAAe5uI,GAMzB4uI,EAAcj0I,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GACrD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IACI61B,EADW/rC,KAAKid,IAAI,kBACFA,IAAI,SAASA,IAAI,YACnClP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAC/B62H,EAAW9zI,KAAKid,IAAI,gBAAgB62H,SAExC,QAAO/nG,GAAQ,SAAU92B,EAAO3Q,GAC9B,IAAIgb,EAAIrK,EACJwK,EAAOxK,EAAMgI,IAAI,UACjBkxB,EAAS7uB,EAAErC,IAAI,UACf82H,EAxGV,SAAgBt0H,EAAMq0H,GACpB,OAAQr0H,EAAKnZ,UAAYmZ,EAAKmyH,OAASkC,EAuGlBE,CAAOv0H,EAAMq0H,GAE1BxgC,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAI1CklE,EAFQnuG,EAAM+uD,SAASq/C,EAASp9F,GAEd+S,UAEtB,IAAK8qH,GAAct0H,EAAK61G,UAAW,CACjC,IAAI1mH,EAAIykG,EAAUzkG,EAAIykG,EAAU7uG,MAAQ,EACpCqK,EAAIwkG,EAAUxkG,EAAI,EACtBoG,EAAMmT,KAAK,IAAKxZ,GAChBqG,EAAMmT,KAAK,IAAKvZ,GAChBoG,EAAMmT,KAAK,eAAgB,OAC3BnT,EAAMmT,KAAK,aAAc,KACzB,IAAIwhE,EAAeypB,EAAU7uG,MAAQyvI,EAErC,GAAIh/H,EAAMgU,UAAUzkB,MAAQolF,EAAc,CACxC,IAAIl2E,EAAO,GAAeuB,EAAMmT,KAAK,QAASnT,EAAMmT,KAAK,YAAawhE,GACtE30E,EAAMmT,KAAK,OAAQ1U,SAGrBxO,EAAMgvI,SAAS7gC,EAAWp+F,MAI9BlH,EAAKkP,IAAI,UAAUnN,QAGrB+jI,EAAcj0I,UAAUq0D,SAAW,SAAUq/C,EAASp9F,GACpD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGTu0I,EAAcj0I,UAAUs0I,SAAW,SAAUrpG,EAAM51B,GACjD,IAAIi3B,EAAYj3B,EAAMgU,UAElBkrH,EAAY,SAAQl/H,EAAMmT,KAAK,SAE/BgsH,EAA2C,IAA9Bn/H,EAAMgI,IAAI,UAAU20H,MAAc,EAAI,EACnD98H,EAAWoJ,KAAKyH,IAAI1Q,EAAMmT,KAAK,YAAcgsH,EA5JlC,GA6JXzrH,EAAUkiB,EAAKj8B,EAAIi8B,EAAKrmC,MAAQ,EAChCokB,EAAUiiB,EAAKh8B,EAAIg8B,EAAK/7B,OAAS,EACrCmG,EAAMmT,KAAK,CACTxZ,EAAG+Z,EACH9Z,EAAG+Z,EACHjV,UAAW,SACXC,aAAc,SACdsB,WAAYJ,EACZA,SAAUA,IAEZ,IAAI80E,EAAe/+C,EAAKrmC,MAAQyvI,EAEhC,GAAI/nG,EAAU1nC,MAAQqmC,EAAKrmC,OAAS0nC,EAAUp9B,OAAS+7B,EAAK/7B,OAC1DmG,EAAMmT,KAAK,OAAQ,SAEd,GAAIwhE,EAAe90E,EACxBG,EAAMmT,KAAK,OAAQ,SAIrB,GAAI8jB,EAAU1nC,MAAQqmC,EAAKrmC,MAAO,CAChC,IAAIwlF,EA5KV,SAAqB/0E,EAAOzQ,GAC1B,IAAIsQ,EAAWG,EAAMmT,KAAK,YACtByhE,EAAc50E,EAAMmT,KAAK,QACzB0hE,EAAS,IAAI,QAAK,CACpBzlE,MAAO,CACL3Q,KAAM,GACN9E,EAAG,EACHC,EAAG,EACHiG,SAAUA,KAIVi1E,EADUF,EAAYhmE,MAAM,MACHzf,KAAI,SAAU4lF,GAKzC,IAJA,IAAIt2E,EAAO,GACPu2E,EAAQD,EAAYnmE,MAAM,IAC1BqmE,EAAa,GAER3qF,EAAI,EAAGA,EAAI0qF,EAAMxqF,OAAQF,IAAK,CACrC,IAAI+H,EAAO2iF,EAAM1qF,GAIjB,GAHAuqF,EAAO1hE,KAAK,OAAQ1U,GAAQpM,GACTwiF,EAAO7gE,UAAUzkB,MAAQ,EAEzBA,EAAO,CAExB,GAAU,IAANjF,EACF,MAGF2qF,EAAW15E,KAAKjR,GAChBmU,EAAO,IAIX,OAAO01E,GAAUa,EAAOC,MAG1B,OADAJ,EAAO35E,SACA45E,EAAenmE,KAAK,MAwIL,CAAY3O,EAAO20E,GAOrC,GANA30E,EAAMmT,KAAK,CACTlT,WAAYD,EAAMmT,KAAK,YACvB1U,KAAMs2E,IAEO/0E,EAAMgU,UAERna,OAAS+7B,EAAK/7B,OAAQ,CACjC,IAAI4E,EAAO,GAAeygI,EAAWr/H,EAAU80E,GAC/C30E,EAAMmT,KAAK,OAAQ1U,MAKlBmgI,EA3GT,CA4GE,KC9LF,IAGI,GAEJ,SAAU5uI,GAGR,SAASovI,IACP,IAAInvI,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,OACNjB,EAwQT,OA9QA,qBAAUmvI,EAAcpvI,GASxBovI,EAAa1wC,kBAAoB,WAC/B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD8zI,SAAU,EACVjtI,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB0R,QAAS,CACPyE,SAAS,GAEX3F,OAAQ,CACN2F,SAAS,GAEX0gD,MAAO,CACL1gD,SAAS,GAEX4mF,MAAO,CACL5mF,SAAS,GAEX8iB,OAAQ,IACRC,OAAQ,IACR9qB,MAAO,CACL+H,SAAS,EACT+5C,gBAAgB,EAChBxyD,MAAO,CACLuO,OAAQ,gBACRJ,UAAW,EACXoC,SAAU,KAGdipF,KAAM,CACJnvF,EAAG,CACD0oB,MAAM,GAERzoB,EAAG,CACDyoB,MAAM,OAMd+8G,EAAaz0I,UAAUuP,WAAa,WAClC,IAAIjK,EAAQlF,KAERs4E,EAAet4E,KAAKuO,QAAQ+pE,aAE5BA,GACF,QAAOA,GAAc,SAAUyC,GACJ,cAArBA,EAAY50E,OACdjB,EAAMovI,aAAc,EACpBpvI,EAAMqJ,QAAQulI,SAAW,OAMjCO,EAAaz0I,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACrD,MAAO,WAGTkuI,EAAaz0I,UAAUqyI,eAAiB,SAAUxyH,EAAM45G,GACtD,IAAI1iE,EAAY32D,KAAKgkG,eACjB8qC,EAAOG,GAASxvH,EAAMk3C,EAAU/nD,EAAG+nD,EAAU9nD,EAAG8nD,EAAUnyD,MAAOmyD,EAAU7nD,QAC/E9O,KAAK6Q,UAAUi+H,EAAM,GACrB,IAAIyF,EAAc,GAOlB,OANAv0I,KAAKw0I,YAAY1F,EAAMyF,EAAalb,GACpCkb,EAAYx9G,MAAK,SAAU1Z,EAAGuC,GAC5B,OAAOvC,EAAEu0H,MAAQhyH,EAAEgyH,SAErB5xI,KAAKuO,QAAQuxB,OAAS,IACtB9/B,KAAKuO,QAAQwxB,OAAS,IACfw0G,GAGTF,EAAaz0I,UAAUqkG,YAAc,WACnC,OAAOjkG,KAAK8yI,UAGduB,EAAaz0I,UAAU60I,UAAY,WACjCxvI,EAAOrF,UAAUuP,WAAWrP,KAAKE,MAEjC,IAAIyf,EAAOzf,KAAKuO,QAAQkR,KACpB80H,EAAcv0I,KAAKiyI,eAAexyH,GACtCzf,KAAK8yI,SAAWyB,GAGlBF,EAAaz0I,UAAU0mB,MAAQ,aAE/B+tH,EAAaz0I,UAAUmkG,YAAc,WACnC,IAAI7+F,EAAQlF,KAERwF,EAAKxF,KAAKuO,QACVkR,EAAOja,EAAGia,KACVkiE,EAAan8E,EAAGm8E,WAChB1tE,EAAQzO,EAAGyO,MACXsgI,EAAcv0I,KAAKiyI,eAAexyH,GACtCzf,KAAK8yI,SAAWyB,EAChB,IAAIT,EAAW9zI,KAAKuO,QAAQulI,SAC5B9zI,KAAKya,KAAO,CACVtU,KAAM,UACNqQ,SAAU,CACRqgD,OAAQ,CAAC,IAAK,MAEhB5iD,MAAO,CACL4iD,OAAQ,CAAC8qB,GACTrzD,OAAQra,GAEV1P,MAAO,CACLsyD,OAAQ,CAAC,SACThvC,SAAU,SAAkBjJ,GAC1B,IAAImvE,EAAe,CACjBr7E,UAAW,EACXI,OAAQ,kBACRe,QAAS+K,EAAIk1H,GAWf,OARU,IAANl1H,IACFmvE,EAAe,CACbr7E,UAAW,EACXI,OAAQ,QACRe,QAAS+K,EAAIk1H,IAIV,WAAU,GAAI/lD,EAAc7oF,EAAMqJ,QAAQ+K,aAGrDrE,MAAOjV,KAAKw+G,eACZjmG,QAAS,CACPs+C,OAAQ,CAAC,OAAQ,WAGrB72D,KAAK2kG,UAAU,UAAW3kG,KAAKya,OAGjC45H,EAAaz0I,UAAUskG,kBAAoB,WACzC,IAAIh/F,EAAQlF,KAER00I,EAAiB10I,KAAKuO,QAAQ+pE,aAC9BA,EAAet4E,KAAK+N,KAAKkP,IAAI,gBAEjC,QAAOy3H,GAAgB,SAAUC,GAC/B,IAAIC,EAAM,GAAgBD,EAAMxuI,MAEhC,GAAIyuI,EAAK,CACP,IAAI75D,EAAc,IAAI65D,EAAI,WAAU,GAAI,CACtC7mI,KAAM7I,EAAM6I,KACZ6hC,KAAM1qC,EACN6xE,WAAY,iBACX49D,EAAMzlI,MACTopE,EAAaq8D,EAAMxuI,MAAQ40E,OAKjCs5D,EAAaz0I,UAAUorB,UAAY,WACjC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,MAE5BA,KAAKs0I,cACPt0I,KAAKya,KAAK+B,SAAU,IAIxB63H,EAAaz0I,UAAUiS,YAAc,SAAUC,GAC7C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1Cq0I,EAAaz0I,UAAU4+G,aAAe,WACpC,IAAIzjD,EAAe/6D,KAAKuO,QAAQ0G,MAEhC,QAAK8lD,EAAa/9C,SAINk1E,GAAa,QAAS,oBAAS,CACzC3kB,UAAW,eACX39B,KAAM5vC,KACNuW,KAAK,EACLsgD,OAAQ,CAAC,QACTi9E,SAAU9zI,KAAKuO,QAAQulI,UACtB/4E,KAILs5E,EAAaz0I,UAAUiR,UAAY,SAAUm0D,EAAM4sE,GACjD,IAAI1sI,EAAQlF,KAER2hF,EAAa3hF,KAAKuO,QAAQozE,WAE9B,QAAO3c,GAAM,SAAU9rD,GACrB,QAAOA,EAAE5S,UAAU,SAAU+Y,GAY3B,GAXAA,EAAEuyH,MAAQA,EACNA,EAAQ,IAAGvyH,EAAErQ,OAASkK,GAErB,UAASmG,EAAGsiE,KACftiE,EAAEsiE,GAAczoE,EAAEyoE,IAGpBtiE,EAAEi2G,WAAY,GAEHpwH,EAAM8uI,OAAO30H,GAEb,CACT,IAAIw1H,EAAe32H,KAAKsE,IAAInD,EAAEgC,GAAKhC,EAAEk1D,IAEjCr9D,EAAchS,EAAM2tH,iBAEpBiiB,EAAoBD,EAAe,EAAI39H,EAAcA,EA1NhD,EA2NTmI,EAAEi2G,UA3NO,IA2NKwf,EACd,IAAIC,EAAS9F,GAAS5vH,EAAGA,EAAEu/G,GA5NlB,EA4NqCv/G,EAAEk1D,GAAKugE,EAAmBz1H,EAAE+B,GA5NjE,EA4NoF/B,EAAEgC,GA5NtF,GA8NTnc,EAAM8vI,eAAeD,EAAQpzD,EAAYtiE,EAAEsiE,IAE3Cz8E,EAAM2L,UAAUkkI,EAAQ11H,EAAEuyH,MAAQ,WAM1CyC,EAAaz0I,UAAU40I,YAAc,SAAU/0H,EAAMksF,EAAO0tB,GAC1D,IAAIn0H,EAAQlF,KAER2lB,EAAM0zG,GAAgBr5H,KAAKuO,QAAQulI,SACnCn9E,EAAY32D,KAAKgkG,eAErB,QAAOvkF,GAAM,SAAUb,GACjB,UAASA,EAAG,OAASA,EAAEgzH,OAASjsH,GAClCgmF,EAAMn7F,KAAK,oBAAS,oBAAS,GAAIoO,GAAI,CACnChQ,EAAG,CAACgQ,EAAEggH,GAAIhgH,EAAEwC,GAAIxC,EAAEwC,GAAIxC,EAAEggH,IACxB/vH,EAAG,CAAC8nD,EAAU7nD,OAAS8P,EAAEyC,GAAIs1C,EAAU7nD,OAAS8P,EAAEyC,GAAIs1C,EAAU7nD,OAAS8P,EAAE21D,GAAI5d,EAAU7nD,OAAS8P,EAAE21D,OAIpG,UAAS31D,EAAG,aACd1Z,EAAMsvI,YAAY51H,EAAEtY,SAAUqlG,OAKpC0oC,EAAaz0I,UAAUo1I,eAAiB,SAAUhwE,EAAMiwE,EAAWr0I,GACjE,QAAOokE,GAAM,SAAU9rD,GAChB,UAASA,EAAG+7H,KACf/7H,EAAE+7H,GAAar0I,OAKrByzI,EAAaz0I,UAAUizH,eAAiB,WACtC,IAAI59G,EAAQjV,KAAKuO,QAAQ0G,MACrBH,EAAW9U,KAAKqS,WAAW4C,MAAMJ,UAAUC,SAC3C5O,EAAO,EAEX,GAAI+O,GAASA,EAAM+H,QAAS,CAC1B,IAAIyuG,EAAax2G,EAAM1Q,MACvB2B,EAAOulH,GAAcA,EAAW32G,SAAW22G,EAAW32G,SAAWA,EAGnE,OAAO5O,EAAOgvI,GAGhBb,EAAaz0I,UAAUo0I,OAAS,SAAUv0H,GACxC,OAAQA,EAAKnZ,UAAqC,IAAzBmZ,EAAKnZ,SAAS7G,QAGlC40I,EA/QT,CAgRE,IAEa,MACfptC,GAAiB,UAAW,KC1R5B,SAAUhiG,GAGR,SAASkwI,IACP,OAAkB,OAAXlwI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUm1I,EAASlwI,GAMnBkwI,EAAQv1I,UAAU0nG,aAAe,SAAU7mG,GACzC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,UAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Ck8B,EAAQxxC,kBAAoB,GAAaA,kBAf3C,CAiBE,IAnBF,ICAI,GAEJ,SAAU1+F,GAGR,SAASmwI,IACP,IAAIlwI,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,YAENjB,EAST,OAhBA,qBAAUkwI,EAAenwI,GAUzBmwI,EAAczxC,kBAAoB,WAChC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDu7B,KAAM,QAIH65G,EAjBT,CAkBE,IAGFnuC,GAAiB,YAAa,KCrB9B,SAAUhiG,GAGR,SAASowI,IACP,OAAkB,OAAXpwI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUq1I,EAAUpwI,GAWpBowI,EAASz1I,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,YAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3Co8B,EAAS1xC,kBAAoB,GAAcA,kBApB7C,CAsBE,IAxBF,I,UC6De,GAvDf,SAAU1+F,GAGR,SAASqwI,EAAkBpmI,GACzB,IAEI2pE,EAAS,WAAU,GAAI,CACzBvsC,QAAS,kLACRp9B,GAGH,OADQjK,EAAOnF,KAAKE,KAAM64E,IAAW74E,KA0CvC,OAnDA,qBAAUs1I,EAAmBrwI,GAa7BqwI,EAAkB11I,UAAUwQ,KAAO,WACjC,IAAI1B,EAAY1O,KAAKid,IAAI,aACzBvO,EAAUnK,MAAM6J,WAAa,UAC7BM,EAAUnK,MAAM6T,QAAU,QAC1B,IAAI+5B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe/hC,OAGjB,IAAIo/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYp/B,OAGdpQ,KAAKqQ,IAAI,WAAW,IAGtBilI,EAAkB11I,UAAU0Q,KAAO,WACjC,IAAI5B,EAAY1O,KAAKid,IAAI,aACzBvO,EAAUnK,MAAM6J,WAAa,SAC7BM,EAAUnK,MAAM6T,QAAU,OAC1B,IAAI+5B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe7hC,OAGjB,IAAIk/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYl/B,OAGdtQ,KAAKqQ,IAAI,WAAW,IAGfilI,EApDT,C,QAqDE,GCnDG73D,OAAO83D,eACV93D,OAAO83D,aACE93D,OAAO+3D,gBAAkB/3D,OAAOg4D,oBAAsBh4D,OAAOi4D,iBAAmBj4D,OAAOk4D,eAAiB,WAC7G,IAAKl4D,OAAOm4D,cAAgBn4D,OAAO7a,iBACjC,OAAO,KAGT,IAAIizE,EAAY,MAAC/uI,GACbgvI,EAAU,uBAyCd,OA9BAr4D,OAAO7a,iBAAiB,WAAW,SAA+BmzE,GAGhE,GAAwB,kBAAbA,EAAIt2H,MAAqBs2H,EAAIt2H,KAAKsR,OAAO,EAAG+kH,EAAQr2I,UAAYq2I,EAA3E,CAOAC,EAAIC,2BACJ,IAAIrnI,EAAKolB,SAASgiH,EAAIt2H,KAAKsR,OAAO+kH,EAAQr2I,QAAS,IAE9Co2I,EAAUlnI,KAIfknI,EAAUlnI,KACVknI,EAAUlnI,QAAM7H,OACf,GAGH22E,OAAOw4D,eAAiB,SAA0BtnI,GAC3CknI,EAAUlnI,KAIfknI,EAAUlnI,QAAM7H,IAlCG,SAAwB+gB,GAC3C,IAAIlZ,EAAKknI,EAAUp2I,OAGnB,OAFAo2I,EAAUrlI,KAAKqX,GACf41D,OAAOm4D,YAAYE,EAAUnnI,EAAGpL,SAAS,IAAK,KACvCoL,GAdoG,IAiD/G,SAA8B+rE,GAC5B+C,OAAOpc,WAAWqZ,EAAI,KAKvB+C,OAAOw4D,iBACVx4D,OAAOw4D,eACEx4D,OAAOy4D,kBAAoBz4D,OAAO04D,sBAAwB14D,OAAO24D,mBAAqB34D,OAAO44D,iBAEpG,SAAgCz4D,GAC9BH,OAAOtc,aAAayc,KAM1B,IAAI04D,GAAc,WAChB,IAAIvnI,EAASujC,SAASgwC,cAAc,UAEpC,IAAKvzE,IAAWA,EAAO0zE,WACrB,OAAO,EAGT,IAAID,EAAMzzE,EAAO0zE,WAAW,MAE5B,QAAKD,EAAIgB,iBAIJhB,EAAI+zD,aAIJ/4H,MAAM5d,UAAUsvC,QAIhB1xB,MAAM5d,UAAU4Q,OArBL,GA8BdgmI,GAAc,WAChB,GAAKF,GAAL,CAUA,IANA,IAIIG,EAAUC,EAJVl0D,EAAMlwC,SAASgwC,cAAc,UAAUG,WAAW,MAElDv8E,EAAO,GAIJA,GAAM,CAGX,GAFAs8E,EAAIgtC,KAAOtpH,EAAK3C,SAAS,IAAM,gBAE3Bi/E,EAAIktC,YAAY,UAAUlrH,QAAUiyI,GAAYj0D,EAAIktC,YAAY,KAAKlrH,QAAUkyI,EACjF,OAAOxwI,EAAO,EAGhBuwI,EAAWj0D,EAAIktC,YAAY,UAAUlrH,MACrCkyI,EAASl0D,EAAIktC,YAAY,KAAKlrH,MAC9B0B,IAGF,OAAO,GAvBS,GA2BdywI,GAAe,SAAsB/lH,GACvC,IAAK,IAAI9P,EAAGlS,EAAGrP,EAAIqxB,EAAInxB,OAAQF,EAAGuhB,EAAI5C,KAAK2V,MAAM3V,KAAKskB,SAAWjjC,GAAIqP,EAAIgiB,IAAMrxB,GAAIqxB,EAAIrxB,GAAKqxB,EAAI9P,GAAI8P,EAAI9P,GAAKlS,GAE7G,OAAOgiB,GAGL,GAAY,SAAmBvD,EAAU9e,GAC3C,GAAK+nI,GAAL,CAIK94H,MAAMilH,QAAQp1G,KACjBA,EAAW,CAACA,IAGdA,EAASnlB,SAAQ,SAAUikD,EAAI5sD,GAC7B,GAAkB,kBAAP4sD,GAGT,GAFA9+B,EAAS9tB,GAAK+yC,SAASC,eAAe4Z,IAEjC9+B,EAAS9tB,GACZ,KAAM,8CAEH,IAAK4sD,EAAGlf,UAAYkf,EAAG9d,YAC5B,KAAM,8DAKV,IAAIuoG,EAAW,CACbn3H,KAAM,GACN1K,WAAY,sHACZ43C,WAAY,SACZ14C,MAAO,cACPuiI,YAAaA,GACbK,YAAa,GACbC,aAAa,EACbn+H,gBAAiB,OACjB+yH,SAAU,EACVqL,gBAAgB,EAChB5oG,OAAQ,KACR6oG,UAAU,EACVC,UAAW,oBACXC,aAAc,GACdC,KAAM,EACNC,eAAgB,EAChBC,MAAO,aACPC,aAAcp5H,KAAKK,GAAK,EACxBg5H,YAAar5H,KAAKK,GAAK,EACvBi5H,YAAa,GACbC,cAAe,EACfC,SAAS,EACTx9H,MAAO,SACPy9H,YAAa,EACbv9H,QAAQ,EACRw9H,YAAY,EACZ1lE,UAAW,EACX99D,YAAa,OACbD,WAAY,GACZ0jI,QAAS,KACTC,iBAAkB,KAClBC,iBAAkB,MAEhBC,EAAmB,GAEvB,GAAIzpI,EACF,IAAK,IAAI5O,KAAO4O,EACd,GAAY,cAAR5O,EACF,IAAK,IAAIs4I,KAAW1pI,EAAQ5O,GACtBs4I,KAAWrB,IACbA,EAASqB,GAAW1pI,EAAQ5O,GAAKs4I,SAIjCt4I,KAAOi3I,IACTA,EAASj3I,GAAO4O,EAAQ5O,IAWhC,GALIi3I,EAASJ,YAAcA,KAEzBI,EAASJ,YAAcA,IAGrBI,EAASJ,YAAcI,EAASC,YAClCvpF,QAAQpwB,MAAM,wCADhB,CAOA,IAFA,IAAIg7G,EAAY,EAEP34I,EAAI,EAAGA,EAAIq3I,EAASn3H,KAAKhgB,OAAQF,IACpC24I,EAAYtB,EAASn3H,KAAKlgB,GAAG44I,SAC/BD,EAAYtB,EAASn3H,KAAKlgB,GAAG44I,QAIjC,IAIIC,GAAa,EAGjB,GAA8B,oBAAnBxB,EAAS18H,MAClB,OAAQ08H,EAAS18H,OACf,IAAK,SAGL,QAEE08H,EAAS18H,MAAQ,SACjB,MAEF,IAAK,WAEH08H,EAAS18H,MAAQ,SAAuB+D,GACtC,OAAO,EAAIC,KAAKkE,IAAInE,IAGtBm6H,GAAa,EACb,MAWF,IAAK,UACHxB,EAAS18H,MAAQ,SAAqB+D,GACpC,IAAIo6H,EAAap6H,GAAS,EAAIC,KAAKK,GAAK,GACxC,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAcn6H,KAAKkE,IAAIi2H,KAG9C,MAEF,IAAK,SAIHzB,EAAS18H,MAAQ,SAAqB+D,GACpC,IAAIo6H,GAAcp6H,EAAQC,KAAKK,GAAK,IAAM,EAAIL,KAAKK,GAAK,GACxD,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAcn6H,KAAKkE,IAAIi2H,KAG9C,MAEF,IAAK,mBAIHzB,EAAS18H,MAAQ,SAAuB+D,GACtC,IAAIo6H,EAAap6H,GAAS,EAAIC,KAAKK,GAAK,GACxC,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAcn6H,KAAKmE,KAAK,GAAKnE,KAAKkE,IAAIi2H,KAG7D,MAEF,IAAK,oBACHzB,EAAS18H,MAAQ,SAAuB+D,GACtC,IAAIo6H,GAAcp6H,EAAQC,KAAKK,KAAO,EAAIL,KAAKK,GAAK,GACpD,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAcn6H,KAAKmE,KAAK,GAAKnE,KAAKkE,IAAIi2H,KAG7D,MAEF,IAAK,WACL,IAAK,cACHzB,EAAS18H,MAAQ,SAAuB+D,GACtC,IAAIo6H,GAAcp6H,EAAkB,EAAVC,KAAKK,GAAS,IAAM,EAAIL,KAAKK,GAAK,GAC5D,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAcn6H,KAAKmE,KAAK,GAAKnE,KAAKkE,IAAIi2H,KAG7D,MAEF,IAAK,gBACHzB,EAAS18H,MAAQ,SAAuB+D,GACtC,IAAIo6H,GAAcp6H,EAAkB,EAAVC,KAAKK,GAAS,IAAM,EAAIL,KAAKK,GAAK,GAC5D,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAcn6H,KAAKmE,KAAK,GAAKnE,KAAKkE,IAAIi2H,KAG7D,MAEF,IAAK,WACHzB,EAAS18H,MAAQ,SAAuB+D,GACtC,IAAIo6H,GAAcp6H,EAAQ,OAAU,EAAIC,KAAKK,GAAK,GAClD,OAAO,GAAKL,KAAKiE,IAAIk2H,GAAc,QAAWn6H,KAAKkE,IAAIi2H,KAGzD,MAEF,IAAK,OACHzB,EAAS18H,MAAQ,SAAmB+D,GAClC,IAAIo6H,GAAcp6H,EAAQ,OAAU,EAAIC,KAAKK,GAAK,IAElD,OAAKN,EAAQ,OAAU,EAAIC,KAAKK,GAAK,GAAK,EAAIL,KAAKK,GAAK,IAAM,EACrD,GAAKL,KAAKiE,IAAI,EAAIjE,KAAKK,GAAK,GAAK85H,GAAc,QAAUn6H,KAAKkE,IAAI,EAAIlE,KAAKK,GAAK,GAAK85H,IAErF,GAAKn6H,KAAKiE,IAAIk2H,GAAc,QAAUn6H,KAAKkE,IAAIi2H,KAUhEzB,EAASlL,SAAWxtH,KAAKyH,IAAIzH,KAAK2V,MAAM+iH,EAASlL,UAAW,GAG5D,IASIr2H,EACJijI,EAAKC,EACL5xH,EACA+e,EAGI8yG,EAGAhtB,EAlBA7vF,EAAIi7G,EAASlL,SACb+M,EAAgB98G,EAAIi7G,EAASM,aAG7BwB,EAAgBx6H,KAAKsE,IAAIo0H,EAASW,YAAcX,EAASU,aACzDA,EAAcp5H,KAAKuR,IAAImnH,EAASW,YAAaX,EAASU,aACtDG,EAAgBb,EAASa,cAkB7B,OAAQb,EAAS3iI,OACf,IAAK,cACHu3G,EAAe,WACb,OAAOmtB,EAAiB,GAAI,KAG9B,MAEF,IAAK,eACHntB,EAAe,WACb,OAAOmtB,EAAiB,GAAI,KAG9B,MAEF,QACgC,oBAAnB/B,EAAS3iI,QAClBu3G,EAAeorB,EAAS3iI,OAQ9B,IAAI2kI,EAAiB,KAEW,oBAArBhC,EAASiB,UAClBe,EAAiBhC,EAASiB,SAK5B,IAEIgB,EAFA5iD,GAAc,EACd6iD,EAAW,GAGXC,EAAiC,SAAwChD,GAC3E,IAEIt5F,EACAC,EAHA3tC,EAASgnI,EAAIj5F,cACbriC,EAAO1L,EAAO+kF,wBAKdiiD,EAAIiD,SACNv8F,EAAUs5F,EAAIiD,QAAQ,GAAGv8F,QACzBC,EAAUq5F,EAAIiD,QAAQ,GAAGt8F,UAEzBD,EAAUs5F,EAAIt5F,QACdC,EAAUq5F,EAAIr5F,SAGhB,IAAIu8F,EAASx8F,EAAUhiC,EAAK/D,KACxBwiI,EAASx8F,EAAUjiC,EAAKlE,IACxB3H,EAAIsP,KAAK2V,MAAMolH,GAAUlqI,EAAOvK,MAAQiW,EAAKjW,OAAS,GAAKm3B,GAC3D9sB,EAAIqP,KAAK2V,MAAMqlH,GAAUnqI,EAAOD,OAAS2L,EAAK3L,QAAU,GAAK6sB,GACjE,OAAOm9G,GAAYA,EAASlqI,IAAMkqI,EAASlqI,GAAGC,IAG5CsqI,EAAqB,SAA4B7xI,EAAM8xI,EAAWrD,EAAK7kI,GAEvEA,EADE5J,EACIA,EAAKqH,IAEJ,IAIP0qI,EAAiB,SAAwBtD,GAC3C,IAAIlgH,EAAOkjH,EAA+BhD,GAE1C,GAAI8C,IAAYhjH,EAAhB,CAIA,IAAKA,EAOH,OANA+gH,EAASkB,sBAAiBhxI,OAAWA,EAAWivI,EAAK7kI,QAEjD0lI,EAASx8H,QACX++H,OAAmBryI,EAAWA,EAAWivI,EAAK7kI,IAMlD0lI,EAASkB,iBAAiBjiH,EAAKvuB,KAAMuuB,EAAKujH,UAAWrD,EAAK7kI,GAEtD0lI,EAASx8H,QACX++H,EAAmBtjH,EAAKvuB,KAAMuuB,EAAKujH,UAAWrD,EAAK7kI,GAGrD2nI,EAAUhjH,IAGRyjH,EAAiB,SAAwBvD,GAC3C,IAAIlgH,EAAOkjH,EAA+BhD,GAErClgH,IAIL+gH,EAASmB,iBAAiBliH,EAAKvuB,KAAMuuB,EAAKujH,UAAWrD,GACrDA,EAAIt2F,mBAKF85F,EAAiB,GAEjBC,EAAoB,SAA2BhmI,GACjD,GAAI+lI,EAAe/lI,GACjB,OAAO+lI,EAAe/lI,GAIxB,IAAI4R,EAAa,EAAT5R,EAEJpT,EAAIglB,EACJkD,EAAS,GAMb,IAJe,IAAX9U,GACF8U,EAAO9X,KAAK,CAACmW,EAAO,GAAIA,EAAO,GAAI,IAG9BvmB,KAAK,CAEV,IAAIkhB,EAAK,EAEc,WAAnBs1H,EAAS18H,QACXoH,EAAKs1H,EAAS18H,MAAM9Z,EAAIglB,EAAI,EAAIlH,KAAKK,KAIvC+J,EAAO9X,KAAK,CAACmW,EAAO,GAAKnT,EAAS8N,EAAKpD,KAAKiE,KAAK/hB,EAAIglB,EAAI,EAAIlH,KAAKK,IAAKoI,EAAO,GAAKnT,EAAS8N,EAAKpD,KAAKkE,KAAKhiB,EAAIglB,EAAI,EAAIlH,KAAKK,IAAMq4H,EAASe,YAAav3I,EAAIglB,EAAI,EAAIlH,KAAKK,KAI3K,OADAg7H,EAAe/lI,GAAU8U,EAClBA,GAKLmxH,EAAa,WACf,OAAO7C,EAASQ,eAAiB,IAAK,IAAI9zI,MAAO6xB,UAAYqjH,EAAa5B,EAASQ,gBA2BjFsC,EAAc,SAAqBlpH,EAAM2nH,EAAQwB,GAInD,IACI7kI,EA5TgB,SAAyBqjI,GAC7C,OAAOj6H,KAAKuR,IAAIvR,KAAKyH,IAAIixH,EAASJ,YAAaI,EAASC,YAAcsB,EAASD,GAAYtB,EAASC,aA2TrF+C,CAAgBzB,GAE/B,GAAIrjI,GAAY,EACd,OAAO,EAMT,IAAI+kI,EAAK,EAEL/kI,EAAW0hI,KACbqD,EAAK,WAGH,IAFA,IAAIA,EAAK,EAEFA,EAAK/kI,EAAW0hI,IACrBqD,GAAM,EAGR,OAAOA,EAPJ,IAWP,IAAIC,EAAUxnG,SAASgwC,cAAc,UACjCy3D,EAAOD,EAAQr3D,WAAW,KAAM,CAClCu3D,oBAAoB,IAEtBD,EAAKvqB,KAAOonB,EAASjqF,WAAa,KAAO73C,EAAW+kI,GAAIt2I,SAAS,IAAM,MAAQqzI,EAAS7hI,WAExF,IAAIklI,EAAKF,EAAKrqB,YAAYl/F,GAAMhsB,MAAQq1I,EACpCK,EAAKh8H,KAAKyH,IAAI7Q,EAAW+kI,EAAIE,EAAKrqB,YAAY,KAAKlrH,MAAOu1I,EAAKrqB,YAAY,UAAUlrH,OAASq1I,EAG9FM,EAAWF,EAAU,EAALC,EAChBE,EAAiB,EAALF,EACZG,EAAMn8H,KAAKmd,KAAK8+G,EAAWx+G,GAC3B2+G,EAAMp8H,KAAKmd,KAAK++G,EAAYz+G,GAChCw+G,EAAWE,EAAM1+G,EACjBy+G,EAAYE,EAAM3+G,EAIlB,IAqCI4+G,EArCAC,GAAmBP,EAAK,EAIxBQ,EAAwB,IAALP,EAEnBQ,EAAMx8H,KAAKmd,MAAM8+G,EAAWj8H,KAAKsE,IAAItE,KAAKkE,IAAIu3H,IAAcS,EAAYl8H,KAAKsE,IAAItE,KAAKiE,IAAIw3H,KAAeh+G,GACzGg/G,EAAMz8H,KAAKmd,MAAM8+G,EAAWj8H,KAAKsE,IAAItE,KAAKiE,IAAIw3H,IAAcS,EAAYl8H,KAAKsE,IAAItE,KAAKkE,IAAIu3H,KAAeh+G,GACzGn3B,EAAQm2I,EAAMh/G,EACd7sB,EAAS4rI,EAAM/+G,EACnBm+G,EAAQjxF,aAAa,QAASrkD,GAC9Bs1I,EAAQjxF,aAAa,SAAU/5C,GAU/BirI,EAAKpsH,MAAM,EAAIksH,EAAI,EAAIA,GACvBE,EAAKprH,UAAUnqB,EAAQq1I,EAAK,EAAG/qI,EAAS+qI,EAAK,GAC7CE,EAAK73H,QAAQy3H,GAGbI,EAAKvqB,KAAOonB,EAASjqF,WAAa,KAAO73C,EAAW+kI,GAAIt2I,SAAS,IAAM,MAAQqzI,EAAS7hI,WAOxFglI,EAAK7lI,UAAY,OACjB6lI,EAAKnmI,aAAe,SACpBmmI,EAAKxD,SAAS/lH,EAAMgqH,EAAkBX,GAAKY,EAA6B,GAAX3lI,GAAkB+kI,GAI/E,IACEU,EAAYR,EAAKv2D,aAAa,EAAG,EAAGh/E,EAAOsK,GAAQ2Q,KACnD,MAAOtf,GAEP,OAAO,EAGT,GAAIs5I,IACF,OAAO,EAiBT,IAPA,IAEImB,EACAhsI,EACAC,EAJAgsI,EAAW,GACXC,EAAKH,EAILI,EAAS,CAACL,EAAM,EAAGC,EAAM,EAAGD,EAAM,EAAGC,EAAM,GAExCG,KAGL,IAFAF,EAAKF,EAEEE,KAAM,CACX/rI,EAAI8sB,EAEJq/G,EAAgB,CACd,KAAOnsI,KAGL,IAFAD,EAAI+sB,EAEG/sB,KACL,GAAI2rI,EAAkD,IAAtCK,EAAKj/G,EAAI9sB,GAAKrK,GAASs2I,EAAKn/G,EAAI/sB,IAAU,GAAI,CAC5DisI,EAASrqI,KAAK,CAACsqI,EAAIF,IAEfE,EAAKC,EAAO,KACdA,EAAO,GAAKD,GAGVA,EAAKC,EAAO,KACdA,EAAO,GAAKD,GAGVF,EAAKG,EAAO,KACdA,EAAO,GAAKH,GAGVA,EAAKG,EAAO,KACdA,EAAO,GAAKH,GAQd,MAAMI,EA9IN,GAkKZ,MAAO,CACLnB,GAAIA,EACJgB,SAAUA,EACVE,OAAQA,EACRE,GAAIN,EACJO,GAAIR,EACJF,gBAAiBA,EACjBC,gBAAiBA,EACjBU,cAAelB,EACfmB,eAAgBlB,EAChBplI,SAAUA,IAiCVg4C,EAAW,SAAkBguF,EAAIF,EAAI/kH,EAAMrF,EAAM2nH,EAAQ1mF,EAAUxzC,EAAO07H,EAAW0B,EAAY1sI,EAAI2sI,GACvG,IAAIxmI,EAAW+gB,EAAK/gB,SAChBb,EAAQ2iI,EAAS3iI,MACjB4jI,EAAUjB,EAASiB,QAEvB,GAAKyD,EAYE,CACL,IAAIp8C,EAAOq8C,EAAuB5sI,GAClCsF,EAAQirF,EAAOA,EAAKjrF,MAAQ2iI,EAAS3iI,WAZnCA,EADEu3G,EACMA,EAAah7F,EAAM2nH,EAAQrjI,EAAU28C,EAAUxzC,GAE/C24H,EAAS3iI,MAIjB4jI,EADEe,EACQA,EAAepoH,EAAM2nH,EAAQrjI,EAAU28C,EAAUxzC,GAEjD24H,EAASiB,QAQvB,IAAIkD,EAASllH,EAAKklH,OAEPA,EAAO,GACPA,EAAO,GACZA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKA,EAAO,GAEzB1tH,EAASnlB,SAAQ,SAAUikD,GACzB,GAAIA,EAAGs2B,WAAY,CACjB,IAAID,EAAMr2B,EAAGs2B,WAAW,MACpBo3D,EAAKhkH,EAAKgkH,GAEdr3D,EAAIg5D,OACJ,IAAIhsB,EAAOonB,EAASjqF,WAAa,KAAO73C,EAAW+kI,GAAIt2I,SAAS,IAAM,MAAQqzI,EAAS7hI,WACvFytE,EAAI70D,MAAM,EAAIksH,EAAI,EAAIA,GACtBr3D,EAAIgtC,KAAOA,EACXhtC,EAAItuE,UAAYD,EAGhB,IAAIwnI,GAAUX,EAAKjlH,EAAKolH,GAAK,GAAKt/G,EAAIk+G,EAClC6B,GAAUd,EAAK/kH,EAAKqlH,GAAK,GAAKv/G,EAAIk+G,EACtCr3D,EAAI7zD,UAAU8sH,EAAQC,GAEJ,IAAd/B,GACFn3D,EAAItgE,QAAQy3H,GASdn3D,EAAI5uE,aAAe,SAEfgjI,EAAS1kE,WAAavjE,IACxB6zE,EAAIpuE,YAAcwiI,EAASxiI,YAC3BouE,EAAIruE,WAAayiI,EAASziI,YAG5BquE,EAAI+zD,SAAS/lH,EAAMqF,EAAK2kH,gBAAkBX,GAAKhkH,EAAK4kH,gBAA6B,GAAX3lI,GAAkB+kI,GAInFyB,GACHtD,EAAiBxnI,KAAK,CACpBsqI,GAAIA,EACJF,GAAIA,EACJ/kH,KAAMA,EACNrF,KAAMA,EACN2nH,OAAQA,EACR1mF,SAAUA,EACVxzC,MAAOA,EACP07H,UAAWA,EACX0B,WAAYA,EACZ1sI,GAAIA,EACJsF,MAAOA,IAKXuuE,EAAIm5D,cACC,CAEL,IAAI10I,EAAOqrC,SAASgwC,cAAc,QAC9Bs5D,EAAgB,GACpBA,EAAgB,WAAajC,EAAYz7H,KAAKK,GAAK,IAAM,QAEzC,IAAZsX,EAAKgkH,KACP+B,GAAiB,eAAiB/lH,EAAKslH,cAAgB,EAAtC,aAA8D,EAAItlH,EAAKgkH,GAAK,KAG/F,IAAIgC,EAAa,CACfrlI,SAAU,WACV4B,QAAS,QACTo3G,KAAMonB,EAASjqF,WAAa,IAAM73C,EAAW+gB,EAAKgkH,GAAK,MAAQjD,EAAS7hI,WACxE2B,MAAOokI,EAAKjlH,EAAKolH,GAAK,GAAKt/G,EAAI9F,EAAK2kH,gBAAkB,KACtDjkI,KAAMqkI,EAAK/kH,EAAKqlH,GAAK,GAAKv/G,EAAI9F,EAAK4kH,gBAAkB,KACrDj2I,MAAOqxB,EAAKslH,cAAgB,KAC5BrsI,OAAQ+mB,EAAKulH,eAAiB,KAC9BlmI,WAAYJ,EAAW,KACvBgnI,WAAY,SACZjsI,UAAW+rI,EACXG,gBAAiBH,EACjBI,YAAaJ,EACbK,gBAAiB,UACjBC,sBAAuB,UACvBC,kBAAmB,WASrB,IAAK,IAAIC,KANLnoI,IACF4nI,EAAW5nI,MAAQA,GAGrBhN,EAAK4iF,YAAcr5D,EAECqrH,EAClB50I,EAAK1C,MAAM63I,GAAWP,EAAWO,GAGnC,GAAIf,EACF,IAAK,IAAIgB,KAAahB,EACpBp0I,EAAK4hD,aAAawzF,EAAWhB,EAAWgB,IAIxCxE,IACF5wI,EAAKjG,WAAa62I,GAGpB1rF,EAAG9d,YAAYpnC,QAOjBq1I,EAAa,SAAoB1tI,EAAGC,EAAGmoI,EAAUoC,EAAW9xI,GAC9D,KAAIsH,GAAK0pI,GAAOzpI,GAAK0pI,GAAO3pI,EAAI,GAAKC,EAAI,GAAzC,CAMA,GAFAwG,EAAKzG,GAAGC,IAAK,EAETmoI,EACQ3pH,EAAS,GAAGo1D,WAAW,MAC7B85D,SAAS3tI,EAAI+sB,EAAG9sB,EAAI8sB,EAAG88G,EAAeA,GAGxCxiD,IACF6iD,EAASlqI,GAAGC,GAAK,CACfvH,KAAMA,EACN8xI,UAAWA,MAwDboD,EAAsB,SAA6BC,EAAK5mH,EAAMrF,EAAM2nH,EAAQ1mF,EAAUkoF,EAAW0B,EAAY1sI,GAC/G,IAAImsI,EAAK58H,KAAK2V,MAAM4oH,EAAI,GAAK5mH,EAAKolH,GAAK,GACnCL,EAAK18H,KAAK2V,MAAM4oH,EAAI,GAAK5mH,EAAKqlH,GAAK,GAC9BrlH,EAAKolH,GACLplH,EAAKqlH,GAGd,QArPe,SAAoBJ,EAAIF,EAAIK,EAAIC,EAAIL,GAKnD,IAFA,IAAIt7I,EAAIs7I,EAASp7I,OAEVF,KAAK,CACV,IAAI4hH,EAAK25B,EAAKD,EAASt7I,GAAG,GACtBm9I,EAAK9B,EAAKC,EAASt7I,GAAG,GAE1B,GAAI4hH,GAAMm3B,GAAOoE,GAAMnE,GAAOp3B,EAAK,GAAKu7B,EAAK,GAC3C,IAAK9F,EAASG,eACZ,OAAO,OAMX,IAAK1hI,EAAK8rG,GAAIu7B,GACZ,OAAO,EAIX,OAAO,EA+NFC,CAAW7B,EAAIF,EAAIK,EAAIC,EAAIrlH,EAAKglH,YAKrC/tF,EAASguF,EAAIF,EAAI/kH,EAAMrF,EAAM2nH,EAAQ1mF,EAAUgrF,EAAI,GAAI9C,EAAW0B,EAAY1sI,GAAI,GA5DnE,SAAoBmsI,EAAIF,EAAIK,EAAIC,EAAIrlH,GACnD,IAEI2sD,EAQA42D,EAVAyB,EAAWhlH,EAAKglH,SAChB7D,EAAWJ,EAASI,SAWxB,GARIA,KACFx0D,EAAMn1D,EAAS,GAAGo1D,WAAW,OACzB+4D,OACJh5D,EAAItuE,UAAY0iI,EAASK,WAKvBhhD,EAAa,CACf,IAAI8kD,EAASllH,EAAKklH,OAClB3B,EAAY,CACVxqI,GAAIksI,EAAKC,EAAO,IAAMp/G,EACtB9sB,GAAI+rI,EAAKG,EAAO,IAAMp/G,EACtBb,GAAIigH,EAAO,GAAKA,EAAO,GAAK,GAAKp/G,EACjC1rB,GAAI8qI,EAAO,GAAKA,EAAO,GAAK,GAAKp/G,GAMrC,IAFA,IAAIp8B,EAAIs7I,EAASp7I,OAEVF,KAAK,CACV,IAAI4hH,EAAK25B,EAAKD,EAASt7I,GAAG,GACtBm9I,EAAK9B,EAAKC,EAASt7I,GAAG,GAE1B,KAAI4hH,GAAMm3B,GAAOoE,GAAMnE,GAAOp3B,EAAK,GAAKu7B,EAAK,GAA7C,CAKA,IAAIx9C,EAAOq8C,EAAuB1lH,EAAKvuB,KAAKqH,IAExCuwF,IACFrpE,EAAKvuB,KAAK2M,MAAQirF,EAAKjrF,OAGzBqoI,EAAWn7B,EAAIu7B,EAAI1F,EAAUoC,EAAWvjH,EAAKvuB,OAG3C0vI,GACFx0D,EAAIm5D,UAkBNiB,CAAW9B,EAAIF,EAAIK,EAAIC,EAAIrlH,GACpB,CACLilH,GAAIA,EACJF,GAAIA,EACJiC,IAAKlD,EACL9jH,KAAMA,KAQNinH,EAAU,SAAiBx1I,GAC7B,IAAIkpB,EAAM2nH,EAAQkD,EAAY1sI,EAE1B6O,MAAMilH,QAAQn7H,IAChBkpB,EAAOlpB,EAAK,GACZ6wI,EAAS7wI,EAAK,KAEdkpB,EAAOlpB,EAAKkpB,KACZ2nH,EAAS7wI,EAAK6wI,OACdkD,EAAa/zI,EAAK+zI,WAClB1sI,EAAKrH,EAAKqH,IAGZ,IAAIgrI,EAjeyB,IAAzB/C,EAASY,aAITt5H,KAAKskB,SAAWo0G,EAASY,YAHpB,EAOa,IAAlBkB,EACKpB,EAILG,EAAgB,EAEXH,EAAcp5H,KAAK2V,MAAM3V,KAAKskB,SAAWi1G,GAAiBiB,EAAgBjB,EAE1EH,EAAcp5H,KAAKskB,SAAWk2G,EAkdnC7iH,EAAO6jH,EAAYlpH,EAAM2nH,EAAQwB,GAOrC,GALI9jH,IACFA,EAAW,KAAIvuB,IAIZuuB,EACH,OAAO,EAGT,GAAI4jH,IACF,OAAO,EAMT,IAAK7C,EAASG,eAAgB,CAC5B,IAAIgE,EAASllH,EAAKklH,OAElB,GAAIA,EAAO,GAAKA,EAAO,GAAK,EAAIzC,GAAOyC,EAAO,GAAKA,EAAO,GAAK,EAAIxC,EACjE,OAAO,EAQX,IAFA,IAAIr/H,EAAIwsB,EAAY,EAEbxsB,KAAK,CACV,IAAIoP,EAASkxH,EAAkB9zG,EAAYxsB,GAEvC09H,EAASc,UACXpvH,EAAS,GAAGjnB,OAAOinB,GACnBquH,GAAaruH,IAMf,IAAK,IAAI/oB,EAAI,EAAGA,EAAI+oB,EAAO7oB,OAAQF,IAAK,CACtC,IAAI8gB,EAAMm8H,EAAoBl0H,EAAO/oB,GAAIs2B,EAAMrF,EAAM2nH,EAAQzyG,EAAYxsB,EAAGygI,EAAW0B,EAAY1sI,GAEnG,GAAI0R,EACF,OAAOA,GAWb,OAAO,MAML08H,EAAY,SAAmB52I,EAAM62I,EAAYC,GACnD,GAAID,EACF,OAAQ3vH,EAAS6hB,MAAK,SAAUid,GAC9B,IAAI4pF,EAAMzjG,SAAS4qG,YAAY,eAE/B,OADAnH,EAAIoH,gBAAgBh3I,GAAM,EAAM62I,EAAYC,GAAU,KAC9C9wF,EAAGixF,cAAcrH,KACxB/1I,MAEHqtB,EAASnlB,SAAQ,SAAUikD,GACzB,IAAI4pF,EAAMzjG,SAAS4qG,YAAY,eAC/BnH,EAAIoH,gBAAgBh3I,GAAM,EAAM62I,EAAYC,GAAU,IACtD9wF,EAAGixF,cAAcrH,KAChB/1I,OAIHu7I,EAAyB,SAAgC5sI,GAC3D,IAAK,IAAIpP,EAAI,EAAGA,EAAIy4I,EAAiBv4I,OAAQF,IAAK,CAChD,IAAI2/F,EAAO84C,EAAiBz4I,GAE5B,GAAIy4I,EAAiBz4I,GAAGoP,KAAOA,EAC7B,OAAOuwF,IASThuF,EAAQ,SAAeghE,GACzB,QAAiBprE,IAAborE,EAAJ,CAsBA,IAAInjE,EAASse,EAAS,GAEtB,GAAIte,EAAO0zE,WACT61D,EAAMp6H,KAAKmd,KAAKtsB,EAAOvK,MAAQm3B,GAC/B48G,EAAMr6H,KAAKmd,KAAKtsB,EAAOD,OAAS6sB,OAC3B,CACL,IAAIlhB,EAAO1L,EAAO+kF,wBAClBwkD,EAAMp6H,KAAKmd,KAAK5gB,EAAKjW,MAAQm3B,GAC7B48G,EAAMr6H,KAAKmd,KAAK5gB,EAAK3L,OAAS6sB,GAKhC,GAAKohH,EAAU,kBAAkB,GAAjC,CAYA,IAAIjC,EAAIF,EAAIr7I,EAEZ,GATAonB,EAASiwH,EAASzoG,OAAS,CAACyoG,EAASzoG,OAAO,GAAKxS,EAAGi7G,EAASzoG,OAAO,GAAKxS,GAAK,CAAC28G,EAAM,EAAGC,GAAOH,EAAa,EAAI,IAEhH1yG,EAAYxnB,KAAK2V,MAAM3V,KAAKmE,KAAKi2H,EAAMA,EAAMC,EAAMA,IAInDljI,EAAO,IAGFtG,EAAO0zE,YAAcm0D,EAASE,YAiBjC,IAhBAzpH,EAASnlB,SAAQ,SAAUikD,GACzB,GAAIA,EAAGs2B,WAAY,CACjB,IAAID,EAAMr2B,EAAGs2B,WAAW,MACxBD,EAAItuE,UAAY0iI,EAASj+H,gBACzB6pE,EAAIE,UAAU,EAAG,EAAG41D,GAAO38G,EAAI,GAAI48G,GAAO58G,EAAI,IAC9C6mD,EAAI+5D,SAAS,EAAG,EAAGjE,GAAO38G,EAAI,GAAI48G,GAAO58G,EAAI,SAE7CwwB,EAAG09B,YAAc,GACjB19B,EAAG5nD,MAAMoU,gBAAkBi+H,EAASj+H,gBACpCwzC,EAAG5nD,MAAMiS,SAAW,cAKxBskI,EAAKxC,EAEEwC,KAIL,IAHAzlI,EAAKylI,GAAM,GACXF,EAAKrC,EAEEqC,KACLvlI,EAAKylI,GAAIF,IAAM,MAGd,CAGL,IAAIyC,EAAO/qG,SAASgwC,cAAc,UAAUG,WAAW,MACvD46D,EAAKnpI,UAAY0iI,EAASj+H,gBAC1B0kI,EAAKd,SAAS,EAAG,EAAG,EAAG,GACvB,IAOI3tI,EAAGC,EAPHyuI,EAAUD,EAAK75D,aAAa,EAAG,EAAG,EAAG,GAAG/jE,KAKxC86H,EAAYxrI,EAAO0zE,WAAW,MAAMe,aAAa,EAAG,EAAG80D,EAAM38G,EAAG48G,EAAM58G,GAAGlc,KAI7E,IAHAq7H,EAAKxC,EAGEwC,KAIL,IAHAzlI,EAAKylI,GAAM,GACXF,EAAKrC,EAEEqC,KAAM,CACX/rI,EAAI8sB,EAEJq/G,EAAgB,KAAOnsI,KAGrB,IAFAD,EAAI+sB,EAEG/sB,KAGL,IAFArP,EAAI,EAEGA,KACL,GAAIg7I,EAAoD,IAAxCK,EAAKj/G,EAAI9sB,GAAKypI,EAAM38G,GAAKm/G,EAAKn/G,EAAI/sB,IAAUrP,KAAO+9I,EAAQ/9I,GAAI,CAC7E8V,EAAKylI,GAAIF,IAAM,EACf,MAAMI,GAMO,IAAjB3lI,EAAKylI,GAAIF,KACXvlI,EAAKylI,GAAIF,IAAM,GAKrBL,EAAY8C,EAAOC,OAAUx2I,EAI/B,GAAI8vI,EAASkB,kBAAoBlB,EAASmB,iBAAkB,CAM1D,IALA9hD,GAAc,EAGd6kD,EAAKxC,EAAM,EAEJwC,KACLhC,EAASgC,GAAM,GAGblE,EAASkB,kBACX/oI,EAAO6zD,iBAAiB,YAAay2E,GAGnCzC,EAASmB,mBACXhpI,EAAO6zD,iBAAiB,QAAS02E,GACjCvqI,EAAO6zD,iBAAiB,aAAc02E,GACtCvqI,EAAO6zD,iBAAiB,YAAY,SAAUziE,GAC5CA,EAAEs/C,oBAEJ1wC,EAAOxK,MAAMg5I,wBAA0B,oBAGzCxuI,EAAO6zD,iBAAiB,kBAAkB,SAAS46E,IACjDzuI,EAAOg1D,oBAAoB,iBAAkBy5E,GAC7CzuI,EAAOg1D,oBAAoB,YAAas1E,GACxCtqI,EAAOg1D,oBAAoB,QAASu1E,GACpCT,OAAU/xI,KAId,GAAK8vI,EAASgB,WAgBP,CAEL,IAAI6F,EAAiBC,EADrBn+I,EAAI,EAGkB,IAAlBq3I,EAASO,MACXsG,EAAkBhgE,OAAOpc,WACzBq8E,EAAmBjgE,OAAOtc,eAE1Bs8E,EAAkBhgE,OAAO83D,aACzBmI,EAAmBjgE,OAAOw4D,gBAG5B,IAMIlyE,EAAsB,SAA6B59D,EAAMw3I,GAC3DtwH,EAASnlB,SAAQ,SAAUikD,GACzBA,EAAG4X,oBAAoB59D,EAAMw3I,KAC5B39I,OAGD49I,EAAwB,SAASA,IACnC75E,EAAoB,iBAAkB65E,GACtCF,EAAiB9/D,KAdI,SAA0Bz3E,EAAMw3I,GACrDtwH,EAASnlB,SAAQ,SAAUikD,GACzBA,EAAGyW,iBAAiBz8D,EAAMw3I,KACzB39I,MAcL4iE,CAAiB,iBAAkBg7E,GACnC,IAAIhgE,EAAQ6/D,GAAgB,SAASriD,IACnC,GAAI77F,GAAKq3I,EAASn3H,KAAKhgB,OAIrB,OAHAi+I,EAAiB9/D,GACjBm/D,EAAU,iBAAiB,QAC3Bh5E,EAAoB,iBAAkB65E,GAIxCpF,GAAa,IAAIl1I,MAAO6xB,UACxB,IAAInJ,EAAQ8wH,EAAQlG,EAASn3H,KAAKlgB,IAC9Bs+I,GAAYd,EAAU,kBAAkB,EAAM,CAChDz1I,KAAMsvI,EAASn3H,KAAKlgB,GACpBysB,MAAOA,IAGT,GAAIytH,KAAgBoE,EAMlB,OALAH,EAAiB9/D,GACjBg5D,EAASS,QACT0F,EAAU,kBAAkB,GAC5BA,EAAU,iBAAiB,QAC3Bh5E,EAAoB,iBAAkB65E,GAIxCr+I,IACAq+E,EAAQ6/D,EAAgBriD,EAAMw7C,EAASO,QACtCP,EAASO,UAxEY,CACpB5oI,EAAQuvI,WAEVzwH,EAASnlB,SAAQ,SAAUikD,GACzB,GAAIA,EAAGs2B,WAAY,CACjB,IAAID,EAAMr2B,EAAGs2B,WAAW,MACxBD,EAAItuE,UAAY0iI,EAASj+H,gBACzB6pE,EAAIE,UAAU,EAAG,EAAG41D,GAAO38G,EAAI,GAAI48G,GAAO58G,EAAI,IAC9C6mD,EAAI+5D,SAAS,EAAG,EAAGjE,GAAO38G,EAAI,GAAI48G,GAAO58G,EAAI,QAKnD,IAAK,IAAIoiH,EAAM,EAAGA,EAAMnH,EAASn3H,KAAKhgB,OAAQs+I,IAC5CjB,EAAQlG,EAASn3H,KAAKs+H,WAnKxB,GAAInH,EAAS1kE,WAAaA,GAAY7kD,EAAS,GAAGo1D,WAAY,CAC5Dm0D,EAAS1kE,SAAWA,EACpB,IAAIsQ,EAAMn1D,EAAS,GAAGo1D,WAAW,MAEjCD,EAAItuE,UAAY0iI,EAASj+H,gBACzB6pE,EAAIE,UAAU,EAAG,EAAGr1D,EAAS,GAAG7oB,MAAO6oB,EAAS,GAAGve,QACnD0zE,EAAI+5D,SAAS,EAAG,EAAGlvH,EAAS,GAAG7oB,MAAO6oB,EAAS,GAAGve,QAElD,IAAK,IAAIk9B,EAAM,EAAGA,EAAMgsG,EAAiBv4I,OAAQusC,IAAO,CACtD,IAAIkzD,EAAO84C,EAAiBhsG,GAC5B8gB,EAASoyC,EAAK47C,GAAI57C,EAAK07C,GAAI17C,EAAKrpE,KAAMqpE,EAAK1uE,KAAM0uE,EAAKi5C,OAAQj5C,EAAKztC,SAAUytC,EAAKjhF,MAAOihF,EAAKy6C,UAAWz6C,EAAKm8C,WAAYn8C,EAAKvwF,IAAI,MAwN3IuC,KA77BA,SAASynI,EAAiBlpH,EAAK9J,GAC7B,MAAO,QAA0B,IAAhBzH,KAAKskB,UAAgB7f,UAAY,KAAuB,GAAhBzE,KAAKskB,SAAgB,IAAI7f,UAAY,MAAQzE,KAAKskB,UAAY7c,EAAM8J,GAAOA,GAAK9M,UAAY,OA+7BzJ,GAAU2zH,YAAcA,GACxB,GAAUE,YAAcA,GACT,UC/kCA,GAjOf,SAAUvxI,GAGR,SAAS+4I,EAAev9I,GACtB,IAAIyE,EAAQD,EAAOnF,KAAKE,KAAMS,IAAUT,KAiCxC,OA/BAkF,EAAM+4I,gBAAkB,SAAU32I,EAAM8xI,EAAWrD,EAAK7kI,GAClDkoI,GACFl0I,EAAMg5I,UAAU/uG,WAAW,GAAI,CAC/B,CACEl7B,MAAO3M,EAAK2M,OAAS,MACrBhC,KAAM3K,EAAKkpB,KACX5vB,MAAO0G,EAAK6wI,UAKdjzI,EAAMg5I,UAAU9uG,YAAY2mG,EAAIoI,OAAQpI,EAAIqI,QAE5Cl5I,EAAMg5I,UAAU9tI,QAEhBlL,EAAMg5I,UAAU5tI,OAGlBpL,EAAMm5I,oBAAsBn5I,EAAMm5I,mBAAmB/2I,EAAM8xI,EAAWrD,EAAK7kI,IAG7EhM,EAAMm5I,mBAAqB59I,EAAMq3I,iBACjC5yI,EAAMo5I,gBAAkB,OAAM79I,EAAO,mBAAmB,GACxDyE,EAAMqJ,QAAU,WAAU,GAAI,CAC5B/J,MAAO,IACPsK,OAAQ,IACRyvI,gBAAgB,GACf99I,EACH,CACEq3I,iBAAkB5yI,EAAMo5I,gBAAkBp5I,EAAM+4I,gBAAkB/4I,EAAMm5I,qBAEnEn5I,EAyLT,OA7NA,qBAAU84I,EAAgB/4I,GAuC1B+4I,EAAep+I,UAAUwP,KAAO,WAC9BnK,EAAOrF,UAAUwP,KAAKtP,KAAKE,MAE3BA,KAAKw+I,iBAGPR,EAAep+I,UAAU+P,OAAS,WAChC1K,EAAOrF,UAAU+P,OAAO7P,KAAKE,MAE7BA,KAAKy+I,WAGPT,EAAep+I,UAAU4+I,cAAgB,WACvCx+I,KAAKk+I,UAAY,IAAI,GAAkB,oBAAS,oBAAS,GAAIl+I,KAAKuO,QAAQgK,SAAU,CAClF5D,WAAW,EACXqI,SAAS,EACTjO,OAAQ/O,KAAK+O,OACbgjC,QAAQ,EACRnD,SAAS,MAIbovG,EAAep+I,UAAU6+I,QAAU,WACjCz+I,KAAK0+I,cAAgB1+I,KAAK+O,OAAOkO,IAAI,MAEjCjd,KAAKuO,QAAQuvI,UACf99I,KAAK2+I,mBAGL3+I,KAAKm3E,UAIT6mE,EAAep+I,UAAU++I,iBAAmB,WAC1C,IAAIz5I,EAAQlF,KAERmc,EAAQ,IAAI0xC,MAChB1xC,EAAM2xC,IAAM9tD,KAAKuO,QAAQuvI,UAAY,KAAM,IAAIx6I,MAAO6xB,UACtDhZ,EAAMyiI,YAAc,YAEpBziI,EAAM0iI,OAAS,WACT1iI,EAAM2iI,cAAgB3iI,EAAM4iI,eAAiB,GAAK5iI,EAAM3X,MAAQ2X,EAAMrN,SAAW,EACnF5J,EAAMiyE,SAGNjyE,EAAM85I,oBAAoB7iI,IAI9BA,EAAM8iI,QAAU,WACd3xF,QAAQpwB,MAAM,2BAA4Bh4B,EAAMqJ,QAAQuvI,WAExD54I,EAAMiyE,WAIV6mE,EAAep+I,UAAUu3E,OAAS,WAChCn3E,KAAKk/I,sBAEL,GAAUl/I,KAAK0+I,cAAe1+I,KAAKuO,UAGrCyvI,EAAep+I,UAAUs/I,oBAAsB,WAC7C,IAEI9kI,EAAQhG,EAAaD,EAFrBW,EAAW9U,KAAKuO,QAAQ4wI,UAAUrqI,UAAY,CAAC,GAAI,IACnDsqI,EAAWp/I,KAAKuO,QAAQ4wI,UAAUC,UAAY,EAAElhI,KAAKK,GAAK,EAAGL,KAAKK,GAAK,GAGvEve,KAAKuO,QAAQ4wI,UAAU/kI,QACzBA,GAAS,EACThG,EAAcpU,KAAKuO,QAAQ4wI,UAAU/kI,OAAOhG,aAAe,OAC3DD,EAAanU,KAAKuO,QAAQ4wI,UAAU/kI,OAAOjG,YAAc,IAEzDiG,GAAS,EAGXpa,KAAKuO,QAAU,WAAU,GAAIvO,KAAKuO,QAAS,CACzCioI,YAAa1hI,EAAS,GACtB+hI,YAAa/hI,EAAS,GACtBwiI,YAAa8H,EAAS,GACtB7H,YAAa6H,EAAS,GACtBhlI,OAAQA,EACRhG,YAAaA,EACbD,WAAYA,KAIhB6pI,EAAep+I,UAAUo/I,oBAAsB,SAAU7iI,GACvD,IAAI3W,EAAKxF,KAAKq/I,sBAAsBr/I,KAAKs/I,4BAA4BnjI,IACjEojI,EAAkB/5I,EAAG+5I,gBACrBC,EAAmBh6I,EAAGg6I,iBAKtBnC,EAAO/qG,SAASgwC,cAAc,UAAUG,WAAW,MACvD46D,EAAKnpI,UAAYlU,KAAKuO,QAAQoK,iBAAmB,OACjD0kI,EAAKd,SAAS,EAAG,EAAG,EAAG,GAKvB,IAJA,IAAIe,EAAUD,EAAK75D,aAAa,EAAG,EAAG,EAAG,GAAG/jE,KACxC86H,EAAYiF,EAAiBh8D,aAAa,EAAG,EAAG+7D,EAAgB/6I,MAAO+6I,EAAgBzwI,QACvF2wI,EAAeD,EAAiBE,gBAAgBnF,GAE3Ch7I,EAAI,EAAGA,EAAIg7I,EAAU96H,KAAKhgB,OAAQF,GAAK,EAC1Cg7I,EAAU96H,KAAKlgB,EAAI,GAAK,KAE1BkgJ,EAAahgI,KAAKlgB,GAAK+9I,EAAQ,GAC/BmC,EAAahgI,KAAKlgB,EAAI,GAAK+9I,EAAQ,GACnCmC,EAAahgI,KAAKlgB,EAAI,GAAK+9I,EAAQ,GACnCmC,EAAahgI,KAAKlgB,EAAI,GAAK+9I,EAAQ,KAInCmC,EAAahgI,KAAKlgB,GAAK+9I,EAAQ,GAC/BmC,EAAahgI,KAAKlgB,EAAI,GAAK+9I,EAAQ,GACnCmC,EAAahgI,KAAKlgB,EAAI,GAAK+9I,EAAQ,GACnCmC,EAAahgI,KAAKlgB,EAAI,GAAK,KAI/BigJ,EAAiB/7D,aAAag8D,EAAc,EAAG,GAE/Bz/I,KAAK0+I,cAAcj8D,WAAW,MAEpCO,UAAUu8D,EAAiB,EAAG,GACxCv/I,KAAKuO,QAAU,WAAU,GAAIvO,KAAKuO,QAAS,CACzCuoI,aAAa,IAGf92I,KAAKm3E,UAGP6mE,EAAep+I,UAAUy/I,sBAAwB,SAAUE,GACzD,IAAII,EAAmBrtG,SAASgwC,cAAc,UAE9Cq9D,EAAiBn7I,MAAQxE,KAAK+O,OAAOkO,IAAI,eACzC0iI,EAAiB7wI,OAAS9O,KAAK+O,OAAOkO,IAAI,gBAC1C,IAAIulE,EAAMm9D,EAAiBl9D,WAAW,MAOtC,OALAD,EAAIo9D,uBAAwB,EAI5Bp9D,EAAIQ,UAAUu8D,EAAiB,EAAG,EAAGA,EAAgB/6I,MAAO+6I,EAAgBzwI,OAAQ,EAAG,EAAG6wI,EAAiBn7I,MAAOm7I,EAAiB7wI,QAC5H,CACLywI,gBAAiBI,EACjBH,iBAAkBh9D,IAItBw7D,EAAep+I,UAAU0/I,4BAA8B,SAAUnjI,GAC/D,IAAIojI,EAAkBjtG,SAASgwC,cAAc,UAC7Ci9D,EAAgB/6I,MAAQ2X,EAAM3X,MAC9B+6I,EAAgBzwI,OAASqN,EAAMrN,OAC/B,IAAI0zE,EAAM+8D,EAAgB98D,WAAW,MACrCD,EAAIQ,UAAU7mE,EAAO,EAAG,EAAGA,EAAM3X,MAAO2X,EAAMrN,QAM9C,IALA,IAAIyrI,EAAY/3D,EAAIgB,aAAa,EAAG,EAAG+7D,EAAgB/6I,MAAO+6I,EAAgBzwI,QAKrEvP,EAAI,EAAGA,EAAIg7I,EAAU96H,KAAKhgB,OAAQF,GAJf,EAI2C,CACrE,IAAI69G,EAAMm9B,EAAU96H,KAAKlgB,GAAKg7I,EAAU96H,KAAKlgB,EAAI,GAAKg7I,EAAU96H,KAAKlgB,EAAI,GAC7Dg7I,EAAU96H,KAAKlgB,EAAI,GAEnB,KAAO69G,EAAM,KAEvBm9B,EAAU96H,KAAKlgB,GARF,IASbg7I,EAAU96H,KAAKlgB,EAAI,GATN,IAUbg7I,EAAU96H,KAAKlgB,EAAI,GAVN,IAWbg7I,EAAU96H,KAAKlgB,EAAI,GAZL,IAedg7I,EAAU96H,KAAKlgB,GAfD,EAgBdg7I,EAAU96H,KAAKlgB,EAAI,GAhBL,EAiBdg7I,EAAU96H,KAAKlgB,EAAI,GAjBL,EAkBdg7I,EAAU96H,KAAKlgB,EAAI,GAjBN,KAsBjB,OADAijF,EAAIiB,aAAa82D,EAAW,EAAG,GACxBgF,GAGFvB,EA9NT,CA+NE,KC1NF,SAAU/4I,GAGR,SAAS46I,EAAUnxI,EAAWjO,GAM5B,OAFAA,EAAM8b,SAAW,SACTtX,EAAOnF,KAAKE,KAAM0O,EAAWjO,IAAUT,KAPjD,qBAAU6/I,EAAW56I,GAWrB46I,EAAUjgJ,UAAU0nG,aAAe,SAAU7mG,GAC3C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,YAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAjB7C,CAqBE,ICjBK,SAAS6mC,GAAgB7qI,EAAOiF,GACrC,IAAI6iG,EAAa9nG,EAAMgU,UACnB+zF,EAAa9iG,EAAM+O,UAEvB,GAAI8zF,EAAWt0F,MAAQu0F,EAAWv0F,MAAQs0F,EAAWr0F,MAAQs0F,EAAWt0F,KAAM,CAC5E,IAAIw0F,EAAahjG,EAAMkO,KAAK,QACxB+0F,EAAejjG,EAAMkO,KAAK,WAAalO,EAAMkO,KAAK,WAAa,EAC/Dg1F,EAAMj7B,GAAQ+6B,GAed/3E,EArCD,SAAsBq4E,EAAMH,GACjC,IAAIl4E,EAUJ,OARA,QAAOq4E,GAAM,SAAU59F,GACrB,IAAIxb,EAAMwb,EAENy9F,GAAQj5G,EAAIk4B,MAAQ+gF,EAAOj5G,EAAIm8E,KACjCp7C,EAAU/gC,EAAI6P,UAIXkxB,EA0BS,CAbE,CAAC,CACf7I,KAAM,EACNikD,GAAI,GACJtsE,MAAO,SACN,CACDqoB,KAAM,GACNikD,GAAI,IACJtsE,MAAO,WACN,CACDqoB,KAAM,IACNikD,GAAI,IACJtsE,MAAO,UAZEiK,KAAKgS,MAAe,KAATktF,EAAI,GAAsB,KAATA,EAAI,GAAsB,KAATA,EAAI,IAAcD,GAe1EloG,EAAMmT,KAAK,OAAQ+c,GAEH,UAAZA,GACFlwB,EAAMmT,KAAK,SAAU,MACrBnT,EAAMmT,KAAK,YAAa,KAExBnT,EAAMmT,KAAK,SAAU,SACrBnT,EAAMmT,KAAK,YAAa,SAErB,GAAI20F,EAAWr0F,KAAOs0F,EAAWv0F,KAAM,CAE5C,IAAI9S,EAAQ3V,KAAKid,IAAI,SAEjBsgG,EAAiB,OAAM5nG,EAAO,uBAAwB,SAE1DV,EAAMmT,KAAK,OAAQm1F,IDlBvBtW,GAAiB,YAAa,IEqE9Bh6B,GAAsB,YAhGtB,SAAUhoE,GAGR,SAAS86I,IACP,OAAkB,OAAX96I,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAwF7D,OA3FA,qBAAU+/I,EAAY96I,GAMtB86I,EAAWngJ,UAAU8oE,WAAa,SAAUpgD,EAAQpS,GAClD,IAAIhR,EAAQlF,KAEZiF,EAAOrF,UAAU8oE,WAAW5oE,KAAKE,KAAMsoB,EAAQpS,GAE/C,IACI61B,EADW/rC,KAAKid,IAAI,kBACFA,IAAI,SAASA,IAAI,YACnClP,EAAO/N,KAAKid,IAAI,WAAWA,IAAI,QAE/BzX,EAAKxF,KAAKid,IAAI,gBACd45C,EAASrxD,EAAGqxD,OACZ7hD,EAASxP,EAAGwP,OACZ8nG,EAAct3G,EAAGs3G,YACjB32G,EAAOX,EAAGW,KAEVq2B,EAAKzuB,EAAKkP,IAAI,SACd0J,EAAS6V,EAAG7V,OACZF,EAAa+V,EAAG/V,WAEhBu5H,EAAgBnpF,EAAO,GACvBopF,EAAcppF,EAAO,GACrBlpC,EAAQ5f,EAAKkP,IAAI,UAAU+iI,GAE1BC,GACHl0G,EAAO7jC,SAAQ,SAAU+M,GACvB,IAAIk5B,EAASl5B,EAAMgI,IAAI,UAEnBq2F,EAAUpuG,EAAM+X,IAAI,WAAWwsD,WAAWt7B,GAE1Cj0B,EAAQhV,EAAM23G,UAAUvJ,EAASp9F,GAEjCu3G,EAAa9/F,EAAMA,MAAMwgB,EAAO6xG,IAChC3hI,EAAQoI,EAAuB,EAAVvI,KAAKK,GAASkvG,EACnC6C,EAASp2G,EAAM+C,IAAI,UACnB/D,EAAIozE,GAAkB3lE,EAAQ2pG,GAAUt7G,EACxCkrI,EAAc,GAAYv5H,EAAQtI,EAAOnF,GAC7CjE,EAAMmT,KAAK,IAAK83H,EAAYtxI,GAC5BqG,EAAMmT,KAAK,IAAK83H,EAAYrxI,GAC5BoG,EAAMmT,KAAK,eAAgB,UAE3BljB,EAAMi7I,gBAAgBlrI,EAAOiF,GAEzB4iG,GAAwB,UAAT32G,GACjB25I,GAAgB7qI,EAAOiF,MAK7BnM,EAAKkP,IAAI,UAAUnN,QAGrBiwI,EAAWngJ,UAAUi9G,UAAY,SAAUvJ,EAASp9F,GAClD,IAAI5W,EAWJ,OATA,QAAO4W,GAAQ,SAAUgE,GACvB,IAAIha,EAAIga,EACCha,EAAEyO,KAEA2kG,IACTh0G,EAASY,MAINZ,GAGTygJ,EAAWngJ,UAAUugJ,gBAAkB,SAAUlrI,EAAOiF,GACtD,IAAInH,EAAMkC,EAAMgU,UACZi3H,EACCntI,EAAInE,EAAImE,EAAIvO,MAAQ,EAGrB8rH,GAFCv9G,EAAIlE,EAAIkE,EAAIjE,OAEJoL,EAAM+C,IAAI,WACnBvD,EAAa1Z,KAAKid,IAAI,gBAAgBvD,WAC1CzE,EAAMmT,KAAK,YAAa,UAEnB1O,IACCwmI,EAAgB5vB,EAAO1hH,EACzBqG,EAAMmT,KAAK,YAAa,QACf83H,EAAgB5vB,EAAO1hH,GAChCqG,EAAMmT,KAAK,YAAa,WAKvB23H,EA5FT,CAJyB/yE,GAAiB,WCE1C,IAAI,GAAc,CAChBrwD,KAAM,YAEJ,GAAgB,CAClBA,KAAM,UAGJ,GAEJ,SAAU1X,GAGR,SAASm7I,IACP,IAAIl7I,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,OACNjB,EAyOT,OA/OA,qBAAUk7I,EAAWn7I,GASrBm7I,EAAUz8C,kBAAoB,WAC5B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDwE,MAAO,IACPsK,OAAQ,IACRnN,MAAO,CACLqb,SAAS,GAEXpb,YAAa,CACXob,SAAS,GAEXogE,UAAU,EACVv2E,QAAS,OACT2M,OAAQ,GACRiyB,YAAa,EACbxwB,MAAO,CACL+H,SAAS,EACT7W,KAAM,QACNuT,YAAY,EACZojG,aAAa,GAEfzlG,OAAQ,CACN2F,SAAS,EACTxG,SAAU,iBAEZ+B,QAAS,CACPyE,SAAS,EACTgjD,QAAQ,EACRnxB,WAAY,MAEdovE,YAAa,CACXnrG,OAAQ,QACRJ,UAAW,GAEbgrD,MAAO,CACLlpD,iBAAiB,EACjBpB,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX3H,KAAM,CACJ2H,SAAS,EACTzY,MAAO,CACLmO,UAAW,KAGfuC,MAAO,CACLD,OAAQ,IAGZ4uF,MAAO,CACL5mF,SAAS,MAKfojI,EAAUxgJ,UAAU4O,WAAa,SAAU/N,GACzC,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGjDkR,EAAiB3R,KAAKoC,YAAYuhG,oBAClCsa,EAAcx9G,EAAM4/I,YACpBvgH,EAASr/B,EAAMu/I,cACfjgH,EAASt/B,EAAMq3H,YACnB,OAAO,WAAU,GAAIvpH,EAASoD,EAAgB,CAC5CssG,YAAaA,EACbn+E,OAAQA,EACRC,OAAQA,GACPt/B,IAGL2/I,EAAUxgJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GAClD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBi6I,EAAUxgJ,UAAU+tB,MAAQ,WAE1B,IAAIltB,EAAQT,KAAKuO,QACb24B,EAAS,GACbA,EAAOzmC,EAAMq3H,aAAe,GAC5B5wF,EAAOzmC,EAAMu/I,eAAiB,CAC5B75I,KAAM,OAERnG,KAAK2kG,UAAU,SAAUz9D,IAK3Bk5G,EAAUxgJ,UAAU0W,KAAO,WACzBrR,EAAOrF,UAAU0W,KAAKxW,KAAKE,MAE3B,IAAIuO,EAAUvO,KAAKuO,QAEdA,EAAQ65G,YAAe75G,EAAQ+5G,YAClCtoH,KAAK2kG,UAAU,QAAQ,IAI3By7C,EAAUxgJ,UAAU0mB,MAAQ,WAC1B,IAAI7lB,EAAQT,KAAKuO,QACbwmH,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAAQ/S,EAAM+S,OACdiyB,YAAahlC,EAAMglC,aAAe,IAGtCzlC,KAAK2kG,UAAU,QAASowB,IAG1BqrB,EAAUxgJ,UAAUmkG,YAAc,WAChC,IAAIx1F,EAAUvO,KAAKuO,QACnBvO,KAAKsgJ,0BACLtgJ,KAAKiuI,sBACL,IAAItxH,EAAO4tF,GAAQ,WAAY,OAAQ,CACrC36D,KAAM5vC,KACN2nG,eAAgB,CAACp5F,EAAQyxI,cAAezxI,EAAQupH,aAChDr7G,WAAY,CACVE,KAAM,KAGVA,EAAK1H,MAAQjV,KAAKw+G,eAClB7hG,EAAKm1D,OAAS9xE,KAAKugJ,mBACnBvgJ,KAAK2c,KAAOA,EACZ3c,KAAK2kG,UAAU,UAAWhoF,IAG5ByjI,EAAUxgJ,UAAU0gJ,wBAA0B,WAC5C,IAAI/xI,EAAUvO,KAAKuO,SAEfA,EAAQ65G,YAAc75G,EAAQ+5G,cAChCtoH,KAAKuO,QAAQozE,WAAa,OAI9By+D,EAAUxgJ,UAAU2gJ,iBAAmB,WACrC,OAAIvgJ,KAAKuO,QAAQ65G,WACR,CAAC,CACNjiH,KAAM,UAECnG,KAAKuO,QAAQ+5G,WACf,CAAC,CACNniH,KAAM,QACNs7B,YAAa,IAIV,MAGT2+G,EAAUxgJ,UAAUorB,UAAY,WAC9B/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,OAIR,IAFZA,KAAKuO,QAEPyc,YAERhrB,KAAK2c,KAAKH,SAAU,IAIxB4jI,EAAUxgJ,UAAU6Z,WAAa,aAEjC2mI,EAAUxgJ,UAAUiS,YAAc,SAAUC,GAC1C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1CogJ,EAAUxgJ,UAAU4+G,aAAe,WACjC,IAAIjwG,EAAUvO,KAAKuO,QAEnB,IAAKA,EAAQ0G,QAAU1G,EAAQ0G,MAAM+H,QACnC,OAAO,EAGT,IAAI/H,EAAQ,WAAU,GAAI1G,EAAQ0G,OAElCjV,KAAKwgJ,mBAAmBvrI,GACxB,IAAI4hD,EAAS,CAACtoD,EAAQyxI,cAAezxI,EAAQupH,aAW7C,OATIvpH,EAAQ65G,YAAc75G,EAAQ+5G,aAChCzxD,EAAOrmD,KAAKjC,EAAQ65G,YAAc75G,EAAQ+5G,YAG1Bp2B,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,YACX1W,OAAQA,GACP5hD,KAILmrI,EAAUxgJ,UAAU4gJ,mBAAqB,SAAUzlF,GACjD,IAAI+8D,EAAc93H,KAAKuO,QAAQupH,YAE/B,GAAI/8D,EAAc,CAChB,IAAI/lD,EAAS+lD,EAAa/lD,OACtB7O,EAAO40D,EAAa50D,KACpB8oB,EAAY8rC,EAAa9rC,UAEhB,UAAT9oB,EACF40D,EAAa/lD,OAASA,EAAS,EAAIA,GAAU,GAC3B,UAAT7O,IACT40D,EAAa/lD,OAASA,GAAU,EAAIA,EAAS,IAG1Cia,IAEH8rC,EAAa9rC,UAAY,SAAUvb,EAAMpM,GACvC,MAAO,GAAKA,EAAK8zD,QAAQ08D,OAMjCsoB,EAAUxgJ,UAAUquI,oBAAsB,WACxC,IAAI1/H,EAAUvO,KAAKuO,QACfsnD,EAAgBtnD,EAAQ8I,OAExBw+C,IACGtnD,EAAQ65G,YAAe75G,EAAQ+5G,aAClCzyD,EAAchT,WAAY,KAKzBu9F,EAhPT,CAiPE,IAEa,MACfn5C,GAAiB,OAAQ,KC9PzB,SAAUhiG,GAGR,SAASw7I,IACP,OAAkB,OAAXx7I,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUygJ,EAAMx7I,GAMhBw7I,EAAK7gJ,UAAU0nG,aAAe,SAAU7mG,GACtC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,OAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CwnC,EAAK98C,kBAAoB,GAAUA,kBAfrC,CAiBE,IAnBF,ICgIe,GA/Hf,WACE,SAAS+8C,EAAW3yI,EAAMmB,GACxBlP,KAAK+N,KAAOA,EACZ/N,KAAKkP,IAAMA,EAEXlP,KAAKysC,QAuHP,OAlHAi0G,EAAW9gJ,UAAUkQ,KAAO,WAC1B,GAAK9P,KAAK+N,OAAQ/N,KAAK+N,KAAKI,UAA5B,CAIAnO,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,cAAcswB,WAC7CvtC,KAAK0O,UAAU2B,IAAI,OAAQ,cAC3BrQ,KAAK0O,UAAUwgE,WAAW,KAG1B,IAFA,IAAIh5D,EAASlW,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,kBAAkBA,IAAI,YAE3D1d,EAAI,EAAGA,EAAIS,KAAKkP,IAAIyxI,OAAOlhJ,OAAQF,GAAK,EAAG,CAClD,IAAI+tI,EAAWp3H,EAAO3W,GAAG0pB,UAErBxM,EAAa6wH,EAAS9oI,MAAQ0R,EAAO3W,GAAG0d,IAAI,UAAUm+C,QAAQp7D,KAAKkP,IAAI6wB,QAE3E//B,KAAK4gJ,SAAStT,EAAUttI,KAAKkP,IAAIyxI,OAAOphJ,IAAM,CAAC,EAAG,GAAIkd,GAGxDzc,KAAK+N,KAAKkP,IAAI,UAAUnN,SAG1B4wI,EAAW9gJ,UAAUghJ,SAAW,SAAU7tI,EAAK4tI,EAAQlkI,GAOrD,IANA,IAIIhC,EAJAlM,EAAUvO,KAAKkP,IACf2xI,EAActyI,EAAQsyI,YACtBptB,EAAO1gH,EAAIwV,KACXilH,EAAOz6H,EAAI0V,KAAO1V,EAAIjE,QAAUP,EAAQuyI,UAAY,GAAK,EAGpDvhJ,EAAI,EAAGA,EAAIohJ,EAAOlhJ,OAAQF,GAAK,EAAG,CACzC,IAAIiF,GAASm8I,EAAOphJ,GAAKohJ,EAAOphJ,EAAI,IAAMgP,EAAQghB,SAAW9S,EAC7DhC,EAAOza,KAAK0O,UAAUge,SAAS,OAAQ,CACrCrI,MAAO,CACL7f,MAAOA,EACPsK,OAAQiE,EAAIjE,OAASP,EAAQuyI,UAC7BlyI,EAAG6kH,EACH5kH,EAAG2+H,EACH76H,KAAMkuI,GAAathJ,EAAI,GAAKshJ,EAAYphJ,QACxCmT,YAAa,OAEdvC,IAAI,UAAW,GAClBojH,GAAQjvH,EACRiW,EAAKxI,KAAO,cAGd,GAAI1D,EAAQ+H,MAAQ/H,EAAQ+H,KAAK0G,QAAS,CACxC,IAAI8e,EAAevtB,EAAQghB,UAAYhhB,EAAQ+H,KAAKggB,UAAY,GAC5DyqH,EAAW,IAAI,QAAKhuI,EAAInE,EAAG4+H,EAAM/Z,EAAM1gH,EAAIjE,OAASP,EAAQuyI,WAChE9gJ,KAAKghJ,gBAAgBD,EAAUjlH,EAAcrf,KAMjDikI,EAAW9gJ,UAAUohJ,gBAAkB,SAAUjuI,EAAK+oB,EAAcrf,GAOlE,IANA,IAAIlO,EAAUvO,KAAKkP,IACf+xI,EAAa1yI,EAAQ+H,KAAK/R,MAC1B+xB,EAAY/nB,EAAQ+H,KAAKggB,UACzB4qH,EAAe3yI,EAAQ+H,KAAKE,SAC5B2qI,EAAa,OAAMF,EAAY,aAAc,GAAKA,EAAWnsI,SAAW,EAEnEssI,EAAU,EAAGA,EAAU9qH,EAAW8qH,GAAW,EAAG,CACvD,IAAIxyI,EAAImE,EAAIwV,KAAOuT,EAAeslH,EAAU3kI,EACxC4kI,EAAW,GAAKvlH,EAAeslH,EAenC,GAbI7yI,EAAQ+H,KAAK2Y,YACfoyH,EAAW9yI,EAAQ+H,KAAK2Y,UAAUoyH,EAAUD,IAG9BphJ,KAAK0O,UAAUge,SAAS,OAAQ,CAC9CrI,MAAO,oBAAS,CACdzV,EAAGA,EACHC,EAAoB,WAAjBqyI,EAA4BnuI,EAAI0V,KAAO04H,EAAapuI,EAAI2V,KAAOy4H,EAClEztI,KAAM,GAAK2tI,GACVJ,KAEKhvI,KAAO,OAEb1D,EAAQ+H,KAAKnB,UAAY5G,EAAQ+H,KAAKnB,SAAS6H,QAAS,CAC1D,IAAIq5B,EAAc9nC,EAAQ+H,KAAKnB,SAE3BisI,EAAU,GAAKA,IAAY9qH,EAAY,GACzCt2B,KAAK0O,UAAUge,SAAS,OAAQ,CAC9BrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAKxN,EAAGmE,EAAI0V,MAAO,CAAC,IAAK7Z,EAAGmE,EAAI2V,QACvC2tB,KACFhmC,IAAI,UAAW,MAM1BqwI,EAAW9gJ,UAAUmQ,MAAQ,WACvB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInB2wI,EAAW9gJ,UAAUk8G,QAAU,WACzB97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,UAInBuwI,EAAW9gJ,UAAU6sC,MAAQ,WAC3B,IAAIvnC,EAAQlF,KAEZA,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,WAER/P,KAAK+N,KAAKC,GAAG,eAAe,WAC1B9I,EAAM4K,WAIH4wI,EA5HT,GC+Ee,GAjFf,WACE,SAASY,EAAavzI,EAAMmB,GAC1BlP,KAAK+N,KAAOA,EACZ/N,KAAKkP,IAAMA,EAEXlP,KAAKysC,QAyEP,OApEA60G,EAAa1hJ,UAAUkQ,KAAO,WAC5B,GAAK9P,KAAK+N,OAAQ/N,KAAK+N,KAAKI,UAA5B,CAIAnO,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,oBAAoBswB,WACnDvtC,KAAK0O,UAAU2B,IAAI,OAAQ,gBAG3B,IAFA,IAAI6F,EAASlW,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,kBAAkBA,IAAI,YAE3D1d,EAAI,EAAGA,EAAIS,KAAKkP,IAAIu9D,QAAQhtE,OAAQF,GAAK,EAAG,CACnD,IAAI+tI,EAAWp3H,EAAO3W,GAAG0pB,UAErBxM,EAAa6wH,EAAS9oI,MAAQ0R,EAAO3W,GAAG0d,IAAI,UAAUm+C,QAAQp7D,KAAKkP,IAAI6wB,QAE3E//B,KAAKuhJ,WAAWjU,EAAUttI,KAAKkP,IAAIu9D,QAAQltE,GAAIkd,GAGjDzc,KAAK+N,KAAKkP,IAAI,UAAUnN,SAG1BwxI,EAAa1hJ,UAAU2hJ,WAAa,SAAUxuI,EAAK05D,EAAShwD,GAC1D,IAAIvX,EAAQlF,KAERuO,EAAUvO,KAAKkP,IACf8G,EAASzH,EAAQizI,aAGrB/0E,EAAQvkE,SAAQ,SAAU5I,EAAQC,GAChC,IAAI2Y,EAAc3J,EAAQ2J,YAEThT,EAAMwJ,UAAUge,SAAS,OAAQ,CAChDrI,MAAO,oBAAS,oBAAS,CACvB7f,MAAO0T,EAAY1T,MACnBsK,OAAQiE,EAAIjE,OAASP,EAAQkzI,WAAavpI,EAAY1T,MAAQ,EAC9DoK,EAAGmE,EAAIwV,KAAOjpB,EAASmd,EACvB5N,EAAGkE,EAAI0V,KAAO1V,EAAIjE,QAAUP,EAAQkzI,WAAa,GAAK,GACrDvpI,GAAc,CACfvF,KAAMqD,EAAOzW,EAAIyW,EAAOvW,SAAWyY,EAAYvF,SAIxCV,KAAO,oBAItBqvI,EAAa1hJ,UAAUmQ,MAAQ,WACzB/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInBuxI,EAAa1hJ,UAAUk8G,QAAU,WAC3B97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,UAInBmxI,EAAa1hJ,UAAU6sC,MAAQ,WAC7B,IAAIvnC,EAAQlF,KAEZA,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,WAER/P,KAAK+N,KAAKC,GAAG,eAAe,WAC1B9I,EAAM4K,WAIHwxI,EA9ET,GCOI,GAAc,CAChBI,OAAQ,YAEN,GAAgB,CAClBzuI,SAAU,UAMR,GAEJ,SAAUhO,GAGR,SAAS08I,IACP,IAAIz8I,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,SACNjB,EAwPT,OA9PA,qBAAUy8I,EAAa18I,GASvB08I,EAAYh+C,kBAAoB,WAC9B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDyf,KAAM,GACN2oG,WAnBmB,iBAoBnBtoF,OAnBe,aAoBfC,OAnBe,aAoBf8gH,YAAa,CAAC,4BACde,YAAa,GACbd,UAAW,EACXW,WAAY,EACZD,aAAc,GACdtpI,YAAa,CACX1T,MAAO,EACPmO,KAAM,UACND,UAAW,GAEb4D,KAAM,CACJ0G,SAAS,EACTxG,SAAU,SACV8f,UAAW,EACXrH,UAAW,SAAmBvb,EAAMhD,GAClC,MAAO,GAAKA,GAEdnM,MAAO,CACLoO,KAAM,sBACNiB,aAAc,SACdD,UAAW,SACXmB,SAAU,GACVI,WAAY,IAEdC,SAAU,CACR6H,SAAS,EACTtK,UAAW,EACXI,OAAQ,OACRwC,SAAU,CAAC,EAAG,KAGlBooD,MAAO,CACL1gD,SAAS,EACT5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,IAGb4mF,MAAO,CACL5mF,SAAS,GAEXzE,QAAS,CACPyE,SAAS,EACT6kI,QAAS,OACThzG,YAAY,GAEd55B,MAAO,CACL+H,SAAS,EACThI,OAAQ,EACRzQ,MAAO,CACLoO,KAAM,sBACNG,OAAQ,OACRJ,UAAW,OAMnBivI,EAAY/hJ,UAAU+tB,MAAQ,WAC5B,IAAIpf,EAAUvO,KAAKuO,QACf24B,EAAS,GAGbA,EAAO34B,EAAQwxB,QAAU,GAErB,OAAMxxB,EAAS,UACjBk8F,GAAavjE,EAAO34B,EAAQwxB,QAASxxB,EAAQq1F,OAK/C18D,EAAO34B,EAAQuxB,QAAU,CACvB35B,KAAM,OAGJ,OAAMoI,EAAS,UACjBk8F,GAAavjE,EAAO34B,EAAQuxB,QAASvxB,EAAQmvD,OAG/C19D,KAAK2kG,UAAU,SAAUz9D,GAEzBjiC,EAAOrF,UAAU+tB,MAAM7tB,KAAKE,OAG9B2hJ,EAAY/hJ,UAAU4O,WAAa,SAAU/N,GAC3C,IAAI8N,EAAUtJ,EAAOrF,UAAU4O,WAAW1O,KAAKE,KAAMS,GAGrD,OADAT,KAAKsxE,cAAc/iE,GACZA,GAGTozI,EAAY/hJ,UAAU8P,UAAY,WAChCzK,EAAOrF,UAAU8P,UAAU5P,KAAKE,MAEhC,IAAIuO,EAAUvO,KAAKuO,QACfoyI,EAASpyI,EAAQkR,KAAKrb,KAAI,SAAUwa,GACtC,OAAOA,EAAE+hI,UAEPl0E,EAAUl+D,EAAQkR,KAAKrb,KAAI,SAAUwa,GACvC,OAAOA,EAAE6tD,WAEXzsE,KAAK8hJ,WAAa,IAAI,GAAW9hJ,KAAK+N,KAAM,CAC1C4yI,OAAQA,EACRpxH,SAAUhhB,EAAQghB,SAClBwQ,OAAQxxB,EAAQwxB,OAChB+gH,UAAWvyI,EAAQuyI,UACnBD,YAAatyI,EAAQsyI,aAAe,GACpCvqI,KAAM/H,EAAQ+H,OAEhBtW,KAAK+hJ,aAAe,IAAI,GAAa/hJ,KAAK+N,KAAM,CAC9C0+D,QAASA,EACT1sC,OAAQxxB,EAAQwxB,OAChB0hH,WAAYlzI,EAAQkzI,WACpBD,aAAcjzI,EAAQizI,cAAgB,GACtCtpI,YAAa3J,EAAQ2J,eAIzBypI,EAAY/hJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACpD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBw7I,EAAY/hJ,UAAU0mB,MAAQ,WAI5BtmB,KAAK2kG,UAAU,QAHG,CAChBxgG,QAAS,CAAC,CAAC,iBAOfw9I,EAAY/hJ,UAAUyX,OAAS,WAC7B,IAAI9I,EAAUvO,KAAKuO,QACfyzI,EAAczzI,EAAQ2J,YAAYvF,KAElC45B,EAAQ,CAAC,CACX3rC,MAAO,2BACP2zC,OAAQ,CACNt7B,OAAQ,SACRtG,MALgBpE,EAAQ0zI,eAAiBjiJ,KAAK2V,MAAMK,QAKhC,KAErB,CACDpV,MAAO,qBACP2zC,OAAQ,CACNt7B,OAAQ,OACRnG,OAAQkvI,EACRtvI,UAAW,KAIXmjD,EAAgB,oBAAS,oBAAS,CACpCC,QAAQ,EACRvpB,MAAOA,GACNh+B,EAAQ8I,QAAS,CAClBwrC,WAAW,IAGb7iD,KAAK2kG,UAAU,UAAW9uC,IAG5B8rF,EAAY/hJ,UAAUmkG,YAAc,WAClC,IAAIx1F,EAAUvO,KAAKuO,QACfmzI,EAASn3C,GAAQ,WAAY,OAAQ,CACvC5C,eAAgB,CAACp5F,EAAQuxB,OAAQvxB,EAAQwxB,QACzC6P,KAAM5vC,OAER0hJ,EAAO5vE,OAAS,CAAC,CACf3rE,KAAM,UAGJoI,EAAQ0G,QACVysI,EAAOzsI,MAAQjV,KAAKw+G,gBAGtBx+G,KAAK0hJ,OAASA,EACd1hJ,KAAK2kG,UAAU,UAAW+8C,IAG5BC,EAAY/hJ,UAAUiS,YAAc,SAAUC,GAC5C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1C2hJ,EAAY/hJ,UAAU4+G,aAAe,WACnC,IAAIjwG,EAAUvO,KAAKuO,QAEf0G,EAAQ,WAAU,GAAI1G,EAAQ0G,OAElC,OAAsB,IAAlBA,EAAM+H,SAIQk1E,GAAa,QAAS,oBAAS,CAC/CtiD,KAAM5vC,KACNutE,UAAW,WACX1W,OAAQ,CAACtoD,EAAQwxB,SAChB9qB,KAIL0sI,EAAY/hJ,UAAU0xE,cAAgB,SAAU/iE,GAC9CA,EAAQ2zI,QAAU3zI,EAAQqzI,aAAe,GACzC5hJ,KAAKmiJ,mBAAmB5zI,IAG1BozI,EAAY/hJ,UAAUuiJ,mBAAqB,SAAU5zI,GACnD,IAAI+f,EAAS,GACb/f,EAAQkR,KAAKvX,SAAQ,SAAU0W,GAC7B,OAAO0P,EAAO9d,KAAKoO,EAAE2pG,SAASl+B,QAAO,SAAUhtE,EAAGuC,GAChD,OAAOvC,EAAIuC,IACV,OAEL0O,EAAO9d,KAAKjC,EAAQghB,UACpBhhB,EAAQq1F,MAAMvsE,SAAWnZ,KAAKyH,IAAI5lB,MAAM,GAAIuuB,IAG9CqzH,EAAY/hJ,UAAUqkG,YAAc,SAAUm+C,GAC5C,IAAI7zI,EAAUvO,KAAKuO,QACfkR,EAAO,GAUX,OATA2iI,EAAYl6I,SAAQ,SAAU4nH,EAAUuyB,GAGtC,IAFA,IAAI78I,EAEK88I,EAAW,EAAGA,EAAWxyB,EAASvH,SAAS9oH,OAAQ6iJ,GAAY,EAAG,CACzE,IAAI1hJ,EAAQkvH,EAASvH,SAAS+5B,GAC1BxiH,EAASgwF,EAASnuH,OAAS,GAAK0gJ,EACpC5iI,EAAKjP,OAAMhL,EAAK,IAAO+I,EAAQuxB,QAAUA,EAAQt6B,EAAG+I,EAAQwxB,QAAUn/B,EAAO4E,EAAG+I,EAAQ65G,YAAc,GAAKk6B,EAAU98I,QAGlHia,GAGFkiI,EA/PT,CAgQE,IAEa,MACf16C,GAAiB,SAAU,KCnR3B,SAAUhiG,GAGR,SAASs9I,IACP,OAAkB,OAAXt9I,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUuiJ,EAAQt9I,GAMlBs9I,EAAO3iJ,UAAU0nG,aAAe,SAAU7mG,GACxC,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,SAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CspC,EAAO5+C,kBAAoB,GAAYA,kBAfzC,CAiBE,ICnBa,SAAS6+C,GAAS1T,IAuDjC,SAAS2T,EAAe3T,GACtBA,EAAKlQ,GAAK,EACVkQ,EAAK1tH,GAAK,EACV,IAAI9a,EAAWwoI,EAAKxoI,SAEhBA,GACF,gBAAKA,GAAU,SAAU4zB,GACvBA,EAAElrB,OAAS8/H,EACX50G,EAAE03G,MAAQ9C,EAAK8C,MAAQ,EACvB6Q,EAAevoH,MA/DnBuoH,CAAe3T,GAgBf,OAVAA,EAAKlQ,GAAK,EACVkQ,EAAKv6D,GAAK,EACVu6D,EAAK1tH,GAPI,EAQT0tH,EAAKztH,GAAKiqB,EACVo3G,GAAa5T,EASf,SAAsBxjG,EAAIpR,GACxB,OAAO,SAAUgT,GACXA,EAAK5mC,UACPuoI,GAAK3hG,EAAMA,EAAK0xF,GAAItzF,GAAM4B,EAAK0kG,MAAQ,GAAK13G,EAAGgT,EAAK9rB,GAAIkqB,GAAM4B,EAAK0kG,MAAQ,GAAK13G,GAGlF,IAAI0kG,EAAK1xF,EAAK0xF,GACVrqD,EAAKrnC,EAAKqnC,GACVnzD,EAAK8rB,EAAK9rB,GACVC,EAAK6rB,EAAK7rB,GACVD,EAAKw9G,IAAIA,EAAKx9G,GAAMw9G,EAAKx9G,GAAM,GAC/BC,EAAKkzD,IAAIA,EAAKlzD,GAAMkzD,EAAKlzD,GAAM,GACnC6rB,EAAK0xF,GAAKA,EACV1xF,EAAKqnC,GAAKA,EACVrnC,EAAK9rB,GAAKA,EACV8rB,EAAK7rB,GAAKA,GAxBOshI,CARV,EAGD,IAWD7T,EAsBT,SAAS4T,GAAa5T,EAAMjnH,GAI1B,IAHA,IAAI8jF,EAAQ,CAACmjC,GACT5hG,EAAO4hG,EAEJ5hG,EAAOy+D,EAAM9uC,OAAO,CACzBh1C,EAASqlB,GACT,IAAI5mC,EAAW4mC,EAAK5mC,SAEpB,GAAIA,EACF,IAAK,IAAI/G,EAAI+G,EAAS7G,OAAS,EAAGF,GAAK,IAAKA,EAC1CosG,EAAMn7F,KAAKlK,EAAS/G,KCjD5B,IAuBI,GAEJ,SAAU0F,GAGR,SAASwsI,IACP,OAAkB,OAAXxsI,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KA4N7D,OA/NA,qBAAUyxI,EAAsBxsI,GAMhCwsI,EAAqB5+C,oBAAsB,SAAUC,EAAY/X,GAC/D,IA7B6D7rE,EA6BzDy7E,QA5BM,KADmDz7E,EA6BvB6rE,KA3BtC7rE,EAAM,IAGG,oBAAS,CAClBN,EAAG,EACHC,EAAG,EACH6iI,UAAW,CACTz/H,KAAM,QAERwzC,UAfqB,IAgBrBxR,WAfsB,GAgBtBptC,QAAS,CAAC,EAAG,EAAG,EAAG,IAClBqI,IAgBG1J,EAAKmlF,EAAO9jF,QACZo2F,EAAaz3F,EAAG,GAChB23F,EAAgB33F,EAAG,GACvB,OAAO,IAAI,QAAKstF,EAAWvqE,KAAMuqE,EAAWpqE,KAAOiiE,EAAO12C,WAAagpD,EAAaE,EAAerK,EAAWtuF,MAAOmmF,EAAO12C,WAAagpD,EAAaE,IAGxJs0C,EAAqB7xI,UAAUsR,MAAQ,SAAUmuC,GAC/C,IAAI5/B,EAAO4/B,EAAG5/B,KAAK27C,QAEf37C,EAAKnZ,WACPtG,KAAKuuC,WAAa,CAChBr0B,MAAOmlC,EAAG//C,OACVmgB,KAAM,CACJxN,KAAM,iBAAMjS,KAAK2xI,YAAY1/H,MAC7BrR,MAAO,iBAAMZ,KAAK2xI,YAAY/wI,QAEhCgxI,MAAO,iBAAM5xI,KAAK6xI,eAEpB7xI,KAAK6xI,eAEL7xI,KAAKqqB,OAAO5K,KAIhBgyH,EAAqB7xI,UAAUyqB,OAAS,SAAU5K,GAC3C,kBAAOzf,KAAKmjC,MAAO1jB,EAAKxN,QAC3BjS,KAAKmjC,MAAM1jB,EAAKxN,MAAQwN,GAG1B,IAAIuyH,EAAYhyI,KAAK4vC,KAAKgzG,gBAAgBnjI,EAAMzf,KAAK4vC,KAAKrhC,QAAQulI,UAClE9zI,KAAK+N,KAAKwqE,WAAWy5D,GACrBhyI,KAAK2xI,YAAclyH,EACnBzf,KAAK2P,UAGP8hI,EAAqB7xI,UAAU+P,OAAS,WACtC,GAAI3P,KAAKkyI,WAAY,CACnB,IAAI3lG,EAAQvsC,KAAKmyI,WACjBnyI,KAAKkyI,WAAW7nH,OAAO,CACrBkiB,MAAOA,IAETvsC,KAAKsX,cAELtX,KAAKoyI,eACLpyI,KAAKmjC,MAAQ,GACbnjC,KAAKqyI,oBACLryI,KAAK0O,UAAY1O,KAAK0O,UAAY1O,KAAK4vC,KAAK7gC,OAAOw+B,WAE9CvtC,KAAK0xI,YACR1xI,KAAK0xI,UAAY,CACfz/H,KAAM,SAIkB,SAAxBjS,KAAK0xI,UAAUz/H,MACjBjS,KAAKsyI,cAAgB,kBAAOtyI,KAAK4vC,KAAKrhC,QAAQkR,KAAM,QAAUzf,KAAK4vC,KAAKrhC,QAAQkR,KAAKxN,KAAO,OAC5FjS,KAAK2xI,YAAc3xI,KAAK4vC,KAAKrhC,QAAQkR,KACrCzf,KAAK6xI,aAAe,IAEpB7xI,KAAKsyI,cAAgBtyI,KAAK0xI,UAAUz/H,KACpCjS,KAAK2xI,YAAc3xI,KAAK0xI,WAG1B1xI,KAAK6O,EAAI7O,KAAK+N,KAAKkP,IAAI,aAAayL,KA/FxB,GAgGZ1oB,KAAKkyI,WAAa,IAAI,GAAW,CAC/BxjI,UAAW1O,KAAK0O,UAChBE,EAAG,EACHC,EAAG7O,KAAK6O,EACR09B,MAAOvsC,KAAKmyI,aAEdnyI,KAAKkyI,WAAWviI,SAChB3P,KAAKsX,SAGPtX,KAAKuyI,iBAGPd,EAAqB7xI,UAAUmQ,MAAQ,aAEvC0hI,EAAqB7xI,UAAU0X,OAAS,WACtC,IAAIw5G,EAAe9wH,KAAK0O,UAAUua,UAAUzkB,MACxCoK,GAAK5O,KAAK4vC,KAAKprC,MAAQssH,GAAgB,EAC3C9wH,KAAKkyI,WAAW7nH,OAAO,CACrBzb,EAAGA,EACHC,EAAG7O,KAAK6O,KAIZ4iI,EAAqB7xI,UAAUuyI,SAAW,WACxC,IAAI5lG,EAAQ,GAEZ,GAAIvsC,KAAK2xI,YAAY1/H,MAAQjS,KAAK2xI,YAAY1/H,OAASjS,KAAKsyI,cAAe,CACzE,IAAIE,EAAWxyI,KAAKyyI,cACpBlmG,EAAM/7B,KAAKgiI,OACN,CACLjmG,EAAQ,GACR,IAAImmG,EAAU,GACd1yI,KAAK2yI,WAAW3yI,KAAK2xI,YAAae,GAClCA,EAAQ71G,UAER,gBAAK61G,GAAS,SAAUryI,EAAGiE,GACzBioC,EAAM/7B,KAAK,CACT7Q,IAAK+f,OAAOpb,EAAQ,GACpBoP,KAAMrT,EAAE4R,KACRwN,KAAMpf,OAGVksC,EAAM/7B,KAAK,CACT7Q,IAAK+f,OAAOgzH,EAAQjzI,OAAS,GAC7BiU,KAAM1T,KAAK2xI,YAAY1/H,KACvBwN,KAAMzf,KAAK2xI,cAIf,OAAOplG,GAGTklG,EAAqB7xI,UAAU+yI,WAAa,SAAUlzH,EAAMizH,GACtDjzH,EAAKzQ,SACH,kBAAOhP,KAAKmjC,MAAO1jB,EAAKzQ,OAAOiD,MACjCygI,EAAQliI,KAAKxQ,KAAKmjC,MAAM1jB,EAAKzQ,OAAOiD,OAEpCygI,EAAQliI,KAAKiP,EAAKzQ,QAGpBhP,KAAK2yI,WAAWlzH,EAAKzQ,OAAQ0jI,KAMjCjB,EAAqB7xI,UAAU2yI,cAAgB,WAC7C,IAAIrtI,EAAQlF,KAEZA,KAAK0O,UAAUV,GAAG,SAAS,SAAUqxC,GACnC,IAAIyjB,EAAezjB,EAAG//C,OAAO2d,IAAI,UAEjC,GAAI6lD,GAA8C,eAA9BA,EAAa7lD,IAAI,SAA2B,CAC9D,IAAIwC,EAAOqjD,EAAa7lD,IAAI,QAE5B,GAAIwC,EAAKA,KACP,GAAIA,EAAK/L,OAASxO,EAAMotI,cAAe,CAGjCptI,EAAM2sI,aAER3sI,EAAM0tI,WAAWnzH,GAMnBva,EAAM2sI,aAAe,MAChB,IAAI3sI,EAAMysI,cAAgBlyH,EAAKA,KACpC,OAEoB,iBAAMva,EAAM2sI,cAChC3sI,EAAM2sI,aAAe99G,SAAStU,EAAK9f,KAETuF,EAAM2sI,aAE9B3sI,EAAMmlB,OAAO5K,EAAKA,YAW9BgyH,EAAqB7xI,UAAU6yI,YAAc,WAC3C,IAAIK,EAAW9yI,KAAK4vC,KAAKrhC,QAAQkR,KAEjC,MAAO,CACL9f,IAAK,IACL+T,KAHa,kBAAOo/H,EAAU,QAAUA,EAAS7gI,KAAO,OAIxDwN,KAAMzf,KAAK4vC,KAAKkjG,WAIpBrB,EAAqB7xI,UAAUyyI,kBAAoB,WACjD,IAAI7sI,EAAKxF,KAAK4vC,KAAKrhC,QAGfwkI,EAAc,CAChBnrG,MAHepiC,EAAGm8E,WAIlBrzD,OAHW9oB,EAAGwQ,QAKhBhW,KAAKgzI,cAAgBD,GAGvBtB,EAAqB7xI,UAAUwyI,aAAe,WAC5CpyI,KAAKqrH,SAAWrrH,KAAK+N,KAAKkP,IAAI,YAAY,GAC1C,IAAI05C,EAAY32D,KAAK+N,KAAKkP,IAAI,aAC1BvO,EAAY1O,KAAKqrH,SAASpuG,IAAI,aAC9BmoF,EAAS,IAAI,QAAK,CACpB/gF,MAAO,CACLzV,EAAG+nD,EAAUpuC,KACb1Z,EAAG8nD,EAAUluC,KACbjkB,MAAOmyD,EAAUnyD,MACjBsK,OAAQ6nD,EAAU7nD,UAGtBJ,EAAU0Z,KAAK,OAAQg9E,IAGzBqsC,EAAqB7xI,UAAUgzI,WAAa,SAAUnzH,GACpD,IAAIuyH,EAAYhyI,KAAK4vC,KAAKgzG,gBAAgBnjI,EAAKA,KAAMzf,KAAK4vC,KAAKrhC,QAAQulI,UACvE9zI,KAAK+N,KAAKwqE,WAAWy5D,GACrBhyI,KAAK2xI,YAAc3xI,KAAK4vC,KAAKrhC,QAAQkR,KACrCzf,KAAK2P,UAGA8hI,EAhOT,CAiOE,IAEa,MACf,GAAgBj/C,oBAAoB,YAAa,ICjQ1C,IAAI,GAAkB,CAC3B0gD,UAAW,ICKb,IAgLe,GA9Kf,WACE,SAASjoB,EAAc/7G,GACrBlP,KAAKmO,WAAY,EACjBnO,KAAK+N,KAAOmB,EAAInB,KAChB/N,KAAK4vC,KAAO1gC,EAAI0gC,KAChB,IAAIj+B,EAAiB3R,KAAK2jG,oBAC1B3jG,KAAKuO,QAAU,mBAAQoD,EAAgBzC,EAAK,IAC5ClP,KAAKoP,OAoKP,OAjKA67G,EAAcrrH,UAAUwP,KAAO,WAC7B,IAAIlK,EAAQlF,KAERorH,EAAgBprH,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,aACrDjd,KAAK0O,UAAY08G,EAAc79E,WAC/BvtC,KAAK+N,KAAKC,GAAG,gBAAgB,WAC3B9I,EAAM6K,QAEN7K,EAAM0qC,KAAK7gC,OAAOe,WAItBm7G,EAAcrrH,UAAU+P,OAAS,WAC/B,IAAIzK,EAAQlF,KAERqrH,EAAWrrH,KAAK+N,KAAKkP,IAAI,YAAY,GACrC/G,EAASm1G,EAASjgG,YACtB,gBAAKlV,GAAQ,SAAUgE,GACrB,IAAI3V,EAAQW,EAAMqJ,QAAQhK,MAEtBiS,EAAWtR,EAAMomH,YAAYpxG,GAE7BtZ,EAAQsE,EAAMq7C,SAASrmC,GAEvB+U,EAAY/pB,EAAMqJ,QAAQ0gB,UAC1B49B,EAAU59B,EAAYA,EAAUruB,GAASA,EAEzCshB,EAAShd,EAAM29I,UAAUrsI,EAAS6H,OAEtCnZ,EAAMwJ,UAAUge,SAAS,OAAQ,CAC/BrI,MAAO,mBAAQ,GAAI9f,EAAO,CACxBqK,EAAG4H,EAAS5H,EACZC,EAAG2H,EAAS3H,EACZ6E,KAAMm5C,EACNl5C,UAAW,SACXC,aAAc,SACdsO,OAAQA,SAICmpG,EAASpuG,IAAI,mBACnBkwD,gBAAkBntE,KAAK0O,UAChC1O,KAAK4vC,KAAK7gC,OAAOe,QAGnBm7G,EAAcrrH,UAAU0Q,KAAO,WAC7BtQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAK4vC,KAAK7gC,OAAOe,QAGnBm7G,EAAcrrH,UAAUwQ,KAAO,WAC7BpQ,KAAK0O,UAAU2B,IAAI,WAAW,GAC9BrQ,KAAK4vC,KAAK7gC,OAAOe,QAGnBm7G,EAAcrrH,UAAUmQ,MAAQ,WAC1B/P,KAAK0O,WACP1O,KAAK0O,UAAUqB,SAInBk7G,EAAcrrH,UAAUk8G,QAAU,WAC5B97G,KAAK0O,WACP1O,KAAK0O,UAAUyB,SAGjBnQ,KAAKmO,WAAY,GAGnB88G,EAAcrrH,UAAUqpB,QAAU,aAElCgiG,EAAcrrH,UAAU+jG,kBAAoB,WAC1C,IAAIhuF,EAAQ3V,KAAK4vC,KAAKj6B,MAClB81G,EAAa,iBAAM91G,EAAMV,MAAM1Q,OAQnC,OANKknH,EAAW32G,WACd22G,EAAW32G,SAAW,IAGxB22G,EAAWv2G,WAAau2G,EAAW32G,SACnC22G,EAAW34G,OAAS,KACb,CACL0D,SAAU,QACV8zB,QAAS,EACTC,QAAS,EACThmC,MAAOknH,EACP3O,aAAa,EACb/lD,gBAAgB,IAIpBk0D,EAAcrrH,UAAU0rH,YAAc,SAAUpxG,GAC9C,IAII3G,EACA8K,EALAiI,EAAQpM,EAAM+C,IAAI,SAOtB,GALW/C,EAAM+C,IAAI,UAAUm+C,QAKtBw2E,OAAS,EAAG,CACnB,IAAItpH,EAASpO,EAAM+C,IAAI,UAAUqL,OAC7B1Z,GAAK0Z,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,EAAI0Z,EAAO,GAAG1Z,GAAK,EAC9DC,GAAKyZ,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,EAAIyZ,EAAO,GAAGzZ,GAAK,EAClE0E,EAAQ+S,EAAMoH,aAAa,CACzB9e,EAAGA,EACHC,EAAGA,IAELwP,EA5HN,SAAuBiI,EAAO/S,GAC5B,IAAIoT,EAASL,EAAMM,YACnB,OAAO1I,KAAKm0C,MAAM9+C,EAAM1E,EAAI8X,EAAO9X,EAAG0E,EAAM3E,EAAI+X,EAAO/X,GA0H3C,CAAc0X,EAAO,CAC3B1X,EAAG2E,EAAM3E,EACTC,EAAG0E,EAAM1E,QAEN,CACL,IAAIg8B,EAAO3wB,EAAM+O,UAGjB1V,EAAQ,CACN3E,EAHEA,EAAIi8B,EAAKtiB,KAAOsiB,EAAKrmC,MAAQ,EAI/BqK,EAHEA,EAAIg8B,EAAKpiB,KAAOoiB,EAAK/7B,OAAS,GAKlCuP,EAAQ,EAGV,MAAO,CACLzP,EAAG2E,EAAM3E,EACTC,EAAG0E,EAAM1E,EACTwP,MAAOA,IAIX4sG,EAAcrrH,UAAU2gD,SAAW,SAAUrmC,GAC3C,IAAIynE,EAAa3hF,KAAK4vC,KAAKrhC,QAAQozE,WAE/BjuE,EAAOwG,EAAM+C,IAAI,UAAUm+C,QAAQumB,GAEnC3hF,KAAK4vC,KAAKrhC,QAAQ0G,OAASjV,KAAK4vC,KAAKrhC,QAAQ0G,MAAM2yB,QACrDl0B,EAAOwG,EAAM+C,IAAI,UAAUm+C,QAAQp7D,KAAK4vC,KAAKrhC,QAAQ0G,MAAM2yB,QAG7D,IAAItZ,EAAS5O,OAAOhM,GAAMmQ,MAAM,KAEhC,OAAIyK,EAAO7uB,OAAS,EACX6uB,EAAO1K,KAAK,MAGd0K,EAAO,IAGhB28F,EAAcrrH,UAAUijJ,UAAY,SAAUxkI,GAC5C,IAAI6D,EAAiB,IAAR7D,EAAcH,KAAKK,GAUhC,OARI2D,IACEA,EAAS,GACXA,GAAkB,IACTA,GAAU,KACnBA,GAAkB,MAIfA,EAAS,IAAMhE,KAAKK,IAGtB0sG,EA3KT,GCIA,UAASjiH,GAXa,CACpB85I,gBAAiB,gBACjBC,mBAAoB,mBACpBC,oBAAqB,oBACrBC,qBAAsB,qBACtBC,qBAAsB,qBACtBC,oBAAqB,oBACrBC,kBAAmB,kBACnBC,sBAAuB,wBCDzB,IAAI,GAEJ,SAAUp+I,GAGR,SAASq+I,IACP,IAAIp+I,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EA2RT,OAjSA,qBAAUo+I,EAAer+I,GASzBq+I,EAAc3/C,kBAAoB,WAChC,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxDwT,OAAQ,GACRiyB,YAAa,EACbquG,SAAUl7G,IACV/xB,QAAS,CAAC,EAAG,EAAG,EAAG,GACnB0R,QAAS,CACP5D,WAAW,EACXqI,SAAS,EACTgjD,QAAQ,EACRnxB,YAAY,GAEdx3B,OAAQ,CACN2F,SAAS,GAEX0gD,MAAO,CACL1gD,SAAS,GAEX4mF,MAAO,CACL5mF,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEX8iB,OAAQ,IACRC,OAAQ,IACRg+D,KAAM,CACJnvF,EAAG,CACD0oB,MAAM,GAERzoB,EAAG,CACDyoB,MAAM,OAMdgsH,EAAc1jJ,UAAUuP,WAAa,WACnC,IAAIjK,EAAQlF,KAEZiF,EAAOrF,UAAUuP,WAAWrP,KAAKE,MAEjC,IAAIyf,EAAOzf,KAAKuO,QAAQkR,KACpB8jI,EAAevjJ,KAAK4iJ,gBAAgBnjI,GACxCzf,KAAK8yI,SAAWyQ,EAChBvjJ,KAAKwjJ,kBAAkBD,GACvB,IAAIjrE,EAAet4E,KAAKuO,QAAQ+pE,aAE5BA,GACF,QAAOA,GAAc,SAAUyC,GACJ,cAArBA,EAAY50E,OACdjB,EAAMovI,aAAc,OAM5BgP,EAAc1jJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACtD,MAAO,WAGTm9I,EAAc1jJ,UAAUgjJ,gBAAkB,SAAUnjI,EAAM45G,GACxD55G,EAAKmyH,MAAQ,EACb,IAAI9C,EAAO0T,GAAS/iI,GAChBgkI,EAAe,GAWnB,OAVAzjJ,KAAKw0I,YAAY1F,EAAKxoI,SAAUm9I,EAAcpqB,GAC9CoqB,EAAajzI,KAAK,oBAAS,oBAAS,GAAIs+H,GAAO,CAC7ClgI,EAAG,CAACkgI,EAAKlQ,GAAIkQ,EAAK1tH,GAAI0tH,EAAK1tH,GAAI0tH,EAAKlQ,GAAIkQ,EAAK1tH,IAC7CvS,EAAG,CAACigI,EAAKztH,GAAIytH,EAAKztH,GAAIytH,EAAKv6D,GAAIu6D,EAAKv6D,GAAIu6D,EAAKv6D,OAE/CkvE,EAAa1sH,MAAK,SAAU1Z,EAAGuC,GAC7B,OAAOvC,EAAEu0H,MAAQhyH,EAAEgyH,SAErB5xI,KAAKuO,QAAQuxB,OAAS,IACtB9/B,KAAKuO,QAAQwxB,OAAS,IACf0jH,GAGTH,EAAc1jJ,UAAUqkG,YAAc,WACpC,OAAOjkG,KAAK8yI,UAGdwQ,EAAc1jJ,UAAU0mB,MAAQ,WAC9B,IAAI7lB,EAAQT,KAAKuO,QACbwmH,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAAQ/S,EAAM+S,OACdiyB,YAAahlC,EAAMglC,cAGvBzlC,KAAK2kG,UAAU,QAASowB,IAG1BuuB,EAAc1jJ,UAAUmkG,YAAc,WACpC,IAAI7+F,EAAQlF,KAERwF,EAAKxF,KAAKuO,QACVkR,EAAOja,EAAGia,KAGV8jI,GAFa/9I,EAAGm8E,WACRn8E,EAAGyO,MACIjU,KAAK4iJ,gBAAgBnjI,IACxCzf,KAAK8yI,SAAWyQ,EAChBvjJ,KAAKya,KAAO,CACVtU,KAAM,UACNqQ,SAAU,CACRqgD,OAAQ,CAAC,IAAK,MAEhB5iD,MAAOjU,KAAK0jJ,eAAeH,GAC3BhrI,QAAS,CACPs+C,OAAQ,CAAC,SAEX5hD,OAAO,EACP1Q,MAAO,CACLsyD,OAAQ,CAAC,OAAQ,QAAS,SAC1BhvC,SAAU,SAAkB5V,EAAMrR,EAAOgxI,GACvC,IAAI7jD,EAAe7oF,EAAMy+I,mBAAmB/R,GAE5C,OAAI,cAAa1sI,EAAMqJ,QAAQq1I,eACtB1+I,EAAMqJ,QAAQq1I,cAAc3xI,EAAMrR,EAAOgxI,GAG3C,WAAU,GAAI7jD,EAAc7oF,EAAMqJ,QAAQq1I,kBAIvD5jJ,KAAK2kG,UAAU,UAAW3kG,KAAKya,OAGjC6oI,EAAc1jJ,UAAUorB,UAAY,WAClC/lB,EAAOrF,UAAUorB,UAAUlrB,KAAKE,MAE5BA,KAAKs0I,cACPt0I,KAAKya,KAAK+B,SAAU,IAIxB8mI,EAAc1jJ,UAAUskG,kBAAoB,WAC1C,IAAIh/F,EAAQlF,KAER00I,EAAiB10I,KAAKuO,QAAQ+pE,aAC9BA,EAAet4E,KAAK+N,KAAKkP,IAAI,gBAEjC,QAAOy3H,GAAgB,SAAUC,GAC/B,IAAIC,EAAM,GAAgBD,EAAMxuI,MAEhC,GAAIyuI,EAAK,CACP,IAAI75D,EAAc,IAAI65D,EAAI,WAAU,GAAI,CACtC7mI,KAAM7I,EAAM6I,KACZ6hC,KAAM1qC,EACN6xE,WAAY,iBACX49D,EAAMzlI,MACTopE,EAAaq8D,EAAMxuI,MAAQ40E,OAKjCuoE,EAAc1jJ,UAAUiS,YAAc,SAAUC,GAC9C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1CsjJ,EAAc1jJ,UAAUu/F,YAAc,WAChCn/F,KAAKuO,QAAQ0G,OAASjV,KAAKuO,QAAQ0G,MAAM+H,SAC/B,IAAI,GAAc,oBAAS,CACrCjP,KAAM/N,KAAK+N,KACX6hC,KAAM5vC,MACLA,KAAKuO,QAAQ0G,QACVtF,SAGR1K,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,OAGpCsjJ,EAAc1jJ,UAAU40I,YAAc,SAAU/0H,EAAMksF,EAAO0tB,GAC3D,IAAIn0H,EAAQlF,KAER2lB,EAAM0zG,GAAgBr5H,KAAKuO,QAAQulI,SAEvC,QAAOr0H,GAAM,SAAUb,GACjB,UAASA,EAAG,OAASA,EAAEgzH,OAASjsH,GAClCgmF,EAAMn7F,KAAK,oBAAS,oBAAS,GAAIoO,GAAI,CACnC/P,EAAG,CAAC+P,EAAEggH,GAAIhgH,EAAEwC,GAAIxC,EAAEwC,GAAIxC,EAAEggH,IACxBhwH,EAAG,CAACgQ,EAAEyC,GAAIzC,EAAEyC,GAAIzC,EAAE21D,GAAI31D,EAAE21D,OAIxB,UAAS31D,EAAG,aACd1Z,EAAMsvI,YAAY51H,EAAEtY,SAAUqlG,OAKpC23C,EAAc1jJ,UAAU8jJ,eAAiB,SAAUjkI,GACjD,IAAIja,EAAKxF,KAAKuO,QACVozE,EAAan8E,EAAGm8E,WAChB3rE,EAASxQ,EAAGwQ,OAEhB,GAAI,cAAaA,GACf,MAAO,CACL6gD,OAAQ,CAAC8qB,GACT95D,SAAU7R,GAId,GAAI,YAAWyJ,EAAK,GAAGkiE,IAAc,CACnC,IACIkiE,EADAC,EAAiB,GAWrB,GARA,QAAOrkI,GAAM,SAAUb,GACrB,IAAIhe,EAAQge,EAAE+iE,GAET,OAAM/gF,EAAOkjJ,IAChBA,EAAetzI,KAAK5P,MAIpBoV,EACF6tI,EAAiB7tI,MACZ,CACL,IAAIL,EAAQ3V,KAAKqS,WACjBwxI,EAAiBC,EAAerkJ,QAAU,EAAIkW,EAAMM,UAAYN,EAAMK,OAIxE,IAAI+tI,EAAgB,GAQpB,OANA,QAAOD,GAAgB,SAAUxmI,EAAG/d,GAClC,IAAI+E,EAAQ/E,GAAKukJ,EAAerkJ,OAAS,EAAIF,EAAIA,EAAIukJ,EAAerkJ,OAChEwU,EAAQ4vI,EAAev/I,GAC3By/I,EAAczmI,GAAKrJ,KAGd,CACL4iD,OAAQ,CAAC8qB,GACT95D,SAAU,SAAkBvK,GAC1B,OAAOymI,EAAczmI,KAIzB,MAAO,CACLu5C,OAAQ,CAAC8qB,GACTrzD,OAAQtY,IAKdstI,EAAc1jJ,UAAU4jJ,kBAAoB,SAAU/jI,GACpD,IAAIja,EAAKxF,KAAKuO,QACVozE,EAAan8E,EAAGm8E,WAChBoc,EAAOv4F,EAAGu4F,KAEd,GAAI,YAAWt+E,EAAK,GAAGkiE,IAAc,CACnC,IAAIhpD,EAAQC,IACRE,GAASF,IAEb,QAAOnZ,GAAM,SAAUb,GACrB,IAAIhe,EAAQge,EAAE+iE,GACdhpD,EAAQza,KAAKuR,IAAI7uB,EAAO+3B,GACxBG,EAAQ5a,KAAKyH,IAAI/kB,EAAOk4B,MAG1B,IAAIkrH,EAAcjmD,EAAKpc,GACvBoc,EAAKpc,GAAc,WAAU,GAAIqiE,EAAa,CAC5Cv0H,IAAKkJ,EACLhT,IAAKmT,MAKXwqH,EAAc1jJ,UAAU+jJ,mBAAqB,SAAU/R,GACrD,OAAIA,EAAQ,EACH,CACL9+H,OAAQ,UACRJ,UAAW,GAIR,IAGF4wI,EAlST,CAmSE,IAEa,MACfr8C,GAAiB,WAAY,KC1S7B,SAAUhiG,GAGR,SAASg/I,IACP,OAAkB,OAAXh/I,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUikJ,EAAUh/I,GAMpBg/I,EAASrkJ,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CgrC,EAAStgD,kBAAoB,GAAcA,kBAf7C,CAiBE,IAnBF,ICkEe,GA/Df,SAAU1+F,GAGR,SAASi/I,IACP,OAAkB,OAAXj/I,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAwD7D,OA3DA,qBAAUkkJ,EAAWj/I,GAMrBi/I,EAAUvgD,kBAAoB,WAC5B,OAAO,WAAU,GAAI1+F,EAAO0+F,kBAAkB7jG,KAAKE,MAAO,CACxD2B,MAAO,CACLqb,SAAS,GAEXpb,YAAa,CACXob,SAAS,GAEXnW,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBwQ,OAAQ,CACN2F,SAAS,GAEX0gD,MAAO,CACL1gD,SAAS,GAEX4mF,MAAO,CACL5mF,SAAS,GAEXzE,QAAS,CACPyE,SAAS,MAKfknI,EAAUtkJ,UAAU0mB,MAAQ,aAE5B49H,EAAUtkJ,UAAUmkG,YAAc,aAElCmgD,EAAUtkJ,UAAU6Z,WAAa,WAC/B,IAAIvU,EAAQlF,KAERS,EAAQT,KAAKuO,QACbo8E,EAAS,GACTw5D,EAAsB,CACxB/wI,KAAM,CACJ7O,MAAO,CACLmO,UAAW,EACXI,OAAQ,aAKd,QAAOrS,EAAMwxF,WAAW,SAAU7+E,GAChC,IAAI6+E,EAAYC,GAAa,YAAa,CACxCtiD,KAAM1qC,EACNgK,IAAK,WAAU,GAAIi1I,EAAqB/wI,KAE1Cu3E,EAAOn6E,KAAKyhF,MAGdjyF,KAAK2kG,UAAU,cAAeha,IAGzBu5D,EA5DT,CA6DE,ICMa,GAtEf,WACE,SAASE,EAAOl1I,GACd,UAASlP,KAAMkP,GAEflP,KAAKoP,OA+DP,OA5DAg1I,EAAOxkJ,UAAUoQ,QAAU,WACrBhQ,KAAKka,OACPla,KAAKka,MAAMlK,WAIfo0I,EAAOxkJ,UAAUyqB,OAAS,SAAUnb,EAAK0Y,EAAUD,GACjD,IAAI08H,EAAY,GAMhB,GAJA,UAASrkJ,KAAMkP,GAEflP,KAAKsmB,MAAQtmB,KAAK+N,KAAKkP,IAAI,SAEvB/N,EAAItO,MAAO,CACb,IAII0mB,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAJrBtnB,KAAKsmB,MAAM0e,QAAQ,CACzBp2B,EAAG,EACHC,EAAG7O,KAAKY,QACPgO,EACgC,EAAG,GACtCy1I,EAAU/8H,OAASA,EAGrB,GAAIpY,EAAI3K,MAAO,CACb,IAAI+/I,EAActkJ,KAAKka,MAAMmK,MAEzBA,EAAQ,WAAU,GAAIigI,EAAap1I,EAAI3K,OAE3C8/I,EAAY,WAAU,GAAIhgI,EAAOggI,GAGnCrkJ,KAAKka,MAAMm6B,cACXr0C,KAAKka,MAAMsC,QAAQ6nI,EAAWz8H,EAAUD,IAG1Cy8H,EAAOxkJ,UAAUwP,KAAO,WACtBpP,KAAKsmB,MAAQtmB,KAAK+N,KAAKkP,IAAI,SAC3Bjd,KAAK0O,UAAY1O,KAAK+N,KAAKkP,IAAI,aAC/B,IAAIrO,EAAI5O,KAAKsmB,MAAM0e,QAAQ,CACzBp2B,EAAG,EACHC,EAAG7O,KAAKY,QACPgO,EAEC2lE,EAAKv0E,KAAKsmB,MAAMK,OAAO9X,EAAI7O,KAAKukJ,aAAe,EAAI,EACnDljI,EAAKrhB,KAAKsmB,MAAMK,OAAO9X,EAAI7O,KAAKukJ,aAAe,EAAI,EAEnDhgJ,EAAQ,WAAU,GAAI,CACxBuO,OAAQ,OACRJ,UAAW,GACV1S,KAAKuE,OAERvE,KAAKka,MAAQla,KAAK0O,UAAUge,SAAS,OAAQ,CAC3CrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAK,EAAGm4D,GAAK,CAAC,IAAK,EAAGlzD,KAC7B9c,GACH0N,KAAM,oBAERjS,KAAKka,MAAM02B,KAAKhiC,EAAG,GACnB5O,KAAK+O,OAAOe,QAGPs0I,EAnET,GCQA,UAASp7I,GAXa,CACpBw7I,gBAAiB,iBACjBC,mBAAoB,oBACpBC,oBAAqB,qBACrBC,oBAAqB,qBACrBC,kBAAmB,mBACnBC,qBAAsB,sBACtBC,qBAAsB,sBACtBC,sBAAuB,yBCHzB,IAAI,GAAc,CAChBC,SAAU,YAER,GAAgB,CAClB/xI,SAAU,YAER,GAAgB,CAAC,UAAW,WAE5B,GAEJ,SAAUhO,GAGR,SAASggJ,IAIP,IAAI//I,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAIhE,OAFAkF,EAAMiB,KAAO,WACbjB,EAAMggJ,WAAY,EACXhgJ,EAkTT,OA5TA,qBAAU+/I,EAAehgJ,GAazBggJ,EAAcrlJ,UAAUulJ,aAAe,WACrC,IAAI1kJ,EAAQT,KAAKuO,QACjB9N,EAAMgf,KAAOzf,KAAKikG,cAClB,IAAI/0F,EAAM,CACRrI,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBi5B,OAAQ,QACRC,OAAQ,IACRqoF,WAAY,OACZ85B,QAASzhJ,EAAMyF,KAAOzF,EAAMyF,KAAOlG,KAAKooE,UACxCg9E,SAAU3kJ,EAAM4kJ,cAChBpxI,MAAOjU,KAAKslJ,gBAAgB7kJ,IAAU,IAExCA,EAAQ,OAAMA,EAAOyO,IAGvB+1I,EAAcrlJ,UAAUwP,KAAO,WAC7BpP,KAAKmlJ,eAELlgJ,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7BilJ,EAAcrlJ,UAAUuP,WAAa,WACnC,IAAIygB,EAAU5vB,KAAKuO,QAAQqhB,QAE3B,IAAK,YAAWA,GACd,MAAM,IAAIha,MAAM,uEAIpBqvI,EAAcrlJ,UAAUyqB,OAAS,SAAUnb,GACzC,IAAIzO,EAAQT,KAAKuO,QAYjB,GAVI,UAASW,EAAK,aAChBzO,EAAMmvB,QAAU1gB,EAAI0gB,QACpB5vB,KAAKu4E,WAAWv4E,KAAKikG,gBAGnB/0F,EAAI3K,QACNvE,KAAKulJ,qBAAqBr2I,EAAI3K,OAC9BvE,KAAKwlJ,yBAAyBt2I,EAAI3K,QAGhC2K,EAAI+E,MAAO,CACb,IAAI1P,OAAQ,EAER,WAAU2K,EAAI+E,QAChBjU,KAAKuO,QAAQ0F,MAAQ/E,EAAI+E,MACzB1P,EAAQ,CAAC,CACPoO,KAAMzD,EAAI+E,MAAM,IACf,CACDtB,KAAMzD,EAAI+E,MAAM,OAGlBjU,KAAKuO,QAAQ0F,MAAM,GAAK/E,EAAI+E,MAC5B1P,EAAQ,CACNoO,KAAMzD,EAAI+E,QAIdjU,KAAKulJ,qBAAqBhhJ,GAGxB2K,EAAIqlC,SACNv0C,KAAKylJ,cAAcv2I,EAAIqlC,QACvBv0C,KAAKuO,QAAQgmC,OAASrlC,EAAIqlC,SAI9B0wG,EAAcrlJ,UAAUoQ,QAAU,WAC5BhQ,KAAK0lJ,SAAW1lJ,KAAK0lJ,QAAQjmJ,OAAS,IACxC,QAAOO,KAAK0lJ,SAAS,SAAUnxG,GAC7BA,EAAOvkC,aAGThQ,KAAK0lJ,QAAU,IAGjBzgJ,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhCilJ,EAAcrlJ,UAAUu/F,YAAc,WACpC,IAAIj6F,EAAQlF,KAERA,KAAKuO,QAAQgmC,SAAWv0C,KAAK0lJ,UAC/B1lJ,KAAK0lJ,QAAU,GAEf,QAAO1lJ,KAAKuO,QAAQgmC,QAAQ,SAAUrlC,GACpC,IAAIqgC,EAAY,OAAM,CACpBxgC,OAAQ7J,EAAM6J,OACdhB,KAAM7I,EAAM6I,KACZw2I,aAAcr/I,EAAMqJ,QAAQ2zI,SAC3BhzI,GAECqlC,EAAS,IAAI,GAAOhF,GAExBrqC,EAAMwgJ,QAAQl1I,KAAK+jC,OAIvB,IAAIoxG,EAAoB3lJ,KAAK+N,KAAKkP,IAAI,YAAY,GAAGA,IAAI,aACrD4tB,EAAO86G,EAAkB18H,UACzBxO,EAAOkrI,EAAkBj5H,SAAS,OAAQ,CAC5CrI,MAAO,CACL7f,MAAOqmC,EAAKrmC,MACZsK,OAAQ+7B,EAAK/7B,OACbF,EAAGi8B,EAAKtiB,KACR1Z,EAAGg8B,EAAKpiB,KACR9V,KAAM,mBAGV3S,KAAK+O,OAAOe,OACZ2K,EAAKzM,GAAG,cAAc,SAAUqxC,GAC9Bn6C,EAAMggJ,WAAY,EAElBhgJ,EAAM6I,KAAK2+B,KAAK,sBAAuB2S,MAEzC5kC,EAAKzM,GAAG,cAAc,SAAUqxC,GAC9Bn6C,EAAMggJ,WAAY,EAElBhgJ,EAAM6I,KAAK2+B,KAAK,sBAAuB2S,MAEzBr/C,KAAK+O,OAAOkO,IAAI,aACtB2lD,iBAAiB,cAAc,SAAUvjB,GAC7Cn6C,EAAMggJ,YACRhgJ,EAAM6I,KAAK2+B,KAAK,sBAAuB2S,GAEvCn6C,EAAMggJ,WAAY,OAKxBD,EAAcrlJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACtD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvB8+I,EAAcrlJ,UAAU0mB,MAAQ,WAI9BtmB,KAAK2kG,UAAU,QAHG,CAChBxgG,QAAS,CAAC,CAAC,iBAKf8gJ,EAAcrlJ,UAAUmkG,YAAc,WACpC,IAAItjG,EAAQT,KAAKuO,QACb47G,EAAM5f,GAAQ,WAAY,OAAQ,CACpC5C,eAAgB,CAAClnG,EAAMs/B,OAAQt/B,EAAMq/B,QACrC8P,KAAM5vC,OAERmqH,EAAIr4C,OAAS,CAAC,CACZ3rE,KAAM,UAGJ,OAAM1F,EAAO,eACf0pH,EAAI3tG,QAAU/b,EAAMuqB,WAGtBhrB,KAAK2kG,UAAU,UAAWwlB,IAG5B86B,EAAcrlJ,UAAUiS,YAAc,SAAUC,GAC9C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1CilJ,EAAcrlJ,UAAU0lJ,gBAAkB,SAAU7kJ,GAClD,IAAImlJ,EAEJ,GAAInlJ,EAAMwT,MAAO,CAOf,GALE2xI,EADE,cAAanlJ,EAAMwT,OACPxT,EAAMwT,MAAMxT,EAAMmvB,SAElBnvB,EAAMwT,MAGlB,YAAW2xI,GAAc,CAC3B,IAAI3xI,EAAQ,SAAQ,IAGpB,OADAA,EAAM,GAAK2xI,EACJ3xI,EAEP,OAAO2xI,EAIX,OAAOnlJ,EAAMwT,OAGfgxI,EAAcrlJ,UAAUqkG,YAAc,WACpC,IAAIxjG,EAAQT,KAAKuO,QAQjB,MAPW,CAAC,CACVpI,KAAM,UACNvF,MAAOH,EAAMmvB,SACZ,CACDzpB,KAAM,OACNvF,MAAO,EAAMH,EAAMmvB,WAKvBq1H,EAAcrlJ,UAAU6lJ,cAAgB,SAAUl2G,GAChD,IAAIs2G,EAAet2G,EAAU9vC,OACzBqmJ,EAAmB9lJ,KAAK+lJ,4BAW5B,GATA,QAAO/lJ,KAAK0lJ,SAAS,SAAUnxG,EAAQjwC,GACjCA,EAAQuhJ,EAAe,EACzBtxG,EAAOvkC,UAEPukC,EAAOlqB,OAAOklB,EAAUjrC,GAAQwhJ,EAAiBl+H,SAAUk+H,EAAiBn+H,WAK5E3nB,KAAK0lJ,QAAQjmJ,OAASomJ,EAGxB,IAFA,IAEStmJ,EAFQS,KAAK0lJ,QAAQjmJ,OAELF,EAAIsmJ,EAActmJ,IAAK,CAC9C,IAAI2P,EAAM,WAAU,GAAI,CACtBH,OAAQ/O,KAAK+O,OACbhB,KAAM/N,KAAK+N,KACXw2I,aAAcvkJ,KAAKuO,QAAQ2zI,SAC1B3yG,EAAUhwC,IAETg1C,EAAS,IAAI,GAAOrlC,GACxBlP,KAAK0lJ,QAAQl1I,KAAK+jC,KAKxB0wG,EAAcrlJ,UAAUwoE,QAAU,WAGhC,OAFapoE,KAAK8O,QAEJ,GACL,GAGF,GAGTm2I,EAAcrlJ,UAAU2lJ,qBAAuB,SAAUhhJ,GAEvD,IAAIiB,EAAKxF,KAAK+lJ,4BACVn+H,EAAWpiB,EAAGoiB,SACdD,EAASniB,EAAGmiB,OAGZq+H,EAAiB,GAEjB36B,EADOrrH,KAAK+N,KACIkP,IAAI,YAExB,QAAOouG,GAAU,SAAUr6B,GACzB,GAA8B,aAA1BA,EAAK/zE,IAAI,aAA6B,CACxC,IAAI/G,EAAS86E,EAAK5lE,YAClB46H,EAAex1I,KAAKzQ,MAAMimJ,EAAgB9vI,OAI1C,WAAU3R,GACZ,QAAOA,GAAO,SAAUrE,EAAGoE,GACzB0hJ,EAAe1hJ,GAAOkY,QAAQtc,EAAG0nB,EAAUD,MAG7Cq+H,EAAe,GAAGxpI,QAAQjY,EAAOqjB,EAAUD,IAI/Cs9H,EAAcrlJ,UAAUmmJ,0BAA4B,WAClD,IAAIn+H,EAAW,IACXD,EAAS,gBACTm+H,EAAmB9lJ,KAAKuO,QAAQyc,UAYpC,OAVI86H,GAAoBA,EAAiBz7H,SACnCy7H,EAAiBz7H,OAAOzC,WAC1BA,EAAWk+H,EAAiBz7H,OAAOzC,UAGjCk+H,EAAiBz7H,OAAO1C,SAC1BA,EAASm+H,EAAiBz7H,OAAO1C,SAI9B,CACLC,SAAUA,EACVD,OAAQA,IAIZs9H,EAAcrlJ,UAAU4lJ,yBAA2B,SAAUjhJ,GAC3D,IAAIW,EAAQlF,KAER,WAAUuE,GACZ,QAAOA,GAAO,SAAUrE,EAAGoE,GACrBpE,EAAEyS,OACJzN,EAAMqJ,QAAQ0F,MAAM3P,GAASpE,EAAEyS,SAG1BpO,EAAMoO,OACf3S,KAAKuO,QAAQ0F,MAAM,GAAK1P,EAAMoO,OAI3BsyI,EA7TT,CA8TE,IAEa,MACfh+C,GAAiB,WAAY,KC3U7B,SAAUhiG,GAGR,SAASghJ,IACP,OAAkB,OAAXhhJ,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUimJ,EAAUhhJ,GAMpBghJ,EAASrmJ,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CgtC,EAASrmJ,UAAUyqB,OAAS,SAAUzpB,EAAO2D,GAC/BvE,KAAKkO,OAAO,GAClBmc,OAAOzpB,EAAO2D,IAGtB0hJ,EAAStiD,kBAAoB,GAAcA,kBApB7C,CAsBE,IAxBF,ICDIuiD,GAAe,GA0EZ,SAASC,GAAajsI,EAAOhJ,EAAOC,GACpC+0I,GAAahsI,EAAMvL,MACtBu3I,GAAahsI,EAAMvL,IAAM,IAG3Bu3I,GAAahsI,EAAMvL,IAAIyoE,SAAWlmE,EAClCg1I,GAAahsI,EAAMvL,IAAI+oE,OAASvmE,EAChC+0I,GAAahsI,EAAMvL,IAAIy3I,QAAUlsI,EAAMkO,KAAK,QAiC9C,SAASi+H,GAAW//H,EAAOgW,EAAMikD,GAC/B,IACI55D,EAASL,EAAMM,YACfpT,EAAS8S,EAAMO,YAWnB,OAVW,IAAI,UAASC,IAAI,CAC1BzC,MAAO,CACLzV,EAAG+X,EAAO/X,EACVC,EAAG8X,EAAO9X,EACVkY,GAAI,EACJC,GAAIxT,EARK,IASTiT,WAAY6V,EACZ5V,SAAU65D,KAMT,SAAS,GAASrmE,EAAOoM,GAC9B,IAEII,EACAD,EAFA1T,EAuBN,SAAsBuV,GACpB,GAAI,WAAUA,GACZ,OAAO,KAGT,IAAIC,EAAOD,EAAO,GAAG1Z,EACjB4Z,EAAOF,EAAO,GAAG1Z,EACjB6Z,EAAOH,EAAO,GAAGzZ,EACjB6Z,EAAOJ,EAAO,GAAGzZ,EASrB,OAPA,QAAOyZ,GAAQ,SAAU/U,GACvBgV,EAAOA,EAAOhV,EAAM3E,EAAI2E,EAAM3E,EAAI2Z,EAClCC,EAAOA,EAAOjV,EAAM3E,EAAI2E,EAAM3E,EAAI4Z,EAClCC,EAAOA,EAAOlV,EAAM1E,EAAI0E,EAAM1E,EAAI4Z,EAClCC,EAAOA,EAAOnV,EAAM1E,EAAI0E,EAAM1E,EAAI6Z,KAG7B,CACLH,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,KAAMA,EACNC,SAAUJ,EAAOC,GAAQ,EACzBI,SAAUH,EAAOC,GAAQ,GA9CjB,CADGxO,EAAMoO,QAAUpO,EAAM+C,IAAI,UAAUqL,QAI7CQ,EAAkBxC,EAAMG,WAExBsC,EADgBzC,EAAMI,SACMoC,EAYhC,OAVIxC,EAAMa,cACRT,EAAW3T,EAAI2V,KAAOK,EACtBtC,EAAa1T,EAAI0V,KAAOM,IAExBrC,EAAW3T,EAAIyV,KAAOO,EACtBtC,EAAa1T,EAAIwV,KAAOQ,GAKnB,CACLtC,WAFFA,GAAcqC,EAGZpC,SAJFA,GAAYoC,GAmCd,GAAQoC,kBAAkB,SAAU,iBApLpC,SAAwBhR,EAAOuN,EAAYnB,GACzC,IACIC,EADAnK,EAAOlC,EAAMkO,KAAK,QAElB+xF,EAAU,GACV71G,EAAQ4V,EAAM+C,IAAI,SAElBzX,EAAK,GAAS0U,EAAOoM,GACrBG,EAAajhB,EAAGihB,WAChBC,EAAWlhB,EAAGkhB,SAElB,GAAIw/H,GAAahsI,EAAMvL,IAAK,CAC1B,IAAI6tB,EAsER,SAAsBtiB,GACpB,OAAOgsI,GAAahsI,EAAMvL,KAAO,KAvEtB23I,CAAapsI,GAClBk9D,EAAW56C,EAAG46C,SACdM,EAASl7C,EAAGk7C,OACZ0uE,EAAU5pH,EAAG4pH,QAEb91B,EA0ER,SAAmBl5C,EAAU3wD,GAC3B,GAAI2wD,IAAa3wD,EACf,MAAO,QAGT,MAAO,MA/EQ8/H,CAAUnvE,EAAU3wD,GAC7B+/H,EAsFR,SAAsBpvE,EAAUM,EAAQjxD,EAAYC,GAClD,GAAI0wD,EAAW3wD,GAAcixD,EAAShxD,EACpC,MAAO,gBAGT,MAAO,YA3Fa+/H,CAAarvE,EAAUM,EAAQjxD,EAAYC,GAEzC,kBAAhB8/H,GACFtsI,EAAMkO,KAAK,OAAQg+H,GAGN,UAAX91B,GACF/pG,EAAO8/H,GAAW//H,EAAOG,EAAYixD,GACrCyiC,EAAQzzF,SAAWA,IAEnBH,EAAO8/H,GAAW//H,EAAO8wD,EAAU1wD,GACnCyzF,EAAQ1zF,WAAaA,GAGvBvM,EAAMkO,KAAK,OAAQ7B,GACnBrM,EAAMoP,UAAU,aAAa,GAE7B7B,EAAWI,SAAW,WAChB3N,IAAUA,EAAM+C,IAAI,eACtB/C,EAAMkO,KAAK,OAAQ,MACnBlO,EAAMoP,UAAU,aAAc,MAC9BpP,EAAMoP,UAAU,aAAa,GAC7B/C,EAAKpW,SAEe,kBAAhBq2I,GACFtsI,EAAMkO,KAAK,OAAQhM,KASzB,IAAIsL,EAAQD,EAAWC,MAEnB,cAAaA,KACfA,EAAQD,EAAWC,MAAMpjB,IAG3B,IAAIqjB,EAASF,EAAWE,OAEpB,cAAaA,KACfA,EAASF,EAAWE,OAAOrjB,IAK7BiiB,EAAK/J,QAAQ29F,EAAS1yF,EAAWG,SAAUD,EAAQF,EAAWI,SAAUH,GAG1Ey+H,GAAajsI,EAAOuM,EAAYC,MC9DlC,UAAS1d,GAXa,CACpB09I,oBAAqB,iBACrBC,uBAAwB,oBACxBC,wBAAyB,qBACzBC,wBAAyB,qBACzBC,sBAAuB,mBACvBC,yBAA0B,sBAC1BC,yBAA0B,sBAC1BC,0BAA2B,yBCH7B,IAAI,GAAgB,CAAC,UAAW,WAE5B,GAEJ,SAAUhiJ,GAGR,SAASiiJ,IACP,IAAIhiJ,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,eACNjB,EA+FT,OArGA,qBAAUgiJ,EAAmBjiJ,GAS7BiiJ,EAAkBtnJ,UAAUulJ,aAAe,WACzC,IAAI1kJ,EAAQT,KAAKuO,QACjB9N,EAAMgf,KAAOzf,KAAKikG,cAClB,IAAI/0F,EAAM,CACRrI,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBi5B,OAAQ,QACRC,OAAQ,IACRqoF,WAAY,OACZg9B,SAAU3kJ,EAAM4kJ,cAChBpxI,MAAOjU,KAAKslJ,gBAAgB7kJ,IAAU,IAExCA,EAAQ,OAAMA,EAAOyO,IAGvBg4I,EAAkBtnJ,UAAUu/F,YAAc,WACxCl6F,EAAOrF,UAAUu/F,YAAYr/F,KAAKE,MAElC,IAAIsmB,EAAQtmB,KAAK+N,KAAKkP,IAAI,SAEtB8zE,EAAQ/wF,KAAK+N,KAAKkP,IAAI,YAE1B,QAAO8zE,GAAO,SAAUC,GACtB,IAAI96E,EAAS86E,EAAK5lE,YAElB,QAAOlV,GAAQ,SAAUgE,GACvB,IAAI1U,EAAK,GAAS0U,EAAOoM,GAIzB6/H,GAAajsI,EAHI1U,EAAGihB,WACLjhB,EAAGkhB,iBAOxBwgI,EAAkBtnJ,UAAU0mB,MAAQ,WAClC,IAAIyuG,EAAc,CAChB5uH,KAAM,QACN+I,IAAK,CACHsE,OAAQ,EACRiyB,YAAazlC,KAAKmnJ,aAAannJ,KAAKuO,QAAQrI,QAGhDlG,KAAK2kG,UAAU,QAASowB,IAG1BmyB,EAAkBtnJ,UAAU6Z,WAAa,aAEzCytI,EAAkBtnJ,UAAUmkG,YAAc,WACxC,IAAItjG,EAAQT,KAAKuO,QACjBvO,KAAK21H,KAAOprB,GAAQ,WAAY,OAAQ,CACtC5C,eAAgB,CAAClnG,EAAMs/B,OAAQt/B,EAAMq/B,QACrC8P,KAAM5vC,OAERA,KAAK21H,KAAK7jD,OAAS,CAAC,CAClB3rE,KAAM,UAERnG,KAAK2kG,UAAU,UAAW3kG,KAAK21H,OAGjCuxB,EAAkBtnJ,UAAUorB,UAAY,WACtChrB,KAAK21H,KAAKn5G,QAAU,CAClBwN,OAAQ,CACNpC,SAAU,KAEZyC,OAAQ,CACN1C,OAAQ,aACRqD,UAAW,gBACXpD,SAAU,OAKhBs/H,EAAkBtnJ,UAAUiS,YAAc,SAAUC,GAClD7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1CknJ,EAAkBtnJ,UAAUunJ,aAAe,SAAUvmJ,GACnD,IAAI4D,EAAQxE,KAAKwE,MACbsK,EAAS9O,KAAK8O,OACd5I,EAAOgY,KAAKuR,IAAIjrB,EAAOsK,GAE3B,OAAIlO,EACK,EAAMA,EAAQsF,EAGnBA,GAAQ,GACH,EAAM,GAAKA,EAGb,EAAM,GAAKA,GAGbghJ,EAtGT,CAuGE,IAEa,MACfjgD,GAAiB,eAAgB,KC9GjC,SAAUhiG,GAGR,SAASmiJ,IACP,OAAkB,OAAXniJ,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUonJ,EAAcniJ,GAMxBmiJ,EAAaxnJ,UAAU0nG,aAAe,SAAU7mG,GAC9C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,eAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CmuC,EAAaxnJ,UAAUyqB,OAAS,SAAUzpB,GAC5BZ,KAAKkO,OAAO,GAClBmc,OAAOzpB,IAGfwmJ,EAAazjD,kBAAoB,GAAkBA,kBApBrD,CAsBE,IChBF,UAAS36F,GAXa,CACpBy0G,cAAe,iBACfC,iBAAkB,oBAClBC,kBAAmB,qBACnBG,kBAAmB,qBACnBC,gBAAiB,mBACjBH,mBAAoB,sBACpBC,mBAAoB,sBACpBG,oBAAqB,yBCJvB,IACI,GAAc,CAChBthG,OAAQ,YAEN,GAAgB,CAClBzJ,SAAU,UAGR,GAEJ,SAAUhO,GAGR,SAASoiJ,IACP,IAAIniJ,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,aACNjB,EAuET,OA7EA,qBAAUmiJ,EAAiBpiJ,GAS3BoiJ,EAAgBznJ,UAAUwP,KAAO,WAC/BpP,KAAKmlJ,eAELlgJ,EAAOrF,UAAUwP,KAAKtP,KAAKE,OAG7BqnJ,EAAgBznJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACxD,MAAY,OAAR+5B,EACK,GAAY/5B,GAGd,GAAcA,IAGvBkhJ,EAAgBznJ,UAAU+tB,MAAQ,WAChC,IACIuZ,EAAS,GAGbA,EAJclnC,KAAKuO,QAIJuxB,QAAU,CACvB35B,KAAM,OAERnG,KAAK2kG,UAAU,SAAUz9D,IAG3BmgH,EAAgBznJ,UAAUmkG,YAAc,WACtC,IAAItjG,EAAQT,KAAKuO,QACbmO,EAAS6tF,GAAQ,WAAY,OAAQ,CACvC5C,eAAgB,CAAClnG,EAAMq/B,OAAQr/B,EAAMs/B,QACrC6P,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAWjoF,IAG5B2qI,EAAgBznJ,UAAUiS,YAAc,SAAUC,GAChD7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAG1CqnJ,EAAgBznJ,UAAUulJ,aAAe,WACvC,IAAI1kJ,EAAQT,KAAKuO,QACbW,EAAM,CACRrI,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBygJ,WAAYtnJ,KAAKooE,WAEnB3nE,EAAQ,OAAMA,EAAOyO,IAGvBm4I,EAAgBznJ,UAAUwoE,QAAU,WAClC,IAAI3nE,EAAQT,KAAKuO,QACbg5I,EAAevnJ,KAAKwnJ,aAAa/mJ,EAAMgf,KAAMhf,EAAMq/B,QAEvD,OADY9/B,KAAKwE,MACF+iJ,EAvED,IA0EhBF,EAAgBznJ,UAAU4nJ,aAAe,SAAU/nI,EAAMmoB,GACvD,IAAItZ,EAAS,GAUb,OARA,QAAO7O,GAAM,SAAUb,GACrB,IAAItB,EAAIsB,EAAEgpB,GAENtZ,EAAOhuB,QAAQgd,GAAK,GACtBgR,EAAO9d,KAAK8M,MAITgR,EAAO7uB,QAGT4nJ,EA9ET,CA+EE,IAEa,MACfpgD,GAAiB,aAAc,KC3F/B,SAAUhiG,GAGR,SAASwiJ,IACP,OAAkB,OAAXxiJ,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAUynJ,EAAYxiJ,GAMtBwiJ,EAAW7nJ,UAAU0nG,aAAe,SAAU7mG,GAC5C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,aAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3CwuC,EAAW9jD,kBAAoB,GAAgBA,kBAfjD,CAiBE,ICHF,UAAS36F,GAnBa,CACpBkwG,YAAa,aACbC,eAAgB,gBAChBC,gBAAiB,iBACjBG,gBAAiB,iBACjBC,cAAe,eACfH,iBAAkB,kBAClBC,iBAAkB,kBAClBG,kBAAmB,mBACnBxC,YAAa,aACbyC,eAAgB,gBAChBvC,gBAAiB,iBACjBG,gBAAiB,iBACjBC,cAAe,eACfH,iBAAkB,kBAClBC,iBAAkB,kBAClBG,kBAAmB,qBCbrB,IAAI,GAAW,CACb/kG,KAAM,OACNW,KAAM,QAGJ,GAEJ,SAAUnO,GAGR,SAASyiJ,IACP,IAAIxiJ,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EAsBT,OA5BA,qBAAUwiJ,EAAeziJ,GASzByiJ,EAAc9nJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACtD,OAAO,GAASA,IAGlBuhJ,EAAc9nJ,UAAUmkG,YAAc,WACpC/jG,KAAKyS,KAAO83F,GAAQ,OAAQ,OAAQ,CAClC36D,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAW3kG,KAAKyS,MAC/BzS,KAAKoT,KAAOm3F,GAAQ,OAAQ,OAAQ,CAClC36D,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAW3kG,KAAKoT,OAGjCs0I,EAAc9nJ,UAAUiS,YAAc,SAAUC,GAC9C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAGnC0nJ,EA7BT,CA8BE,IAEa,MACfzgD,GAAiB,WAAY,KCtC7B,SAAUhiG,GAGR,SAAS0iJ,IACP,OAAkB,OAAX1iJ,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU2nJ,EAAU1iJ,GAMpB0iJ,EAAS/nJ,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C0uC,EAAShkD,kBAAoB,GAAcA,kBAf7C,CAiBE,ICXF,UAAS36F,GAXa,CACpBiuG,YAAa,aACbyC,eAAgB,gBAChBvC,gBAAiB,iBACjBG,gBAAiB,iBACjBC,cAAe,eACfH,iBAAkB,kBAClBC,iBAAkB,kBAClBG,kBAAmB,qBCLrB,IAAI,GAAW,CACbpkG,KAAM,QAGJ,GAEJ,SAAUnO,GAGR,SAAS2iJ,IACP,IAAI1iJ,EAAmB,OAAXD,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAGhE,OADAkF,EAAMiB,KAAO,WACNjB,EAkBT,OAxBA,qBAAU0iJ,EAAe3iJ,GASzB2iJ,EAAchoJ,UAAUsxF,eAAiB,SAAUhxD,EAAK/5B,GACtD,OAAO,GAASA,IAGlByhJ,EAAchoJ,UAAUmkG,YAAc,WACpC/jG,KAAKoT,KAAOm3F,GAAQ,OAAQ,OAAQ,CAClC36D,KAAM5vC,OAERA,KAAK2kG,UAAU,UAAW3kG,KAAKoT,OAGjCw0I,EAAchoJ,UAAUiS,YAAc,SAAUC,GAC9C7M,EAAOrF,UAAUiS,YAAY/R,KAAKE,KAAM,IAGnC4nJ,EAzBT,CA0BE,IAEa,MACf3gD,GAAiB,WAAY,KCjC7B,SAAUhiG,GAGR,SAAS4iJ,IACP,OAAkB,OAAX5iJ,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAH7D,qBAAU6nJ,EAAU5iJ,GAMpB4iJ,EAASjoJ,UAAU0nG,aAAe,SAAU7mG,GAC1C,IAAIw4G,EAAa,WAAU,GAAIx4G,GAE/Bw4G,EAAW9yG,KAAO,WAElBlB,EAAOrF,UAAU0nG,aAAaxnG,KAAKE,KAAMi5G,IAG3C4uC,EAASlkD,kBAAoB,GAAcA,kBAf7C,CAiBE,IAnBF,ICDI,GAEJ,SAAU1+F,GAGR,SAAS6iJ,IACP,OAAkB,OAAX7iJ,GAAmBA,EAAOlF,MAAMC,KAAMR,YAAcQ,KAoB7D,OAvBA,qBAAU8nJ,EAAW7iJ,GAMrB6iJ,EAAUloJ,UAAU+jG,kBAAoB,WACtC,MAAO,IAGTmkD,EAAUloJ,UAAUmoJ,iBAAmB,SAAUtnJ,GAC/C,MAAO,CACLi9D,MAAOj9D,EAAMi9D,MACbkmC,MAAOnjG,EAAMmjG,MACbjuF,MAAOlV,EAAMkV,MACb0B,OAAQ5W,EAAM4W,SAIlBywI,EAAUloJ,UAAUooJ,kBAAoB,WACtChoJ,KAAKioJ,cAAgB,mBAAQ,GAAIjoJ,KAAK2jG,oBAAqB3jG,KAAK+nJ,iBAAiB/nJ,KAAKuO,WAGjFu5I,EAxBT,CAyBE,IC7BEI,GAAc,CAAC,OAAQ,OAAQ,SAAU,MAAO,SAAU,WAqBvD,SAASC,GAAchiJ,EAAM1F,GAClC,QAAI,YAAWynJ,GAAa/hJ,MACb,SAATA,IAAmB,OAAM1F,EAAO,kBAIvB,WAAT0F,IAAqB,OAAM1F,EAAO,gBCwBnC,SAAS2nJ,GAAa77G,EAAO/nC,EAAOsK,EAAQC,EAAQyH,GACzD,IAAI6xI,EAAczmD,KAAiBvqF,OAC/Bq3C,EAAYl4C,EAASqN,MAAM,KAC3BvM,EAAS,aAEQ,SAAjBo3C,EAAU,IAAkC,UAAjBA,EAAU,KACvCp3C,EAAS,YAGX,IAAIkgD,EAAY,CACdrxD,KAAM,kBACNomC,MAAOA,EACP+7G,QAAS9jJ,EACTkK,UAAWK,EAAOw+B,WAClBj2B,OAAQA,EACRzC,UAAW,CACTlC,KAAM,UACNmC,SAAU,GACVnB,UAAW,QACXC,aAAc,SACdsB,WAAY,IAEd0rC,cAAe,GACfqC,UAAU,EACV1rC,iBAAkB,EAClBorC,kBAAmB,EACnBmD,UAAWthD,GAET6S,EAAS,IAAI,EAAOkxI,eAAe/wF,IA0EzC,SAAsBhzD,EAAOsK,EAAQuI,EAAQb,GAC3C82C,QAAQ11B,IAAIphB,GACZ,IAAIqpF,EAAW+B,KAAiB/B,SAE5B,WAAUA,IACZ,QAAOA,GAAU,SAAUrW,EAAIllF,GACE,oBAApBu7F,EAASv7F,KAClBu7F,EAASv7F,GAASu7F,EAASv7F,GAAO,QAKxC,IAAIumC,EAAOxzB,EAAO4F,IAAI,cAAcgM,UAChCra,EAAI,EACJC,EAAI,EACJ6/C,EAAYl4C,EAASqN,MAAM,KAEV,SAAjB6qC,EAAU,GACZ9/C,EAAIixF,EAAS,GACa,UAAjBnxC,EAAU,GACnB9/C,EAAIpK,EAAQq7F,EAAS,GAAKh1D,EAAKrmC,MACL,WAAjBkqD,EAAU,GACnB9/C,GAAKpK,EAAQqmC,EAAKrmC,OAAS,EACD,SAAjBkqD,EAAU,GACnB9/C,EAAIixF,EAAS,GACa,UAAjBnxC,EAAU,KACnB9/C,EAAIpK,EAAQq7F,EAAS,GAAKh1D,EAAKrmC,OAIZ,WAAjBkqD,EAAU,GACZ7/C,EAAIC,EAAS+wF,EAAS,GAAKh1D,EAAK/7B,OACN,QAAjB4/C,EAAU,GACnB7/C,EAAIgxF,EAAS,GACa,WAAjBnxC,EAAU,GACnB7/C,GAAKC,EAAS+7B,EAAK/7B,QAAU,EACH,QAAjB4/C,EAAU,GACnB7/C,EAAIgxF,EAAS,GACa,WAAjBnxC,EAAU,KACnB7/C,EAAIC,EAAS+wF,EAAS,GAAKh1D,EAAK/7B,QAGlCuI,EAAO2kC,OAAOptC,EAAGC,GACjBwI,EAAOvH,OApHPq5H,CAAa3kI,EAAOsK,EAAQuI,EAAQb,GA4BtC,SAA8Ba,GAC5B,IAAImxI,EAAgB,GACpBnxI,EAAOrJ,GAAG,aAAa,SAAUqxC,GAC/B,IAAI/3C,EAAO+3C,EAAG/3C,KACV69C,EAAU9F,EAAG8F,QAEjB,GAAI79C,EAAKmhJ,SACFtjG,EAGH79C,EAAKsG,MAAMwC,OAFX9I,EAAKsG,MAAM0C,WAIR,CAEL,IAAIvC,EAAOzG,EAAKsG,MAAMG,KAEtB,GAAKo3C,EAcH,QAAOqjG,EAAelhJ,EAAK1G,OAE3BmN,EAAKosD,OAAO7yD,EAAK1G,OAAO,SAAU2qC,GAChC,OAAQ,YAAWi9G,EAAej9G,MAEpCx9B,EAAKyiD,UAEAlpD,EAAKsG,MAAMQ,YACd9G,EAAKsG,MAAMwC,YArBbo4I,EAAch4I,KAAKlJ,EAAK1G,OACxBmN,EAAKosD,OAAO7yD,EAAKsgC,OAAO,SAAU2D,GAChC,OAAQ,YAAWi9G,EAAej9G,MAEpCx9B,EAAKyiD,UAGuB,IAFTziD,EAAKkP,IAAI,gBAEXxd,OACf6H,EAAKsG,MAAM0C,OACDhJ,EAAKsG,MAAMQ,YACrB9G,EAAKsG,MAAMwC,WAtDnBs4I,CAAqBrxI,GAGrB,IACIsxI,EADA99G,EAAOxzB,EAAO4F,IAAI,cAAcgM,UAGhCs3E,EAAe8nD,EAAY9nD,aAY/B,MAVqB,SAAjB7xC,EAAU,GACZi6F,EAAc,IAAI,QAAKtxI,EAAO4F,IAAI,KAAOsjF,EAAa,GAAIlpF,EAAO4F,IAAI,KAAM4tB,EAAKrmC,MAAOqmC,EAAK/7B,QAClE,UAAjB4/C,EAAU,GACnBi6F,EAAc,IAAI,QAAKtxI,EAAO4F,IAAI,KAAOsjF,EAAa,GAAIlpF,EAAO4F,IAAI,KAAM4tB,EAAKrmC,MAAOqmC,EAAK/7B,QAClE,QAAjB4/C,EAAU,GACnBi6F,EAAc,IAAI,QAAKtxI,EAAO4F,IAAI,KAAM5F,EAAO4F,IAAI,KAAOsjF,EAAa,GAAI11D,EAAKrmC,MAAOqmC,EAAK/7B,QAClE,WAAjB4/C,EAAU,KACnBi6F,EAAc,IAAI,QAAKtxI,EAAO4F,IAAI,KAAM5F,EAAO4F,IAAI,KAAOsjF,EAAa,GAAI11D,EAAKrmC,MAAOqmC,EAAK/7B,SAGvF,CACL0H,SAAUk4C,EAAU,GACpBswC,UAAW3nF,EACX4R,QAAS,WACP,OAAO0/H,ICtGN,SAASC,GAAsBh7I,EAAOqyF,GAC3C,IAAIJ,EAAW+B,KAAiB/B,SAE5B,WAAUA,IACZ,QAAOA,GAAU,SAAUrW,EAAIllF,GACE,oBAApBu7F,EAASv7F,KAClBu7F,EAASv7F,GAASu7F,EAASv7F,GAAO,QAKxC,IAAIm7F,EAAW7xF,EAAMyB,UAAUkZ,KAC3Bm3E,EAAW9xF,EAAMyB,UAAUmZ,KAE3Bm3E,EAAW,SAAQ/xF,EAAMyB,UAAUoZ,MAEnCm3E,EAAWhyF,EAAMyB,UAAUqZ,KAE/B,QAAOu3E,GAAY,SAAUjB,GAC3B,IAAIxoF,EAAWwoF,EAAUxoF,SAErBhR,EAAKw5F,EAAU/1E,UACfV,EAAO/iB,EAAG+iB,KACVC,EAAOhjB,EAAGgjB,KACVC,EAAOjjB,EAAGijB,KACVC,EAAOljB,EAAGkjB,KAEVA,EAAOi3E,GAAYj3E,EAAOk3E,GAAyB,QAAbppF,IACxCmpF,EAAWj3E,GAGTD,EAAOk3E,GAAYl3E,EAAOm3E,GAAyB,WAAbppF,IACxCopF,EAAWn3E,GAGTD,EAAOi3E,GAAYj3E,EAAOk3E,GAAyB,SAAblpF,IACxCipF,EAAWj3E,GAGTD,EAAOk3E,GAAYj3E,EAAOk3E,GAAyB,UAAblpF,IACxCkpF,EAAWn3E,MAIf,IAAIgG,EAAQ,IAAI,QAAKkxE,EAAUE,EAAUD,EAAWD,EAAUG,EAAWD,GACrEkpD,EAAct6H,EAAM9F,KAAO7a,EAAMyB,UAAUoZ,KAS/C,OAPoB,IAAhBogI,IACFA,EAAchpD,EAAS,IAMlB,CAACgpD,EAHYj7I,EAAMyB,UAAUmZ,KAAO+F,EAAM/F,KAC5B5a,EAAMyB,UAAUqZ,KAAO6F,EAAM7F,KAC/B6F,EAAMhG,KAAO3a,EAAMyB,UAAUkZ,MCf3C,SAASugI,GAAeC,EAAU7oH,EAAK8oH,GAC5C,MAAY,MAAR9oH,EAiBN,SAAoB6oH,GAIlB,IAFkBE,GAAcF,GAG9B,MAAO,CAACA,EAAS,GAAGp7H,OAGtB,MAA+B,QAA3Bo7H,EAAS,GAAGp7H,MAAMxnB,KA0DxB,SAAqB4iJ,GAGnB,IAFA,IAAI3yF,EAAc,GAEThmC,EAAK,EAAG84H,EAAaH,EAAU34H,EAAK84H,EAAWzpJ,OAAQ2wB,IAAM,CACpE,IAAI9Z,EAAO4yI,EAAW94H,GACtBgmC,EAAY5lD,KAAKzQ,MAAMq2D,EAAa9/C,EAAKqX,MAAMW,QAQjD,OAHY,IADG,GAAS,OACZ,CAAa,CACvBA,OAAQ,QAAO8nC,KApER+yF,CAAYJ,GAEZK,GAAeL,EAAU,GAtBzBM,CALSN,EAAS5uF,QAAO,SAAU7jD,GACxC,GAAiB,MAAbA,EAAK4pB,IACP,OAAO5pB,MA6Bf,SAAoByyI,EAAUO,GAC5B,IAAIC,EAAcN,GAAcF,GAE5BzyH,EAAYyyH,EAAS,GAAGp7H,MAAM2I,UAC9BgvF,EAAc,GAAS,UAE3B,OAAKikC,EAsBIH,GAAeL,EAAUzyH,GArBzByyH,EAAS3kJ,KAAI,SAAUkS,GAC5B,IAAIqX,EAAQrX,EAAKqX,MACbW,EA8IV,SAAmBX,EAAO2I,GAMxB,IALA,IAAIhI,EAAS,GACTmB,EAAM9B,EAAM8B,IAEZ8L,GADM5N,EAAMhI,IACE8J,GAAO6G,EAEhB/2B,EAAI,EAAGA,EAAI+2B,EAAW/2B,IAAK,CAClC,IAAIqB,EAAQ6uB,EAAM8L,EAAOh8B,EACzB+uB,EAAO9d,KAAK5P,GAGd,OAAO0tB,EAzJUk7H,CAAU77H,EAAO2I,GAE9B,GAAIgzH,EAAa,CACf,IAAIG,EAAc,IAAInkC,EAAY,CAChC71F,IAAK9B,EAAM8B,IACX9J,IAAKgI,EAAMhI,IACX6I,MAAOF,EACPgI,UAAWA,EACXriB,MAAOqC,EAAKrC,QAGd,OADAw1I,EAAY77I,MAAQ0I,EAAK1I,MAClB67I,EAIP,OAFA97H,EAAM/f,MAAQ0I,EAAK1I,MACnB+f,EAAM1Z,MAAQqC,EAAKrC,MACZ0Z,KA3CJ+7H,CALSX,EAAS5uF,QAAO,SAAU7jD,GACxC,GAAiB,MAAbA,EAAK4pB,IACP,OAAO5pB,KAGkB0yI,EAAYM,aAmD7C,SAASF,GAAeL,EAAUzyH,GAIhC,IAHA,IAAIqzH,EAAWZ,EAAS,GAAGp7H,MAAM8B,IAC7Bm6H,EAAWb,EAAS,GAAGp7H,MAAMhI,IAExByK,EAAK,EAAGy5H,EAAad,EAAU34H,EAAKy5H,EAAWpqJ,OAAQ2wB,IAAM,CACpE,IAAI9Z,EAAOuzI,EAAWz5H,GACtBu5H,EAAWzrI,KAAKuR,IAAIk6H,EAAUrzI,EAAKqX,MAAM8B,KACzCm6H,EAAW1rI,KAAKyH,IAAIikI,EAAUtzI,EAAKqX,MAAMhI,KAS3C,OALY,IADM,GAAS,UACf,CAAgB,CAC1B8J,IAAKk6H,EACLhkI,IAAKikI,EACLtzH,UAAWA,IAqBf,SAAS2yH,GAAcF,GAIrB,IAHA,IAAIe,EAAmBf,EAAS,GAAGgB,aAC/BC,EAAcjB,EAAS,GAAGp7H,MAAMia,MAE3BxX,EAAK,EAAG65H,EAAalB,EAAU34H,EAAK65H,EAAWxqJ,OAAQ2wB,IAAM,CACpE,IAAI9Z,EAAO2zI,EAAW75H,GAClB3Q,EAAOnJ,EAAKyzI,aACZniH,EAAQtxB,EAAKqX,MAAMia,MAEvB,GAAInoB,IAASqqI,GAAoBliH,IAAUoiH,EACzC,OAAO,EAIX,OAAO,EAGF,SAASvuF,GAAW9tC,EAAOuS,EAAKnxB,EAAQG,EAAK+4I,GAClD,IAEIjmH,EAFArsB,EAAQ,GAASsyI,GACjBpuG,EAAqB,MAAR3Z,EAIf8B,EADErU,EAAM/f,MACA+f,EAAM/f,MAAMc,UAAU6+B,WAEtBx+B,EAAOw+B,WAGjB,IAqMwBt5B,EAAO1F,EArM3BigB,EAuCN,SAAsBb,EAAOuS,GAC3B,IAAIgqH,EAAa,GACb17H,EAAQb,EAAMa,MACdD,EAAQZ,EAAMY,MACdgN,GAAQhN,EAAM,GAAKA,EAAM,KAAOC,EAAM/uB,OAAS,GAUnD,OARA,QAAO+uB,GAAO,SAAU9T,EAAMpW,GAC5B,IAAI1D,EAAgB,MAARs/B,EAAc,GAAO3R,EAAM,GAAKgN,EAAOj3B,GAASiqB,EAAM,GAAKgN,EAAOj3B,EAC9E4lJ,EAAW15I,KAAK,CACdkD,KAAMgH,EACN9Z,MAAOA,OAIJspJ,EArDKC,CAAax8H,EAAOuS,GAC5BquE,EAASrc,GAAa,OAAQ,CAChChyD,IAAKA,EACL0P,KAAM,CACJrhC,QAAS05I,EACTr9D,aAAc,WACZ,OAAOgX,SAIT7T,EAAep4E,EAAMW,MAAQX,EAAMW,KAAK4pB,GAmO9C,SAAqBvqB,GACnB,IAAIpR,EAAQ,GAQZ,OANA,QAAOoR,GAAO,SAAUvV,EAAGT,GACrB,UAASS,EAAG,WACdmE,EAAM5E,GAAOS,EAAEmE,UAIZA,EA5O4C6lJ,CAAYz0I,EAAMW,KAAK4pB,IAAQ,GAE9EvS,EAAM1Z,QAyLcA,EAxLU0Z,EAAM1Z,MAAtC85E,EAyLK,CACL36E,MAF6B7E,EAxLgBggG,GA0L/Bn7F,KAAO,CACnBN,OAAQmB,EACRvB,UAAW,GACT,KACJyC,SAAU5G,EAAQ4G,SAAW,CAC3BrC,OAAQmB,EACRvB,UAAW,EACXjT,OAAQ,GACN,KACJwV,MAAO1G,EAAQ0G,MAAQ,CACrBJ,UAAW,CACTlC,KAAMsB,IAEN,OApMN,IAAI02F,EAAa,WAAU,GAAI4D,EAAQ,CACrCpoG,KAAM,OACN67B,MAAOA,EACPjzB,OAAQA,EACRmC,MAAOhC,EAAIgC,MACXC,IAAKjC,EAAIiC,IACT0oC,WAAYA,EACZxhB,OAAQnpB,EAAImpB,OACZ7J,MAAOA,EACPvZ,MAAO,SAAevB,GACpB,MAAO,CACLA,KAAMA,EACNmB,UAAW05F,EAAOt5F,MAAMJ,aAG3Bk5E,GAECz3E,EAAO,IAAI,EAAKsjC,KAAK+wD,GAGzB,OAFAr0F,EAAK1I,MAAQ+f,EAAM/f,MACnB0I,EAAK3G,SACE2G,EAkCF,SAAS+zI,GAAWpC,EAAec,EAAUliJ,EAAS+G,EAAOpJ,EAAOsK,EAAQC,GACjF,IAAI8wF,EAAW+B,KAAiB/B,SAEhC,QAAOh5F,GAAS,SAAUxG,EAAGiE,GACjB,IAANjE,IACFwG,EAAQvC,GAASu7F,EAASv7F,OAI9B,IAGIgmJ,EACA5sF,EAJA6sF,EAAoB,GAEpB/uF,EAAO,GAGPgvF,EAAc,EAkBlB,GAhBIvC,EAAcvqF,MAAM1gD,UACtBstI,EAAaxB,GAAeC,EAAU,KACtCrrF,EAAQjC,GAAW6uF,EAAW,GAAI,IAAKv7I,EAAQ,CAC7CmC,MAAO,CACLtC,EAAG,EACHC,EAAG,GAELsC,IAAK,CACHvC,EAAGpK,EACHqK,EAAG,GAELwpB,OAAQ,GACP4vH,GACHuC,GAAe9sF,EAAMzgD,IAAI,SAASgM,UAAUna,QAG1Cm5I,EAAcrkD,MAAM5mF,QAAS,CAC/B,IAAIytI,EAAa3B,GAAeC,EAAU,IAAKd,EAAcrkD,OAE7D,QAAO6mD,GAAY,SAAU98H,EAAOrpB,GAClC,IAAI+zB,EAAmB,IAAV/zB,GAAe,EAAI,EAC5BgS,EAAOmlD,GAAW9tC,EAAO,IAAK5e,EAAQ,CACxCmC,MAAO,CACLtC,EAAG,EACHC,EAAGhI,EAAQ,IAEbsK,IAAK,CACHvC,EAAG,EACHC,EAAGC,EAAS07I,EAAc3jJ,EAAQ,IAEpCwxB,OAAQA,GACP4vH,GAEW,IAAV3jJ,GACFgS,EAAK2G,IAAI,SAAS0R,UAAU9nB,EAAQ,GAAI,GAG1C20D,EAAKhrD,KAAK8F,MAmChB,SAAoBklD,EAAM+uF,EAAmB/lJ,EAAOqC,GAElD,IAAI6jJ,EAAWlvF,EAAK,GAChBmvF,EAAgBD,EAASztI,IAAI,SAC7B2tI,EAAWD,EAAc1hI,UAC7B0hI,EAAch8H,UAAUi8H,EAASpmJ,MAAO,GACxC+lJ,EAAkB/5I,KAAK,CACrBgG,SAAU,OACVwoF,UAAW0rD,EACXzhI,QAAS,WACP,IAAI3B,EAASqjI,EAAcviI,KAAK,UAChC,OAAO,IAAI,QAAKwiI,EAASriI,KAAOjB,EAAO,GAAIsjI,EAASniI,KAAMmiI,EAASpmJ,MAAOomJ,EAAS97I,WAuBvF,IApBA,IAAI+7I,EAAahkJ,EAAQ,GAErB2mH,EAAU,SAAiBjuH,GAC7B,IAAI+W,EAAOklD,EAAKj8D,GACZmP,EAAY4H,EAAK2G,IAAI,SACrB4tB,EAAOn8B,EAAUua,UACrBva,EAAUigB,UAAUnqB,EAAQqmJ,EAAahgH,EAAKrmC,MAAO,GACrDqmJ,GAAchgH,EAAKrmC,MAnVR,EAoVX,IAAIw6F,EAAY,CACdxoF,SAAU,QACVwoF,UAAW1oF,EACX2S,QAAS,WACP,IAAI3B,EAAS5Y,EAAU0Z,KAAK,UAC5B,OAAO,IAAI,QAAKyiB,EAAKtiB,KAAOjB,EAAO,GAAIujB,EAAKtiB,KAAMsiB,EAAKrmC,MAAOqmC,EAAK/7B,UAGvEy7I,EAAkB/5I,KAAKwuF,IAIhBz/F,EAAIi8D,EAAK/7D,OAAS,EAAGF,EAAI,EAAGA,IACnCiuH,EAAQjuH,GAnERurJ,CAAWtvF,EAAM+uF,EAAmB/lJ,EAAOqC,GAG7C,GAAIohJ,EAAcvqF,MAAM1gD,QAAS,CAC/B,IAAI+tI,EAAcnC,GAAsBh7I,EAAO28I,GAC3CS,EAAyB,IAAhBxvF,EAAK/7D,OAAeqP,EAAS07I,EAAc3jJ,EAAQ,GAAK20D,EAAK,GAAGv+C,IAAI,SAASgM,UAAUP,KACpGg1C,EAAM1tD,UACN0tD,EAAQjC,GAAW6uF,EAAW,GAAI,IAAKv7I,EAAQ,CAC7CmC,MAAO,CACLtC,EAAGm8I,EAAY,GACfl8I,EAAGm8I,GAEL75I,IAAK,CACHvC,EAAGpK,EAAQumJ,EAAY,GACvBl8I,EAAGm8I,GAEL3yH,OAAQ,GACP4vH,GACHsC,EAAkB/5I,KAAK,CACrBgG,SAAU,SACVwoF,UAAWthC,EACXz0C,QAAS,WACP,IACI4hB,EADY6yB,EAAMzgD,IAAI,SACLgM,UACrB,OAAO,IAAI,QAAK4hB,EAAKtiB,KAAMsiB,EAAKpiB,KAAOuiI,EAAQngH,EAAKrmC,MAAOqmC,EAAK/7B,WAKtE,OAAOy7I,EA8FT,SAAS,GAASh8I,GAChB,IAAIoH,EAAQisF,KAUZ,OARIrzF,EAAQoH,QACN,YAAWpH,EAAQoH,OACrBA,EAAQisF,GAAerzF,EAAQoH,OACtB,YAAWpH,EAAQoH,SAC5BA,EAAQpH,EAAQoH,QAIbA,ECzaT,IAAI,GAAoB,CAAC,OAAQ,OAAQ,OAAQ,aAC1C,SAASwoD,GAAYpvD,EAAQb,EAAQ+8I,GAC1C,IAAI1yI,EA+EN,SAAuB3K,EAAOmB,GAC5B,IAAIm8I,EAAetpD,KAAiBrpF,QAChChK,EAAU,CACZsd,WAAYje,EAAMG,KAAKkP,IAAI,cAC3B0xB,WAAY/gC,EAAMG,KAAKkP,IAAI,cAC3BotB,SAAS,EACTt7B,OAAQA,EACR0gC,iBAAkB7hC,EAAMG,KAAKkP,IAAI,oBACjCtH,MAAOu1I,EACPp/H,gBAAiBle,EAAMG,KAAKkP,IAAI,oBAElC,OAAO,IAAI,EAAQgxC,KAAK1/C,GA1FV+vD,CAAcpwD,EAAO,GAAIa,GA2CvC,OA1CAA,EAAOf,GAAG,aAAa,SAAUqxC,GAC/B,IAAI8rG,EAAe,GACf53I,EAAQ,CACV3E,EAAGywC,EAAGzwC,EAAI,EACVC,EAAGwwC,EAAGxwC,EAAI,GAEZ,gBAAKX,GAAQ,SAAUN,GACrB,IAAIG,EAAOH,EAAMG,KAEjB,GAAIA,GAAQH,EAAMQ,WAAY,CAC5B,IAAIkf,EAAUvf,EAAKkP,IAAI,SACnB8zE,EAAQhjF,EAAKkP,IAAI,YACrB,gBAAK8zE,GAAO,SAAUC,GACpB,IAAI7qF,EAAO6qF,EAAK/zE,IAAI,QAChB2jB,EAAYowD,EAAK/zE,IAAI,aAEzB,GAAI,oBAAS,CAAC,OAAQ,OAAQ,OAAQ,YAAa9W,GAAO,CACxD,IAAIomC,EA4BhB,SAAyBh5B,EAAOy9E,EAAM7qF,EAAMy6B,EAAWta,GACrD,IAAIimB,EAAQ,GA6BZ,OA5BA,gBAAK3L,GAAW,SAAUnhB,GACxB,IAAI2/C,EAAW4xB,EAAK3xB,UAAU9rD,EAAOkM,GAErC,GAAI2/C,EAAU,CACZ,IAAIE,EAAW0xB,EAAKzxB,gBAAgBH,EAAU,MAC9C,gBAAKE,GAAU,SAAUhiD,GAEvB,IAAI/J,EAAQ+J,EAAE/J,MAEd,IAAK,iBAAMA,KAAW,iBAAMA,EAAM3E,KAAO,iBAAM2E,EAAM1E,GAAI,CACvD,IAAID,EAAI,mBAAQ2E,EAAM3E,GAAK2E,EAAM3E,EAAE2E,EAAM3E,EAAEnP,OAAS,GAAK8T,EAAM3E,EAC3DC,EAAI,mBAAQ0E,EAAM1E,GAAK0E,EAAM1E,EAAE0E,EAAM1E,EAAEpP,OAAS,GAAK8T,EAAM1E,EAC/D0E,EAAQ+S,EAAMoe,YAAY91B,EAAGC,EAAG,GAChCyO,EAAE1O,EAAI2E,EAAM,GACZ+J,EAAEzO,EAAI0E,EAAM,GACZ+J,EAAEkiD,YAAa,EACf,IAAIC,EA6Bd,SAAuBuxB,EAAM/8E,GAC3B,IAAIqhD,EAAY07B,EAAK/zE,IAAI,cAAgB,QACrC/C,EAAQ82E,EAAKp5B,gBAAgB,UAAY,SACzCwzF,EAAc31F,GAAgBH,GAC9BpmD,EAAM,CACR+E,MAAOA,GAGT,OADam3I,EAAY92F,eAAep6C,EAAOhL,GApCtBm8I,CAAcr6D,EAAM1zE,EAAErJ,OACvCwrD,EAAWjsD,OAAS,GACpB8J,EAAEi3B,OAASkrB,GAE+B,IAAtC,mBAAQ,GAAmBt5D,IAC7BomC,EAAM/7B,KAAK8M,OAIjBivB,EAAM/7B,KAAKzQ,MAAMwsC,EAAO+yB,OAGrB/yB,EA1DegzB,CAAgBhsD,EAAOy9E,EAAM7qF,EAAMy6B,EAAWtT,GAC1D69H,EAAa36I,KAAKzQ,MAAMorJ,EAAc5+G,OACjC,CACL,IACIr2B,EA8JhB,SAAqBxH,EAAWE,GAC9B,IAAIsH,EAAS,GACT5P,EAAWoI,EAAUuO,IAAI,YAQ7B,OAPA,gBAAK3W,GAAU,SAAU+Y,GACvB,IAAIwrB,EAAOxrB,EAAE4J,UAET4hB,EAAKtiB,KAAO3Z,GAAKi8B,EAAKriB,KAAO5Z,GAC/BsH,EAAO1F,KAAK6O,MAGTnJ,EAxKgBo1I,CADQt6D,EAAK/zE,IAAI,kBACW1J,EAAM3E,GAC/C,gBAAKsH,GAAQ,SAAUgE,GACrB,GAAIA,EAAM+C,IAAI,YAAc/C,EAAM+C,IAAI,UAAW,CAC/C,IAAIsvB,EAAQykD,EAAKzxB,gBAAgBrlD,EAAM+C,IAAI,UAAW,MACtDkuI,EAAa36I,KAAKzQ,MAAMorJ,EAAc5+G,eAgHtD,SAAqBA,EAAOjtC,EAAQ4P,GAClC,GAAI5P,EAAO2d,IAAI,UAAW,CACxB,IAAIi7F,EAGFA,EADE,mBAAQ54G,EAAO2d,IAAI,WAoB3B,SAAwBtb,EAAO8d,GAC7B,IAAK,IAAIlgB,KAAKkgB,EAAM,CAClB,IAAIb,EAAIa,EAAKlgB,GAAG67D,QACZmwF,EAAK,gBAAK3sI,GAEd,IAAK,IAAIkC,KAAKyqI,EAAI,CAChB,IAAI5rJ,EAAM4rJ,EAAGzqI,GAEb,GAAIlC,EAAEjf,KAASgC,EACb,MAAO,CACL8d,KAAMb,EACNjf,IAAKA,KA9BA6rJ,CAAej/G,EAAM,GAAG5qC,MAAOrC,EAAO2d,IAAI,WAAWwC,KAErDngB,EAAO2d,IAAI,UAAUm+C,QAGhC,gBAAK7uB,GAAO,SAAUjlC,GAChBA,EAAKiM,MAAM6nD,UAAY88C,IACzB5wG,EAAK2M,MAAQ,WAKf/E,EAAI6nB,MACNwV,EAAMxV,MAAK,SAAU1Z,EAAGuC,GACtB,OAAOwG,WAAWxG,EAAEhf,OAASwlB,WAAW/I,EAAEzc,UA5H5CioE,CAAYsiF,EAAc9rG,EAAG//C,OAAQ2rJ,GAEjCE,EAAa1rJ,OAAS,GACxB8Y,EAAQ42B,WAAW,GAoEzB,SAAwB5C,GACtB,IAAIrU,EAAM,GAQV,OAPA,gBAAKqU,GAAO,SAAUjlC,IAGL,IAOnB,SAAsBilC,EAAOjlC,GAC3B,IAAI6kB,GAAO,EAkBX,OAjBA,gBAAKogB,GAAO,SAAUglB,EAAKjtD,GACzB,IAAI05D,GAAU,EAEd,IAAK,IAAIr+D,KAAO2H,EACd,GAAI,eAAIA,EAAM3H,KACP,oBAAS2H,EAAK3H,KAAS2H,EAAK3H,KAAS4xD,EAAI5xD,GAAM,CAClDq+D,GAAU,EACV,MAKN,GAAIA,EAEF,OADA7xC,EAAM7nB,GACC,KAGJ6nB,EA5BOs/H,CAAavzH,EAAK5wB,IAG5B4wB,EAAI1nB,KAAKlJ,MAGN4wB,EA7EoBwzH,CAAeP,IACtC5yI,EAAQ62B,YAAY77B,EAAM3E,EAAG2E,EAAM1E,EAAGwwC,EAAG//C,QACzCiZ,EAAQnI,QACCmI,EAAQ0E,IAAI,YACrB1E,EAAQjI,UAGLiI,GCrCT,SAAUtT,GAGR,SAAS0mJ,EAAoBj9I,EAAWjO,GACtC,IAAIyE,EAAQD,EAAOnF,KAAKE,KAAM0O,EAAWjO,IAAUT,KAGnD,OADAkF,EAAMqJ,QAAU9N,EACTyE,EANT,qBAAUymJ,EAAqB1mJ,GAS/B0mJ,EAAoB/rJ,UAAU+jG,kBAAoB,WAChD,MAAO,CACLjmC,MAAO,CACL1gD,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,KAGZ4uF,MAAO,CACL5mF,SAAS,EACTvI,eAAe,EACfD,iBAAiB,EACjBE,iBAAiB,EACjBW,KAAM,CACJ2H,SAAS,GAEX5J,KAAM,CACJ4J,SAAS,GAEX7H,SAAU,CACR6H,SAAS,GAEX/H,MAAO,CACL+H,SAAS,GAEXrb,MAAO,CACLqb,SAAS,EACThI,OAAQ,IAEV42I,cAAc,EACdtC,aAAa,GAEfr0I,MAAO,CACL+H,SAAS,GAEXzE,QAAS,CACPyE,SAAS,EACT+Z,MAAM,GAER1f,OAAQ,CACN2F,SAAS,EACTxG,SAAU,cAKhBm1I,EAAoB/rJ,UAAUooJ,kBAAoB,WAChD,IAAI9iJ,EAAQlF,KAEZiF,EAAOrF,UAAUooJ,kBAAkBloJ,KAAKE,MAExCA,KAAK6rJ,WAAa,GAClB7rJ,KAAK+oJ,SAAW,GAChB/oJ,KAAKuqJ,kBAAoB,GACzBvqJ,KAAK8rJ,iBAAmB,GACxB9rJ,KAAK+rJ,gBAAkB,EACvB/rJ,KAAKgsJ,UAAY,IAAI,GAAM,CACzBj9I,OAAQ/O,KAAKynG,YACbjjG,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,SAGX9O,KAAKuO,QAAQL,OAAOzO,OAAS,GAE/B,QAAOO,KAAKuO,QAAQL,QAAQ,SAAU+9I,GACpC,IAAIzmJ,EAAIg3B,EAEJ0vH,EAAgBhnJ,EAAMinJ,oBAAoBF,GAE1CG,EAAejlD,GAAY8kD,EAAS9lJ,MAEpCkmJ,EAAiB,WAAU,GAAIJ,EAAU,CAC3Cl9I,OAAQ7J,EAAM6J,OACdH,EAAG,EACHC,EAAG,EACHrK,MAAOU,EAAMV,MACbsK,OAAQ5J,EAAM4J,QACbo9I,GAEC75D,EAAY,IAAI+5D,EAAaC,GACjCh6D,EAAU/hF,OACV+hF,EAAU1iF,UAETnK,EAAKN,EAAM6jJ,UAAUv4I,KAAKzQ,MAAMyF,EF/GlC,SAAqB6sF,EAAW5xF,EAAOwnJ,GAC5C,IACI/gH,EADOmrD,EAAUtkF,KACHkP,IAAI,UAClBqvI,EAAa,GACbC,EAAcpE,GAAc91D,EAAUlsF,KAAM1F,GAEhD,GAAIA,EAAMq/B,OAAQ,CAChB,IACI0sH,EAAY,CACdtsH,IAAK,IACLvS,MAHWuZ,EAAOzmC,EAAMq/B,QAIxBiqH,aAActpJ,EAAMgf,MAEtB6sI,EAAW97I,KAAKg8I,GAIlB,GAAI/rJ,EAAMs/B,OAAQ,CAEZysH,EAAY,CACdtsH,IAAK,IACLvS,MAHWuZ,EAAOzmC,EAAMs/B,QAIxBgqH,aAActpJ,EAAMgf,KACpBxL,MAAOs4I,GAAetE,EAAcrkD,MAAMgoD,aAAenrJ,EAAMwT,MAAQ,KACvErG,MAAOykF,GAETi6D,EAAW97I,KAAKg8I,GAGlB,OAAOF,EEkFoC,CAAsBj6D,EAAWg6D,EAAgBnnJ,EAAM+iJ,iBAE3FzrH,EAAKt3B,EAAM2mJ,YAAYr7I,KAAKzQ,MAAMy8B,EJvHpC,SAAuB61D,EAAW5xF,GACvC,IAAIs4D,EAAc,GAEdsyD,EADOh5B,EAAUtkF,KACDkP,IAAI,YAAY,GAChCk7C,EAAYkzD,EAASjzD,QAAQ,SAE7B7oB,EAAY,CACdsiB,WAAYw5D,EAASx5D,aACrB59C,MAAOkkD,EAAU7pC,OAAO,IAEtBimB,EAAS82E,EAASpuG,IAAI,gBAAgBq3C,eAAe+2D,EAASpuG,IAAI,QAASsyB,GAG/E,GAAgC,IAA5B4oB,EAAUjxB,OAAOznC,OACnBs5D,EAAYvoD,KAAK,CACf5P,MAAOH,EAAMwR,KACbkzC,SAAS,EACT5Q,OAAQA,EACRk0G,UAAU,EACV76I,MAAOykF,QAEJ,CAEL,IAAI/jE,EAAS6pC,EAAUjxB,OAAO,GAAG5Y,OAEjC,QAAOA,GAAQ,SAAUhR,EAAGhZ,GAC1B,IAAI09I,EAAc7pF,EAAU7pC,OAAOhqB,GAC/BmoJ,EAAcnvI,EACdpO,EAAM,CACR2iD,WAAYw5D,EAASx5D,aACrB59C,MAAO+tI,GAEL0K,EAAarhC,EAASpuG,IAAI,gBAAgBq3C,eAAe+2D,EAASpuG,IAAI,QAAS/N,GACnF6pD,EAAYvoD,KAAK,CACfo3B,MAAOuwB,EAAUjxB,OAAO,GAAGU,MAC3BhnC,MAAO6rJ,EACPtnG,SAAS,EACT5Q,OAAQm4G,EACRjE,UAAU,EACV76I,MAAOykF,OAKb,OAAOt5B,EI2EsC,CAAwBs5B,EAAWg6D,IAE1EnnJ,EAAMqL,SAAS8hF,MAMnBryF,KAAK2sJ,SAAW,IAAI,GAAM,CACxB59I,OAAQ/O,KAAKynG,YACbjjG,MAAOxE,KAAKwE,MACZsK,OAAQ9O,KAAK8O,UAMjB68I,EAAoB/rJ,UAAUusJ,oBAAsB,SAAUF,GAC5D,IAAIW,EL1ID,SAAwBzmJ,EAAM1F,EAAO87B,GAC1C,GAAI97B,EAAMwT,MACR,MAAO,CACL44I,QAAQ,EACR54I,MAAOxT,EAAMwT,OAIjB,IAAIw0I,EAAWN,GAAchiJ,EAAM1F,GAC/BuV,EAAS4rF,KAAiB5rF,OAE9B,OAAIyyI,IAAahoJ,EAAMwT,MACd,CACL44I,QAAQ,EACR54I,MAAO+B,EAAOumB,SAHlB,EK+HiB,CAAyB0vH,EAAS9lJ,KAAM8lJ,EAAUjsJ,KAAK+rJ,iBAMtE,OAJIa,GAAYA,EAASC,QACvB7sJ,KAAK+rJ,kBAGA,WAAU,GAAI,CACnBruF,MAAO,CACL1gD,SAAS,GAEX4mF,MAAO,CACL5mF,SAAS,GAEX3F,OAAQ,CACN2F,SAAS,GAEXzE,QAAS,CACPyE,SAAS,GAEXnW,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBoN,MAAO24I,EAAWA,EAAS34I,MAAQ,QAIvC03I,EAAoB/rJ,UAAUktJ,kBAAoB,WAChD,IAAI/zF,EAAwC/4D,KAAK6rJ,WAEjD,OADA7rJ,KAAKqoD,gBAAkBroD,KAAK2sJ,SAASj+I,UAAU6+B,WACxC,GAAuBwrB,EAAa/4D,KAAKwE,MAAOxE,KAAK8O,OAAQ9O,KAAKynG,YAAaznG,KAAKioJ,cAAc5wI,OAAOb,WAGlHm1I,EAAoB/rJ,UAAU+P,OAAS,WACrC,IAAInK,EAEAN,EAAQlF,KAEZA,KAAKqkG,YACLrkG,KAAKgoJ,oBACL,IAAInoD,EAAW+B,KAAiB/B,SAEhC,GAAI7/F,KAAKioJ,cAAc5wI,OAAO2F,QAAS,CACrC,IAAI3F,EAASrX,KAAK8sJ,oBAClB9sJ,KAAK8rJ,iBAAiBt7I,KAAK,CACzBrK,KAAM,SACN64F,UAAW3nF,EAAO2nF,YAEpBh/F,KAAKuqJ,kBAAkB/5I,KAAK6G,GAI9B,IAAI01I,EAAgBnE,GAAsB5oJ,KAAKkO,OAAO,GAAIlO,KAAKuqJ,mBAC3DyC,EAAiB,GAAqBhtJ,KAAKioJ,cAAejoJ,KAAK+oJ,SAAUgE,EAAe/sJ,KAAKkO,OAAO,GAAIlO,KAAKwE,MAAOxE,KAAK8O,OAAQ9O,KAAKynG,cAEzIjiG,EAAKxF,KAAKuqJ,mBAAmB/5I,KAAKzQ,MAAMyF,EAAIwnJ,GAE7C,QAAOA,GAAgB,SAAU12I,GAC/BpR,EAAM4mJ,iBAAiBt7I,KAAK,CAC1BrK,KAAM,OACN64F,UAAW1oF,EAAK0oF,eAKpB,IAAIn4F,EAAU+hJ,GAAsB5oJ,KAAKkO,OAAO,GAAIlO,KAAKuqJ,mBAkBzD,GAhBKvqJ,KAAKioJ,cAAcvqF,MAAM1gD,UAC5BnW,EAAQ,IAAMg5F,EAAS,IAIzB,QAAO7/F,KAAKkO,QAAQ,SAAUN,GAC5BA,EAAMqB,aAAa,CACjBpI,QAASA,IAEX+G,EAAMwC,OACNxC,EAAM+B,SACN/B,EAAMG,KAAKkP,IAAI,mBAAmBA,IAAI,aAAa9M,SACnDvC,EAAMG,KAAKkP,IAAI,cAAcA,IAAI,aAAa9M,YAI5CnQ,KAAKioJ,cAAcrkD,MAAMvuF,KAAK2H,QAAS,CACzC,IAAI0tI,EAAWsC,EAAe,GAAGhuD,UAC7BiuD,EAAiBjtJ,KAAKkO,OAAO,IFkKhC,SAAmBoI,EAAMgQ,EAAO5X,EAAWu5I,GAChD,IAAItyI,EAAQ,GAASsyI,GACjBpxG,EAAUoxG,EAAcrkD,MAAMvuF,KAC9B04E,EAAep4E,EAAMW,KAAKzH,EAAEwG,KAAK9Q,MAEjCA,EAAQ,WAAU,GAAIwpF,EAAcl3C,EAAQtyC,OAE5C+wC,EAAY5mC,EAAU6+B,WACtBuH,EAAax+B,EAAK2G,IAAI,cAE1B,QAAO63B,GAAY,SAAUxtC,EAAMhD,GAC7BA,EAAQ,GACVgxC,EAAU5oB,SAAS,OAAQ,CACzBrI,MAAO,oBAAS,CACdjI,KAAM,CAAC,CAAC,IAAKkK,EAAMpV,MAAMtC,EAAGtH,EAAKiM,MAAM1E,GAAI,CAAC,IAAKyX,EAAMnV,IAAIvC,EAAGtH,EAAKiM,MAAM1E,KACxEtK,QE9KL,CAAoBmmJ,EAFRuC,EAAel/I,KAAKkP,IAAI,SACpBgwI,EAAel/I,KAAKkP,IAAI,mBACQjd,KAAKioJ,eAGvD,GAAIjoJ,KAAKioJ,cAAc1vI,QAAQyE,QAAS,CACtC,IAAIzE,EAAU,GAAsBvY,KAAK+O,OAAQ/O,KAAKkO,OAAQlO,KAAKioJ,cAAc1vI,SACjFvY,KAAK8rJ,iBAAiBt7I,KAAK,CACzBrK,KAAM,UACN64F,UAAWzmF,MAKjBozI,EAAoB/rJ,UAAUykG,UAAY,WACxCrkG,KAAKktJ,kBACLltJ,KAAKyP,WAAU,SAAU7B,GACvBA,EAAMoC,aAERhQ,KAAKkO,OAAS,IAGhBy9I,EAAoB/rJ,UAAUstJ,gBAAkB,WAC9C,QAAOltJ,KAAK8rJ,kBAAkB,SAAUzsI,GACvB,WAAXA,EAAElZ,MAAgC,YAAXkZ,EAAElZ,MAC3BkZ,EAAE2/E,UAAUhvF,UAGC,SAAXqP,EAAElZ,MACJkZ,EAAE2/E,UAAUjvF,WAIhB/P,KAAKuqJ,kBAAoB,GACzBvqJ,KAAK8rJ,iBAAmB,IAtP5B,CNqBe,IMvBf,I,UCHMqB,I,2DACJ,WAAY1sJ,GAAQ,IAAD,+BACjB,cAAMA,IAgBRw9F,QAAU,WACRmvD,KAAKC,KAAK,YAAYC,MAAK,SAAAjtI,GACzB,EAAKwgD,SAAS,CACZx6D,QAASga,EAAIha,QACbknJ,WAAYltI,EAAIktI,iBArBH,EA0BnBC,iBAAmB,WASjB,EAAKC,WAAa,IAAI/uC,GAAO,KAAM,CACjCj/F,KATW,CACX,CAAE1W,KAAM,cAAU2kJ,MAAO,KACzB,CAAE3kJ,KAAM,cAAU2kJ,MAAO,KACzB,CAAE3kJ,KAAM,cAAU2kJ,MAAO,KACzB,CAAE3kJ,KAAM,cAAU2kJ,MAAO,KACzB,CAAE3kJ,KAAM,cAAU2kJ,MAAO,KAKzBtwE,UAAU,EACVv2E,QAAS,OACTi5B,OAAQ,OACRC,OAAQ,QACR4hD,WAAY,OACZugE,QAAS,GACTnkD,KAAM,CACJh1F,KAAM,CACJ0vD,MAAO,gBAETi1F,MAAO,CACLj1F,MAAO,iCAKb,EAAKg1F,WAAW99I,UArDC,EAwDnBg+I,eAAiB,WAoBf,EAAKC,SAAW,IAAIl2B,GAAK,KAAM,CAC7Bt6C,UAAU,EACV5pE,OAAQ,EACRiyB,YAAa,GACb5+B,QAAS,CAAC,EAAE,EAAE,EAAE,GAChB4Y,KAxBW,CACX,CACEtZ,KAAM,eACNvF,MAAO,KAET,CACEuF,KAAM,eACNvF,MAAO,IAET,CACEuF,KAAM,eACNvF,MAAO,IAET,CACEuF,KAAM,eACNvF,MAAO,KAUT2sH,WAAY,QACZ5rC,WAAY,SAGd,EAAKisE,SAASj+I,UAtFG,EAyFnBk+I,iBAAmB,WACjB,EAAKC,WAAa,IAAIpzB,GAAO,KAAM,CACjCt9C,UAAU,EACVk5C,UAAW,SACX7mG,IAAK,EACL9J,IAAK,IACL/kB,MAAO,IACPmtJ,WAAW,IAEb,EAAKD,WAAWn+I,UAhGhB,EAAK2xD,MAAQ,CACXj7D,QAAS,GACTknJ,WAAY,IAJG,E,iEAQE,IAAD,OAClBvtJ,KAAKi+F,UACL58B,YAAW,WACT,EAAKmsF,mBACL,EAAKG,iBACL,EAAKE,qBACJ,O,+BAuFK,IAAD,EACyB7tJ,KAAKshE,MAA7Bj7D,EADD,EACCA,QAASknJ,EADV,EACUA,WAEjB,OACE,yBAAKvsJ,UAAU,aACb,yBAAKA,UAAU,aACZqF,EAAQjC,KAAI,SAACkD,EAAM/H,GAAP,OACX,yBAAKyB,UAAS,sBAAiBzB,EAAI,GAAKI,IAAKJ,GAC3C,yBAAKyB,UAAU,cAAcsG,EAAK2K,MAClC,yBAAKjR,UAAU,eAAesG,EAAK1G,YAIzC,yBAAKI,UAAU,cACb,qBACEA,UAAU,SACVkF,KAAK,QACLvE,MAAM,uCACN8D,MAAO,kBAAC,KAAD,CAAM86E,GAAG,KAAI,wBAAMp6E,KAAK,WAE/B,yBAAKnF,UAAU,yBACZusJ,EAAWnpJ,KAAI,SAACkD,EAAM/H,GAAP,OACd,yBAAKyB,UAAU,aAAarB,IAAKJ,GAC/B,kBAAC,KAAD,CAAMghF,GAAG,KACP,uBAAQv/E,UAAU,WAAWkF,KAAK,QAAQgU,MAAM,SAAS47E,KAAMxuF,EAAKwuF,QAEtE,0BAAM90F,UAAU,YAAYsG,EAAK2K,YAKzC,qBACEjR,UAAU,SACVkF,KAAK,QACLvE,MAAM,2BACN8D,MAAO,kBAAC,KAAD,CAAM86E,GAAG,KAAI,wBAAMp6E,KAAK,WAE/B,yBAAKnF,UAAU,aACb,yBAAK2N,GAAG,UAId,yBAAK3N,UAAU,cACb,qBACEA,UAAU,SACVkF,KAAK,QACLvE,MAAM,iCACN8D,MAAO,kBAAC,KAAD,CAAM86E,GAAG,KAAI,wBAAMp6E,KAAK,WAE/B,yBAAKnF,UAAU,aACb,yBAAK2N,GAAG,SAGZ,qBACE3N,UAAU,SACVkF,KAAK,QACLvE,MAAM,uCACN8D,MAAO,kBAAC,KAAD,CAAM86E,GAAG,KAAI,wBAAMp6E,KAAK,WAE/B,yBAAKnF,UAAU,aACb,yBAAK2N,GAAG,e,GAlKCq/I,IAAMC,YA2Kdd,c,wCClLf,IAUe,EAVG,SAAqBvsJ,GAOrC,OAAiB,OAAVA,GAAmC,oBAAVA,GAAwBk8B,SAASl8B,EAAMnB,SCG1D,EARA,SAAkBmxB,EAAKhwB,GACpC,QAAK,EAAYgwB,IAIVA,EAAItwB,QAAQM,IAAU,GCahB,EAlBF,SAAgBgwB,EAAKg0D,GAChC,IAAK,EAAYh0D,GACf,OAAOA,EAKT,IAFA,IAAIntB,EAAS,GAEJa,EAAQ,EAAGA,EAAQssB,EAAInxB,OAAQ6E,IAAS,CAC/C,IAAI1D,EAAQgwB,EAAItsB,GAEZsgF,EAAKhkF,EAAO0D,IACdb,EAAO+M,KAAK5P,GAIhB,OAAO6C,GCKM,EAVE,SAAoBmtB,EAAKtC,GAKxC,YAJe,IAAXA,IACFA,EAAS,IAGJ,EAAOsC,GAAK,SAAUhwB,GAC3B,OAAQ,EAAS0tB,EAAQ1tB,OClBzB,EAAW,GAAG2C,SAMH,EAJF,SAAgB3C,EAAOuF,GAClC,OAAO,EAASrG,KAAKc,KAAW,WAAauF,EAAO,KCGtC,cACd,OAAO,EAAOvF,EAAO,aCER,EARH,SAAeA,GAKzB,OAAiB,OAAVA,QAA4BkG,IAAVlG,GCLX,cACd,OAAO4c,MAAMilH,QAAUjlH,MAAMilH,QAAQ7hI,GAAS,EAAOA,EAAO,UCF9C,cAOd,IAAIuF,SAAcvF,EAClB,OAAiB,OAAVA,GAA2B,WAATuF,GAA8B,aAATA,GCuBjC,MA5Bf,SAAcknB,EAAUu3D,GACtB,GAAKv3D,EAML,GAAI,EAAQA,GACV,IAAK,IAAI9tB,EAAI,EAAGse,EAAMwP,EAAS5tB,OAAQF,EAAIse,IAG7B,IAFN+mE,EAAKv3D,EAAS9tB,GAAIA,GADsBA,UAO3C,GAAI,EAAS8tB,GAClB,IAAK,IAAIrb,KAAKqb,EACZ,GAAIA,EAASxtB,eAAemS,KAGd,IAFN4yE,EAAKv3D,EAASrb,GAAIA,GAGtB,OCXK,EAXJ5S,OAAOukC,KAAO,SAAUhjC,GACjC,OAAOvB,OAAOukC,KAAKhjC,IACjB,SAAUA,GACZ,IAAI8C,EAAS,GAMb,OALA,EAAK9C,GAAK,SAAUC,EAAOjB,GACnB,EAAWgB,IAAgB,cAARhB,GACvB8D,EAAO+M,KAAK7Q,MAGT8D,GCSM,MAjBf,SAAiB9C,EAAK0jB,GACpB,IAAI6pI,EAAQ,EAAK7pI,GAEb5kB,EAASyuJ,EAAMzuJ,OACnB,GAAI,EAAMkB,GAAM,OAAQlB,EAExB,IAAK,IAAIF,EAAI,EAAGA,EAAIE,EAAQF,GAAK,EAAG,CAClC,IAAII,EAAMuuJ,EAAM3uJ,GAEhB,GAAI8kB,EAAM1kB,KAASgB,EAAIhB,MAAUA,KAAOgB,GACtC,OAAO,EAIX,OAAO,GCPM,EAVI,SAAsBC,GAOvC,MAAwB,kBAAVA,GAAgC,OAAVA,GCoBvB,EAxBK,SAAuBA,GAOzC,IAAK,EAAaA,KAAW,EAAOA,EAAO,UACzC,OAAO,EAGT,GAAqC,OAAjCxB,OAAO6E,eAAerD,GACxB,OAAO,EAKT,IAFA,IAAIutJ,EAAQvtJ,EAE4B,OAAjCxB,OAAO6E,eAAekqJ,IAC3BA,EAAQ/uJ,OAAO6E,eAAekqJ,GAGhC,OAAO/uJ,OAAO6E,eAAerD,KAAWutJ,GCO3B,MA1Bf,SAAcv9H,EAAKw9H,GACjB,IAAK,EAAQx9H,GAAM,OAAO,KAE1B,IAAIy9H,EAYJ,GAVI,EAAWD,KACbC,EAAaD,GAGX,EAAcA,KAChBC,EAAa,SAAoBhxI,GAC/B,OAAO,EAAQA,EAAG+wI,KAIlBC,EACF,IAAK,IAAI9uJ,EAAI,EAAGA,EAAIqxB,EAAInxB,OAAQF,GAAK,EACnC,GAAI8uJ,EAAWz9H,EAAIrxB,IACjB,OAAOqxB,EAAIrxB,GAKjB,OAAO,MCbM,MAff,SAAmBqxB,EAAKw9H,EAAWE,QACf,IAAdA,IACFA,EAAY,GAGd,IAAK,IAAI/uJ,EAAI+uJ,EAAW/uJ,EAAIqxB,EAAInxB,OAAQF,IACtC,GAAI6uJ,EAAUx9H,EAAIrxB,GAAIA,GAEpB,OAAOA,EAIX,OAAQ,GCYK,EArBE,SAAoBkgB,EAAMxN,GAGzC,IAFA,IAAIka,EAAM,KAED5sB,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CACpC,IACIqB,EADM6e,EAAKlgB,GACC0S,GAEhB,IAAK,EAAMrR,GAAQ,CAEfurB,EADE,EAAQvrB,GACJA,EAAM,GAENA,EAGR,OAIJ,OAAOurB,GCIM,EAdD,SAAiByE,GAC7B,IAAK,EAAQA,GACX,MAAO,GAKT,IAFA,IAAIzE,EAAM,GAED5sB,EAAI,EAAGA,EAAIqxB,EAAInxB,OAAQF,IAC9B4sB,EAAMA,EAAI9qB,OAAOuvB,EAAIrxB,IAGvB,OAAO4sB,GCMM,EAhBG,SAASoiI,EAAY39H,EAAKntB,GAK1C,QAJe,IAAXA,IACFA,EAAS,IAGN,EAAQmtB,GAGX,IAAK,IAAIrxB,EAAI,EAAGA,EAAIqxB,EAAInxB,OAAQF,GAAK,EACnCgvJ,EAAY39H,EAAIrxB,GAAIkE,QAHtBA,EAAO+M,KAAKogB,GAOd,OAAOntB,GCSM,EAhCA,SAAkB6qB,GAE/B,IAAIkgI,EAAelgI,EAAO6rC,QAAO,SAAU78C,GACzC,OAAQ4X,MAAM5X,MAGhB,IAAKkxI,EAAa/uJ,OAEhB,MAAO,CACLgwB,IAAK,EACL9J,IAAK,GAIT,GAAI,EAAQ2I,EAAO,IAAK,CAGtB,IAFA,IAAI4J,EAAM,GAED34B,EAAI,EAAGA,EAAI+uB,EAAO7uB,OAAQF,IACjC24B,EAAMA,EAAI72B,OAAOitB,EAAO/uB,IAG1BivJ,EAAet2H,EAGjB,IAAIvS,EAAMzH,KAAKyH,IAAI5lB,MAAM,KAAMyuJ,GAE/B,MAAO,CACL/+H,IAFQvR,KAAKuR,IAAI1vB,MAAM,KAAMyuJ,GAG7B7oI,IAAKA,IC9BL8oI,EAAejxI,MAAM5d,UACrB+Q,EAAS89I,EAAa99I,OACtB,EAAU89I,EAAanuJ,QAqBZ,EAnBJ,SAAcswB,GAGvB,IAFA,IAAItC,EAAS,GAEJ8B,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtC9B,EAAO8B,EAAK,GAAK5wB,UAAU4wB,GAG7B,IAAK,IAAI7wB,EAAI,EAAGA,EAAI+uB,EAAO7uB,OAAQF,IAIjC,IAHA,IAAIqB,EAAQ0tB,EAAO/uB,GACf+uJ,GAAa,GAETA,EAAY,EAAQxuJ,KAAK8wB,EAAKhwB,KAAW,GAC/C+P,EAAO7Q,KAAK8wB,EAAK09H,EAAW,GAIhC,OAAO19H,GCnBL,EAASpT,MAAM5d,UAAU+Q,OAuBd,EArBF,SAAgBigB,EAAK89H,GAChC,IAAK,EAAY99H,GACf,MAAO,GAMT,IAHA,IAAInxB,EAASmxB,EAAM89H,EAAQjvJ,OAAS,EAChCy9D,EAAOz9D,EAAS,EAEbA,KAAU,CACf,IAAI4vG,OAAW,EACX/qG,EAAQoqJ,EAAQjvJ,GAEhBA,IAAWy9D,GAAQ54D,IAAU+qG,IAC/BA,EAAW/qG,EACX,EAAOxE,KAAK8wB,EAAKtsB,EAAO,IAI5B,OAAOssB,GCLM,EAZF,SAAgBA,EAAK8pD,EAAItrE,GACpC,IAAK,EAAQwhB,KAAS,EAAcA,GAClC,OAAOA,EAGT,IAAIntB,EAAS2L,EAIb,OAHA,EAAKwhB,GAAK,SAAUnR,EAAMlgB,GACxBkE,EAASi3E,EAAGj3E,EAAQgc,EAAMlgB,MAErBkE,GCoBM,EA9BF,SAAgBmtB,EAAKw9H,GAOhC,IAAI3qJ,EAAS,GAEb,IAAK,EAAYmtB,GACf,OAAOntB,EAOT,IAJA,IAAIlE,GAAK,EACLmvJ,EAAU,GACVjvJ,EAASmxB,EAAInxB,SAERF,EAAIE,GAAQ,CACnB,IAAImB,EAAQgwB,EAAIrxB,GAEZ6uJ,EAAUxtJ,EAAOrB,EAAGqxB,KACtBntB,EAAO+M,KAAK5P,GACZ8tJ,EAAQl+I,KAAKjR,IAKjB,OADA,EAAOqxB,EAAK89H,GACLjrJ,GC7BO,cACd,OAAO,EAAOkyB,EAAK,WCuCN,MArCf,SAAgB/E,EAAKjxB,GACnB,IAAIgvJ,EAEJ,GAAI,EAAWhvJ,GACbgvJ,EAAW,SAAkBtxI,EAAGuC,GAC9B,OAAOjgB,EAAI0d,GAAK1d,EAAIigB,QAEjB,CACL,IAAIgvI,EAAS,GAET,EAASjvJ,GACXivJ,EAAOp+I,KAAK7Q,GACH,EAAQA,KACjBivJ,EAASjvJ,GAGXgvJ,EAAW,SAAkBtxI,EAAGuC,GAC9B,IAAK,IAAIrgB,EAAI,EAAGA,EAAIqvJ,EAAOnvJ,OAAQF,GAAK,EAAG,CACzC,IAAIsvJ,EAAOD,EAAOrvJ,GAElB,GAAI8d,EAAEwxI,GAAQjvI,EAAEivI,GACd,OAAO,EAGT,GAAIxxI,EAAEwxI,GAAQjvI,EAAEivI,GACd,OAAQ,EAIZ,OAAO,GAKX,OADAj+H,EAAImG,KAAK43H,GACF/9H,GCzBM,EAVJ,SAAcA,GACvB,IAAIk+H,EAAY,GAMhB,OALA,EAAKl+H,GAAK,SAAUtpB,GACb,EAASwnJ,EAAWxnJ,IACvBwnJ,EAAUt+I,KAAKlJ,MAGZwnJ,GCEM,EAVH,WAGV,IAFA,IAAIC,EAAU,GAEL3+H,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtC2+H,EAAQ3+H,GAAM5wB,UAAU4wB,GAG1B,OAAO,EAAK,GAAG/uB,OAAOtB,MAAM,GAAIgvJ,KCPlB,gBAId,IAHA,IAAI5iI,EAAM,GACN6iI,EAAS,GAEJzvJ,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CACpC,IACIqB,EADM6e,EAAKlgB,GACC0S,GAEhB,IAAK,EAAMrR,GAAQ,CAEZ,EAAQA,KACXA,EAAQ,CAACA,IAGX,IAAK,IAAIkgB,EAAI,EAAGA,EAAIlgB,EAAMnB,OAAQqhB,IAAK,CACrC,IAAIuQ,EAAMzwB,EAAMkgB,GAEXkuI,EAAO39H,KACVlF,EAAI3b,KAAK6gB,GACT29H,EAAO39H,IAAO,KAMtB,OAAOlF,GC1BM,SAAS5mB,EAAK3C,GAC3B,GAAI,EAAYA,GACd,OAAOA,EAAE,GCFE,SAAS,EAAKA,GAC3B,GAAI,EAAYA,GAAI,CAElB,OADUA,IACKnD,OAAS,ICGb,MAJf,SAAoBmxB,EAAKzwB,GACvB,SAAO,EAAQywB,KAAQ,EAASA,KAAOA,EAAI,KAAOzwB,GCGrC,MAJf,SAAkBywB,EAAKzwB,GACrB,SAAO,EAAQywB,KAAQ,EAASA,KAAOA,EAAIA,EAAInxB,OAAS,KAAOU,GCSlD,EARH,SAAeywB,EAAKg0D,GAC9B,IAAK,IAAIrlF,EAAI,EAAGA,EAAIqxB,EAAInxB,OAAQF,IAC9B,IAAKqlF,EAAKh0D,EAAIrxB,GAAIA,GAAI,OAAO,EAG/B,OAAO,GCGM,EARJ,SAAcqxB,EAAKg0D,GAC5B,IAAK,IAAIrlF,EAAI,EAAGA,EAAIqxB,EAAInxB,OAAQF,IAC9B,GAAIqlF,EAAKh0D,EAAIrxB,GAAIA,GAAI,OAAO,EAG9B,OAAO,GCRL,EAAiBH,OAAOQ,UAAUC,eA4BvB,MA1Bf,SAAiB4f,EAAMg5D,GACrB,IAAKA,IAAc,EAAQh5D,GACzB,MAAO,GAUT,IAPA,IAKI9f,EALA8D,EAAS,GAET2qJ,EAAY,EAAW31E,GAAaA,EAAY,SAAUnxE,GAC5D,OAAOA,EAAKmxE,IAILl5E,EAAI,EAAGA,EAAIkgB,EAAKhgB,OAAQF,IAAK,CACpC,IAAI+H,EAAOmY,EAAKlgB,GAChBI,EAAMyuJ,EAAU9mJ,GAEZ,EAAexH,KAAK2D,EAAQ9D,GAC9B8D,EAAO9D,GAAK6Q,KAAKlJ,GAEjB7D,EAAO9D,GAAO,CAAC2H,GAInB,OAAO7D,GCEM,EAzBE,SAAoBgc,EAAMg5D,GACzC,IAAKA,EACH,MAAO,CACLw2E,EAAGxvI,GAIP,IAAK,EAAWg5D,GAAY,CAC1B,IAAIy2E,EAAoB,EAAQz2E,GAAaA,EAAYA,EAAU94D,QAAQ,OAAQ,IAAIkE,MAAM,KAE7F40D,EAAY,SAAmB1yB,GAG7B,IAFA,IAAIopG,EAAS,IAEJ5vJ,EAAI,EAAG+f,EAAI4vI,EAAkBzvJ,OAAQF,EAAI+f,EAAG/f,IACnD4vJ,GAAUppG,EAAImpG,EAAkB3vJ,KAAOwmD,EAAImpG,EAAkB3vJ,IAAIgE,WAGnE,OAAO4rJ,GAKX,OADa,EAAQ1vI,EAAMg5D,ICxBb,gBACd,IAAKA,EAEH,MAAO,CAACh5D,GAGV,IAAIg1B,EAAS,EAAWh1B,EAAMg5D,GAC1BiV,EAAQ,GAEZ,IAAK,IAAInuF,KAAKk1C,EACZi5C,EAAMl9E,KAAKikC,EAAOl1C,IAGpB,OAAOmuF,GCHM,MAJf,SAAyB/sF,EAAK0D,GAC5B,OAAO1D,EAAI,SAAW0D,ICYT,MAbf,SAAsB1D,EAAK0D,GACzB,GAAI1D,EAAI,SAAW0D,GACjB,OAAO1D,EAAI,SAAW0D,GAGxB,IAAI2pB,EAAS,SAAgB7tB,GAC3BQ,EAAI0D,GAAQlE,IAId,OADAQ,EAAI,SAAW0D,GAAU2pB,EAClBA,GCjBLohI,EAAgB,GAoBL,MAlBf,SAAuB/nE,GAErB,IAAIpzE,EAAQm7I,EAAc/nE,GAE1B,IAAKpzE,EAAO,CAGV,IAFA,IAAI0hB,EAAM0xD,EAAI9jF,SAAS,IAEdhE,EAAIo2B,EAAIl2B,OAAQF,EAAI,EAAGA,IAC9Bo2B,EAAM,IAAMA,EAGd1hB,EAAQ,IAAM0hB,EACdy5H,EAAc/nE,GAAOpzE,EAGvB,OAAOA,GCmBM,MAlCf,SAAqBT,GACnB,IAAI67I,EAAK,EACL9sE,EAAK,EACL+sE,EAAK,EACLC,EAAK,EAsBT,OApBI,EAAQ/7I,GACY,IAAlBA,EAAO/T,OACT4vJ,EAAK9sE,EAAK+sE,EAAKC,EAAK/7I,EAAO,GACA,IAAlBA,EAAO/T,QAChB4vJ,EAAKC,EAAK97I,EAAO,GACjB+uE,EAAKgtE,EAAK/7I,EAAO,IACU,IAAlBA,EAAO/T,QAChB4vJ,EAAK77I,EAAO,GACZ+uE,EAAKgtE,EAAK/7I,EAAO,GACjB87I,EAAK97I,EAAO,KAEZ67I,EAAK77I,EAAO,GACZ+uE,EAAK/uE,EAAO,GACZ87I,EAAK97I,EAAO,GACZ+7I,EAAK/7I,EAAO,IAGd67I,EAAK9sE,EAAK+sE,EAAKC,EAAK/7I,EAGf,CACL67I,GAAIA,EACJ9sE,GAAIA,EACJ+sE,GAAIA,EACJC,GAAIA,ICtBO,EAVH,SAAelyI,EAAGoS,EAAK9J,GACjC,OAAItI,EAAIoS,EACCA,EACEpS,EAAIsI,EACNA,EAGFtI,GCUM,EAjBC,SAAmBC,EAAGwa,GACpC,IAAInC,EAAMmC,EAAKv0B,WACXe,EAAQqxB,EAAIr1B,QAAQ,KAExB,IAAe,IAAXgE,EACF,OAAO4Z,KAAKgS,MAAM5S,GAGpB,IAAI7d,EAASk2B,EAAI5E,OAAOzsB,EAAQ,GAAG7E,OAMnC,OAJIA,EAAS,KACXA,EAAS,IAGJ2mB,WAAW9I,EAAEqF,QAAQljB,KCJf,GAJA,SAAkBmB,GAC/B,OAAO,EAAOA,EAAO,WCDR,GAJC,SAAmBymF,GACjC,OAAO,GAASA,IAAQA,EAAM,IAAM,GCGvB,GAJF,SAAgBA,GAC3B,OAAO,GAASA,IAAQA,EAAM,IAAM,GCCvB,GAHC3kE,OAAOkZ,UAAYlZ,OAAOkZ,UAAY,SAAUyrD,GAC9D,OAAO,GAASA,IAAQA,EAAM,IAAM,GCIvB,GAJE,SAAoBA,GACnC,OAAO,GAASA,IAAQA,EAAM,GCDjB,SAASmoE,GAAcnyI,EAAGuC,EAAG2qE,GAK1C,YAJkB,IAAdA,IACFA,EAJY,MAOPrsE,KAAKsE,IAAInF,EAAIuC,GAAK2qE,ECL3B,IAIe,GAJH,SAAelD,GACzB,OAAO,GAASA,IAAQA,EAAM,IAAM,GCGvB,GAJE,SAAoBA,GACnC,OAAO,GAASA,IAAQA,EAAM,GCehB,iBACd,GAAK,EAAQz2D,GAAb,CAIA,IACI6+H,EAQAhwI,EATAkG,EAAMiL,EAAI,GAsBd,OAlBE6+H,EADE,EAAW/0E,GACHA,EAAG9pD,EAAI,IAEPA,EAAI,GAAG8pD,GAInB,EAAK9pD,GAAK,SAAUS,IAEhB5R,EADE,EAAWi7D,GACNA,EAAGrpD,GAEHA,EAAIqpD,IAGF+0E,IACT9pI,EAAM0L,EACNo+H,EAAUhwI,MAGPkG,IC3BO,iBACd,GAAK,EAAQiL,GAAb,CAIA,IACI8+H,EAQAjwI,EATAgQ,EAAMmB,EAAI,GAsBd,OAlBE8+H,EADE,EAAWh1E,GACHA,EAAG9pD,EAAI,IAEPA,EAAI,GAAG8pD,GAInB,EAAK9pD,GAAK,SAAUS,IAEhB5R,EADE,EAAWi7D,GACNA,EAAGrpD,GAEHA,EAAIqpD,IAGFg1E,IACTjgI,EAAM4B,EACNq+H,EAAUjwI,MAGPgQ,ICzCM,GAJL,SAAayK,EAAGtc,GACxB,OAAQsc,EAAItc,EAAIA,GAAKA,GCDnB+xI,GAAS,IAAMzxI,KAAKK,GAMT,GAJA,SAAkB2mB,GAC/B,OAAOyqH,GAASzqH,GCHH,YCAX0qH,GAAS1xI,KAAKK,GAAK,IAMR,GAJA,SAAkB+jF,GAC/B,OAAOstD,GAASttD,GCFH,KCDC,iBACd,OAAO3hG,EAAId,eAAeF,ICAb,MCaA,GAXFP,OAAOkvB,OAAS,SAAU3tB,GACrC,OAAOvB,OAAOkvB,OAAO3tB,IACnB,SAAUA,GACZ,IAAI8C,EAAS,GAMb,OALA,EAAK9C,GAAK,SAAUC,EAAOjB,GACnB,EAAWgB,IAAgB,cAARhB,GACvB8D,EAAO+M,KAAK5P,MAGT6C,GCVO,iBACd,OAAO,EAAS,GAAO9C,GAAMC,ICFf,eACd,OAAI,EAAMA,GAAe,GAClBA,EAAM2C,YCGA,GAJC,SAAmBoyB,GACjC,OAAO,GAASA,GAAKrjB,eCIR,GALE,SAAoB1R,GACnC,IAAI+0B,EAAM,GAAS/0B,GACnB,OAAO+0B,EAAIxE,OAAO,GAAG7e,cAAgBqjB,EAAIk6H,UAAU,ICUtC,OAdf,SAAoBl6H,EAAK/yB,GACvB,OAAK+yB,GAAQ/yB,EAIN+yB,EAAIhW,QAAQ,oBAAoB,SAAU2U,EAAOriB,GACtD,MAAwB,OAApBqiB,EAAMnD,OAAO,GACRmD,EAAMhP,MAAM,QAGFxe,IAAZlE,EAAEqP,GAAsB,GAAKrP,EAAEqP,MAR/B0jB,GCII,GAJC,SAAmBA,GACjC,OAAO,GAASA,GAAK9U,eCIR,GALE,SAAoBjgB,GACnC,IAAI+0B,EAAM,GAAS/0B,GACnB,OAAO+0B,EAAIxE,OAAO,GAAGtQ,cAAgB8U,EAAIk6H,UAAU,ICJjD,GAAW,GAAGtsJ,SAMH,GAJD,SAAiB3C,GAC7B,OAAO,GAASd,KAAKc,GAAO+e,QAAQ,aAAc,IAAIA,QAAQ,KAAM,KCSvD,GAJG,SAAqB/e,GACrC,OAAO,EAAOA,EAAO,cCGR,GAJC,SAAmBA,GACjC,OAAO,EAAOA,EAAO,YCHR,GAJF,SAAgBA,GAC3B,OAAO,EAAOA,EAAO,SCSR,GAJD,SAAiBA,GAC7B,OAAO,EAAOA,EAAO,UCJR,eACb,OAAO,GAASA,IAAUk8B,SAASl8B,ICFtB,GAJF,SAAgBA,GAC3B,OAAiB,OAAVA,GCDLkvJ,GAAc1wJ,OAAOQ,UAQV,GANG,SAAqBgB,GACrC,IAAIysE,EAAOzsE,GAASA,EAAMwB,YAE1B,OAAOxB,KADqB,oBAATysE,GAAuBA,EAAKztE,WAAakwJ,KCE/C,GAJA,SAAkBn6H,GAC/B,OAAO,EAAOA,EAAK,WCCN,GAJG,SAAqB/0B,GACrC,YAAiBkG,IAAVlG,GCOM,GAJC,SAAmBgC,GACjC,OAAOA,aAAaquE,SAAWruE,aAAamtJ,cCL/B,SAASzzD,GAAsB5hB,GAO5C,OANa+C,OAAO6e,uBAAyB7e,OAAOuyE,6BACpDvyE,OAAOwyE,0BACPxyE,OAAOyyE,yBAA2B,SAAU3kH,GAC1C,OAAO81B,WAAW91B,EAAG,MAGTmvC,GCPD,SAAS+hB,GAAqB3uF,IAC9B2vE,OAAOgf,sBAAwBhf,OAAO0yE,4BACnD1yE,OAAO2yE,yBACP3yE,OAAO4yE,wBAA0BlvF,cAC1BrzD,GCHT,SAASwiJ,GAAK/rG,EAAM5jD,GAClB,IAAK,IAAIhB,KAAOgB,EACVA,EAAId,eAAeF,IAAgB,gBAARA,QAAsCmH,IAAbnG,EAAIhB,KAC1D4kD,EAAK5kD,GAAOgB,EAAIhB,IAKP,SAAS4wJ,GAAIhsG,EAAMisG,EAAMC,EAAMC,GAI5C,OAHIF,GAAMF,GAAK/rG,EAAMisG,GACjBC,GAAMH,GAAK/rG,EAAMksG,GACjBC,GAAMJ,GAAK/rG,EAAMmsG,GACdnsG,ECVT,IAoBe,GApBD,WAGZ,IAFA,IAAIp0B,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,GAAM5wB,UAAU4wB,GAKvB,IAFA,IAAI/Q,EAAI8Q,EAAK,GAEJ5wB,EAAI,EAAGA,EAAI4wB,EAAK1wB,OAAQF,IAAK,CACpC,IAAIoB,EAAMwvB,EAAK5wB,GAEX,EAAWoB,KACbA,EAAMA,EAAIf,WAGZ2wJ,GAAIlxI,EAAEzf,UAAWe,KCeN,GAhCH,SAASkuB,EAAMluB,GACzB,GAAmB,kBAARA,GAA4B,OAARA,EAC7B,OAAOA,EAGT,IAAIwrB,EAEJ,GAAI,EAAQxrB,GAAM,CAChBwrB,EAAM,GAEN,IAAK,IAAI5sB,EAAI,EAAG+f,EAAI3e,EAAIlB,OAAQF,EAAI+f,EAAG/f,IACf,kBAAXoB,EAAIpB,IAA6B,MAAVoB,EAAIpB,GACpC4sB,EAAI5sB,GAAKsvB,EAAMluB,EAAIpB,IAEnB4sB,EAAI5sB,GAAKoB,EAAIpB,QAMjB,IAAK,IAAIyS,KAFTma,EAAM,GAEQxrB,EACU,kBAAXA,EAAIqR,IAA6B,MAAVrR,EAAIqR,GACpCma,EAAIna,GAAK6c,EAAMluB,EAAIqR,IAEnBma,EAAIna,GAAKrR,EAAIqR,GAKnB,OAAOma,GCPM,OAxBf,SAAkBy4D,EAAMuyD,EAAMwZ,GAC5B,IAAIC,EACJ,OAAO,WACL,IAAIroB,EAAUvoI,KACVmwB,EAAO3wB,UAEPqxJ,EAAQ,WACVD,EAAU,KAELD,GACH/rE,EAAK7kF,MAAMwoI,EAASp4G,IAIpB2gI,EAAUH,IAAcC,EAC5BzvF,aAAayvF,GACbA,EAAUvvF,WAAWwvF,EAAO1Z,GAExB2Z,GACFlsE,EAAK7kF,MAAMwoI,EAASp4G,KCXV,YAAAob,EAAA,GACd,IAAK,EAAWA,GACd,MAAM,IAAI/oC,UAAU,uBAGtB,IAAIuuJ,EAAW,SAASA,IAGtB,IAFA,IAAI5gI,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,GAAM5wB,UAAU4wB,GAIvB,IAAIzwB,EAAMqxJ,EAAWA,EAASjxJ,MAAMC,KAAMmwB,GAAQA,EAAK,GACnDgT,EAAQ4tH,EAAS5tH,MAErB,GAAIA,EAAMC,IAAIzjC,GACZ,OAAOwjC,EAAMlmB,IAAItd,GAGnB,IAAI8D,EAAS8nC,EAAExrC,MAAMC,KAAMmwB,GAG3B,OADAgT,EAAM9yB,IAAI1Q,EAAK8D,GACRA,GAIT,OADAstJ,EAAS5tH,MAAQ,IAAI8tH,IACdF,GC/BT,SAASG,GAAS3sG,EAAMuJ,EAAKurE,EAAOya,GAIlC,IAAK,IAAIn0I,KAHT05H,EAAQA,GAAS,EACjBya,EAAWA,GAJO,EAMFhmF,EACd,GAAIA,EAAIjuD,eAAeF,GAAM,CAC3B,IAAIiB,EAAQktD,EAAInuD,GAEF,OAAViB,GAAkB,EAAcA,IAC7B,EAAc2jD,EAAK5kD,MACtB4kD,EAAK5kD,GAAO,IAGV05H,EAAQya,EACVod,GAAS3sG,EAAK5kD,GAAMiB,EAAOy4H,EAAQ,EAAGya,GAEtCvvF,EAAK5kD,GAAOmuD,EAAInuD,IAET,EAAQiB,IACjB2jD,EAAK5kD,GAAO,GACZ4kD,EAAK5kD,GAAO4kD,EAAK5kD,GAAK0B,OAAOT,SACVkG,IAAVlG,IACT2jD,EAAK5kD,GAAOiB,IAOpB,IAce,GAdD,SAAiBurB,GAG7B,IAFA,IAAIgE,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,EAAK,GAAK5wB,UAAU4wB,GAG3B,IAAK,IAAI7wB,EAAI,EAAGA,EAAI4wB,EAAK1wB,OAAQF,GAAK,EACpC2xJ,GAAS/kI,EAAKgE,EAAK5wB,IAGrB,OAAO4sB,GCRM,GAjCF,SAAgBglI,EAAUC,EAAYC,EAAWC,GAEvD,EAAWF,KACdC,EAAYD,EACZA,EAAaD,EAEbA,EAAW,cAGb,IAAIvsJ,EAASxF,OAAOwF,OAAS,SAAUupJ,EAAO9uI,GAC5C,OAAOjgB,OAAOwF,OAAOupJ,EAAO,CAC1B/rJ,YAAa,CACXxB,MAAOye,MAGT,SAAU8uI,EAAO9uI,GACnB,SAASkyI,KAETA,EAAI3xJ,UAAYuuJ,EAChB,IAAIvrJ,EAAI,IAAI2uJ,EAEZ,OADA3uJ,EAAER,YAAcid,EACTzc,GAEL4uJ,EAAW5sJ,EAAOwsJ,EAAWxxJ,UAAWuxJ,GAO5C,OALAA,EAASvxJ,UAAY2wJ,GAAIiB,EAAUL,EAASvxJ,WAE5CuxJ,EAASC,WAAaxsJ,EAAOwsJ,EAAWxxJ,UAAWwxJ,GACnDb,GAAIiB,EAAUH,GACdd,GAAIY,EAAUG,GACPH,GCRM,GAvBD,SAAiBvgI,EAAKjwB,GAClC,IAAK,EAAYiwB,GACf,OAAQ,EAGV,IAAIhT,EAAIJ,MAAM5d,UAAUU,QAExB,GAAIsd,EACF,OAAOA,EAAE9d,KAAK8wB,EAAKjwB,GAKrB,IAFA,IAAI2D,GAAS,EAEJ/E,EAAI,EAAGA,EAAIqxB,EAAInxB,OAAQF,IAC9B,GAAIqxB,EAAIrxB,KAAOoB,EAAK,CAClB2D,EAAQ/E,EACR,MAIJ,OAAO+E,GClBL,GAAiBlF,OAAOQ,UAAUC,eAuCvB,OArCf,SAAiBe,GAUf,GAAI,EAAMA,GACR,OAAO,EAGT,GAAI,EAAYA,GACd,OAAQA,EAAMnB,OAGhB,IAAI0G,EAAO,GAAQvF,GAEnB,GAAa,QAATuF,GAA2B,QAATA,EACpB,OAAQvF,EAAMsF,KAGhB,GAAI,GAAYtF,GACd,OAAQxB,OAAOukC,KAAK/iC,GAAOnB,OAG7B,IAAK,IAAIE,KAAOiB,EACd,GAAI,GAAed,KAAKc,EAAOjB,GAC7B,OAAO,EAIX,OAAO,GCmBM,GAvDD,SAASq+D,EAAQp9D,EAAO6wJ,GACpC,GAAI7wJ,IAAU6wJ,EACZ,OAAO,EAGT,IAAK7wJ,IAAU6wJ,EACb,OAAO,EAGT,GAAI,EAAS7wJ,IAAU,EAAS6wJ,GAC9B,OAAO,EAGT,GAAI,EAAY7wJ,IAAU,EAAY6wJ,GAAQ,CAC5C,GAAI7wJ,EAAMnB,SAAWgyJ,EAAMhyJ,OACzB,OAAO,EAKT,IAFA,IAAI0sB,GAAM,EAED5sB,EAAI,EAAGA,EAAIqB,EAAMnB,SACxB0sB,EAAM6xC,EAAQp9D,EAAMrB,GAAIkyJ,EAAMlyJ,KADEA,KAQlC,OAAO4sB,EAGT,GAAI,EAAavrB,IAAU,EAAa6wJ,GAAQ,CAC9C,IAAIC,EAAYtyJ,OAAOukC,KAAK/iC,GACxB+wJ,EAAYvyJ,OAAOukC,KAAK8tH,GAE5B,GAAIC,EAAUjyJ,SAAWkyJ,EAAUlyJ,OACjC,OAAO,EAKT,IAFI0sB,GAAM,EAED5sB,EAAI,EAAGA,EAAImyJ,EAAUjyJ,SAC5B0sB,EAAM6xC,EAAQp9D,EAAM8wJ,EAAUnyJ,IAAKkyJ,EAAMC,EAAUnyJ,MADfA,KAQtC,OAAO4sB,EAGT,OAAO,GC/BO,mBACd,OAAK,EAAWuuD,KAIPA,EAAG95E,EAAO6wJ,GAHV,GAAQ7wJ,EAAO6wJ,ICTX,GAhBL,SAAa7gI,EAAKg0D,GAC1B,IAAK,EAAYh0D,GAEf,OAAOA,EAKT,IAFA,IAAIntB,EAAS,GAEJa,EAAQ,EAAGA,EAAQssB,EAAInxB,OAAQ6E,IAAS,CAC/C,IAAI1D,EAAQgwB,EAAItsB,GAChBb,EAAO+M,KAAKo0E,EAAKhkF,EAAO0D,IAG1B,OAAOb,GCZLmuJ,GAAW,SAAkBt0I,GAC/B,OAAOA,GAGO,cAAAsnE,QACD,IAATA,IACFA,EAAOgtE,IAGT,IAAI14I,EAAI,GASR,OAPI,EAAS24I,KAAY,EAAMA,IAC7BzyJ,OAAOukC,KAAKkuH,GAAQ3pJ,SAAQ,SAAUvI,GAEpCuZ,EAAEvZ,GAAOilF,EAAKitE,EAAOlyJ,GAAMA,MAIxBuZ,GCbO,mBAId,IAHA,IAAI7Y,EAAI,EACJyxJ,EAAS,EAASnyJ,GAAOA,EAAIkkB,MAAM,KAAOlkB,EAEvCgB,GAAON,EAAIyxJ,EAAOryJ,QACvBkB,EAAMA,EAAImxJ,EAAOzxJ,MAGnB,YAAeyG,IAARnG,GAAqBN,EAAIyxJ,EAAOryJ,OAASk7D,EAAeh6D,GCNjD,mBACd,IAAIiC,EAAIjC,EACJmxJ,EAAS,EAAS11I,GAAQA,EAAKyH,MAAM,KAAOzH,EAahD,OAZA01I,EAAO5pJ,SAAQ,SAAUvI,EAAK+Q,GAExBA,EAAMohJ,EAAOryJ,OAAS,GACnB,EAASmD,EAAEjD,MACdiD,EAAEjD,GAAO,GAASmyJ,EAAOphJ,EAAM,IAAM,GAAK,IAG5C9N,EAAIA,EAAEjD,IAENiD,EAAEjD,GAAOiB,KAGND,GCvBL,GAAiBvB,OAAOQ,UAAUC,eACtB,iBACd,GAAe,OAAXgyJ,IAAoB,EAAcA,GACpC,MAAO,GAGT,IAAIpuJ,EAAS,GAMb,OALA,EAAKkgC,GAAM,SAAUhkC,GACf,GAAeG,KAAK+xJ,EAAQlyJ,KAC9B8D,EAAO9D,GAAOkyJ,EAAOlyJ,OAGlB8D,GCdO,YAAAmhF,EAAA,KACd,IAAIgsE,EAASroB,EAASp4G,EAAM1sB,EACxB4rG,EAAW,EACV9gG,IAASA,EAAU,IAExB,IAAIsiJ,EAAQ,WACVxhD,GAA+B,IAApB9gG,EAAQyuF,QAAoB,EAAI15F,KAAKmhI,MAChDmsB,EAAU,KACVntJ,EAASmhF,EAAK7kF,MAAMwoI,EAASp4G,GACxBygI,IAASroB,EAAUp4G,EAAO,OAG7B4hI,EAAY,WACd,IAAIttB,EAAMnhI,KAAKmhI,MACVp1B,IAAgC,IAApB9gG,EAAQyuF,UAAmBqS,EAAWo1B,GACvD,IAAIutB,EAAY7a,GAAQ1S,EAAMp1B,GAiB9B,OAhBAk5B,EAAUvoI,KACVmwB,EAAO3wB,UAEHwyJ,GAAa,GAAKA,EAAY7a,GAC5ByZ,IACFzvF,aAAayvF,GACbA,EAAU,MAGZvhD,EAAWo1B,EACXhhI,EAASmhF,EAAK7kF,MAAMwoI,EAASp4G,GACxBygI,IAASroB,EAAUp4G,EAAO,OACrBygI,IAAgC,IAArBriJ,EAAQ0jJ,WAC7BrB,EAAUvvF,WAAWwvF,EAAOmB,IAGvBvuJ,GAST,OANAsuJ,EAAUG,OAAS,WACjB/wF,aAAayvF,GACbvhD,EAAW,EACXuhD,EAAUroB,EAAUp4G,EAAO,MAGtB4hI,GCxCO,eACd,OAAO,EAAYnxJ,GAAS4c,MAAM5d,UAAU0lB,MAAMxlB,KAAKc,GAAS,ICF9D,GAAM,GACM,eASd,OANK,GAFLuxJ,EAASA,GAAU,KAKjB,GAAIA,IAAW,EAFf,GAAIA,GAAU,EAKTA,EAAS,GAAIA,ICVN,gBCAA,eACd,OAAO70I,GCCM,SAASpX,GAAKtD,GAC3B,OAAI,EAAMA,GACD,EAGL,EAAYA,GACPA,EAAEnD,OAGJL,OAAOukC,KAAK/gC,GAAGnD,OCRxB,IAmCe,GAjCf,WACE,SAASkwH,IACP3vH,KAAKoE,IAAM,GA4Bb,OAzBAurH,EAAU/vH,UAAUwjC,IAAM,SAAUzjC,GAClC,YAAyBmH,IAAlB9G,KAAKoE,IAAIzE,IAGlBgwH,EAAU/vH,UAAUqd,IAAM,SAAUtd,EAAKwpC,GACvC,IAAI7rB,EAAItd,KAAKoE,IAAIzE,GACjB,YAAamH,IAANwW,EAAkB6rB,EAAM7rB,GAGjCqyG,EAAU/vH,UAAUyQ,IAAM,SAAU1Q,EAAKiB,GACvCZ,KAAKoE,IAAIzE,GAAOiB,GAGlB+uH,EAAU/vH,UAAUmQ,MAAQ,WAC1B/P,KAAKoE,IAAM,IAGburH,EAAU/vH,UAAUwyJ,OAAS,SAAUzyJ,UAC9BK,KAAKoE,IAAIzE,IAGlBgwH,EAAU/vH,UAAUsG,KAAO,WACzB,OAAO9G,OAAOukC,KAAK3jC,KAAKoE,KAAK3E,QAGxBkwH,EA9BT,GCLA,2zI,iCCAA,khCAgBA,IAAI0iC,EAAiB,SAAuBzzI,EAAGgB,GAW7C,OAVAyyI,EAAiBjzJ,OAAOyD,gBAAkB,CACxCC,UAAW,cACA0a,OAAS,SAAUoB,EAAGgB,GACjChB,EAAE9b,UAAY8c,IACX,SAAUhB,EAAGgB,GAChB,IAAK,IAAIvf,KAAKuf,EACRA,EAAE/f,eAAeQ,KAAIue,EAAEve,GAAKuf,EAAEvf,MAIhBue,EAAGgB,IAGpB,SAAS0yI,EAAU1zI,EAAGgB,GAG3B,SAASmc,IACP/7B,KAAKoC,YAAcwc,EAHrByzI,EAAezzI,EAAGgB,GAMlBhB,EAAEhf,UAAkB,OAANggB,EAAaxgB,OAAOwF,OAAOgb,IAAMmc,EAAGn8B,UAAYggB,EAAEhgB,UAAW,IAAIm8B,GAGjF,IAAIw2H,EAAU,WAaZ,OAZAA,EAAUnzJ,OAAOC,QAAU,SAAkBe,GAC3C,IAAK,IAAIF,EAAGX,EAAI,EAAG26B,EAAI16B,UAAUC,OAAQF,EAAI26B,EAAG36B,IAG9C,IAAK,IAAIc,KAFTH,EAAIV,UAAUD,GAGRH,OAAOQ,UAAUC,eAAeC,KAAKI,EAAGG,KAAID,EAAEC,GAAKH,EAAEG,IAI7D,OAAOD,IAGML,MAAMC,KAAMR,YAItB,SAASS,EAAOC,EAAGC,GACxB,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRd,OAAOQ,UAAUC,eAAeC,KAAKI,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCd,OAAOmB,sBAA2C,KAAIhB,EAAI,EAAb,IAAgBc,EAAIjB,OAAOmB,sBAAsBL,GAAIX,EAAIc,EAAEZ,OAAQF,IAClIY,EAAEG,QAAQD,EAAEd,IAAM,GAAKH,OAAOQ,UAAUY,qBAAqBV,KAAKI,EAAGG,EAAEd,MAAKa,EAAEC,EAAEd,IAAMW,EAAEG,EAAEd,KAEhG,OAAOa,EAEF,SAASoyJ,EAAWC,EAAYnzJ,EAAQK,EAAK+yJ,GAClD,IAEI9zI,EAFAS,EAAI7f,UAAUC,OACdyZ,EAAImG,EAAI,EAAI/f,EAAkB,OAATozJ,EAAgBA,EAAOtzJ,OAAOuzJ,yBAAyBrzJ,EAAQK,GAAO+yJ,EAE/F,GAAuB,kBAAZxvJ,SAAoD,oBAArBA,QAAQ0vJ,SAAyB15I,EAAIhW,QAAQ0vJ,SAASH,EAAYnzJ,EAAQK,EAAK+yJ,QAAW,IAAK,IAAInzJ,EAAIkzJ,EAAWhzJ,OAAS,EAAGF,GAAK,EAAGA,KAC1Kqf,EAAI6zI,EAAWlzJ,MAAI2Z,GAAKmG,EAAI,EAAIT,EAAE1F,GAAKmG,EAAI,EAAIT,EAAEtf,EAAQK,EAAKuZ,GAAK0F,EAAEtf,EAAQK,KAASuZ,GAE5F,OAAOmG,EAAI,GAAKnG,GAAK9Z,OAAOkC,eAAehC,EAAQK,EAAKuZ,GAAIA,EAEvD,SAAS25I,EAAQC,EAAYC,GAClC,OAAO,SAAUzzJ,EAAQK,GACvBozJ,EAAUzzJ,EAAQK,EAAKmzJ,IAGpB,SAASE,EAAWC,EAAaC,GACtC,GAAuB,kBAAZhwJ,SAAoD,oBAArBA,QAAQiwJ,SAAyB,OAAOjwJ,QAAQiwJ,SAASF,EAAaC,GAE3G,SAASE,EAAUC,EAASC,EAAYC,EAAGC,GAOhD,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUhzJ,GACjB,IACE26B,EAAKi4H,EAAUlzH,KAAK1/B,IACpB,MAAOT,GACPwzJ,EAAOxzJ,IAIX,SAAS0zJ,EAASjzJ,GAChB,IACE26B,EAAKi4H,EAAiB,MAAE5yJ,IACxB,MAAOT,GACPwzJ,EAAOxzJ,IAIX,SAASo7B,EAAK93B,GAvBhB,IAAe7C,EAwBX6C,EAAOqwJ,KAAOJ,EAAQjwJ,EAAO7C,QAxBlBA,EAwBiC6C,EAAO7C,MAvB9CA,aAAiB2yJ,EAAI3yJ,EAAQ,IAAI2yJ,GAAE,SAAUG,GAClDA,EAAQ9yJ,OAsBkD0sJ,KAAKsG,EAAWC,GAG5Et4H,GAAMi4H,EAAYA,EAAUzzJ,MAAMszJ,EAASC,GAAc,KAAKhzH,WAG3D,SAASyzH,EAAYV,EAAS1rJ,GACnC,IASI4jC,EACA18B,EACAzO,EACAu7B,EAZAu+F,EAAI,CACNjlH,MAAO,EACP++I,KAAM,WACJ,GAAW,EAAP5zJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEX6zJ,KAAM,GACNC,IAAK,IAMP,OAAOv4H,EAAI,CACT2E,KAAM6zH,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,oBAAXjyJ,SAA0By5B,EAAEz5B,OAAOC,UAAY,WACvD,OAAOnC,OACL27B,EAEJ,SAASw4H,EAAKj6H,GACZ,OAAO,SAAU5c,GACf,OAIJ,SAAc82I,GACZ,GAAI7oH,EAAG,MAAM,IAAI/oC,UAAU,mCAE3B,KAAO03H,GACL,IACE,GAAI3uF,EAAI,EAAG18B,IAAMzO,EAAY,EAARg0J,EAAG,GAASvlJ,EAAU,OAAIulJ,EAAG,GAAKvlJ,EAAS,SAAOzO,EAAIyO,EAAU,SAAMzO,EAAEN,KAAK+O,GAAI,GAAKA,EAAEyxB,SAAWlgC,EAAIA,EAAEN,KAAK+O,EAAGulJ,EAAG,KAAKN,KAAM,OAAO1zJ,EAG3J,OAFIyO,EAAI,EAAGzO,IAAGg0J,EAAK,CAAS,EAARA,EAAG,GAAQh0J,EAAEQ,QAEzBwzJ,EAAG,IACT,KAAK,EACL,KAAK,EACHh0J,EAAIg0J,EACJ,MAEF,KAAK,EAEH,OADAl6B,EAAEjlH,QACK,CACLrU,MAAOwzJ,EAAG,GACVN,MAAM,GAGV,KAAK,EACH55B,EAAEjlH,QACFpG,EAAIulJ,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKl6B,EAAEg6B,IAAIr3F,MAEXq9D,EAAE+5B,KAAKp3F,MAEP,SAEF,QACE,KAAkBz8D,GAAZA,EAAI85H,EAAE+5B,MAAYx0J,OAAS,GAAKW,EAAEA,EAAEX,OAAS,MAAkB,IAAV20J,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFl6B,EAAI,EACJ,SAGF,GAAc,IAAVk6B,EAAG,MAAch0J,GAAKg0J,EAAG,GAAKh0J,EAAE,IAAMg0J,EAAG,GAAKh0J,EAAE,IAAK,CACvD85H,EAAEjlH,MAAQm/I,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYl6B,EAAEjlH,MAAQ7U,EAAE,GAAI,CACjC85H,EAAEjlH,MAAQ7U,EAAE,GACZA,EAAIg0J,EACJ,MAGF,GAAIh0J,GAAK85H,EAAEjlH,MAAQ7U,EAAE,GAAI,CACvB85H,EAAEjlH,MAAQ7U,EAAE,GAEZ85H,EAAEg6B,IAAI1jJ,KAAK4jJ,GAEX,MAGEh0J,EAAE,IAAI85H,EAAEg6B,IAAIr3F,MAEhBq9D,EAAE+5B,KAAKp3F,MAEP,SAGJu3F,EAAKzsJ,EAAK7H,KAAKuzJ,EAASn5B,GACxB,MAAO/5H,GACPi0J,EAAK,CAAC,EAAGj0J,GACT0O,EAAI,EACJ,QACA08B,EAAInrC,EAAI,EAIZ,GAAY,EAARg0J,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACLxzJ,MAAOwzJ,EAAG,GAAKA,EAAG,QAAK,EACvBN,MAAM,GAlFCv4H,CAAK,CAACrB,EAAG5c,MAsFf,SAAS+2I,EAAgBzxJ,EAAGgb,EAAG5L,EAAG2hH,QAC5B7sH,IAAP6sH,IAAkBA,EAAK3hH,GAC3BpP,EAAE+wH,GAAM/1G,EAAE5L,GAEL,SAASsiJ,EAAa12I,EAAG22I,GAC9B,IAAK,IAAIl0J,KAAKud,EACF,YAANvd,GAAoBk0J,EAAQ10J,eAAeQ,KAAIk0J,EAAQl0J,GAAKud,EAAEvd,IAG/D,SAASm0J,EAAS5xJ,GACvB,IAAI1C,EAAsB,oBAAXgC,QAAyBA,OAAOC,SAC3Cyb,EAAI1d,GAAK0C,EAAE1C,GACXX,EAAI,EACR,GAAIqe,EAAG,OAAOA,EAAE9d,KAAK8C,GACrB,GAAIA,GAAyB,kBAAbA,EAAEnD,OAAqB,MAAO,CAC5C6gC,KAAM,WAEJ,OADI19B,GAAKrD,GAAKqD,EAAEnD,SAAQmD,OAAI,GACrB,CACLhC,MAAOgC,GAAKA,EAAErD,KACdu0J,MAAOlxJ,KAIb,MAAM,IAAIJ,UAAUtC,EAAI,0BAA4B,mCAE/C,SAASu0J,EAAO7xJ,EAAGs3B,GACxB,IAAItc,EAAsB,oBAAX1b,QAAyBU,EAAEV,OAAOC,UACjD,IAAKyb,EAAG,OAAOhb,EACf,IACIsW,EAEA/Y,EAHAZ,EAAIqe,EAAE9d,KAAK8C,GAEX8xJ,EAAK,GAGT,IACE,WAAc,IAANx6H,GAAgBA,KAAM,MAAQhhB,EAAI3Z,EAAE+gC,QAAQwzH,MAClDY,EAAGlkJ,KAAK0I,EAAEtY,OAEZ,MAAOs8B,GACP/8B,EAAI,CACF+8B,MAAOA,GAET,QACA,IACMhkB,IAAMA,EAAE46I,OAASl2I,EAAIre,EAAU,SAAIqe,EAAE9d,KAAKP,GAC9C,QACA,GAAIY,EAAG,MAAMA,EAAE+8B,OAInB,OAAOw3H,EAEF,SAASC,IACd,IAAK,IAAID,EAAK,GAAIn1J,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAC7Cm1J,EAAKA,EAAGrzJ,OAAOozJ,EAAOj1J,UAAUD,KAGlC,OAAOm1J,EAEF,SAASE,IACd,IAAK,IAAI10J,EAAI,EAAGX,EAAI,EAAGs1J,EAAKr1J,UAAUC,OAAQF,EAAIs1J,EAAIt1J,IACpDW,GAAKV,UAAUD,GAAGE,OAGf,IAAIyZ,EAAIsE,MAAMtd,GAAI8R,EAAI,EAA3B,IAA8BzS,EAAI,EAAGA,EAAIs1J,EAAIt1J,IAC3C,IAAK,IAAI8d,EAAI7d,UAAUD,GAAIuhB,EAAI,EAAGg0I,EAAKz3I,EAAE5d,OAAQqhB,EAAIg0I,EAAIh0I,IAAK9O,IAC5DkH,EAAElH,GAAKqL,EAAEyD,GAIb,OAAO5H,EAGF,SAAS67I,EAAQz3I,GACtB,OAAOtd,gBAAgB+0J,GAAW/0J,KAAKsd,EAAIA,EAAGtd,MAAQ,IAAI+0J,EAAQz3I,GAE7D,SAAS03I,EAAiB3B,EAASC,EAAYE,GACpD,IAAKtxJ,OAAO+yJ,cAAe,MAAM,IAAIzyJ,UAAU,wCAC/C,IACIjD,EADAo8B,EAAI63H,EAAUzzJ,MAAMszJ,EAASC,GAAc,IAE3C/zI,EAAI,GACR,OAAOhgB,EAAI,GAAI40J,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW50J,EAAE2C,OAAO+yJ,eAAiB,WACpF,OAAOj1J,MACNT,EAEH,SAAS40J,EAAKj6H,GACRyB,EAAEzB,KAAI36B,EAAE26B,GAAK,SAAU5c,GACzB,OAAO,IAAIm2I,SAAQ,SAAUp2I,EAAGuC,GAC9BL,EAAE/O,KAAK,CAAC0pB,EAAG5c,EAAGD,EAAGuC,IAAM,GAAKs1I,EAAOh7H,EAAG5c,QAK5C,SAAS43I,EAAOh7H,EAAG5c,GACjB,KAOYpE,EANLyiB,EAAEzB,GAAG5c,IAOV1c,iBAAiBm0J,EAAUtB,QAAQC,QAAQx6I,EAAEtY,MAAM0c,GAAGgwI,KAAK6H,EAASxB,GAAUyB,EAAO71I,EAAE,GAAG,GAAIrG,GAN9F,MAAO/Y,GACPi1J,EAAO71I,EAAE,GAAG,GAAIpf,GAIpB,IAAc+Y,EAId,SAASi8I,EAAQv0J,GACfs0J,EAAO,OAAQt0J,GAGjB,SAAS+yJ,EAAO/yJ,GACds0J,EAAO,QAASt0J,GAGlB,SAASw0J,EAAO7pH,EAAGjuB,GACbiuB,EAAEjuB,GAAIiC,EAAEkG,QAASlG,EAAE9f,QAAQy1J,EAAO31I,EAAE,GAAG,GAAIA,EAAE,GAAG,KAGjD,SAAS81I,EAAiBzyJ,GAC/B,IAAIrD,EAAGc,EACP,OAAOd,EAAI,GAAI40J,EAAK,QAASA,EAAK,SAAS,SAAUh0J,GACnD,MAAMA,KACJg0J,EAAK,UAAW50J,EAAE2C,OAAOC,UAAY,WACvC,OAAOnC,MACNT,EAEH,SAAS40J,EAAKj6H,EAAGqR,GACfhsC,EAAE26B,GAAKt3B,EAAEs3B,GAAK,SAAU5c,GACtB,OAAQjd,GAAKA,GAAK,CAChBO,MAAOm0J,EAAQnyJ,EAAEs3B,GAAG5c,IACpBw2I,KAAY,WAAN55H,GACJqR,EAAIA,EAAEjuB,GAAKA,GACbiuB,GAGD,SAAS+pH,EAAc1yJ,GAC5B,IAAKV,OAAO+yJ,cAAe,MAAM,IAAIzyJ,UAAU,wCAC/C,IACIjD,EADAqe,EAAIhb,EAAEV,OAAO+yJ,eAEjB,OAAOr3I,EAAIA,EAAE9d,KAAK8C,IAAMA,EAAqC4xJ,EAAS5xJ,GAA2BrD,EAAI,GAAI40J,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW50J,EAAE2C,OAAO+yJ,eAAiB,WAC9K,OAAOj1J,MACNT,GAEH,SAAS40J,EAAKj6H,GACZ36B,EAAE26B,GAAKt3B,EAAEs3B,IAAM,SAAU5c,GACvB,OAAO,IAAIm2I,SAAQ,SAAUC,EAASC,IAM1C,SAAgBD,EAASC,EAAQ/0I,EAAGtB,GAClCm2I,QAAQC,QAAQp2I,GAAGgwI,MAAK,SAAUhwI,GAChCo2I,EAAQ,CACN9yJ,MAAO0c,EACPw2I,KAAMl1I,MAEP+0I,IAXcyB,CAAO1B,EAASC,GAA7Br2I,EAAI1a,EAAEs3B,GAAG5c,IAA8Bw2I,KAAMx2I,EAAE1c,YAchD,SAAS20J,EAAqBC,EAAQC,GAS3C,OARIr2J,OAAOkC,eACTlC,OAAOkC,eAAek0J,EAAQ,MAAO,CACnC50J,MAAO60J,IAGTD,EAAOC,IAAMA,EAGRD,EAGF,SAASE,EAAaC,GAC3B,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIlyJ,EAAS,GACb,GAAW,MAAPkyJ,EAAa,IAAK,IAAI3jJ,KAAK2jJ,EACzBv2J,OAAOS,eAAeC,KAAK61J,EAAK3jJ,KAAIvO,EAAOuO,GAAK2jJ,EAAI3jJ,IAG1D,OADAvO,EAAO0W,QAAUw7I,EACVlyJ,EAEF,SAASoyJ,EAAgBF,GAC9B,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnCx7I,QAASw7I,GAGN,SAASG,EAAuBC,EAAUC,GAC/C,IAAKA,EAAW5yH,IAAI2yH,GAClB,MAAM,IAAIvzJ,UAAU,kDAGtB,OAAOwzJ,EAAW/4I,IAAI84I,GAEjB,SAASE,EAAuBF,EAAUC,EAAYp1J,GAC3D,IAAKo1J,EAAW5yH,IAAI2yH,GAClB,MAAM,IAAIvzJ,UAAU,kDAItB,OADAwzJ,EAAW3lJ,IAAI0lJ,EAAUn1J,GAClBA,I,oBCtaP68E,OAD0Dy4E,EAAO3B,QAE1D,SAAUn0J,GACf,IAAID,EAAI,GAER,SAAS+5B,EAAEhhB,GACT,GAAI/Y,EAAE+Y,GAAI,OAAO/Y,EAAE+Y,GAAGq7I,QACtB,IAAIh1J,EAAIY,EAAE+Y,GAAK,CACb3Z,EAAG2Z,EACHoG,GAAG,EACHi1I,QAAS,IAEX,OAAOn0J,EAAE8Y,GAAGpZ,KAAKP,EAAEg1J,QAASh1J,EAAGA,EAAEg1J,QAASr6H,GAAI36B,EAAE+f,GAAI,EAAI/f,EAAEg1J,QAG5D,OAAOr6H,EAAEtc,EAAIxd,EAAG85B,EAAE7a,EAAIlf,EAAG+5B,EAAEtb,EAAI,SAAUxe,EAAGD,EAAG+Y,GAC7CghB,EAAEt3B,EAAExC,EAAGD,IAAMf,OAAOkC,eAAelB,EAAGD,EAAG,CACvCoB,YAAY,EACZ0b,IAAK/D,KAENghB,EAAEhhB,EAAI,SAAU9Y,GACjB,oBAAsB8B,QAAUA,OAAOi0J,aAAe/2J,OAAOkC,eAAelB,EAAG8B,OAAOi0J,YAAa,CACjGv1J,MAAO,WACLxB,OAAOkC,eAAelB,EAAG,aAAc,CACzCQ,OAAO,KAERs5B,EAAE95B,EAAI,SAAUA,EAAGD,GACpB,GAAI,EAAIA,IAAMC,EAAI85B,EAAE95B,IAAK,EAAID,EAAG,OAAOC,EACvC,GAAI,EAAID,GAAK,iBAAmBC,GAAKA,GAAKA,EAAEw1J,WAAY,OAAOx1J,EAC/D,IAAI8Y,EAAI9Z,OAAOwF,OAAO,MACtB,GAAIs1B,EAAEhhB,EAAEA,GAAI9Z,OAAOkC,eAAe4X,EAAG,UAAW,CAC9C3X,YAAY,EACZX,MAAOR,IACL,EAAID,GAAK,iBAAmBC,EAAG,IAAK,IAAIb,KAAKa,EAC/C85B,EAAEtb,EAAE1F,EAAG3Z,EAAG,SAAUY,GAClB,OAAOC,EAAED,IACTmuE,KAAK,KAAM/uE,IAEf,OAAO2Z,GACNghB,EAAEA,EAAI,SAAU95B,GACjB,IAAID,EAAIC,GAAKA,EAAEw1J,WAAa,WAC1B,OAAOx1J,EAAE+Z,SACP,WACF,OAAO/Z,GAET,OAAO85B,EAAEtb,EAAEze,EAAG,IAAKA,GAAIA,GACtB+5B,EAAEt3B,EAAI,SAAUxC,EAAGD,GACpB,OAAOf,OAAOQ,UAAUC,eAAeC,KAAKM,EAAGD,IAC9C+5B,EAAE75B,EAAI,GAAI65B,EAAEA,EAAEh6B,EAAI,IA9ChB,CA+CL,CAAC,SAAUE,EAAGD,EAAG+5B,GACjB,IAAIhhB,EACJA,EAAI,WACF,OAAO,SAAU9Y,GACf,IAAID,EAAI,GAER,SAAS+5B,EAAEhhB,GACT,GAAI/Y,EAAE+Y,GAAI,OAAO/Y,EAAE+Y,GAAGq7I,QACtB,IAAIh1J,EAAIY,EAAE+Y,GAAK,CACb3Z,EAAG2Z,EACHoG,GAAG,EACHi1I,QAAS,IAEX,OAAOn0J,EAAE8Y,GAAGpZ,KAAKP,EAAEg1J,QAASh1J,EAAGA,EAAEg1J,QAASr6H,GAAI36B,EAAE+f,GAAI,EAAI/f,EAAEg1J,QAG5D,OAAOr6H,EAAEtc,EAAIxd,EAAG85B,EAAE7a,EAAIlf,EAAG+5B,EAAEtb,EAAI,SAAUxe,EAAGD,EAAG+Y,GAC7CghB,EAAEt3B,EAAExC,EAAGD,IAAMf,OAAOkC,eAAelB,EAAGD,EAAG,CACvCqB,cAAc,EACdD,YAAY,EACZ0b,IAAK/D,KAENghB,EAAEA,EAAI,SAAU95B,GACjB,IAAID,EAAIC,GAAKA,EAAEw1J,WAAa,WAC1B,OAAOx1J,EAAE+Z,SACP,WACF,OAAO/Z,GAET,OAAO85B,EAAEtb,EAAEze,EAAG,IAAKA,GAAIA,GACtB+5B,EAAEt3B,EAAI,SAAUxC,EAAGD,GACpB,OAAOf,OAAOQ,UAAUC,eAAeC,KAAKM,EAAGD,IAC9C+5B,EAAE75B,EAAI,GAAI65B,EAAEA,EAAEh6B,EAAI,IA5BhB,CA6BL,CAAC,SAAUE,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAIC,EAAG,GAAIb,EAAEa,GAAI,IAAK,IAAI85B,EAAI,EAAG7c,EAAIjd,EAAEX,OAAQy6B,EAAI7c,IAAK,IAAOld,EAAEC,EAAE85B,GAAIA,GAAIA,UAEpE,GAAIhhB,EAAE9Y,GAAI,IAAK,IAAIwC,KAAKxC,EAC7B,GAAIA,EAAEP,eAAe+C,KAAM,IAAOzC,EAAEC,EAAEwC,GAAIA,GAAI,QAGjD,SAAUxC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAIie,MAAMilH,QAAUjlH,MAAMilH,QAAU,SAAUriI,GAChD,OAAO8Y,EAAE9Y,EAAG,UAEdA,EAAEm0J,QAAUh1J,GACX,SAAUa,EAAGD,GACd,IAAI+5B,EAAI,GAAG32B,SAEXnD,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAO+5B,EAAEp6B,KAAKM,KAAO,WAAaD,EAAI,MAEvC,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,cAEb,SAAUA,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO,OAASA,GAAK,mBAAqBA,GAAK08B,SAAS18B,EAAEX,UAE3D,SAAUW,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO,MAAQA,IAEhB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,YAEb,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAK8Y,EAAE9Y,KAAOb,EAAEa,EAAG,UAAW,OAAO,EACrC,GAAI,OAAShB,OAAO6E,eAAe7D,GAAI,OAAO,EAE9C,IAAK,IAAID,EAAIC,EAAG,OAAShB,OAAO6E,eAAe9D,IAC7CA,EAAIf,OAAO6E,eAAe9D,GAG5B,OAAOf,OAAO6E,eAAe7D,KAAOD,IAErC,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,GAAK,GAAKA,EAAEmD,aAEtB,SAAUnD,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAIie,MAAM5d,UAAUU,QAExBF,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,QAAS+Y,EAAE9Y,IAAMb,EAAEO,KAAKM,EAAGD,IAAM,IAElC,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,YAEb,SAAUA,EAAGD,GACd,SAAS+5B,EAAE95B,EAAGD,GACZ,IAAK,IAAI+5B,KAAK/5B,EACZA,EAAEN,eAAeq6B,IAAM,gBAAkBA,QAAK,IAAW/5B,EAAE+5B,KAAO95B,EAAE85B,GAAK/5B,EAAE+5B,IAI/E95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+Y,EAAG3Z,GAC7B,OAAOY,GAAK+5B,EAAE95B,EAAGD,GAAI+Y,GAAKghB,EAAE95B,EAAG8Y,GAAI3Z,GAAK26B,EAAE95B,EAAGb,GAAIa,IAElD,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAKZ,EAAEa,GAAI,OAAOA,EAClB,IAAI85B,EAAI,GACR,OAAOhhB,EAAE9Y,GAAG,SAAUA,EAAG8Y,GACvB/Y,EAAEC,EAAG8Y,IAAMghB,EAAE1pB,KAAKpQ,MAChB85B,IAEL,SAAU95B,EAAGD,GACd,IAAI+5B,EAAI,mBAAqBh4B,QAAU,iBAAmBA,OAAOC,SAAW,SAAU/B,GACpF,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAK,mBAAqB8B,QAAU9B,EAAEgC,cAAgBF,QAAU9B,IAAM8B,OAAOtC,UAAY,gBAAkBQ,GAGpHA,EAAEm0J,QAAU,SAAUn0J,GACpB,MAAO,iBAAc,IAAWA,EAAI,YAAc85B,EAAE95B,KAAO,OAASA,IAErE,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,GAAKod,MAAM5d,UAAU0lB,MAAMxlB,KAAKM,GAAK,KAE/C,SAAUA,EAAGD,GACdf,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAEi2J,mBAAqB,SAAUh2J,GACnCD,EAAEk2J,WAAaj2J,GACdD,EAAEm2J,SAAW,SAAUl2J,GACxB,OAAOA,EAAI8Y,GACV/Y,EAAEo2J,OAAS,SAAUn2J,EAAGD,GACzB,OAAO+d,KAAKsE,IAAIpiB,EAAID,IAAM+5B,EAAIhc,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAIpiB,GAAI8d,KAAKsE,IAAIriB,KAElE,IAAI+5B,EAAI/5B,EAAE05B,QAAU,KACpB15B,EAAEk2J,WAAa,oBAAsBG,aAAeA,aAAeh5I,MAAOrd,EAAEs2J,OAASv4I,KAAKskB,OAC1F,IAAItpB,EAAIgF,KAAKK,GAAK,KACjB,SAAUne,EAAGD,GACd,IAAI+5B,EAAI,mBAAqBh4B,QAAU,iBAAmBA,OAAOC,SAAW,SAAU/B,GACpF,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAK,mBAAqB8B,QAAU9B,EAAEgC,cAAgBF,QAAU9B,IAAM8B,OAAOtC,UAAY,gBAAkBQ,GAGpHA,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,OAAI,IAAWC,EAAI,YAAc85B,EAAE95B,GACvC,OAAO,OAASA,GAAK,WAAaD,GAAK,aAAeA,IAEvD,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAIhhB,EAAE/Y,GACNkd,EAAI6c,EAAEz6B,OACV,GAAIF,EAAEa,GAAI,OAAQid,EAElB,IAAK,IAAIza,EAAI,EAAGA,EAAIya,EAAGza,GAAK,EAAG,CAC7B,IAAI1C,EAAIg6B,EAAEt3B,GACV,GAAIzC,EAAED,KAAOE,EAAEF,MAAQA,KAAKE,GAAI,OAAO,EAGzC,OAAO,IAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAIje,OAAOukC,KAAO,SAAUvjC,GAC9B,OAAOhB,OAAOukC,KAAKvjC,IACjB,SAAUA,GACZ,IAAID,EAAI,GACR,OAAO+Y,EAAE9Y,GAAG,SAAU85B,EAAGhhB,GACvB3Z,EAAEa,IAAM,cAAgB8Y,GAAK/Y,EAAEqQ,KAAK0I,MAClC/Y,GAENC,EAAEm0J,QAAUl3I,GACX,SAAUjd,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAIie,MAAM5d,UAAU+Q,OAExBvQ,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAK+Y,EAAE9Y,GAAI,MAAO,GAElB,IAAK,IAAI85B,EAAI95B,EAAID,EAAEV,OAAS,EAAG4d,EAAI6c,EAAI,EAAGA,KAAM,CAC9C,IAAIt3B,OAAI,EACJ1C,EAAIC,EAAE+5B,GACVA,IAAM7c,GAAKnd,IAAM0C,IAAMA,EAAI1C,EAAGX,EAAEO,KAAKM,EAAGF,EAAG,IAG7C,OAAOE,IAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAI,GACR,OAAO+Y,EAAE9Y,GAAG,SAAUA,GACpBb,EAAEY,EAAGC,IAAMD,EAAEqQ,KAAKpQ,MAChBD,IAEL,SAAUC,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,OAAO95B,EAAID,EAAIA,EAAIC,EAAI85B,EAAIA,EAAI95B,IAEhC,SAAUA,EAAGD,GACdC,EAAEm0J,QAAUxgI,UACX,SAAU3zB,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACVhhB,EAAEyV,UAAY,SAAUvuB,EAAGD,EAAG+5B,GAC5B,IAAI36B,EAAI,IAAIie,MAAM,GAClB,OAAOtE,EAAEw9I,gBAAgBn3J,EAAG26B,GAAIhhB,EAAE2T,SAASzsB,EAAGb,EAAGY,IAChD+Y,EAAEgJ,OAAS,SAAU9hB,EAAGD,EAAG+5B,GAC5B,IAAI36B,EAAI,IAAIie,MAAM,GAClB,OAAOtE,EAAEy9I,aAAap3J,EAAG26B,GAAIhhB,EAAE2T,SAASzsB,EAAGb,EAAGY,IAC7C+Y,EAAEyU,MAAQ,SAAUvtB,EAAGD,EAAG+5B,GAC3B,IAAI36B,EAAI,IAAIie,MAAM,GAClB,OAAOtE,EAAE09I,YAAYr3J,EAAG26B,GAAIhhB,EAAE2T,SAASzsB,EAAGb,EAAGY,IAC5CC,EAAEm0J,QAAUr7I,GACd,SAAU9Y,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAI,mBAAqBhX,QAAU,iBAAmBA,OAAOC,SAAW,SAAU/B,GACpF,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAK,mBAAqB8B,QAAU9B,EAAEgC,cAAgBF,QAAU9B,IAAM8B,OAAOtC,UAAY,gBAAkBQ,GAEhHb,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAASn0J,EAAED,GACrB,GAAI,iBAAc,IAAWA,EAAI,YAAc+Y,EAAE/Y,KAAO,OAASA,EAAG,OAAOA,EAC3E,IAAI+5B,OAAI,EAER,GAAI36B,EAAEY,GAAI,CACR+5B,EAAI,GAEJ,IAAK,IAAI7c,EAAI,EAAGza,EAAIzC,EAAEV,OAAQ4d,EAAIza,EAAGya,IACnC,WAAanE,EAAE/Y,EAAEkd,KAAO,MAAQld,EAAEkd,GAAK6c,EAAE7c,GAAKjd,EAAED,EAAEkd,IAAM6c,EAAE7c,GAAKld,EAAEkd,QAE9D,IAAK,IAAInd,KAAKg6B,EAAI,GAAI/5B,EAC3B,WAAa+Y,EAAE/Y,EAAED,KAAO,MAAQC,EAAED,GAAKg6B,EAAEh6B,GAAKE,EAAED,EAAED,IAAMg6B,EAAEh6B,GAAKC,EAAED,GAGnE,OAAOg6B,IAER,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAOC,EAAEP,eAAeM,KAEzB,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAIje,OAAOkvB,OAAS,SAAUluB,GAChC,OAAOhB,OAAOkvB,OAAOluB,IACnB,SAAUA,GACZ,IAAID,EAAI,GACR,OAAO+Y,EAAE9Y,GAAG,SAAU85B,EAAGhhB,GACvB3Z,EAAEa,IAAM,cAAgB8Y,GAAK/Y,EAAEqQ,KAAK0pB,MAClC/5B,GAENC,EAAEm0J,QAAUl3I,GACX,SAAUjd,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,EAAG36B,EAAG8d,GAChC,GAAIA,EAAG,MAAO,CAAC,CAAC,KAAMjd,IAAKid,EAAGld,GAAI,CAAC,IAAK+5B,EAAI,EAAI7c,EAAG,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAGA,EAAGA,GAAI,CAAC,IAAK,EAAG9d,EAAI,EAAI8d,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,GAAIA,EAAGA,GAAI,CAAC,IAAK,EAAIA,EAAI6c,EAAG,GAAI,CAAC,IAAK7c,EAAGA,EAAG,EAAG,EAAG,GAAIA,GAAIA,GAAI,CAAC,IAAK,EAAG,EAAIA,EAAI9d,GAAI,CAAC,IAAK8d,EAAGA,EAAG,EAAG,EAAG,EAAGA,GAAIA,GAAI,CAAC,MAC3O,IAAIza,EAAI,CAAC,CAAC,IAAKxC,EAAGD,GAAI,CAAC,IAAK+5B,EAAG,GAAI,CAAC,IAAK,EAAG36B,GAAI,CAAC,KAAM26B,EAAG,GAAI,CAAC,MAC/D,OAAOt3B,EAAEi0J,eAAiB39I,EAAGtW,IAE9B,SAAUxC,EAAGD,GACd,IAAI+5B,EAAI,gBAER95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAOA,EAAEwjB,KAAK,KAAKjE,QAAQua,EAAG,QAE/B,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI,SAASa,EAAED,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,EAAGH,EAAGC,GAC5CpG,IAAM3Z,IAAM2Z,GAAK,GAEjB,IAAIjJ,EAAI,IAAMiO,KAAKK,GAAK,IACpBgtB,EAAIrtB,KAAKK,GAAK,MAAQlB,GAAK,GAC3Bhd,EAAI,GACJue,OAAI,EACJtB,OAAI,EACJzO,OAAI,EACJ8sB,OAAI,EACJ/sB,OAAI,EACJgP,EAAI,SAAWxd,EAAGD,EAAG+5B,GACvB,MAAO,CACLtrB,EAAGxO,EAAI8d,KAAKiE,IAAI+X,GAAK/5B,EAAI+d,KAAKkE,IAAI8X,GAClCrrB,EAAGzO,EAAI8d,KAAKkE,IAAI8X,GAAK/5B,EAAI+d,KAAKiE,IAAI+X,KAItC,GAAI5a,EAAGhC,EAAIgC,EAAE,GAAIzQ,EAAIyQ,EAAE,GAAIqc,EAAIrc,EAAE,GAAI1Q,EAAI0Q,EAAE,OAAQ,CACjDnf,GAAKye,EAAIhB,EAAEzd,EAAG+5B,GAAIqR,IAAI38B,EAAGsrB,EAAItb,EAAE/P,EAAG2Q,GAAKZ,EAAIhB,EAAE4B,EAAGH,GAAIksB,IAAI38B,EAAGyQ,EAAIT,EAAE/P,EAAG1O,IAAMqf,GAAK0a,IAAM7a,IAAMG,GAAK,EAAGH,GAAK,GACxG,IAAIO,GAAKzf,EAAIqf,GAAK,EACd8S,GAAK4H,EAAI7a,GAAK,EACdyb,EAAIlb,EAAIA,GAAK1G,EAAIA,GAAKoZ,EAAIA,GAAK/yB,EAAIA,GACvCu7B,EAAI,IAAM5hB,GAAK4hB,EAAI5c,KAAKmE,KAAKyY,GAAIv7B,GAAKu7B,GAEtC,IAAIo/F,EAAIhhH,EAAIA,EACRq6I,EAAIh0J,EAAIA,EACRm0B,GAAK9wB,IAAM1C,GAAK,EAAI,GAAKge,KAAKmE,KAAKnE,KAAKsE,KAAK03G,EAAIq5B,EAAIr5B,EAAI5nG,EAAIA,EAAIihI,EAAI3zI,EAAIA,IAAMs6G,EAAI5nG,EAAIA,EAAIihI,EAAI3zI,EAAIA,KAEvG+b,EAAIjI,EAAIxa,EAAIoZ,EAAI/yB,GAAKY,EAAIqf,GAAK,EAAG5Q,EAAI8kB,GAAKn0B,EAAIqgB,EAAI1G,GAAKghB,EAAI7a,GAAK,EAAG/B,EAAIY,KAAKuE,OAAOyX,EAAItrB,GAAKrP,GAAGojB,QAAQ,IAAK9T,EAAIqP,KAAKuE,OAAOpD,EAAIzQ,GAAKrP,GAAGojB,QAAQ,IAAKrF,EAAInd,EAAIw7B,EAAIzd,KAAKK,GAAKjB,EAAIA,EAAGzO,EAAI2Q,EAAImc,EAAIzd,KAAKK,GAAK1P,EAAIA,EAAGyO,EAAI,IAAMA,EAAI,EAAIY,KAAKK,GAAKjB,GAAIzO,EAAI,IAAMA,EAAI,EAAIqP,KAAKK,GAAK1P,GAAI3O,GAAKod,EAAIzO,IAAMyO,GAAK,EAAIY,KAAKK,KAAMre,GAAK2O,EAAIyO,IAAMzO,GAAK,EAAIqP,KAAKK,IAEjV,IAAI+U,EAAIzkB,EAAIyO,EAEZ,GAAIY,KAAKsE,IAAI8Q,GAAKrjB,EAAG,CACnB,IAAI+B,EAAInD,EACJioJ,EAAIt3I,EACJ4F,EAAI/F,EACRxQ,EAAIyO,EAAIrN,GAAK/P,GAAK2O,EAAIyO,EAAI,GAAK,GAAIjd,EAAID,EAAEof,EAAImc,EAAIziB,EAAIgF,KAAKiE,IAAItT,GAAIwQ,EAAIzQ,EAAIrP,EAAI2e,KAAKkE,IAAIvT,GAAIqK,EAAG3Z,EAAG8d,EAAG,EAAGnd,EAAG42J,EAAG1xI,EAAG,CAACvW,EAAGmD,EAAG2pB,EAAG/sB,IAG5H0kB,EAAIzkB,EAAIyO,EACR,IAAIy5I,EAAI74I,KAAKiE,IAAI7E,GACbssB,EAAI1rB,KAAKkE,IAAI9E,GACboa,EAAIxZ,KAAKiE,IAAItT,GACbiS,EAAI5C,KAAKkE,IAAIvT,GACbmoJ,EAAI94I,KAAKkF,IAAIkQ,EAAI,GACjB2jI,EAAI,EAAI,EAAI/9I,EAAI89I,EAChBE,EAAI,EAAI,EAAI33J,EAAIy3J,EAChBz3I,EAAI,CAACpf,EAAG+5B,GACRi9H,EAAI,CAACh3J,EAAI82J,EAAIrtH,EAAG1P,EAAIg9H,EAAIH,GACxBK,EAAI,CAAC53I,EAAIy3I,EAAIn2I,EAAGzB,EAAI63I,EAAIx/H,GACxB9F,EAAI,CAACpS,EAAGH,GACZ,GAAI83I,EAAE,GAAK,EAAI53I,EAAE,GAAK43I,EAAE,GAAIA,EAAE,GAAK,EAAI53I,EAAE,GAAK43I,EAAE,GAAI73I,EAAG,MAAO,CAAC63I,EAAGC,EAAGxlI,GAAGvwB,OAAOhB,GAE/E,IAAK,IAAIojH,EAAI,GAAIh/F,EAAI,EAAGuO,GAAK3yB,EAAI,CAAC82J,EAAGC,EAAGxlI,GAAGvwB,OAAOhB,GAAGujB,OAAOC,MAAM,MAAMpkB,OAAQglB,EAAIuO,EAAGvO,IACrFg/F,EAAEh/F,GAAKA,EAAI,EAAI7G,EAAEvd,EAAEokB,EAAI,GAAIpkB,EAAEokB,GAAI8mB,GAAG18B,EAAI+O,EAAEvd,EAAEokB,GAAIpkB,EAAEokB,EAAI,GAAI8mB,GAAG38B,EAG/D,OAAO60G,GAELpmG,EAAI,SAAWjd,EAAGD,EAAG+5B,EAAGhhB,GAC1B,MAAO,CAAC9Y,EAAGD,EAAG+5B,EAAGhhB,EAAGghB,EAAGhhB,IAErBtW,EAAI,SAAWxC,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAChC,MAAO,CAAC,EAAI,EAAIjd,EAAI,EAAI,EAAI85B,EAAG,EAAI,EAAI/5B,EAAI,EAAI,EAAI+Y,EAAG,EAAI,EAAI3Z,EAAI,EAAI,EAAI26B,EAAG,EAAI,EAAI7c,EAAI,EAAI,EAAInE,EAAG3Z,EAAG8d,IAGzGjd,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAIhhB,EAAE9Y,GACNF,EAAIC,GAAK+Y,EAAE/Y,GACXqf,EAAI,CACN5Q,EAAG,EACHC,EAAG,EACHyV,GAAI,EACJC,GAAI,EACJC,EAAG,EACHC,EAAG,EACHC,GAAI,KACJC,GAAI,MAEFtF,EAAI,CACNzQ,EAAG,EACHC,EAAG,EACHyV,GAAI,EACJC,GAAI,EACJC,EAAG,EACHC,EAAG,EACHC,GAAI,KACJC,GAAI,MAEFrF,EAAI,GACJrP,EAAI,GACJs7B,EAAI,GACJlrC,EAAI,GACJue,OAAI,EACJtB,EAAI,SAAWld,EAAGD,EAAG+5B,GACvB,IAAIhhB,OAAI,EACJhZ,OAAI,EACR,IAAKE,EAAG,MAAO,CAAC,IAAKD,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEyO,EAAGzO,EAAE0O,GAEhD,SAAUzO,EAAE,IAAM,CAChBglB,EAAG,EACHC,EAAG,MACEllB,EAAEukB,GAAKvkB,EAAEwkB,GAAK,MAAOvkB,EAAE,IAC5B,IAAK,IACHD,EAAEqkB,EAAIpkB,EAAE,GAAID,EAAEskB,EAAIrkB,EAAE,GACpB,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAO9B,EAAEQ,MAAM,EAAG,CAACI,EAAEyO,EAAGzO,EAAE0O,GAAGxN,OAAOjB,EAAEklB,MAAM,MACtD,MAEF,IAAK,IACH,MAAQ4U,GAAK,MAAQA,GAAKhhB,EAAI,EAAI/Y,EAAEyO,EAAIzO,EAAEmkB,GAAIpkB,EAAI,EAAIC,EAAE0O,EAAI1O,EAAEokB,KAAOrL,EAAI/Y,EAAEyO,EAAG1O,EAAIC,EAAE0O,GAAIzO,EAAI,CAAC,IAAK8Y,EAAGhZ,GAAGmB,OAAOjB,EAAEklB,MAAM,IACvH,MAEF,IAAK,IACH,MAAQ4U,GAAK,MAAQA,GAAK/5B,EAAEukB,GAAK,EAAIvkB,EAAEyO,EAAIzO,EAAEukB,GAAIvkB,EAAEwkB,GAAK,EAAIxkB,EAAE0O,EAAI1O,EAAEwkB,KAAOxkB,EAAEukB,GAAKvkB,EAAEyO,EAAGzO,EAAEwkB,GAAKxkB,EAAE0O,GAAIzO,EAAI,CAAC,KAAKiB,OAAOuB,EAAEzC,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEukB,GAAIvkB,EAAEwkB,GAAIvkB,EAAE,GAAIA,EAAE,KACrJ,MAEF,IAAK,IACHD,EAAEukB,GAAKtkB,EAAE,GAAID,EAAEwkB,GAAKvkB,EAAE,GAAIA,EAAI,CAAC,KAAKiB,OAAOuB,EAAEzC,EAAEyO,EAAGzO,EAAE0O,EAAGzO,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3E,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAOgc,EAAEld,EAAEyO,EAAGzO,EAAE0O,EAAGzO,EAAE,GAAIA,EAAE,KACrC,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAOgc,EAAEld,EAAEyO,EAAGzO,EAAE0O,EAAGzO,EAAE,GAAID,EAAE0O,IACrC,MAEF,IAAK,IACHzO,EAAI,CAAC,KAAKiB,OAAOgc,EAAEld,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEyO,EAAGxO,EAAE,KACpC,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAOgc,EAAEld,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEqkB,EAAGrkB,EAAEskB,IAGxC,OAAOrkB,GAELyO,EAAI,SAAWzO,EAAGD,GACpB,GAAIC,EAAED,GAAGV,OAAS,EAAG,CACnBW,EAAED,GAAGslB,QAEL,IAAK,IAAIvM,EAAI9Y,EAAED,GAAI+Y,EAAEzZ,QACnB6f,EAAEnf,GAAK,IAAKD,IAAM+P,EAAE9P,GAAK,KAAMC,EAAEuQ,OAAOxQ,IAAK,EAAG,CAAC,KAAKkB,OAAO6X,EAAEvI,OAAO,EAAG,KAG3EvQ,EAAEuQ,OAAOxQ,EAAG,GAAIye,EAAIV,KAAKyH,IAAIuU,EAAEz6B,OAAQS,GAAKA,EAAET,QAAU,KAGxDk8B,EAAI,SAAWv7B,EAAGD,EAAG+Y,EAAG3Z,EAAG8d,GAC7Bjd,GAAKD,GAAK,MAAQC,EAAEid,GAAG,IAAM,MAAQld,EAAEkd,GAAG,KAAOld,EAAEwQ,OAAO0M,EAAG,EAAG,CAAC,IAAK9d,EAAEqP,EAAGrP,EAAEsP,IAAKqK,EAAEoL,GAAK,EAAGpL,EAAEqL,GAAK,EAAGrL,EAAEtK,EAAIxO,EAAEid,GAAG,GAAInE,EAAErK,EAAIzO,EAAEid,GAAG,GAAIuB,EAAIV,KAAKyH,IAAIuU,EAAEz6B,OAAQS,GAAKA,EAAET,QAAU,KAG9Kmf,EAAIV,KAAKyH,IAAIuU,EAAEz6B,OAAQS,GAAKA,EAAET,QAAU,GAExC,IAAK,IAAImP,EAAI,EAAGA,EAAIgQ,EAAGhQ,IAAK,CAC1BsrB,EAAEtrB,KAAO28B,EAAIrR,EAAEtrB,GAAG,IAAK,MAAQ28B,IAAMjsB,EAAE1Q,GAAK28B,EAAG38B,IAAMvO,EAAIif,EAAE1Q,EAAI,KAAMsrB,EAAEtrB,GAAK0O,EAAE4c,EAAEtrB,GAAI4Q,EAAGnf,GAAI,MAAQif,EAAE1Q,IAAM,MAAQ28B,IAAMjsB,EAAE1Q,GAAK,KAAMC,EAAEqrB,EAAGtrB,GAAI1O,IAAMA,EAAE0O,KAAO28B,EAAIrrC,EAAE0O,GAAG,IAAK,MAAQ28B,IAAMt7B,EAAErB,GAAK28B,EAAG38B,IAAMvO,EAAI4P,EAAErB,EAAI,KAAM1O,EAAE0O,GAAK0O,EAAEpd,EAAE0O,GAAIyQ,EAAGhf,GAAI,MAAQ4P,EAAErB,IAAM,MAAQ28B,IAAMt7B,EAAErB,GAAK,KAAMC,EAAE3O,EAAG0O,IAAK+sB,EAAEzB,EAAGh6B,EAAGsf,EAAGH,EAAGzQ,GAAI+sB,EAAEz7B,EAAGg6B,EAAG7a,EAAGG,EAAG5Q,GACrU,IAAIgP,EAAIsc,EAAEtrB,GACNgR,EAAI1f,GAAKA,EAAE0O,GACX0jB,EAAI1U,EAAEne,OACNq7B,EAAI56B,GAAK0f,EAAEngB,OACf+f,EAAE5Q,EAAIgP,EAAE0U,EAAI,GAAI9S,EAAE3Q,EAAI+O,EAAE0U,EAAI,GAAI9S,EAAE8E,GAAK8B,WAAWxI,EAAE0U,EAAI,KAAO9S,EAAE5Q,EAAG4Q,EAAE+E,GAAK6B,WAAWxI,EAAE0U,EAAI,KAAO9S,EAAE3Q,EAAGwQ,EAAEiF,GAAKpkB,IAAMkmB,WAAWxG,EAAEkb,EAAI,KAAOzb,EAAEzQ,GAAIyQ,EAAEkF,GAAKrkB,IAAMkmB,WAAWxG,EAAEkb,EAAI,KAAOzb,EAAExQ,GAAIwQ,EAAEzQ,EAAI1O,GAAK0f,EAAEkb,EAAI,GAAIzb,EAAExQ,EAAI3O,GAAK0f,EAAEkb,EAAI,GAGtO,OAAO56B,EAAI,CAACg6B,EAAGh6B,GAAKg6B,IAErB,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,IAEV,SAAS7c,EAAEjd,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GACrB,IAAI8d,EAAI,GAER,GAAI,OAAS9d,GAAK,OAAS2Z,IAAMA,EAAIghB,GAAI95B,GAAKA,EAAGD,GAAKA,EAAG+5B,GAAKA,EAAGhhB,GAAKA,EAAG,OAAS3Z,EAAG,CACnF,IAAIqD,EAAIsb,KAAKK,GAAK,IACdre,EAAIE,EAAI85B,EAAIhc,KAAKiE,KAAKjJ,EAAItW,GAC1B4c,EAAIpf,EAAI85B,EAAIhc,KAAKiE,KAAK5iB,EAAIqD,GAC9Bya,EAAI,CAAC,CAAC,IAAKnd,EAAGC,EAAI+5B,EAAIhc,KAAKkE,KAAKlJ,EAAItW,IAAK,CAAC,IAAKs3B,EAAGA,EAAG,IAAK36B,EAAI2Z,EAAI,KAAM,EAAGsG,EAAGrf,EAAI+5B,EAAIhc,KAAKkE,KAAK7iB,EAAIqD,UAC/Fya,EAAI,CAAC,CAAC,IAAKjd,EAAGD,GAAI,CAAC,IAAK,GAAI+Y,GAAI,CAAC,IAAKghB,EAAGhhB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAIA,GAAI,CAAC,IAAKghB,EAAGhhB,EAAG,EAAG,EAAG,EAAG,GAAI,EAAIA,GAAI,CAAC,MAEzG,OAAOmE,EAGTjd,EAAEm0J,QAAU,SAAUn0J,GACpB,KAAMA,EAAI8Y,EAAE9Y,MAAQA,EAAEX,OAAQ,MAAO,CAAC,CAAC,IAAK,EAAG,IAC/C,IAAIU,EAAI,GACJ+5B,EAAI,EACJt3B,EAAI,EACJ1C,EAAI,EACJsf,EAAI,EACJH,EAAI,EACJC,OAAI,EACJrP,OAAI,EACR,MAAQ7P,EAAE,GAAG,KAAOF,EAAIg6B,GAAK95B,EAAE,GAAG,GAAIof,EAAI5c,GAAKxC,EAAE,GAAG,GAAIif,IAAKlf,EAAE,GAAK,CAAC,IAAK+5B,EAAGt3B,IAE7E,IAAK,IAAI2oC,EAAGlrC,EAAGue,EAAI,IAAMxe,EAAEX,QAAU,MAAQW,EAAE,GAAG,IAAM,MAAQA,EAAE,GAAG,GAAGygB,eAAiB,MAAQzgB,EAAE,GAAG,GAAGygB,cAAevD,EAAI+B,EAAGxQ,EAAIzO,EAAEX,OAAQ6d,EAAIzO,EAAGyO,IAAK,CACvJ,GAAInd,EAAEqQ,KAAK+6B,EAAI,KAAMjsB,GAAKjf,EAAID,EAAEkd,IAAI,MAAQgC,EAAEuB,cAAe,OAAQ0qB,EAAE,GAAKjsB,EAAEuB,cAAe0qB,EAAE,IAC7F,IAAK,IACHA,EAAE,GAAKlrC,EAAE,GAAIkrC,EAAE,GAAKlrC,EAAE,GAAIkrC,EAAE,GAAKlrC,EAAE,GAAIkrC,EAAE,GAAKlrC,EAAE,GAAIkrC,EAAE,GAAKlrC,EAAE,GAAIkrC,EAAE,IAAMlrC,EAAE,GAAK65B,EAAGqR,EAAE,IAAMlrC,EAAE,GAAKuC,EAClG,MAEF,IAAK,IACH2oC,EAAE,IAAMlrC,EAAE,GAAKuC,EACf,MAEF,IAAK,IACH2oC,EAAE,IAAMlrC,EAAE,GAAK65B,EACf,MAEF,IAAK,IACH,IAAK,IAAIyB,EAAI,EAAG/sB,GAAKqB,EAAI,CAACiqB,EAAGt3B,GAAGvB,OAAOhB,EAAEilB,MAAM,KAAK7lB,OAAQk8B,EAAI/sB,EAAG+sB,IACjE1rB,EAAE0rB,IAAM1rB,EAAE0rB,GAAKzB,EAAGjqB,IAAI0rB,IAAM1rB,EAAE0rB,GAAK/4B,EAGrCzC,EAAE08D,MAAO18D,EAAIA,EAAEkB,OAAO9B,EAAE0Q,EAAG2O,IAC3B,MAEF,IAAK,IACHze,EAAE08D,OAAQ5sD,EAAIoN,EAAE6c,EAAGt3B,EAAGvC,EAAE,GAAIA,EAAE,KAAKmQ,KAAKP,EAAE,IAAK9P,EAAIA,EAAEkB,OAAO4O,GAC5D,MAEF,IAAK,IACH9P,EAAE08D,MAAO18D,EAAIA,EAAEkB,OAAOgc,EAAE6c,EAAGt3B,EAAGvC,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAAMkrC,EAAI,CAAC,KAAKlqC,OAAOlB,EAAEA,EAAEV,OAAS,GAAG6lB,OAAO,IAC1F,MAEF,IAAK,IACHplB,GAAKG,EAAE,GAAK65B,EAAG1a,GAAKnf,EAAE,GAAKuC,EAC3B,MAEF,QACE,IAAK,IAAIgb,EAAI,EAAGgC,EAAIvf,EAAEZ,OAAQme,EAAIgC,EAAGhC,IACnC2tB,EAAE3tB,IAAMvd,EAAEud,IAAMA,EAAI,EAAIsc,EAAIt3B,QAG3B,GAAI,MAAQ0c,EAAGrP,EAAI,CAACiqB,EAAGt3B,GAAGvB,OAAOhB,EAAEilB,MAAM,IAAKnlB,EAAE08D,MAAO18D,EAAIA,EAAEkB,OAAO9B,EAAE0Q,EAAG2O,IAAK2sB,EAAI,CAAC,KAAKlqC,OAAOhB,EAAEilB,OAAO,SAAS,GAAI,MAAQhG,EAAGnf,EAAE08D,OAAQ5sD,EAAIoN,EAAE6c,EAAGt3B,EAAGvC,EAAE,GAAIA,EAAE,KAAKmQ,KAAKP,EAAE,IAAK9P,EAAIA,EAAEkB,OAAO4O,QAAQ,GAAI,MAAQqP,EAAGnf,EAAE08D,MAAO18D,EAAIA,EAAEkB,OAAOgc,EAAE6c,EAAGt3B,EAAGvC,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAAMkrC,EAAI,CAAC,KAAKlqC,OAAOlB,EAAEA,EAAEV,OAAS,GAAG6lB,OAAO,SAAS,IAAK,IAAIgN,EAAI,EAAGwI,EAAIz6B,EAAEZ,OAAQ6yB,EAAIwI,EAAGxI,IAChWiZ,EAAEjZ,GAAKjyB,EAAEiyB,GAEX,GAAI,OAAShT,EAAIA,EAAEuB,eAAgB,OAAQ0qB,EAAE,IAC3C,IAAK,IACHrR,GAAKh6B,EAAG0C,GAAK4c,EACb,MAEF,IAAK,IACH0a,EAAIqR,EAAE,GACN,MAEF,IAAK,IACH3oC,EAAI2oC,EAAE,GACN,MAEF,IAAK,IACHrrC,EAAIqrC,EAAEA,EAAE9rC,OAAS,GAAI+f,EAAI+rB,EAAEA,EAAE9rC,OAAS,GACtC,MAEF,QACEy6B,EAAIqR,EAAEA,EAAE9rC,OAAS,GAAImD,EAAI2oC,EAAEA,EAAE9rC,OAAS,IAI5C,OAAOU,IAER,SAAUC,EAAGD,GACd,IAAI+5B,EAAI,mBAAqBh4B,QAAU,iBAAmBA,OAAOC,SAAW,SAAU/B,GACpF,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAK,mBAAqB8B,QAAU9B,EAAEgC,cAAgBF,QAAU9B,IAAM8B,OAAOtC,UAAY,gBAAkBQ,GAEhH8Y,EAAI,8HACJ3Z,EAAI,IAAIyf,OAAO,WAAa9F,EAAI,wCAA0CA,EAAI,QAAUA,EAAI,QAAS,MACrGmE,EAAI,IAAI2B,OAAO,qCAAuC9F,EAAI,QAAUA,EAAI,KAAM,MAElF9Y,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAKA,EAAG,OAAO,KACf,SAAK,IAAWA,EAAI,YAAc85B,EAAE95B,MAAQ85B,EAAE,IAAK,OAAO95B,EAC1D,IAAID,EAAI,CACNkd,EAAG,EACHgC,EAAG,EACHzc,EAAG,EACHqN,EAAG,EACHqP,EAAG,EACH1B,EAAG,EACH1E,EAAG,EACHqG,EAAG,EACHrf,EAAG,EACHE,EAAG,EACHkd,EAAG,EACHkC,EAAG,EACHb,EAAG,GAEDzF,EAAI,GACR,OAAOwG,OAAOtf,GAAGuf,QAAQpgB,GAAG,SAAUa,EAAG85B,EAAG36B,GAC1C,IAAIqD,EAAI,GACJ1C,EAAIg6B,EAAE5nB,cACV,GAAI/S,EAAEogB,QAAQtC,GAAG,SAAUjd,EAAGD,GAC5BA,GAAKyC,EAAE4N,MAAMrQ,MACX,MAAQD,GAAK0C,EAAEnD,OAAS,IAAMyZ,EAAE1I,KAAK,CAAC0pB,GAAG74B,OAAOuB,EAAE+N,OAAO,EAAG,KAAMzQ,EAAI,IAAKg6B,EAAI,MAAQA,EAAI,IAAM,KAAM,MAAQh6B,GAAK,IAAM0C,EAAEnD,QAAUyZ,EAAE1I,KAAK,CAAC0pB,EAAGt3B,EAAE,KAAM,MAAQ1C,EAAGgZ,EAAE1I,KAAK,CAAC0pB,GAAG74B,OAAOuB,SAAS,KAAOA,EAAEnD,QAAUU,EAAED,KAAOgZ,EAAE1I,KAAK,CAAC0pB,GAAG74B,OAAOuB,EAAE+N,OAAO,EAAGxQ,EAAED,MAAOC,EAAED,UAGtQgZ,IAEL,SAAU9Y,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAK,IAAI+5B,EAAI,GAAIhhB,EAAI,EAAG3Z,EAAIa,EAAEX,OAAQF,EAAI,GAAKY,EAAI+Y,EAAGA,GAAK,EAAG,CAC5D,IAAImE,EAAI,CAAC,CACPzO,GAAIxO,EAAE8Y,EAAI,GACVrK,GAAIzO,EAAE8Y,EAAI,IACT,CACDtK,GAAIxO,EAAE8Y,GACNrK,GAAIzO,EAAE8Y,EAAI,IACT,CACDtK,GAAIxO,EAAE8Y,EAAI,GACVrK,GAAIzO,EAAE8Y,EAAI,IACT,CACDtK,GAAIxO,EAAE8Y,EAAI,GACVrK,GAAIzO,EAAE8Y,EAAI,KAEZ/Y,EAAI+Y,EAAI3Z,EAAI,IAAM2Z,EAAImE,EAAE,GAAK,CAC3BzO,GAAIxO,EAAE,GACNyO,GAAIzO,EAAE,IACJb,EAAI,IAAM2Z,IAAMmE,EAAE,GAAK,CACzBzO,GAAIxO,EAAE,GACNyO,GAAIzO,EAAE,IACLid,EAAE,GAAK,CACRzO,GAAIxO,EAAE,GACNyO,GAAIzO,EAAE,KACHid,EAAE,GAAK,CACVzO,GAAIxO,EAAEb,EAAI,GACVsP,GAAIzO,EAAEb,EAAI,IACRA,EAAI,IAAM2Z,EAAImE,EAAE,GAAKA,EAAE,GAAKnE,IAAMmE,EAAE,GAAK,CAC3CzO,GAAIxO,EAAE8Y,GACNrK,GAAIzO,EAAE8Y,EAAI,KACRghB,EAAE1pB,KAAK,CAAC,MAAO6M,EAAE,GAAGzO,EAAI,EAAIyO,EAAE,GAAGzO,EAAIyO,EAAE,GAAGzO,GAAK,IAAKyO,EAAE,GAAGxO,EAAI,EAAIwO,EAAE,GAAGxO,EAAIwO,EAAE,GAAGxO,GAAK,GAAIwO,EAAE,GAAGzO,EAAI,EAAIyO,EAAE,GAAGzO,EAAIyO,EAAE,GAAGzO,GAAK,GAAIyO,EAAE,GAAGxO,EAAI,EAAIwO,EAAE,GAAGxO,EAAIwO,EAAE,GAAGxO,GAAK,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,IAGlL,OAAOqrB,IAER,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,GAAGkS,gBAEb,SAAUlS,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,GAAGygB,gBAEb,SAAUzgB,EAAGD,GACd,IAAI+5B,EAAI,GAAG32B,SAEXnD,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO85B,EAAEp6B,KAAKM,GAAGuf,QAAQ,aAAc,IAAIA,QAAQ,MAAO,MAE3D,SAAUvf,EAAGD,GACd,IAAI+5B,EAAI96B,OAAOQ,UAEfQ,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAIC,GAAKA,EAAEgC,YACf,OAAOhC,KAAO,mBAAqBD,GAAKA,EAAEP,WAAas6B,KAExD,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAKA,EAAG,MAAO,CACb8uJ,EAAG7uJ,GAGL,IAAK8Y,EAAE/Y,GAAI,CACT,IAAI+5B,EAAI36B,EAAEY,GAAKA,EAAIA,EAAEwf,QAAQ,OAAQ,IAAIkE,MAAM,KAE/C1jB,EAAI,SAAWC,GACb,IAAK,IAAID,EAAI,IAAK+Y,EAAI,EAAG3Z,EAAI26B,EAAEz6B,OAAQyZ,EAAI3Z,EAAG2Z,IAC5C/Y,GAAKC,EAAE85B,EAAEhhB,KAAO9Y,EAAE85B,EAAEhhB,IAAI3V,WAG1B,OAAOpD,GAIX,OAAOkd,EAAEjd,EAAGD,KAEb,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAIje,OAAOQ,UAAUC,eAEzBO,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAKA,IAAMZ,EAAEa,GAAI,OAAOA,EACxB,IAAI85B,EAAI,GACJt3B,EAAI,KACR,OAAOsW,EAAE9Y,GAAG,SAAUA,GACpBwC,EAAIzC,EAAEC,GAAIid,EAAEvd,KAAKo6B,EAAGt3B,GAAKs3B,EAAEt3B,GAAG4N,KAAKpQ,GAAK85B,EAAEt3B,GAAK,CAACxC,MAC9C85B,IAEL,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IAEV95B,EAAEm0J,QAAU,SAASn0J,EAAED,EAAG+5B,GACxB,GAAI/5B,IAAM+5B,EAAG,OAAO,EACpB,IAAK/5B,IAAM+5B,EAAG,OAAO,EACrB,GAAI7c,EAAEld,IAAMkd,EAAE6c,GAAI,OAAO,EAEzB,GAAI36B,EAAEY,IAAMZ,EAAE26B,GAAI,CAChB,GAAI/5B,EAAEV,SAAWy6B,EAAEz6B,OAAQ,OAAO,EAElC,IAAK,IAAImD,GAAI,EAAI1C,EAAI,EAAGA,EAAIC,EAAEV,SAAWmD,EAAIxC,EAAED,EAAED,GAAIg6B,EAAEh6B,KAAMA,KAI7D,OAAO0C,EAGT,GAAIsW,EAAE/Y,IAAM+Y,EAAEghB,GAAI,CAChB,IAAI1a,EAAIpgB,OAAOukC,KAAKxjC,GAChBkf,EAAIjgB,OAAOukC,KAAKzJ,GACpB,GAAI1a,EAAE/f,SAAW4f,EAAE5f,OAAQ,OAAO,EAElC,IAAK,IAAI6f,GAAI,EAAIrP,EAAI,EAAGA,EAAIuP,EAAE/f,SAAW6f,EAAIlf,EAAED,EAAEqf,EAAEvP,IAAKiqB,EAAE1a,EAAEvP,MAAOA,KAInE,OAAOqP,EAGT,OAAO,IAER,SAAUlf,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,IACN7a,EAAI6a,EAAE,IACN5a,EAAI4a,EAAE,IACNjqB,EAAIiqB,EAAE,IACNqR,EAAIrR,EAAE,IACN75B,EAAI65B,EAAE,KACNtb,EAAIsb,EAAE,KACN5c,EAAI,CACN+5I,QAASh6I,EACTi6I,QAASj6I,EACTk6I,WAAYj4I,EACZk4I,SAAUjsH,EACVksH,UAAW70J,EACX80J,QAASr6I,EACTs6I,UAAWz3J,EACX03J,WAAYp4I,EACZq4I,SAAUx4I,EACVy4I,WAAYx4I,EACZy4I,WAAY9nJ,EACZ+nJ,WAAY33J,EACZ43J,SAAU1sH,EACV2sH,SAAUt5I,EACVu5I,QAASj+H,EAAE,KACXrL,MAAOqL,EAAE,IACTk+H,SAAUl+H,EAAE,KACZm+H,QAASn+H,EAAE,KACXo+H,KAAMp/I,EACNq/I,OAAQr+H,EAAE,KACVigC,OAAQjgC,EAAE,IACV8H,MAAO9H,EAAE,KACTs+H,QAASt+H,EAAE,IACXu+H,WAAYv+H,EAAE,IACd55B,QAAS45B,EAAE,KACXw+H,QAASx+H,EAAE,KACX8jC,QAAS9jC,EAAE,IACXy+H,YAAaz+H,EAAE,KACf91B,IAAK81B,EAAE,KACPq2H,IAAKhxJ,EACLq5J,KAAM1+H,EAAE,KACR2+H,SAAU3+H,EAAE,KACZ4+H,QAAS5+H,EAAE,IACX32B,SAAU22B,EAAE,GACZ6+H,SAAU7+H,EAAE,MAEdhhB,EAAE,CAACmE,EAAGza,EAAG1C,EAAGsf,EAAGH,EAAGC,EAAGrP,EAAGs7B,EAAGlrC,EAAGue,IAAI,SAAUxe,GAC1Cb,EAAE+d,EAAGld,MACHA,EAAEm0J,QAAUj3I,GACf,SAAUld,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAU,CACV3xF,iBAAkB1oC,EAAE,IACpB8+H,UAAW9+H,EAAE,IACb45D,sBAAuB55D,EAAE,IACzBmL,UAAWnL,EAAE,IACb++H,eAAgB/+H,EAAE,IAClBg/H,cAAeh/H,EAAE,IACjBi/H,SAAUj/H,EAAE,IACZk/H,SAAUl/H,EAAE,IACZjS,SAAUiS,EAAE,IACZm/H,UAAWn/H,EAAE,IACboiE,sBAAuBpiE,EAAE,MAE1B,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,GAAI95B,EAAG,CACL,GAAIA,EAAEwiE,iBAAkB,OAAOxiE,EAAEwiE,iBAAiBziE,EAAG+5B,GAAG,GAAK,CAC3D/pB,OAAQ,WACN/P,EAAE2jE,oBAAoB5jE,EAAG+5B,GAAG,KAGhC,GAAI95B,EAAEk5J,YAAa,OAAOl5J,EAAEk5J,YAAY,KAAOn5J,EAAG+5B,GAAI,CACpD/pB,OAAQ,WACN/P,EAAEm5J,YAAY,KAAOp5J,EAAG+5B,QAK/B,SAAU95B,EAAGD,GACd,IAAI+5B,EAAIoY,SAASgwC,cAAc,SAC3BppE,EAAIo5B,SAASgwC,cAAc,MAC3B/iF,EAAI,qBACJ8d,EAAI,CACNq0B,GAAIY,SAASgwC,cAAc,SAC3Bk3E,MAAOt/H,EACPu/H,MAAOv/H,EACPw/H,MAAOx/H,EACPy/H,GAAIzgJ,EACJ0gJ,GAAI1gJ,EACJ,IAAKo5B,SAASgwC,cAAc,QAG9BliF,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAIZ,EAAE6gB,KAAKhgB,IAAM4e,OAAOsW,GAC5Bn1B,KAAKkd,IAAMld,EAAI,KACf,IAAI+5B,EAAI7c,EAAEld,GACVC,EAAIA,EAAEuf,QAAQ,iBAAkB,IAAKua,EAAE2S,UAAY,GAAKzsC,EACxD,IAAI8Y,EAAIghB,EAAE0T,WAAW,GACrB,OAAO1T,EAAEyY,YAAYz5B,GAAIA,IAE1B,SAAU9Y,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAIC,GAAKA,EAAE0zF,sBAAuB,CAChC,IAAI55D,EAAI95B,EAAE0zF,wBACN56E,EAAIo5B,SAASunH,gBAAgBC,UAC7Bv6J,EAAI+yC,SAASunH,gBAAgBE,WACjC,MAAO,CACLxjJ,IAAK2jB,EAAE3jB,IAAM2C,EACbzC,OAAQyjB,EAAEzjB,OAASyC,EACnBxC,KAAMwjB,EAAExjB,KAAOnX,EACfoX,MAAOujB,EAAEvjB,MAAQpX,GAIrB,OAAOY,GAAK,OAEb,SAAUC,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAIl6B,KAAKo5J,SAASh5J,EAAG,SAAUD,GACnC,MAAO,SAAW+5B,IAAMA,EAAI95B,EAAE+pD,cAAe/jC,WAAW8T,KAEzD,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAIl6B,KAAKqlC,UAAUjlC,EAAGD,GACtB+Y,EAAIkN,WAAWpmB,KAAKo5J,SAASh5J,EAAG,oBAAsB,EACtDb,EAAI6mB,WAAWpmB,KAAKo5J,SAASh5J,EAAG,gBAAkB,EAClDid,EAAI+I,WAAWpmB,KAAKo5J,SAASh5J,EAAG,mBAAqB,EACzD,OAAO85B,EAAIhhB,GAAKkN,WAAWpmB,KAAKo5J,SAASh5J,EAAG,uBAAyB,GAAKb,EAAI8d,IAE/E,SAAUjd,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAIl6B,KAAKioB,SAAS7nB,EAAGD,GACrB+Y,EAAIkN,WAAWpmB,KAAKo5J,SAASh5J,EAAG,qBAAuB,EACvDb,EAAI6mB,WAAWpmB,KAAKo5J,SAASh5J,EAAG,iBAAmB,EACnDid,EAAI+I,WAAWpmB,KAAKo5J,SAASh5J,EAAG,kBAAoB,EACxD,OAAO85B,EAAIhhB,GAAKkN,WAAWpmB,KAAKo5J,SAASh5J,EAAG,sBAAwB,GAAKb,EAAI8d,IAE9E,SAAUjd,EAAGD,GACdC,EAAEm0J,QAAU,WACV,OAAO92E,OAAOu8E,iBAAmBv8E,OAAOu8E,iBAAmB,IAE5D,SAAU55J,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,IACE,OAAOujD,OAAOw8E,iBAAmBx8E,OAAOw8E,iBAAiB75J,EAAG,MAAMD,GAAKC,EAAE85J,aAAa/5J,GACtF,MAAOC,GACP,OAAO8Y,EAAEghB,GAAK,KAAOA,KAGxB,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAIl6B,KAAKo5J,SAASh5J,EAAG,QAASD,GAClC,MAAO,SAAW+5B,IAAMA,EAAI95B,EAAEgrD,aAAchlC,WAAW8T,KAExD,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAIC,EAAG,IAAK,IAAI85B,KAAK/5B,EACnBA,EAAEN,eAAeq6B,KAAO95B,EAAEmE,MAAM21B,GAAK/5B,EAAE+5B,IAEzC,OAAO95B,IAER,SAAUA,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAQq9E,OAAO6e,uBAAyB7e,OAAOuyE,6BAA+B,SAAU5vJ,GACtF,OAAOihE,WAAWjhE,EAAG,MACpBA,KAEJ,SAAUA,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAU,CACV4F,SAAUjgI,EAAE,GACZkgI,WAAYlgI,EAAE,IACdglE,KAAMhlE,EAAE,IACRkP,WAAYlP,EAAE,IACdmgI,QAASngI,EAAE,IACXq0H,YAAar0H,EAAE,IACf84D,SAAU94D,EAAE,IACZogI,MAAOpgI,EAAE,IACTqgI,KAAMrgI,EAAE,IACRsgI,OAAQtgI,EAAE,IACVmwD,OAAQnwD,EAAE,IACV/pB,OAAQ+pB,EAAE,IACVugI,OAAQvgI,EAAE,IACVwgI,MAAOxgI,EAAE,IACTygI,KAAMzgI,EAAE,IACR0gI,YAAa1gI,EAAE,MAEhB,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAIX,UAAUC,OAAS,QAAK,IAAWD,UAAU,GAAKA,UAAU,GAAK,GACzE,OAAO0Z,EAAE9Y,GAAG,SAAUA,GACpB,OAAQb,EAAEY,EAAGC,QAGhB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,OAAI,EACR,GAAIhhB,EAAE/Y,KAAO+5B,EAAI/5B,GAAIZ,EAAEY,KAAO+5B,EAAI,SAAW95B,GAC3C,OAAOid,EAAEjd,EAAGD,KACV+5B,EAAG,IAAK,IAAIt3B,EAAI,EAAGA,EAAIxC,EAAEX,OAAQmD,GAAK,EACxC,GAAIs3B,EAAE95B,EAAEwC,IAAK,OAAOxC,EAAEwC,GAExB,OAAO,OAER,SAAUxC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAK,IAAI+5B,EAAI,KAAM7c,EAAI,EAAGA,EAAIjd,EAAEX,OAAQ4d,IAAK,CAC3C,IAAIza,EAAIxC,EAAEid,GAAGld,GAEb,IAAK+Y,EAAEtW,GAAI,CACTs3B,EAAI36B,EAAEqD,GAAKA,EAAE,GAAKA,EAClB,OAIJ,OAAOs3B,IAER,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAK8Y,EAAE9Y,GAAI,OAAOA,EAClB,IAAID,EAAI,GACR,OAAOZ,EAAEa,GAAG,SAAUA,GACpB8Y,EAAE9Y,GAAKb,EAAEa,GAAG,SAAUA,GACpBD,EAAEqQ,KAAKpQ,MACJD,EAAEqQ,KAAKpQ,MACVD,IAEL,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAASn0J,EAAED,GACrB,IAAI+5B,EAAI16B,UAAUC,OAAS,QAAK,IAAWD,UAAU,GAAKA,UAAU,GAAK,GACzE,GAAI0Z,EAAE/Y,GAAI,IAAK,IAAIZ,EAAI,EAAGA,EAAIY,EAAEV,OAAQF,GAAK,EAC3Ca,EAAED,EAAEZ,GAAI26B,QACHA,EAAE1pB,KAAKrQ,GACd,OAAO+5B,IAER,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,KAAMA,EAAI8Y,EAAE9Y,GAAG,SAAUA,GACvB,OAAQ80B,MAAM90B,OACZX,OAAQ,MAAO,CACjBgwB,IAAK,EACL9J,IAAK,GAGP,GAAIpmB,EAAEa,EAAE,IAAK,CACX,IAAK,IAAID,EAAI,GAAI+5B,EAAI,EAAGA,EAAI95B,EAAEX,OAAQy6B,IACpC/5B,EAAIA,EAAEkB,OAAOjB,EAAE85B,IAGjB95B,EAAID,EAGN,IAAIkd,EAAIa,KAAKyH,IAAI5lB,MAAM,KAAMK,GAC7B,MAAO,CACLqvB,IAAKvR,KAAKuR,IAAI1vB,MAAM,KAAMK,GAC1BulB,IAAKtI,KAGR,SAAUjd,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAK,IAAID,EAAI,GAAI+5B,EAAI,EAAGA,EAAI95B,EAAEX,OAAQy6B,IACpC/5B,EAAIA,EAAEkB,OAAOjB,EAAE85B,IAGjB,OAAO/5B,IAER,SAAUC,EAAGD,GACd,IAAI+5B,EAAI1c,MAAM5d,UACVsZ,EAAIghB,EAAEvpB,OACNpR,EAAI26B,EAAE55B,QACN+c,EAAI6c,EAAE5U,MAEVllB,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAK,IAAID,EAAIkd,EAAEvd,KAAKN,UAAW,GAAI06B,EAAI,EAAGA,EAAI/5B,EAAEV,OAAQy6B,IACtD,IAAK,IAAIt3B,EAAIzC,EAAE+5B,GAAIh6B,GAAK,GAAIA,EAAIX,EAAEO,KAAKM,EAAGwC,KAAO,GAC/CsW,EAAEpZ,KAAKM,EAAGF,EAAG,GAIjB,OAAOE,IAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,IAAKhhB,EAAE9Y,KAAOb,EAAEa,GAAI,OAAOA,EAC3B,IAAIwC,EAAIs3B,EACR,OAAO7c,EAAEjd,GAAG,SAAUA,EAAG85B,GACvBt3B,EAAIzC,EAAEyC,EAAGxC,EAAG85B,MACVt3B,IAEL,SAAUxC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAI,GACR,IAAKhhB,EAAE9Y,GAAI,OAAO85B,EAElB,IAAK,IAAI7c,GAAK,EAAGza,EAAI,GAAI1C,EAAIE,EAAEX,SAAU4d,EAAInd,GAAI,CAC/C,IAAIsf,EAAIpf,EAAEid,GACVld,EAAEqf,EAAGnC,EAAGjd,KAAO85B,EAAE1pB,KAAKgP,GAAI5c,EAAE4N,KAAK6M,IAGnC,OAAO9d,EAAEa,EAAGwC,GAAIs3B,IAEjB,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,OAAI,EACR,GAAI36B,EAAEY,GAAI+5B,EAAI,SAAW95B,EAAGy6J,GAC1B,OAAO16J,EAAEC,GAAKD,EAAE06J,QACX,CACL,IAAIj4J,EAAI,GACRsW,EAAE/Y,GAAKyC,EAAE4N,KAAKrQ,GAAKkd,EAAEld,KAAOyC,EAAIzC,GAAI+5B,EAAI,SAAW95B,EAAGD,GACpD,IAAK,IAAI+5B,EAAI,EAAGA,EAAIt3B,EAAEnD,OAAQy6B,GAAK,EAAG,CACpC,IAAIhhB,EAAItW,EAAEs3B,GACV,GAAI95B,EAAE8Y,GAAK/Y,EAAE+Y,GAAI,OAAO,EACxB,GAAI9Y,EAAE8Y,GAAK/Y,EAAE+Y,GAAI,OAAQ,EAG3B,OAAO,GAGX,OAAO9Y,EAAE22B,KAAKmD,GAAI95B,IAEnB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IAEV95B,EAAEm0J,QAAU,WACV,IAAIn0J,EAAI,GACJD,EAAIZ,EAAEC,WACV,OAAO0Z,EAAE/Y,GAAG,SAAUA,GACpBC,EAAIA,EAAEiB,OAAOlB,MACXkd,EAAEjd,KAEP,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAK,IAAI+5B,EAAI,GAAIt3B,EAAI,GAAI1C,EAAI,EAAGA,EAAIE,EAAEX,OAAQS,IAAK,CACjD,IAAIsf,EAAIpf,EAAEF,GAAGC,GACb+Y,EAAEsG,KAAOjgB,EAAEigB,KAAOA,EAAI,CAACA,IAAKnC,EAAEmC,GAAG,SAAUpf,GACzCwC,EAAExC,KAAO85B,EAAE1pB,KAAKpQ,GAAIwC,EAAExC,IAAK,OAI/B,OAAO85B,IAER,SAAU95B,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAU,CACVuG,gBAAiB5gI,EAAE,IACnB6gI,aAAc7gI,EAAE,MAEjB,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAOC,EAAE,SAAWD,KAErB,SAAUC,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAIC,EAAE,SAAWD,GAAI,OAAOC,EAAE,SAAWD,GAEzC,IAAI+5B,EAAI,SAAW8gI,GACjB56J,EAAED,GAAG66J,IAGP,OAAO56J,EAAE,SAAWD,GAAK+5B,EAAGA,IAE7B,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACV95B,EAAEm0J,QAAU,CACV0G,aAAc/hJ,EACdgiJ,cAAehiJ,EACfk6C,UAAWl5B,EAAE,IACbihI,YAAajhI,EAAE,MAEhB,SAAU95B,EAAGD,GACd,IAAI+5B,EAAI,GAER95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAI+5B,EAAE95B,GAEV,IAAKD,EAAG,CACN,IAAK,IAAI+Y,EAAI9Y,EAAEmD,SAAS,IAAKhE,EAAI2Z,EAAEzZ,OAAQF,EAAI,EAAGA,IAChD2Z,EAAI,IAAMA,EAGZ/Y,EAAI,IAAM+Y,EAAGghB,EAAE95B,GAAKD,EAGtB,OAAOA,IAER,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,GACNt3B,EAAI,iCACJ1C,EAAI,aAERE,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAIA,GAAK,IAAMA,EAAIb,EAAEa,IAAMA,EAAIA,EAAEk0B,MAAM1xB,GAAIya,EAAEjd,GAAG,SAAUD,EAAG+5B,GACpE,IAAK/5B,EAAIA,EAAEm0B,MAAMp0B,IAAI,GAAGT,OAAS,EAAG,CAClC,IAAIyZ,EAAI/Y,EAAE,GAAGgxB,OAAO,GACpBhxB,EAAEwQ,OAAO,EAAG,EAAGxQ,EAAE,GAAG4wB,OAAO,IAAK5wB,EAAE,GAAK+Y,EAGzCmE,EAAEld,GAAG,SAAUC,EAAG85B,GAChBhF,MAAM90B,KAAOD,EAAE+5B,IAAM95B,MACnBA,EAAE85B,GAAK/5B,KACTC,QAAK,IAEV,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAI,EACJ+5B,EAAI,EACJ36B,EAAI,EACJ8d,EAAI,EACR,OAAOnE,EAAE9Y,GAAK,IAAMA,EAAEX,OAASU,EAAI+5B,EAAI36B,EAAI8d,EAAIjd,EAAE,GAAK,IAAMA,EAAEX,QAAUU,EAAIZ,EAAIa,EAAE,GAAI85B,EAAI7c,EAAIjd,EAAE,IAAM,IAAMA,EAAEX,QAAUU,EAAIC,EAAE,GAAI85B,EAAI7c,EAAIjd,EAAE,GAAIb,EAAIa,EAAE,KAAOD,EAAIC,EAAE,GAAI85B,EAAI95B,EAAE,GAAIb,EAAIa,EAAE,GAAIid,EAAIjd,EAAE,IAAMD,EAAI+5B,EAAI36B,EAAI8d,EAAIjd,EAAG,CACxNivJ,GAAIlvJ,EACJoiF,GAAIroD,EACJo1H,GAAI/vJ,EACJgwJ,GAAIlyI,KAGP,SAAUjd,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACV95B,EAAEm0J,QAAU,CACV6G,MAAOlhI,EAAE,IACTmhI,UAAWnhI,EAAE,IACbohI,UAAWphI,EAAE,IACbqhI,OAAQrhI,EAAE,IACV0B,UAAW1B,EAAE,IACbshI,WAAYthI,EAAE,IACds1H,cAAet2I,EACfy4F,MAAOz3E,EAAE,IACTuhI,WAAYvhI,EAAE,IACdwhI,MAAOxhI,EAAE,IACTyhI,MAAOzhI,EAAE,IACTy7H,IAAKz7H,EAAE,IACP0hI,UAAW1iJ,EACX2iJ,SAAU3hI,EAAE,IACZ4hI,MAAO5hI,EAAE,IACT6hI,UAAW7hI,EAAE,IACbo8H,SAAUp8H,EAAE,MAEb,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAI16B,UAAUC,OAAS,QAAK,IAAWD,UAAU,GAAKA,UAAU,GAAK,KACzE,OAAO0e,KAAKsE,IAAIpiB,EAAID,GAAK+5B,IAE1B,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAI/5B,EAAEoD,WACN2V,EAAIghB,EAAE55B,QAAQ,KAClB,IAAK,IAAM4Y,EAAG,OAAOgF,KAAKgS,MAAM9vB,GAChC,IAAIb,EAAI26B,EAAEnJ,OAAO7X,EAAI,GAAGzZ,OACxB,OAAOF,EAAI,KAAOA,EAAI,IAAK6mB,WAAWhmB,EAAEuiB,QAAQpjB,MAEjD,SAAUa,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,IAAMA,EAAI,GAAK,IAEzB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,IAAMA,EAAI,GAAK,IAEzB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAImjB,OAAOkZ,UAAYlZ,OAAOkZ,UAAY,SAAUx7B,GACtD,OAAO8Y,EAAE9Y,IAAMA,EAAI,GAAK,GAE1BA,EAAEm0J,QAAUh1J,GACX,SAAUa,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,IAAMA,EAAI,IAEpB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,IAAMA,EAAI,GAAK,IAEzB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,IAAMA,EAAI,IAEpB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAI+Y,EAAE9Y,GAAI,CACR,IAAI85B,EAAI95B,EAAE,GACNwC,OAAI,EACRA,EAAIrD,EAAEY,GAAKA,EAAEC,EAAE,IAAMA,EAAE,GAAGD,GAC1B,IAAID,OAAI,EACR,OAAOmd,EAAEjd,GAAG,SAAUA,IACnBF,EAAIX,EAAEY,GAAKA,EAAEC,GAAKA,EAAED,IAAMyC,IAAMs3B,EAAI95B,EAAGwC,EAAI1C,MAC1Cg6B,KAGP,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAI+Y,EAAE9Y,GAAI,CACR,IAAI85B,EAAI95B,EAAE,GACNwC,OAAI,EACRA,EAAIrD,EAAEY,GAAKA,EAAEC,EAAE,IAAMA,EAAE,GAAGD,GAC1B,IAAID,OAAI,EACR,OAAOmd,EAAEjd,GAAG,SAAUA,IACnBF,EAAIX,EAAEY,GAAKA,EAAEC,GAAKA,EAAED,IAAMyC,IAAMs3B,EAAI95B,EAAGwC,EAAI1C,MAC1Cg6B,KAGP,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAQC,EAAID,EAAIA,GAAKA,IAEtB,SAAUC,EAAGD,GACd,IAAI+5B,EAAI,IAAMhc,KAAKK,GAEnBne,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO85B,EAAI95B,IAEZ,SAAUA,EAAGD,GACd,IAAI+5B,EAAIhc,KAAKK,GAAK,IAElBne,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO85B,EAAI95B,IAEZ,SAAUA,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAU,CACVp3I,KAAM+c,EAAE,IACRpc,KAAMoc,EAAE,IACR8hI,KAAM9hI,EAAE,IACRrqB,UAAWqqB,EAAE,MAEd,SAAU95B,EAAGD,EAAG+5B,GACjB96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAEoxD,IAAMpxD,EAAE87J,SAAM,EAAQ97J,EAAEyE,OAAS,WACrC,IAAIxE,EAAI,IAAI8Y,EAAEm9I,WAAW,GACzB,OAAOn9I,EAAEm9I,YAAcG,eAAiBp2J,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,GAAIA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,GAClID,EAAE+7J,SAAW,SAAU97J,EAAGD,GAC3B,OAAOC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,IAAKC,GAC5HD,EAAE0uB,MAAQ,SAAUzuB,GACrB,IAAID,EAAI,IAAI+Y,EAAEm9I,WAAW,GACzB,OAAOl2J,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,GAC3HA,EAAEg8J,KAAO,SAAU/7J,EAAGD,GACvB,OAAOC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,GAC3HD,EAAEi8J,WAAa,SAAUh8J,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,EAAGsf,EAAGH,GAClD,IAAIC,EAAI,IAAIpG,EAAEm9I,WAAW,GACzB,OAAO/2I,EAAE,GAAKlf,EAAGkf,EAAE,GAAKnf,EAAGmf,EAAE,GAAK4a,EAAG5a,EAAE,GAAK/f,EAAG+f,EAAE,GAAKjC,EAAGiC,EAAE,GAAK1c,EAAG0c,EAAE,GAAKpf,EAAGof,EAAE,GAAKE,EAAGF,EAAE,GAAKD,EAAGC,GAChGnf,EAAEkQ,IAAM,SAAUjQ,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,EAAGH,GAC9C,OAAOjf,EAAE,GAAKD,EAAGC,EAAE,GAAK85B,EAAG95B,EAAE,GAAK8Y,EAAG9Y,EAAE,GAAKb,EAAGa,EAAE,GAAKid,EAAGjd,EAAE,GAAKwC,EAAGxC,EAAE,GAAKF,EAAGE,EAAE,GAAKof,EAAGpf,EAAE,GAAKif,EAAGjf,GAChGD,EAAEyxJ,SAAW,SAAUxxJ,GACxB,OAAOA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,GAChGD,EAAEilC,UAAY,SAAUhlC,EAAGD,GAC5B,GAAIC,IAAMD,EAAG,CACX,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACVC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK85B,EAAG95B,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK8Y,EAAG9Y,EAAE,GAAKb,OAC7Da,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAExH,OAAOC,GACND,EAAE4vB,OAAS,SAAU3vB,EAAGD,GACzB,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAInf,EAAE,GACN8P,EAAIqP,EAAI1c,EAAI1C,EAAImf,EAChBksB,GAAKjsB,EAAIjC,EAAInd,EAAIsf,EACjBnf,EAAIgf,EAAIhC,EAAIza,EAAI4c,EAChBZ,EAAIsb,EAAIjqB,EAAIiJ,EAAIqyB,EAAIhsC,EAAIc,EAC5B,OAAOue,GAAKA,EAAI,EAAIA,EAAGxe,EAAE,GAAK6P,EAAI2O,EAAGxe,EAAE,KAAOkf,EAAIpG,EAAI3Z,EAAI8f,GAAKT,EAAGxe,EAAE,IAAMF,EAAIgZ,EAAI3Z,EAAIqD,GAAKgc,EAAGxe,EAAE,GAAKmrC,EAAI3sB,EAAGxe,EAAE,IAAMkf,EAAI4a,EAAI36B,EAAIigB,GAAKZ,EAAGxe,EAAE,KAAOF,EAAIg6B,EAAI36B,EAAI8d,GAAKuB,EAAGxe,EAAE,GAAKC,EAAIue,EAAGxe,EAAE,KAAOif,EAAI6a,EAAIhhB,EAAIsG,GAAKZ,EAAGxe,EAAE,IAAMwC,EAAIs3B,EAAIhhB,EAAImE,GAAKuB,EAAGxe,GAAK,MAChPD,EAAEk8J,QAAU,SAAUj8J,EAAGD,GAC1B,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAInf,EAAE,GACV,OAAOC,EAAE,GAAKwC,EAAI0c,EAAIpf,EAAImf,EAAGjf,EAAE,GAAKb,EAAI8f,EAAInG,EAAIoG,EAAGlf,EAAE,GAAK8Y,EAAIhZ,EAAIX,EAAIqD,EAAGxC,EAAE,GAAKF,EAAIsf,EAAInC,EAAIiC,EAAGlf,EAAE,GAAK85B,EAAI5a,EAAI/f,EAAIigB,EAAGpf,EAAE,GAAKb,EAAI8d,EAAI6c,EAAIh6B,EAAGE,EAAE,GAAKid,EAAIgC,EAAIzc,EAAI4c,EAAGpf,EAAE,GAAK8Y,EAAIsG,EAAI0a,EAAI7a,EAAGjf,EAAE,GAAK85B,EAAIt3B,EAAIsW,EAAImE,EAAGjd,GAC5MD,EAAEm8J,YAAc,SAAUl8J,GAC3B,IAAID,EAAIC,EAAE,GACN85B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACNb,EAAIa,EAAE,GACNid,EAAIjd,EAAE,GACNwC,EAAIxC,EAAE,GACNF,EAAIE,EAAE,GACNof,EAAIpf,EAAE,GACNif,EAAIjf,EAAE,GACV,OAAOD,GAAKkf,EAAIhC,EAAIza,EAAI4c,GAAK0a,IAAM7a,EAAI9f,EAAIqD,EAAI1C,GAAKgZ,GAAKsG,EAAIjgB,EAAI8d,EAAInd,IACpEC,EAAE0sB,SAAWttB,EAAGY,EAAEwuB,UAAY,SAAUvuB,EAAGD,EAAG+5B,GAC/C,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAInf,EAAE,GACN8P,EAAI9P,EAAE,GACNorC,EAAIrR,EAAE,GACN75B,EAAI65B,EAAE,GACV,OAAO95B,EAAE,GAAK8Y,EAAG9Y,EAAE,GAAKb,EAAGa,EAAE,GAAKid,EAAGjd,EAAE,GAAKwC,EAAGxC,EAAE,GAAKF,EAAGE,EAAE,GAAKof,EAAGpf,EAAE,GAAKmrC,EAAIryB,EAAI7Y,EAAIuC,EAAIyc,EAAGjf,EAAE,GAAKmrC,EAAIhsC,EAAIc,EAAIH,EAAIof,EAAGlf,EAAE,GAAKmrC,EAAIluB,EAAIhd,EAAImf,EAAIvP,EAAG7P,GAChJD,EAAE+hB,OAAS,SAAU9hB,EAAGD,EAAG+5B,GAC5B,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAInf,EAAE,GACN8P,EAAI9P,EAAE,GACNorC,EAAIrtB,KAAKkE,IAAI8X,GACb75B,EAAI6d,KAAKiE,IAAI+X,GACjB,OAAO95B,EAAE,GAAKC,EAAI6Y,EAAIqyB,EAAI3oC,EAAGxC,EAAE,GAAKC,EAAId,EAAIgsC,EAAIrrC,EAAGE,EAAE,GAAKC,EAAIgd,EAAIkuB,EAAI/rB,EAAGpf,EAAE,GAAKC,EAAIuC,EAAI2oC,EAAIryB,EAAG9Y,EAAE,GAAKC,EAAIH,EAAIqrC,EAAIhsC,EAAGa,EAAE,GAAKC,EAAImf,EAAI+rB,EAAIluB,EAAGjd,EAAE,GAAKif,EAAGjf,EAAE,GAAKkf,EAAGlf,EAAE,GAAK6P,EAAG7P,GACxKD,EAAEwtB,MAAQ,SAAUvtB,EAAGD,EAAG+5B,GAC3B,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACV,OAAO95B,EAAE,GAAK8Y,EAAI/Y,EAAE,GAAIC,EAAE,GAAK8Y,EAAI/Y,EAAE,GAAIC,EAAE,GAAK8Y,EAAI/Y,EAAE,GAAIC,EAAE,GAAKb,EAAIY,EAAE,GAAIC,EAAE,GAAKb,EAAIY,EAAE,GAAIC,EAAE,GAAKb,EAAIY,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,GACnJD,EAAEu2J,gBAAkB,SAAUt2J,EAAGD,GAClC,OAAOC,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK,EAAGA,GACtGD,EAAEw2J,aAAe,SAAUv2J,EAAGD,GAC/B,IAAI+5B,EAAIhc,KAAKkE,IAAIjiB,GACb+Y,EAAIgF,KAAKiE,IAAIhiB,GACjB,OAAOC,EAAE,GAAK8Y,EAAG9Y,EAAE,GAAK85B,EAAG95B,EAAE,GAAK,EAAGA,EAAE,IAAM85B,EAAG95B,EAAE,GAAK8Y,EAAG9Y,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,GACjGD,EAAEy2J,YAAc,SAAUx2J,EAAGD,GAC9B,OAAOC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,GACtGD,EAAEo8J,UAAY,SAAUn8J,EAAGD,GAC5B,OAAOC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK,EAAGA,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK,EAAGA,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAK,EAAGA,GAClHD,EAAEq8J,SAAW,SAAUp8J,EAAGD,GAC3B,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIs3B,EAAIA,EACRh6B,EAAIgZ,EAAIA,EACRsG,EAAIjgB,EAAIA,EACR8f,EAAI6a,EAAIt3B,EACR0c,EAAIpG,EAAItW,EACRqN,EAAIiJ,EAAIhZ,EACRqrC,EAAIhsC,EAAIqD,EACRvC,EAAId,EAAIW,EACR0e,EAAIrf,EAAIigB,EACRlC,EAAID,EAAIza,EACRiM,EAAIwO,EAAInd,EACRy7B,EAAIte,EAAImC,EACZ,OAAOpf,EAAE,GAAK,EAAI6P,EAAI2O,EAAGxe,EAAE,GAAKkf,EAAIqc,EAAGv7B,EAAE,GAAKmrC,EAAI18B,EAAGzO,EAAE,GAAKkf,EAAIqc,EAAGv7B,EAAE,GAAK,EAAIif,EAAIT,EAAGxe,EAAE,GAAKC,EAAIid,EAAGld,EAAE,GAAKmrC,EAAI18B,EAAGzO,EAAE,GAAKC,EAAIid,EAAGld,EAAE,GAAK,EAAIif,EAAIpP,EAAG7P,GAChJD,EAAEs8J,eAAiB,SAAUr8J,EAAGD,GACjC,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAInf,EAAE,GACN8P,EAAI9P,EAAE,GACNorC,EAAIprC,EAAE,IACNE,EAAIF,EAAE,IACNye,EAAIze,EAAE,IACNmd,EAAInd,EAAE,IACN0O,EAAI1O,EAAE,IACNw7B,EAAIx7B,EAAE,IACNyO,EAAIsrB,EAAIh6B,EAAIgZ,EAAItW,EAChBgb,EAAIsc,EAAI1a,EAAIjgB,EAAIqD,EAChBgd,EAAIsa,EAAI7a,EAAIhC,EAAIza,EAChB0vB,EAAIpZ,EAAIsG,EAAIjgB,EAAIW,EAChB46B,EAAI5hB,EAAImG,EAAIhC,EAAInd,EAChBg6H,EAAI36H,EAAI8f,EAAIhC,EAAImC,EAChB+zI,EAAIj0I,EAAIhC,EAAIrN,EAAI2O,EAChB8U,EAAIpU,EAAIzQ,EAAI08B,EAAI3sB,EAChB0U,EAAIhU,EAAIqc,EAAIt7B,EAAIue,EAChB5M,EAAI/B,EAAIpB,EAAI08B,EAAIjuB,EAChBw5I,EAAI7mJ,EAAI0rB,EAAIt7B,EAAIid,EAChB8H,EAAImmB,EAAI5P,EAAIt7B,EAAIwO,EAChBkoJ,EAAInoJ,EAAIwW,EAAIxH,EAAIk5I,EAAIl3I,EAAI5N,EAAIsgB,EAAIgB,EAAIwH,EAAIpH,EAAIwmG,EAAIq5B,EAEpD,OAAOwD,GAAKA,EAAI,EAAIA,EAAG32J,EAAE,IAAMF,EAAIklB,EAAI5F,EAAIs3I,EAAIz3I,EAAIrN,GAAK+kJ,EAAG32J,EAAE,IAAMof,EAAI8T,EAAI1wB,EAAIwiB,EAAI/F,EAAIqU,GAAKqjI,EAAG32J,EAAE,IAAMwC,EAAIk0J,EAAI52J,EAAIozB,EAAIjU,EAAIk0I,GAAKwD,EAAG32J,EAAE,IAAMb,EAAIu3J,EAAI59I,EAAIkM,EAAI/H,EAAIrL,GAAK+kJ,EAAG32J,EAAE,IAAM85B,EAAI9U,EAAI7lB,EAAI+zB,EAAIjW,EAAIqW,GAAKqjI,EAAG32J,EAAE,IAAM8Y,EAAIoa,EAAI4G,EAAI48H,EAAIz5I,EAAIk2I,GAAKwD,EAAG32J,EAAE,IAAMkd,EAAI48G,EAAIrrH,EAAIisB,EAAIa,EAAIrJ,GAAKykI,EAAG32J,EAAE,IAAMyO,EAAI+Q,EAAIhB,EAAIs7G,EAAIv+F,EAAI/d,GAAKm5I,EAAG32J,EAAE,IAAMwe,EAAIkc,EAAIxd,EAAIsC,EAAI+b,EAAI/sB,GAAKmoJ,EAAG32J,GAAK,MAC/VD,EAAEu8J,WAAa,SAAUt8J,EAAGD,EAAG+5B,GAChC,OAAO95B,EAAE,GAAK,EAAID,EAAGC,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,IAAM,EAAI85B,EAAG95B,EAAE,GAAK,EAAGA,EAAE,IAAM,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,GAC1GD,EAAEw1B,IAAM,SAAUv1B,GACnB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KACvID,EAAEw8J,KAAO,SAAUv8J,GACpB,OAAO8d,KAAKmE,KAAKnE,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,GAAK8d,KAAKyZ,IAAIv3B,EAAE,GAAI,KAC/LD,EAAEyP,IAAM,SAAUxP,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,GAC1LD,EAAE0lC,SAAWxoB,EAAGld,EAAEy8J,eAAiB,SAAUx8J,EAAGD,EAAG+5B,GACpD,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,GAC/JD,EAAE08J,qBAAuB,SAAUz8J,EAAGD,EAAG+5B,EAAGhhB,GAC7C,OAAO9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,GAC9ND,EAAE28J,YAAc,SAAU18J,EAAGD,GAC9B,OAAOC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IACzJA,EAAEo2J,OAAS,SAAUn2J,EAAGD,GACzB,IAAI+5B,EAAI95B,EAAE,GACNb,EAAIa,EAAE,GACNid,EAAIjd,EAAE,GACNwC,EAAIxC,EAAE,GACNF,EAAIE,EAAE,GACNof,EAAIpf,EAAE,GACNif,EAAIjf,EAAE,GACNkf,EAAIlf,EAAE,GACN6P,EAAI7P,EAAE,GACNmrC,EAAIprC,EAAE,GACNE,EAAIF,EAAE,GACNye,EAAIze,EAAE,GACNmd,EAAInd,EAAE,GACN0O,EAAI1O,EAAE,GACNw7B,EAAIx7B,EAAE,GACNyO,EAAIzO,EAAE,GACNyd,EAAIzd,EAAE,GACNyf,EAAIzf,EAAE,GACV,OAAO+d,KAAKsE,IAAI0X,EAAIqR,IAAMryB,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAI0X,GAAIhc,KAAKsE,IAAI+oB,KAAOrtB,KAAKsE,IAAIjjB,EAAIc,IAAM6Y,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAIjjB,GAAI2e,KAAKsE,IAAIniB,KAAO6d,KAAKsE,IAAInF,EAAIuB,IAAM1F,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAInF,GAAIa,KAAKsE,IAAI5D,KAAOV,KAAKsE,IAAI5f,EAAI0a,IAAMpE,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAI5f,GAAIsb,KAAKsE,IAAIlF,KAAOY,KAAKsE,IAAItiB,EAAI2O,IAAMqK,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAItiB,GAAIge,KAAKsE,IAAI3T,KAAOqP,KAAKsE,IAAIhD,EAAImc,IAAMziB,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAIhD,GAAItB,KAAKsE,IAAImZ,KAAOzd,KAAKsE,IAAInD,EAAIzQ,IAAMsK,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAInD,GAAInB,KAAKsE,IAAI5T,KAAOsP,KAAKsE,IAAIlD,EAAI1B,IAAM1E,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAIlD,GAAIpB,KAAKsE,IAAI5E,KAAOM,KAAKsE,IAAIvS,EAAI2P,IAAM1G,EAAE2gB,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAIvS,GAAIiO,KAAKsE,IAAI5C,KAG1oB,IAAI1G,EAAI,SAAU9Y,GAChB,GAAIA,GAAKA,EAAEw1J,WAAY,OAAOx1J,EAC9B,IAAID,EAAI,GACR,GAAI,MAAQC,EAAG,IAAK,IAAI85B,KAAK95B,EAC3BhB,OAAOQ,UAAUC,eAAeC,KAAKM,EAAG85B,KAAO/5B,EAAE+5B,GAAK95B,EAAE85B,IAE1D,OAAO/5B,EAAEga,QAAU/Z,EAAGD,EANhB,CAON+5B,EAAE,KAEJ,SAAS36B,EAAEa,EAAGD,EAAG+5B,GACf,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAInf,EAAE,GACN8P,EAAI9P,EAAE,GACNorC,EAAIrR,EAAE,GACN75B,EAAI65B,EAAE,GACNtb,EAAIsb,EAAE,GACN5c,EAAI4c,EAAE,GACNrrB,EAAIqrB,EAAE,GACNyB,EAAIzB,EAAE,GACNtrB,EAAIsrB,EAAE,GACNtc,EAAIsc,EAAE,GACNta,EAAIsa,EAAE,GACV,OAAO95B,EAAE,GAAKmrC,EAAIryB,EAAI7Y,EAAIuC,EAAIgc,EAAIS,EAAGjf,EAAE,GAAKmrC,EAAIhsC,EAAIc,EAAIH,EAAI0e,EAAIU,EAAGlf,EAAE,GAAKmrC,EAAIluB,EAAIhd,EAAImf,EAAIZ,EAAI3O,EAAG7P,EAAE,GAAKkd,EAAIpE,EAAIrK,EAAIjM,EAAI+4B,EAAItc,EAAGjf,EAAE,GAAKkd,EAAI/d,EAAIsP,EAAI3O,EAAIy7B,EAAIrc,EAAGlf,EAAE,GAAKkd,EAAID,EAAIxO,EAAI2Q,EAAImc,EAAI1rB,EAAG7P,EAAE,GAAKwO,EAAIsK,EAAI0E,EAAIhb,EAAIgd,EAAIP,EAAGjf,EAAE,GAAKwO,EAAIrP,EAAIqe,EAAI1d,EAAI0f,EAAIN,EAAGlf,EAAE,GAAKwO,EAAIyO,EAAIO,EAAI4B,EAAII,EAAI3P,EAAG7P,EAGvR,SAASid,EAAEjd,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAG7LD,EAAE87J,IAAM18J,EAAGY,EAAEoxD,IAAMl0C,GAClB,SAAUjd,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,IACVhhB,EAAEmF,MAAQ,SAAUje,EAAGD,GACrB,IAAI+5B,EAAIhhB,EAAE2B,IAAIza,EAAGD,IAAM+Y,EAAEzZ,OAAOW,GAAK8Y,EAAEzZ,OAAOU,IAC9C,OAAO+d,KAAKC,KAAK5e,EAAE26B,GAAI,EAAG,KACzBhhB,EAAEa,UAAY,SAAU3Z,EAAGD,GAC5B,OAAOC,EAAE,GAAKD,EAAE,GAAKA,EAAE,GAAKC,EAAE,IAC7B8Y,EAAE4sB,QAAU,SAAU1lC,EAAGD,EAAG+5B,GAC7B,IAAI36B,EAAI2Z,EAAEmF,MAAMje,EAAGD,GACfkd,EAAInE,EAAEa,UAAU3Z,EAAGD,IAAM,EAC7B,OAAO+5B,EAAI7c,EAAI,EAAIa,KAAKK,GAAKhf,EAAIA,EAAI8d,EAAI9d,EAAI,EAAI2e,KAAKK,GAAKhf,GAC1D2Z,EAAEihC,SAAW,SAAU/5C,EAAGD,EAAG+5B,GAC9B,OAAOA,GAAK95B,EAAE,GAAKD,EAAE,GAAIC,EAAE,IAAM,EAAID,EAAE,KAAOC,EAAE,IAAM,EAAID,EAAE,GAAIC,EAAE,GAAKD,EAAE,IAAKC,GAC7EA,EAAEm0J,QAAUr7I,GACd,SAAU9Y,EAAGD,EAAG+5B,GACjB96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE+H,QAAU/H,EAAE48J,OAAS58J,EAAE68J,QAAU78J,EAAEokD,KAAOpkD,EAAE88J,IAAM98J,EAAE87J,IAAM97J,EAAEoxD,IAAMpxD,EAAE0d,SAAM,EAAQ1d,EAAEyE,OAASyY,EAAGld,EAAE0uB,MAAQ,SAAUzuB,GACxH,IAAID,EAAI,IAAIZ,EAAE82J,WAAW,GACzB,OAAOl2J,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,GAChCA,EAAEi8J,WAAa,SAAUh8J,EAAGD,GAC7B,IAAI+5B,EAAI,IAAI36B,EAAE82J,WAAW,GACzB,OAAOn8H,EAAE,GAAK95B,EAAG85B,EAAE,GAAK/5B,EAAG+5B,GAC1B/5B,EAAEg8J,KAAO,SAAU/7J,EAAGD,GACvB,OAAOC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,GAChCD,EAAEkQ,IAAM,SAAUjQ,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAKD,EAAGC,EAAE,GAAK85B,EAAG95B,GAC1BD,EAAEyP,IAAM,SAAUxP,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,GAC9CD,EAAE0lC,SAAWjjC,EAAGzC,EAAE0sB,SAAW3sB,EAAGC,EAAE+8J,OAAS19I,EAAGrf,EAAEk7B,KAAO,SAAUj7B,EAAGD,GACrE,OAAOC,EAAE,GAAK8d,KAAKmd,KAAKl7B,EAAE,IAAKC,EAAE,GAAK8d,KAAKmd,KAAKl7B,EAAE,IAAKC,GACtDD,EAAE0zB,MAAQ,SAAUzzB,EAAGD,GACxB,OAAOC,EAAE,GAAK8d,KAAK2V,MAAM1zB,EAAE,IAAKC,EAAE,GAAK8d,KAAK2V,MAAM1zB,EAAE,IAAKC,GACxDD,EAAEsvB,IAAM,SAAUrvB,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAK8d,KAAKuR,IAAItvB,EAAE,GAAI+5B,EAAE,IAAK95B,EAAE,GAAK8d,KAAKuR,IAAItvB,EAAE,GAAI+5B,EAAE,IAAK95B,GAChED,EAAEwlB,IAAM,SAAUvlB,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAK8d,KAAKyH,IAAIxlB,EAAE,GAAI+5B,EAAE,IAAK95B,EAAE,GAAK8d,KAAKyH,IAAIxlB,EAAE,GAAI+5B,EAAE,IAAK95B,GAChED,EAAE+vB,MAAQ,SAAU9vB,EAAGD,GACxB,OAAOC,EAAE,GAAK8d,KAAKgS,MAAM/vB,EAAE,IAAKC,EAAE,GAAK8d,KAAKgS,MAAM/vB,EAAE,IAAKC,GACxDD,EAAEwtB,MAAQ,SAAUvtB,EAAGD,EAAG+5B,GAC3B,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,GACxCD,EAAEg9J,YAAc,SAAU/8J,EAAGD,EAAG+5B,EAAGhhB,GACpC,OAAO9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,GACtDD,EAAEsxD,SAAWpyC,EAAGlf,EAAEi9J,gBAAkB99I,EAAGnf,EAAEV,OAASwQ,EAAG9P,EAAEk9J,cAAgB9xH,EAAGprC,EAAEm9J,OAAS,SAAUl9J,EAAGD,GACnG,OAAOC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,GAAIC,GAClCD,EAAE2xF,QAAU,SAAU1xF,EAAGD,GAC1B,OAAOC,EAAE,GAAK,EAAID,EAAE,GAAIC,EAAE,GAAK,EAAID,EAAE,GAAIC,GACxCD,EAAE85C,UAAY,SAAU75C,EAAGD,GAC5B,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAI26B,EAAIA,EAAIhhB,EAAIA,EACpB,OAAO3Z,EAAI,IAAMA,EAAI,EAAI2e,KAAKmE,KAAK9iB,GAAIa,EAAE,GAAKD,EAAE,GAAKZ,EAAGa,EAAE,GAAKD,EAAE,GAAKZ,GAAIa,GACzED,EAAE0a,IAAM,SAAUza,EAAGD,GACtB,OAAOC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,IAC7BA,EAAE6b,MAAQ,SAAU5b,EAAGD,EAAG+5B,GAC3B,IAAIhhB,EAAI/Y,EAAE,GAAK+5B,EAAE,GAAK/5B,EAAE,GAAK+5B,EAAE,GAC/B,OAAO95B,EAAE,GAAKA,EAAE,GAAK,EAAGA,EAAE,GAAK8Y,EAAG9Y,GACjCD,EAAEu/H,KAAO,SAAUt/H,EAAGD,EAAG+5B,EAAGhhB,GAC7B,IAAI3Z,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACV,OAAOC,EAAE,GAAKb,EAAI2Z,GAAKghB,EAAE,GAAK36B,GAAIa,EAAE,GAAKid,EAAInE,GAAKghB,EAAE,GAAK7c,GAAIjd,GAC5DD,EAAEqiC,OAAS,SAAUpiC,EAAGD,GACzBA,EAAIA,GAAK,EACT,IAAI+5B,EAAI,EAAI36B,EAAEk3J,SAAWv4I,KAAKK,GAC9B,OAAOne,EAAE,GAAK8d,KAAKiE,IAAI+X,GAAK/5B,EAAGC,EAAE,GAAK8d,KAAKkE,IAAI8X,GAAK/5B,EAAGC,GACtDD,EAAEo9J,cAAgB,SAAUn9J,EAAGD,EAAG+5B,GACnC,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACV,OAAOC,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAGa,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAGa,GAC9DD,EAAEq9J,eAAiB,SAAUp9J,EAAGD,EAAG+5B,GACpC,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACV,OAAOC,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAI95B,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAI95B,GAC5ED,EAAE0kC,cAAgB,SAAUzkC,EAAGD,EAAG+5B,GACnC,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACV,OAAOC,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAI95B,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAI95B,GAC5ED,EAAEs9J,cAAgB,SAAUr9J,EAAGD,EAAG+5B,GACnC,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACV,OAAOC,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,IAAK95B,EAAE,GAAK85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,IAAK95B,GAC9ED,EAAE+hB,OAAS,SAAU9hB,EAAGD,EAAG+5B,EAAGhhB,GAC/B,IAAI3Z,EAAIY,EAAE,GAAK+5B,EAAE,GACb7c,EAAIld,EAAE,GAAK+5B,EAAE,GACbt3B,EAAIsb,KAAKkE,IAAIlJ,GACbhZ,EAAIge,KAAKiE,IAAIjJ,GACjB,OAAO9Y,EAAE,GAAKb,EAAIW,EAAImd,EAAIza,EAAIs3B,EAAE,GAAI95B,EAAE,GAAKb,EAAIqD,EAAIya,EAAInd,EAAIg6B,EAAE,GAAI95B,GAChED,EAAEke,MAAQ,SAAUje,EAAGD,GACxB,IAAI+5B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACNb,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIs3B,EAAIA,EAAIhhB,EAAIA,EACpBtW,EAAI,IAAMA,EAAI,EAAIsb,KAAKmE,KAAKzf,IAC5B,IAAI1C,EAAIX,EAAIA,EAAI8d,EAAIA,EACpBnd,EAAI,IAAMA,EAAI,EAAIge,KAAKmE,KAAKniB,IAC5B,IAAIsf,GAAK0a,EAAI36B,EAAI2Z,EAAImE,GAAKza,EAAI1C,EAC9B,OAAOsf,EAAI,EAAI,EAAIA,GAAK,EAAItB,KAAKK,GAAKL,KAAKC,KAAKqB,IAC/Crf,EAAEw1B,IAAM,SAAUv1B,GACnB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KACrCD,EAAE28J,YAAc,SAAU18J,EAAGD,GAC9B,OAAOC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAClCA,EAAEo2J,OAAS,SAAUn2J,EAAGD,GACzB,IAAI+5B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACNid,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACV,OAAO+d,KAAKsE,IAAI0X,EAAI7c,IAAM9d,EAAEs6B,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAI0X,GAAIhc,KAAKsE,IAAInF,KAAOa,KAAKsE,IAAItJ,EAAItW,IAAMrD,EAAEs6B,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAItJ,GAAIgF,KAAKsE,IAAI5f,KAGlJ,IAAIsW,EACA3Z,EAAI,SAAUa,GAChB,GAAIA,GAAKA,EAAEw1J,WAAY,OAAOx1J,EAC9B,IAAID,EAAI,GACR,GAAI,MAAQC,EAAG,IAAK,IAAI85B,KAAK95B,EAC3BhB,OAAOQ,UAAUC,eAAeC,KAAKM,EAAG85B,KAAO/5B,EAAE+5B,GAAK95B,EAAE85B,IAE1D,OAAO/5B,EAAEga,QAAU/Z,EAAGD,EANhB,CAON+5B,EAAE,KAEJ,SAAS7c,IACP,IAAIjd,EAAI,IAAIb,EAAE82J,WAAW,GACzB,OAAO92J,EAAE82J,YAAcG,eAAiBp2J,EAAE,GAAK,EAAGA,EAAE,GAAK,GAAIA,EAG/D,SAASwC,EAAExC,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAGjD,SAASF,EAAEE,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAGjD,SAASof,EAAEpf,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAGjD,SAASif,EAAEjf,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAE,GAAKC,EAAE,GACb8Y,EAAI/Y,EAAE,GAAKC,EAAE,GACjB,OAAO8d,KAAKmE,KAAK6X,EAAIA,EAAIhhB,EAAIA,GAG/B,SAASoG,EAAElf,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAE,GAAKC,EAAE,GACb8Y,EAAI/Y,EAAE,GAAKC,EAAE,GACjB,OAAO85B,EAAIA,EAAIhhB,EAAIA,EAGrB,SAASjJ,EAAE7P,GACT,IAAID,EAAIC,EAAE,GACN85B,EAAI95B,EAAE,GACV,OAAO8d,KAAKmE,KAAKliB,EAAIA,EAAI+5B,EAAIA,GAG/B,SAASqR,EAAEnrC,GACT,IAAID,EAAIC,EAAE,GACN85B,EAAI95B,EAAE,GACV,OAAOD,EAAIA,EAAI+5B,EAAIA,EAGrB/5B,EAAE0d,IAAM5N,EAAG9P,EAAEoxD,IAAM3uD,EAAGzC,EAAE87J,IAAM/7J,EAAGC,EAAE88J,IAAMz9I,EAAGrf,EAAEokD,KAAOllC,EAAGlf,EAAE68J,QAAU19I,EAAGnf,EAAE48J,OAASxxH,EAAGprC,EAAE+H,SAAWgR,EAAImE,IAAK,SAAUjd,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,GAClI,IACI4c,EADAtf,OAAI,EAGR,IAAKC,IAAMA,EAAI,GAAI+5B,IAAMA,EAAI,GAAI1a,EAAIjgB,EAAI2e,KAAKuR,IAAIlwB,EAAIY,EAAI+5B,EAAG95B,EAAEX,QAAUW,EAAEX,OAAQS,EAAIg6B,EAAGh6B,EAAIsf,EAAGtf,GAAKC,EACpG+Y,EAAE,GAAK9Y,EAAEF,GAAIgZ,EAAE,GAAK9Y,EAAEF,EAAI,GAAImd,EAAEnE,EAAGA,EAAGtW,GAAIxC,EAAEF,GAAKgZ,EAAE,GAAI9Y,EAAEF,EAAI,GAAKgZ,EAAE,GAGtE,OAAO9Y,KAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACV95B,EAAEm0J,QAAUr7I,GACX,SAAU9Y,EAAGD,EAAG+5B,GACjB96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE+H,QAAU/H,EAAE48J,OAAS58J,EAAE0d,IAAM1d,EAAE68J,QAAU78J,EAAEokD,KAAOpkD,EAAE88J,IAAM98J,EAAE87J,IAAM97J,EAAEoxD,SAAM,EAAQpxD,EAAEyE,OAASyY,EAAGld,EAAE0uB,MAAQ,SAAUzuB,GACxH,IAAID,EAAI,IAAIZ,EAAE82J,WAAW,GACzB,OAAOl2J,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAID,GAC7CA,EAAEV,OAASmD,EAAGzC,EAAEi8J,WAAal8J,EAAGC,EAAEg8J,KAAO,SAAU/7J,EAAGD,GACvD,OAAOC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAIC,GAC7CD,EAAEkQ,IAAM,SAAUjQ,EAAGD,EAAG+5B,EAAGhhB,GAC5B,OAAO9Y,EAAE,GAAKD,EAAGC,EAAE,GAAK85B,EAAG95B,EAAE,GAAK8Y,EAAG9Y,GACpCD,EAAEyP,IAAM,SAAUxP,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,GAClED,EAAE0lC,SAAWrmB,EAAGrf,EAAE0sB,SAAWxN,EAAGlf,EAAE+8J,OAAS59I,EAAGnf,EAAEk7B,KAAO,SAAUj7B,EAAGD,GACrE,OAAOC,EAAE,GAAK8d,KAAKmd,KAAKl7B,EAAE,IAAKC,EAAE,GAAK8d,KAAKmd,KAAKl7B,EAAE,IAAKC,EAAE,GAAK8d,KAAKmd,KAAKl7B,EAAE,IAAKC,GAC9ED,EAAE0zB,MAAQ,SAAUzzB,EAAGD,GACxB,OAAOC,EAAE,GAAK8d,KAAK2V,MAAM1zB,EAAE,IAAKC,EAAE,GAAK8d,KAAK2V,MAAM1zB,EAAE,IAAKC,EAAE,GAAK8d,KAAK2V,MAAM1zB,EAAE,IAAKC,GACjFD,EAAEsvB,IAAM,SAAUrvB,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAK8d,KAAKuR,IAAItvB,EAAE,GAAI+5B,EAAE,IAAK95B,EAAE,GAAK8d,KAAKuR,IAAItvB,EAAE,GAAI+5B,EAAE,IAAK95B,EAAE,GAAK8d,KAAKuR,IAAItvB,EAAE,GAAI+5B,EAAE,IAAK95B,GAC7FD,EAAEwlB,IAAM,SAAUvlB,EAAGD,EAAG+5B,GACzB,OAAO95B,EAAE,GAAK8d,KAAKyH,IAAIxlB,EAAE,GAAI+5B,EAAE,IAAK95B,EAAE,GAAK8d,KAAKyH,IAAIxlB,EAAE,GAAI+5B,EAAE,IAAK95B,EAAE,GAAK8d,KAAKyH,IAAIxlB,EAAE,GAAI+5B,EAAE,IAAK95B,GAC7FD,EAAE+vB,MAAQ,SAAU9vB,EAAGD,GACxB,OAAOC,EAAE,GAAK8d,KAAKgS,MAAM/vB,EAAE,IAAKC,EAAE,GAAK8d,KAAKgS,MAAM/vB,EAAE,IAAKC,EAAE,GAAK8d,KAAKgS,MAAM/vB,EAAE,IAAKC,GACjFD,EAAEwtB,MAAQ,SAAUvtB,EAAGD,EAAG+5B,GAC3B,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAG95B,GACzDD,EAAEg9J,YAAc,SAAU/8J,EAAGD,EAAG+5B,EAAGhhB,GACpC,OAAO9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAKhhB,EAAG9Y,GAC9ED,EAAEsxD,SAAWxhD,EAAG9P,EAAEi9J,gBAAkB7xH,EAAGprC,EAAEk9J,cAAgBh9J,EAAGF,EAAEm9J,OAAS,SAAUl9J,EAAGD,GACrF,OAAOC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,GAAIC,GAChDD,EAAE2xF,QAAU,SAAU1xF,EAAGD,GAC1B,OAAOC,EAAE,GAAK,EAAID,EAAE,GAAIC,EAAE,GAAK,EAAID,EAAE,GAAIC,EAAE,GAAK,EAAID,EAAE,GAAIC,GACzDD,EAAE85C,UAAYr7B,EAAGze,EAAE0a,IAAMyC,EAAGnd,EAAE6b,MAAQ,SAAU5b,EAAGD,EAAG+5B,GACvD,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI0a,EAAE,GACV,OAAO95B,EAAE,GAAKb,EAAIigB,EAAInC,EAAInd,EAAGE,EAAE,GAAKid,EAAIza,EAAIsW,EAAIsG,EAAGpf,EAAE,GAAK8Y,EAAIhZ,EAAIX,EAAIqD,EAAGxC,GACxED,EAAEu/H,KAAO,SAAUt/H,EAAGD,EAAG+5B,EAAGhhB,GAC7B,IAAI3Z,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIzC,EAAE,GACV,OAAOC,EAAE,GAAKb,EAAI2Z,GAAKghB,EAAE,GAAK36B,GAAIa,EAAE,GAAKid,EAAInE,GAAKghB,EAAE,GAAK7c,GAAIjd,EAAE,GAAKwC,EAAIsW,GAAKghB,EAAE,GAAKt3B,GAAIxC,GACvFD,EAAEu9J,QAAU,SAAUt9J,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GACtC,IAAIza,EAAIya,EAAIA,EACRnd,EAAI0C,GAAK,EAAIya,EAAI,GAAK,EACtBmC,EAAI5c,GAAKya,EAAI,GAAKA,EAClBgC,EAAIzc,GAAKya,EAAI,GACbiC,EAAI1c,GAAK,EAAI,EAAIya,GACrB,OAAOjd,EAAE,GAAKD,EAAE,GAAKD,EAAIg6B,EAAE,GAAK1a,EAAItG,EAAE,GAAKmG,EAAI9f,EAAE,GAAK+f,EAAGlf,EAAE,GAAKD,EAAE,GAAKD,EAAIg6B,EAAE,GAAK1a,EAAItG,EAAE,GAAKmG,EAAI9f,EAAE,GAAK+f,EAAGlf,EAAE,GAAKD,EAAE,GAAKD,EAAIg6B,EAAE,GAAK1a,EAAItG,EAAE,GAAKmG,EAAI9f,EAAE,GAAK+f,EAAGlf,GAC5JD,EAAEw9J,OAAS,SAAUv9J,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GACrC,IAAIza,EAAI,EAAIya,EACRnd,EAAI0C,EAAIA,EACR4c,EAAInC,EAAIA,EACRgC,EAAInf,EAAI0C,EACR0c,EAAI,EAAIjC,EAAInd,EACZ+P,EAAI,EAAIuP,EAAI5c,EACZ2oC,EAAI/rB,EAAInC,EACZ,OAAOjd,EAAE,GAAKD,EAAE,GAAKkf,EAAI6a,EAAE,GAAK5a,EAAIpG,EAAE,GAAKjJ,EAAI1Q,EAAE,GAAKgsC,EAAGnrC,EAAE,GAAKD,EAAE,GAAKkf,EAAI6a,EAAE,GAAK5a,EAAIpG,EAAE,GAAKjJ,EAAI1Q,EAAE,GAAKgsC,EAAGnrC,EAAE,GAAKD,EAAE,GAAKkf,EAAI6a,EAAE,GAAK5a,EAAIpG,EAAE,GAAKjJ,EAAI1Q,EAAE,GAAKgsC,EAAGnrC,GAC5JD,EAAEqiC,OAAS,SAAUpiC,EAAGD,GACzBA,EAAIA,GAAK,EACT,IAAI+5B,EAAI,EAAI36B,EAAEk3J,SAAWv4I,KAAKK,GAC1BrF,EAAI,EAAI3Z,EAAEk3J,SAAW,EACrBp5I,EAAIa,KAAKmE,KAAK,EAAInJ,EAAIA,GAAK/Y,EAC/B,OAAOC,EAAE,GAAK8d,KAAKiE,IAAI+X,GAAK7c,EAAGjd,EAAE,GAAK8d,KAAKkE,IAAI8X,GAAK7c,EAAGjd,EAAE,GAAK8Y,EAAI/Y,EAAGC,GACpED,EAAEs9J,cAAgB,SAAUr9J,EAAGD,EAAG+5B,GACnC,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACNyC,EAAIs3B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,IAAM7c,EAAI6c,EAAE,IAC5C,OAAOt3B,EAAIA,GAAK,EAAGxC,EAAE,IAAM85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAK7c,EAAI6c,EAAE,KAAOt3B,EAAGxC,EAAE,IAAM85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAK7c,EAAI6c,EAAE,KAAOt3B,EAAGxC,EAAE,IAAM85B,EAAE,GAAKhhB,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,IAAM7c,EAAI6c,EAAE,KAAOt3B,EAAGxC,GAClLD,EAAE0kC,cAAgB,SAAUzkC,EAAGD,EAAG+5B,GACnC,IAAIhhB,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAIld,EAAE,GACV,OAAOC,EAAE,GAAK8Y,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAK7c,EAAI6c,EAAE,GAAI95B,EAAE,GAAK8Y,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAK7c,EAAI6c,EAAE,GAAI95B,EAAE,GAAK8Y,EAAIghB,EAAE,GAAK36B,EAAI26B,EAAE,GAAK7c,EAAI6c,EAAE,GAAI95B,GAC3HD,EAAEy9J,cAAgB,SAAUx9J,EAAGD,EAAG+5B,GACnC,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAI/f,EAAI8f,EAAIhC,EAAImC,EAChBvP,EAAIoN,EAAInd,EAAIgZ,EAAImG,EAChBksB,EAAIryB,EAAIsG,EAAIjgB,EAAIW,EAChBG,EAAId,EAAIgsC,EAAIluB,EAAIpN,EAChB2O,EAAIvB,EAAIiC,EAAIpG,EAAIqyB,EAChBjuB,EAAIpE,EAAIjJ,EAAI1Q,EAAI+f,EAChBzQ,EAAI,EAAIjM,EACZ,OAAO0c,GAAKzQ,EAAGoB,GAAKpB,EAAG08B,GAAK18B,EAAGxO,GAAK,EAAGue,GAAK,EAAGtB,GAAK,EAAGld,EAAE,GAAKF,EAAIof,EAAIjf,EAAGD,EAAE,GAAKof,EAAIvP,EAAI2O,EAAGxe,EAAE,GAAKif,EAAIksB,EAAIjuB,EAAGld,GAC5GD,EAAE09J,QAAU,SAAUz9J,EAAGD,EAAG+5B,EAAGhhB,GAChC,IAAI3Z,EAAI,GACJ8d,EAAI,GACR,OAAO9d,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI36B,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI36B,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI7c,EAAE,GAAK9d,EAAE,GAAI8d,EAAE,GAAK9d,EAAE,GAAK2e,KAAKiE,IAAIjJ,GAAK3Z,EAAE,GAAK2e,KAAKkE,IAAIlJ,GAAImE,EAAE,GAAK9d,EAAE,GAAK2e,KAAKkE,IAAIlJ,GAAK3Z,EAAE,GAAK2e,KAAKiE,IAAIjJ,GAAI9Y,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,GAC3OD,EAAE29J,QAAU,SAAU19J,EAAGD,EAAG+5B,EAAGhhB,GAChC,IAAI3Z,EAAI,GACJ8d,EAAI,GACR,OAAO9d,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI36B,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI36B,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI7c,EAAE,GAAK9d,EAAE,GAAK2e,KAAKkE,IAAIlJ,GAAK3Z,EAAE,GAAK2e,KAAKiE,IAAIjJ,GAAImE,EAAE,GAAK9d,EAAE,GAAI8d,EAAE,GAAK9d,EAAE,GAAK2e,KAAKiE,IAAIjJ,GAAK3Z,EAAE,GAAK2e,KAAKkE,IAAIlJ,GAAI9Y,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,GAC3OD,EAAE49J,QAAU,SAAU39J,EAAGD,EAAG+5B,EAAGhhB,GAChC,IAAI3Z,EAAI,GACJ8d,EAAI,GACR,OAAO9d,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI36B,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI36B,EAAE,GAAKY,EAAE,GAAK+5B,EAAE,GAAI7c,EAAE,GAAK9d,EAAE,GAAK2e,KAAKiE,IAAIjJ,GAAK3Z,EAAE,GAAK2e,KAAKkE,IAAIlJ,GAAImE,EAAE,GAAK9d,EAAE,GAAK2e,KAAKkE,IAAIlJ,GAAK3Z,EAAE,GAAK2e,KAAKiE,IAAIjJ,GAAImE,EAAE,GAAK9d,EAAE,GAAIa,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,EAAE,GAAKid,EAAE,GAAK6c,EAAE,GAAI95B,GAC3OD,EAAEke,MAAQ,SAAUje,EAAGD,GACxB,IAAI+5B,EAAIh6B,EAAEE,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACpB8Y,EAAIhZ,EAAEC,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACxBye,EAAEsb,EAAGA,GAAItb,EAAE1F,EAAGA,GACd,IAAI3Z,EAAI+d,EAAE4c,EAAGhhB,GACb,OAAO3Z,EAAI,EAAI,EAAIA,GAAK,EAAI2e,KAAKK,GAAKL,KAAKC,KAAK5e,IAC/CY,EAAEw1B,IAAM,SAAUv1B,GACnB,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KACnDD,EAAE28J,YAAc,SAAU18J,EAAGD,GAC9B,OAAOC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IAAMC,EAAE,KAAOD,EAAE,IACnDA,EAAEo2J,OAAS,SAAUn2J,EAAGD,GACzB,IAAI+5B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACNid,EAAIjd,EAAE,GACNwC,EAAIzC,EAAE,GACND,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACV,OAAO+d,KAAKsE,IAAI0X,EAAIt3B,IAAMrD,EAAEs6B,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAI0X,GAAIhc,KAAKsE,IAAI5f,KAAOsb,KAAKsE,IAAItJ,EAAIhZ,IAAMX,EAAEs6B,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAItJ,GAAIgF,KAAKsE,IAAItiB,KAAOge,KAAKsE,IAAInF,EAAImC,IAAMjgB,EAAEs6B,QAAU3b,KAAKyH,IAAI,EAAGzH,KAAKsE,IAAInF,GAAIa,KAAKsE,IAAIhD,KAG1N,IAAItG,EACA3Z,EAAI,SAAUa,GAChB,GAAIA,GAAKA,EAAEw1J,WAAY,OAAOx1J,EAC9B,IAAID,EAAI,GACR,GAAI,MAAQC,EAAG,IAAK,IAAI85B,KAAK95B,EAC3BhB,OAAOQ,UAAUC,eAAeC,KAAKM,EAAG85B,KAAO/5B,EAAE+5B,GAAK95B,EAAE85B,IAE1D,OAAO/5B,EAAEga,QAAU/Z,EAAGD,EANhB,CAON+5B,EAAE,KAEJ,SAAS7c,IACP,IAAIjd,EAAI,IAAIb,EAAE82J,WAAW,GACzB,OAAO92J,EAAE82J,YAAcG,eAAiBp2J,EAAE,GAAK,EAAGA,EAAE,GAAK,EAAGA,EAAE,GAAK,GAAIA,EAGzE,SAASwC,EAAExC,GACT,IAAID,EAAIC,EAAE,GACN85B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACV,OAAO8d,KAAKmE,KAAKliB,EAAIA,EAAI+5B,EAAIA,EAAIhhB,EAAIA,GAGvC,SAAShZ,EAAEE,EAAGD,EAAG+5B,GACf,IAAIhhB,EAAI,IAAI3Z,EAAE82J,WAAW,GACzB,OAAOn9I,EAAE,GAAK9Y,EAAG8Y,EAAE,GAAK/Y,EAAG+Y,EAAE,GAAKghB,EAAGhhB,EAGvC,SAASsG,EAAEpf,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAGrE,SAASif,EAAEjf,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAGrE,SAASkf,EAAElf,EAAGD,EAAG+5B,GACf,OAAO95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAAE,GAAKD,EAAE,GAAK+5B,EAAE,GAAI95B,EAGrE,SAAS6P,EAAE7P,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAE,GAAKC,EAAE,GACb8Y,EAAI/Y,EAAE,GAAKC,EAAE,GACbb,EAAIY,EAAE,GAAKC,EAAE,GACjB,OAAO8d,KAAKmE,KAAK6X,EAAIA,EAAIhhB,EAAIA,EAAI3Z,EAAIA,GAGvC,SAASgsC,EAAEnrC,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAE,GAAKC,EAAE,GACb8Y,EAAI/Y,EAAE,GAAKC,EAAE,GACbb,EAAIY,EAAE,GAAKC,EAAE,GACjB,OAAO85B,EAAIA,EAAIhhB,EAAIA,EAAI3Z,EAAIA,EAG7B,SAASc,EAAED,GACT,IAAID,EAAIC,EAAE,GACN85B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACV,OAAOD,EAAIA,EAAI+5B,EAAIA,EAAIhhB,EAAIA,EAG7B,SAAS0F,EAAExe,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAE,GACN+Y,EAAI/Y,EAAE,GACNZ,EAAIY,EAAE,GACNkd,EAAI6c,EAAIA,EAAIhhB,EAAIA,EAAI3Z,EAAIA,EAC5B,OAAO8d,EAAI,IAAMA,EAAI,EAAIa,KAAKmE,KAAKhF,GAAIjd,EAAE,GAAKD,EAAE,GAAKkd,EAAGjd,EAAE,GAAKD,EAAE,GAAKkd,EAAGjd,EAAE,GAAKD,EAAE,GAAKkd,GAAIjd,EAG7F,SAASkd,EAAEld,EAAGD,GACZ,OAAOC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAG9CA,EAAEoxD,IAAM/xC,EAAGrf,EAAE87J,IAAM58I,EAAGlf,EAAE88J,IAAM39I,EAAGnf,EAAEokD,KAAOt0C,EAAG9P,EAAE68J,QAAUzxH,EAAGprC,EAAE0d,IAAMjb,EAAGzC,EAAE48J,OAAS18J,EAAGF,EAAE+H,SAAWgR,EAAImE,IAAK,SAAUjd,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,GAClI,IACI4c,EADAtf,OAAI,EAGR,IAAKC,IAAMA,EAAI,GAAI+5B,IAAMA,EAAI,GAAI1a,EAAIjgB,EAAI2e,KAAKuR,IAAIlwB,EAAIY,EAAI+5B,EAAG95B,EAAEX,QAAUW,EAAEX,OAAQS,EAAIg6B,EAAGh6B,EAAIsf,EAAGtf,GAAKC,EACpG+Y,EAAE,GAAK9Y,EAAEF,GAAIgZ,EAAE,GAAK9Y,EAAEF,EAAI,GAAIgZ,EAAE,GAAK9Y,EAAEF,EAAI,GAAImd,EAAEnE,EAAGA,EAAGtW,GAAIxC,EAAEF,GAAKgZ,EAAE,GAAI9Y,EAAEF,EAAI,GAAKgZ,EAAE,GAAI9Y,EAAEF,EAAI,GAAKgZ,EAAE,GAGxG,OAAO9Y,KAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAOC,EAAI8Y,EAAE9Y,GAAIb,EAAEY,GAAG,SAAUA,GAC9B,OAAQA,EAAE,IACR,IAAK,IACHkd,EAAEsR,UAAUvuB,EAAGA,EAAG,CAACD,EAAE,GAAIA,EAAE,KAC3B,MAEF,IAAK,IACHkd,EAAEsQ,MAAMvtB,EAAGA,EAAG,CAACD,EAAE,GAAIA,EAAE,KACvB,MAEF,IAAK,IACHkd,EAAE6E,OAAO9hB,EAAGA,EAAGD,EAAE,IACjB,MAEF,IAAK,IACHkd,EAAEwP,SAASzsB,EAAGA,EAAGD,EAAE,IACnB,MAEF,QACE,OAAO,MAETC,IAEL,SAAUA,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAU,CACVyJ,MAAO9jI,EAAE,IACTkJ,IAAKlJ,EAAE,IACP+jI,OAAQ/jI,EAAE,IACVgkI,SAAUhkI,EAAE,IACZyJ,KAAMzJ,EAAE,IACRikI,QAASjkI,EAAE,IACX5L,OAAQ4L,EAAE,MAEX,SAAU95B,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAUr6H,EAAE,IACb,SAAU95B,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAUr6H,EAAE,KACb,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAO+Y,EAAE3Z,EAAEa,GAAID,KAEhB,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,KACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACV95B,EAAEm0J,QAAU,CACV91I,kBAAmB7b,EACnBw7J,mBAAoBx7J,EACpBy7J,SAAUnkI,EAAE,KACZokI,eAAgBpkI,EAAE,KAClBqkI,WAAYrkI,EAAE,KACdskI,aAActlJ,EACdulJ,iBAAkBvlJ,EAClB29I,eAAgB38H,EAAE,IAClBhb,gBAAiBgb,EAAE,IACnBla,eAAgBzgB,EAChBm/J,cAAen/J,EACf2kB,YAAa7G,EACbshJ,WAAYthJ,EACZ6nE,SAAUhrD,EAAE,MAEb,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAI,SAAWxC,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAC7B,OAAOa,GAAKA,IAAM,EAAID,EAAI,EAAI+5B,EAAI,EAAIhhB,EAAI,EAAI3Z,GAAK,EAAIY,EAAI,GAAK+5B,EAAI,EAAIhhB,GAAK,EAAI/Y,EAAI,EAAI+5B,GAEvFh6B,EAAI,SAAWE,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGuhJ,EAAIp/I,EAAGH,GAC1C,OAASA,IAAMA,EAAI,GAEnB,IAAK,IAAIC,GAAKD,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAAK,EAAGpP,EAAI,EAAE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQs7B,EAAI,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQlrC,EAAI,EAAGue,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACrQ,IAAItB,EAAIgC,EAAIrP,EAAE2O,GAAKU,EACfzQ,EAAIjM,EAAE0a,EAAGld,EAAG85B,EAAG36B,EAAGq/J,GAClBjjI,EAAI/4B,EAAE0a,EAAGnd,EAAG+Y,EAAGmE,EAAGmC,GAClB5Q,EAAIC,EAAIA,EAAI8sB,EAAIA,EACpBt7B,GAAKkrC,EAAE3sB,GAAKV,KAAKmE,KAAKzT,GAGxB,OAAO0Q,EAAIjf,GAETmf,EAAI,SAAWpf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,GACtC,IAAK,IAAIsf,EAAI,GAAIH,EAAI,CAAC,GAAI,IAAKC,OAAI,EAAQrP,OAAI,EAAQs7B,OAAI,EAAQlrC,OAAI,EAAQue,EAAI,EAAGA,EAAI,IAAKA,EAC7F,GAAI,IAAMA,GAAK3O,EAAI,EAAI7P,EAAI,GAAK85B,EAAI,EAAI36B,EAAG+f,GAAK,EAAIlf,EAAI,EAAI85B,EAAI,EAAI36B,EAAI,EAAIqD,EAAG2oC,EAAI,EAAIrR,EAAI,EAAI95B,IAAM6P,EAAI,EAAI9P,EAAI,GAAK+Y,EAAI,EAAImE,EAAGiC,GAAK,EAAInf,EAAI,EAAI+Y,EAAI,EAAImE,EAAI,EAAInd,EAAGqrC,EAAI,EAAIryB,EAAI,EAAI/Y,GAAI+d,KAAKsE,IAAIlD,GAAK,MAAO,CAC5M,GAAIpB,KAAKsE,IAAIvS,GAAK,MAAO,UACxB5P,GAAKkrC,EAAIt7B,GAAK,GAAK5P,EAAI,GAAKmf,EAAEhP,KAAKnQ,OAC/B,CACL,IAAIid,EAAIrN,EAAIA,EAAI,EAAIs7B,EAAIjsB,EACpBzQ,EAAIqP,KAAKmE,KAAK/E,GAElB,KAAMA,EAAI,GAAI,CACZ,IAAIqe,IAAM1rB,EAAIpB,IAAM,EAAIyQ,GACxBqc,EAAI,GAAKA,EAAI,GAAKnc,EAAEhP,KAAKmrB,GACzB,IAAI/sB,IAAMqB,EAAIpB,IAAM,EAAIyQ,GACxB1Q,EAAI,GAAKA,EAAI,GAAK4Q,EAAEhP,KAAK5B,IAK/B,IAAK,IAAIgP,EAAI4B,EAAE/f,OAAQmgB,EAAIhC,EAAG0U,OAAI,EAAQ1U,KACxC0U,EAAI,GAAKjyB,EAAImf,EAAE5B,IAAKyB,EAAE,GAAGzB,GAAK0U,EAAIA,EAAIA,EAAIlyB,EAAI,EAAIkyB,EAAIA,EAAIjyB,EAAI65B,EAAI,EAAI5H,EAAIjyB,EAAIA,EAAId,EAAIc,EAAIA,EAAIA,EAAIuC,EAAGyc,EAAE,GAAGzB,GAAK0U,EAAIA,EAAIA,EAAInyB,EAAI,EAAImyB,EAAIA,EAAIjyB,EAAI6Y,EAAI,EAAIoZ,EAAIjyB,EAAIA,EAAIgd,EAAIhd,EAAIA,EAAIA,EAAIH,EAGrL,OAAOmf,EAAE,GAAGO,GAAKxf,EAAGif,EAAE,GAAGO,GAAKzf,EAAGkf,EAAE,GAAGO,EAAI,GAAKhd,EAAGyc,EAAE,GAAGO,EAAI,GAAK1f,EAAGmf,EAAE,GAAG5f,OAAS4f,EAAE,GAAG5f,OAASmgB,EAAI,EAAG,CACpG6P,IAAK,CACH7gB,EAAGsP,KAAKuR,IAAI1vB,MAAM,EAAGsf,EAAE,IACvBxQ,EAAGqP,KAAKuR,IAAI1vB,MAAM,EAAGsf,EAAE,KAEzBsG,IAAK,CACH/W,EAAGsP,KAAKyH,IAAI5lB,MAAM,EAAGsf,EAAE,IACvBxQ,EAAGqP,KAAKyH,IAAI5lB,MAAM,EAAGsf,EAAE,OAIzBA,EAAI,SAAWjf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,GACtC,KAAMge,KAAKyH,IAAIvlB,EAAG85B,GAAKhc,KAAKuR,IAAIlwB,EAAGqD,IAAMsb,KAAKuR,IAAIrvB,EAAG85B,GAAKhc,KAAKyH,IAAIpmB,EAAGqD,IAAMsb,KAAKyH,IAAIxlB,EAAG+Y,GAAKgF,KAAKuR,IAAIpS,EAAGnd,IAAMge,KAAKuR,IAAItvB,EAAG+Y,GAAKgF,KAAKyH,IAAItI,EAAGnd,IAAK,CAC/I,IAAIsf,GAAKpf,EAAI85B,IAAM7c,EAAInd,IAAMC,EAAI+Y,IAAM3Z,EAAIqD,GAE3C,GAAI4c,EAAG,CACL,IAAIH,IAAMjf,EAAI8Y,EAAI/Y,EAAI+5B,IAAM36B,EAAIqD,IAAMxC,EAAI85B,IAAM36B,EAAIW,EAAImd,EAAIza,IAAM4c,EAC9DF,IAAMlf,EAAI8Y,EAAI/Y,EAAI+5B,IAAM7c,EAAInd,IAAMC,EAAI+Y,IAAM3Z,EAAIW,EAAImd,EAAIza,IAAM4c,EAC9DvP,GAAKoP,EAAEsD,QAAQ,GACf4oB,GAAKjsB,EAAEqD,QAAQ,GACnB,KAAM1S,GAAKiO,KAAKuR,IAAIrvB,EAAG85B,GAAGvX,QAAQ,IAAM1S,GAAKiO,KAAKyH,IAAIvlB,EAAG85B,GAAGvX,QAAQ,IAAM1S,GAAKiO,KAAKuR,IAAIlwB,EAAGqD,GAAG+f,QAAQ,IAAM1S,GAAKiO,KAAKyH,IAAIpmB,EAAGqD,GAAG+f,QAAQ,IAAM4oB,GAAKrtB,KAAKuR,IAAItvB,EAAG+Y,GAAGyJ,QAAQ,IAAM4oB,GAAKrtB,KAAKyH,IAAIxlB,EAAG+Y,GAAGyJ,QAAQ,IAAM4oB,GAAKrtB,KAAKuR,IAAIpS,EAAGnd,GAAGyiB,QAAQ,IAAM4oB,GAAKrtB,KAAKyH,IAAItI,EAAGnd,GAAGyiB,QAAQ,IAAK,MAAO,CAC1R/T,EAAGyQ,EACHxQ,EAAGyQ,MAKPA,EAAI,SAAWlf,EAAGD,EAAG+5B,GACvB,OAAO/5B,GAAKC,EAAEwO,GAAKzO,GAAKC,EAAEwO,EAAIxO,EAAEoE,OAAS01B,GAAK95B,EAAEyO,GAAKqrB,GAAK95B,EAAEyO,EAAIzO,EAAE0O,QAEhEmB,EAAI,SAAW7P,EAAGD,EAAG+5B,EAAGhhB,GAC1B,OAAO,OAAS9Y,IAAMA,EAAID,EAAI+5B,EAAIhhB,EAAI,GAAI,OAAS/Y,IAAMA,EAAIC,EAAEyO,EAAGqrB,EAAI95B,EAAEoE,MAAO0U,EAAI9Y,EAAE0O,OAAQ1O,EAAIA,EAAEwO,GAAI,CACrGA,EAAGxO,EACHyO,EAAG1O,EACHqE,MAAO01B,EACPY,EAAGZ,EACHprB,OAAQoK,EACRjJ,EAAGiJ,EACHwI,GAAIthB,EAAI85B,EACRvY,GAAIxhB,EAAI+Y,EACR6I,GAAI3hB,EAAI85B,EAAI,EACZlY,GAAI7hB,EAAI+Y,EAAI,EACZm2I,GAAInxI,KAAKuR,IAAIyK,EAAGhhB,GAAK,EACrBqpE,GAAIrkE,KAAKyH,IAAIuU,EAAGhhB,GAAK,EACrB2lJ,GAAI3gJ,KAAKmE,KAAK6X,EAAIA,EAAIhhB,EAAIA,GAAK,EAC/BkD,KAAM7c,EAAEa,EAAGD,EAAG+5B,EAAGhhB,GACjB8yE,GAAI,CAAC5rF,EAAGD,EAAG+5B,EAAGhhB,GAAG0K,KAAK,OAGtB2nB,EAAI,SAAWnrC,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,EAAGmf,GACtCnG,EAAE9Y,KAAOA,EAAI,CAACA,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,EAAGmf,IACnC,IAAIC,EAAIE,EAAEzf,MAAM,KAAMK,GACtB,OAAO6P,EAAEqP,EAAEmQ,IAAI7gB,EAAG0Q,EAAEmQ,IAAI5gB,EAAGyQ,EAAEqG,IAAI/W,EAAI0Q,EAAEmQ,IAAI7gB,EAAG0Q,EAAEqG,IAAI9W,EAAIyQ,EAAEmQ,IAAI5gB,IAE5DxO,EAAI,SAAWD,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,GACzC,IAAIH,EAAI,EAAIG,EACRF,EAAIpB,KAAKyZ,IAAItY,EAAG,GAChBpP,EAAIiO,KAAKyZ,IAAItY,EAAG,GAChBksB,EAAI/rB,EAAIA,EACRnf,EAAIkrC,EAAI/rB,EACRZ,EAAIxe,EAAI,EAAIof,GAAK0a,EAAI95B,GAAKmrC,GAAKhsC,EAAI,EAAI26B,EAAI95B,GAC3Ckd,EAAInd,EAAI,EAAIqf,GAAKtG,EAAI/Y,GAAKorC,GAAKluB,EAAI,EAAInE,EAAI/Y,GAC3C0O,EAAIqrB,EAAI,EAAI1a,GAAKjgB,EAAI26B,GAAKqR,GAAK3oC,EAAI,EAAIrD,EAAI26B,GAC3CyB,EAAIziB,EAAI,EAAIsG,GAAKnC,EAAInE,GAAKqyB,GAAKrrC,EAAI,EAAImd,EAAInE,GAC/C,MAAO,CACLtK,EAAG0Q,EAAIlf,EAAI,EAAI6P,EAAIuP,EAAI0a,EAAI,EAAI7a,EAAIG,EAAIA,EAAIjgB,EAAIc,EAAIuC,EACnDiM,EAAGyQ,EAAInf,EAAI,EAAI8P,EAAIuP,EAAItG,EAAI,EAAImG,EAAIG,EAAIA,EAAInC,EAAIhd,EAAIH,EACnD0d,EAAG,CACDhP,EAAGgQ,EACH/P,EAAGyO,GAEL4c,EAAG,CACDtrB,EAAGC,EACHA,EAAG8sB,GAELzqB,MAAO,CACLtC,EAAGyQ,EAAIjf,EAAIof,EAAI0a,EACfrrB,EAAGwQ,EAAIlf,EAAIqf,EAAItG,GAEjB/H,IAAK,CACHvC,EAAGyQ,EAAI9f,EAAIigB,EAAI5c,EACfiM,EAAGwQ,EAAIhC,EAAImC,EAAItf,GAEjB+hF,MAAO,GAAK,IAAM/jE,KAAKm0C,MAAMzzC,EAAI/P,EAAGyO,EAAIqe,GAAKzd,KAAKK,KAGlDK,EAAI,SAAWxe,EAAGD,EAAG+5B,GACvB,IAAK,SAAU95B,EAAGD,GAChB,OAAOC,EAAI6P,EAAE7P,GAAID,EAAI8P,EAAE9P,GAAImf,EAAEnf,EAAGC,EAAEwO,EAAGxO,EAAEyO,IAAMyQ,EAAEnf,EAAGC,EAAEshB,GAAIthB,EAAEyO,IAAMyQ,EAAEnf,EAAGC,EAAEwO,EAAGxO,EAAEuhB,KAAOrC,EAAEnf,EAAGC,EAAEshB,GAAIthB,EAAEuhB,KAAOrC,EAAElf,EAAGD,EAAEyO,EAAGzO,EAAE0O,IAAMyQ,EAAElf,EAAGD,EAAEuhB,GAAIvhB,EAAE0O,IAAMyQ,EAAElf,EAAGD,EAAEyO,EAAGzO,EAAEwhB,KAAOrC,EAAElf,EAAGD,EAAEuhB,GAAIvhB,EAAEwhB,MAAQvhB,EAAEwO,EAAIzO,EAAEuhB,IAAMthB,EAAEwO,EAAIzO,EAAEyO,GAAKzO,EAAEyO,EAAIxO,EAAEshB,IAAMvhB,EAAEyO,EAAIxO,EAAEwO,KAAOxO,EAAEyO,EAAI1O,EAAEwhB,IAAMvhB,EAAEyO,EAAI1O,EAAE0O,GAAK1O,EAAE0O,EAAIzO,EAAEuhB,IAAMxhB,EAAE0O,EAAIzO,EAAEyO,GAD1R,CAEH08B,EAAEnrC,GAAImrC,EAAEprC,IAAK,OAAO+5B,EAAI,EAAI,GAE9B,IAAK,IAAIhhB,KAAOhZ,EAAEH,MAAM,EAAGK,GAAK,GAAIb,KAAOW,EAAEH,MAAM,EAAGI,GAAK,GAAIkd,EAAI,GAAIza,EAAI,GAAI4c,EAAI,GAAIZ,EAAIsb,EAAI,EAAI,GAAI5c,EAAI,EAAGA,EAAIpE,EAAI,EAAGoE,IAAK,CAC5H,IAAIzO,EAAIxO,EAAEN,MAAM,EAAGK,EAAEiB,OAAOic,EAAIpE,IAChCmE,EAAE7M,KAAK,CACL5B,EAAGC,EAAED,EACLC,EAAGA,EAAEA,EACLzO,EAAGkd,EAAIpE,IAIX,IAAK,IAAIyiB,EAAI,EAAGA,EAAIp8B,EAAI,EAAGo8B,IAAK,CAC9B,IAAI/sB,EAAIvO,EAAEN,MAAM,EAAGI,EAAEkB,OAAOs6B,EAAIp8B,IAChCqD,EAAE4N,KAAK,CACL5B,EAAGA,EAAEA,EACLC,EAAGD,EAAEC,EACLzO,EAAGu7B,EAAIp8B,IAIX,IAAK,IAAIqe,EAAI,EAAGA,EAAI1E,EAAG0E,IACrB,IAAK,IAAIgC,EAAI,EAAGA,EAAIrgB,EAAGqgB,IAAK,CAC1B,IAAI0S,EAAIjV,EAAEO,GACNkd,EAAIzd,EAAEO,EAAI,GACVs8G,EAAIt3H,EAAEgd,GACN2zI,EAAI3wJ,EAAEgd,EAAI,GACV8T,EAAIxV,KAAKsE,IAAIsY,EAAElsB,EAAI0jB,EAAE1jB,GAAK,KAAO,IAAM,IACvC0kB,EAAIpV,KAAKsE,IAAI+wI,EAAE3kJ,EAAIsrH,EAAEtrH,GAAK,KAAO,IAAM,IACvCoD,EAAIqN,EAAEiT,EAAE1jB,EAAG0jB,EAAEzjB,EAAGisB,EAAElsB,EAAGksB,EAAEjsB,EAAGqrH,EAAEtrH,EAAGsrH,EAAErrH,EAAG0kJ,EAAE3kJ,EAAG2kJ,EAAE1kJ,GAE/C,GAAImD,EAAG,CACL,GAAIwN,EAAExN,EAAEpD,EAAE+T,QAAQ,MAAQ3Q,EAAEnD,EAAE8T,QAAQ,GAAI,SAC1CnD,EAAExN,EAAEpD,EAAE+T,QAAQ,IAAM3Q,EAAEnD,EAAE8T,QAAQ,GAEhC,IAAIm0I,EAAIxkI,EAAElyB,EAAI8d,KAAKsE,KAAKxQ,EAAE0hB,GAAKpB,EAAEoB,KAAOoH,EAAEpH,GAAKpB,EAAEoB,MAAQoH,EAAE16B,EAAIkyB,EAAElyB,GAC7DglB,EAAI80G,EAAE95H,EAAI8d,KAAKsE,KAAKxQ,EAAEshB,GAAK4mG,EAAE5mG,KAAOigI,EAAEjgI,GAAK4mG,EAAE5mG,MAAQigI,EAAEnzJ,EAAI85H,EAAE95H,GAEjE02J,GAAK,GAAKA,GAAK,GAAK1xI,GAAK,GAAKA,GAAK,IAAM8U,EAAItb,IAAMA,EAAEpO,KAAK,CACxD5B,EAAGoD,EAAEpD,EACLC,EAAGmD,EAAEnD,EACLiwJ,GAAIhI,EACJiI,GAAI35I,MAMZ,OAAOxG,GAGTxe,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAO,SAAUC,EAAGD,EAAG+5B,GACrB95B,EAAIid,EAAEjd,GAAID,EAAIkd,EAAEld,GAEhB,IAAK,IAAI+Y,OAAI,EAAQ3Z,OAAI,EAAQqD,OAAI,EAAQ1C,OAAI,EAAQsf,OAAI,EAAQH,OAAI,EAAQC,OAAI,EAAQrP,OAAI,EAAQs7B,OAAI,EAAQlrC,OAAI,EAAQid,EAAY,GAAIzO,EAAI,EAAG8sB,EAAIv7B,EAAEX,OAAQoP,EAAI8sB,EAAG9sB,IAAK,CAChL,IAAID,EAAIxO,EAAEyO,GACV,GAAI,MAAQD,EAAE,GAAIsK,EAAIsG,EAAI5Q,EAAE,GAAIrP,EAAI8f,EAAIzQ,EAAE,OAAQ,CAChD,MAAQA,EAAE,IAAM28B,EAAI,CAACryB,EAAG3Z,GAAG8B,OAAOuN,EAAE0W,MAAM,IAAKpM,EAAIqyB,EAAE,GAAIhsC,EAAIgsC,EAAE,KAAOA,EAAI,CAACryB,EAAG3Z,EAAG2Z,EAAG3Z,EAAGigB,EAAGH,EAAGG,EAAGH,GAAInG,EAAIsG,EAAGjgB,EAAI8f,GAE/G,IAAK,IAAIzB,EAAI,EAAGgC,EAAIzf,EAAEV,OAAQme,EAAIgC,EAAGhC,IAAK,CACxC,IAAI0U,EAAInyB,EAAEyd,GACV,GAAI,MAAQ0U,EAAE,GAAI1vB,EAAI0c,EAAIgT,EAAE,GAAIpyB,EAAI+P,EAAIqiB,EAAE,OAAQ,CAChD,MAAQA,EAAE,IAAMjyB,EAAI,CAACuC,EAAG1C,GAAGmB,OAAOixB,EAAEhN,MAAM,IAAK1iB,EAAIvC,EAAE,GAAIH,EAAIG,EAAE,KAAOA,EAAI,CAACuC,EAAG1C,EAAG0C,EAAG1C,EAAGof,EAAGrP,EAAGqP,EAAGrP,GAAIrN,EAAI0c,EAAGpf,EAAI+P,GAG7G,IAFF,IAAI6qB,EAAIlc,EAAE2sB,EAAGlrC,EAAG65B,GAELggG,EAAI,EAAGq5B,EAAIz4H,EAAEr7B,OAAQy6H,EAAIq5B,EAAGr5B,IACnCp/F,EAAEo/F,GAAG8kC,SAAWnwJ,EAAGisB,EAAEo/F,GAAG+kC,SAAWrhJ,EAAGkd,EAAEo/F,GAAGglC,KAAO3zH,EAAGzQ,EAAEo/F,GAAGilC,KAAO9+J,EAGnEid,EAAIA,EAAEjc,OAAOy5B,MAOvB,OAAOxd,EAzBF,CA0BLld,EAAGD,KAEN,SAAUC,EAAGD,GACd,SAAS+5B,EAAE95B,EAAGD,GACZ,IAAI+5B,EAAI,GACJhhB,EAAI,GACR,OAAO9Y,EAAEX,QAAU,SAASW,EAAED,EAAGZ,GAC/B,GAAI,IAAMY,EAAEV,OAAQy6B,EAAE1pB,KAAKrQ,EAAE,IAAK+Y,EAAE1I,KAAKrQ,EAAE,QAAS,CAClD,IAAK,IAAIkd,EAAI,GAAIza,EAAI,EAAGA,EAAIzC,EAAEV,OAAS,EAAGmD,IACxC,IAAMA,GAAKs3B,EAAE1pB,KAAKrQ,EAAE,IAAKyC,IAAMzC,EAAEV,OAAS,GAAKyZ,EAAE1I,KAAKrQ,EAAEyC,EAAI,IAAKya,EAAEza,GAAK,EAAE,EAAIrD,GAAKY,EAAEyC,GAAG,GAAKrD,EAAIY,EAAEyC,EAAI,GAAG,IAAK,EAAIrD,GAAKY,EAAEyC,GAAG,GAAKrD,EAAIY,EAAEyC,EAAI,GAAG,IAGjJxC,EAAEid,EAAG9d,IANU,CAQjBa,EAAGD,GAAI,CACPuW,KAAMwjB,EACNvjB,MAAOuC,EAAE2jB,WAIb,SAAS3jB,EAAE9Y,EAAGD,EAAG+Y,GACf,GAAI,IAAMA,EAAG,MAAO,CAAC,GAAG7X,OAAOjB,IAC/B,IAAIb,EAAI,GACR,GAAI,MAAQY,EAAE,IAAM,MAAQA,EAAE,IAAM,MAAQA,EAAE,GAAIZ,EAAIA,EAAE8B,OAAO,SAAUjB,EAAGD,EAAG+Y,GAC7E,IAAI3Z,EAAI,CAAC,CAACa,EAAE,GAAIA,EAAE,KAClB8Y,EAAIA,GAAK,EACT,IAAImE,EAAI,GACR,MAAQld,EAAE,IAAMZ,EAAEiR,KAAKrQ,EAAE,IAAKZ,EAAEiR,KAAKrQ,EAAE,KAAO,MAAQA,EAAE,IAAMZ,EAAEiR,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAAMZ,EAAEiR,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAAMZ,EAAEiR,KAAK,CAACrQ,EAAE,GAAIA,EAAE,MAAQ,MAAQA,EAAE,IAAM,MAAQA,EAAE,IAAMZ,EAAEiR,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAAMZ,EAAEiR,KAAK,CAACrQ,EAAE,GAAIA,EAAE,MAAQZ,EAAEiR,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAEhO,IAAK,IAAIyC,EAAIrD,EAAGW,EAAI,EAAIgZ,EAAGsG,EAAI,EAAGA,EAAItG,EAAI,EAAGsG,IAAK,CAChD,IAAIH,EAAI6a,EAAEt3B,EAAG1C,GAAK,EAAIA,EAAIsf,IAC1BnC,EAAE7M,KAAK6O,EAAE3I,MAAO9T,EAAIyc,EAAE1I,MAGxB,OAAO0G,EAAE7M,KAAK5N,GAAIya,EAAEjZ,KAAI,SAAUhE,GAChC,IAAID,EAAI,GACR,OAAO,IAAMC,EAAEX,SAAWU,EAAEqQ,KAAK,KAAMrQ,EAAIA,EAAEkB,OAAOjB,EAAE,KAAMA,EAAEX,QAAU,IAAM,IAAMW,EAAEX,QAAUU,EAAEqQ,KAAK,KAAMrQ,EAAIA,EAAEkB,OAAOjB,EAAE,KAAM,IAAMA,EAAEX,QAAUU,EAAEqQ,KAAK,KAAUrQ,EAAEkB,OAAOjB,EAAEA,EAAEX,OAAS,OAbhI,CAe7DW,EAAGD,EAAG+Y,QAAS,CACf,IAAImE,EAAI,GAAGhc,OAAOjB,GAClB,MAAQid,EAAE,KAAOA,EAAE,GAAK,KAExB,IAAK,IAAIza,EAAI,EAAGA,GAAKsW,EAAI,EAAGtW,IAC1BrD,EAAEiR,KAAK6M,GAGX,OAAO9d,EAGTa,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAI,IAAMC,EAAEX,OAAQ,OAAOW,EAC3B,IAAI85B,EAAI95B,EAAEX,OAAS,EACfF,EAAIY,EAAEV,OAAS,EACf4d,EAAI6c,EAAI36B,EACRqD,EAAI,GAER,GAAI,IAAMxC,EAAEX,QAAU,MAAQW,EAAE,GAAG,GAAI,CACrC,IAAK,IAAIF,EAAI,EAAGA,EAAIX,EAAI26B,EAAGh6B,IACzBE,EAAEoQ,KAAKpQ,EAAE,IAGX,OAAOA,EAGT,IAAK,IAAIof,EAAI,EAAGA,EAAIjgB,EAAGigB,IAAK,CAC1B,IAAIH,EAAInB,KAAK2V,MAAMxW,EAAImC,GACvB5c,EAAEyc,IAAMzc,EAAEyc,IAAM,GAAK,EAGvB,IAAIC,EAAI1c,EAAEynF,QAAO,SAAUlqF,EAAGZ,EAAG8d,GAC/B,OAAOA,IAAM6c,EAAI/5B,EAAEkB,OAAOjB,EAAE85B,IAAM/5B,EAAEkB,OAAO6X,EAAE9Y,EAAEid,GAAIjd,EAAEid,EAAI,GAAI9d,MAC5D,IACH,OAAO+f,EAAE+Z,QAAQj5B,EAAE,IAAK,MAAQD,EAAEZ,IAAM,MAAQY,EAAEZ,IAAM+f,EAAE9O,KAAK,KAAM8O,IAEtE,SAAUlf,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,KAEV,SAAS36B,EAAEa,EAAGD,EAAG+5B,GACf,IAAIhhB,EAAI,KACJ3Z,EAAI26B,EACR,OAAO/5B,EAAIZ,IAAMA,EAAIY,EAAG+Y,EAAI,OAAQ9Y,EAAIb,IAAMA,EAAIa,EAAG8Y,EAAI,OAAQ,CAC/D/S,KAAM+S,EACNuW,IAAKlwB,GAITa,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAI+5B,EAAI,SAAU95B,EAAGD,GACnB,IAAI+5B,EAAI95B,EAAEX,OACN4d,EAAIld,EAAEV,OACNmD,OAAI,EACJ1C,OAAI,EACJsf,EAAI,EACR,GAAI,IAAM0a,GAAK,IAAM7c,EAAG,OAAO,KAE/B,IAAK,IAAIgC,EAAI,GAAIC,EAAI,EAAGA,GAAK4a,EAAG5a,IAC9BD,EAAEC,GAAK,GAAID,EAAEC,GAAG,GAAK,CACnBmQ,IAAKnQ,GAIT,IAAK,IAAIrP,EAAI,EAAGA,GAAKoN,EAAGpN,IACtBoP,EAAE,GAAGpP,GAAK,CACRwf,IAAKxf,GAIT,IAAK,IAAIs7B,EAAI,EAAGA,GAAKrR,EAAGqR,IAAK,CAC3B3oC,EAAIxC,EAAEmrC,EAAI,GAEV,IAAK,IAAIlrC,EAAI,EAAGA,GAAKgd,EAAGhd,IAAK,CAC3BH,EAAIC,EAAEE,EAAI,GAAImf,EAAItG,EAAEtW,EAAG1C,GAAK,EAAI,EAChC,IAAI0e,EAAIS,EAAEksB,EAAI,GAAGlrC,GAAGovB,IAAM,EACtBnS,EAAI+B,EAAEksB,GAAGlrC,EAAI,GAAGovB,IAAM,EACtB5gB,EAAIwQ,EAAEksB,EAAI,GAAGlrC,EAAI,GAAGovB,IAAMjQ,EAC9BH,EAAEksB,GAAGlrC,GAAKd,EAAEqf,EAAGtB,EAAGzO,IAItB,OAAOwQ,EAhCD,CAiCNjf,EAAGD,GACDkd,EAAIjd,EAAEX,OACNmD,EAAIzC,EAAEV,OACNS,EAAI,GACJsf,EAAI,EACJH,EAAI,EAER,GAAI6a,EAAE7c,GAAGza,KAAOya,EAAG,CACjB,IAAK,IAAIiC,EAAI,EAAGA,GAAKjC,EAAGiC,IAAK,CAC3B,IAAIrP,EAAIiqB,EAAE5a,GAAGA,GAAGmQ,IAChBpQ,EAAIC,EAEJ,IAAK,IAAIisB,EAAI/rB,EAAG+rB,GAAK3oC,EAAG2oC,IACtBrR,EAAE5a,GAAGisB,GAAG9b,IAAMxf,IAAMA,EAAIiqB,EAAE5a,GAAGisB,GAAG9b,IAAKpQ,EAAIksB,GAG3C/rB,EAAIH,EAAG6a,EAAE5a,GAAGE,GAAGrZ,MAAQjG,EAAEsQ,KAAK,CAC5BlM,MAAOgb,EAAI,EACXnZ,KAAM+zB,EAAE5a,GAAGE,GAAGrZ,OAIlB,IAAK,IAAI9F,EAAIH,EAAET,OAAS,EAAGY,GAAK,EAAGA,IACjCmf,EAAItf,EAAEG,GAAGiE,MAAO,QAAUpE,EAAEG,GAAG8F,KAAO/F,EAAEuQ,OAAO6O,EAAG,EAAG,GAAGne,OAAOjB,EAAEof,KAAOpf,EAAEuQ,OAAO6O,EAAG,GAIxF,IAAKnC,EAAIjd,EAAEX,QAAUmD,EAAG,IAAK,IAAIgc,EAAI,EAAGA,EAAIhc,EAAIya,EAAGuB,IACjD,MAAQxe,EAAEid,EAAI,GAAG,IAAM,MAAQjd,EAAEid,EAAI,GAAG,GAAKjd,EAAEuQ,OAAO0M,EAAI,EAAG,EAAGjd,EAAEid,EAAI,IAAMjd,EAAEoQ,KAAKpQ,EAAEid,EAAI,IAE3F,OAAOjd,IAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAIC,EAAEX,SAAWU,EAAEV,OAAQ,OAAO,EAClC,IAAIy6B,GAAI,EACR,OAAOhhB,EAAE9Y,GAAG,SAAUA,EAAG8Y,GACvB,GAAI9Y,IAAMD,EAAE+Y,GAAI,OAAOghB,GAAI,GAAI,KAC7BA,IAEL,SAAU95B,EAAGD,GACd,SAAS+5B,EAAE95B,GACT,IAAID,EAAI,GAER,OAAQC,EAAE,IACR,IAAK,IACL,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAChB,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAChB,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KACtC,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAChB,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAC5D,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KACtC,MAEF,IAAK,IACL,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAGpB,OAAOD,EAGT,SAAS+Y,EAAE9Y,EAAGD,EAAG+Y,GACf,IAAK,IAAI3Z,EAAI,GAAG8B,OAAOjB,GAAIid,OAAI,EAAQza,EAAI,GAAKsW,EAAI,GAAIhZ,EAAIg6B,EAAE/5B,GAAG,GAAIqf,EAAI,EAAGA,GAAKtG,EAAGsG,IAClF5c,GAAK4c,EAAG,KAAOnC,EAAIa,KAAK2V,MAAMzzB,EAAEX,OAASmD,IAAMrD,EAAE85B,QAAQ,CAACn5B,EAAE,GAAK0C,EAAIxC,EAAEid,GAAG,IAAM,EAAIza,GAAI1C,EAAE,GAAK0C,EAAIxC,EAAEid,GAAG,IAAM,EAAIza,KAAOrD,EAAEoR,OAAO0M,EAAG,EAAG,CAACnd,EAAE,GAAK0C,EAAIxC,EAAEid,GAAG,IAAM,EAAIza,GAAI1C,EAAE,GAAK0C,EAAIxC,EAAEid,GAAG,IAAM,EAAIza,KAGnM,OAAOrD,EAGTa,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAIC,EAAEX,QAAU,EAAG,OAAOW,EAE1B,IAAK,IAAIb,OAAI,EAAQ8d,EAAI,EAAGA,EAAIld,EAAEV,OAAQ4d,IACxC,GAAIjd,EAAEid,GAAG,KAAOld,EAAEkd,GAAG,GAAI,OAAQ9d,EAAI26B,EAAE95B,EAAEid,IAAKld,EAAEkd,GAAG,IACjD,IAAK,IACHjd,EAAEid,GAAK,CAAC,KAAKhc,OAAO9B,EAAE,IACtB,MAEF,IAAK,IACHa,EAAEid,GAAK,CAAC,KAAKhc,OAAO9B,EAAE,IACtB,MAEF,IAAK,IACHa,EAAEid,GAAK,GAAGhc,OAAOlB,EAAEkd,IAAKjd,EAAEid,GAAG,GAAK9d,EAAE,GAAG,GAAIa,EAAEid,GAAG,GAAK9d,EAAE,GAAG,GAC1D,MAEF,IAAK,IACH,GAAIA,EAAEE,OAAS,EAAG,CAChB,KAAM4d,EAAI,GAAI,CACZjd,EAAEid,GAAKld,EAAEkd,GACT,MAGF9d,EAAI2Z,EAAE3Z,EAAGa,EAAEid,EAAI,GAAI,GAGrBjd,EAAEid,GAAK,CAAC,KAAKhc,OAAO9B,EAAE8qF,QAAO,SAAUjqF,EAAGD,GACxC,OAAOC,EAAEiB,OAAOlB,KACf,KACH,MAEF,IAAK,IACHC,EAAEid,GAAK,CAAC,KAAKhc,OAAO9B,EAAE,IACtB,MAEF,IAAK,IACH,GAAIA,EAAEE,OAAS,EAAG,CAChB,KAAM4d,EAAI,GAAI,CACZjd,EAAEid,GAAKld,EAAEkd,GACT,MAGF9d,EAAI2Z,EAAE3Z,EAAGa,EAAEid,EAAI,GAAI,GAGrBjd,EAAEid,GAAK,CAAC,KAAKhc,OAAO9B,EAAE8qF,QAAO,SAAUjqF,EAAGD,GACxC,OAAOC,EAAEiB,OAAOlB,KACf,KACH,MAEF,IAAK,IACH,GAAIZ,EAAEE,OAAS,EAAG,CAChB,KAAM4d,EAAI,GAAI,CACZjd,EAAEid,GAAKld,EAAEkd,GACT,MAGF9d,EAAI2Z,EAAE3Z,EAAGa,EAAEid,EAAI,GAAI,GAGrBjd,EAAEid,GAAK,CAAC,KAAKhc,OAAO9B,EAAE8qF,QAAO,SAAUjqF,EAAGD,GACxC,OAAOC,EAAEiB,OAAOlB,KACf,KACH,MAEF,QACEC,EAAEid,GAAKld,EAAEkd,GAIf,OAAOjd,IAER,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAI,CACNkmJ,GAAIllI,EAAE,KACNmlI,UAAWnlI,EAAE,IACbolI,WAAYplI,EAAE,KACdqlI,WAAYrlI,EAAE,KACdslI,GAAItlI,EAAE,KACNulI,UAAWvlI,EAAE,IACbwlI,WAAYxlI,EAAE,MAEhB95B,EAAEm0J,QAAUr7I,GACX,SAAU9Y,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAUr6H,EAAE,KACb,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAI+Y,EAAE9Y,GACV,OAAOD,EAAEgxB,OAAO,GAAG7e,cAAgBnS,EAAE0vJ,UAAU,KAEhD,SAAUzvJ,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,OAAOC,GAAKD,EAAIC,EAAEuf,QAAQ,oBAAoB,SAAUvf,EAAG85B,GACzD,MAAO,OAAS95B,EAAE+wB,OAAO,GAAK/wB,EAAEklB,MAAM,QAAK,IAAWnlB,EAAE+5B,GAAK,GAAK/5B,EAAE+5B,MACjE95B,IAEN,SAAUA,EAAGD,EAAG+5B,GACjB95B,EAAEm0J,QAAUr6H,EAAE,KACb,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAID,EAAI+Y,EAAE9Y,GACV,OAAOD,EAAEgxB,OAAO,GAAGtQ,cAAgB1gB,EAAE0vJ,UAAU,KAEhD,SAAUzvJ,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI,CACNi2G,QAASt7E,EAAE,IACXuoG,QAASvoG,EAAE,GACXylI,YAAazlI,EAAE,GACf0lI,UAAW1lI,EAAE,KACb2lI,WAAY3lI,EAAE,GACd4lI,MAAO5lI,EAAE,GACT6lI,OAAQ7lI,EAAE,KACV8lI,SAAU9lI,EAAE,GACZ+lI,SAAU/lI,EAAE,IACZgmI,aAAchmI,EAAE,IAChBimI,cAAejmI,EAAE,GACjBkmI,YAAalmI,EAAE,IACfmmI,OAAQnnJ,EACRonJ,YAAapmI,EAAE,KACfqmI,SAAUrmI,EAAE,IACZsmI,SAAUtmI,EAAE,KACZumI,OAAQvmI,EAAE,KACVwmI,YAAaxmI,EAAE,KACfymI,QAASzmI,EAAE,MAEb95B,EAAEm0J,QAAUh1J,GACX,SAAUa,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,aAEb,SAAUA,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO,OAASA,IAEjB,SAAUA,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,GACpB,YAAO,IAAWA,IAEnB,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,YAEb,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,UAEb,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,eAEb,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,OAAO8Y,EAAE9Y,EAAG,WAEb,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,GACpB,IAAK,IAAID,EAAIZ,EAAEC,WAAY06B,EAAI,EAAGA,EAAI/5B,EAAEV,OAAQy6B,IAAK,CACnD,IAAIt3B,EAAIzC,EAAE+5B,GACVhhB,EAAEtW,KAAOA,EAAIA,EAAEhD,WAAYyd,EAAEjd,EAAER,UAAWgD,MAG7C,SAAUxC,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,IAAIhhB,OAAI,EACR,OAAO,WACL,IAAI3Z,EAAIS,KACJqd,EAAI7d,UACJoD,EAAI,WACNsW,EAAI,KAAMghB,GAAK95B,EAAEL,MAAMR,EAAG8d,IAExBnd,EAAIg6B,IAAMhhB,EAEdioD,aAAajoD,GAAIA,EAAImoD,WAAWz+D,EAAGzC,GAAID,GAAKE,EAAEL,MAAMR,EAAG8d,MAG1D,SAAUjd,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV,SAAS7c,EAAEjd,EAAGD,EAAG+5B,EAAGt3B,GAClB,IAAK,IAAI1C,KAAKg6B,EAAIA,GAAK,EAAGt3B,EAAIA,GAAK,EAAGzC,EACpC,GAAIA,EAAEN,eAAeK,GAAI,CACvB,IAAIsf,EAAIrf,EAAED,GACV,OAASsf,GAAKtG,EAAEsG,IAAMtG,EAAE9Y,EAAEF,MAAQE,EAAEF,GAAK,IAAKg6B,EAAIt3B,EAAIya,EAAEjd,EAAEF,GAAIsf,EAAG0a,EAAI,EAAGt3B,GAAKxC,EAAEF,GAAKC,EAAED,IAAMX,EAAEigB,IAAMpf,EAAEF,GAAK,GAAIE,EAAEF,GAAKE,EAAEF,GAAGmB,OAAOme,SAAM,IAAWA,IAAMpf,EAAEF,GAAKsf,IAKtKpf,EAAEm0J,QAAU,WACV,IAAK,IAAIn0J,EAAI,IAAIod,MAAMhe,UAAUC,QAASU,EAAIC,EAAEX,OAAQy6B,EAAI,EAAGA,EAAI/5B,EAAG+5B,IACpE95B,EAAE85B,GAAK16B,UAAU06B,GAGnB,IAAK,IAAIhhB,EAAI9Y,EAAE,GAAIb,EAAI,EAAGA,EAAIY,EAAGZ,IAC/B8d,EAAEnE,EAAG9Y,EAAEb,IAGT,OAAO2Z,IAER,SAAU9Y,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,EAAG7c,GAC7BnE,EAAE/Y,KAAO+5B,EAAI/5B,EAAGA,EAAIC,EAAGA,EAAI,cAC3B,IAAIwC,EAAIxD,OAAOwF,OAAS,SAAUxE,EAAGD,GACnC,OAAOf,OAAOwF,OAAOxE,EAAG,CACtBgC,YAAa,CACXxB,MAAOT,MAGT,SAAUC,EAAGD,GACf,SAAS+5B,KAETA,EAAEt6B,UAAYQ,EACd,IAAI8Y,EAAI,IAAIghB,EACZ,OAAOhhB,EAAE9W,YAAcjC,EAAG+Y,GAExBhZ,EAAI0C,EAAEzC,EAAEP,UAAWQ,GACvB,OAAOA,EAAER,UAAYL,EAAEW,EAAGE,EAAER,WAAYQ,EAAEgxJ,WAAaxuJ,EAAEzC,EAAEP,UAAWO,GAAIZ,EAAEW,EAAGg6B,GAAI36B,EAAEa,EAAGid,GAAIjd,IAE7F,SAAUA,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAKA,EAAG,MAAO,CAACC,GAChB,IAAI85B,EAAIhhB,EAAE9Y,EAAGD,GACTZ,EAAI,GAER,IAAK,IAAI8d,KAAK6c,EACZ36B,EAAEiR,KAAK0pB,EAAE7c,IAGX,OAAO9d,IAER,SAAUa,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAK+Y,EAAE9Y,GAAI,OAAQ,EACnB,IAAI85B,EAAI1c,MAAM5d,UAAUU,QACxB,GAAI45B,EAAG,OAAOA,EAAEp6B,KAAKM,EAAGD,GAExB,IAAK,IAAIZ,GAAK,EAAG8d,EAAI,EAAGA,EAAIjd,EAAEX,OAAQ4d,IACpC,GAAIjd,EAAEid,KAAOld,EAAG,CACdZ,EAAI8d,EACJ,MAIJ,OAAO9d,IAER,SAAUa,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACNh6B,EAAId,OAAOQ,UAAUC,eAEzBO,EAAEm0J,QAAU,SAAUn0J,GACpB,GAAI8Y,EAAE9Y,GAAI,OAAO,EACjB,GAAIb,EAAEa,GAAI,OAAQA,EAAEX,OACpB,IAAIU,EAAIkd,EAAEjd,GACV,GAAI,QAAUD,GAAK,QAAUA,EAAG,OAAQC,EAAE8F,KAC1C,GAAItD,EAAExC,GAAI,OAAQhB,OAAOukC,KAAKvjC,GAAGX,OAEjC,IAAK,IAAIy6B,KAAK95B,EACZ,GAAIF,EAAEJ,KAAKM,EAAG85B,GAAI,OAAO,EAG3B,OAAO,IAER,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,OAAOhhB,EAAEghB,KAAOA,EAAE95B,EAAGD,GAAKZ,EAAEa,EAAGD,KAEhC,SAAUC,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV95B,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,IAAKZ,EAAEa,GAAI,OAAOA,EAClB,IAAI85B,EAAI,GACR,OAAOhhB,EAAE9Y,GAAG,SAAUA,EAAG8Y,GACvBghB,EAAE1pB,KAAKrQ,EAAEC,EAAG8Y,OACVghB,IAEL,SAAU95B,EAAGD,EAAG+5B,GACjB,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAIje,OAAOQ,UAAUC,eAEzBO,EAAEm0J,QAAU,SAAUn0J,EAAGD,GACvB,GAAI,OAASC,IAAMb,EAAEa,GAAI,MAAO,GAChC,IAAI85B,EAAI,GACR,OAAOhhB,EAAE/Y,GAAG,SAAUA,GACpBkd,EAAEvd,KAAKM,EAAGD,KAAO+5B,EAAE/5B,GAAKC,EAAED,OACxB+5B,IAEL,SAAU95B,EAAGD,GACdC,EAAEm0J,QAAU,SAAUn0J,EAAGD,EAAG+5B,GAC1B,IAAIhhB,OAAI,EACJ3Z,OAAI,EACJ8d,OAAI,EACJza,OAAI,EACJ1C,EAAI,EACRg6B,IAAMA,EAAI,IAEV,IAAI1a,EAAI,WACNtf,GAAI,IAAOg6B,EAAE8iE,QAAU,EAAI15F,KAAKmhI,MAAOvrH,EAAI,KAAMtW,EAAIxC,EAAEL,MAAMR,EAAG8d,GAAInE,IAAM3Z,EAAI8d,EAAI,OAEhFgC,EAAI,WACN,IAAIA,EAAI/b,KAAKmhI,MACbvkI,IAAK,IAAOg6B,EAAE8iE,UAAY98F,EAAImf,GAC9B,IAAIC,EAAInf,GAAKkf,EAAInf,GACjB,OAAOX,EAAIS,KAAMqd,EAAI7d,UAAW8f,GAAK,GAAKA,EAAInf,GAAK+Y,IAAMioD,aAAajoD,GAAIA,EAAI,MAAOhZ,EAAImf,EAAGzc,EAAIxC,EAAEL,MAAMR,EAAG8d,GAAInE,IAAM3Z,EAAI8d,EAAI,OAASnE,IAAK,IAAOghB,EAAE+3H,WAAa/4I,EAAImoD,WAAW7hD,EAAGF,IAAK1c,GAG1L,OAAOyc,EAAE6yI,OAAS,WAChB/wF,aAAajoD,GAAIhZ,EAAI,EAAGgZ,EAAI3Z,EAAI8d,EAAI,MACnCgC,IAEJ,SAAUjf,EAAGD,GACd,IAAI+5B,EACAhhB,GAAKghB,EAAI,GAAI,SAAU95B,GACzB,OAAO85B,EAAE95B,EAAIA,GAAK,KAAO85B,EAAE95B,IAAM,EAAI85B,EAAE95B,GAAK,EAAGA,EAAI85B,EAAE95B,KAEvDA,EAAEm0J,QAAUr7I,MAEb9Y,EAAEm0J,QAAUr7I,KACd,SAAU9Y,EAAGD,EAAG+5B,GACjB,aAEAA,EAAEhhB,EAAE/Y,GAAI+5B,EAAEtb,EAAEze,EAAG,aAAa,WAC1B,OAAOZ,KACL26B,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAOqF,KACL00B,EAAEtb,EAAEze,EAAG,UAAU,WACnB,OAAOyC,KACLs3B,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOD,KACLg6B,EAAEtb,EAAEze,EAAG,WAAW,WACpB,OAAOqf,KACL0a,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOkf,KACL6a,EAAEtb,EAAEze,EAAG,aAAa,WACtB,OAAOmf,KACL4a,EAAEtb,EAAEze,EAAG,eAAe,WACxB,OAAO8P,KACLiqB,EAAEtb,EAAEze,EAAG,mBAAmB,WAC5B,OAAOorC,KACLrR,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAOE,KACL65B,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAOye,KACLsb,EAAEtb,EAAEze,EAAG,UAAU,WACnB,OAAOmd,KACL4c,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAO0O,KACLqrB,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAOw7B,KACLzB,EAAEtb,EAAEze,EAAG,WAAW,WACpB,OAAOyO,KACLsrB,EAAEtb,EAAEze,EAAG,oBAAoB,WAC7B,OAAOyd,KACLsc,EAAEtb,EAAEze,EAAG,oBAAoB,WAC7B,OAAOyf,KACLsa,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAOmyB,KACL4H,EAAEtb,EAAEze,EAAG,wBAAwB,WACjC,OAAO26B,KACLZ,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAO+5H,KACLhgG,EAAEtb,EAAEze,EAAG,mBAAmB,WAC5B,OAAOozJ,KACLr5H,EAAEtb,EAAEze,EAAG,0BAA0B,WACnC,OAAOuzB,KACLwG,EAAEtb,EAAEze,EAAG,0BAA0B,WACnC,OAAOmzB,KAiBT,IAAIstI,EAAK,SAAWxgK,EAAGD,GACrB,OAAQygK,EAAKxhK,OAAOyD,gBAAkB,CACpCC,UAAW,cACA0a,OAAS,SAAUpd,EAAGD,GACjCC,EAAE0C,UAAY3C,IACX,SAAUC,EAAGD,GAChB,IAAK,IAAI+5B,KAAK/5B,EACZA,EAAEN,eAAeq6B,KAAO95B,EAAE85B,GAAK/5B,EAAE+5B,MAElC95B,EAAGD,IAGR,SAASZ,EAAEa,EAAGD,GACZ,SAAS+5B,IACPl6B,KAAKoC,YAAchC,EAGrBwgK,EAAGxgK,EAAGD,GAAIC,EAAER,UAAY,OAASO,EAAIf,OAAOwF,OAAOzE,IAAM+5B,EAAEt6B,UAAYO,EAAEP,UAAW,IAAIs6B,GAG1F,IAAI10B,EAAK,WACP,OAAQA,EAAKpG,OAAOC,QAAU,SAAUe,GACtC,IAAK,IAAID,EAAG+5B,EAAI,EAAGhhB,EAAI1Z,UAAUC,OAAQy6B,EAAIhhB,EAAGghB,IAC9C,IAAK,IAAI36B,KAAKY,EAAIX,UAAU06B,GAC1B96B,OAAOQ,UAAUC,eAAeC,KAAKK,EAAGZ,KAAOa,EAAEb,GAAKY,EAAEZ,IAI5D,OAAOa,IACNL,MAAMC,KAAMR,YAGjB,SAASoD,EAAExC,EAAGD,GACZ,IAAI+5B,EAAI,GAER,IAAK,IAAIhhB,KAAK9Y,EACZhB,OAAOQ,UAAUC,eAAeC,KAAKM,EAAG8Y,IAAM/Y,EAAEG,QAAQ4Y,GAAK,IAAMghB,EAAEhhB,GAAK9Y,EAAE8Y,IAG9E,GAAI,MAAQ9Y,GAAK,mBAAqBhB,OAAOmB,sBAAuB,CAClE,IAAIhB,EAAI,EAER,IAAK2Z,EAAI9Z,OAAOmB,sBAAsBH,GAAIb,EAAI2Z,EAAEzZ,OAAQF,IACtDY,EAAEG,QAAQ4Y,EAAE3Z,IAAM,GAAKH,OAAOQ,UAAUY,qBAAqBV,KAAKM,EAAG8Y,EAAE3Z,MAAQ26B,EAAEhhB,EAAE3Z,IAAMa,EAAE8Y,EAAE3Z,KAIjG,OAAO26B,EAGT,SAASh6B,EAAEE,EAAGD,EAAG+5B,EAAGhhB,GAClB,IAAI3Z,EACA8d,EAAI7d,UAAUC,OACdmD,EAAIya,EAAI,EAAIld,EAAI,OAAS+Y,EAAIA,EAAI9Z,OAAOuzJ,yBAAyBxyJ,EAAG+5B,GAAKhhB,EAC7E,GAAI,iBAAmBhW,SAAW,mBAAqBA,QAAQ0vJ,SAAUhwJ,EAAIM,QAAQ0vJ,SAASxyJ,EAAGD,EAAG+5B,EAAGhhB,QAAQ,IAAK,IAAIhZ,EAAIE,EAAEX,OAAS,EAAGS,GAAK,EAAGA,KAC/IX,EAAIa,EAAEF,MAAQ0C,GAAKya,EAAI,EAAI9d,EAAEqD,GAAKya,EAAI,EAAI9d,EAAEY,EAAG+5B,EAAGt3B,GAAKrD,EAAEY,EAAG+5B,KAAOt3B,GAEtE,OAAOya,EAAI,GAAKza,GAAKxD,OAAOkC,eAAenB,EAAG+5B,EAAGt3B,GAAIA,EAGvD,SAAS4c,EAAEpf,EAAGD,GACZ,OAAO,SAAU+5B,EAAGhhB,GAClB/Y,EAAE+5B,EAAGhhB,EAAG9Y,IAIZ,SAASif,EAAEjf,EAAGD,GACZ,GAAI,iBAAmB+C,SAAW,mBAAqBA,QAAQiwJ,SAAU,OAAOjwJ,QAAQiwJ,SAAS/yJ,EAAGD,GAGtG,SAASmf,EAAElf,EAAGD,EAAG+5B,EAAGhhB,GAClB,OAAO,IAAKghB,IAAMA,EAAIu5H,WAAU,SAAUl0J,EAAG8d,GAC3C,SAASza,EAAExC,GACT,IACEof,EAAEtG,EAAEonB,KAAKlgC,IACT,MAAOA,GACPid,EAAEjd,IAIN,SAASF,EAAEE,GACT,IACEof,EAAEtG,EAAE2nJ,MAAMzgK,IACV,MAAOA,GACPid,EAAEjd,IAIN,SAASof,EAAEpf,GACT,IAAID,EACJC,EAAE0zJ,KAAOv0J,EAAEa,EAAEQ,QAAUT,EAAIC,EAAEQ,MAAOT,aAAa+5B,EAAI/5B,EAAI,IAAI+5B,GAAE,SAAU95B,GACvEA,EAAED,OACAmtJ,KAAK1qJ,EAAG1C,GAGdsf,GAAGtG,EAAIA,EAAEnZ,MAAMK,EAAGD,GAAK,KAAKmgC,WAIhC,SAASrwB,EAAE7P,EAAGD,GACZ,IAAI+5B,EACAhhB,EACA3Z,EACA8d,EACAza,EAAI,CACNqS,MAAO,EACP++I,KAAM,WACJ,GAAI,EAAIz0J,EAAE,GAAI,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEX00J,KAAM,GACNC,IAAK,IAEP,OAAO72I,EAAI,CACTijB,KAAMpgC,EAAE,GACR2gK,MAAO3gK,EAAE,GACT4gK,OAAQ5gK,EAAE,IACT,mBAAqBgC,SAAWmb,EAAEnb,OAAOC,UAAY,WACtD,OAAOnC,OACLqd,EAEJ,SAASnd,EAAEmd,GACT,OAAO,SAAUnd,GACf,OAAO,SAAUmd,GACf,GAAI6c,EAAG,MAAM,IAAI13B,UAAU,mCAE3B,KAAOI,GACL,IACE,GAAIs3B,EAAI,EAAGhhB,IAAM3Z,EAAI,EAAI8d,EAAE,GAAKnE,EAAE4nJ,OAASzjJ,EAAE,GAAKnE,EAAE2nJ,SAAWthK,EAAI2Z,EAAE4nJ,SAAWvhK,EAAEO,KAAKoZ,GAAI,GAAKA,EAAEonB,SAAW/gC,EAAIA,EAAEO,KAAKoZ,EAAGmE,EAAE,KAAKy2I,KAAM,OAAOv0J,EAE/I,OAAQ2Z,EAAI,EAAG3Z,IAAM8d,EAAI,CAAC,EAAIA,EAAE,GAAI9d,EAAEqB,QAASyc,EAAE,IAC/C,KAAK,EACL,KAAK,EACH9d,EAAI8d,EACJ,MAEF,KAAK,EACH,OAAOza,EAAEqS,QAAS,CAChBrU,MAAOyc,EAAE,GACTy2I,MAAM,GAGV,KAAK,EACHlxJ,EAAEqS,QAASiE,EAAImE,EAAE,GAAIA,EAAI,CAAC,GAC1B,SAEF,KAAK,EACHA,EAAIza,EAAEsxJ,IAAIr3F,MAAOj6D,EAAEqxJ,KAAKp3F,MACxB,SAEF,QACE,MAAmBt9D,GAAbA,EAAIqD,EAAEqxJ,MAAax0J,OAAS,GAAKF,EAAEA,EAAEE,OAAS,KAAO,IAAM4d,EAAE,IAAM,IAAMA,EAAE,IAAK,CACpFza,EAAI,EACJ,SAGF,GAAI,IAAMya,EAAE,MAAQ9d,GAAK8d,EAAE,GAAK9d,EAAE,IAAM8d,EAAE,GAAK9d,EAAE,IAAK,CACpDqD,EAAEqS,MAAQoI,EAAE,GACZ,MAGF,GAAI,IAAMA,EAAE,IAAMza,EAAEqS,MAAQ1V,EAAE,GAAI,CAChCqD,EAAEqS,MAAQ1V,EAAE,GAAIA,EAAI8d,EACpB,MAGF,GAAI9d,GAAKqD,EAAEqS,MAAQ1V,EAAE,GAAI,CACvBqD,EAAEqS,MAAQ1V,EAAE,GAAIqD,EAAEsxJ,IAAI1jJ,KAAK6M,GAC3B,MAGF9d,EAAE,IAAMqD,EAAEsxJ,IAAIr3F,MAAOj6D,EAAEqxJ,KAAKp3F,MAC5B,SAGJx/C,EAAIld,EAAEL,KAAKM,EAAGwC,GACd,MAAOxC,GACPid,EAAI,CAAC,EAAGjd,GAAI8Y,EAAI,EAChB,QACAghB,EAAI36B,EAAI,EAIZ,GAAI,EAAI8d,EAAE,GAAI,MAAMA,EAAE,GACtB,MAAO,CACLzc,MAAOyc,EAAE,GAAKA,EAAE,QAAK,EACrBy2I,MAAM,GA/DH,CAiEL,CAACz2I,EAAGnd,MAKZ,SAASqrC,EAAEnrC,EAAGD,EAAG+5B,EAAGhhB,QAClB,IAAWA,IAAMA,EAAIghB,GAAI95B,EAAE8Y,GAAK/Y,EAAE+5B,GAGpC,SAAS75B,EAAED,EAAGD,GACZ,IAAK,IAAI+5B,KAAK95B,EACZ,YAAc85B,GAAK/5B,EAAEN,eAAeq6B,KAAO/5B,EAAE+5B,GAAK95B,EAAE85B,IAIxD,SAAStb,EAAExe,GACT,IAAID,EAAI,mBAAqB+B,QAAUA,OAAOC,SAC1C+3B,EAAI/5B,GAAKC,EAAED,GACX+Y,EAAI,EACR,GAAIghB,EAAG,OAAOA,EAAEp6B,KAAKM,GACrB,GAAIA,GAAK,iBAAmBA,EAAEX,OAAQ,MAAO,CAC3C6gC,KAAM,WACJ,OAAOlgC,GAAK8Y,GAAK9Y,EAAEX,SAAWW,OAAI,GAAS,CACzCQ,MAAOR,GAAKA,EAAE8Y,KACd46I,MAAO1zJ,KAIb,MAAM,IAAIoC,UAAUrC,EAAI,0BAA4B,mCAGtD,SAASmd,EAAEld,EAAGD,GACZ,IAAI+5B,EAAI,mBAAqBh4B,QAAU9B,EAAE8B,OAAOC,UAChD,IAAK+3B,EAAG,OAAO95B,EACf,IAAI8Y,EACA3Z,EACA8d,EAAI6c,EAAEp6B,KAAKM,GACXwC,EAAI,GAER,IACE,WAAQ,IAAWzC,GAAKA,KAAM,MAAQ+Y,EAAImE,EAAEijB,QAAQwzH,MAClDlxJ,EAAE4N,KAAK0I,EAAEtY,OAEX,MAAOR,GACPb,EAAI,CACF29B,MAAO98B,GAET,QACA,IACE8Y,IAAMA,EAAE46I,OAAS55H,EAAI7c,EAAEyjJ,SAAW5mI,EAAEp6B,KAAKud,GACzC,QACA,GAAI9d,EAAG,MAAMA,EAAE29B,OAInB,OAAOt6B,EAGT,SAASiM,IACP,IAAK,IAAIzO,EAAI,GAAID,EAAI,EAAGA,EAAIX,UAAUC,OAAQU,IAC5CC,EAAIA,EAAEiB,OAAOic,EAAE9d,UAAUW,KAG3B,OAAOC,EAGT,SAASu7B,IACP,IAAK,IAAIv7B,EAAI,EAAGD,EAAI,EAAG+5B,EAAI16B,UAAUC,OAAQU,EAAI+5B,EAAG/5B,IAClDC,GAAKZ,UAAUW,GAAGV,OAGpB,IAAIyZ,EAAIsE,MAAMpd,GACVb,EAAI,EAER,IAAKY,EAAI,EAAGA,EAAI+5B,EAAG/5B,IACjB,IAAK,IAAIkd,EAAI7d,UAAUW,GAAIyC,EAAI,EAAG1C,EAAImd,EAAE5d,OAAQmD,EAAI1C,EAAG0C,IAAKrD,IAC1D2Z,EAAE3Z,GAAK8d,EAAEza,GAIb,OAAOsW,EAGT,SAAStK,EAAExO,GACT,OAAOJ,gBAAgB4O,GAAK5O,KAAKsd,EAAIld,EAAGJ,MAAQ,IAAI4O,EAAExO,GAGxD,SAASwd,EAAExd,EAAGD,EAAG+5B,GACf,IAAKh4B,OAAO+yJ,cAAe,MAAM,IAAIzyJ,UAAU,wCAC/C,IAAI0W,EACA3Z,EAAI26B,EAAEn6B,MAAMK,EAAGD,GAAK,IACpBkd,EAAI,GACR,OAAOnE,EAAI,GAAItW,EAAE,QAASA,EAAE,SAAUA,EAAE,UAAWsW,EAAEhX,OAAO+yJ,eAAiB,WAC3E,OAAOj1J,MACNkZ,EAEH,SAAStW,EAAExC,GACTb,EAAEa,KAAO8Y,EAAE9Y,GAAK,SAAUD,GACxB,OAAO,IAAIszJ,SAAQ,SAAUv5H,EAAGhhB,GAC9BmE,EAAE7M,KAAK,CAACpQ,EAAGD,EAAG+5B,EAAGhhB,IAAM,GAAKhZ,EAAEE,EAAGD,QAKvC,SAASD,EAAEE,EAAGD,GACZ,KACG+5B,EAAI36B,EAAEa,GAAGD,IAAIS,iBAAiBgO,EAAI6kJ,QAAQC,QAAQx5H,EAAEt5B,MAAM0c,GAAGgwI,KAAK9tI,EAAGH,GAAKC,EAAEjC,EAAE,GAAG,GAAI6c,GACtF,MAAO95B,GACPkf,EAAEjC,EAAE,GAAG,GAAIjd,GAGb,IAAI85B,EAGN,SAAS1a,EAAEpf,GACTF,EAAE,OAAQE,GAGZ,SAASif,EAAEjf,GACTF,EAAE,QAASE,GAGb,SAASkf,EAAElf,EAAGD,GACZC,EAAED,GAAIkd,EAAEoI,QAASpI,EAAE5d,QAAUS,EAAEmd,EAAE,GAAG,GAAIA,EAAE,GAAG,KAIjD,SAASuC,EAAExf,GACT,IAAID,EAAG+5B,EACP,OAAO/5B,EAAI,GAAI+Y,EAAE,QAASA,EAAE,SAAS,SAAU9Y,GAC7C,MAAMA,KACJ8Y,EAAE,UAAW/Y,EAAE+B,OAAOC,UAAY,WACpC,OAAOnC,MACNG,EAEH,SAAS+Y,EAAEA,EAAG3Z,GACZY,EAAE+Y,GAAK9Y,EAAE8Y,GAAK,SAAU/Y,GACtB,OAAQ+5B,GAAKA,GAAK,CAChBt5B,MAAOgO,EAAExO,EAAE8Y,GAAG/Y,IACd2zJ,KAAM,WAAa56I,GACjB3Z,EAAIA,EAAEY,GAAKA,GACbZ,GAIR,SAAS+yB,EAAElyB,GACT,IAAK8B,OAAO+yJ,cAAe,MAAM,IAAIzyJ,UAAU,wCAC/C,IAAIrC,EACA+5B,EAAI95B,EAAE8B,OAAO+yJ,eACjB,OAAO/6H,EAAIA,EAAEp6B,KAAKM,IAAMA,EAAIwe,EAAExe,GAAID,EAAI,GAAI+Y,EAAE,QAASA,EAAE,SAAUA,EAAE,UAAW/Y,EAAE+B,OAAO+yJ,eAAiB,WACtG,OAAOj1J,MACNG,GAEH,SAAS+Y,EAAEghB,GACT/5B,EAAE+5B,GAAK95B,EAAE85B,IAAM,SAAU/5B,GACvB,OAAO,IAAIszJ,SAAQ,SAAUv6I,EAAG3Z,IAC9B,SAAWa,EAAGD,EAAG+5B,EAAGhhB,GAClBu6I,QAAQC,QAAQx6I,GAAGo0I,MAAK,SAAUntJ,GAChCC,EAAE,CACAQ,MAAOT,EACP2zJ,KAAM55H,MAEP/5B,GANL,CAOG+Y,EAAG3Z,GAAIY,EAAIC,EAAE85B,GAAG/5B,IAAI2zJ,KAAM3zJ,EAAES,YAMvC,SAASk6B,EAAE16B,EAAGD,GACZ,OAAOf,OAAOkC,eAAiBlC,OAAOkC,eAAelB,EAAG,MAAO,CAC7DQ,MAAOT,IACJC,EAAEq1J,IAAMt1J,EAAGC,EAGlB,SAAS85H,EAAE95H,GACT,GAAIA,GAAKA,EAAEw1J,WAAY,OAAOx1J,EAC9B,IAAID,EAAI,GACR,GAAI,MAAQC,EAAG,IAAK,IAAI85B,KAAK95B,EAC3BhB,OAAOS,eAAeC,KAAKM,EAAG85B,KAAO/5B,EAAE+5B,GAAK95B,EAAE85B,IAEhD,OAAO/5B,EAAEga,QAAU/Z,EAAGD,EAGxB,SAASozJ,EAAEnzJ,GACT,OAAOA,GAAKA,EAAEw1J,WAAax1J,EAAI,CAC7B+Z,QAAS/Z,GAIb,SAASszB,EAAEtzB,EAAGD,GACZ,IAAKA,EAAEijC,IAAIhjC,GAAI,MAAM,IAAIoC,UAAU,kDACnC,OAAOrC,EAAE8c,IAAI7c,GAGf,SAASkzB,EAAElzB,EAAGD,EAAG+5B,GACf,IAAK/5B,EAAEijC,IAAIhjC,GAAI,MAAM,IAAIoC,UAAU,kDACnC,OAAOrC,EAAEkQ,IAAIjQ,EAAG85B,GAAIA,IAErB,SAAU95B,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAI,WACN,SAAS9Y,EAAEA,EAAGD,EAAG+5B,EAAGhhB,QAClB,IAAW9Y,IAAMA,EAAI,QAAI,IAAWD,IAAMA,EAAI,QAAI,IAAW+5B,IAAMA,EAAI,QAAI,IAAWhhB,IAAMA,EAAI,GAAIlZ,KAAK8O,OAASoK,EAAGlZ,KAAKwE,MAAQ01B,EAAGl6B,KAAK4O,EAAI5O,KAAKuoB,KAAOnoB,EAAGJ,KAAK6O,EAAI7O,KAAKyoB,KAAOtoB,EAClL,IAAIZ,EAAIS,KAAKwoB,KAAOpoB,EAAI85B,EACpB7c,EAAIrd,KAAK0oB,KAAOvoB,EAAI+Y,EACxBlZ,KAAKmwC,GAAK,CACRvhC,EAAGxO,EACHyO,EAAG1O,GACFH,KAAK0xC,GAAK,CACX9iC,EAAGrP,EACHsP,EAAG1O,GACFH,KAAKgwC,GAAK,CACXphC,EAAGxO,EACHyO,EAAGwO,GACFrd,KAAKiwC,GAAK,CACXrhC,EAAGrP,EACHsP,EAAGwO,GACFrd,KAAKyW,OAAS,EAAGzW,KAAK0W,KAAO1W,KAAK4O,EAAG5O,KAAK2W,MAAQ,EAAG3W,KAAKuW,IAAMvW,KAAK6O,EAG1E,OAAOzO,EAAE2vD,UAAY,SAAU5vD,EAAG+5B,EAAGhhB,EAAG3Z,GACtC,OAAO,IAAIa,EAAED,EAAG+5B,EAAGhhB,EAAI/Y,EAAGZ,EAAI26B,IAC7B95B,EAAER,UAAU22J,OAAS,SAAUn2J,GAChC,OAAOJ,KAAK4O,IAAMxO,EAAEwO,GAAK5O,KAAK6O,IAAMzO,EAAEyO,GAAK7O,KAAKwE,QAAUpE,EAAEoE,OAASxE,KAAK8O,SAAW1O,EAAE0O,QACtF1O,EAxBG,GA2BRD,EAAEga,QAAUjB,GACX,SAAU9Y,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,GACNh6B,EAAI,CACNonB,OAAQ,SACRlL,KAAM,OACNkM,OAAQ,SACRhT,SAAU,YAGRkK,EAAI,SAAUpf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEqrB,SAAU,EAAIrrB,EAGzB,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUmhK,WAAa,SAAU3gK,KAAOD,EAAEP,UAAUohK,UAAY,SAAU5gK,KAAOD,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GACpJ,OAAO,GACNA,EAAEP,UAAUshK,UAAY,SAAU9gK,GACnC,IAAID,EAAIH,KAAKqkB,MACbrkB,KAAK+gK,WAAW3gK,GAChB,IAAI85B,EAAI95B,EAAE2iF,YAEV,GAAI/iF,KAAKmhK,UAAW,CAClB,IAAIjoJ,EAAI/Y,EAAEyS,YACVrT,EAAEugK,MAAM5mJ,IAAM,IAAMA,EAAI9Y,EAAEuS,QAAUvS,EAAE2iF,YAAc7pE,EAAG9Y,EAAEuS,OAAQvS,EAAE2iF,YAAc7oD,GAGnF,GAAIl6B,KAAKohK,aAAephK,KAAKqkB,MAAM3R,UAAY,EAAG,CAChD,IAAI2K,EAAIld,EAAE2T,cACVvU,EAAEugK,MAAMziJ,IAAM,IAAMA,IAAMjd,EAAE2iF,YAAc1lE,GAAIjd,EAAE0S,SAGlD9S,KAAKghK,UAAU5gK,IACdD,EAAEP,UAAUyhK,SAAW,WACxB,OAAO,GACNlhK,EAAEP,UAAU0hK,MAAQ,SAAUlhK,EAAGD,GAClC,IAAI+5B,EAAI,CAAC95B,EAAGD,EAAG,GAEf,GAAIH,KAAK+vB,OAAOmK,GAAIl6B,KAAKqhK,WAAY,CACnC,IAAInoJ,EAAIlZ,KAAKipB,UACb,GAAI/P,IAAMtW,EAAEmQ,IAAImG,EAAEqP,KAAMrP,EAAEsP,KAAMtP,EAAEuP,KAAMvP,EAAEwP,KAAMwR,EAAE,GAAIA,EAAE,IAAK,OAAO,EAGtE,IAAI36B,EAAIS,KAAKqkB,MAAMkC,KACnB,OAAOhnB,GAAKA,EAAEwwB,OAAOmK,EAAGl6B,KAAKid,IAAI,aAAc1d,EAAE0hK,cAAc/mI,EAAE,GAAIA,EAAE,KAAOl6B,KAAKihK,cAAc/mI,EAAE,GAAIA,EAAE,KAAOl6B,KAAKihK,cAAc/mI,EAAE,GAAIA,EAAE,KAC1I/5B,EAAEP,UAAU2hK,aAAe,WAC5B,OAAO,MACNphK,EAAEP,UAAU4hK,gBAAkB,WAC/B,IAAIphK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEqhK,iBAAmB,EAC7B,OAAQrhK,EAAEsS,WAAa,GAAKvS,GAC3BA,EAAEP,UAAU8hK,iBAAmB,WAChC1hK,KAAKkP,IAAIyyJ,YAAc,KAAM3hK,KAAKkP,IAAI+B,OAAS,MAC9C9Q,EAAEP,UAAUgiK,UAAY,WACzB5hK,KAAKkP,IAAI6D,IAAM,KAAM/S,KAAKkP,IAAI+B,OAAS,MACtC9Q,EAAEP,UAAUqpB,QAAU,WACvB,IAAI7oB,EAAIJ,KAAKid,IAAI,OACjB,OAAO7c,IAAMA,EAAIJ,KAAKuhK,iBAAmBvhK,KAAKqQ,IAAI,MAAOjQ,GAAIA,GAC5DD,EAAEP,UAAUivB,MAAQ,WACrB,IAAIzuB,EAAI,KACJ85B,EAAIl6B,KAAKqkB,MACTnL,EAAI,GACR,OAAO3Z,EAAE+4J,KAAKp+H,GAAG,SAAU95B,EAAGD,GAC5BD,EAAEC,IAAMZ,EAAEkjI,QAAQvoG,EAAE/5B,IAAM+Y,EAAE/Y,GAAK,SAAUC,GACzC,IAAK,IAAID,EAAI,GAAI+5B,EAAI,EAAGA,EAAI95B,EAAEX,OAAQy6B,IACpC36B,EAAEkjI,QAAQriI,EAAE85B,IAAM/5B,EAAEqQ,KAAK,GAAGnP,OAAOjB,EAAE85B,KAAO/5B,EAAEqQ,KAAKpQ,EAAE85B,IAGvD,OAAO/5B,EALwB,CAM/B+5B,EAAE/5B,IAAM+Y,EAAE/Y,GAAK+5B,EAAE/5B,OAChBC,EAAI,IAAID,EAAE,CACbkkB,MAAOnL,KACLhK,IAAIuJ,OAASzY,KAAKkP,IAAIuJ,OAAQrY,GACjCD,EAhEG,CAiENkd,EAAElD,SAEJha,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE4S,IAAM5S,EAAEyW,OAASzW,EAAEsa,KAAOta,EAAE0hK,QAAU1hK,EAAE2hK,cAAgB3hK,EAAE4hK,UAAY5hK,EAAE6hK,SAAW7hK,EAAEiT,UAAO,EAClG,IAAI8F,EAAIghB,EAAE,IACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,GAEV,SAASh6B,EAAEE,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,GAC3B,IAAImf,EAAInG,EAAEnG,IAAI3S,EAAGD,EAAG+5B,EAAG36B,EAAG8d,GAC1B,IAAKmC,EAAEH,EAAEkJ,KAAMlJ,EAAEmJ,KAAMnJ,EAAEoJ,KAAMpJ,EAAEqJ,KAAM9lB,EAAG1C,GAAI,OAAO,EACrD,IAAIof,EAAIpG,EAAE+oJ,cAAc7hK,EAAGD,EAAG+5B,EAAG36B,EAAGqD,EAAG1C,GACvC,OAAQg1B,MAAM5V,IAAMA,GAAKjC,EAAI,EAG/B,SAASmC,EAAEpf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GACxB,OAAOjd,GAAKb,GAAKA,GAAKY,GAAK+5B,GAAK7c,GAAKA,GAAKnE,EAG5C/Y,EAAEiT,KAAOlT,EAAGC,EAAE6hK,SAAW,SAAU5hK,EAAGD,EAAG+5B,EAAGhhB,GAC1C,IAAI3Z,EAAIa,EAAEX,OAAS,EACnB,GAAIF,EAAI,EAAG,OAAO,EAElB,IAAK,IAAI8d,EAAI,EAAGA,EAAI9d,EAAG8d,IACrB,GAAInd,EAAEE,EAAEid,GAAG,GAAIjd,EAAEid,GAAG,GAAIjd,EAAEid,EAAI,GAAG,GAAIjd,EAAEid,EAAI,GAAG,GAAIld,EAAG+5B,EAAGhhB,GAAI,OAAO,EAGrE,OAAO,GACN/Y,EAAE4hK,UAAY,SAAU3hK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAGqD,EAAG1C,EAAGsf,EAAGH,EAAGC,EAAGrP,GACvD,OAAOoN,EAAE4kJ,cAAc7hK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAGqD,EAAG1C,EAAGsf,EAAGF,EAAGrP,IAAMoP,EAAI,GAC3Dlf,EAAE2hK,cAAgB,SAAU1hK,EAAGD,EAAG+5B,EAAGhhB,EAAGmE,EAAGza,EAAG1C,EAAGsf,EAAGH,GACrD,OAAO9f,EAAE0iK,cAAc7hK,EAAGD,EAAG+5B,EAAGhhB,EAAGmE,EAAGza,EAAG4c,EAAGH,IAAMnf,EAAI,GACrDC,EAAE0hK,QAAU,SAAUzhK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGnd,EAAGsf,EAAGH,GAC/C,OAAOzc,EAAEq/J,cAAc7hK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGmC,EAAGH,IAAMnf,EAAI,GACrDC,EAAEsa,KAAO,SAAUra,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GACnC,OAAOjd,GAAKb,GAAKA,GAAKa,EAAI85B,GAAK/5B,GAAKkd,GAAKA,GAAKld,EAAI+Y,GACjD/Y,EAAEyW,OAAS,SAAUxW,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAClC,OAAO2e,KAAKyZ,IAAIze,EAAI9Y,EAAG,GAAK8d,KAAKyZ,IAAIp4B,EAAIY,EAAG,IAAM+d,KAAKyZ,IAAIuC,EAAG,IAC7D/5B,EAAE4S,IAAMyM,GACX,CAAE,SAAUpf,EAAGD,EAAG+5B,GAClB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAEizD,UAAYjzD,EAAEg7J,iBAAc,EAClC,IAAIjiJ,EAAIghB,EAAE,GACN36B,EAAI,iCACJ8d,EAAI,aACRld,EAAEg7J,YAAc,SAAU/6J,GACxB,IAAID,EAAI,EACJ+5B,EAAI,EACJ36B,EAAI,EACJ8d,EAAI,EACR,OAAOnE,EAAEupH,QAAQriI,GAAK,IAAMA,EAAEX,OAASU,EAAI+5B,EAAI36B,EAAI8d,EAAIjd,EAAE,GAAK,IAAMA,EAAEX,QAAUU,EAAIZ,EAAIa,EAAE,GAAI85B,EAAI7c,EAAIjd,EAAE,IAAM,IAAMA,EAAEX,QAAUU,EAAIC,EAAE,GAAI85B,EAAI7c,EAAIjd,EAAE,GAAIb,EAAIa,EAAE,KAAOD,EAAIC,EAAE,GAAI85B,EAAI95B,EAAE,GAAIb,EAAIa,EAAE,GAAIid,EAAIjd,EAAE,IAAMD,EAAI+5B,EAAI36B,EAAI8d,EAAIjd,EAAG,CAChOivJ,GAAIlvJ,EACJoiF,GAAIroD,EACJo1H,GAAI/vJ,EACJgwJ,GAAIlyI,IAELld,EAAEizD,UAAY,SAAUhzD,GACzB,OAAOA,EAAIA,GAAK,GAAI8Y,EAAEupH,QAAQriI,GAAKA,EAAI8Y,EAAEqnJ,SAASngK,IAAMA,EAAIA,EAAEk0B,MAAM/0B,GAAI2Z,EAAEo/I,KAAKl4J,GAAG,SAAUD,EAAG+5B,GAC7F,IAAK/5B,EAAIA,EAAEm0B,MAAMjX,IAAI,GAAG5d,OAAS,EAAG,CAClC,IAAIF,EAAIY,EAAE,GAAGgxB,OAAO,GACpBhxB,EAAEwQ,OAAO,EAAG,EAAGxQ,EAAE,GAAG4wB,OAAO,IAAK5wB,EAAE,GAAKZ,EAGzC2Z,EAAEo/I,KAAKn4J,GAAG,SAAUC,EAAG85B,GACrBhF,MAAM90B,KAAOD,EAAE+5B,IAAM95B,MACnBA,EAAE85B,GAAK/5B,KACTC,QAAK,IAEV,SAAUA,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE+hK,aAAe/hK,EAAE4S,IAAM5S,EAAE8hK,cAAgB9hK,EAAEgiK,eAAY,EAE7D,IAAIjpJ,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI,SAAWjd,EAAGD,EAAG+5B,EAAGhhB,GAC1B,MAAO,CACLtK,EAAGsP,KAAKiE,IAAIjJ,GAAKghB,EAAI95B,EACrByO,EAAGqP,KAAKkE,IAAIlJ,GAAKghB,EAAI/5B,IAGrByC,EAAI,SAAWxC,EAAGD,EAAG+5B,EAAGhhB,GAC1B,IAAI3Z,EAAG8d,EACP,OAAOnE,EAAI9Y,EAAID,GAAKZ,EAAIY,EAAIC,EAAGid,EAAI,EAAIa,KAAKK,GAAK2b,EAAI95B,GAAKA,EAAI85B,IAAM36B,EAAI,EAAI2e,KAAKK,GAAKne,EAAID,EAAGkd,EAAIjd,EAAI85B,IAAM36B,EAAIa,EAAID,EAAGkd,EAAI6c,EAAI95B,GAAIb,EAAI8d,EAAI6c,EAAI/5B,GAGhJA,EAAEgiK,UAAY,SAAU/hK,EAAGD,EAAG+5B,EAAG36B,GAC/B,IAAI8d,EAAI,EACR,OAAO6c,EAAI/5B,GAAK,EAAI+d,KAAKK,KAAOlB,EAAI,EAAIa,KAAKK,IAAKpe,EAAI+Y,EAAEy8I,IAAIx1J,EAAG,EAAI+d,KAAKK,IAAK2b,EAAIhhB,EAAEy8I,IAAIz7H,EAAG,EAAIhc,KAAKK,IAAMlB,EAAGjd,EAAI8Y,EAAEy8I,IAAIv1J,EAAG,EAAI8d,KAAKK,IAAKhf,EAAIY,GAAK+5B,EAAI95B,EAAI85B,GAAK95B,EAAID,EAAIC,EAAIwC,EAAExC,EAAG85B,EAAG/5B,GAAG,GAAMC,EAAID,GAAKC,EAAI85B,EAAI95B,EAAIwC,EAAExC,EAAGD,EAAG+5B,GAAG,GAAM/5B,GAAK+5B,EAAI/5B,EAAIC,GAAKA,EAAI85B,EAAI95B,EAAIwC,EAAExC,EAAGD,EAAG+5B,GAAG,GAAM95B,EAAID,GAAKC,EAAI85B,EAAI95B,EAAIwC,EAAExC,EAAG85B,EAAG/5B,GAAG,IAC9SA,EAAE8hK,cAAgB,SAAU7hK,EAAG85B,EAAG36B,EAAG8d,EAAGza,EAAG1C,EAAGsf,EAAGH,EAAGC,GACrD,IAAIrP,EAAI,CAACuP,EAAGH,GACRksB,EAAI,CAACnrC,EAAG85B,GACR75B,EAAI6Y,EAAE4E,KAAK+nB,SAAS,GAAI51B,EAAGs7B,GAC3B3sB,EAAI1F,EAAE4E,KAAKgoB,QAAQ,CAAC,EAAG,GAAIzlC,GAC/Bue,EAAIze,EAAEgiK,UAAUvjJ,EAAGvB,EAAGza,EAAG1C,GACzB,IAAIod,EAAI,CAAC/d,EAAI2e,KAAKiE,IAAIvD,GAAKxe,EAAGb,EAAI2e,KAAKkE,IAAIxD,GAAKsb,GAChD,OAAO5a,EAAI,CACT1Q,EAAG0O,EAAE,GACLzO,EAAGyO,EAAE,IACHpE,EAAE4E,KAAK2zC,SAASn0C,EAAGrN,IACtB9P,EAAE4S,IAAM,SAAU3S,EAAG85B,EAAGhhB,EAAGtW,EAAG1C,EAAGsf,GAClC,IAAIH,EAAInB,KAAKK,GAAK,EACde,EAAIpB,KAAKK,GACTtO,EAAI,EAAIiO,KAAKK,GAAK,EAClBgtB,EAAI,GACJlrC,EAAIF,EAAEgiK,UAAU,EAAGv/J,EAAG1C,EAAGsf,GAC7B,IAAMnf,GAAKkrC,EAAE/6B,KAAK6M,EAAEjd,EAAG85B,EAAGhhB,EAAG,KAAM7Y,EAAIF,EAAEgiK,UAAU9iJ,EAAGzc,EAAG1C,EAAGsf,MAAQH,GAAKksB,EAAE/6B,KAAK6M,EAAEjd,EAAG85B,EAAGhhB,EAAGmG,KAAMhf,EAAIF,EAAEgiK,UAAU7iJ,EAAG1c,EAAG1C,EAAGsf,MAAQF,GAAKisB,EAAE/6B,KAAK6M,EAAEjd,EAAG85B,EAAGhhB,EAAGoG,KAAMjf,EAAIF,EAAEgiK,UAAUlyJ,EAAGrN,EAAG1C,EAAGsf,MAAQvP,GAAKs7B,EAAE/6B,KAAK6M,EAAEjd,EAAG85B,EAAGhhB,EAAGjJ,IAAKs7B,EAAE/6B,KAAK6M,EAAEjd,EAAG85B,EAAGhhB,EAAGtW,IAAK2oC,EAAE/6B,KAAK6M,EAAEjd,EAAG85B,EAAGhhB,EAAGhZ,IACrQ,IAAI0e,EAAI2sB,EAAEnnC,KAAI,SAAUhE,GACtB,OAAOA,EAAEwO,KAEP0O,EAAIiuB,EAAEnnC,KAAI,SAAUhE,GACtB,OAAOA,EAAEyO,KAEX,OAAOtP,EAAE4a,QAAQ41C,UAAU7xC,KAAKuR,IAAI1vB,MAAMme,KAAMU,GAAIV,KAAKuR,IAAI1vB,MAAMme,KAAMZ,GAAIY,KAAKyH,IAAI5lB,MAAMme,KAAMU,GAAIV,KAAKyH,IAAI5lB,MAAMme,KAAMZ,KAC1Hnd,EAAE+hK,aAAe,SAAU9hK,EAAG85B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,GACjD,OAAOrf,EAAE8hK,cAAc7hK,EAAG85B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,GAAG,KAEhD,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,GACN7a,EAAInG,EAAE8iJ,KACN18I,EAAIpG,EAAEiE,KACNlN,EAAI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEtD,SAASs7B,EAAEnrC,EAAGD,EAAG+5B,GACf,MAAO,CACLtrB,EAAGsrB,EAAEtrB,EAAIxO,EACTyO,EAAGqrB,EAAErrB,EAAI1O,GAIb,SAASE,EAAED,EAAGD,GACZ,MAAO,CACLyO,EAAGzO,EAAEyO,GAAKzO,EAAEyO,EAAIxO,EAAEwO,GAClBC,EAAG1O,EAAE0O,GAAK1O,EAAE0O,EAAIzO,EAAEyO,IAItB,SAAS+P,EAAExe,GACT,OAAO8d,KAAKmE,KAAKjiB,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAG1C,SAASkd,EAAEld,EAAGD,GACZ,OAAQC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,KAAOye,EAAExe,GAAKwe,EAAEze,IAGjD,SAAS0O,EAAEzO,EAAGD,GACZ,OAAQC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,IAAM,EAAI,GAAK+d,KAAKC,KAAKb,EAAEld,EAAGD,IAG/D,IAAIw7B,EAAI,WACN,SAASv7B,EAAEA,EAAGD,EAAG+5B,GACfl6B,KAAKoiK,WAAajiK,EAAGH,KAAKqiK,OAASnoI,EAAGl6B,KAAKoP,KAAKhP,EAAGD,GAGrD,OAAOC,EAAER,UAAUwP,KAAO,SAAUhP,EAAGD,GACrC,IAAI+5B,EAAI95B,EAAE,GACVD,EAAIA,GAAK,CACPy4C,SAAU,CACRhqC,EAAG,EACHC,EAAG,IAGP,IAAItP,EACA8d,EACAza,EACA1C,EACAsf,EAAIvP,EAAE3P,QAAQ45B,IAAM,EACpB7a,EAAIG,EAAI0a,EAAErZ,cAAgBqZ,EAC1B5a,EAAIlf,EACJwe,EAAIze,EAAEy4C,SACNjd,EAAIrc,EAAE,GACN1Q,EAAI0Q,EAAE,GAEV,OAAQD,GACN,QACE,MAEF,IAAK,IACHnf,EAAIsf,EAAI+rB,EAAE5P,EAAG/sB,EAAGgQ,GAAK,CACnBhQ,EAAG+sB,EACH9sB,EAAGD,GACF5O,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAG1e,GAAIF,KAAKsiK,SAAWpiK,EAAGF,KAAK44C,SAAW14C,EAChF,MAEF,IAAK,IACHA,EAAIsf,EAAI+rB,EAAE5P,EAAG/sB,EAAGgQ,GAAK,CACnBhQ,EAAG+sB,EACH9sB,EAAGD,GACF5O,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAG1e,GAAIF,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAW14C,EAAGF,KAAKuiK,WAAa,WAC5G,MAAO,CAACriK,EAAE0O,EAAIgQ,EAAEhQ,EAAG1O,EAAE2O,EAAI+P,EAAE/P,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAI1O,EAAE0O,EAAGgQ,EAAE/P,EAAI3O,EAAE2O,IAE7B,MAEF,IAAK,IACH3O,EAAIsf,EAAI+rB,EAAE5P,EAAG,EAAG/c,GAAK,CACnBhQ,EAAG+sB,EACH9sB,EAAG+P,EAAE/P,GACJ7O,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAG1e,GAAIF,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAW14C,EAAGF,KAAKuiK,WAAa,WAC5G,MAAO,CAACriK,EAAE0O,EAAIgQ,EAAEhQ,EAAG1O,EAAE2O,EAAI+P,EAAE/P,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAI1O,EAAE0O,EAAGgQ,EAAE/P,EAAI3O,EAAE2O,IAE7B,MAEF,IAAK,IACH3O,EAAIsf,EAAI+rB,EAAE,EAAG5P,EAAG/c,GAAK,CACnBhQ,EAAGgQ,EAAEhQ,EACLC,EAAG8sB,GACF37B,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAG1e,GAAIF,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAW14C,EAAGF,KAAKuiK,WAAa,WAC5G,MAAO,CAACriK,EAAE0O,EAAIgQ,EAAEhQ,EAAG1O,EAAE2O,EAAI+P,EAAE/P,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAI1O,EAAE0O,EAAGgQ,EAAE/P,EAAI3O,EAAE2O,IAE7B,MAEF,IAAK,IACH2Q,GAAKjgB,EAAIgsC,EAAE5P,EAAG/sB,EAAGgQ,GAAIvB,EAAIkuB,EAAEjsB,EAAE,GAAIA,EAAE,GAAIV,KAAOrf,EAAI,CAChDqP,EAAG+sB,EACH9sB,EAAGD,GACFyO,EAAI,CACLzO,EAAG0Q,EAAE,GACLzQ,EAAGyQ,EAAE,KACHtf,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAGrf,EAAG8d,GAAIrd,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWv7B,EAAGrd,KAAKuiK,WAAa,WAChH,MAAO,CAACllJ,EAAEzO,EAAIrP,EAAEqP,EAAGyO,EAAExO,EAAItP,EAAEsP,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAIrP,EAAEqP,EAAGgQ,EAAE/P,EAAItP,EAAEsP,IAE7B,MAEF,IAAK,IACHwO,EAAImC,EAAI+rB,EAAE5P,EAAG/sB,EAAGgQ,GAAK,CACnBhQ,EAAG+sB,EACH9sB,EAAGD,GACF,MAAQzO,EAAE2xD,SAAWvyD,EAAIc,EAAEF,EAAE0f,OAAO,GAAIjB,GAAI5e,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAGrf,EAAG8d,GAAIrd,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWv7B,EAAGrd,KAAKuiK,WAAa,WAC3J,MAAO,CAACllJ,EAAEzO,EAAIrP,EAAEqP,EAAGyO,EAAExO,EAAItP,EAAEsP,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAIrP,EAAEqP,EAAGgQ,EAAE/P,EAAItP,EAAEsP,MACvB7O,KAAK8xD,QAAU,KAAM9xD,KAAK6f,OAAS,CAACjB,EAAGvB,GAAIrd,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWv7B,EAAGrd,KAAKuiK,WAAa,WAChH,MAAO,CAACllJ,EAAEzO,EAAIgQ,EAAEhQ,EAAGyO,EAAExO,EAAI+P,EAAE/P,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAIyO,EAAEzO,EAAGgQ,EAAE/P,EAAIwO,EAAExO,KAE7B,MAEF,IAAK,IACH2Q,GAAKjgB,EAAIgsC,EAAE5P,EAAG/sB,EAAGgQ,GAAIvB,EAAIkuB,EAAEjsB,EAAE,GAAIA,EAAE,GAAIV,GAAIhc,EAAI2oC,EAAEjsB,EAAE,GAAIA,EAAE,GAAIV,KAAOrf,EAAI,CACtEqP,EAAG+sB,EACH9sB,EAAGD,GACFyO,EAAI,CACLzO,EAAG0Q,EAAE,GACLzQ,EAAGyQ,EAAE,IACJ1c,EAAI,CACLgM,EAAG0Q,EAAE,GACLzQ,EAAGyQ,EAAE,KACHtf,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAGrf,EAAG8d,EAAGza,GAAI5C,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWh2C,EAAG5C,KAAKuiK,WAAa,WACnH,MAAO,CAAC3/J,EAAEgM,EAAIyO,EAAEzO,EAAGhM,EAAEiM,EAAIwO,EAAExO,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAIrP,EAAEqP,EAAGgQ,EAAE/P,EAAItP,EAAEsP,IAE7B,MAEF,IAAK,IACH2Q,GAAKnC,EAAIkuB,EAAE5P,EAAG/sB,EAAGgQ,GAAIhc,EAAI2oC,EAAEjsB,EAAE,GAAIA,EAAE,GAAIV,KAAOvB,EAAI,CAChDzO,EAAG+sB,EACH9sB,EAAGD,GACFhM,EAAI,CACLgM,EAAG0Q,EAAE,GACLzQ,EAAGyQ,EAAE,KACH,MAAQnf,EAAE2xD,SAAWvyD,EAAIc,EAAEF,EAAE0f,OAAO,GAAIjB,GAAI5e,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAGrf,EAAG8d,EAAGza,GAAI5C,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWh2C,EAAG5C,KAAKuiK,WAAa,WAC/J,MAAO,CAAC3/J,EAAEgM,EAAIyO,EAAEzO,EAAGhM,EAAEiM,EAAIwO,EAAExO,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAIrP,EAAEqP,EAAGgQ,EAAE/P,EAAItP,EAAEsP,MACvB7O,KAAK8xD,QAAU,KAAM9xD,KAAK6f,OAAS,CAACjB,EAAGvB,EAAGza,GAAI5C,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWh2C,EAAG5C,KAAKuiK,WAAa,WACnH,MAAO,CAAC3/J,EAAEgM,EAAIyO,EAAEzO,EAAGhM,EAAEiM,EAAIwO,EAAExO,IAC1B7O,KAAKwiK,aAAe,WACrB,MAAO,CAAC5jJ,EAAEhQ,EAAIyO,EAAEzO,EAAGgQ,EAAE/P,EAAIwO,EAAExO,KAE7B,MAEF,IAAK,IACH,IAAI+O,EAAI+d,EACJ/b,EAAIhR,EACJ0jB,EAAIhT,EAAE,GACNwb,EAAIxb,EAAE,GACN46G,EAAI56G,EAAE,GACVpf,EAAIsf,EAAI+rB,EAAEjsB,EAAE,GAAIA,EAAE,GAAIV,GAAK,CACzBhQ,EAAG0Q,EAAE,GACLzQ,EAAGyQ,EAAE,IACJtf,KAAK8xD,QAAU,IAElB,IAAIyhG,EAAI,SAAUnzJ,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,GAClC,IAAIsf,EAAItG,EAAEy8I,IAAIz8I,EAAEo9I,SAASp2J,GAAI,EAAIge,KAAKK,IAClCc,EAAIjf,EAAEwO,EACN0Q,EAAIlf,EAAEyO,EACNoB,EAAI9P,EAAEyO,EACN28B,EAAIprC,EAAE0O,EACNxO,EAAI6d,KAAKiE,IAAI3C,IAAMH,EAAIpP,GAAK,EAAIiO,KAAKkE,IAAI5C,IAAMF,EAAIisB,GAAK,EACxD3sB,GAAK,EAAIV,KAAKkE,IAAI5C,IAAMH,EAAIpP,GAAK,EAAIiO,KAAKiE,IAAI3C,IAAMF,EAAIisB,GAAK,EAC7D5P,EAAIt7B,EAAIA,GAAKgd,EAAIA,GAAKuB,EAAIA,GAAKhc,EAAIA,GACvC+4B,EAAI,IAAMte,GAAKa,KAAKmE,KAAKsZ,GAAI/4B,GAAKsb,KAAKmE,KAAKsZ,IAC5C,IAAI/sB,EAAIyO,EAAIA,GAAKuB,EAAIA,GAAKhc,EAAIA,GAAKvC,EAAIA,GACnCud,EAAIM,KAAKmE,MAAMhF,EAAIA,GAAKza,EAAIA,GAAKgM,GAAKA,GAC1CsrB,IAAM36B,IAAMqe,IAAM,GAAIsX,MAAMtX,KAAOA,EAAI,GAEvC,IAAIgC,EAAIhC,EAAIP,EAAIuB,EAAIhc,EAChB0vB,EAAI1U,GAAKhb,EAAIvC,EAAIgd,EACjByd,GAAKzb,EAAIpP,GAAK,EAAIiO,KAAKiE,IAAI3C,GAAKI,EAAI1B,KAAKkE,IAAI5C,GAAK8S,EAClD4nG,GAAK56G,EAAIisB,GAAK,EAAIrtB,KAAKkE,IAAI5C,GAAKI,EAAI1B,KAAKiE,IAAI3C,GAAK8S,EAClDihI,EAAI1kJ,EAAE,CAAC,EAAG,GAAI,EAAExO,EAAIuf,GAAKvC,GAAIuB,EAAI0T,GAAK1vB,IACtC8wB,EAAI,EAAErzB,EAAIuf,GAAKvC,GAAIuB,EAAI0T,GAAK1vB,GAC5B0wB,EAAI,GAAG,EAAIjzB,EAAIuf,GAAKvC,IAAK,EAAIuB,EAAI0T,GAAK1vB,GACtCoP,EAAInD,EAAE6kB,EAAGJ,GAEb,OAAOhW,EAAEoW,EAAGJ,KAAO,IAAMthB,EAAIkM,KAAKK,IAAKjB,EAAEoW,EAAGJ,IAAM,IAAMthB,EAAI,GAAI,IAAMzS,GAAKyS,EAAI,IAAMA,GAAK,EAAIkM,KAAKK,IAAK,IAAMhf,GAAKyS,EAAI,IAAMA,GAAK,EAAIkM,KAAKK,IAAK,CAACne,EAAG06B,EAAGo/F,EAAG78G,EAAGza,EAAG2wJ,EAAGvhJ,EAAGwN,EAAGjgB,GAvBnK,CAwBNqf,EAAG1e,EAAG46B,EAAGo/F,EAAGt8G,EAAGgC,EAAG0S,GAEpBtyB,KAAK6f,OAAS0zI,EACd,IAAI7/H,EAAIvzB,EAAEmiK,SACVtiK,KAAKsiK,SAAW5uI,EAAG1zB,KAAK44C,SAAW14C,EACnC,IAAIozB,EAAIigI,EAAE,IAAM,EAAIr1I,KAAKK,IACzBrF,EAAEs2I,cAAcl8H,EAAG,EAAIpV,KAAKK,MAAQ+U,EAAI,GACxC,IAAIthB,EAAIuhJ,EAAE,IAAM,EAAIr1I,KAAKK,IACzBrF,EAAEs2I,cAAcx9I,EAAG,EAAIkM,KAAKK,MAAQvM,EAAI,GACxC,IAAI8kJ,EAAI,KACR92J,KAAKwiK,aAAe,WAClB,IAAMtoC,IAAM48B,IAAM,GAClB,IAAI12J,EAAImzJ,EAAE,GAAKr1I,KAAKiE,IAAImR,EAAIwjI,GAAKvD,EAAE,GAC/BpzJ,EAAIozJ,EAAE,GAAKr1I,KAAKkE,IAAIkR,EAAIwjI,GAAKvD,EAAE,GACnC,MAAO,CAACnzJ,EAAIszB,EAAE9kB,EAAGzO,EAAIuzB,EAAE7kB,IACtB7O,KAAKuiK,WAAa,WACnB,IAAIniK,EAAImzJ,EAAE,GACVnzJ,EAAI,EAAI8d,KAAKK,GAAK,OAASne,EAAI,GAC/B,IAAID,EAAIozJ,EAAE,GAAKr1I,KAAKiE,IAAImR,EAAIlzB,EAAI02J,GAAKvD,EAAE,GACnCr5H,EAAIq5H,EAAE,GAAKr1I,KAAKkE,IAAIkR,EAAIlzB,EAAI02J,GAAKvD,EAAE,GACvC,MAAO,CAAC30I,EAAEhQ,EAAIzO,EAAGye,EAAE/P,EAAIqrB,IAEzB,MAEF,IAAK,IACHl6B,KAAK8xD,QAAU,IAAK9xD,KAAK6f,OAAS,CAACjB,EAAGze,EAAEmiK,UAAWtiK,KAAKsiK,SAAWniK,EAAEmiK,SAAUtiK,KAAK44C,SAAWz4C,EAAEmiK,WAEpGliK,EAAER,UAAU6iK,SAAW,SAAUriK,EAAGD,EAAG+5B,GACxC,IAAIhhB,EAAIlZ,KAAK8xD,QACTz0C,EAAIrd,KAAK6f,OACTjd,EAAI5C,KAAK+S,IACb,GAAInQ,IAAMrD,EAAEwT,IAAInQ,EAAE2lB,KAAM3lB,EAAE4lB,KAAM5lB,EAAE6lB,KAAM7lB,EAAE8lB,KAAMtoB,EAAGD,GAAI,OAAO,EAE9D,OAAQ+Y,GACN,QACE,MAEF,IAAK,IACH,OAAO,EAET,IAAK,KACL,IAAK,IACL,IAAK,IACH,OAAO3Z,EAAE6T,KAAKiK,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGqrB,EAAG95B,EAAGD,GAEtD,IAAK,KACL,IAAK,IACH,OAAOZ,EAAEuiK,cAAczkJ,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGqrB,EAAG95B,EAAGD,GAE/E,IAAK,IACH,OAAOZ,EAAEwiK,UAAU1kJ,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,EAAGqrB,EAAG95B,EAAGD,GAE3F,IAAK,IACH,IAAID,EAAImd,EACJmC,EAAItf,EAAE,GACN+P,EAAI/P,EAAE,GACNqrC,EAAIrrC,EAAE,GACNG,EAAIH,EAAE,GACN0e,EAAI1e,EAAE,GACNod,EAAIpd,EAAE,GACN2O,EAAI3O,EAAE,GACNy7B,EAAIz7B,EAAE,GACN0O,EAAI28B,EAAIlrC,EAAIkrC,EAAIlrC,EAChBud,EAAI2tB,EAAIlrC,EAAI,EAAIkrC,EAAIlrC,EACpBuf,EAAI2rB,EAAIlrC,EAAIA,EAAIkrC,EAAI,EACxBrrC,EAAI,CAACE,EAAGD,EAAG,GACX,IAAImyB,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACjC,OAAOhT,EAAEqP,UAAU2D,EAAGA,EAAG,EAAE9S,GAAIvP,IAAKqP,EAAE4C,OAAOoQ,EAAGA,GAAIzjB,GAAIyQ,EAAEqO,MAAM2E,EAAGA,EAAG,CAAC,EAAI1U,EAAG,EAAIgC,IAAKP,EAAEwlB,cAAc3kC,EAAGA,EAAGoyB,GAAI/yB,EAAEsiK,QAAQ,EAAG,EAAGjzJ,EAAGgQ,EAAGA,EAAItB,EAAG,EAAIqe,EAAGzB,EAAGh6B,EAAE,GAAIA,EAAE,IAGpK,OAAO,GACNE,EAAER,UAAUkQ,KAAO,SAAU1P,GAC9B,IAAID,EACA+5B,EACAhhB,EACA3Z,EAAIS,KAAK8xD,QACTz0C,EAAIrd,KAAK6f,OAEb,OAAQtgB,GACN,QACE,MAEF,IAAK,IACHa,EAAE47C,OAAO3+B,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,GACtB,MAEF,IAAK,KACL,IAAK,IACHzO,EAAEsiK,OAAOrlJ,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,GACtB,MAEF,IAAK,KACL,IAAK,IACH1O,EAAIkd,EAAE,GAAI6c,EAAI7c,EAAE,GAAIjd,EAAEuiK,iBAAiBxiK,EAAEyO,EAAGzO,EAAE0O,EAAGqrB,EAAEtrB,EAAGsrB,EAAErrB,GACxD,MAEF,IAAK,IACH1O,EAAIkd,EAAE,GAAI6c,EAAI7c,EAAE,GAAInE,EAAImE,EAAE,GAAIjd,EAAEwiK,cAAcziK,EAAEyO,EAAGzO,EAAE0O,EAAGqrB,EAAEtrB,EAAGsrB,EAAErrB,EAAGqK,EAAEtK,EAAGsK,EAAErK,GACzE,MAEF,IAAK,IACH,IAAIjM,EAAIya,EACJnd,EAAI0C,EAAE,GACN4c,EAAI5c,EAAE,GACNyc,EAAIzc,EAAE,GACN0c,EAAI1c,EAAE,GACNqN,EAAIrN,EAAE,GACN2oC,EAAI3oC,EAAE,GACNvC,EAAIuC,EAAE,GACNgc,EAAIhc,EAAE,GACN0a,EAAI+B,EAAIC,EAAID,EAAIC,EAChBzQ,EAAIwQ,EAAIC,EAAI,EAAID,EAAIC,EACpBqc,EAAItc,EAAIC,EAAIA,EAAID,EAAI,EACxBjf,EAAEuuB,UAAUzuB,EAAGsf,GAAIpf,EAAE8hB,OAAO7hB,GAAID,EAAEutB,MAAM9e,EAAG8sB,GAAIv7B,EAAEoa,IAAI,EAAG,EAAG8C,EAAGrN,EAAGA,EAAIs7B,EAAG,EAAI3sB,GAAIxe,EAAEutB,MAAM,EAAI9e,EAAG,EAAI8sB,GAAIv7B,EAAE8hB,QAAQ7hB,GAAID,EAAEuuB,WAAWzuB,GAAIsf,GACtI,MAEF,IAAK,IACHpf,EAAEyiF,cAELziF,EAAER,UAAUqpB,QAAU,SAAU7oB,GACjC,IAAID,EACA+5B,EACAhhB,EACA3Z,EACA8f,EAAIjf,EAAI,EACRkf,EAAItf,KAAK6f,OAEb,OAAQ7f,KAAK8xD,SACX,QACA,IAAK,IACL,IAAK,IACH,MAEF,IAAK,KACL,IAAK,IACH9xD,KAAK+S,IAAMyM,EAAErF,QAAQ41C,UAAU7xC,KAAKuR,IAAInQ,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,GAAKyQ,EAAGnB,KAAKuR,IAAInQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,GAAKwQ,EAAGnB,KAAKyH,IAAIrG,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,GAAKyQ,EAAGnB,KAAKyH,IAAIrG,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,GAAKwQ,GACpJ,MAEF,IAAK,KACL,IAAK,IACH,IAAKnG,EAAI,EAAG3Z,GAAK26B,EAAIt3B,EAAEigK,QAAQvjJ,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,IAAInP,OAAQyZ,EAAI3Z,EAAG2Z,IACrEghB,EAAEhhB,GAAKtW,EAAEkgK,GAAGxjJ,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAGsrB,EAAEhhB,IAGxC,IAAKghB,EAAE1pB,KAAK8O,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,GAAIsK,EAAI,EAAG3Z,GAAKY,EAAIyC,EAAEigK,QAAQvjJ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,IAAIpP,OAAQyZ,EAAI3Z,EAAG2Z,IAC7F/Y,EAAE+Y,GAAKtW,EAAEkgK,GAAGxjJ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAG1O,GAGtCA,EAAEqQ,KAAK8O,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,GAAI7O,KAAK+S,IAAMyM,EAAErF,QAAQ41C,UAAU7xC,KAAKuR,IAAI1vB,MAAMme,KAAMgc,GAAK7a,EAAGnB,KAAKuR,IAAI1vB,MAAMme,KAAM/d,GAAKkf,EAAGnB,KAAKyH,IAAI5lB,MAAMme,KAAMgc,GAAK7a,EAAGnB,KAAKyH,IAAI5lB,MAAMme,KAAM/d,GAAKkf,GACxK,MAEF,IAAK,IACH,IAAKnG,EAAI,EAAG3Z,GAAK26B,EAAI7c,EAAEwlJ,QAAQvjJ,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,IAAInP,OAAQyZ,EAAI3Z,EAAG2Z,IAC7EghB,EAAEhhB,GAAKmE,EAAEylJ,GAAGxjJ,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,EAAGsrB,EAAEhhB,IAGhD,IAAKA,EAAI,EAAG3Z,GAAKY,EAAIkd,EAAEwlJ,QAAQvjJ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,IAAIpP,OAAQyZ,EAAI3Z,EAAG2Z,IAC7E/Y,EAAE+Y,GAAKmE,EAAEylJ,GAAGxjJ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,EAAG1O,EAAE+Y,IAGhDghB,EAAE1pB,KAAK8O,EAAE,GAAG1Q,EAAG0Q,EAAE,GAAG1Q,GAAIzO,EAAEqQ,KAAK8O,EAAE,GAAGzQ,EAAGyQ,EAAE,GAAGzQ,GAAI7O,KAAK+S,IAAMyM,EAAErF,QAAQ41C,UAAU7xC,KAAKuR,IAAI1vB,MAAMme,KAAMgc,GAAK7a,EAAGnB,KAAKuR,IAAI1vB,MAAMme,KAAM/d,GAAKkf,EAAGnB,KAAKyH,IAAI5lB,MAAMme,KAAMgc,GAAK7a,EAAGnB,KAAKyH,IAAI5lB,MAAMme,KAAM/d,GAAKkf,GAChM,MAEF,IAAK,IACH,IAAIpP,EAAIqP,EACJisB,EAAIt7B,EAAE,GACN5P,EAAI4P,EAAE,GACN2O,EAAI3O,EAAE,GACNqN,EAAIrN,EAAE,GACNpB,EAAIoB,EAAE,GACN0rB,EAAI1rB,EAAE,GACNrB,EAAIqB,EAAE,GACN2N,EAAI3N,EAAE,GACN2P,EAAI/Q,EACJyjB,EAAIzjB,EAAI8sB,EACRb,EAAI56B,EAAE6iK,SAASn0J,EAAGgQ,EAAGtB,GACrB48G,EAAI,IACJq5B,GAAI,IACJ7/H,EAAI,CAAC9T,EAAG0S,GAEZ,IAAKpZ,EAAI,GAAKgF,KAAKK,GAAIrF,GAAK,EAAIgF,KAAKK,GAAIrF,GAAKgF,KAAKK,GAAI,CACrD,IAAI+U,EAAIwH,EAAI5hB,EACZ,IAAM0E,EAAIgC,EAAI0T,GAAKA,EAAIhB,GAAKoB,EAAEljB,KAAK8iB,GAAKhB,EAAIgB,GAAKA,EAAI1T,GAAK8T,EAAEljB,KAAK8iB,GAGnE,IAAKpa,EAAI,EAAG3Z,EAAIm0B,EAAEj0B,OAAQyZ,EAAI3Z,EAAG2Z,IAAK,CACpC,IAAIlH,EAAI9R,EAAE8iK,IAAIp0J,EAAGgQ,EAAGtB,EAAGiuB,EAAG7X,EAAExa,IAC5BlH,EAAIkoH,IAAMA,EAAIloH,GAAIA,EAAIuhJ,IAAMA,EAAIvhJ,GAGlC,IAAI8kJ,EAAI52J,EAAE+iK,SAASr0J,EAAGgQ,EAAGtB,GACrB8H,EAAI,IACJ2xI,GAAI,IACJntH,EAAI,CAAChqB,EAAG0S,GAEZ,IAAKpZ,EAAI,GAAKgF,KAAKK,GAAIrF,GAAK,EAAIgF,KAAKK,GAAIrF,GAAKgF,KAAKK,GAAI,CACrD,IAAImZ,EAAIo/H,EAAI59I,EACZ,IAAM0E,EAAIgC,EAAI8X,GAAKA,EAAIpF,GAAKsX,EAAEp5B,KAAKknB,GAAKpF,EAAIoF,GAAKA,EAAI9X,GAAKgqB,EAAEp5B,KAAKknB,GAGnE,IAAKxe,EAAI,EAAG3Z,EAAIqqC,EAAEnqC,OAAQyZ,EAAI3Z,EAAG2Z,IAAK,CACpC,IAAI4H,EAAI5gB,EAAEgjK,IAAIt0J,EAAGgQ,EAAGtB,EAAGjd,EAAGupC,EAAE1wB,IAC5B4H,EAAIsE,IAAMA,EAAItE,GAAIA,EAAIi2I,IAAMA,EAAIj2I,GAGlC9gB,KAAK+S,IAAMyM,EAAErF,QAAQ41C,UAAUmqE,EAAI76G,EAAG+F,EAAI/F,EAAGk0I,EAAIl0I,EAAG03I,EAAI13I,KAE3Djf,EAtXG,GAyXRD,EAAEga,QAAUwhB,GACX,SAAUv7B,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAEgjK,YAAchjK,EAAEijK,mBAAgB,EACtC,IAAIlqJ,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAIa,KAAKK,GACT3b,EAAIsb,KAAKkE,IACTliB,EAAIge,KAAKiE,IACT3C,EAAItB,KAAKm0C,MACThzC,EAAIhC,EAAI,EAEZ,SAASiC,EAAElf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG+f,EAAGrP,GAC3B,IAAIs7B,EAAGlrC,EAAGue,EAAGtB,EAAGzO,EAAG8sB,EAAG/sB,EAEtB,IAAKzO,EAAEwS,KAAM,CACX,IAAIiL,EAAIzd,EAAEkjK,aAAe,GACrBzjJ,EAAIzf,EAAEmjK,WAAanjK,EAAEmjK,WAAajmJ,EAAI,IAAMgC,EAChDzQ,EAAI4Q,EAAEtG,EAAIoG,EAAG4a,EAAI36B,GAAIsP,EAAIqP,KAAKsE,IAAIriB,EAAEuS,UAAYxS,EAAE0O,IAAM,EAAG+sB,EAAIzd,KAAKsE,IAAIriB,EAAEuS,UAAY9P,EAAEgM,IAAM,EAAGqB,IAAMpB,GAAKA,EAAG8sB,GAAKA,GAAI4P,EAAIhsC,EAAIqe,EAAI1d,EAAE0O,EAAIgR,EAAI,GAAIvf,EAAIif,EAAI1B,EAAIhb,EAAEgM,EAAIgR,EAAI,GAAIhB,EAAIrf,EAAIqe,EAAI1d,EAAE0O,EAAIgR,EAAI,GAAItC,EAAIgC,EAAI1B,EAAIhb,EAAEgM,EAAIgR,EAAI,GAAIxf,EAAEwiF,YAAaxiF,EAAE47C,OAAOzQ,EAAI18B,EAAGxO,EAAIs7B,GAAIv7B,EAAEsiK,OAAOnjK,EAAIsP,EAAGyQ,EAAIqc,GAAIv7B,EAAEsiK,OAAO9jJ,EAAI/P,EAAGyO,EAAIqe,GAAIv7B,EAAE47C,OAAOz8C,EAAIsP,EAAGyQ,EAAIqc,GAAIv7B,EAAEsiK,OAAOnjK,EAAIsP,EAAGyQ,EAAIqc,GAAIv7B,EAAE47C,OAAOz8C,EAAG+f,GAAIlf,EAAE0S,UAI7X,SAAS7C,EAAE7P,EAAGD,EAAG+5B,EAAG7c,EAAGza,EAAG1C,EAAGsf,GAC3B,IAAIH,EAAIG,EAAIrf,EAAEojK,WAAapjK,EAAEqjK,SACzBlkJ,EAAID,EAAET,EACN3O,EAAI,EACJs7B,EAAI3oC,EAAIs3B,EACR75B,EAAIH,EAAImd,EACRuB,EAAIV,KAAK01G,KAAKroF,EAAIlrC,GACtB,IAAMA,GAAKkrC,EAAI,EAAIt7B,EAAIiO,KAAKK,GAAKgtB,EAAI,GAAKlrC,EAAI,EAAI4P,EAAIiO,KAAKK,GAAK,EAAIK,EAAI2sB,EAAI,GAAKlrC,EAAI,EAAI4P,GAAKiO,KAAKK,GAAK,EAAIK,EAAI2sB,GAAK,GAAKlrC,EAAI,EAAI4P,GAAK2O,EAAIV,KAAKK,GAAK,EAAIgtB,GAAK,GAAKlrC,EAAI,IAAM4P,EAAIiO,KAAKK,GAAK,EAAIK,GAE/L,IAAItB,EAAI,SAAUld,GAChB,IAAID,EACA+5B,EAAI,GACJ7c,EAAInE,EAAEk6C,UAAUhzD,EAAEgc,MAEtB,GAAIoB,MAAMilH,QAAQplH,IAAM,IAAMA,EAAE5d,SAAW,MAAQ4d,EAAE,GAAG,IAAM,MAAQA,EAAE,GAAG,IAAK,CAC9E,IAAK,IAAIza,EAAIya,EAAE5d,OAAQS,EAAI,EAAGA,EAAImd,EAAE5d,OAAQS,IAAK,CAC/C,IAAIsf,EAAInC,EAAEnd,GACVC,EAAI,IAAIZ,EAAE4a,QAAQqF,EAAGrf,EAAGD,IAAM0C,EAAI,GAAIs3B,EAAE1pB,KAAKrQ,GAG/C,OAAO+5B,GAXH,CAaN7a,GAEF,GAAI/B,EAAG,CACLgC,IAAME,GAAK5c,GAAKsb,KAAKkE,IAAIlE,KAAKsE,IAAI5D,IAAMU,EAAGpf,EAAIA,EAAIge,KAAKiE,IAAIjE,KAAKsE,IAAI5D,IAAMU,EAAI,GAAKlf,EAAEsS,YAAc9P,GAAKsb,KAAKkE,IAAIlE,KAAKsE,IAAI5D,IAAMU,EAAGpf,EAAIA,EAAIge,KAAKiE,IAAIjE,KAAKsE,IAAI5D,IAAMU,EAAI,GAAKlf,EAAEsS,YAAatS,EAAEo7I,OAAQp7I,EAAEwiF,YAAaxiF,EAAEuuB,UAAU/rB,EAAG1C,GAAIE,EAAE8hB,OAAOjS,GAEjP,IAAK,IAAIpB,EAAI,EAAGA,EAAIyO,EAAE7d,OAAQoP,IAC5ByO,EAAEzO,GAAGiB,KAAK1P,GAGZA,EAAEqjK,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIrjK,EAAE8T,UAAY9T,EAAEkU,YAAalU,EAAEuS,OAAQvS,EAAEu7I,WAI/Ex7I,EAAEijK,cAAgB,SAAUhjK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GACzC,iBAAmBld,EAAEojK,WAAatzJ,EAAE7P,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAAG,GAAMld,EAAEojK,YAAcjkJ,EAAElf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAAG,IAC/Fld,EAAEgjK,YAAc,SAAU/iK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAC1C,iBAAmBld,EAAEqjK,SAAWvzJ,EAAE7P,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAAG,GAAMld,EAAEqjK,UAAYlkJ,EAAElf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAAG,KAE7F,SAAUjd,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IACNt3B,EAAI,CACN8kB,MAAO,QACPxF,OAAQ,UAENhiB,EAAI,CACNyS,KAAM,OACNG,OAAQ,SACRoB,UAAW,YACXI,YAAa,eAGf,SAASkL,EAAEpf,EAAGD,GACZ,IAAI+5B,EAAI,GACJhhB,EAAI/Y,EAAEkkB,MAEV,IAAK,IAAI9kB,KAAKa,EAAEikB,MACd6V,EAAE36B,GAAK2Z,EAAE3Z,GAGX,OAAO26B,EAGT,IAAI7a,EAAI,SAAUjf,GAChB,SAASD,EAAEA,QACT,IAAWA,IAAMA,EAAI,IACrB,IAAI+5B,EAAI95B,EAAEN,KAAKE,KAAMG,IAAMH,KAC3B,OAAOk6B,EAAEwpI,gBAAiBxpI,EAAEypI,cAAezpI,EAG7C,OAAOhhB,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAU+jK,YAAc,WAClD3jK,KAAKspB,UAAU,YAAY,GAAKtpB,KAAKspB,UAAU,aAAa,IAC3DnpB,EAAEP,UAAU4c,QAAU,SAAUpc,EAAGD,EAAG+5B,EAAGhhB,EAAGmE,QAC7C,IAAWnE,IAAMA,EAAI3Z,EAAEmxB,WAAO,IAAWrT,IAAMA,EAAI,GACnDrd,KAAKqQ,IAAI,aAAa,GACtB,IAAIgP,EAAIrf,KAAKid,IAAI,YACjBoC,IAAMA,EAAIrf,KAAKid,IAAI,UAAUA,IAAI,YAAajd,KAAKspB,UAAU,WAAYjK,IACzE,IAAIC,EAAItf,KAAKid,IAAI,cAAgB,GACjCoC,EAAEu+D,OAASv+D,EAAEukJ,YAAarkK,EAAEygK,SAAS9mJ,KAAOmE,EAAInE,EAAGA,EAAI,MAAO3Z,EAAEsgK,WAAW3lI,IAAMhhB,EAAIghB,EAAGA,EAAI,cAAgBA,EAAIA,GAAK,aAErH,IAAIjqB,EAAI,SAAU7P,EAAGD,GACnB,IAAI+5B,EAAI,CACN5S,OAAQ,KACRjD,MAAO,IAELnL,EAAI/Y,EAAEkkB,MAEV,IAAK,IAAIhH,KAAKjd,EACZ,GAAI,cAAgBid,EAAG6c,EAAE5S,OAAS/nB,EAAEsQ,UAAU1P,EAAEonB,YAAannB,EAAEid,SAAS,GAAI,WAAaA,EAAG6c,EAAE5S,OAAS/nB,EAAEsQ,UAAU1P,EAAEonB,YAAa,CAAC,CAAC,IAAKnnB,EAAEid,WAAW,GAAI,WAAaA,EAAG6c,EAAE5S,OAASlnB,EAAEid,OAAQ,CAC7L,GAAInd,EAAEmd,IAAM,uBAAuB+C,KAAKhgB,EAAEid,IAAK,SAC/Cza,EAAEya,IAAMnE,EAAEmE,KAAOjd,EAAEid,KAAO6c,EAAE7V,MAAMhH,GAAKjd,EAAEid,IAI7C,OAAO6c,EAdD,CAeN95B,EAAGJ,MACDurC,EAAI,CACNs4H,UAAWrkJ,EAAEvP,EAAGjQ,MAChB8jK,QAAS7zJ,EAAEoU,MACX0/I,WAAYxkK,EAAEsvB,MAAM7uB,KAAKunB,aACzBy8I,SAAU/zJ,EAAEqX,OACZM,SAAUznB,EACVwnB,OAAQuS,EACRrS,SAAU3O,EACVwO,MAAOrK,EACP4mJ,UAAW5kJ,EAAE8V,UACbxmB,GAAIpP,EAAEw5J,WACN5tD,QAAS,MAGX/qG,EAAE+qG,UAAY5/D,EAAE4/D,QAAU/qG,EAAE+qG,SAAU7rF,EAAE7f,OAAS,EAAI6f,EAAI,SAAUlf,EAAGD,GACpE,GAAIA,EAAEgrG,QAAS,OAAO/qG,EACtB,IAAI85B,EAAI/5B,EAAEunB,MACNxO,EAAI9Z,OAAOQ,UAAUC,eACzB,OAAON,EAAE+4J,KAAKn4J,EAAE2jK,SAAS,SAAU3jK,EAAGkd,GACpC9d,EAAE+4J,KAAKl4J,GAAG,SAAUA,GAClB85B,EAAI95B,EAAE6jK,UAAY7jK,EAAEwnB,UAAY1O,EAAEpZ,KAAKM,EAAE0jK,QAASzmJ,YAAcjd,EAAE0jK,QAAQzmJ,UAAWjd,EAAEyjK,UAAUxmJ,UAEjGld,EAAE6jK,UAAYzkK,EAAE+4J,KAAKl4J,GAAG,SAAUA,GACpC85B,EAAI95B,EAAE6jK,UAAY7jK,EAAEwnB,UAAYxnB,EAAE4jK,iBAAmB5jK,EAAE4jK,YACrD5jK,EAVmD,CAWvDkf,EAAGisB,GAAKlsB,EAAE6kJ,YAAYlkK,MAAOsf,EAAE9O,KAAK+6B,GAAIvrC,KAAKspB,UAAU,YAAahK,GAAItf,KAAKspB,UAAU,QAAS,CAChG66I,UAAU,KAEXhkK,EAAEP,UAAUy0C,YAAc,WAC3B,IAAIj0C,EAAIJ,KACJG,EAAIH,KAAKid,IAAI,aACjB1d,EAAE+4J,KAAKn4J,GAAG,SAAUA,GAClBA,EAAEgrG,QAAU/qG,EAAEgoB,KAAKjoB,EAAEgrG,QAAQ,IAAM/qG,EAAEgoB,KAAKjoB,EAAE2jK,SAAU3jK,EAAE6jK,UAAY5jK,EAAEgoB,KAAK,SAAUjoB,EAAE6jK,UAAW7jK,EAAE0nB,UAAY1nB,EAAE0nB,cAChH7nB,KAAKspB,UAAU,aAAa,GAAKtpB,KAAKspB,UAAU,YAAa,KAChEnpB,EAAEP,UAAUwkK,aAAe,WAC5B,IAAIhkK,EAAIJ,KAAKid,IAAI,YACjB,OAAOjd,KAAKspB,UAAU,QAAS,CAC7B66I,UAAU,EACVE,UAAWjkK,EAAE+0B,YACXn1B,MACHG,EAAEP,UAAU0kK,cAAgB,WAC7B,IAAIlkK,EAAIJ,KAAKid,IAAI,YAAYkY,UACzBh1B,EAAIH,KAAKid,IAAI,aACbid,EAAIl6B,KAAKid,IAAI,SAASonJ,UAC1B,OAAO9kK,EAAE+4J,KAAKn4J,GAAG,SAAUA,GACzBA,EAAE8jK,UAAY9jK,EAAE8jK,WAAa7jK,EAAI85B,GAAI/5B,EAAEokK,SAAU,EAAIpkK,EAAEqkK,WAAa,QAClExkK,KAAKspB,UAAU,QAAS,CAC1B66I,UAAU,IACRnkK,KAAKspB,UAAU,YAAanpB,GAAIH,MACnCG,EAlFG,CAmFNkd,EAAElD,SAEJha,EAAEga,QAAUkF,GACX,SAAUjf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI,WACN,SAASa,EAAEA,EAAGD,EAAG+5B,EAAGhhB,GAClBlZ,KAAK4O,EAAI,EAAG5O,KAAK6O,EAAI,EAAG7O,KAAKy8C,QAAU,EAAGz8C,KAAK08C,QAAU,EAAG18C,KAAKkP,IAAM,GAAIlP,KAAKykK,SAAU,EAAIzkK,KAAKg9I,YAAa,EAAIh9I,KAAK+4B,WAAY,IAAIz1B,MAAO6xB,UAAWn1B,KAAK0kK,kBAAmB,EAAI1kK,KAAK2kK,oBAAqB,EAAI3kK,KAAKmG,KAAO/F,EAAGJ,KAAKu/C,MAAQp/C,EAAGH,KAAKykK,UAAYvqI,EAAGl6B,KAAKg9I,aAAe9jI,EAG9R,OAAO9Y,EAAER,UAAU6/C,eAAiB,WAClCz/C,KAAK0kK,iBAAmB1kK,KAAKg9I,aAAc,GAC1C58I,EAAER,UAAU4/C,gBAAkB,WAC/Bx/C,KAAK2kK,oBAAqB,GACzBvkK,EAAER,UAAUuQ,OAAS,WACtBnQ,KAAKkP,IAAI01J,SAAU,GAClBxkK,EAAER,UAAUivB,MAAQ,WACrB,OAAO3V,EAAE2V,MAAM7uB,OACdI,EAAER,UAAU2D,SAAW,WACxB,MAAO,gBAAkBvD,KAAKmG,KAAO,MACpC/F,EAfG,GAkBRD,EAAEga,QAAU5a,GACX,SAAUa,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE0d,IAAM1d,EAAE4S,IAAM5S,EAAE8hK,cAAgB9hK,EAAE2iK,QAAK,EAC7C,IAAI5pJ,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACV/5B,EAAE2iK,GAAK,SAAU1iK,EAAGD,EAAG+5B,GACrB,OAAQ/5B,EAAIC,GAAK85B,EAAI95B,GACpBD,EAAE8hK,cAAgB,SAAU7hK,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,GAC5C,IAAI1C,EAAI,CAACg6B,EAAI95B,EAAGb,EAAIY,GACpB,GAAI+Y,EAAE4E,KAAKg/I,YAAY58J,EAAG,CAAC,EAAG,IAAK,OAAOwvB,IAC1C,IAAIlQ,EAAI,EAAEtf,EAAE,GAAIA,EAAE,IAClBgZ,EAAE4E,KAAKm8B,UAAUz6B,EAAGA,GACpB,IAAIH,EAAI,CAAChC,EAAIjd,EAAGwC,EAAIzC,GACpB,OAAO+d,KAAKsE,IAAItJ,EAAE4E,KAAKjD,IAAIwE,EAAGG,KAC7Brf,EAAE4S,IAAM,SAAU3S,EAAGD,EAAG+5B,EAAGhhB,EAAGmE,GAC/B,IAAIza,EAAIya,EAAI,EACZ,OAAO9d,EAAE4a,QAAQ41C,UAAU7xC,KAAKuR,IAAIrvB,EAAG85B,GAAKt3B,EAAGsb,KAAKuR,IAAItvB,EAAG+Y,GAAKtW,EAAGsb,KAAKyH,IAAIvlB,EAAG85B,GAAKt3B,EAAGsb,KAAKyH,IAAIxlB,EAAG+Y,GAAKtW,IACvGzC,EAAE0d,IAAM,SAAUzd,EAAGD,EAAG+5B,EAAGhhB,GAC5B,OAAOgF,KAAKmE,MAAM6X,EAAI95B,IAAM85B,EAAI95B,IAAM8Y,EAAI/Y,IAAM+Y,EAAI/Y,MAErD,SAAUC,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE+hK,aAAe/hK,EAAE0d,IAAM1d,EAAE0iK,QAAU1iK,EAAE8hK,cAAgB9hK,EAAE0kK,aAAe1kK,EAAE2iK,QAAK,EACnF,IAAI5pJ,EAAIghB,EAAE,GACN36B,EAAI2Z,EAAE4E,KAEV,SAAST,EAAEjd,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GACrB,IAAI8d,EAAI,EAAI9d,EACZ,OAAO8d,EAAIA,GAAKA,EAAInE,EAAI,EAAI3Z,EAAI26B,GAAK36B,EAAIA,GAAKA,EAAIa,EAAI,EAAIid,EAAIld,GAGhE,SAASyC,EAAExC,EAAGD,EAAG+5B,EAAGhhB,EAAGtW,EAAG1C,EAAGsf,EAAGH,EAAGC,EAAGrP,EAAGs7B,GACvC,IAAIlrC,EACAue,EACAtB,EACAzO,EACA8sB,EACA/sB,EACAgP,EACAgC,EACA0S,EAAI,KACJwI,EAAI,IACJo/F,EAAI,CAAC56G,EAAGrP,GAEZ,IAAK2O,EAAI,EAAGA,EAAI,EAAGA,GAAK,IACtBtB,EAAI,CAACD,EAAEjd,EAAG85B,EAAGt3B,EAAG4c,EAAGZ,GAAIvB,EAAEld,EAAG+Y,EAAGhZ,EAAGmf,EAAGT,KAAM/P,EAAItP,EAAE69J,gBAAgBljC,EAAG58G,IAAMwd,IAAMz6B,EAAIue,EAAGkc,EAAIjsB,GAG7FisB,EAAI,IAEJ,IAAK,IAAIy4H,EAAI,EAAGA,EAAI,MAAQjhI,EAAI,MAAOihI,IACrC3zI,EAAIvf,EAAIiyB,EAAGhV,EAAI,CAACD,EAAEjd,EAAG85B,EAAGt3B,EAAG4c,EAAG5B,EAAIvd,EAAIiyB,GAAIjV,EAAEld,EAAG+Y,EAAGhZ,EAAGmf,EAAGzB,IAAK/O,EAAItP,EAAE69J,gBAAgBljC,EAAG58G,GAAIM,GAAK,GAAK/O,EAAIisB,GAAKz6B,EAAIud,EAAGkd,EAAIjsB,IAAMD,EAAI,CAACyO,EAAEjd,EAAG85B,EAAGt3B,EAAG4c,EAAGI,GAAIvC,EAAEld,EAAG+Y,EAAGhZ,EAAGmf,EAAGO,IAAK+b,EAAIp8B,EAAE69J,gBAAgBljC,EAAGtrH,GAAIgR,GAAK,GAAK+b,EAAIb,GAAKz6B,EAAIuf,EAAGkb,EAAIa,GAAKrJ,GAAK,IAG/O,OAAOiZ,EAAI,CACT38B,EAAGyO,EAAEjd,EAAG85B,EAAGt3B,EAAG4c,EAAGnf,GACjBwO,EAAGwO,EAAEld,EAAG+Y,EAAGhZ,EAAGmf,EAAGhf,IACf6d,KAAKmE,KAAKyY,GAGhB,SAAS56B,EAAEE,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GACrB,OAAOa,GAAKA,IAAM,EAAID,EAAI,EAAI+5B,EAAI,EAAIhhB,EAAI,EAAI3Z,GAAK,EAAIY,EAAI,GAAK+5B,EAAI,EAAIhhB,GAAK,EAAI/Y,EAAI,EAAI+5B,EAG3F/5B,EAAE2iK,GAAKzlJ,EAAGld,EAAE0kK,aAAe,SAAUzkK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAC/C,IAAI8d,EAAI,EAAI9d,EACZ,OAAO,KAAOY,EAAIC,GAAKid,EAAI,GAAK6c,EAAI/5B,GAAKZ,GAAK8d,GAAKnE,EAAIghB,GAAK36B,EAAIA,IAC/DY,EAAE8hK,cAAgBr/J,EAAGzC,EAAE0iK,QAAU,SAAUziK,EAAGD,EAAG+5B,EAAG36B,GACrD,IAAI8d,EACAza,EACA1C,EACAsf,EAAI,EAAIpf,EAAI,EAAID,EAAI,EAAI+5B,EAAI,EAAI36B,EAChC8f,EAAI,EAAIlf,EAAI,GAAK+5B,EAAI,EAAI36B,EACzB+f,EAAI,EAAI4a,EAAI,EAAI36B,EAChB0Q,EAAI,GACR,GAAIiJ,EAAEs2I,cAAchwI,EAAG,GAAItG,EAAEs2I,cAAcnwI,EAAG,KAAOhC,GAAKiC,EAAID,IAAM,GAAKhC,GAAK,GAAKpN,EAAEO,KAAK6M,OAAQ,CAChG,IAAIkuB,EAAIlsB,EAAIA,EAAI,EAAIG,EAAIF,EACxBpG,EAAEs2I,cAAcjkH,EAAG,GAAKt7B,EAAEO,MAAM6O,GAAK,EAAIG,IAAM+rB,EAAI,IAAM3oC,IAAMyc,GAAKnf,EAAIge,KAAKmE,KAAKkpB,MAAQ,EAAI/rB,IAAKnC,IAAMgC,EAAInf,IAAM,EAAIsf,KAAO,GAAKnC,GAAK,GAAKpN,EAAEO,KAAK6M,GAAIza,GAAK,GAAKA,GAAK,GAAKqN,EAAEO,KAAK5N,IAErL,OAAOqN,GACN9P,EAAE0d,IAAM,SAAUzd,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG4c,EAAGH,EAAGC,GAC3CpG,EAAE4mJ,MAAMxgJ,KAAOA,EAAI,GAEnB,IAAK,IAAIrP,GAAKqP,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAAK,EAAGisB,EAAI,EAAE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQlrC,EAAI,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQue,EAAI,EAAGtB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACrQ,IAAIzO,EAAIoB,EAAIs7B,EAAEjuB,GAAKrN,EACf0rB,EAAIz7B,EAAE2O,EAAGzO,EAAG85B,EAAG7c,EAAGmC,GAClB5Q,EAAI1O,EAAE2O,EAAG1O,EAAGZ,EAAGqD,EAAGyc,GAClBzB,EAAI+d,EAAIA,EAAI/sB,EAAIA,EACpBgQ,GAAKve,EAAEid,GAAKY,KAAKmE,KAAKzE,GAGxB,OAAO3N,EAAI2O,GACVze,EAAE+hK,aAAe,SAAU9hK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGnd,EAAGsf,EAAGH,EAAGC,GACvD,OAAO1c,EAAExC,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGnd,EAAGsf,EAAGH,EAAGC,GAAG,KAExC,SAAUlf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE+kF,SAAW/kF,EAAE+jB,YAAc/jB,EAAE6f,eAAiB7f,EAAE+e,gBAAkB/e,EAAE02J,eAAiB12J,EAAEq+J,aAAer+J,EAAEo+J,WAAap+J,EAAEm+J,eAAiBn+J,EAAEk+J,SAAWl+J,EAAEi+J,wBAAqB,EAElL,IAAIllJ,EAAIghB,EAAE,GACN36B,EAAI,8HACJ8d,EAAI,IAAI2B,OAAO,WAAazf,EAAI,wCAA0CA,EAAI,QAAUA,EAAI,QAAS,MACrGqD,EAAI,IAAIoc,OAAO,qCAAuCzf,EAAI,QAAUA,EAAI,KAAM,MAC9EW,EAAI,SAAWE,GACjB,IAAKA,EAAG,OAAO,KACf,UAAWA,SAAY,GAAI,OAAOA,EAClC,IAAID,EAAI,CACNkd,EAAG,EACHgC,EAAG,EACHzc,EAAG,EACHqN,EAAG,EACHqP,EAAG,EACH1B,EAAG,EACH1E,EAAG,EACHqG,EAAG,EACHrf,EAAG,EACHE,EAAG,EACHkd,EAAG,EACHkC,EAAG,EACHb,EAAG,GAEDub,EAAI,GACR,OAAOxa,OAAOtf,GAAGuf,QAAQtC,GAAG,SAAUnE,EAAG3Z,EAAG8d,GAC1C,IAAInd,EAAI,GACJsf,EAAIjgB,EAAE+S,cACV,GAAI+K,EAAEsC,QAAQ/c,GAAG,SAAUxC,EAAGD,GAC5BA,GAAKD,EAAEsQ,MAAMrQ,MACX,MAAQqf,GAAKtf,EAAET,OAAS,IAAMy6B,EAAE1pB,KAAK,CAACjR,GAAG8B,OAAOnB,EAAEyQ,OAAO,EAAG,KAAM6O,EAAI,IAAKjgB,EAAI,MAAQA,EAAI,IAAM,KAAM,MAAQigB,GAAK,IAAMtf,EAAET,QAAUy6B,EAAE1pB,KAAK,CAACjR,EAAGW,EAAE,KAAM,MAAQsf,EAAG0a,EAAE1pB,KAAK,CAACjR,GAAG8B,OAAOnB,SAAS,KAAOA,EAAET,QAAUU,EAAEqf,KAAO0a,EAAE1pB,KAAK,CAACjR,GAAG8B,OAAOnB,EAAEyQ,OAAO,EAAGxQ,EAAEqf,MAAOrf,EAAEqf,MAGxQ,OAAOpf,KACL85B,GAGN/5B,EAAE+e,gBAAkBhf,EAEpB,IAAIsf,EAAI,SAAWpf,EAAGD,GACpB,IAAK,IAAI+5B,EAAI,GAAIhhB,EAAI,EAAG3Z,EAAIa,EAAEX,OAAQF,EAAI,GAAKY,EAAI+Y,EAAGA,GAAK,EAAG,CAC5D,IAAImE,EAAI,CAAC,CACPzO,GAAIxO,EAAE8Y,EAAI,GACVrK,GAAIzO,EAAE8Y,EAAI,IACT,CACDtK,GAAIxO,EAAE8Y,GACNrK,GAAIzO,EAAE8Y,EAAI,IACT,CACDtK,GAAIxO,EAAE8Y,EAAI,GACVrK,GAAIzO,EAAE8Y,EAAI,IACT,CACDtK,GAAIxO,EAAE8Y,EAAI,GACVrK,GAAIzO,EAAE8Y,EAAI,KAEZ/Y,EAAI+Y,EAAI3Z,EAAI,IAAM2Z,EAAImE,EAAE,GAAK,CAC3BzO,GAAIxO,EAAE,GACNyO,GAAIzO,EAAE,IACJb,EAAI,IAAM2Z,IAAMmE,EAAE,GAAK,CACzBzO,GAAIxO,EAAE,GACNyO,GAAIzO,EAAE,IACLid,EAAE,GAAK,CACRzO,GAAIxO,EAAE,GACNyO,GAAIzO,EAAE,KACHid,EAAE,GAAK,CACVzO,GAAIxO,EAAEb,EAAI,GACVsP,GAAIzO,EAAEb,EAAI,IACRA,EAAI,IAAM2Z,EAAImE,EAAE,GAAKA,EAAE,GAAKnE,IAAMmE,EAAE,GAAK,CAC3CzO,GAAIxO,EAAE8Y,GACNrK,GAAIzO,EAAE8Y,EAAI,KACRghB,EAAE1pB,KAAK,CAAC,MAAO6M,EAAE,GAAGzO,EAAI,EAAIyO,EAAE,GAAGzO,EAAIyO,EAAE,GAAGzO,GAAK,IAAKyO,EAAE,GAAGxO,EAAI,EAAIwO,EAAE,GAAGxO,EAAIwO,EAAE,GAAGxO,GAAK,GAAIwO,EAAE,GAAGzO,EAAI,EAAIyO,EAAE,GAAGzO,EAAIyO,EAAE,GAAGzO,GAAK,GAAIyO,EAAE,GAAGxO,EAAI,EAAIwO,EAAE,GAAGxO,EAAIwO,EAAE,GAAGxO,GAAK,EAAGwO,EAAE,GAAGzO,EAAGyO,EAAE,GAAGxO,IAGlL,OAAOqrB,GAGT/5B,EAAEi+J,mBAAqB5+I,EAEvB,IAAIH,EAAI,SAAWjf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAC7B,IAAI8d,EAAI,GAER,GAAI,OAAS9d,GAAK,OAAS2Z,IAAMA,EAAIghB,GAAI95B,GAAKA,EAAGD,GAAKA,EAAG+5B,GAAKA,EAAGhhB,GAAKA,EAAG,OAAS3Z,EAAG,CACnF,IAAIqD,EAAIsb,KAAKK,GAAK,IACdre,EAAIE,EAAI85B,EAAIhc,KAAKiE,KAAKjJ,EAAItW,GAC1B4c,EAAIpf,EAAI85B,EAAIhc,KAAKiE,KAAK5iB,EAAIqD,GAC9Bya,EAAI,CAAC,CAAC,IAAKnd,EAAGC,EAAI+5B,EAAIhc,KAAKkE,KAAKlJ,EAAItW,IAAK,CAAC,IAAKs3B,EAAGA,EAAG,IAAK36B,EAAI2Z,EAAI,KAAM,EAAGsG,EAAGrf,EAAI+5B,EAAIhc,KAAKkE,KAAK7iB,EAAIqD,UAC/Fya,EAAI,CAAC,CAAC,IAAKjd,EAAGD,GAAI,CAAC,IAAK,GAAI+Y,GAAI,CAAC,IAAKghB,EAAGhhB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAIA,GAAI,CAAC,IAAKghB,EAAGhhB,EAAG,EAAG,EAAG,EAAG,GAAI,EAAIA,GAAI,CAAC,MAEzG,OAAOmE,GAELiC,EAAI,SAAWlf,GACjB,KAAMA,EAAIF,EAAEE,MAAQA,EAAEX,OAAQ,MAAO,CAAC,CAAC,IAAK,EAAG,IAC/C,IAAIU,EACA+5B,EACAhhB,EAAI,GACJ3Z,EAAI,EACJ8d,EAAI,EACJza,EAAI,EACJ0c,EAAI,EACJrP,EAAI,EACR,MAAQ7P,EAAE,GAAG,KAAOwC,EAAIrD,GAAKa,EAAE,GAAG,GAAIkf,EAAIjC,GAAKjd,EAAE,GAAG,GAAI6P,IAAKiJ,EAAE,GAAK,CAAC,IAAK3Z,EAAG8d,IAE7E,IAAK,IAAIkuB,EAAI,IAAMnrC,EAAEX,QAAU,MAAQW,EAAE,GAAG,IAAM,MAAQA,EAAE,GAAG,GAAGygB,eAAiB,MAAQzgB,EAAE,GAAG,GAAGygB,cAAexgB,OAAI,EAAQue,OAAI,EAAQtB,EAAIrN,EAAGpB,EAAIzO,EAAEX,OAAQ6d,EAAIzO,EAAGyO,IAAK,CACzK,GAAIpE,EAAE1I,KAAKnQ,EAAI,KAAMF,GAAKye,EAAIxe,EAAEkd,IAAI,MAAQnd,EAAE0gB,cAAe,OAAQxgB,EAAE,GAAKF,EAAE0gB,cAAexgB,EAAE,IAC7F,IAAK,IACHA,EAAE,GAAKue,EAAE,GAAIve,EAAE,GAAKue,EAAE,GAAIve,EAAE,GAAKue,EAAE,GAAIve,EAAE,GAAKue,EAAE,GAAIve,EAAE,GAAKue,EAAE,GAAIve,EAAE,IAAMue,EAAE,GAAKrf,EAAGc,EAAE,IAAMue,EAAE,GAAKvB,EAClG,MAEF,IAAK,IACHhd,EAAE,IAAMue,EAAE,GAAKvB,EACf,MAEF,IAAK,IACHhd,EAAE,IAAMue,EAAE,GAAKrf,EACf,MAEF,IAAK,IACH,IAAK,IAAIo8B,EAAI,EAAG/sB,GAAKsrB,EAAI,CAAC36B,EAAG8d,GAAGhc,OAAOud,EAAE0G,MAAM,KAAK7lB,OAAQk8B,EAAI/sB,EAAG+sB,IACjEzB,EAAEyB,IAAMzB,EAAEyB,GAAKp8B,EAAG26B,IAAIyB,IAAMzB,EAAEyB,GAAKte,EAGrCnE,EAAE2jD,MAAO3jD,EAAIA,EAAE7X,OAAOme,EAAE0a,EAAGqR,IAC3B,MAEF,IAAK,IACHryB,EAAE2jD,OAAQ3iC,EAAI7a,EAAE9f,EAAG8d,EAAGuB,EAAE,GAAIA,EAAE,KAAKpO,KAAK0pB,EAAE,IAAKhhB,EAAIA,EAAE7X,OAAO64B,GAC5D,MAEF,IAAK,IACHhhB,EAAE2jD,MAAO3jD,EAAIA,EAAE7X,OAAOge,EAAE9f,EAAG8d,EAAGuB,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAAMve,EAAI,CAAC,KAAKgB,OAAO6X,EAAEA,EAAEzZ,OAAS,GAAG6lB,OAAO,IAC1F,MAEF,IAAK,IACH1iB,GAAKgc,EAAE,GAAKrf,EAAG+f,GAAKV,EAAE,GAAKvB,EAC3B,MAEF,QACE,IAAKse,EAAI,EAAG/sB,EAAIgQ,EAAEnf,OAAQk8B,EAAI/sB,EAAG+sB,IAC/Bt7B,EAAEs7B,IAAM/c,EAAE+c,IAAMA,EAAI,EAAIp8B,EAAI8d,QAG3B,GAAI,MAAQld,EAAG+5B,EAAI,CAAC36B,EAAG8d,GAAGhc,OAAOud,EAAE0G,MAAM,IAAKpM,EAAE2jD,MAAO3jD,EAAIA,EAAE7X,OAAOme,EAAE0a,EAAGqR,IAAKlrC,EAAI,CAAC,KAAKgB,OAAOud,EAAE0G,OAAO,SAAS,GAAI,MAAQnlB,EAAG+Y,EAAE2jD,OAAQ3iC,EAAI7a,EAAE9f,EAAG8d,EAAGuB,EAAE,GAAIA,EAAE,KAAKpO,KAAK0pB,EAAE,IAAKhhB,EAAIA,EAAE7X,OAAO64B,QAAQ,GAAI,MAAQ/5B,EAAG+Y,EAAE2jD,MAAO3jD,EAAIA,EAAE7X,OAAOge,EAAE9f,EAAG8d,EAAGuB,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAAMve,EAAI,CAAC,KAAKgB,OAAO6X,EAAEA,EAAEzZ,OAAS,GAAG6lB,OAAO,SAAS,IAAK,IAAI1H,EAAI,EAAGgC,EAAIhB,EAAEnf,OAAQme,EAAIgC,EAAGhC,IAChWvd,EAAEud,GAAKgB,EAAEhB,GAEX,GAAI,OAASzd,EAAIA,EAAE0gB,eAAgB,OAAQxgB,EAAE,IAC3C,IAAK,IACHd,GAAKqD,EAAGya,GAAKiC,EACb,MAEF,IAAK,IACH/f,EAAIc,EAAE,GACN,MAEF,IAAK,IACHgd,EAAIhd,EAAE,GACN,MAEF,IAAK,IACHuC,EAAIvC,EAAEA,EAAEZ,OAAS,GAAI6f,EAAIjf,EAAEA,EAAEZ,OAAS,GACtC,MAEF,QACEF,EAAIc,EAAEA,EAAEZ,OAAS,GAAI4d,EAAIhd,EAAEA,EAAEZ,OAAS,IAI5C,OAAOyZ,GAGT/Y,EAAE6f,eAAiBV,EAEnB,IAAIrP,EAAI,SAAW7P,EAAGD,EAAG+5B,EAAGhhB,GAC1B,MAAO,CAAC9Y,EAAGD,EAAG+5B,EAAGhhB,EAAGghB,EAAGhhB,IAErBqyB,EAAI,SAAWnrC,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAChC,MAAO,CAAC,EAAI,EAAIjd,EAAI,EAAI,EAAI85B,EAAG,EAAI,EAAI/5B,EAAI,EAAI,EAAI+Y,EAAG,EAAI,EAAI3Z,EAAI,EAAI,EAAI26B,EAAG,EAAI,EAAI7c,EAAI,EAAI,EAAInE,EAAG3Z,EAAG8d,IAErGhd,EAAI,SAASA,EAAED,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,EAAGH,GAC5C6a,IAAMhhB,IAAMghB,GAAK,GAEjB,IAAI5a,EACArP,EACAs7B,EACA3sB,EACAtB,EACAzO,EAAI,IAAMqP,KAAKK,GAAK,IACpBod,EAAIzd,KAAKK,GAAK,MAAQhf,GAAK,GAC3BqP,EAAI,GACJgP,EAAI,SAAWxd,EAAGD,EAAG+5B,GACvB,MAAO,CACLtrB,EAAGxO,EAAI8d,KAAKiE,IAAI+X,GAAK/5B,EAAI+d,KAAKkE,IAAI8X,GAClCrrB,EAAGzO,EAAI8d,KAAKkE,IAAI8X,GAAK/5B,EAAI+d,KAAKiE,IAAI+X,KAItC,GAAI7a,EAAGpP,EAAIoP,EAAE,GAAIksB,EAAIlsB,EAAE,GAAIT,EAAIS,EAAE,GAAI/B,EAAI+B,EAAE,OAAQ,CACjDjf,GAAKkf,EAAI1B,EAAExd,EAAGD,GAAIw7B,IAAI/sB,EAAGzO,EAAImf,EAAEzQ,EAAG3O,GAAKof,EAAI1B,EAAE1d,EAAGsf,GAAImc,IAAI/sB,EAAG4Q,EAAIF,EAAEzQ,EAAGzO,IAAMF,GAAKC,IAAMqf,IAAMtf,GAAK,EAAGsf,GAAK,GACxG,IAAII,GAAKxf,EAAIF,GAAK,EACdoyB,GAAKnyB,EAAIqf,GAAK,EACdsb,EAAIlb,EAAIA,GAAKsa,EAAIA,GAAK5H,EAAIA,GAAKpZ,EAAIA,GACvC4hB,EAAI,IAAMZ,GAAKY,EAAI5c,KAAKmE,KAAKyY,GAAI5hB,GAAK4hB,GAEtC,IAAIo/F,EAAIhgG,EAAIA,EACRq5H,EAAIr6I,EAAIA,EACRwa,GAAKrW,IAAMza,GAAK,EAAI,GAAKsb,KAAKmE,KAAKnE,KAAKsE,KAAK03G,EAAIq5B,EAAIr5B,EAAI5nG,EAAIA,EAAIihI,EAAI3zI,EAAIA,IAAMs6G,EAAI5nG,EAAIA,EAAIihI,EAAI3zI,EAAIA,KAEvGhB,EAAI8U,EAAIwG,EAAI5H,EAAIpZ,GAAK9Y,EAAIF,GAAK,EAAGod,EAAIoW,GAAKxa,EAAI0G,EAAIsa,GAAK/5B,EAAIqf,GAAK,EAAGvP,EAAIiO,KAAKuE,OAAOtiB,EAAImd,GAAKpE,GAAGyJ,QAAQ,IAAK4oB,EAAIrtB,KAAKuE,OAAOjD,EAAIlC,GAAKpE,GAAGyJ,QAAQ,IAAK1S,EAAI7P,EAAIwe,EAAIV,KAAKK,GAAKtO,EAAIA,EAAGs7B,EAAIrrC,EAAI0e,EAAIV,KAAKK,GAAKgtB,EAAIA,EAAGt7B,EAAI,IAAMA,EAAI,EAAIiO,KAAKK,GAAKtO,GAAIs7B,EAAI,IAAMA,EAAI,EAAIrtB,KAAKK,GAAKgtB,GAAI3oC,GAAKqN,EAAIs7B,IAAMt7B,GAAK,EAAIiO,KAAKK,KAAM3b,GAAK2oC,EAAIt7B,IAAMs7B,GAAK,EAAIrtB,KAAKK,IAEjV,IAAI+U,EAAIiY,EAAIt7B,EAEZ,GAAIiO,KAAKsE,IAAI8Q,GAAKzkB,EAAG,CACnB,IAAImD,EAAIu5B,EACJurH,EAAI52J,EACJklB,EAAI5F,EACR+rB,EAAIt7B,EAAIpB,GAAKjM,GAAK2oC,EAAIt7B,EAAI,GAAK,GAAsDrB,EAAIvO,EAAtDH,EAAI0e,EAAIsb,EAAIhc,KAAKiE,IAAIopB,GAAI/rB,EAAIlC,EAAIpE,EAAIgF,KAAKkE,IAAImpB,GAAgBrR,EAAGhhB,EAAG3Z,EAAG,EAAGqD,EAAGk0J,EAAG1xI,EAAG,CAACmmB,EAAGv5B,EAAG4M,EAAGtB,IAGlIgW,EAAIiY,EAAIt7B,EACR,IAAI8mJ,EAAI74I,KAAKiE,IAAIlS,GACb25B,EAAI1rB,KAAKkE,IAAInS,GACbynB,EAAIxZ,KAAKiE,IAAIopB,GACbzqB,EAAI5C,KAAKkE,IAAImpB,GACbyrH,EAAI94I,KAAKkF,IAAIkQ,EAAI,GACjB2jI,EAAI,EAAI,EAAI/8H,EAAI88H,EAChBE,EAAI,EAAI,EAAIh+I,EAAI89I,EAChBz3I,EAAI,CAACnf,EAAGD,GACRg3J,EAAI,CAAC/2J,EAAI62J,EAAIrtH,EAAGzpC,EAAI+2J,EAAIH,GACxBK,EAAI,CAACl3J,EAAI+2J,EAAIn2I,EAAGtB,EAAI03I,EAAIx/H,GACxB9F,EAAI,CAAC1xB,EAAGsf,GACZ,GAAI23I,EAAE,GAAK,EAAI53I,EAAE,GAAK43I,EAAE,GAAIA,EAAE,GAAK,EAAI53I,EAAE,GAAK43I,EAAE,GAAI93I,EAAG,MAAO,CAAC83I,EAAGC,EAAGxlI,GAAGvwB,OAAOuN,GAE/E,IAAK,IAAI60G,EAAI,GAAIh/F,EAAI,EAAGuO,GAAKpkB,EAAI,CAACuoJ,EAAGC,EAAGxlI,GAAGvwB,OAAOuN,GAAGgV,OAAOC,MAAM,MAAMpkB,OAAQglB,EAAIuO,EAAGvO,IACrFg/F,EAAEh/F,GAAKA,EAAI,EAAI7G,EAAEhP,EAAE6V,EAAI,GAAI7V,EAAE6V,GAAIkX,GAAG9sB,EAAI+O,EAAEhP,EAAE6V,GAAI7V,EAAE6V,EAAI,GAAIkX,GAAG/sB,EAG/D,OAAO60G,GAEL7kG,EAAI,SAAWxe,EAAGD,GACpB,IAAI+5B,EACAhhB,EAAIoG,EAAElf,GACNb,EAAIY,GAAKmf,EAAEnf,GACXkd,EAAI,CACNzO,EAAG,EACHC,EAAG,EACHyV,GAAI,EACJC,GAAI,EACJC,EAAG,EACHC,EAAG,EACHC,GAAI,KACJC,GAAI,MAEF/hB,EAAI,CACNgM,EAAG,EACHC,EAAG,EACHyV,GAAI,EACJC,GAAI,EACJC,EAAG,EACHC,EAAG,EACHC,GAAI,KACJC,GAAI,MAEFzkB,EAAI,GACJsf,EAAI,GACJH,EAAI,GACJT,EAAI,GACJtB,EAAI,SAAWld,EAAGD,EAAG+5B,GACvB,IAAIhhB,EAAG3Z,EACP,IAAKa,EAAG,MAAO,CAAC,IAAKD,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEyO,EAAGzO,EAAE0O,GAEhD,SAAUzO,EAAE,IAAM,CAChBglB,EAAG,EACHC,EAAG,MACEllB,EAAEukB,GAAKvkB,EAAEwkB,GAAK,MAAOvkB,EAAE,IAC5B,IAAK,IACHD,EAAEqkB,EAAIpkB,EAAE,GAAID,EAAEskB,EAAIrkB,EAAE,GACpB,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAOhB,EAAEN,MAAM,EAAG,CAACI,EAAEyO,EAAGzO,EAAE0O,GAAGxN,OAAOjB,EAAEklB,MAAM,MACtD,MAEF,IAAK,IACH,MAAQ4U,GAAK,MAAQA,GAAKhhB,EAAI,EAAI/Y,EAAEyO,EAAIzO,EAAEmkB,GAAI/kB,EAAI,EAAIY,EAAE0O,EAAI1O,EAAEokB,KAAOrL,EAAI/Y,EAAEyO,EAAGrP,EAAIY,EAAE0O,GAAIzO,EAAI,CAAC,IAAK8Y,EAAG3Z,GAAG8B,OAAOjB,EAAEklB,MAAM,IACvH,MAEF,IAAK,IACH,MAAQ4U,GAAK,MAAQA,GAAK/5B,EAAEukB,GAAK,EAAIvkB,EAAEyO,EAAIzO,EAAEukB,GAAIvkB,EAAEwkB,GAAK,EAAIxkB,EAAE0O,EAAI1O,EAAEwkB,KAAOxkB,EAAEukB,GAAKvkB,EAAEyO,EAAGzO,EAAEwkB,GAAKxkB,EAAE0O,GAAIzO,EAAI,CAAC,KAAKiB,OAAOkqC,EAAEprC,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEukB,GAAIvkB,EAAEwkB,GAAIvkB,EAAE,GAAIA,EAAE,KACrJ,MAEF,IAAK,IACHD,EAAEukB,GAAKtkB,EAAE,GAAID,EAAEwkB,GAAKvkB,EAAE,GAAIA,EAAI,CAAC,KAAKiB,OAAOkqC,EAAEprC,EAAEyO,EAAGzO,EAAE0O,EAAGzO,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3E,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAO4O,EAAE9P,EAAEyO,EAAGzO,EAAE0O,EAAGzO,EAAE,GAAIA,EAAE,KACrC,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAO4O,EAAE9P,EAAEyO,EAAGzO,EAAE0O,EAAGzO,EAAE,GAAID,EAAE0O,IACrC,MAEF,IAAK,IACHzO,EAAI,CAAC,KAAKiB,OAAO4O,EAAE9P,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEyO,EAAGxO,EAAE,KACpC,MAEF,IAAK,IACHA,EAAI,CAAC,KAAKiB,OAAO4O,EAAE9P,EAAEyO,EAAGzO,EAAE0O,EAAG1O,EAAEqkB,EAAGrkB,EAAEskB,IAGxC,OAAOrkB,GAELyO,EAAI,SAAWzO,EAAGD,GACpB,GAAIC,EAAED,GAAGV,OAAS,EAAG,CACnBW,EAAED,GAAGslB,QAEL,IAAK,IAAIpI,EAAIjd,EAAED,GAAIkd,EAAE5d,QACnBS,EAAEC,GAAK,IAAKZ,IAAMigB,EAAErf,GAAK,KAAMC,EAAEuQ,OAAOxQ,IAAK,EAAG,CAAC,KAAKkB,OAAOgc,EAAE1M,OAAO,EAAG,KAG3EvQ,EAAEuQ,OAAOxQ,EAAG,GAAI+5B,EAAIhc,KAAKyH,IAAIzM,EAAEzZ,OAAQF,GAAKA,EAAEE,QAAU,KAGxDk8B,EAAI,SAAWv7B,EAAGD,EAAGkd,EAAGza,EAAG1C,GAC7BE,GAAKD,GAAK,MAAQC,EAAEF,GAAG,IAAM,MAAQC,EAAED,GAAG,KAAOC,EAAEwQ,OAAOzQ,EAAG,EAAG,CAAC,IAAK0C,EAAEgM,EAAGhM,EAAEiM,IAAKwO,EAAEiH,GAAK,EAAGjH,EAAEkH,GAAK,EAAGlH,EAAEzO,EAAIxO,EAAEF,GAAG,GAAImd,EAAExO,EAAIzO,EAAEF,GAAG,GAAIg6B,EAAIhc,KAAKyH,IAAIzM,EAAEzZ,OAAQF,GAAKA,EAAEE,QAAU,KAG9Ky6B,EAAIhc,KAAKyH,IAAIzM,EAAEzZ,OAAQF,GAAKA,EAAEE,QAAU,GAExC,IAAK,IAAImP,EAAI,EAAGA,EAAIsrB,EAAGtrB,IAAK,CAC1BsK,EAAEtK,KAAOyQ,EAAInG,EAAEtK,GAAG,IAAK,MAAQyQ,IAAMnf,EAAE0O,GAAKyQ,EAAGzQ,IAAMgQ,EAAI1e,EAAE0O,EAAI,KAAMsK,EAAEtK,GAAK0O,EAAEpE,EAAEtK,GAAIyO,EAAGuB,GAAI,MAAQ1e,EAAE0O,IAAM,MAAQyQ,IAAMnf,EAAE0O,GAAK,KAAMC,EAAEqK,EAAGtK,GAAIrP,IAAMA,EAAEqP,KAAOyQ,EAAI9f,EAAEqP,GAAG,IAAK,MAAQyQ,IAAMG,EAAE5Q,GAAKyQ,EAAGzQ,IAAMgQ,EAAIY,EAAE5Q,EAAI,KAAMrP,EAAEqP,GAAK0O,EAAE/d,EAAEqP,GAAIhM,EAAGgc,GAAI,MAAQY,EAAE5Q,IAAM,MAAQyQ,IAAMG,EAAE5Q,GAAK,KAAMC,EAAEtP,EAAGqP,IAAK+sB,EAAEziB,EAAG3Z,EAAG8d,EAAGza,EAAGgM,GAAI+sB,EAAEp8B,EAAG2Z,EAAGtW,EAAGya,EAAGzO,GACrU,IAAIgP,EAAI1E,EAAEtK,GACNgR,EAAIrgB,GAAKA,EAAEqP,GACX0jB,EAAI1U,EAAEne,OACNq7B,EAAIv7B,GAAKqgB,EAAEngB,OACf4d,EAAEzO,EAAIgP,EAAE0U,EAAI,GAAIjV,EAAExO,EAAI+O,EAAE0U,EAAI,GAAIjV,EAAEiH,GAAK8B,WAAWxI,EAAE0U,EAAI,KAAOjV,EAAEzO,EAAGyO,EAAEkH,GAAK6B,WAAWxI,EAAE0U,EAAI,KAAOjV,EAAExO,EAAGjM,EAAE0hB,GAAK/kB,IAAM6mB,WAAWxG,EAAEkb,EAAI,KAAOl4B,EAAEgM,GAAIhM,EAAE2hB,GAAKhlB,IAAM6mB,WAAWxG,EAAEkb,EAAI,KAAOl4B,EAAEiM,GAAIjM,EAAEgM,EAAIrP,GAAKqgB,EAAEkb,EAAI,GAAIl4B,EAAEiM,EAAItP,GAAKqgB,EAAEkb,EAAI,GAGtO,OAAOv7B,EAAI,CAAC2Z,EAAG3Z,GAAK2Z,GAGtB/Y,EAAE+jB,YAActF,EAEhB,IAAItB,EAAI,gBACJzO,EAAI,SAAWzO,GACjB,OAAOA,EAAEwjB,KAAK,KAAKjE,QAAQrC,EAAG,OAGhCnd,EAAE02J,eAAiBhoJ,EAEnB,IAAI8sB,EAAI,SAAWv7B,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAC7B,OAAOa,GAAKA,IAAM,EAAID,EAAI,EAAI+5B,EAAI,EAAIhhB,EAAI,EAAI3Z,GAAK,EAAIY,EAAI,GAAK+5B,EAAI,EAAIhhB,GAAK,EAAI/Y,EAAI,EAAI+5B,GAEvFtrB,EAAI,SAAWxO,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,GACzC,OAASA,IAAMA,EAAI,GAEnB,IAAK,IAAIH,GAAKG,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAAK,EAAGF,EAAI,EAAE,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQrP,EAAI,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQs7B,EAAI,EAAGlrC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACrQ,IAAIue,EAAIS,EAAIC,EAAEjf,GAAKgf,EACf/B,EAAIqe,EAAE/c,EAAGxe,EAAG85B,EAAG36B,EAAGqD,GAClBiM,EAAI8sB,EAAE/c,EAAGze,EAAG+Y,EAAGmE,EAAGnd,GAClB0O,EAAI0O,EAAIA,EAAIzO,EAAIA,EACpB08B,GAAKt7B,EAAE5P,GAAK6d,KAAKmE,KAAKzT,GAGxB,OAAOyQ,EAAIksB,GAET3tB,EAAI,SAAWxd,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,GACtC,IAAK,IAAIsf,EAAGH,EAAGC,EAAGrP,EAAGs7B,EAAI,GAAIlrC,EAAI,CAAC,GAAI,IAAKue,EAAI,EAAGA,EAAI,IAAKA,EACzD,GAAI,IAAMA,GAAKS,EAAI,EAAIjf,EAAI,GAAK85B,EAAI,EAAI36B,EAAGigB,GAAK,EAAIpf,EAAI,EAAI85B,EAAI,EAAI36B,EAAI,EAAIqD,EAAG0c,EAAI,EAAI4a,EAAI,EAAI95B,IAAMif,EAAI,EAAIlf,EAAI,GAAK+Y,EAAI,EAAImE,EAAGmC,GAAK,EAAIrf,EAAI,EAAI+Y,EAAI,EAAImE,EAAI,EAAInd,EAAGof,EAAI,EAAIpG,EAAI,EAAI/Y,GAAI+d,KAAKsE,IAAIhD,GAAK,MAAO,CAC5M,GAAItB,KAAKsE,IAAInD,GAAK,MAAO,UACxBpP,GAAKqP,EAAID,GAAK,GAAKpP,EAAI,GAAKs7B,EAAE/6B,KAAKP,OAC/B,CACL,IAAIqN,EAAI+B,EAAIA,EAAI,EAAIC,EAAIE,EACpB3Q,EAAIqP,KAAKmE,KAAK/E,GAElB,KAAMA,EAAI,GAAI,CACZ,IAAIqe,IAAMtc,EAAIxQ,IAAM,EAAI2Q,GACxBmc,EAAI,GAAKA,EAAI,GAAK4P,EAAE/6B,KAAKmrB,GACzB,IAAI/sB,IAAMyQ,EAAIxQ,IAAM,EAAI2Q,GACxB5Q,EAAI,GAAKA,EAAI,GAAK28B,EAAE/6B,KAAK5B,IAK/B,IAAK,IAAIgP,EAAGgC,EAAI2rB,EAAE9rC,OAAQ6yB,EAAI1S,EAAGA,KAC/BhC,EAAI,GAAK3N,EAAIs7B,EAAE3rB,IAAKvf,EAAE,GAAGuf,GAAKhC,EAAIA,EAAIA,EAAIxd,EAAI,EAAIwd,EAAIA,EAAI3N,EAAIiqB,EAAI,EAAItc,EAAI3N,EAAIA,EAAI1Q,EAAI0Q,EAAIA,EAAIA,EAAIrN,EAAGvC,EAAE,GAAGuf,GAAKhC,EAAIA,EAAIA,EAAIzd,EAAI,EAAIyd,EAAIA,EAAI3N,EAAIiJ,EAAI,EAAI0E,EAAI3N,EAAIA,EAAIoN,EAAIpN,EAAIA,EAAIA,EAAI/P,EAGrL,OAAOG,EAAE,GAAGiyB,GAAKlyB,EAAGC,EAAE,GAAGiyB,GAAKnyB,EAAGE,EAAE,GAAGiyB,EAAI,GAAK1vB,EAAGvC,EAAE,GAAGiyB,EAAI,GAAKpyB,EAAGG,EAAE,GAAGZ,OAASY,EAAE,GAAGZ,OAAS6yB,EAAI,EAAG,CACpG7C,IAAK,CACH7gB,EAAGsP,KAAKuR,IAAI1vB,MAAM,EAAGM,EAAE,IACvBwO,EAAGqP,KAAKuR,IAAI1vB,MAAM,EAAGM,EAAE,KAEzBslB,IAAK,CACH/W,EAAGsP,KAAKyH,IAAI5lB,MAAM,EAAGM,EAAE,IACvBwO,EAAGqP,KAAKyH,IAAI5lB,MAAM,EAAGM,EAAE,OAIzBuf,EAAI,SAAWxf,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,GACtC,KAAMge,KAAKyH,IAAIvlB,EAAG85B,GAAKhc,KAAKuR,IAAIlwB,EAAGqD,IAAMsb,KAAKuR,IAAIrvB,EAAG85B,GAAKhc,KAAKyH,IAAIpmB,EAAGqD,IAAMsb,KAAKyH,IAAIxlB,EAAG+Y,GAAKgF,KAAKuR,IAAIpS,EAAGnd,IAAMge,KAAKuR,IAAItvB,EAAG+Y,GAAKgF,KAAKyH,IAAItI,EAAGnd,IAAK,CAC/I,IAAIsf,GAAKpf,EAAI85B,IAAM7c,EAAInd,IAAMC,EAAI+Y,IAAM3Z,EAAIqD,GAE3C,GAAI4c,EAAG,CACL,IAAIH,IAAMjf,EAAI8Y,EAAI/Y,EAAI+5B,IAAM36B,EAAIqD,IAAMxC,EAAI85B,IAAM36B,EAAIW,EAAImd,EAAIza,IAAM4c,EAC9DF,IAAMlf,EAAI8Y,EAAI/Y,EAAI+5B,IAAM7c,EAAInd,IAAMC,EAAI+Y,IAAM3Z,EAAIW,EAAImd,EAAIza,IAAM4c,EAC9DvP,GAAKoP,EAAEsD,QAAQ,GACf4oB,GAAKjsB,EAAEqD,QAAQ,GACnB,KAAM1S,GAAKiO,KAAKuR,IAAIrvB,EAAG85B,GAAGvX,QAAQ,IAAM1S,GAAKiO,KAAKyH,IAAIvlB,EAAG85B,GAAGvX,QAAQ,IAAM1S,GAAKiO,KAAKuR,IAAIlwB,EAAGqD,GAAG+f,QAAQ,IAAM1S,GAAKiO,KAAKyH,IAAIpmB,EAAGqD,GAAG+f,QAAQ,IAAM4oB,GAAKrtB,KAAKuR,IAAItvB,EAAG+Y,GAAGyJ,QAAQ,IAAM4oB,GAAKrtB,KAAKyH,IAAIxlB,EAAG+Y,GAAGyJ,QAAQ,IAAM4oB,GAAKrtB,KAAKuR,IAAIpS,EAAGnd,GAAGyiB,QAAQ,IAAM4oB,GAAKrtB,KAAKyH,IAAItI,EAAGnd,GAAGyiB,QAAQ,IAAK,MAAO,CAC1R/T,EAAGyQ,EACHxQ,EAAGyQ,MAKPgT,EAAI,SAAWlyB,EAAGD,EAAG+5B,GACvB,OAAO/5B,GAAKC,EAAEwO,GAAKzO,GAAKC,EAAEwO,EAAIxO,EAAEoE,OAAS01B,GAAK95B,EAAEyO,GAAKqrB,GAAK95B,EAAEyO,EAAIzO,EAAE0O,QAEhEgsB,EAAI,SAAW16B,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAC7B,GAAIA,EAAG,MAAO,CAAC,CAAC,KAAMa,IAAKb,EAAGY,GAAI,CAAC,IAAK+5B,EAAI,EAAI36B,EAAG,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAGA,EAAGA,GAAI,CAAC,IAAK,EAAG2Z,EAAI,EAAI3Z,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,GAAIA,EAAGA,GAAI,CAAC,IAAK,EAAIA,EAAI26B,EAAG,GAAI,CAAC,IAAK36B,EAAGA,EAAG,EAAG,EAAG,GAAIA,GAAIA,GAAI,CAAC,IAAK,EAAG,EAAIA,EAAI2Z,GAAI,CAAC,IAAK3Z,EAAGA,EAAG,EAAG,EAAG,EAAGA,GAAIA,GAAI,CAAC,MAC3O,IAAI8d,EAAI,CAAC,CAAC,IAAKjd,EAAGD,GAAI,CAAC,IAAK+5B,EAAG,GAAI,CAAC,IAAK,EAAGhhB,GAAI,CAAC,KAAMghB,EAAG,GAAI,CAAC,MAC/D,OAAO7c,EAAEw5I,eAAiBhoJ,EAAGwO,GAG/Bld,EAAE+kF,SAAWpqD,EAEb,IAAIo/F,EAAI,SAAW95H,EAAGD,EAAG+5B,EAAGhhB,GAC1B,OAAO,OAAS9Y,IAAMA,EAAID,EAAI+5B,EAAIhhB,EAAI,GAAI,OAAS/Y,IAAMA,EAAIC,EAAEyO,EAAGqrB,EAAI95B,EAAEoE,MAAO0U,EAAI9Y,EAAE0O,OAAQ1O,EAAIA,EAAEwO,GAAI,CACrGA,EAAGxO,EACHyO,EAAG1O,EACHqE,MAAO01B,EACPY,EAAGZ,EACHprB,OAAQoK,EACRjJ,EAAGiJ,EACHwI,GAAIthB,EAAI85B,EACRvY,GAAIxhB,EAAI+Y,EACR6I,GAAI3hB,EAAI85B,EAAI,EACZlY,GAAI7hB,EAAI+Y,EAAI,EACZm2I,GAAInxI,KAAKuR,IAAIyK,EAAGhhB,GAAK,EACrBqpE,GAAIrkE,KAAKyH,IAAIuU,EAAGhhB,GAAK,EACrB2lJ,GAAI3gJ,KAAKmE,KAAK6X,EAAIA,EAAIhhB,EAAIA,GAAK,EAC/BkD,KAAM0e,EAAE16B,EAAGD,EAAG+5B,EAAGhhB,GACjB8yE,GAAI,CAAC5rF,EAAGD,EAAG+5B,EAAGhhB,GAAG0K,KAAK,OAGtB2vI,EAAI,SAAWnzJ,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,EAAGsf,GACtCtG,EAAEupH,QAAQriI,KAAOA,EAAI,CAACA,EAAGD,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,EAAGsf,IAC3C,IAAIH,EAAIzB,EAAE7d,MAAM,KAAMK,GACtB,OAAO85H,EAAE76G,EAAEoQ,IAAI7gB,EAAGyQ,EAAEoQ,IAAI5gB,EAAGwQ,EAAEsG,IAAI/W,EAAIyQ,EAAEoQ,IAAI7gB,EAAGyQ,EAAEsG,IAAI9W,EAAIwQ,EAAEoQ,IAAI5gB,IAE5D6kB,EAAI,SAAWtzB,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,GACzC,IAAIH,EAAI,EAAIG,EACRF,EAAIpB,KAAKyZ,IAAItY,EAAG,GAChBpP,EAAIiO,KAAKyZ,IAAItY,EAAG,GAChBksB,EAAI/rB,EAAIA,EACRnf,EAAIkrC,EAAI/rB,EACRZ,EAAIxe,EAAI,EAAIof,GAAK0a,EAAI95B,GAAKmrC,GAAKhsC,EAAI,EAAI26B,EAAI95B,GAC3Ckd,EAAInd,EAAI,EAAIqf,GAAKtG,EAAI/Y,GAAKorC,GAAKluB,EAAI,EAAInE,EAAI/Y,GAC3C0O,EAAIqrB,EAAI,EAAI1a,GAAKjgB,EAAI26B,GAAKqR,GAAK3oC,EAAI,EAAIrD,EAAI26B,GAC3CyB,EAAIziB,EAAI,EAAIsG,GAAKnC,EAAInE,GAAKqyB,GAAKrrC,EAAI,EAAImd,EAAInE,GAC/C,MAAO,CACLtK,EAAG0Q,EAAIlf,EAAI,EAAI6P,EAAIuP,EAAI0a,EAAI,EAAI7a,EAAIG,EAAIA,EAAIjgB,EAAIc,EAAIuC,EACnDiM,EAAGyQ,EAAInf,EAAI,EAAI8P,EAAIuP,EAAItG,EAAI,EAAImG,EAAIG,EAAIA,EAAInC,EAAIhd,EAAIH,EACnD0d,EAAG,CACDhP,EAAGgQ,EACH/P,EAAGyO,GAEL4c,EAAG,CACDtrB,EAAGC,EACHA,EAAG8sB,GAELzqB,MAAO,CACLtC,EAAGyQ,EAAIjf,EAAIof,EAAI0a,EACfrrB,EAAGwQ,EAAIlf,EAAIqf,EAAItG,GAEjB/H,IAAK,CACHvC,EAAGyQ,EAAI9f,EAAIigB,EAAI5c,EACfiM,EAAGwQ,EAAIhC,EAAImC,EAAItf,GAEjB+hF,MAAO,GAAK,IAAM/jE,KAAKm0C,MAAMzzC,EAAI/P,EAAGyO,EAAIqe,GAAKzd,KAAKK,KAGlD+U,EAAI,SAAWlzB,EAAGD,EAAG+5B,GACvB,IAAK,SAAU95B,EAAGD,GAChB,OAAOC,EAAI85H,EAAE95H,GAAID,EAAI+5H,EAAE/5H,GAAImyB,EAAEnyB,EAAGC,EAAEwO,EAAGxO,EAAEyO,IAAMyjB,EAAEnyB,EAAGC,EAAEshB,GAAIthB,EAAEyO,IAAMyjB,EAAEnyB,EAAGC,EAAEwO,EAAGxO,EAAEuhB,KAAO2Q,EAAEnyB,EAAGC,EAAEshB,GAAIthB,EAAEuhB,KAAO2Q,EAAElyB,EAAGD,EAAEyO,EAAGzO,EAAE0O,IAAMyjB,EAAElyB,EAAGD,EAAEuhB,GAAIvhB,EAAE0O,IAAMyjB,EAAElyB,EAAGD,EAAEyO,EAAGzO,EAAEwhB,KAAO2Q,EAAElyB,EAAGD,EAAEuhB,GAAIvhB,EAAEwhB,MAAQvhB,EAAEwO,EAAIzO,EAAEuhB,IAAMthB,EAAEwO,EAAIzO,EAAEyO,GAAKzO,EAAEyO,EAAIxO,EAAEshB,IAAMvhB,EAAEyO,EAAIxO,EAAEwO,KAAOxO,EAAEyO,EAAI1O,EAAEwhB,IAAMvhB,EAAEyO,EAAI1O,EAAE0O,GAAK1O,EAAE0O,EAAIzO,EAAEuhB,IAAMxhB,EAAE0O,EAAIzO,EAAEyO,GAD1R,CAEH0kJ,EAAEnzJ,GAAImzJ,EAAEpzJ,IAAK,OAAO+5B,EAAI,EAAI,GAE9B,IAAK,IAAIhhB,KAAOtK,EAAE7O,MAAM,EAAGK,GAAK,GAAIb,KAAOqP,EAAE7O,MAAM,EAAGI,GAAK,GAAIkd,EAAI,GAAIza,EAAI,GAAI1C,EAAI,GAAIsf,EAAI0a,EAAI,EAAI,GAAI7a,EAAI,EAAGA,EAAInG,EAAI,EAAGmG,IAAK,CAC5H,IAAIC,EAAIoU,EAAE3zB,MAAM,EAAGK,EAAEiB,OAAOge,EAAInG,IAChCmE,EAAE7M,KAAK,CACL5B,EAAG0Q,EAAE1Q,EACLC,EAAGyQ,EAAEzQ,EACLzO,EAAGif,EAAInG,IAIX,IAAKmG,EAAI,EAAGA,EAAI9f,EAAI,EAAG8f,IACrBC,EAAIoU,EAAE3zB,MAAM,EAAGI,EAAEkB,OAAOge,EAAI9f,IAC5BqD,EAAE4N,KAAK,CACL5B,EAAG0Q,EAAE1Q,EACLC,EAAGyQ,EAAEzQ,EACLzO,EAAGif,EAAI9f,IAIX,IAAK8f,EAAI,EAAGA,EAAInG,EAAGmG,IACjB,IAAK,IAAIpP,EAAI,EAAGA,EAAI1Q,EAAG0Q,IAAK,CAC1B,IAAIs7B,EAAIluB,EAAEgC,GACNhf,EAAIgd,EAAEgC,EAAI,GACVT,EAAIhc,EAAEqN,GACNqN,EAAI1a,EAAEqN,EAAI,GACVpB,EAAIqP,KAAKsE,IAAIniB,EAAEuO,EAAI28B,EAAE38B,GAAK,KAAO,IAAM,IACvC+sB,EAAIzd,KAAKsE,IAAIlF,EAAE1O,EAAIgQ,EAAEhQ,GAAK,KAAO,IAAM,IACvCgP,EAAIgC,EAAE2rB,EAAE38B,EAAG28B,EAAE18B,EAAGxO,EAAEuO,EAAGvO,EAAEwO,EAAG+P,EAAEhQ,EAAGgQ,EAAE/P,EAAGyO,EAAE1O,EAAG0O,EAAEzO,GAE/C,GAAI+O,EAAG,CACL,GAAI1d,EAAE0d,EAAEhP,EAAE+T,QAAQ,MAAQ/E,EAAE/O,EAAE8T,QAAQ,GAAI,SAC1CziB,EAAE0d,EAAEhP,EAAE+T,QAAQ,IAAM/E,EAAE/O,EAAE8T,QAAQ,GAChC,IAAImY,EAAIyQ,EAAEnrC,EAAI8d,KAAKsE,KAAK5E,EAAE/O,GAAK08B,EAAE18B,KAAOxO,EAAEwO,GAAK08B,EAAE18B,MAAQxO,EAAED,EAAImrC,EAAEnrC,GAC7DkzB,EAAI1U,EAAExe,EAAI8d,KAAKsE,KAAK5E,EAAE+d,GAAK/c,EAAE+c,KAAOre,EAAEqe,GAAK/c,EAAE+c,MAAQre,EAAEld,EAAIwe,EAAExe,GACjE06B,GAAK,GAAKA,GAAK,GAAKxH,GAAK,GAAKA,GAAK,IAAM4G,EAAI1a,GAAK,EAAIA,EAAEhP,KAAK,CAC3D5B,EAAGgP,EAAEhP,EACLC,EAAG+O,EAAE/O,EACLiwJ,GAAIhkI,EACJikI,GAAIzrI,MAMZ,OAAO9T,GAGT,SAASxN,EAAE5R,EAAGD,GACZ,IAAI+5B,EAAI,GACJhhB,EAAI,GACR,OAAO9Y,EAAEX,QAAU,SAASW,EAAED,EAAGZ,GAC/B,GAAI,IAAMY,EAAEV,OAAQy6B,EAAE1pB,KAAKrQ,EAAE,IAAK+Y,EAAE1I,KAAKrQ,EAAE,QAAS,CAClD,IAAK,IAAIkd,EAAI,GAAIza,EAAI,EAAGA,EAAIzC,EAAEV,OAAS,EAAGmD,IACxC,IAAMA,GAAKs3B,EAAE1pB,KAAKrQ,EAAE,IAAKyC,IAAMzC,EAAEV,OAAS,GAAKyZ,EAAE1I,KAAKrQ,EAAEyC,EAAI,IAAKya,EAAEza,GAAK,EAAE,EAAIrD,GAAKY,EAAEyC,GAAG,GAAKrD,EAAIY,EAAEyC,EAAI,GAAG,IAAK,EAAIrD,GAAKY,EAAEyC,GAAG,GAAKrD,EAAIY,EAAEyC,EAAI,GAAG,IAGjJxC,EAAEid,EAAG9d,IANU,CAQjBa,EAAGD,GAAI,CACPuW,KAAMwjB,EACNvjB,MAAOuC,EAAE2jB,WAIb18B,EAAEq+J,aAAe,SAAUp+J,EAAGD,GAC5B,OAAO,SAAUC,EAAGD,EAAG+5B,GACrB,IAAIhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,EAAGsf,EAAGH,EAAGC,EAAGrP,EAAGs7B,EAC/BnrC,EAAIwe,EAAExe,GAAID,EAAIye,EAAEze,GAEhB,IAAK,IAAIE,EAAY,GAAIid,EAAI,EAAGzO,EAAIzO,EAAEX,OAAQ6d,EAAIzO,EAAGyO,IAAK,CACxD,IAAIqe,EAAIv7B,EAAEkd,GACV,GAAI,MAAQqe,EAAE,GAAIziB,EAAIhZ,EAAIy7B,EAAE,GAAIp8B,EAAIigB,EAAImc,EAAE,OAAQ,CAChD,MAAQA,EAAE,IAAM1rB,EAAI,CAACiJ,EAAG3Z,GAAG8B,OAAOs6B,EAAErW,MAAM,IAAKpM,EAAIjJ,EAAE,GAAI1Q,EAAI0Q,EAAE,KAAOA,EAAI,CAACiJ,EAAG3Z,EAAG2Z,EAAG3Z,EAAGW,EAAGsf,EAAGtf,EAAGsf,GAAItG,EAAIhZ,EAAGX,EAAIigB,GAE/G,IAAK,IAAI5Q,EAAI,EAAGgP,EAAIzd,EAAEV,OAAQmP,EAAIgP,EAAGhP,IAAK,CACxC,IAAIgR,EAAIzf,EAAEyO,GACV,GAAI,MAAQgR,EAAE,GAAIvC,EAAIgC,EAAIO,EAAE,GAAIhd,EAAI0c,EAAIM,EAAE,OAAQ,CAChD,MAAQA,EAAE,IAAM2rB,EAAI,CAACluB,EAAGza,GAAGvB,OAAOue,EAAE0F,MAAM,IAAKjI,EAAIkuB,EAAE,GAAI3oC,EAAI2oC,EAAE,KAAOA,EAAI,CAACluB,EAAGza,EAAGya,EAAGza,EAAGyc,EAAGC,EAAGD,EAAGC,GAAIjC,EAAIgC,EAAGzc,EAAI0c,GAG7G,IAFF,IAAIgT,EAAIgB,EAAErjB,EAAGs7B,EAAGrR,GAELY,EAAI,EAAGo/F,EAAI5nG,EAAE7yB,OAAQq7B,EAAIo/F,EAAGp/F,IACnCxI,EAAEwI,GAAGkkI,SAAW1hJ,EAAGgV,EAAEwI,GAAGmkI,SAAWrwJ,EAAG0jB,EAAEwI,GAAGokI,KAAOjvJ,EAAGqiB,EAAEwI,GAAGqkI,KAAO5zH,EAGnElrC,EAAIA,EAAEgB,OAAOixB,MAOvB,OAAOjyB,EA1BF,CA2BLD,EAAGD,IAgCPA,EAAEk+J,SAAW,SAAUj+J,EAAGD,GACxB,GAAI,IAAMC,EAAEX,OAAQ,OAAOW,EAC3B,IAAI85B,EAAI95B,EAAEX,OAAS,EACfyZ,EAAI/Y,EAAEV,OAAS,EACfF,EAAI26B,EAAIhhB,EACRmE,EAAI,GAER,GAAI,IAAMjd,EAAEX,QAAU,MAAQW,EAAE,GAAG,GAAI,CACrC,IAAK,IAAIwC,EAAI,EAAGA,EAAIsW,EAAIghB,EAAGt3B,IACzBxC,EAAEoQ,KAAKpQ,EAAE,IAGX,OAAOA,EAGT,IAAKwC,EAAI,EAAGA,EAAIsW,EAAGtW,IAAK,CACtB,IAAI1C,EAAIge,KAAK2V,MAAMt0B,EAAIqD,GACvBya,EAAEnd,IAAMmd,EAAEnd,IAAM,GAAK,EAGvB,IAAIsf,EAAInC,EAAEgtE,QAAO,SAAUlqF,EAAG+Y,EAAG3Z,GAC/B,OAAOA,IAAM26B,EAAI/5B,EAAEkB,OAAOjB,EAAE85B,IAAM/5B,EAAEkB,OAlDhC,SAAWjB,EAAGD,EAAG+5B,GACvB,GAAI,IAAMA,EAAG,MAAO,CAAC,GAAG74B,OAAOjB,IAC/B,IAAI8Y,EAAI,GACR,GAAI,MAAQ/Y,EAAE,IAAM,MAAQA,EAAE,IAAM,MAAQA,EAAE,GAAI+Y,EAAIA,EAAE7X,OAAO,SAAUjB,EAAGD,EAAG+5B,GAC7E,IAAIhhB,EAAI,CAAC,CAAC9Y,EAAE,GAAIA,EAAE,KAClB85B,EAAIA,GAAK,EACT,IAAI36B,EAAI,GACR,MAAQY,EAAE,IAAM+Y,EAAE1I,KAAKrQ,EAAE,IAAK+Y,EAAE1I,KAAKrQ,EAAE,KAAO,MAAQA,EAAE,IAAM+Y,EAAE1I,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAAM+Y,EAAE1I,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAAM+Y,EAAE1I,KAAK,CAACrQ,EAAE,GAAIA,EAAE,MAAQ,MAAQA,EAAE,IAAM,MAAQA,EAAE,IAAM+Y,EAAE1I,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAAM+Y,EAAE1I,KAAK,CAACrQ,EAAE,GAAIA,EAAE,MAAQ+Y,EAAE1I,KAAK,CAACrQ,EAAE,GAAIA,EAAE,KAEhO,IAAK,IAAIkd,EAAInE,EAAGtW,EAAI,EAAIs3B,EAAGh6B,EAAI,EAAGA,EAAIg6B,EAAI,EAAGh6B,IAAK,CAChD,IAAIsf,EAAIxN,EAAEqL,EAAGza,GAAK,EAAIA,EAAI1C,IAC1BX,EAAEiR,KAAKgP,EAAE9I,MAAO2G,EAAImC,EAAE7I,MAGxB,OAAOpX,EAAEiR,KAAK6M,GAAI9d,EAAE6E,KAAI,SAAUhE,GAChC,IAAID,EAAI,GACR,OAAO,IAAMC,EAAEX,SAAWU,EAAEqQ,KAAK,KAAMrQ,EAAIA,EAAEkB,OAAOjB,EAAE,KAAMA,EAAEX,QAAU,IAAM,IAAMW,EAAEX,QAAUU,EAAEqQ,KAAK,KAAMrQ,EAAIA,EAAEkB,OAAOjB,EAAE,KAAM,IAAMA,EAAEX,QAAUU,EAAEqQ,KAAK,KAAUrQ,EAAEkB,OAAOjB,EAAEA,EAAEX,OAAS,OAbhI,CAe7DW,EAAGD,EAAG+5B,QAAS,CACf,IAAI36B,EAAI,GAAG8B,OAAOjB,GAClB,MAAQb,EAAE,KAAOA,EAAE,GAAK,KAExB,IAAK,IAAI8d,EAAI,EAAGA,GAAK6c,EAAI,EAAG7c,IAC1BnE,EAAE1I,KAAKjR,GAGX,OAAO2Z,EAwBsC49I,CAAE12J,EAAEb,GAAIa,EAAEb,EAAI,GAAI2Z,MAC5D,IACH,OAAOsG,EAAE6Z,QAAQj5B,EAAE,IAAK,MAAQD,EAAE+Y,IAAM,MAAQ/Y,EAAE+Y,IAAMsG,EAAEhP,KAAK,KAAMgP,GAGvE,IAAI4F,EAAI,SAAWhlB,EAAGD,GACpB,GAAIC,EAAEX,SAAWU,EAAEV,OAAQ,OAAO,EAClC,IAAIy6B,GAAI,EACR,OAAOhhB,EAAEo/I,KAAKl4J,GAAG,SAAUA,EAAG8Y,GAC5B,GAAI9Y,IAAMD,EAAE+Y,GAAI,OAAOghB,GAAI,GAAI,KAC7BA,GAGN,SAAS68H,EAAE32J,EAAGD,EAAG+5B,GACf,IAAIhhB,EAAI,KACJ3Z,EAAI26B,EACR,OAAO/5B,EAAIZ,IAAMA,EAAIY,EAAG+Y,EAAI,OAAQ9Y,EAAIb,IAAMA,EAAIa,EAAG8Y,EAAI,OAAQ,CAC/D/S,KAAM+S,EACNuW,IAAKlwB,GAIT,SAASqqC,EAAExpC,EAAGD,EAAG+5B,GACf,IAAK,IAAIhhB,EAAG3Z,EAAI,GAAG8B,OAAOjB,GAAIid,EAAI,GAAK6c,EAAI,GAAIt3B,EAAI80B,EAAEv3B,GAAG,GAAID,EAAI,EAAGA,GAAKg6B,EAAGh6B,IACzEmd,GAAKnd,EAAG,KAAOgZ,EAAIgF,KAAK2V,MAAMzzB,EAAEX,OAAS4d,IAAM9d,EAAE85B,QAAQ,CAACz2B,EAAE,GAAKya,EAAIjd,EAAE8Y,GAAG,IAAM,EAAImE,GAAIza,EAAE,GAAKya,EAAIjd,EAAE8Y,GAAG,IAAM,EAAImE,KAAO9d,EAAEoR,OAAOuI,EAAG,EAAG,CAACtW,EAAE,GAAKya,EAAIjd,EAAE8Y,GAAG,IAAM,EAAImE,GAAIza,EAAE,GAAKya,EAAIjd,EAAE8Y,GAAG,IAAM,EAAImE,KAGnM,OAAO9d,EAGT,SAASm4B,EAAEt3B,GACT,IAAID,EAAI,GAER,OAAQC,EAAE,IACR,IAAK,IACL,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAChB,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAChB,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KACtC,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAChB,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAC5D,MAEF,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KACtC,MAEF,IAAK,IACL,IAAK,IACHD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAIA,EAAE,KAGpB,OAAOD,EAGTA,EAAEm+J,eAAiB,SAAUl+J,EAAGD,GAC9B,IAAI+5B,EAAI,SAAU95B,EAAGD,GACnB,IAAI+5B,EACAhhB,EACA3Z,EAAIa,EAAEX,OACN4d,EAAIld,EAAEV,OACNmD,EAAI,EACR,GAAI,IAAMrD,GAAK,IAAM8d,EAAG,OAAO,KAE/B,IAAK,IAAInd,EAAI,GAAIsf,EAAI,EAAGA,GAAKjgB,EAAGigB,IAC9Btf,EAAEsf,GAAK,GAAItf,EAAEsf,GAAG,GAAK,CACnBiQ,IAAKjQ,GAIT,IAAK,IAAIH,EAAI,EAAGA,GAAKhC,EAAGgC,IACtBnf,EAAE,GAAGmf,GAAK,CACRoQ,IAAKpQ,GAIT,IAAKG,EAAI,EAAGA,GAAKjgB,EAAGigB,IAGlB,IAFA0a,EAAI95B,EAAEof,EAAI,GAELH,EAAI,EAAGA,GAAKhC,EAAGgC,IAAK,CACvBnG,EAAI/Y,EAAEkf,EAAI,GAAIzc,EAAIwiB,EAAE8U,EAAGhhB,GAAK,EAAI,EAChC,IAAIoG,EAAIpf,EAAEsf,EAAI,GAAGH,GAAGoQ,IAAM,EACtBxf,EAAI/P,EAAEsf,GAAGH,EAAI,GAAGoQ,IAAM,EACtB8b,EAAIrrC,EAAEsf,EAAI,GAAGH,EAAI,GAAGoQ,IAAM7sB,EAC9B1C,EAAEsf,GAAGH,GAAK03I,EAAEz3I,EAAGrP,EAAGs7B,GAItB,OAAOrrC,EAhCD,CAiCNE,EAAGD,GACD+Y,EAAI9Y,EAAEX,OACNF,EAAIY,EAAEV,OACN4d,EAAI,GACJza,EAAI,EACJ1C,EAAI,EAER,GAAIg6B,EAAEhhB,GAAG3Z,KAAO2Z,EAAG,CACjB,IAAK,IAAIsG,EAAI,EAAGA,GAAKtG,EAAGsG,IAAK,CAC3B,IAAIH,EAAI6a,EAAE1a,GAAGA,GAAGiQ,IAChBvvB,EAAIsf,EAEJ,IAAK,IAAIF,EAAI1c,EAAG0c,GAAK/f,EAAG+f,IACtB4a,EAAE1a,GAAGF,GAAGmQ,IAAMpQ,IAAMA,EAAI6a,EAAE1a,GAAGF,GAAGmQ,IAAKvvB,EAAIof,GAG3C1c,EAAI1C,EAAGg6B,EAAE1a,GAAG5c,GAAGuD,MAAQkX,EAAE7M,KAAK,CAC5BlM,MAAOkb,EAAI,EACXrZ,KAAM+zB,EAAE1a,GAAG5c,GAAGuD,OAIlB,IAAKqZ,EAAInC,EAAE5d,OAAS,EAAG+f,GAAK,EAAGA,IAC7B5c,EAAIya,EAAEmC,GAAGlb,MAAO,QAAU+Y,EAAEmC,GAAGrZ,KAAO/F,EAAEuQ,OAAO/N,EAAG,EAAG,GAAGvB,OAAOjB,EAAEwC,KAAOxC,EAAEuQ,OAAO/N,EAAG,GAIxF,IAAIqN,EAAI1Q,GAAK2Z,EAAI9Y,EAAEX,QACnB,GAAIyZ,EAAI3Z,EAAG,IAAKigB,EAAI,EAAGA,EAAIvP,EAAGuP,IAC5B,MAAQpf,EAAE8Y,EAAI,GAAG,IAAM,MAAQ9Y,EAAE8Y,EAAI,GAAG,GAAK9Y,EAAEuQ,OAAOuI,EAAI,EAAG,EAAG9Y,EAAE8Y,EAAI,IAAM9Y,EAAEoQ,KAAKpQ,EAAE8Y,EAAI,IAAKA,GAAK,EAErG,OAAO9Y,GAGTD,EAAEo+J,WAAa,SAAUn+J,EAAGD,GAC1B,GAAIC,EAAEX,QAAU,EAAG,OAAOW,EAE1B,IAAK,IAAI85B,EAAGhhB,EAAI,EAAGA,EAAI/Y,EAAEV,OAAQyZ,IAC/B,GAAI9Y,EAAE8Y,GAAG,KAAO/Y,EAAE+Y,GAAG,GAAI,OAAQghB,EAAIxC,EAAEt3B,EAAE8Y,IAAK/Y,EAAE+Y,GAAG,IACjD,IAAK,IACH9Y,EAAE8Y,GAAK,CAAC,KAAK7X,OAAO64B,EAAE,IACtB,MAEF,IAAK,IACH95B,EAAE8Y,GAAK,CAAC,KAAK7X,OAAO64B,EAAE,IACtB,MAEF,IAAK,IACH95B,EAAE8Y,GAAK,GAAG7X,OAAOlB,EAAE+Y,IAAK9Y,EAAE8Y,GAAG,GAAKghB,EAAE,GAAG,GAAI95B,EAAE8Y,GAAG,GAAKghB,EAAE,GAAG,GAC1D,MAEF,IAAK,IACH,GAAIA,EAAEz6B,OAAS,EAAG,CAChB,KAAMyZ,EAAI,GAAI,CACZ9Y,EAAE8Y,GAAK/Y,EAAE+Y,GACT,MAGFghB,EAAI0P,EAAE1P,EAAG95B,EAAE8Y,EAAI,GAAI,GAGrB9Y,EAAE8Y,GAAK,CAAC,KAAK7X,OAAO64B,EAAEmwD,QAAO,SAAUjqF,EAAGD,GACxC,OAAOC,EAAEiB,OAAOlB,KACf,KACH,MAEF,IAAK,IACHC,EAAE8Y,GAAK,CAAC,KAAK7X,OAAO64B,EAAE,IACtB,MAEF,IAAK,IACH,GAAIA,EAAEz6B,OAAS,EAAG,CAChB,KAAMyZ,EAAI,GAAI,CACZ9Y,EAAE8Y,GAAK/Y,EAAE+Y,GACT,MAGFghB,EAAI0P,EAAE1P,EAAG95B,EAAE8Y,EAAI,GAAI,GAGrB9Y,EAAE8Y,GAAK,CAAC,KAAK7X,OAAO64B,EAAEmwD,QAAO,SAAUjqF,EAAGD,GACxC,OAAOC,EAAEiB,OAAOlB,KACf,KACH,MAEF,IAAK,IACH,GAAI+5B,EAAEz6B,OAAS,EAAG,CAChB,KAAMyZ,EAAI,GAAI,CACZ9Y,EAAE8Y,GAAK/Y,EAAE+Y,GACT,MAGFghB,EAAI0P,EAAE1P,EAAG95B,EAAE8Y,EAAI,GAAI,GAGrB9Y,EAAE8Y,GAAK,CAAC,KAAK7X,OAAO64B,EAAEmwD,QAAO,SAAUjqF,EAAGD,GACxC,OAAOC,EAAEiB,OAAOlB,KACf,KACH,MAEF,QACEC,EAAE8Y,GAAK/Y,EAAE+Y,GAIf,OAAO9Y,IAER,SAAUA,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,MAAO,CAC9BoB,YAAY,EACZ0b,IAAK,WACH,OAAO/D,EAAEiB,WAGb,IAAI5a,EAAI26B,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,SAAU,CACjCoB,YAAY,EACZ0b,IAAK,WACH,OAAO1d,EAAE4a,WAGb,IAAIkD,EAAI6c,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,MAAO,CAC9BoB,YAAY,EACZ0b,IAAK,WACH,OAAOI,EAAElD,WAGb,IAAIvX,EAAIs3B,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,UAAW,CAClCoB,YAAY,EACZ0b,IAAK,WACH,OAAOra,EAAEuX,WAGb,IAAIja,EAAIg6B,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,MAAO,CAC9BoB,YAAY,EACZ0b,IAAK,WACH,OAAO/c,EAAEia,WAGb,IAAIqF,EAAI0a,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,QAAS,CAChCoB,YAAY,EACZ0b,IAAK,WACH,OAAOuC,EAAErF,WAGb,IAAIkF,EAAI6a,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,OAAQ,CAC/BoB,YAAY,EACZ0b,IAAK,WACH,OAAOoC,EAAElF,WAGb,IAAImF,EAAI4a,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,SAAU,CACjCoB,YAAY,EACZ0b,IAAK,WACH,OAAOqC,EAAEnF,WAGb,IAAIlK,EAAIiqB,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,OAAQ,CAC/BoB,YAAY,EACZ0b,IAAK,WACH,OAAOhN,EAAEkK,WAGb,IAAIoxB,EAAIrR,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,UAAW,CAClCoB,YAAY,EACZ0b,IAAK,WACH,OAAOsuB,EAAEpxB,WAGb,IAAI9Z,EAAI65B,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,WAAY,CACnCoB,YAAY,EACZ0b,IAAK,WACH,OAAO5c,EAAE8Z,WAGb,IAAIyE,EAAIsb,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,OAAQ,CAC/BoB,YAAY,EACZ0b,IAAK,WACH,OAAO2B,EAAEzE,WAGb,IAAImD,EAAI4c,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,OAAQ,CAC/BoB,YAAY,EACZ0b,IAAK,WACH,OAAOK,EAAEnD,YAGZ,SAAU/Z,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EACA3Z,EAAI26B,EAAE,GACVoY,WAAap5B,EAAI3Z,EAAEy5J,UAAU,+CAAgD74J,EAAEga,QAAU,SAAU/Z,EAAGD,EAAG+5B,GACvG,IAAI36B,EAAI26B,EAAEjd,IAAI,UACVI,GAAKnE,EAAIA,GAAK3Z,EAAE0d,IAAI,oBAAoBwlE,WAAW,MACvD,OAAOvoD,EAAE6mI,WAAW1jJ,GAAIA,EAAE4jJ,cAAc7gK,EAAGD,KAE5C,SAAUC,EAAGD,EAAG+5B,GACjB,cAEA,SAAW95B,GACT,IAAI85B,EAAIl6B,MAAQA,KAAK40J,gBAAkB,WACrC,IAAK,IAAIx0J,EAAI,EAAGD,EAAI,EAAG+5B,EAAI16B,UAAUC,OAAQU,EAAI+5B,EAAG/5B,IAClDC,GAAKZ,UAAUW,GAAGV,OAGpB,IAAIyZ,EAAIsE,MAAMpd,GACVb,EAAI,EAER,IAAKY,EAAI,EAAGA,EAAI+5B,EAAG/5B,IACjB,IAAK,IAAIkd,EAAI7d,UAAUW,GAAIyC,EAAI,EAAG1C,EAAImd,EAAE5d,OAAQmD,EAAI1C,EAAG0C,IAAKrD,IAC1D2Z,EAAE3Z,GAAK8d,EAAEza,GAIb,OAAOsW,GAGT9Z,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAI,SAAW9Y,EAAGD,EAAG+5B,GACvBl6B,KAAKiS,KAAO7R,EAAGJ,KAAKsc,QAAUnc,EAAGH,KAAK8kK,GAAK5qI,GAG7C/5B,EAAE4kK,YAAc7rJ,EAEhB,IAAI3Z,EAAI,SAAWY,GACjBH,KAAKsc,QAAUnc,EAAGH,KAAKiS,KAAO,OAAQjS,KAAK8kK,GAAK1kK,EAAE4kK,UAGpD7kK,EAAE8kK,SAAW1lK,EAEb,IAAI8d,EAAI,WACNrd,KAAKklK,KAAM,EAAIllK,KAAKiS,KAAO,MAAOjS,KAAKsc,QAAU,KAAMtc,KAAK8kK,GAAK,MAGnE3kK,EAAEglK,QAAU9nJ,EACZ,IAAIza,EAAI,CAAC,CAAC,MAAO,0BAA2B,CAAC,OAAQ,qBAAsB,CAAC,WAAY,uBAAwB,CAAC,gBAAiB,0BAA2B,CAAC,UAAW,uBAAwB,CAAC,YAAa,yBAA0B,CAAC,UAAW,8BAA+B,CAAC,OAAQ,yBAA0B,CAAC,OAAQ,4BAA6B,CAAC,SAAU,6BAA8B,CAAC,gBAAiB,mBAAoB,CAAC,mBAAoB,0DAA2D,CAAC,SAAU,oDAAqD,CAAC,YAAa,iCAAkC,CAAC,QAAS,6BAA8B,CAAC,UAAW,+BAAgC,CAAC,QAAS,qBAAsB,CAAC,aAAc,mCAAoC,CAAC,QAAS,6BAA8B,CAAC,QAAS,2BAA4B,CAAC,KAAM,6CAA8C,CAAC,KAAM,uCAAwC,CAAC,KAAM,gBAAiB,CAAC,OAAQ,qCAAsC,CAAC,UAAW,uBAAwB,CAAC,MAAO,0CAA2C,CAAC,SAAU,gCAAiC,CAAC,WAAY,oBAAqB,CAAC,YAAa,yBAA0B,CAAC,cAAe,mCAAoC,CAAC,cAAe,qCAAsC,CAAC,YAAa,iIAC70C1C,EAAI,CAAC,CAAC,MAAO,kBAAmB,CAAC,aAAc,WAAY,CAAC,gBAAiB,mBAAoB,CAAC,iBAAkB,YAAa,CAAC,YAAa,UAAW,CAAC,eAAgB,SAAU,CAAC,aAAc,qCAAsC,CAAC,aAAc,wBAAyB,CAAC,eAAgB,mCAAoC,CAAC,aAAc,iCAAkC,CAAC,sBAAuB,oBAAqB,CAAC,gBAAiB,oBAAqB,CAAC,YAAa,oBAAqB,CAAC,YAAa,oBAAqB,CAAC,cAAe,oBAAqB,CAAC,aAAc,qBAAsB,CAAC,aAAc,cAAe,CAAC,WAAY,WAAY,CAAC,SAAU,SAAU,CAAC,YAAa,QAAS,CAAC,QAAS,iBAAkB,CAAC,SAAU,6BAA8B,CAAC,MAAO,OAAQ,CAAC,OAAQ,QAAS,CAAC,OAAQ,SAAU,CAAC,aAAc,+FAE50B,SAASsf,EAAEpf,GACT,IAAID,EAAI,KAAOC,GAAKwC,EAAEynF,QAAO,SAAUlqF,EAAG+5B,GACxC,IAAIhhB,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACV,GAAI/5B,EAAG,OAAOA,EACd,IAAIkd,EAAI9d,EAAE6lK,KAAKhlK,GACf,QAASid,GAAK,CAACnE,EAAGmE,MACjB,GACH,IAAKld,EAAG,OAAO,KACf,IAAIZ,EAAIY,EAAE,GACND,EAAIC,EAAE,GACV,GAAI,cAAgBZ,EAAG,OAAO,IAAI8d,EAClC,IAAImC,EAAItf,EAAE,IAAMA,EAAE,GAAG2jB,MAAM,QAAQyB,MAAM,EAAG,GAC5C,OAAO9F,EAAIA,EAAE/f,OAAS,IAAM+f,EAAI0a,EAAE1a,EAAG,SAAUpf,GAC7C,IAAK,IAAID,EAAI,GAAI+5B,EAAI,EAAGA,EAAI95B,EAAG85B,IAC7B/5B,EAAEqQ,KAAK,KAGT,OAAOrQ,EAL4B,CAMnC,EAAIqf,EAAE/f,UAAY+f,EAAI,GAAI,IAAItG,EAAE3Z,EAAGigB,EAAEoE,KAAK,KAAMvE,EAAEjf,IAGtD,SAASif,EAAEjf,GACT,IAAK,IAAID,EAAI,EAAG+5B,EAAIh6B,EAAET,OAAQU,EAAI+5B,EAAG/5B,IAAK,CACxC,IAAI+Y,EAAIhZ,EAAEC,GACNZ,EAAI2Z,EAAE,GACV,GAAIA,EAAE,GAAGkH,KAAKhgB,GAAI,OAAOb,EAG3B,OAAO,KAGT,SAAS+f,IACP,YAAO,IAAWlf,GAAKA,EAAEkc,QAAU,IAAI/c,EAAEa,EAAEkc,QAAQgJ,MAAM,IAAM,KAGjEnlB,EAAEklK,OAAS,SAAUjlK,GACnB,OAAOA,EAAIof,EAAEpf,GAAK,oBAAsBklK,UAAY9lJ,EAAE8lJ,UAAUC,WAAajmJ,KAC5Enf,EAAEqlK,eAAiBhmJ,EAAGrf,EAAEslK,SAAWpmJ,EAAGlf,EAAEulK,eAAiBpmJ,IAC3Dxf,KAAKE,KAAMk6B,EAAE,MACf,SAAU95B,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI0a,EAAE,GACN7a,EAAI6a,EAAE,GACN5a,EAAI4a,EAAE,IACNjqB,EAAI,SAAU7P,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEgG,KAAO,SAAUhG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAG9D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLxpJ,KAAM,KACNxN,EAAG,EACHC,EAAG,EACH6D,UAAW,IAEZvS,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MACTnL,EAAIghB,EAAEtrB,EACNrP,EAAI26B,EAAErrB,EACNwO,EAAI6c,EAAE1mB,OACN5Q,EAAI5C,KAAKwhK,kBACb,OAAOhiJ,EAAE5I,OAAOsC,EAAG3Z,EAAG8d,EAAIza,EAAI,EAAGxC,EAAGD,IACnCA,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAEoT,OACNjU,EAAIS,KAAKwhK,kBAAoB,EAAItoJ,EACrC,OAAOmG,EAAElF,QAAQ41C,UAAU5vD,EAAIZ,EAAG26B,EAAI36B,EAAGY,EAAIZ,EAAG26B,EAAI36B,IACnDY,EAAEP,UAAUimK,SAAW,WACxB,IAAIzlK,EACAD,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNwO,EAAIld,EAAEqT,OACN5Q,EAAIzC,EAAE8Y,QAAU,SACpB,OAAQ7Y,EAAIb,EAAEsgK,WAAWj9J,GAAKA,EAAI0c,EAAEnF,QAAQ8C,IAAIra,IAAMxC,EAAE85B,EAAGhhB,EAAGmE,IAAMiwC,QAAQC,KAAKntD,EAAI,yBAA0B,OAC9GD,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKkP,IAAIi4E,SAEjB,IAAKhnF,GAAKH,KAAKkP,IAAI42J,UAAW,CAC5B,IAAI5rI,EACAhhB,EAAImE,EAAE+1C,UAAUpzD,KAAK6lK,YAGzB,IAFAzlK,EAAEwiF,YAAaziF,EAAI,GAEdyC,EAAI,EAAGA,EAAIsW,EAAEzZ,OAAQmD,IAAK,CAC7B,IAAIrD,EAAI2Z,EAAEtW,GACVs3B,EAAI,IAAIh6B,EAAEia,QAAQ5a,EAAG26B,EAAGt3B,IAAMsW,EAAEzZ,OAAS,GAAIU,EAAEqQ,KAAK0pB,GAAIA,EAAEpqB,KAAK1P,GAGjEJ,KAAKkP,IAAIi4E,SAAWhnF,EAAGH,KAAKkP,IAAI42J,WAAY,MACvC,CACL1lK,EAAEwiF,YAEF,IAAK,IAAIhgF,EAAI,EAAGA,EAAIzC,EAAEV,OAAQmD,IAC5BzC,EAAEyC,GAAGkN,KAAK1P,KAGbD,EAAE0kF,eAAiBvlE,EAAEnF,QAASha,EAxD3B,CAyDNyC,EAAEuX,SAEJha,EAAEga,QAAUlK,GACX,SAAU7P,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE+hK,aAAe/hK,EAAE0iK,QAAU1iK,EAAE8hK,cAAgB9hK,EAAE2iK,QAAK,EAC1D,IAAI5pJ,EAAIghB,EAAE,GACN36B,EAAI2Z,EAAE4E,KAEV,SAAST,EAAEjd,EAAGD,EAAG+5B,EAAGhhB,GAClB,IAAI3Z,EAAI,EAAI2Z,EACZ,OAAO3Z,GAAKA,EAAIa,EAAI,EAAI8Y,EAAI/Y,GAAK+Y,EAAIA,EAAIghB,EAG3C,SAASt3B,EAAExC,EAAGD,EAAG+5B,EAAGhhB,EAAGtW,EAAG1C,EAAGsf,EAAGH,EAAGC,GACjC,IAAIrP,EACAs7B,EACAlrC,EACAue,EACAtB,EACAzO,EACA8sB,EACA/sB,EAAI,KACJgP,EAAI,IACJgC,EAAI,CAACJ,EAAGH,GAEZ,IAAK/B,EAAI,EAAGA,EAAI,EAAGA,GAAK,IACtBjd,EAAI,CAACgd,EAAEjd,EAAG85B,EAAGt3B,EAAG0a,GAAID,EAAEld,EAAG+Y,EAAGhZ,EAAGod,KAAMiuB,EAAIhsC,EAAE69J,gBAAgBx9I,EAAGvf,IAAMud,IAAM3N,EAAIqN,EAAGM,EAAI2tB,GAGvF,IAAK3tB,EAAI,IAAO+d,EAAI,EAAGA,EAAI,MAAQ/sB,EAAI,MAAO+sB,IAAK,CACjD,IAAIrJ,EAAIriB,EAAIrB,EACRksB,EAAI7qB,EAAIrB,EACZvO,EAAI,CAACgd,EAAEjd,EAAG85B,EAAGt3B,EAAG0vB,GAAIjV,EAAEld,EAAG+Y,EAAGhZ,EAAGoyB,IAAKiZ,EAAIhsC,EAAE69J,gBAAgBx9I,EAAGvf,GAAIiyB,GAAK,GAAKiZ,EAAI3tB,GAAK3N,EAAIqiB,EAAG1U,EAAI2tB,IAAM3sB,EAAI,CAACvB,EAAEjd,EAAG85B,EAAGt3B,EAAGk4B,GAAIzd,EAAEld,EAAG+Y,EAAGhZ,EAAG46B,IAAKjsB,EAAItP,EAAE69J,gBAAgBx9I,EAAGhB,GAAIkc,GAAK,GAAKjsB,EAAI+O,GAAK3N,EAAI6qB,EAAGld,EAAI/O,GAAKD,GAAK,IAGhN,OAAO0Q,EAAI,CACT1Q,EAAGyO,EAAEjd,EAAG85B,EAAGt3B,EAAGqN,GACdpB,EAAGwO,EAAEld,EAAG+Y,EAAGhZ,EAAG+P,IACZiO,KAAKmE,KAAKzE,GAGhBzd,EAAE2iK,GAAKzlJ,EAAGld,EAAE8hK,cAAgBr/J,EAAGzC,EAAE0iK,QAAU,SAAUziK,EAAGD,EAAG+5B,GACzD,IAAI36B,EAAIa,EAAI85B,EAAI,EAAI/5B,EACpB,GAAI+Y,EAAEs2I,cAAcjwJ,EAAG,GAAI,MAAO,CAAC,IACnC,IAAI8d,GAAKjd,EAAID,GAAKZ,EAClB,OAAO8d,GAAK,GAAKA,GAAK,EAAI,CAACA,GAAK,IAC/Bld,EAAE+hK,aAAe,SAAU9hK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGnd,EAAGsf,GACjD,OAAO5c,EAAExC,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,EAAGnd,EAAGsf,GAAG,KAElC,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,IACN1a,EAAI,GAER,SAASH,EAAEjf,EAAGD,EAAG+5B,GACf,IAAK,IAAIhhB,EAAG3Z,EAAIa,EAAEX,OAAS,EAAGF,GAAK,EAAGA,IAAK,CACzC,IAAI8d,EAAIjd,EAAEb,GACV,GAAI8d,EAAEnO,IAAI8N,SAAWK,EAAEnO,IAAIm7B,UAAYhtB,EAAElP,YAAckP,EAAEunJ,UAAYvnJ,EAAEkO,QAAUrS,EAAImE,EAAE42C,SAAS9zD,EAAG+5B,GAAK7c,EAAEikJ,MAAMnhK,EAAG+5B,KAAOhhB,EAAImE,IAAKnE,EAAG,MAGxI,OAAOA,EAGT,IAAIoG,EAAI,SAAUlf,GAChB,SAASD,EAAEA,QACT,IAAWA,IAAMA,EAAI,IACrB,IAAI+5B,EAAI95B,EAAEN,KAAKE,KAAMG,IAAMH,KAC3B,OAAOk6B,EAAE3O,SAAU,EAAI2O,EAAE/zB,KAAO,QAAS+zB,EAAEuR,SAAU,EAAIvR,EAAEyrI,WAAY,EAAIzrI,EAAE7pB,IAAI,WAAY,IAAK6pB,EAAE7pB,IAAI,cAAe,IAAK6pB,EAAE6rI,kBAAmB7rI,EAAEquC,YAAaruC,EAAE8rI,UAAW9rI,EAG/K,OAAOhhB,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUmmK,gBAAkB,aAAgB5lK,EAAEP,UAAU2oE,UAAY,aAAgBpoE,EAAEP,UAAUomK,QAAU,aAAgB7lK,EAAEP,UAAU8sB,SAAW,SAAUtsB,EAAGD,GACxL,IAAI+5B,EAAIl6B,KAAKid,IAAI,UACjB9c,EAAIA,GAAK,GACT,IAAI+Y,EAAIsG,EAAEpf,GAEV,GAAI8Y,IAAMA,EAAI3Z,EAAEmgK,WAAWt/J,GAAIof,EAAEpf,GAAK8Y,GAAI/Y,EAAEkkB,OAAS6V,EAAG,CACtD,IAAI7c,EAAIld,EAAEkkB,MAEV,GAAI,SAAWjkB,EAAG,CAChB,IAAIwC,EAAIs3B,EAAEjd,IAAI,cACdra,IAAMya,EAAEtI,WAAasI,EAAEtI,WAAasI,EAAEtI,WAAanS,IAIvDzC,EAAE4O,OAASmrB,EAAG/5B,EAAEgG,KAAO/F,EACvB,IAAIif,EAAI,IAAInf,EAAEgZ,GAAG/Y,GACjB,OAAOH,KAAK4P,IAAIyP,GAAIA,GACnBlf,EAAEP,UAAU2tC,SAAW,SAAUntC,EAAG85B,GACrC,IAAIhhB,EACAmE,EAAIrd,KAAKid,IAAI,UACjB,GAAIid,EAAI36B,EAAEgxJ,IAAI,GAAIr2H,GAAI36B,EAAEsgK,WAAWz/J,GAAI85B,GAAKA,EAAEnrB,OAASsO,EAAG6c,EAAElrB,OAAShP,KAAMkZ,EAAI,IAAI9Y,EAAE85B,IAAMhhB,EAAI,IAAI9Y,EAAE,CACnG2O,OAAQsO,EACRrO,OAAQhP,OACNA,KAAK4P,IAAIsJ,QAAQ,GAAI3Z,EAAE0gK,SAAS7/J,GAAIA,EAAE2O,OAASsO,EAAGnE,EAAI,IAAI/Y,EAAEC,GAAIJ,KAAK4P,IAAIsJ,OAAQ,CACnF,QAAI,IAAW9Y,EAAG,OAAO,EACzB8Y,EAAI,IAAI/Y,EAAKH,KAAK4P,IAAIsJ,GAExB,OAAOA,GACN/Y,EAAEP,UAAU0mD,WAAa,SAAUlmD,EAAGD,GACvC,IAAI+5B,EAAIl6B,KAAKid,IAAI,aACb/D,EAAIlZ,KAAKipB,UACb,OAAO1pB,EAAEgxJ,IAAIpwJ,EAAG,CACdyO,EAAGsK,EAAEtK,EAAIxO,EAAE,GACXyO,EAAGqK,EAAErK,EAAIzO,EAAE,GACXoE,MAAO0U,EAAE1U,MAAQpE,EAAE,GAAKA,EAAE,GAC1B0O,OAAQoK,EAAEpK,OAAS1O,EAAE,GAAKA,EAAE,KAC1B85B,EAAIA,EAAE9R,KAAKjoB,GAAK+5B,EAAIl6B,KAAK0sB,SAAS,OAAQ,CAC5CjU,QAAS,EACT4L,MAAOlkB,IACLH,KAAKqQ,IAAI,YAAa6pB,GAAIl6B,KAAK+2B,OAAQmD,GAC1C/5B,EAAEP,UAAU+yC,YAAc,SAAUxyC,EAAG+5B,GACxC,GAAI16B,UAAUC,QAAU,EAAGO,KAAKimK,QAAQ9lK,IAAMA,EAAEgQ,OAAO+pB,OAAQ,CAC7D,GAAI,IAAM16B,UAAUC,OAAQ,CAC1B,IAAKF,EAAEqgK,UAAUz/J,GAAI,OAAOH,KAAKimK,QAAQ9lK,IAAMA,EAAEgQ,QAAO,GAAKnQ,KAC7Dk6B,EAAI/5B,EAGN,IAAMX,UAAUC,SAAWy6B,GAAI,GAAK95B,EAAER,UAAUuQ,OAAOrQ,KAAKE,KAAMk6B,GAEpE,OAAOl6B,MACNG,EAAEP,UAAUgQ,IAAM,SAAUxP,GAC7B,IAAID,EAAIH,KACJk6B,EAAI/5B,EAAE8c,IAAI,YACd,GAAI1d,EAAEkjI,QAAQriI,GAAIb,EAAE+4J,KAAKl4J,GAAG,SAAUA,GACpC,IAAI85B,EAAI95B,EAAE6c,IAAI,UACdid,GAAKA,EAAEyY,YAAYvyC,GAAG,GAAKD,EAAE+lK,gBAAgB9lK,MAC3CD,EAAE+O,IAAI5I,SAAW4zB,EAAE74B,OAAOjB,OAAQ,CACpC,IAAI8Y,EAAI9Y,EACJid,EAAInE,EAAE+D,IAAI,UACdI,GAAKA,EAAEs1B,YAAYz5B,GAAG,GAAK/Y,EAAE+lK,gBAAgBhtJ,GAAIghB,EAAE1pB,KAAK0I,GAE1D,OAAO/Y,GACNA,EAAEP,UAAUsmK,gBAAkB,SAAU9lK,GACzC,IAAID,EAAIH,KAAKkP,IACb9O,EAAEiQ,IAAI,SAAUrQ,MAAOI,EAAEiQ,IAAI,SAAUlQ,EAAE4O,QAAS5O,EAAEgmK,UAAY/lK,EAAEiQ,IAAI,WAAYlQ,EAAEgmK,WACnFhmK,EAAEP,UAAUqmK,QAAU,SAAU7lK,GACjC,OAAOJ,KAAKid,IAAI,YAAY3c,QAAQF,IAAM,GACzCD,EAAEP,UAAU46H,gBAAkB,SAAUp6H,GACzC,OAAOJ,KAAKid,IAAI,YAAY7c,IAC3BD,EAAEP,UAAUwmK,SAAW,WACxB,OAAOpmK,KAAKw6H,gBAAgB,IAC3Br6H,EAAEP,UAAUymK,QAAU,WACvB,IAAIjmK,EAAIJ,KAAKid,IAAI,YAAYxd,OAAS,EACtC,OAAOO,KAAKw6H,gBAAgBp6H,IAC3BD,EAAEP,UAAUqpB,QAAU,WACvB,IAAI7oB,EAAI,IACJD,GAAI,IACJ+5B,EAAI,IACJhhB,GAAI,IACJmE,EAAIrd,KAAKid,IAAI,YACjB,OAAOI,EAAE5d,OAAS,EAAIF,EAAE+4J,KAAKj7I,GAAG,SAAU9d,GACxC,GAAIA,EAAE0d,IAAI,WAAY,CACpB,IAAII,EAAI9d,EAAE0pB,UACV,IAAK5L,EAAG,OAAO,EACf,IAAIza,EAAIya,EAAE8yB,GACNjwC,EAAImd,EAAEq0B,GACNlyB,EAAInC,EAAE2yB,GACN3wB,EAAIhC,EAAE4yB,GACN3wB,EAAI,CAAC1c,EAAEgM,EAAGhM,EAAEiM,EAAG,GACfoB,EAAI,CAACuP,EAAE5Q,EAAG4Q,EAAE3Q,EAAG,GACf08B,EAAI,CAACrrC,EAAE0O,EAAG1O,EAAE2O,EAAG,GACfxO,EAAI,CAACgf,EAAEzQ,EAAGyQ,EAAExQ,EAAG,GACnBtP,EAAEQ,MAAMuf,GAAI/f,EAAEQ,MAAMkQ,GAAI1Q,EAAEQ,MAAMwrC,GAAIhsC,EAAEQ,MAAMM,GAC5C,IAAIue,EAAIV,KAAKuR,IAAInQ,EAAE,GAAIrP,EAAE,GAAIs7B,EAAE,GAAIlrC,EAAE,IACjCid,EAAIY,KAAKyH,IAAIrG,EAAE,GAAIrP,EAAE,GAAIs7B,EAAE,GAAIlrC,EAAE,IACjCwO,EAAIqP,KAAKuR,IAAInQ,EAAE,GAAIrP,EAAE,GAAIs7B,EAAE,GAAIlrC,EAAE,IACjCs7B,EAAIzd,KAAKyH,IAAIrG,EAAE,GAAIrP,EAAE,GAAIs7B,EAAE,GAAIlrC,EAAE,IACrCue,EAAIxe,IAAMA,EAAIwe,GAAItB,EAAInd,IAAMA,EAAImd,GAAIzO,EAAIqrB,IAAMA,EAAIrrB,GAAI8sB,EAAIziB,IAAMA,EAAIyiB,QAElEv7B,EAAI,EAAGD,EAAI,EAAG+5B,EAAI,EAAGhhB,EAAI,GAAI,IAAItW,EAAEuX,QAAQ/Z,EAAG85B,EAAG/5B,EAAIC,EAAG8Y,EAAIghB,IACjE/5B,EAAEP,UAAU0mK,SAAW,WACxB,OAAOtmK,KAAKid,IAAI,YAAYxd,QAC3BU,EAAEP,UAAUm3B,KAAO,WACpB,IAAI32B,EACAD,EAAIH,KAAKid,IAAI,YACjB,OAAO1d,EAAE+4J,KAAKn4J,GAAG,SAAUC,EAAGD,GAC5B,OAAOC,EAAEivE,OAASlvE,EAAGC,KACnBD,EAAE42B,MAAM32B,EAAI,SAAWmmK,EAAKpmK,GAC9B,OAAOomK,EAAItpJ,IAAI,UAAY9c,EAAE8c,IAAI,WAChC,SAAU9c,EAAG+5B,GACd,IAAIhhB,EAAI9Y,EAAED,EAAG+5B,GACb,OAAO,IAAMhhB,EAAI/Y,EAAEkvE,OAASn1C,EAAEm1C,OAASn2D,KACpClZ,MACJG,EAAEP,UAAU4mK,SAAW,SAAUpmK,GAClC,OAAOJ,KAAKk/F,MAAK,SAAU/+F,GACzB,OAAOA,EAAE8c,IAAI,QAAU7c,MAExBD,EAAEP,UAAUs/F,KAAO,SAAU9+F,GAC9B,GAAIb,EAAEghK,SAASngK,GAAI,OAAOJ,KAAKwmK,SAASpmK,GACxC,IAAID,EAAIH,KAAKid,IAAI,YACbid,EAAI,KACR,OAAO36B,EAAE+4J,KAAKn4J,GAAG,SAAUA,GACzB,GAAIC,EAAED,GAAK+5B,EAAI/5B,EAAIA,EAAE++F,OAAShlE,EAAI/5B,EAAE++F,KAAK9+F,IAAK85B,EAAG,OAAO,KACtDA,GACH/5B,EAAEP,UAAUgoI,QAAU,SAAUxnI,GACjC,IAAID,EAAIH,KAAKid,IAAI,YACbid,EAAI,GACJhhB,EAAI,GACR,OAAO3Z,EAAE+4J,KAAKn4J,GAAG,SAAUA,GACzBC,EAAED,IAAM+5B,EAAE1pB,KAAKrQ,GAAIA,EAAEsmK,YAAcvtJ,EAAI/Y,EAAEsmK,UAAUrmK,GAAI85B,EAAIA,EAAE74B,OAAO6X,OAClEghB,GACH/5B,EAAEP,UAAU4nD,OAAS,SAAUpnD,GAChC,IAAID,EAAIH,KAAKid,IAAI,YACbid,EAAI,KACR,OAAO36B,EAAE+4J,KAAKn4J,GAAG,SAAUA,GACzB,GAAIC,EAAED,GAAK+5B,EAAI/5B,EAAIA,EAAEqnD,SAAWttB,EAAI/5B,EAAEqnD,OAAOpnD,IAAK85B,EAAG,OAAO,KAC1DA,GACH/5B,EAAEP,UAAU6mK,UAAY,SAAUrmK,GACnC,IAAID,EAAIH,KAAKid,IAAI,YACbid,EAAI,GACJhhB,EAAI,GACR,OAAO3Z,EAAE+4J,KAAKn4J,GAAG,SAAUA,GACzBC,EAAED,IAAM+5B,EAAE1pB,KAAKrQ,GAAIA,EAAEsmK,YAAcvtJ,EAAI/Y,EAAEsmK,UAAUrmK,GAAI85B,EAAIA,EAAE74B,OAAO6X,OAClEghB,GACH/5B,EAAEP,UAAUq0D,SAAW,SAAU7zD,EAAGD,EAAG+5B,GACxC,IAAIhhB,EACA3Z,EAAIS,KAAKqkB,MAAMkC,KACflJ,EAAIrd,KAAKkP,IAAI5I,SAEjB,GAAI/G,EAAG,CACL,IAAIqD,EAAI,CAACxC,EAAGD,EAAG,GACfZ,EAAEwwB,OAAOntB,EAAG5C,KAAKid,IAAI,WAAY1d,EAAE0hK,cAAcr+J,EAAE,GAAIA,EAAE,MAAQsW,EAAImG,EAAEhC,EAAGjd,EAAGD,SACxE+Y,EAAImG,EAAEhC,EAAGjd,EAAGD,GAEnB,OAAO+Y,GACN/Y,EAAEP,UAAU8hK,iBAAmB,WAChC,GAAI1hK,KAAKid,IAAI,eAAgB,CAC3Bjd,KAAKspB,UAAU,cAAe,MAE9B,IAAK,IAAIlpB,EAAIJ,KAAKkP,IAAI5I,SAAUnG,EAAI,EAAGA,EAAIC,EAAEX,OAAQU,IACnDC,EAAED,GAAGuhK,qBAGRvhK,EAAEP,UAAUmQ,MAAQ,SAAU3P,GAC/B,IAAKJ,KAAKmO,UAAW,CACnB,IAAK,IAAIhO,EAAIH,KAAKkP,IAAI5I,SAAU4zB,EAAI/5B,EAAEV,OAAS,EAAGy6B,GAAK,EAAGA,IACxD/5B,EAAE+5B,GAAG/pB,QAAO,EAAI/P,GAGlB,OAAOJ,KAAKkP,IAAI5I,SAAW,GAAItG,OAEhCG,EAAEP,UAAUoQ,QAAU,WACvBhQ,KAAKmO,YAAcnO,KAAK+P,QAAS3P,EAAER,UAAUoQ,QAAQlQ,KAAKE,QACzDG,EAAEP,UAAUivB,MAAQ,WACrB,IAAIzuB,EAAIJ,KAAKkP,IAAI5I,SACb4zB,EAAI,IAAI/5B,EACZ,OAAOZ,EAAE+4J,KAAKl4J,GAAG,SAAUA,GACzB85B,EAAEtqB,IAAIxP,EAAEyuB,YACNqL,GACH/5B,EA1LG,CA2LNkd,EAAElD,SAEJha,EAAEga,QAAUmF,GACX,SAAUlf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAEumK,OAASvmK,EAAEsoC,MAAQtoC,EAAEq3J,SAAWr3J,EAAEwmK,YAAcxmK,EAAEymK,MAAQzmK,EAAE0mK,MAAQ1mK,EAAE8wE,QAAU9wE,EAAE2+D,OAAS3+D,EAAE2mK,KAAO3mK,EAAEmc,aAAU,EACtH,IAAIpD,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACV/5B,EAAE2mK,KAAOvnK,EAAE4a,QACX,IAAIkD,EAAI6c,EAAE,IACV/5B,EAAE2+D,OAASzhD,EAAElD,QACb,IAAIvX,EAAIs3B,EAAE,IACV/5B,EAAE8wE,QAAUruE,EAAEuX,QACd,IAAIja,EAAIg6B,EAAE,IACV/5B,EAAE0mK,MAAQ3mK,EAAEia,QACZ,IAAIqF,EAAI0a,EAAE,IACV/5B,EAAEymK,MAAQpnJ,EAAErF,QACZ,IAAIkF,EAAI6a,EAAE,GACV/5B,EAAEwmK,YAActnJ,EAAElF,QAClB,IAAImF,EAAI4a,EAAE,GACV/5B,EAAEsoC,MAAQnpB,EAAEnF,QACZ,IAAIlK,EAAIiqB,EAAE,IACV/5B,EAAEq3J,SAAWvnJ,EACb,IAAIs7B,EAAIrR,EAAE,IACV/5B,EAAEumK,OAASn7H,EACX,IAAIlrC,EAAI65B,EAAE,IACV/5B,EAAEmc,QAAUjc,EAAEic,QAASpD,EAAEo7I,aAAap6H,EAAE,IAAK/5B,GAAI+Y,EAAEo7I,aAAap6H,EAAE,IAAK/5B,IACtE,SAAUC,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,IACN7a,EAAI6a,EAAE,IACN5a,EAAIjC,EAAEgoJ,SACNp1J,EAAIqP,GAAK,YAAcA,EAAErN,KACzBs5B,EAAI,CAAC,QAAS,YAAa,UAAW,WAAY,cAAe,aAAc,aAAc,YAAa,WAAY,YAAa,SACnIlrC,EAAI,KACJue,EAAI,KACJtB,EAAI,KACJzO,EAAI,SAAUzO,GAChB,SAASD,EAAEA,GACT,IAAI+5B,EAAI95B,EAAEN,KAAKE,KAAMkZ,EAAE6tJ,SAAS,CAC9BC,aAAa,EACbxiK,MAAO,KACPsK,OAAQ,KACRm4J,YAAa,KACbC,aAAc,KACdC,WAAY,KACZC,YAAa,KACbxnH,aAAc,KACdynH,UAAW,KACXvxJ,WAAY,KACZyG,SAAU,SACV+qJ,qBAAqB,GACpBnnK,KAAOH,KACV,OAAOk6B,EAAEqtI,kBAAmBrtI,EAAEstI,gBAAiBttI,EAAEutI,eAAgBvtI,EAAEwtI,SAAUxtI,EAAEjd,IAAI,gBAAkBid,EAAEytI,gBAAiBztI,EAG1H,OAAOhhB,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAU8nK,OAAS,WAC7C,GAAI,QAAU1nK,KAAKkP,IAAI04J,WAAY,CACjC,IAAIxnK,EAAIJ,KAAKid,IAAI,cACjBjd,KAAK2tB,MAAMvtB,EAAGA,KAEfD,EAAEP,UAAU2nK,gBAAkB,WAC/B,IAAInnK,EAAIJ,KAAKid,IAAI,aAAe,SAChC,QAAU7c,EAAIJ,KAAKqQ,IAAI,aAAc,GAAKrQ,KAAKid,IAAI,eAAiBjd,KAAKqQ,IAAI,aAAc9Q,EAAE45J,YAAan5J,KAAKkP,IAAI04J,WAAaxnK,EAChI,IAAID,EAAIyC,EAAExC,GACVJ,KAAKkP,IAAIqN,SAAWpc,EAAGH,KAAKkP,IAAIH,OAAS/O,KACzC,IAAIk6B,EAAI,IAAI1a,EAAErF,QAAQna,MACtBA,KAAKkP,IAAIi3J,SAAWjsI,GACnB/5B,EAAEP,UAAU4nK,cAAgB,WAC7B,IAAIpnK,EAAIJ,KAAKid,IAAI,eACb9c,EAAIH,KAAKid,IAAI,iBAChB9c,GAAKmyC,WAAanyC,EAAImyC,SAASC,eAAenyC,GAAIJ,KAAKqQ,IAAI,eAAgBlQ,IAAKA,GAAKZ,EAAE85J,UAAUl5J,EAAG,CACnGqW,SAAU,cAEXrW,EAAEP,UAAU6nK,aAAe,WAC5B,IAAIrnK,EAAIJ,KAAKid,IAAI,gBACb9c,EAAIH,KAAKid,IAAI,WACbid,EAAI,IAAIl6B,KAAKkP,IAAIqN,SAASsrJ,QAAQznK,EAAGD,GACzCH,KAAKkP,IAAI24J,QAAU3tI,EAAGl6B,KAAKkP,IAAIm4J,UAAYrnK,KAAKkP,IAAIi9C,GAAKjyB,EAAEnrB,OAAQ/O,KAAKu9E,WAAWv9E,KAAKid,IAAI,SAAUjd,KAAKid,IAAI,YAC9G9c,EAAEP,UAAUkoK,QAAU,WACvB,IAAI1nK,EAAIJ,KAAKid,IAAI,aACb9c,EAAIH,KAAKid,IAAI,eACbid,EAAIl6B,KAAKid,IAAI,gBACb/D,EAAIlZ,KAAKid,IAAI,cACb1d,EAAIS,KAAKid,IAAI,eACjB7c,EAAEmE,MAAMC,MAAQ0U,EAAG9Y,EAAEmE,MAAMuK,OAASvP,EAAGa,EAAEyoD,aAAa,QAAS1oD,GAAIC,EAAEyoD,aAAa,SAAU3uB,IAC3F/5B,EAAEP,UAAUqoB,SAAW,WACxB,IAAI7nB,EAAIJ,KAAKid,IAAI,cACjB,OAAOjd,KAAKid,IAAI,SAAW7c,GAC1BD,EAAEP,UAAUylC,UAAY,WACzB,IAAIjlC,EAAIJ,KAAKid,IAAI,cACjB,OAAOjd,KAAKid,IAAI,UAAY7c,GAC3BD,EAAEP,UAAU29E,WAAa,SAAUn9E,EAAGD,GACvC,IAAI+5B,EAAIl6B,KAAKid,IAAI,cACb/D,EAAI9Y,EAAI85B,EACR36B,EAAIY,EAAI+5B,EACZl6B,KAAKqQ,IAAI,cAAe6I,GAAIlZ,KAAKqQ,IAAI,eAAgB9Q,GAAIS,KAAKqQ,IAAI,aAAcjQ,EAAI,MAAOJ,KAAKqQ,IAAI,cAAelQ,EAAI,MAAOH,KAAKqQ,IAAI,QAASjQ,GAAIJ,KAAKqQ,IAAI,SAAUlQ,GAAIH,KAAK8nK,WAC/K3nK,EAAEP,UAAUmoK,gBAAkB,SAAU3nK,GACzC,GAAIJ,KAAKid,IAAI,uBAAwB,CACnC,IAAI9c,EAAIH,KAAKid,IAAI,eAAiB,EAClC,GAAIhN,IAAM1Q,EAAEugK,MAAM1/J,EAAE+9I,SAAW/9I,EAAE+9I,SAAW/9I,EAAEkqC,QAAS,MAAO,CAC5D17B,EAAGxO,EAAE+9I,OAASh+I,EACd0O,EAAGzO,EAAEg+I,OAASj+I,GAEhB,IAAKZ,EAAEugK,MAAM1/J,EAAEkqC,SAAU,MAAO,CAC9B17B,EAAGxO,EAAEkqC,QAAUnqC,EACf0O,EAAGzO,EAAEmqC,QAAUpqC,GAInB,IAAI+5B,EAAIl6B,KAAKgoK,iBAAiB5nK,GAC1B8Y,EAAIghB,EAAEtrB,EACNyO,EAAI6c,EAAErrB,EACV,OAAO7O,KAAKg/D,iBAAiB9lD,EAAGmE,IAC/Bld,EAAEP,UAAUooK,iBAAmB,SAAU5nK,GAC1C,IAAID,EAAIC,EACR,OAAOA,EAAE44I,UAAY74I,EAAI,aAAeC,EAAE+F,KAAO/F,EAAE6nK,eAAe,GAAK7nK,EAAE44I,QAAQ,IAAK,CACpFpqI,EAAGzO,EAAEs8C,QACL5tC,EAAG1O,EAAEu8C,UAENv8C,EAAEP,UAAUo/D,iBAAmB,SAAU5+D,EAAGD,GAC7C,IAAI+5B,EAAIl6B,KAAKid,IAAI,MACb/D,EAAIlZ,KAAKid,IAAI,eAAiB,EAC9B1d,EAAI26B,EAAE45D,wBACV,MAAO,CACLllF,GAAIxO,EAAIb,EAAEmX,MAAQwC,EAClBrK,GAAI1O,EAAIZ,EAAEgX,KAAO2C,IAElB/Y,EAAEP,UAAUsoK,iBAAmB,SAAU9nK,EAAGD,GAC7C,IAAI+5B,EAAIl6B,KAAKid,IAAI,MAAM62E,wBACnB56E,EAAIlZ,KAAKid,IAAI,eAAiB,EAClC,MAAO,CACLw/B,QAASr8C,EAAI8Y,EAAIghB,EAAExjB,KACnBgmC,QAASv8C,EAAI+Y,EAAIghB,EAAE3jB,MAEpBpW,EAAEP,UAAUkQ,KAAO,WACpB9P,KAAKkP,IAAI24J,QAAQ/3J,KAAK9P,OACrBG,EAAEP,UAAUq0D,SAAW,SAAU9zD,EAAG+5B,EAAGhhB,GACxC,OAAO,IAAM1Z,UAAUC,QAAUO,KAAKkP,IAAIqN,SAAS03C,SAAWj0D,KAAKkP,IAAIqN,SAAS03C,SAASn0D,KAAKE,KAAMG,EAAG+5B,EAAGhhB,GAAK9Y,EAAER,UAAUq0D,SAASn0D,KAAKE,KAAMG,EAAG+5B,IACjJ/5B,EAAEP,UAAUuoK,YAAc,WAC3B,OAAOnoK,KAAKkP,IAAI04J,YACfznK,EAAEP,UAAUwoK,UAAY,WACzBpoK,KAAKkP,IAAI24J,QAAQQ,SAASroK,OACzBG,EAAEP,UAAUoQ,QAAU,WACvB,IAAI7P,EAAIH,KAAKkP,IACTgrB,EAAI/5B,EAAEy/C,aACN1mC,EAAI/Y,EAAEknK,UACVnuJ,GAAKghB,GAAKA,EAAEyY,YAAYz5B,GAAI/Y,EAAEgmK,SAASxpI,OAAQv8B,EAAER,UAAUoQ,QAAQlQ,KAAKE,OACvEG,EAAEP,UAAU+nK,cAAgB,WAC7B,IAAIvnK,EAAIJ,KACJG,EAAIH,KAAKid,IAAI,MACjB1d,EAAE+4J,KAAK/sH,GAAG,SAAUrR,GAClB/5B,EAAEyiE,iBAAiB1oC,GAAG,SAAU/5B,GAC9BC,EAAEmhE,cAAcrnC,EAAG/5B,MAClB,MACDA,EAAEyiE,iBAAiB,cAAc,SAAUziE,GAC7CZ,EAAEm5J,QAAQv4J,EAAEmoK,gBAAkBloK,EAAEmhE,cAAc,aAAcphE,MAC3D,GAAKA,EAAEyiE,iBAAiB,aAAa,SAAUziE,GAChDZ,EAAEm5J,QAAQv4J,EAAEmoK,gBAAkBloK,EAAEmhE,cAAc,YAAaphE,MAC1D,GAAKA,EAAEyiE,iBAAiB,YAAY,SAAUziE,GAC/CZ,EAAEm5J,QAAQv4J,EAAE8nK,iBAAmB7nK,EAAEmhE,cAAc,WAAYphE,MAC1D,IACFA,EAAEP,UAAU2oK,YAAc,SAAUnoK,EAAGD,GACxC,GAAIC,EAAG,CACL,IAAKb,EAAEm5J,QAAQt4J,EAAEooK,aAAc,OAAOpoK,EACtC,IAAI85B,EAAI95B,EAAE6c,IAAI,UACd,GAAIid,IAAM/5B,EAAEwkK,mBAAoB,OAAO3kK,KAAKuoK,YAAYruI,EAAG/5B,KAE5DA,EAAEP,UAAU0iE,aAAe,SAAUliE,EAAGD,EAAG+5B,EAAGhhB,GAC/C,IAAI3Z,EAAI,IAAIW,EAAEia,QAAQ/Z,EAAGD,GAAG,GAAI,GAChC,OAAOZ,EAAEqP,EAAIsrB,EAAEtrB,EAAGrP,EAAEsP,EAAIqrB,EAAErrB,EAAGtP,EAAEk9C,QAAUt8C,EAAEs8C,QAASl9C,EAAEm9C,QAAUv8C,EAAEu8C,QAASn9C,EAAED,OAAS4Z,EAAG3Z,EAAEu9C,cAAgB98C,KAAKuoK,YAAYrvJ,EAAG3Z,GAAIA,GAClIY,EAAEP,UAAU2hE,cAAgB,SAAUnhE,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAK+nK,gBAAgB5nK,GACzB+Y,EAAIlZ,KAAKi0D,SAAS/5B,EAAEtrB,EAAGsrB,EAAErrB,EAAG1O,GAC5BZ,EAAIS,KAAKid,IAAI,MAEjB,GAAIK,GAAK,QAAUtd,KAAKmoK,gBAAkBjvJ,EAAIlZ,KAAKi0D,SAAS/5B,EAAEtrB,EAAGsrB,EAAErrB,IAAK,cAAgBzO,EAAG,CACzF,GAAIC,GAAKA,IAAM6Y,IAAMlZ,KAAKyoK,WAAW,WAAYtoK,EAAG+5B,EAAG75B,GAAIL,KAAKyoK,WAAW,aAActoK,EAAG+5B,EAAG75B,GAAIid,GAAKtd,KAAKyoK,WAAW,YAAatoK,EAAG+5B,EAAG75B,GAAIA,EAAE8N,WAAa9N,EAAEukK,UAAYrlK,EAAEgF,MAAMyT,OAAS3X,EAAE+nB,KAAK,WAAa,YAAa9K,IAAMtd,KAAKyoK,WAAW,OAAQtoK,EAAG+5B,EAAG5c,GAAItd,KAAKyoK,WAAW,YAAatoK,EAAG+5B,EAAGhhB,GAAKlZ,OAAQkZ,EAAGoE,IAAMsB,IAAM1F,GAAKoE,EAAIpE,EAAG0F,EAAI,KAAM5e,KAAKyoK,WAAW,YAAatoK,EAAG+5B,EAAGhhB,IAAMlZ,KAAKyoK,WAAW,YAAatoK,EAAG+5B,EAAGhhB,IAAK7Y,IAAM6Y,IAAMlZ,KAAKyoK,WAAW,aAActoK,EAAG+5B,EAAGhhB,GAAIlZ,KAAKyoK,WAAW,YAAatoK,EAAG+5B,EAAGhhB,GAAIoE,GAAKtd,KAAKyoK,WAAW,YAAatoK,EAAG+5B,EAAGhhB,QAAS,CACtjB,IAAImE,EAAIrd,KAAKsiE,aAAa,YAAaniE,EAAG+5B,EAAGl6B,MAE7CA,KAAK0sC,KAAK,YAAarvB,GAEzBhd,EAAI6Y,OACClZ,KAAKyoK,WAAWroK,EAAGD,EAAG+5B,EAAGhhB,GAAKlZ,MAAOsd,GAAK,cAAgBld,IAAMwe,EAAI1F,GAAI,YAAc9Y,IAAMwe,EAAI,KAAMtB,IAAMA,EAAEpO,IAAIm7B,SAAU,EAAIrqC,KAAKyoK,WAAW,UAAWtoK,EAAG+5B,EAAG5c,GAAIA,EAAI,KAAMtd,KAAKyoK,WAAW,OAAQtoK,EAAG+5B,EAAGhhB,GAAKlZ,QAEzNkZ,IAAMA,EAAE/K,YAAc5O,EAAEgF,MAAMyT,OAASkB,EAAEkP,KAAK,WAAa,YAC1DjoB,EAAEP,UAAU6oK,WAAa,SAAUroK,EAAGD,EAAG+5B,EAAGhhB,GAC7C,IAAI3Z,EAAIS,KAAKsiE,aAAaliE,EAAGD,EAAG+5B,EAAGhhB,GAC/BmE,EAAIrd,KAAKuoK,YAAYrvJ,EAAG/Y,GAE5B,OAAOkd,GAAKA,EAAEqvB,KAAKtsC,EAAGb,GAAI8d,GACzBld,EA1JG,CA2JNkf,EAAElF,SAEJha,EAAEga,QAAUtL,GACX,SAAUzO,EAAGD,GACd,IAAI+5B,EACAhhB,EACA3Z,EAAIa,EAAEm0J,QAAU,GAEpB,SAASl3I,IACP,MAAM,IAAIzH,MAAM,mCAGlB,SAAShT,IACP,MAAM,IAAIgT,MAAM,qCAGlB,SAAS1V,EAAEE,GACT,GAAI85B,IAAMmnC,WAAY,OAAOA,WAAWjhE,EAAG,GAC3C,IAAK85B,IAAM7c,IAAM6c,IAAMmnC,WAAY,OAAOnnC,EAAImnC,WAAYA,WAAWjhE,EAAG,GAExE,IACE,OAAO85B,EAAE95B,EAAG,GACZ,MAAOD,GACP,IACE,OAAO+5B,EAAEp6B,KAAK,KAAMM,EAAG,GACvB,MAAOD,GACP,OAAO+5B,EAAEp6B,KAAKE,KAAMI,EAAG,MAK5B,WACC,IACE85B,EAAI,mBAAqBmnC,WAAaA,WAAahkD,EACnD,MAAOjd,GACP85B,EAAI7c,EAGN,IACEnE,EAAI,mBAAqBioD,aAAeA,aAAev+D,EACvD,MAAOxC,GACP8Y,EAAItW,GAVP,GAaD,IAAI4c,EACAH,EAAI,GACJC,GAAI,EACJrP,GAAK,EAET,SAASs7B,IACPjsB,GAAKE,IAAMF,GAAI,EAAIE,EAAE/f,OAAS4f,EAAIG,EAAEne,OAAOge,GAAKpP,GAAK,EAAGoP,EAAE5f,QAAUY,KAGtE,SAASA,IACP,IAAKif,EAAG,CACN,IAAIlf,EAAIF,EAAEqrC,GACVjsB,GAAI,EAEJ,IAAK,IAAInf,EAAIkf,EAAE5f,OAAQU,GAAI,CACzB,IAAKqf,EAAIH,EAAGA,EAAI,KAAMpP,EAAI9P,GACxBqf,GAAKA,EAAEvP,GAAGy4J,MAGZz4J,GAAK,EAAG9P,EAAIkf,EAAE5f,OAGhB+f,EAAI,KAAMF,GAAI,EAAI,SAAUlf,GAC1B,GAAI8Y,IAAMioD,aAAc,OAAOA,aAAa/gE,GAC5C,IAAK8Y,IAAMtW,IAAMsW,IAAMioD,aAAc,OAAOjoD,EAAIioD,aAAcA,aAAa/gE,GAE3E,IACE8Y,EAAE9Y,GACF,MAAOD,GACP,IACE,OAAO+Y,EAAEpZ,KAAK,KAAMM,GACpB,MAAOD,GACP,OAAO+Y,EAAEpZ,KAAKE,KAAMI,KAVR,CAahBA,IAIN,SAASwe,EAAExe,EAAGD,GACZH,KAAK2oK,IAAMvoK,EAAGJ,KAAK0tF,MAAQvtF,EAG7B,SAASmd,KAET/d,EAAEqpK,SAAW,SAAUxoK,GACrB,IAAID,EAAI,IAAIqd,MAAMhe,UAAUC,OAAS,GACrC,GAAID,UAAUC,OAAS,EAAG,IAAK,IAAIy6B,EAAI,EAAGA,EAAI16B,UAAUC,OAAQy6B,IAC9D/5B,EAAE+5B,EAAI,GAAK16B,UAAU06B,GAEvB7a,EAAE7O,KAAK,IAAIoO,EAAExe,EAAGD,IAAK,IAAMkf,EAAE5f,QAAU6f,GAAKpf,EAAEG,IAC7Cue,EAAEhf,UAAU8oK,IAAM,WACnB1oK,KAAK2oK,IAAI5oK,MAAM,KAAMC,KAAK0tF,QACzBnuF,EAAEoC,MAAQ,UAAWpC,EAAEspK,SAAU,EAAItpK,EAAEupK,IAAM,GAAIvpK,EAAEwpK,KAAO,GAAIxpK,EAAE+c,QAAU,GAAI/c,EAAEypK,SAAW,GAAIzpK,EAAEyO,GAAKsP,EAAG/d,EAAE0pK,YAAc3rJ,EAAG/d,EAAE2pK,KAAO5rJ,EAAG/d,EAAE2Q,IAAMoN,EAAG/d,EAAE4pK,eAAiB7rJ,EAAG/d,EAAE6pK,mBAAqB9rJ,EAAG/d,EAAEmtC,KAAOpvB,EAAG/d,EAAE8pK,gBAAkB/rJ,EAAG/d,EAAE+pK,oBAAsBhsJ,EAAG/d,EAAEgwI,UAAY,SAAUnvI,GAC1R,MAAO,IACNb,EAAEgqK,QAAU,SAAUnpK,GACvB,MAAM,IAAIwV,MAAM,qCACfrW,EAAEiqK,IAAM,WACT,MAAO,KACNjqK,EAAEkqK,MAAQ,SAAUrpK,GACrB,MAAM,IAAIwV,MAAM,mCACfrW,EAAEmqK,MAAQ,WACX,OAAO,IAER,SAAUtpK,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAEwpK,IAAMxpK,EAAE4O,YAAS,EACvB,IAAImK,EAAIghB,EAAE,IACV/5B,EAAE4O,OAASmK,EACX,IAAI3Z,EAAI26B,EAAE,IACV/5B,EAAEwpK,IAAMpqK,GACP,SAAUa,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,UAAW,CAClCoB,YAAY,EACZ0b,IAAK,WACH,OAAO/D,EAAEiB,YAGZ,SAAU/Z,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI,CAAC,YAAa,OAAQ,cAAe,UAAW,YAAa,WAAY,aAAc,aAAc,cAAe,gBAAiB,gBAAiB,cAAe,YAAa,eAAgB,WAAY,kBAClNza,EAAI,WACN,SAASxC,EAAEA,EAAGD,GACZ,IAAKC,EAAG,OAAOJ,KAAKmG,KAAO,SAAUnG,KAAK+O,OAAS5O,EAAE4O,OAAQ/O,KAAKuoI,QAAUpoI,EAAGH,KAC/E,IAAIk6B,EAAIhhB,EAAE6/I,SAAS,WACfx5J,EAAI2Z,EAAE8/I,UAAU,eAAiB9+H,EAAI,eACzC,OAAO95B,EAAEiuC,YAAY9uC,GAAIS,KAAKmG,KAAO,SAAUnG,KAAK+O,OAASxP,EAAGS,KAAKuoI,QAAUhpI,EAAEkjF,WAAW,MAAOziF,KAGrG,OAAOI,EAAER,UAAUgqK,WAAa,WAC9B,IAAIxpK,EAAIJ,KAAK+O,OACb/O,KAAKuoI,SAAWvoI,KAAKuoI,QAAQ7lD,UAAU,EAAG,EAAGtiF,EAAEoE,MAAOpE,EAAE0O,SACvD1O,EAAER,UAAUkQ,KAAO,SAAU1P,GAC9B,IAAID,EAAIH,KACRG,EAAE0pK,eAAiB1pK,EAAE2pK,QAAS,EAAK,SAAS5vI,IAC1C/5B,EAAE0pK,eAAiB3wJ,EAAEojF,uBAAsB,WACzCn8F,EAAE0pK,oBAAiB,EAAQ1pK,EAAE2pK,QAAU5vI,OACrC/5B,EAAEypK,aAEN,IACEzpK,EAAE4pK,WAAW3pK,GACb,MAAOA,GACPktD,QAAQC,KAAK,oCAAqCD,QAAQC,KAAKntD,GAC/D,QACAD,EAAE2pK,QAAS,GAVoB,IAalC1pK,EAAER,UAAUyoK,SAAW,SAAUjoK,GAClCJ,KAAK4pK,aAAc5pK,KAAK+pK,WAAW3pK,IAClCA,EAAER,UAAUmqK,WAAa,SAAU3pK,GACpC,IAAKA,EAAEwkK,UAAYxkK,EAAE+N,WAAa/N,EAAE8O,IAAI8N,QAAS,CAC/C,IAAI7c,EAAIC,EAAE8O,IAAI5I,SACV4zB,EAAI,KACRl6B,KAAKgqK,WAAW5pK,GAEhB,IAAK,IAAI8Y,EAAI,EAAGA,EAAI/Y,EAAEV,OAAQyZ,IAC5BghB,EAAI/5B,EAAE+Y,GAAI/Y,EAAE+Y,GAAGqS,QAAUvrB,KAAK+pK,WAAW7vI,GAAKl6B,KAAKiqK,WAAW/vI,GAGhEl6B,KAAKkqK,eAAe9pK,KAErBA,EAAER,UAAUqqK,WAAa,SAAU7pK,GACpCA,EAAEwkK,SAAWxkK,EAAE+N,YAAc/N,EAAE8O,IAAI8N,UAAYhd,KAAKgqK,WAAW5pK,GAAIA,EAAE8gK,UAAUlhK,KAAKuoI,SAAUvoI,KAAKkqK,eAAe9pK,GAAIA,EAAE8O,IAAImV,MAAQjkB,EAAEikB,MAAOjkB,EAAE8O,IAAI42J,WAAY,IAC9J1lK,EAAER,UAAUoqK,WAAa,SAAU5pK,GACpC,IAAID,EAAIH,KAAKuoI,QACTruG,EAAI95B,EAAEikB,MAAMkC,KAChBpmB,EAAEq7I,OAAQthH,IAAMA,EAAEiwI,eAAehqK,GAAI+5B,EAAE6mI,WAAW5gK,GAAIA,EAAEomB,QAASvmB,KAAKoqK,aAAahqK,GAAIA,EAAE+pK,eAAehqK,IACvGC,EAAER,UAAUsqK,eAAiB,SAAU9pK,GACxCJ,KAAKuoI,QAAQoT,WACZv7I,EAAER,UAAUwqK,aAAe,SAAUhqK,GACtC,IAAID,EAAIH,KAAKuoI,QACTruG,EAAI95B,EAAEikB,MACV,IAAKjkB,EAAEmrB,QAAS,IAAK,IAAI3oB,KAAKs3B,EAC5B,GAAI7c,EAAE/c,QAAQsC,IAAM,EAAG,CACrB,IAAI1C,EAAIg6B,EAAEt3B,GACV,cAAgBA,IAAM1C,EAAIX,EAAEwoG,WAAW7nG,EAAGE,EAAGD,IAAK,gBAAkByC,IAAM1C,EAAIX,EAAEwoG,WAAW7nG,EAAGE,EAAGD,IAAK,aAAeyC,GAAKzC,EAAEkqK,YAAcnxJ,EAAEupH,QAAQviI,GAAKC,EAAEkqK,YAAYnqK,GAAKgZ,EAAEqnJ,SAASrgK,IAAMC,EAAEkqK,YAAYnqK,EAAE2jB,MAAM,MAAQ1jB,EAAEyC,GAAK1C,IAGrOE,EAzDG,GA4DRD,EAAEga,QAAUvX,GACX,SAAUxC,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE4nG,WAAa5nG,EAAEizD,eAAY,EACjC,IAAIl6C,EAAIghB,EAAE,GACN36B,EAAI,iCACJ8d,EAAI,aACJza,EAAI,kCACJ1C,EAAI,gEACJsf,EAAI,kCACJH,EAAI,8BAER,SAASC,EAAElf,EAAGD,GACZ,IAAI+5B,EAAI95B,EAAEk0B,MAAMjV,GAChBnG,EAAEo/I,KAAKp+H,GAAG,SAAU95B,GAClBA,EAAIA,EAAEyjB,MAAM,KAAM1jB,EAAEmqK,aAAalqK,EAAE,GAAIA,EAAE,OAI7CD,EAAEizD,UAAY,SAAUhzD,GACtB,OAAOA,EAAIA,GAAK,GAAI8Y,EAAEupH,QAAQriI,GAAKA,EAAI8Y,EAAEqnJ,SAASngK,IAAMA,EAAIA,EAAEk0B,MAAM/0B,GAAI2Z,EAAEo/I,KAAKl4J,GAAG,SAAUD,EAAG+5B,GAC7F,IAAK/5B,EAAIA,EAAEm0B,MAAMjX,IAAI,GAAG5d,OAAS,EAAG,CAClC,IAAIF,EAAIY,EAAE,GAAGgxB,OAAO,GACpBhxB,EAAEwQ,OAAO,EAAG,EAAGxQ,EAAE,GAAG4wB,OAAO,IAAK5wB,EAAE,GAAKZ,EAGzC2Z,EAAEo/I,KAAKn4J,GAAG,SAAUC,EAAG85B,GACrBhF,MAAM90B,KAAOD,EAAE+5B,IAAM95B,MACnBA,EAAE85B,GAAK/5B,KACTC,QAAK,GACRD,EAAE4nG,WAAa,SAAU3nG,EAAGD,EAAG+5B,GAChC,GAAIhhB,EAAEqnJ,SAASngK,GAAI,CACjB,GAAI,MAAQA,EAAE,IAAM,MAAQA,EAAE,GAAI,CAChC,GAAI,MAAQA,EAAE,GAAI,OAAO,SAAUA,EAAGD,EAAG+5B,GACvC,IAAI36B,EACA8d,EACAnd,EAAI0C,EAAEwiK,KAAKhlK,GACXof,EAAItG,EAAEy8I,IAAIz8I,EAAEo9I,SAASlwI,WAAWlmB,EAAE,KAAM,EAAIge,KAAKK,IACjDc,EAAInf,EAAE,GACN+P,EAAI9P,EAAE8oB,UACNsiB,EAAIt7B,EAAEuY,KACNnoB,EAAI4P,EAAEyY,KACVlJ,GAAK,GAAKA,EAAI,GAAKtB,KAAKK,IAAMhf,EAAI,CAChCqP,EAAGqB,EAAErB,EACLC,EAAGoB,EAAEpB,GACJwO,EAAI,CACLzO,EAAG28B,EACH18B,EAAGxO,IACA,GAAK6d,KAAKK,IAAMiB,GAAKA,EAAItB,KAAKK,IAAMhf,EAAI,CAC3CqP,EAAG28B,EACH18B,EAAGoB,EAAEpB,GACJwO,EAAI,CACLzO,EAAGqB,EAAErB,EACLC,EAAGxO,IACA6d,KAAKK,IAAMiB,GAAKA,EAAI,IAAMtB,KAAKK,IAAMhf,EAAI,CAC5CqP,EAAG28B,EACH18B,EAAGxO,GACFgd,EAAI,CACLzO,EAAGqB,EAAErB,EACLC,EAAGoB,EAAEpB,KACDtP,EAAI,CACRqP,EAAGqB,EAAErB,EACLC,EAAGxO,GACFgd,EAAI,CACLzO,EAAG28B,EACH18B,EAAGoB,EAAEpB,IAEP,IAAI+P,EAAIV,KAAKkF,IAAI5D,GACblC,EAAIsB,EAAIA,EACR/P,GAAKwO,EAAEzO,EAAIrP,EAAEqP,EAAIgQ,GAAKvB,EAAExO,EAAItP,EAAEsP,KAAOyO,EAAI,GAAK/d,EAAEqP,EAChD+sB,EAAI/c,GAAKvB,EAAEzO,EAAIrP,EAAEqP,EAAIgQ,GAAKvB,EAAExO,EAAItP,EAAEsP,KAAOyO,EAAI,GAAK/d,EAAEsP,EACpDD,EAAIsrB,EAAEqwI,qBAAqBhrK,EAAEqP,EAAGrP,EAAEsP,EAAGA,EAAG8sB,GAC5C,OAAOrc,EAAED,EAAGzQ,GAAIA,EAvCO,CAwCvBxO,EAAGD,EAAG+5B,GACR,GAAI,MAAQ95B,EAAE,GAAI,OAAO,SAAUA,EAAGD,EAAG+5B,GACvC,IAAIhhB,EAAIhZ,EAAEklK,KAAKhlK,GACXb,EAAI6mB,WAAWlN,EAAE,IACjBmE,EAAI+I,WAAWlN,EAAE,IACjBtW,EAAIwjB,WAAWlN,EAAE,IACjBsG,EAAItG,EAAE,GAEV,GAAI,IAAMtW,EAAG,CACX,IAAIqN,EAAIuP,EAAE8U,MAAMjV,GAChB,OAAOpP,EAAEA,EAAExQ,OAAS,GAAGokB,MAAM,KAAK,GAGpC,IAAI0nB,EAAIprC,EAAE8oB,UACN5oB,EAAIkrC,EAAE/iB,KACN5J,EAAI2sB,EAAE7iB,KACNpL,EAAIjd,EAAIkrC,EAAE38B,EACVC,EAAI+P,EAAI2sB,EAAE18B,EACV8sB,EAAIzd,KAAKmE,KAAK/E,EAAIA,EAAIzO,EAAIA,GAAK,EAC/BD,EAAIsrB,EAAEswI,qBAAqBj/H,EAAE38B,EAAI0O,EAAI/d,EAAGgsC,EAAE18B,EAAIA,EAAIwO,EAAGza,EAAI+4B,EAAG4P,EAAE38B,EAAI0O,EAAI,EAAGiuB,EAAE18B,EAAIA,EAAI,EAAG8sB,GAC1F,OAAOrc,EAAEE,EAAG5Q,GAAIA,EAnBO,CAoBvBxO,EAAGD,EAAG+5B,GACR,GAAI,MAAQ95B,EAAE,GAAI,OAAO,SAAUA,EAAGD,EAAG+5B,GACvC,GAAI/5B,EAAE8c,IAAI,kBAAoB9c,EAAE8c,IAAI,mBAAqB7c,EAAG,OAAOD,EAAE8c,IAAI,WACzE,IAAI/D,EACA3Z,EACA8d,EAAImC,EAAE4lJ,KAAKhlK,GACXwC,EAAIya,EAAE,GACNnd,EAAImd,EAAE,GAEV,SAASgC,IACPnG,EAAIghB,EAAEuwI,cAAclrK,EAAGqD,GAAIzC,EAAEmpB,UAAU,UAAWpQ,GAAI/Y,EAAEmpB,UAAU,gBAAiBlpB,GAGrF,OAAQwC,GACN,IAAK,IACHA,EAAI,SACJ,MAEF,IAAK,IACHA,EAAI,WACJ,MAEF,IAAK,IACHA,EAAI,WACJ,MAEF,IAAK,IACHA,EAAI,YACJ,MAEF,QACEA,EAAI,YAGR,OAAOrD,EAAI,IAAIsuD,MAAS3tD,EAAEo0B,MAAM,aAAe/0B,EAAEq/I,YAAc,aAAcr/I,EAAEuuD,IAAM5tD,EAAGX,EAAEmrK,SAAWrrJ,KAAO9f,EAAEs/I,OAASx/H,EAAG9f,EAAEuuD,IAAMvuD,EAAEuuD,KAAM50C,EAjCnH,CAkCvB9Y,EAAGD,EAAG+5B,GAGV,OAAO95B,KAGV,SAAUA,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,UAAW,CAClCoB,YAAY,EACZ0b,IAAK,WACH,OAAO/D,EAAEiB,WAGb,IAAI5a,EAAI26B,EAAE,IACV96B,OAAOkC,eAAenB,EAAG,WAAY,CACnCoB,YAAY,EACZ0b,IAAK,WACH,OAAO1d,EAAE4a,YAGZ,SAAU/Z,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,GACNh6B,GAAKg6B,EAAE,IAAI/f,QAAQ0qE,eAAgB,CACrCpqE,KAAM,OACN7D,OAAQ,SACRxD,KAAM,OACNgJ,KAAM,OACNm4B,OAAQ,OACR7gC,KAAM,OACNL,QAAS,UACT8I,MAAO,QACPwuJ,QAAS,UACTh5H,IAAK,gBACLi5H,IAAK,OACL5oI,MAAO,MAELxiB,EAAI,CACN3L,QAAS,UACTK,UAAW,OACXJ,cAAe,iBACflB,YAAa,eACb0B,YAAa,SACb1F,EAAG,IACHC,EAAG,IACHqK,EAAG,IACH1U,MAAO,QACPsK,OAAQ,SACRsS,GAAI,KACJM,GAAI,KACJL,GAAI,KACJM,GAAI,KACJyxE,QAAS,iBACToV,SAAU,kBACV91F,UAAW,eACX4C,SAAU,mBACVu1J,eAAgB,oBAChBC,WAAY,oBACZt7C,KAAM,OACN16G,SAAU,YACViC,UAAW,aACX04G,YAAa,eACb9iE,WAAY,cACZ53C,WAAY,cACZwuJ,WAAY,eACZC,SAAU,aACVpnJ,KAAM,IACNu6B,MAAO,QACPhoC,GAAI,KACJpK,MAAO,QACPwmK,oBAAqB,uBAEnB1rJ,EAAI,CACN9I,IAAK,cACLmoH,OAAQ,UACRjoH,OAAQ,aACRu0J,WAAY,WACZC,QAAS,WAEP3rJ,EAAI,CACN/I,IAAK,mBACLmoH,OAAQ,UACRjoH,OAAQ,kBACRu0J,WAAY,aACZC,QAAS,WAEPh7J,EAAI,CACNyG,KAAM,OACNxF,MAAO,OACPyV,OAAQ,SACRhQ,MAAO,MACPxF,IAAK,OAEHo6B,EAAI,WACN,SAASnrC,EAAEA,GACT,GAAIJ,KAAK8pK,QAAS,EAAI9pK,KAAKmG,KAAO,MAAOnG,KAAK4kK,SAAU,EAAI5kK,KAAKmO,WAAY,GAAK/N,EAAG,OAAO,KAC5F,IAAID,EAAI+Y,EAAE6/I,SAAS,WACf7+H,EAAIhhB,EAAE8/I,UAAU,YAAc74J,EAAI,YACtC,OAAOC,EAAEiuC,YAAYnU,GAAIl6B,KAAKmG,KAAO,MAAOnG,KAAK+O,OAASmrB,EAAGl6B,KAAKuoI,QAAU,IAAIlrH,EAAElD,QAAQ+f,GAAIl6B,KAAK8pK,QAAS,EAAI9pK,KAGlH,OAAOI,EAAER,UAAUkQ,KAAO,SAAU1P,GAClC,IAAID,EAAIH,KACRG,EAAE0pK,eAAiB1pK,EAAE2pK,QAAS,EAAK,SAAS5vI,IAC1C/5B,EAAE0pK,eAAiB3wJ,EAAEojF,uBAAsB,WACzCn8F,EAAE0pK,oBAAiB,EAAQ1pK,EAAE2pK,QAAU5vI,OAGzC,IACE/5B,EAAE+qK,cAAc9qK,GAChB,MAAOA,GACPktD,QAAQC,KAAK,oCAAqCD,QAAQC,KAAKntD,GAC/D,QACAD,EAAE2pK,QAAS,GAVoB,IAalC1pK,EAAER,UAAUyoK,SAAW,SAAUjoK,GAClCJ,KAAKkrK,cAAc9qK,IAClBA,EAAER,UAAUmqK,WAAa,SAAU3pK,EAAGD,GACvC,IAAI+5B,EAAI95B,EAAE8O,IACV9O,EAAEwkK,SAAWxkK,EAAE+N,YAAc+rB,EAAEixI,cAAgBjyJ,EAAEo/I,KAAKp+H,EAAEixI,aAAa,SAAU/qK,GAC7EA,EAAEmuC,YAAcnuC,EAAEmuC,WAAWoE,YAAYvyC,MACvC85B,EAAEixI,YAAc,IAAKnrK,KAAKiqK,WAAW7pK,EAAGD,GAAI+5B,EAAE5zB,UAAY4zB,EAAE5zB,SAAS7G,OAAS,GAAKO,KAAKkrK,cAAc9qK,KACzGA,EAAER,UAAUsrK,cAAgB,SAAU9qK,GACvC,IAAID,EACA+5B,EAAI95B,EAAE8O,IAAI5I,SACd,GAAI4zB,EAAG,IAAK,IAAIhhB,EAAI,EAAGA,EAAIghB,EAAEz6B,OAAQyZ,KAClC/Y,EAAI+5B,EAAEhhB,IAAIqS,QAAUvrB,KAAK+pK,WAAW5pK,EAAG+Y,GAAKlZ,KAAKiqK,WAAW9pK,EAAG+Y,IAEjE9Y,EAAER,UAAUqqK,WAAa,SAAU7pK,EAAGD,GACvC,IAAI+5B,EAAI95B,EAAEikB,MACNnL,EAAI9Y,EAAE8O,IACN3P,EAAI2Z,EAAEizC,GACV/rD,EAAEwkK,SAAWxkK,EAAE+N,UAAY5O,GAAKA,EAAEgvC,WAAWoE,YAAYz5B,EAAEizC,MAAQ5sD,GAAK2Z,EAAElK,SAAWhP,KAAKmtC,WAAW/sC,EAAGD,GAAIH,KAAKorK,aAAahrK,IAAKb,EAAI2Z,EAAEizC,IAAI,IAAOjzC,EAAE8D,SAAW9D,EAAE8D,SAAWzd,EAAE8rK,aAAa,eAAiB9rK,EAAE+rK,gBAAgB,cAAepyJ,EAAE4sJ,WAAa9lK,KAAKorK,aAAahrK,GAAI85B,EAAE3T,MAAQ2T,EAAE3T,KAAKrX,IAAI42J,WAAa9lK,KAAKorK,aAAalxI,EAAE3T,OAAShnB,EAAEspD,aAAa,aAAc,YAC/WzoD,EAAER,UAAUwrK,aAAe,SAAUhrK,GACtC,IAAID,EAAIC,EAAEikB,MACN6V,EAAI95B,EAAE8O,IAAImV,MACd,GAAI6V,EAAG,GAAI95B,EAAE8O,IAAIi9C,IAAMnsD,KAAKmtC,WAAW/sC,GAAI,SAAUD,GAAKH,KAAKurK,SAASnrK,EAAGD,EAAEomB,OAAQ,kBAAmBpmB,GAAK,kBAAmBA,GAAK,eAAgBA,GAAK,gBAAiBA,IAAMH,KAAKwrK,WAAWprK,GAAI,SAAWA,EAAE+F,KAAM,CACtN,IAAK,IAAI5G,IAAK,QAAUa,EAAE+F,MAAQnG,KAAKyrK,WAAWrrK,GAAI,WAAaA,EAAE+F,MAAQ/F,EAAE8O,IAAIi9C,GAAGtD,aAAa,IAAK7oD,KAAK0rK,gBAAgBtrK,EAAGD,IAAK,SAAWC,EAAE+F,MAAQ/F,EAAE8O,IAAIi9C,GAAGtD,aAAa,IAAK7oD,KAAK2rK,cAAcxrK,IAAKA,EAC3MA,EAAEZ,KAAO26B,EAAE36B,IAAMS,KAAK4rK,cAAcxrK,EAAGb,EAAGY,EAAEZ,IAG9Ca,EAAE8O,IAAImV,MAAQnL,EAAEm/I,QAAQ,GAAIj4J,EAAEikB,OAAQjkB,EAAE8O,IAAI42J,WAAY,OACnD9lK,KAAK6rK,YAAYzrK,IACvBA,EAAER,UAAUgsK,cAAgB,SAAUxrK,EAAGD,EAAG+5B,GAC7C,IAAI36B,EAAIa,EAAE+F,KACNkX,EAAIjd,EAAEikB,MACNzhB,EAAIxC,EAAE8O,IAAIi9C,GACVjsD,EAAIF,KAAKuoI,QACb,GAAI,WAAahpI,GAAK,SAAWA,KAAO,CAAC,IAAK,IAAK,SAAU,KAAKe,QAAQH,GAAI,IAAK,CAAC,SAAU,WAAWG,QAAQf,KAAO,CAAC,IAAK,KAAKe,QAAQH,GAAIyC,EAAEimD,aAAa,IAAM1oD,EAAG4zB,SAASmG,EAAG,SAAU,CAC3L,GAAI,YAAc36B,GAAK,WAAaY,EAAG,OAAO+5B,GAAK,IAAMA,EAAEz6B,SAAWy6B,EAAI,IAAKhhB,EAAEupH,QAAQvoG,KAAOA,GAAKA,EAAIA,EAAE91B,KAAI,SAAUhE,GACvH,OAAOA,EAAE,GAAK,IAAMA,EAAE,OACpBwjB,KAAK,WAAYhhB,EAAEimD,aAAa,SAAU3uB,GAC9C,GAAI,SAAW/5B,EACb,GAAI,QAAUA,EAAG,CACf,GAAI,cAAgBA,EAAG,OAAO+5B,OAASl6B,KAAK8rK,cAAc1rK,QAAUwC,EAAE0oK,gBAAgB,aACtF,GAAI,WAAanrK,EAAG,OAAO+5B,OAASl6B,KAAK8rK,cAAc1rK,QAAUwC,EAAE0oK,gBAAgB,aACnF,GAAI,WAAanrK,EACf,GAAI,cAAgBA,GAAK,gBAAkBA,GACzC,GAAI,SAAWA,EAAG,IAAKA,EAAEG,QAAQ,SAC/B,GAAIH,EAAIqf,EAAErf,GAAI+5B,EAAG,CACf,IAAI7a,EACJA,EAAI,kBAAoB6a,EAAIh6B,EAAE6rK,gBAAgB1uJ,EAAGld,GAAKD,EAAE8rK,SAAS3uJ,EAAGld,GAAIyC,EAAEimD,aAAa1oD,EAAG,QAAUkf,EAAI,KAAMjf,EAAE8O,IAAI/O,GAAKkf,OACpHjf,EAAE8O,IAAI/O,GAAK,KAAMyC,EAAE0oK,gBAAgBnrK,OACrC,SAAWA,IAAM,iBAAmB+5B,EAAIt3B,EAAEiqC,UAAY3S,GAAKt3B,EAAEiqC,UAAY,GAAIjqC,EAAEyrC,YAAYnU,KAAM1a,EAAErf,IAAMyC,EAAEimD,aAAarpC,EAAErf,GAAI+5B,QAChIl6B,KAAKisK,UAAU7rK,EAAGD,EAAG+5B,QACvBl6B,KAAK8rK,cAAc1rK,QACrBJ,KAAKksK,UAAU9rK,EAAG85B,QACpBhhB,EAAEupH,QAAQvoG,IAAMt3B,EAAEimD,aAAa,IAAK7oD,KAAKmsK,YAAYjyI,MAE7D95B,EAAER,UAAUutC,WAAa,SAAU/sC,EAAGD,GACvC,IAAI+5B,EAAIh6B,EAAEE,EAAE+F,MACR+S,EAAI9Y,EAAEikB,MACN9kB,EAAIa,EAAE8O,IAAIF,OACd,IAAKkrB,EAAG,MAAM,IAAItkB,MAAM,WAAaxV,EAAE+F,KAAO,2BAC9C,IAAIkX,EAAIi1B,SAAS85H,gBAAgB,6BAA8BlyI,GAE/D,GAAI95B,EAAE8O,IAAIP,KAAO0O,EAAE1O,GAAKvO,EAAE8O,IAAIP,IAAKvO,EAAE8O,IAAIi9C,GAAK9uC,EAAG9d,EAAG,CAClD,IAAIqD,EAAIrD,EAAE2P,IAAIi9C,GACd,QAAI,IAAWhsD,EAAGyC,EAAEyrC,YAAYhxB,OAAQ,CACtC,IAAImC,EAAIjgB,EAAE2P,IAAIi9C,GAAGve,WACjB,QAAUhrC,EAAEqqC,UAAY9sC,GAAK,GAAIqf,EAAE/f,QAAUU,EAAIyC,EAAEyrC,YAAYhxB,GAAKza,EAAEypK,aAAahvJ,EAAGmC,EAAErf,KAI5F,OAAOC,EAAE8O,IAAImV,MAAQ,GAAI,SAAWjkB,EAAE+F,MAAQkX,EAAEwrC,aAAa,cAAe,UAAWxrC,EAAEwrC,aAAa,QAAS,iDAAmD3vC,EAAEpG,QAAUoG,EAAE5E,aAAe+I,EAAEwrC,aAAa,SAAU,QAAS3vC,EAAEvG,MAAQuG,EAAEhF,WAAamJ,EAAEwrC,aAAa,OAAQ,SAAUxrC,GAC1Rjd,EAAER,UAAU8rK,gBAAkB,SAAUtrK,EAAGD,GAC5C,IAAI+5B,EAAI95B,EAAEylK,WAEV,OAAO3sJ,EAAEupH,QAAQvoG,GAAKA,EAAE91B,KAAI,SAAUhE,GACpC,OAAOA,EAAEwjB,KAAK,QACbA,KAAK,IAAMsW,GACb95B,EAAER,UAAU+rK,cAAgB,SAAUvrK,GACvC,IAAID,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNtP,EAAIa,EAAEoE,MACN6Y,EAAIjd,EAAE0O,OACN5O,EAAIE,EAAEoT,OACV,IAAKtT,EAAG,MAAO,KAAOC,EAAI,IAAM+5B,EAAI,MAAQ36B,EAAI,UAAY8d,EAAI,MAAQ9d,EAAI,OAC5E,IAAIigB,EAAI5c,EAAEu4J,YAAYj7J,GACtB,OAAOgZ,EAAEupH,QAAQviI,GAAK,IAAMA,EAAET,OAAS+f,EAAE6vI,GAAK7vI,EAAE+iE,GAAK/iE,EAAE8vI,GAAK9vI,EAAE+vI,GAAKrvJ,EAAE,GAAK,IAAMA,EAAET,QAAU+f,EAAE6vI,GAAK7vI,EAAE8vI,GAAKpvJ,EAAE,GAAIsf,EAAE+iE,GAAK/iE,EAAE+vI,GAAKrvJ,EAAE,IAAM,IAAMA,EAAET,QAAU+f,EAAE6vI,GAAKnvJ,EAAE,GAAIsf,EAAE+iE,GAAK/iE,EAAE+vI,GAAKrvJ,EAAE,GAAIsf,EAAE8vI,GAAKpvJ,EAAE,KAAOsf,EAAE6vI,GAAKnvJ,EAAE,GAAIsf,EAAE+iE,GAAKriF,EAAE,GAAIsf,EAAE8vI,GAAKpvJ,EAAE,GAAIsf,EAAE+vI,GAAKrvJ,EAAE,IAAMsf,EAAE6vI,GAAK7vI,EAAE+iE,GAAK/iE,EAAE8vI,GAAK9vI,EAAE+vI,GAAKrvJ,EAAG,CAAC,CAAC,MAAQC,EAAIqf,EAAE6vI,IAAM,IAAMn1H,GAAI,CAAC,MAAQ36B,EAAIigB,EAAE6vI,GAAK7vI,EAAE+iE,IAAM,MAAO,CAAC,KAAO/iE,EAAE+iE,GAAK,IAAM/iE,EAAE+iE,GAAK,UAAY/iE,EAAE+iE,GAAK,IAAM/iE,EAAE+iE,IAAK,CAAC,QAAUllE,EAAImC,EAAE+iE,GAAK/iE,EAAE8vI,KAAM,CAAC,KAAO9vI,EAAE8vI,GAAK,IAAM9vI,EAAE8vI,GAAK,WAAa9vI,EAAE8vI,GAAK,IAAM9vI,EAAE8vI,IAAK,CAAC,MAAQ9vI,EAAE8vI,GAAK9vI,EAAE+vI,GAAKhwJ,GAAK,MAAO,CAAC,KAAOigB,EAAE+vI,GAAK,IAAM/vI,EAAE+vI,GAAK,WAAa/vI,EAAE+vI,GAAK,KAAO/vI,EAAE+vI,IAAK,CAAC,QAAU/vI,EAAE+vI,GAAK/vI,EAAE6vI,GAAKhyI,IAAK,CAAC,KAAOmC,EAAE6vI,GAAK,IAAM7vI,EAAE6vI,GAAK,UAAY7vI,EAAE6vI,GAAK,KAAO7vI,EAAE6vI,IAAK,CAAC,MAAMzrI,KAAK,MAC/rBxjB,EAAER,UAAUusK,YAAc,SAAU/rK,GACrC,QAASA,EAAIA,EAAEgE,KAAI,SAAUhE,GAC3B,OAAOA,EAAEwjB,KAAK,QACbA,KAAK,KAAKtjB,QAAQ,OAAS,GAAKF,GAClCA,EAAER,UAAUksK,cAAgB,SAAU1rK,GACvC,IAAK,IAAID,EAAIC,EAAEikB,MAAMiD,OAAQ4S,EAAI95B,EAAE8O,IAAIi9C,GAAIjzC,EAAI,GAAI3Z,EAAI,EAAGA,EAAI,EAAGA,GAAK,EACpE2Z,EAAE1I,KAAKrQ,EAAEZ,GAAK,IAAMY,EAAEZ,EAAI,KAG3B,KAAO2Z,EAAIA,EAAE0K,KAAK,MAAMtjB,QAAQ,OAAS45B,EAAE2uB,aAAa,YAAa,UAAY3vC,EAAI,KAAOo0C,QAAQC,KAAK,kBAAmBptD,IAC5HC,EAAER,UAAUssK,UAAY,SAAU9rK,EAAGD,GACtC,IAAI+5B,EAAI95B,EAAEikB,MACN9kB,EAAIa,EAAE8O,IAAIi9C,GACd,GAAIjzC,EAAEqnJ,SAASpgK,GAAIZ,EAAEspD,aAAa,OAAQ1oD,QAAQ,GAAIA,aAAa0tD,MAAO3zB,EAAE11B,QAAUjF,EAAEspD,aAAa,QAAS1oD,EAAEqE,OAAQpE,EAAEikB,MAAM7f,MAAQrE,EAAEqE,OAAQ01B,EAAEprB,SAAWvP,EAAEspD,aAAa,SAAU1oD,EAAE2O,QAAS1O,EAAEikB,MAAMvV,OAAS3O,EAAE2O,QAASvP,EAAEspD,aAAa,OAAQ1oD,EAAE2tD,UAAU,GAAI3tD,aAAaisD,aAAelzC,EAAEqnJ,SAASpgK,EAAEmsK,WAAa,WAAansK,EAAEmsK,SAASzrJ,cAAethB,EAAEspD,aAAa,OAAQ1oD,EAAEujF,kBAAkB,GAAIvjF,aAAaosK,UAAW,CACxa,IAAIlvJ,EAAIi1B,SAASgwC,cAAc,UAC/BjlE,EAAEwrC,aAAa,QAAS,GAAK1oD,EAAEqE,OAAQ6Y,EAAEwrC,aAAa,SAAU,GAAK1oD,EAAE2O,QAASuO,EAAEolE,WAAW,MAAMgB,aAAatjF,EAAG,EAAG,GAAI+5B,EAAE11B,QAAUjF,EAAEspD,aAAa,QAAS1oD,EAAEqE,OAAQpE,EAAEikB,MAAM7f,MAAQrE,EAAEqE,OAAQ01B,EAAEprB,SAAWvP,EAAEspD,aAAa,SAAU1oD,EAAE2O,QAAS1O,EAAEikB,MAAMvV,OAAS3O,EAAE2O,QAASvP,EAAEspD,aAAa,OAAQxrC,EAAEqmE,eAEzStjF,EAAER,UAAU6rK,WAAa,SAAUrrK,GACpC,SAASD,EAAEC,EAAGD,EAAG+5B,GACf,MAAO,CACLtrB,EAAGzO,EAAI+d,KAAKiE,IAAI/hB,GAAK85B,EAAEtrB,EACvBC,EAAG1O,EAAI+d,KAAKkE,IAAIhiB,GAAK85B,EAAErrB,GAI3B,IAAIqrB,EAAI95B,EAAEikB,MACN9kB,EAAIa,EAAE8O,IACNmO,EAAI,CACNzO,EAAGsrB,EAAEtrB,EACLC,EAAGqrB,EAAErrB,GAEHjM,EAAI,GACJ1C,EAAIg6B,EAAEzT,WACNjH,EAAI0a,EAAExT,SACVxN,EAAEs2I,cAAchwI,EAAItf,EAAG,EAAIge,KAAKK,MAAQiB,GAAK,MAC7C,IAAIH,EAAIlf,EAAED,EAAGg6B,EAAElT,GAAI3J,GACfiC,EAAInf,EAAEqf,EAAG0a,EAAElT,GAAI3J,GACfpN,EAAIuP,EAAItf,EAAI,EAAI,EAChBqrC,EAAIrtB,KAAKsE,IAAIhD,EAAItf,GAAKge,KAAKK,GAAK,EAAI,EACpCle,EAAI65B,EAAEnT,GACNnI,EAAIsb,EAAElT,GACN1J,EAAInd,EAAED,EAAGg6B,EAAEnT,GAAI1J,GACfxO,EAAI1O,EAAEqf,EAAG0a,EAAEnT,GAAI1J,GACnB6c,EAAEnT,GAAK,GAAKnkB,EAAE4N,KAAK,KAAO8O,EAAE1Q,EAAI,IAAM0Q,EAAEzQ,GAAIjM,EAAE4N,KAAK,KAAO3B,EAAED,EAAI,IAAMC,EAAEA,GAAIjM,EAAE4N,KAAK,KAAOnQ,EAAI,IAAMA,EAAI,MAAQkrC,EAAI,KAAO,IAAMt7B,EAAI,EAAI,GAAK,IAAMqN,EAAE1O,EAAI,IAAM0O,EAAEzO,GAAIjM,EAAE4N,KAAK,KAAO6O,EAAEzQ,EAAI,IAAMyQ,EAAExQ,KAAOjM,EAAE4N,KAAK,KAAO6M,EAAEzO,EAAI,IAAMyO,EAAExO,GAAIjM,EAAE4N,KAAK,KAAO6O,EAAEzQ,EAAI,IAAMyQ,EAAExQ,IAAKjM,EAAE4N,KAAK,KAAOoO,EAAI,IAAMA,EAAI,MAAQ2sB,EAAI,IAAMt7B,EAAI,IAAMqP,EAAE1Q,EAAI,IAAM0Q,EAAEzQ,GAAIqrB,EAAEnT,GAAK,EAAInkB,EAAE4N,KAAK,KAAO3B,EAAED,EAAI,IAAMC,EAAEA,GAAKjM,EAAE4N,KAAK,KAAMjR,EAAE4sD,GAAGtD,aAAa,IAAKjmD,EAAEghB,KAAK,OAC1axjB,EAAER,UAAUisK,YAAc,SAAUzrK,GACrC,IAAID,EAAIC,EAAEikB,MACN6V,EAAI95B,EAAE8O,IAAImV,MACVnL,EAAI9Y,EAAE8O,IAAIi9C,GAEd,IAAK,IAAI5sD,KAAKS,KAAKwsK,SAASpsK,GAAID,EAC9B,GAAIA,EAAEZ,KAAO26B,EAAE36B,GAAI,CACjB,GAAI,SAAWA,EAAG,CAChBS,KAAKysK,SAASrsK,EAAG,GAAKD,EAAEZ,IAExB,SAGF,GAAI,cAAgBA,GAAK,gBAAkBA,EAAG,CAC5CS,KAAKisK,UAAU7rK,EAAGb,EAAGY,EAAEZ,IAEvB,SAGF,GAAI,WAAaA,EAAG,CAClBS,KAAK8rK,cAAc1rK,GAEnB,SAGFof,EAAEjgB,IAAM2Z,EAAE2vC,aAAarpC,EAAEjgB,GAAIY,EAAEZ,IAInCa,EAAE8O,IAAImV,MAAQjlB,OAAOC,OAAO,GAAIe,EAAEikB,OAAQjkB,EAAE8O,IAAI42J,WAAY,GAC3D1lK,EAAER,UAAU4sK,SAAW,SAAUpsK,GAClC,IAAID,EAAIC,EAAE6c,IAAI,MACVid,EAAI95B,EAAEikB,MACNnL,EAAIghB,EAAEplB,SACNuI,EAAI9d,EAAE8lK,SACVhoJ,GAAK,YAAcA,EAAEpL,KAAO9R,EAAE0oD,aAAa,oBAAqBvpC,EAAE4a,EAAEtmB,eAAiB,cAAgBzT,EAAE0oD,aAAa,qBAAsBxpC,EAAE6a,EAAEtmB,eAAiB,YAAazT,EAAE0oD,aAAa,cAAe54C,EAAEiqB,EAAEvmB,YAAc,QAASuF,IAAMA,EAAI,KAAOghB,EAAE5S,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAIlnB,EAAEyP,UAAU,CAAC,CAAC,KAAMqqB,EAAEtrB,GAAIsrB,EAAErrB,GAAI,CAAC,KAAMqK,EAAI,IAAKA,EAAI,IAAK,CAAC,IAAKghB,EAAEtrB,EAAGsrB,EAAErrB,OACnWzO,EAAER,UAAU6sK,SAAW,SAAUrsK,EAAGD,GACrC,IAAI+5B,EAAI95B,EAAE8O,IAAIi9C,GACV5sD,EAAIa,EAAEikB,MAAMzQ,cAAgB,SAChC,GAAIzT,EACF,IAAKA,EAAEG,QAAQ,MAAO,CACpB,IAAI+c,EAAIjd,EAAEikB,MAAMzV,EACZhM,EAAIzC,EAAE0jB,MAAM,MACZ3jB,EAAI0C,EAAEnD,OAAS,EACf+f,EAAI,GACRtG,EAAEo/I,KAAK11J,GAAG,SAAUxC,EAAGD,GACrB,IAAMA,EAAI,eAAiBZ,EAAIigB,GAAK,aAAenC,EAAI,UAAYnd,EAAI,OAASE,EAAI,WAAa,QAAUb,EAAIigB,GAAK,aAAenC,EAAI,gBAAkBjd,EAAI,WAAa,WAAab,EAAIigB,GAAK,aAAenC,EAAI,WAAand,EAAI,GAAK,EAAI,OAASE,EAAI,WAAa,WAAab,EAAIigB,GAAK,aAAenC,EAAI,WAAand,EAAI,IAAM,OAASE,EAAI,WAAa,YAAcb,IAAMigB,GAAK,aAAenC,EAAI,YAAcnd,EAAI,GAAK,IAAM,OAASE,EAAI,YAAcof,GAAK,aAAenC,EAAI,cAAgBjd,EAAI,cAC/e85B,EAAE2S,UAAYrtB,OACb0a,EAAE2S,UAAY1sC,OAChB+5B,EAAE2S,UAAY,IACpBzsC,EAAER,UAAU2rK,SAAW,SAAUnrK,EAAGD,GACrC,IAAI+5B,EAAI95B,EAAE8O,IAAIi9C,GACd,GAAIhsD,EACF,GAAI+5B,EAAEmxI,aAAa,aAAclrK,EAAE+O,IAAI42J,WAAa9lK,KAAKorK,aAAajrK,OAAQ,CAC5EH,KAAKmtC,WAAWhtC,GAAIH,KAAKorK,aAAajrK,GACtC,IAAI+Y,EAAIlZ,KAAKuoI,QAAQmkC,QAAQvsK,GAC7B+5B,EAAE2uB,aAAa,YAAa,QAAU3vC,EAAI,UAEvCghB,EAAEoxI,gBAAgB,cACxBlrK,EAAER,UAAUqsK,UAAY,SAAU7rK,EAAGD,EAAG+5B,GACzC,IAAIhhB,EAAI9Y,EAAE8O,IAAIi9C,GACV5sD,EAAIS,KAAKuoI,QACb,GAAIruG,EACF,GAAIA,EAAIA,EAAEivD,OAAQ,uBAAuB/oE,KAAK8Z,IAAK7c,EAAI9d,EAAE2/F,KAAK,WAAYhlE,MAAQ7c,EAAI9d,EAAEotK,YAAYzyI,IAAKhhB,EAAE2vC,aAAarpC,EAAErf,GAAI,QAAUkd,EAAI,UAAU,GAAI,mBAAmB+C,KAAK8Z,GAAI,CACpL,IAAI7c,GACHA,EAAI9d,EAAE2/F,KAAK,UAAWhlE,MAAQ7c,EAAI9d,EAAEqtK,WAAW1yI,IAAKhhB,EAAE2vC,aAAarpC,EAAErf,GAAI,QAAUkd,EAAI,UACnFnE,EAAE2vC,aAAarpC,EAAErf,GAAI+5B,QACvBhhB,EAAE2vC,aAAarpC,EAAErf,GAAI,SAC3BC,EAAER,UAAU4rK,WAAa,SAAUprK,GACpC,IAAID,EAAIC,EAAE8O,IAAIi9C,GACVjyB,EAAI95B,EAAEikB,MACNnL,EAAI,CACNmyB,GAAInR,EAAE/gB,cACNmyB,GAAIpR,EAAEyoD,cACNb,KAAM5nD,EAAE/lB,WACRF,MAAOimB,EAAE9lB,aAGX,GAAI8E,EAAEmyB,IAAMnyB,EAAEoyB,IAAMpyB,EAAE4oE,MAAQ5oE,EAAEjF,MAAO,CACrC,IAAI1U,EAAIS,KAAKuoI,QAAQrpC,KAAK,SAAUhmF,GACpC3Z,IAAMA,EAAIS,KAAKuoI,QAAQskC,UAAU3zJ,IAAK/Y,EAAE0oD,aAAa,SAAU,QAAUtpD,EAAI,UACxEY,EAAEmrK,gBAAgB,WACxBlrK,EA1OG,GA6ORD,EAAEga,QAAUoxB,GACX,SAAUnrC,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,IACN7a,EAAI,WACN,SAASjf,EAAEA,GACT,IAAID,EAAImyC,SAAS85H,gBAAgB,6BAA8B,QAC3DlyI,EAAIhhB,EAAE6/I,SAAS,SACnB54J,EAAEwO,GAAKurB,EAAG95B,EAAEiuC,YAAYluC,GAAIH,KAAKsG,SAAW,GAAItG,KAAK8sK,aAAe,GAAI9sK,KAAKmsD,GAAKhsD,EAAGH,KAAK+O,OAAS3O,EAGrG,OAAOA,EAAER,UAAUs/F,KAAO,SAAU9+F,EAAGD,GACrC,IAAK,IAAI+5B,EAAIl6B,KAAKsG,SAAU4S,EAAI,KAAM3Z,EAAI,EAAGA,EAAI26B,EAAEz6B,OAAQF,IACzD,GAAI26B,EAAE36B,GAAG+0B,MAAMl0B,EAAGD,GAAI,CACpB+Y,EAAIghB,EAAE36B,GAAGoP,GACT,MAIJ,OAAOuK,GACN9Y,EAAER,UAAU4mK,SAAW,SAAUpmK,GAClC,IAAK,IAAID,EAAIH,KAAKsG,SAAU4zB,EAAI,KAAMhhB,EAAI,EAAGA,EAAI/Y,EAAEV,OAAQyZ,IACzD,GAAI/Y,EAAE+Y,GAAGvK,KAAOvO,EAAG,CACjB85B,EAAI/5B,EAAE+Y,GACN,MAIJ,OAAOghB,GACN95B,EAAER,UAAUgQ,IAAM,SAAUxP,GAC7BJ,KAAKsG,SAASkK,KAAKpQ,GAAIA,EAAE2O,OAAS/O,KAAK+O,OAAQ3O,EAAE4O,OAAShP,MACzDI,EAAER,UAAUmsK,gBAAkB,SAAU3rK,EAAGD,GAC5C,IAAI+5B,EAAI95B,EAAE0S,QAAU1S,EAAEkU,YACtB,GAAItU,KAAK8sK,aAAa5yI,GAAI,OAAOl6B,KAAK8sK,aAAa5yI,GAAGvrB,GACtD,IAAIuK,EAAI,IAAItW,EAAEuX,QAAQ/Z,EAAGD,GACzB,OAAOH,KAAK8sK,aAAa5yI,GAAKhhB,EAAGlZ,KAAKmsD,GAAG9d,YAAYn1B,EAAEizC,IAAKjzC,EAAEvK,IAC7DvO,EAAER,UAAU+sK,YAAc,SAAUvsK,GACrC,IAAID,EAAI,IAAIZ,EAAE4a,QAAQ/Z,GACtB,OAAOJ,KAAKmsD,GAAG9d,YAAYluC,EAAEgsD,IAAKnsD,KAAK4P,IAAIzP,GAAIA,EAAEwO,IAChDvO,EAAER,UAAUosK,SAAW,SAAU5rK,EAAGD,GACrC,IAAI+5B,EAAI,IAAIt3B,EAAEuX,QAAQ/Z,EAAGD,GACzB,OAAOH,KAAKmsD,GAAG9d,YAAYnU,EAAEiyB,IAAKjyB,EAAEvrB,IACnCvO,EAAER,UAAUitK,UAAY,SAAUzsK,GACnC,IAAID,EAAI,IAAIkd,EAAElD,QAAQ/Z,GACtB,OAAOJ,KAAKmsD,GAAG9d,YAAYluC,EAAEgsD,IAAKnsD,KAAK4P,IAAIzP,GAAIA,EAAEwO,IAChDvO,EAAER,UAAUgtK,WAAa,SAAUxsK,GACpC,IAAID,EAAI,IAAIqf,EAAErF,QAAQ/Z,GACtB,OAAOJ,KAAKmsD,GAAG9d,YAAYluC,EAAEgsD,IAAKnsD,KAAK4P,IAAIzP,GAAIA,EAAEwO,IAChDvO,EAAER,UAAU8sK,QAAU,SAAUtsK,GACjC,IAAID,EAAI,IAAID,EAAEia,QAAQ/Z,GACtB,OAAOJ,KAAKmsD,GAAG9d,YAAYluC,EAAEgsD,IAAKnsD,KAAK4P,IAAIzP,GAAIA,EAAEwO,IAChDvO,EA/CG,GAkDRD,EAAEga,QAAUkF,GACX,SAAUjf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI,kCACJ8d,EAAI,gEACJza,EAAI,8BAER,SAAS1C,EAAEE,GACT,IAAID,EAAIC,EAAEk0B,MAAM1xB,GAChB,IAAKzC,EAAG,MAAO,GACf,IAAI+5B,EAAI,GACR,OAAO/5B,EAAE42B,MAAK,SAAU32B,EAAGD,GACzB,OAAOC,EAAIA,EAAEyjB,MAAM,KAAM1jB,EAAIA,EAAE0jB,MAAM,KAAMnB,OAAOtiB,EAAE,IAAMsiB,OAAOviB,EAAE,OACjE+Y,EAAEo/I,KAAKn4J,GAAG,SAAUC,GACtBA,EAAIA,EAAEyjB,MAAM,KAAMqW,GAAK,iBAAmB95B,EAAE,GAAK,iBAAmBA,EAAE,GAAK,eACzE85B,EAGN,IAAI1a,EAAI,WACN,SAASpf,EAAEA,GACTJ,KAAKkP,IAAM,GACX,IAAI/O,EACA+5B,EACAt3B,EACA4c,EACAH,EACAC,EACArP,EACAs7B,EAAI,KACJlrC,EAAI6Y,EAAE6/I,SAAS,aACnB,MAAO,MAAQ34J,EAAEkS,cAAc,GAAK,SAAUlS,EAAGD,GAC/C,IAAI+5B,EACA7c,EACAza,EAAIrD,EAAE6lK,KAAKhlK,GACXof,EAAItG,EAAEy8I,IAAIz8I,EAAEo9I,SAASlwI,WAAWxjB,EAAE,KAAM,EAAIsb,KAAKK,IACjDc,EAAIzc,EAAE,GACV4c,GAAK,GAAKA,EAAI,GAAKtB,KAAKK,IAAM2b,EAAI,CAChCtrB,EAAG,EACHC,EAAG,GACFwO,EAAI,CACLzO,EAAG,EACHC,EAAG,IACA,GAAKqP,KAAKK,IAAMiB,GAAKA,EAAItB,KAAKK,IAAM2b,EAAI,CAC3CtrB,EAAG,EACHC,EAAG,GACFwO,EAAI,CACLzO,EAAG,EACHC,EAAG,IACAqP,KAAKK,IAAMiB,GAAKA,EAAI,IAAMtB,KAAKK,IAAM2b,EAAI,CAC5CtrB,EAAG,EACHC,EAAG,GACFwO,EAAI,CACLzO,EAAG,EACHC,EAAG,KACCqrB,EAAI,CACRtrB,EAAG,EACHC,EAAG,GACFwO,EAAI,CACLzO,EAAG,EACHC,EAAG,IAEL,IAAIyQ,EAAIpB,KAAKkF,IAAI5D,GACbvP,EAAIqP,EAAIA,EACRisB,GAAKluB,EAAEzO,EAAIsrB,EAAEtrB,EAAI0Q,GAAKjC,EAAExO,EAAIqrB,EAAErrB,KAAOoB,EAAI,GAAKiqB,EAAEtrB,EAChDvO,EAAIif,GAAKjC,EAAEzO,EAAIsrB,EAAEtrB,EAAI0Q,GAAKjC,EAAExO,EAAIqrB,EAAErrB,KAAOoB,EAAI,GAAKiqB,EAAErrB,EACxD1O,EAAE0oD,aAAa,KAAM3uB,EAAEtrB,GAAIzO,EAAE0oD,aAAa,KAAM3uB,EAAErrB,GAAI1O,EAAE0oD,aAAa,KAAMtd,GAAIprC,EAAE0oD,aAAa,KAAMxoD,GAAIF,EAAE0sC,UAAY3sC,EAAEmf,GAnCtF,CAoClCjf,EAAGmrC,EAAI+G,SAAS85H,gBAAgB,6BAA8B,oBAAoGjsK,EAAIC,EAAG85B,EAArFqR,EAAI+G,SAAS85H,gBAAgB,6BAA8B,kBAAiCxpK,EAAIya,EAAE+nJ,KAAKjlK,GAAIqf,EAAI4G,WAAWxjB,EAAE,IAAKyc,EAAI+G,WAAWxjB,EAAE,IAAK0c,EAAI8G,WAAWxjB,EAAE,IAAKqN,EAAIrN,EAAE,GAAIs3B,EAAE2uB,aAAa,KAAMrpC,GAAI0a,EAAE2uB,aAAa,KAAMxpC,GAAI6a,EAAE2uB,aAAa,IAAKvpC,GAAI4a,EAAE2S,UAAY3sC,EAAE+P,IAAKs7B,EAAEsd,aAAa,KAAMxoD,GAAIL,KAAKmsD,GAAK5gB,EAAGvrC,KAAK2O,GAAKtO,EAAGL,KAAKkP,IAAM9O,EAAGJ,KAG/a,OAAOI,EAAER,UAAU00B,MAAQ,SAAUl0B,EAAGD,GACtC,OAAOH,KAAKkP,MAAQ/O,GACnBC,EArDG,GAwDRD,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI,CACN6U,YAAa,QACb24J,cAAe,UACf54J,WAAY,OACZgF,cAAe,KACfwpE,cAAe,MAEbtlE,EAAI,CACNzO,EAAG,OACHC,EAAG,OACHrK,MAAO,OACPsK,OAAQ,QAENlM,EAAI,WACN,SAASxC,EAAEA,GACTJ,KAAKmG,KAAO,SAAUnG,KAAKkP,IAAM,GAAIlP,KAAKmG,KAAO,SACjD,IAAIhG,EAAImyC,SAAS85H,gBAAgB,6BAA8B,UAC/D,OAAOlzJ,EAAEo/I,KAAKj7I,GAAG,SAAUjd,EAAG85B,GAC5B/5B,EAAE0oD,aAAa3uB,EAAG95B,MAChBJ,KAAKmsD,GAAKhsD,EAAGH,KAAK2O,GAAKuK,EAAE6/I,SAAS,WAAY/4J,KAAKmsD,GAAGx9C,GAAK3O,KAAK2O,GAAI3O,KAAKkP,IAAM9O,EAAGJ,KAAKgtK,aAAa5sK,EAAGD,GAAIH,KAGjH,OAAOI,EAAER,UAAU00B,MAAQ,SAAUl0B,EAAGD,GACtC,GAAIH,KAAKmG,OAAS/F,EAAG,OAAO,EAC5B,IAAI85B,GAAI,EACJ36B,EAAIS,KAAKkP,IACb,OAAOgK,EAAEo/I,KAAKl5J,OAAOukC,KAAKpkC,IAAI,SAAUa,GACtC,GAAIb,EAAEa,KAAOD,EAAEC,GAAI,OAAO85B,GAAI,GAAI,KAChCA,GACH95B,EAAER,UAAUyqB,OAAS,SAAUjqB,EAAGD,GACnC,IAAI+5B,EAAIl6B,KAAKkP,IACb,OAAOgrB,EAAE36B,EAAEa,IAAMD,EAAGH,KAAKgtK,aAAa9yI,EAAGl6B,KAAKmsD,IAAKnsD,MAClDI,EAAER,UAAUotK,aAAe,SAAU5sK,EAAGD,GACzC,IAAI+5B,EAAI,6BAA+B95B,EAAEirC,IAAM,GAAK,iBAAmBjrC,EAAEkrC,IAAM,GAAK,2BAA6BlrC,EAAE0hF,KAAO1hF,EAAE0hF,KAAO,GAAK,GAAK,0BAA4B1hF,EAAE6T,MAAQ7T,EAAE6T,MAAQ,QAAU,4BAA8B7T,EAAEyT,QAAUzT,EAAEyT,QAAU,GAAK,cAClQ1T,EAAE0sC,UAAY3S,GACb95B,EAtBG,GAyBRD,EAAEga,QAAUvX,GACX,SAAUxC,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI,WACN,SAASa,EAAEA,EAAGD,GACZH,KAAKkP,IAAM,GACX,IAAIgrB,EAAIoY,SAAS85H,gBAAgB,6BAA8B,UAC3D7sK,EAAI2Z,EAAE6/I,SAAS,WACnB7+H,EAAE2uB,aAAa,KAAMtpD,GACrB,IAAI8d,EAAIi1B,SAAS85H,gBAAgB,6BAA8B,QAC/D/uJ,EAAEwrC,aAAa,SAAU,QAASxrC,EAAEwrC,aAAa,OAAQzoD,EAAE0S,QAAU,QAASonB,EAAEmU,YAAYhxB,GAAI6c,EAAE2uB,aAAa,WAAY,WAAY3uB,EAAE2uB,aAAa,SAAU,sBAAuB7oD,KAAKmsD,GAAKjyB,EAAGl6B,KAAKsrB,MAAQjO,EAAGrd,KAAK2O,GAAKpP,EAC9N,IAAIqD,EAAIxC,EAAE,iBAAmBD,EAAI,aAAe,YAChD,OAAOH,KAAK8S,OAAS1S,EAAE0S,QAAU,QAAQ,IAAOlQ,EAAI5C,KAAKitK,gBAAgB9sK,EAAGkd,GAAKrd,KAAKktK,WAAW9sK,EAAEsS,UAAW2K,GAAIrd,KAGpH,OAAOI,EAAER,UAAU00B,MAAQ,WACzB,OAAO,GACNl0B,EAAER,UAAUqtK,gBAAkB,SAAU7sK,EAAGD,GAC5C,IAAI+5B,EAAIl6B,KAAKmsD,GACbhsD,EAAE0oD,aAAa,IAAK,wBAAyB3uB,EAAE2uB,aAAa,OAAQ,KAAM3uB,EAAE2uB,aAAa,OAAQ,MAChGzoD,EAAER,UAAUstK,WAAa,SAAU9sK,EAAGD,GACvC,IAAI+5B,EAAIl6B,KAAKmsD,GACT5sD,EAAIS,KAAKkP,IAAIkN,KACbiB,EAAIrd,KAAKkP,IAAI0P,EACjB1F,EAAEupH,QAAQljI,KAAOA,EAAIA,EAAE6E,KAAI,SAAUhE,GACnC,OAAOA,EAAEwjB,KAAK,QACbA,KAAK,KAAMzjB,EAAE0oD,aAAa,IAAKtpD,GAAI26B,EAAEmU,YAAYluC,GAAIkd,GAAK6c,EAAE2uB,aAAa,OAAQ,GAAKxrC,EAAIjd,IAC5FA,EAAER,UAAUyqB,OAAS,SAAUjqB,GAChC,IAAID,EAAIH,KAAKsrB,MACbnrB,EAAEioB,KAAOjoB,EAAEioB,KAAK,OAAQhoB,GAAKD,EAAE0oD,aAAa,OAAQzoD,IACnDA,EA3BG,GA8BRD,EAAEga,QAAU5a,GACX,SAAUa,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI,WACN,SAASa,EAAEA,GACTJ,KAAKmG,KAAO,OAAQnG,KAAKkP,IAAM,GAC/B,IAAI/O,EAAImyC,SAAS85H,gBAAgB,6BAA8B,YAC/DpsK,KAAKmsD,GAAKhsD,EAAGH,KAAK2O,GAAKuK,EAAE6/I,SAAS,SAAU54J,EAAEwO,GAAK3O,KAAK2O,GACxD,IAAIurB,EAAI95B,EAAE8O,IAAIi9C,GACd,OAAOhsD,EAAEkuC,YAAYnU,EAAEizI,WAAU,IAAMntK,KAAKkP,IAAM9O,EAAGJ,KAGvD,OAAOI,EAAER,UAAU00B,MAAQ,WACzB,OAAO,GACNl0B,EAAER,UAAUuQ,OAAS,WACtB,IAAI/P,EAAIJ,KAAKmsD,GACb/rD,EAAEmuC,WAAWoE,YAAYvyC,IACxBA,EAdG,GAiBRD,EAAEga,QAAU5a,GACX,SAAUa,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI,kCACJ8d,EAAI,WACN,SAASjd,EAAEA,GACTJ,KAAKkP,IAAM,GACX,IAAI/O,EAAImyC,SAAS85H,gBAAgB,6BAA8B,WAC/DjsK,EAAE0oD,aAAa,eAAgB,kBAC/B,IAAI3uB,EAAIoY,SAAS85H,gBAAgB,6BAA8B,SAC/DjsK,EAAEkuC,YAAYnU,GACd,IAAI7c,EAAInE,EAAE6/I,SAAS,YACnB54J,EAAEwO,GAAK0O,EAAGrd,KAAKmsD,GAAKhsD,EAAGH,KAAK2O,GAAK0O,EAAGrd,KAAKkP,IAAM9O,EAC/C,IAAIwC,EAAIrD,EAAE6lK,KAAKhlK,GAAG,GAClB85B,EAAE2uB,aAAa,OAAQjmD,GACvB,IAAI1C,EAAI,IAAI2tD,MAEZ,SAASruC,IACPrf,EAAE0oD,aAAa,QAAS,GAAK3oD,EAAEsE,OAAQrE,EAAE0oD,aAAa,SAAU,GAAK3oD,EAAE4O,QAGzE,OAAOlM,EAAE0xB,MAAM,aAAep0B,EAAE0+I,YAAc,aAAc1+I,EAAE4tD,IAAMlrD,EAAG1C,EAAEwqK,SAAWlrJ,KAAOtf,EAAE2+I,OAASr/H,EAAGtf,EAAE4tD,IAAM5tD,EAAE4tD,KAAM9tD,KAG3H,OAAOI,EAAER,UAAU00B,MAAQ,SAAUl0B,EAAGD,GACtC,OAAOH,KAAKkP,MAAQ/O,GACnBC,EAtBG,GAyBRD,EAAEga,QAAUkD,GACX,SAAUjd,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GAEV,SAAS7c,EAAEjd,GACT,OAAO,IAAMA,EAAE,IAAM,IAAMA,EAAE,IAAM,IAAMA,EAAE,IAAM,IAAMA,EAAE,IAAM,IAAMA,EAAE,IAAM,IAAMA,EAAE,GAGvF,SAASwC,EAAExC,GACT,OAAO,IAAMA,EAAE,IAAM,IAAMA,EAAE,IAAM,IAAMA,EAAE,IAAM,IAAMA,EAAE,GAG3D,SAASF,EAAEE,EAAGD,GACZkd,EAAEld,KAAOyC,EAAEzC,IAAMC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,IAAMZ,EAAE4d,KAAK0P,SAASzsB,EAAGA,EAAGD,IAGvE,IAAIqf,EAAI,SAAUpf,GAChB,SAASD,EAAEA,QACT,IAAWA,IAAMA,EAAI,IACrB,IAAI+5B,EAAI95B,EAAEN,KAAKE,KAAMG,IAAMH,KAC3B,OAAOk6B,EAAEuR,SAAU,EAAIvR,EAAEyrI,WAAY,EAAIzrI,EAAE7V,MAAQ,GAAI6V,EAAE7V,MAAQ,CAC/DxQ,QAAS,EACTjB,YAAa,EACbkB,cAAe,EACfwT,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChC4S,EAAE9R,KAAKlP,EAAE6tJ,SAAS7tJ,EAAE6tJ,SAAS,GAAI7sI,EAAE0rI,mBAAoB1rI,EAAEhrB,IAAImV,QAAS6V,EAAEhrB,IAAImV,MAAQ,GAAI6V,EAG7F,OAAOhhB,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,IACNzlK,EAAEP,UAAUwoB,KAAO,WACpB,IAAK,IAAIhoB,EAAI,GAAID,EAAI,EAAGA,EAAIX,UAAUC,OAAQU,IAC5CC,EAAED,GAAKX,UAAUW,GAGnB,IAAI+5B,EAAI95B,EAAE,GACN8Y,EAAI9Y,EAAE,GACV,IAAK85B,EAAG,OAAOl6B,KAAKqkB,MAEpB,GAAI9kB,EAAE0gK,SAAS/lI,GAAI,CACjB,IAAK,IAAI7c,KAAK6c,EACZl6B,KAAKotK,SAAS/vJ,EAAG6c,EAAE7c,IAGrB,OAAOrd,KAAK4hK,YAAa5hK,KAAKkP,IAAI42J,WAAY,EAAI9lK,KAGpD,OAAO,IAAMI,EAAEX,QAAUO,KAAKotK,SAASlzI,EAAGhhB,GAAIlZ,KAAK4hK,YAAa5hK,KAAKkP,IAAI42J,WAAY,EAAI9lK,MAAQA,KAAKqkB,MAAM6V,IAC3G/5B,EAAEP,UAAUytK,kBAAoB,SAAUjtK,KAAOD,EAAEP,UAAUwtK,SAAW,SAAUhtK,EAAGD,GACtF,IAAI+5B,EAAIl6B,KAAKqkB,MACb6V,EAAE95B,GAAKD,EAAG,SAAWC,GAAK,WAAaA,EAAI,YAAcA,EAAI,SAAWA,GAAKD,EAAIH,KAAKurK,SAASprK,GAAK,SAAWC,EAAI,cAAgBA,EAAI,WAAaA,GAAKJ,KAAKqtC,cAAcltC,GAAKH,KAAK6P,UAAU1P,GAAKH,KAAKqtK,kBAAkBltK,GAAK+5B,EAAE6oD,YAAc5iF,EAAI+5B,EAAE95B,EAAI,SAAWD,GACrQA,EAAEP,UAAUgiK,UAAY,WACzB5hK,KAAKspB,UAAU,MAAO,OACrBnpB,EAAEP,UAAUuhK,QAAU,WACvB,OAAOnhK,KAAKyrC,SAAWzrC,KAAKqkB,MAAMnQ,WACjC/T,EAAEP,UAAUwhK,UAAY,WACzB,OAAOphK,KAAK2lK,WAAa3lK,KAAKqkB,MAAM/P,aACnCnU,EAAEP,UAAU2rK,SAAW,SAAUnrK,GAClCA,EAAE8O,IAAIqN,SAAWvc,KAAKkP,IAAIqN,SAAUnc,EAAE8O,IAAIH,OAAS/O,KAAKkP,IAAIH,OAAQ3O,EAAE8O,IAAIF,OAAShP,KAAKkP,IAAIF,OAAQ5O,EAAE+gK,QAAU,WAC9G,OAAO,IAERhhK,EAAEP,UAAU8jK,cAAgB,aAAgBvjK,EAAEP,UAAU0lC,YAAc,WACvEtlC,KAAKooB,KAAK,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAC5CjoB,EAAEP,UAAU+uB,UAAY,SAAUvuB,EAAGD,GACtC,IAAI+5B,EAAIl6B,KAAKqkB,MAAMiD,OACnB,OAAO/nB,EAAE4d,KAAKwR,UAAUuL,EAAGA,EAAG,CAAC95B,EAAGD,IAAKH,KAAK0hK,mBAAoB1hK,KAAKooB,KAAK,SAAU8R,GAAIl6B,MACvFG,EAAEP,UAAUsiB,OAAS,SAAU9hB,GAChC,IAAID,EAAIH,KAAKqkB,MAAMiD,OACnB,OAAO/nB,EAAE4d,KAAK+E,OAAO/hB,EAAGA,EAAGC,GAAIJ,KAAK0hK,mBAAoB1hK,KAAKooB,KAAK,SAAUjoB,GAAIH,MAC/EG,EAAEP,UAAU+tB,MAAQ,SAAUvtB,EAAGD,GAClC,IAAI+5B,EAAIl6B,KAAKqkB,MAAMiD,OACnB,OAAO/nB,EAAE4d,KAAKwQ,MAAMuM,EAAGA,EAAG,CAAC95B,EAAGD,IAAKH,KAAK0hK,mBAAoB1hK,KAAKooB,KAAK,SAAU8R,GAAIl6B,MACnFG,EAAEP,UAAUytC,cAAgB,SAAUjtC,GACvC,IAAID,EAAIH,KAAKqkB,MAAMzV,GAAK,EACpBsrB,EAAIl6B,KAAKqkB,MAAMxV,GAAK,EACxB,OAAOqP,KAAKsE,IAAIpiB,GAAK,EAAI8d,KAAKK,KAAOne,EAAIA,EAAI,IAAM8d,KAAKK,IAAKve,KAAK6P,UAAU,CAAC,CAAC,KAAM1P,GAAI+5B,GAAI,CAAC,IAAK95B,GAAI,CAAC,IAAKD,EAAG+5B,MAC9G/5B,EAAEP,UAAUgxC,KAAO,SAAUxwC,EAAGD,GACjC,IAAI+5B,EAAIl6B,KAAKid,IAAI,MAAQ,EACrB/D,EAAIlZ,KAAKid,IAAI,MAAQ,EACzB,OAAOjd,KAAK2uB,UAAUvuB,EAAI85B,EAAG/5B,EAAI+Y,GAAIlZ,KAAKqQ,IAAI,IAAKjQ,GAAIJ,KAAKqQ,IAAI,IAAKlQ,GAAIH,MACxEG,EAAEP,UAAUiQ,UAAY,SAAUzP,GACnC,IAAID,EAAIH,KACJk6B,EAAIl6B,KAAKqkB,MAAMiD,OACnB,OAAO/nB,EAAE+4J,KAAKl4J,GAAG,SAAUA,GACzB,OAAQA,EAAE,IACR,IAAK,IACHD,EAAEwuB,UAAUvuB,EAAE,GAAIA,EAAE,IACpB,MAEF,IAAK,IACHD,EAAEwtB,MAAMvtB,EAAE,GAAIA,EAAE,IAChB,MAEF,IAAK,IACHD,EAAE+hB,OAAO9hB,EAAE,IACX,MAEF,IAAK,IACHD,EAAEioB,KAAK,SAAU7oB,EAAE4d,KAAK0P,SAAS,GAAIqN,EAAG95B,EAAE,KAAMD,EAAEuhK,uBAEpD1hK,MACHG,EAAEP,UAAU6jK,aAAe,SAAUrjK,GACtC,OAAOJ,KAAKooB,KAAK,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAKpoB,KAAK6P,UAAUzP,IACvED,EAAEP,UAAU2nB,UAAY,WACzB,OAAOvnB,KAAKooB,KAAK,WAChBjoB,EAAEP,UAAUktB,UAAY,SAAU1sB,GACnC,OAAOJ,KAAKooB,KAAK,SAAUhoB,GAAIJ,KAAK0hK,mBAAoB1hK,MACvDG,EAAEP,UAAUG,MAAQ,SAAUK,EAAGD,GAClC,IAAI+5B,EACJ,OAAOA,EAAI/5B,EAAIH,KAAKstK,iBAAiBntK,GAAKH,KAAKooB,KAAK,UAAW7oB,EAAEy8J,KAAKn3H,cAAczkC,EAAGA,EAAG85B,GAAIl6B,MAC7FG,EAAEP,UAAU0tK,iBAAmB,SAAUltK,GAC1CA,EAAIA,GAAKJ,KAET,IAAK,IAAIG,EAAIH,KAAMk6B,EAAI,GAAI/5B,IAAMC,GAC/B85B,EAAEb,QAAQl5B,GAAIA,EAAIA,EAAE8c,IAAI,UAG1Bid,EAAEb,QAAQl5B,GACV,IAAI+Y,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACjC,OAAO3Z,EAAE+4J,KAAKp+H,GAAG,SAAU95B,GACzBb,EAAE4d,KAAK0P,SAAS3T,EAAG9Y,EAAEgoB,KAAK,UAAWlP,MACnCA,GACH/Y,EAAEP,UAAU2tK,eAAiB,WAC9B,IAAIntK,EAAIJ,KAAKkP,IAAIyyJ,YAEjB,IAAKvhK,EAAG,CACNA,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7B,IAAID,EAAIH,KAAKkP,IAAIF,OACb7O,GAAGD,EAAEE,EAAGD,EAAEotK,kBACdrtK,EAAEE,EAAGJ,KAAKooB,KAAK,WAAYpoB,KAAKkP,IAAIyyJ,YAAcvhK,EAGpD,OAAOA,GACND,EAAEP,UAAU8hK,iBAAmB,aAAgBvhK,EAAEP,UAAUmwB,OAAS,SAAU3vB,GAC/E,IAAID,EAAIH,KAAKutK,iBACb,GAAI3qK,EAAEzC,GAAIC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,OAAQ,CACxC,IAAI+5B,EAAI36B,EAAE4d,KAAK4S,OAAO,GAAI5vB,GAC1B+5B,GAAK36B,EAAEy8J,KAAKn3H,cAAczkC,EAAGA,EAAG85B,GAElC,OAAOl6B,MACNG,EAAEP,UAAUuqK,eAAiB,SAAU/pK,GACxC,IAAID,EAAIH,KAAKooB,KAAK,UAClB/K,EAAEld,IAAMC,EAAEyP,UAAU1P,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KACnDA,EA/HG,CAgIN+5B,EAAE,IAAI/f,SAERha,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,IACNh6B,EAAI,CAAC,QAAS,YAAa,UAAW,WAAY,cAAe,YAAa,WAAY,YAAa,QAAS,aAAc,WAAY,YAAa,YAAa,OAAQ,UAAW,YAAa,YAAa,QACjNsf,EAAI,SAAUpf,GAChB,SAASD,EAAEA,QACT,IAAWA,IAAMA,EAAI,IACrB,IAAI+5B,EAAI95B,EAAEN,KAAKE,OAASA,KACxB,OAAOk6B,EAAE/rB,WAAY,EAAI+rB,EAAE0qI,SAAU,EAAI1qI,EAAEhrB,IAAMgK,EAAE6tJ,SAAS7tJ,EAAE6tJ,SAAS,CACrEh4J,OAAQ,KACRs7B,SAAS,EACTk+F,QAAS,KACTv5H,OAAQ,KACRgO,SAAS,EACTvE,OAAQ,GACPtY,GAAI+5B,EAAEszI,iBAAkBtzI,EAG7B,OAAOhhB,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAU8sC,KAAO,SAAUvsC,EAAG+5B,GACxD,IAAK,IAAI36B,EAAI,GAAI8d,EAAI,EAAGA,EAAI7d,UAAUC,OAAQ4d,IAC5C9d,EAAE8d,EAAI,GAAK7d,UAAU6d,GAGvB,GAAIjd,EAAER,UAAU8sC,KAAK3sC,MAAMC,KAAMkZ,EAAE07I,eAAe,CAACz0J,EAAG+5B,GAAI36B,MAAO26B,aAAat3B,EAAEuX,SAAW+f,EAAEyqI,qBAAuBzkK,EAAEI,QAAQH,IAAM,EAAG,CACrI,IAAIqf,EAAIxf,KAAKkP,IAAIF,QAChBwQ,GAAKA,EAAEolJ,SAAWplJ,EAAErR,WAAaqR,EAAEktB,KAAK3sC,MAAMyf,EAAGtG,EAAE07I,eAAe,CAACz0J,EAAG+5B,GAAI36B,MAE5EY,EAAEP,UAAUyQ,IAAM,SAAUjQ,EAAGD,GAChC,MAAO,WAAaC,GAAKJ,KAAKytK,kBAAoBztK,KAAKytK,iBAAiBttK,GAAI,YAAcC,GAAKJ,KAAK0tK,mBAAqB1tK,KAAK0tK,kBAAkBvtK,GAAIH,KAAKkP,IAAI9O,GAAKD,EAAGH,MACpKG,EAAEP,UAAU0pB,UAAY,SAAUlpB,EAAGD,GACtCH,KAAKkP,IAAI9O,GAAKD,GACbA,EAAEP,UAAUqd,IAAM,SAAU7c,GAC7B,OAAOJ,KAAKkP,IAAI9O,IACfD,EAAEP,UAAUwQ,KAAO,WACpB,OAAOpQ,KAAKkP,IAAI8N,SAAU,EAAIhd,MAC7BG,EAAEP,UAAU0Q,KAAO,WACpB,OAAOtQ,KAAKkP,IAAI8N,SAAU,EAAIhd,MAC7BG,EAAEP,UAAUuQ,OAAS,SAAU/P,EAAGD,GACnC,IAAI+5B,EAAIl6B,KAAKkP,IACTgK,EAAIghB,EAAElrB,OACNzP,EAAI26B,EAAEiyB,GACV,OAAOjzC,IAAMA,EAAE/K,WAAakP,EAAEk9I,KAAKrhJ,EAAE+D,IAAI,YAAajd,MAAOT,IAAMY,EAAI+Y,GAAKA,EAAEhK,IAAIi8J,YAAY36J,KAAKjR,GAAKA,EAAEgvC,WAAWoE,YAAYpzC,KAAMa,QAAK,IAAWA,IAAMJ,KAAKgQ,UAAWhQ,MAC5KG,EAAEP,UAAUoQ,QAAU,WACvBhQ,KAAKmO,YAAcnO,KAAKkQ,MAAOlQ,KAAKkP,IAAM,GAAIlP,KAAKmO,WAAY,IAC9DhO,EAAEP,UAAU+tK,UAAY,WACzB,OAAO3tK,KAAKkP,IAAIF,QACf7O,EAAEP,UAAU4tK,cAAgB,WAC7B,MAAO,IACNrtK,EAAEP,UAAUguK,QAAU,WACvB,IAAIxtK,EAAIJ,KAAKkP,IACT/O,EAAIC,EAAE4O,OAEV,GAAI7O,EAAG,CACL,IAAI+5B,EAAI/5B,EAAE+O,IAAI5I,SACV4S,EAAI9Y,EAAE+rD,GACN5sD,EAAI26B,EAAE55B,QAAQN,MAClBk6B,EAAEvpB,OAAOpR,EAAG,GAAI26B,EAAE1pB,KAAKxQ,MAAOkZ,IAAMA,EAAEq1B,WAAWoE,YAAYz5B,GAAI9Y,EAAE+rD,GAAK,QAEzEhsD,EAAEP,UAAUiuK,OAAS,WACtB,IAAIztK,EAAIJ,KAAKkP,IACT/O,EAAIC,EAAE4O,OAEV,GAAI7O,EAAG,CACL,IAAI+5B,EAAI/5B,EAAE+O,IAAI5I,SACV4S,EAAI9Y,EAAE+rD,GACN5sD,EAAI26B,EAAE55B,QAAQN,MAElB,GAAIk6B,EAAEvpB,OAAOpR,EAAG,GAAI26B,EAAEb,QAAQr5B,MAAOkZ,EAAG,CACtC,IAAImE,EAAInE,EAAEq1B,WACVlxB,EAAEs1B,YAAYz5B,GAAImE,EAAEgvJ,aAAanzJ,EAAGmE,EAAEywJ,eAGzC3tK,EAAEP,UAAU6tK,iBAAmB,SAAUrtK,GAC1C,IAAID,EAAIH,KAAKkP,IAAIF,OACjBhP,KAAKkP,IAAIuJ,OAASrY,EAAGid,EAAEyiJ,MAAM3/J,IAAMA,EAAE42B,OACrC,IAAImD,EAAIl6B,KAAKkP,IAAIi9C,GAEjB,GAAIjyB,EAAG,CACL,IAAIhhB,EAAI/Y,EAAE+O,IAAI5I,SACV/G,EAAI2Z,EAAE5Y,QAAQN,MACd4C,EAAIs3B,EAAEqU,WACV3rC,EAAE+vC,YAAYzY,GAAI36B,IAAM2Z,EAAEzZ,OAAS,EAAImD,EAAEyrC,YAAYnU,GAAKt3B,EAAEypK,aAAanyI,EAAGt3B,EAAEgrC,WAAWruC,IAG3F,OAAOa,GACND,EAAEP,UAAU8tK,kBAAoB,SAAUttK,KAAOD,EAAEP,UAAUsvE,UAAY,SAAU9uE,GACpF,OAAOJ,KAAKkP,IAAIuJ,OAASrY,EAAGJ,KAAKytK,iBAAiBrtK,IACjDD,EAAEP,UAAUivB,MAAQ,WACrB,OAAOxR,EAAEwR,MAAM7uB,OACdG,EAAEP,UAAUqpB,QAAU,aAAgB9oB,EArFnC,CAsFNZ,EAAE4a,SAEJha,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEAA,EAAEhhB,EAAE/Y,GAEJ,IAAI+Y,EAAI,WACN,SAAS9Y,IACPJ,KAAK+tK,QAAU,GAGjB,OAAO3tK,EAAER,UAAUoO,GAAK,SAAU5N,EAAGD,EAAG+5B,GACtC,OAAOl6B,KAAK+tK,QAAQ3tK,KAAOJ,KAAK+tK,QAAQ3tK,GAAK,IAAKJ,KAAK+tK,QAAQ3tK,GAAGoQ,KAAK,CACrEqX,SAAU1nB,EACV+oK,OAAQhvI,IACNl6B,MACHI,EAAER,UAAUspK,KAAO,SAAU9oK,EAAGD,GACjC,OAAOH,KAAKgO,GAAG5N,EAAGD,GAAG,GAAKH,MACzBI,EAAER,UAAU8sC,KAAO,SAAUtsC,GAC9B,IAAK,IAAID,EAAIH,KAAMk6B,EAAI,GAAIhhB,EAAI,EAAGA,EAAI1Z,UAAUC,OAAQyZ,IACtDghB,EAAEhhB,EAAI,GAAK1Z,UAAU0Z,GAGvB,IAAI3Z,EAAIS,KAAK+tK,QAAQ3tK,IAAM,GACvBid,EAAIrd,KAAK+tK,QAAQ,MAAQ,GACzBnrK,EAAI,SAAWsW,GACjB,IAAK,IAAI3Z,EAAI2Z,EAAEzZ,OAAQ4d,EAAI,EAAGA,EAAI9d,EAAG8d,IACnC,GAAInE,EAAEmE,GAAI,CACR,IAAIza,EAAIsW,EAAEmE,GACNnd,EAAI0C,EAAEilB,SACVjlB,EAAEsmK,OAAShwJ,EAAEvI,OAAO0M,EAAG,GAAI,IAAMnE,EAAEzZ,eAAiBU,EAAE4tK,QAAQ3tK,GAAIb,IAAK8d,KAAMnd,EAAEH,MAAMI,EAAG+5B,KAK9Ft3B,EAAErD,GAAIqD,EAAEya,IACPjd,EAAER,UAAUsQ,IAAM,SAAU9P,EAAGD,GAChC,GAAIC,EACF,GAAID,EAAG,CACL,IAAK,IAAI+5B,EAAIl6B,KAAK+tK,QAAQ3tK,IAAM,GAAI8Y,EAAIghB,EAAEz6B,OAAQF,EAAI,EAAGA,EAAI2Z,EAAG3Z,IAC9D26B,EAAE36B,GAAGsoB,WAAa1nB,IAAM+5B,EAAEvpB,OAAOpR,EAAG,GAAI2Z,IAAK3Z,KAG/C,IAAM26B,EAAEz6B,eAAiBO,KAAK+tK,QAAQ3tK,eAC1BJ,KAAK+tK,QAAQ3tK,QACtBJ,KAAK+tK,QAAU,GACtB,OAAO/tK,MACNI,EAAER,UAAU4oK,UAAY,WACzB,OAAOxoK,KAAK+tK,SACX3tK,EA3CG,GA8CRD,EAAEga,QAAUjB,GACX,SAAU9Y,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IACLT,EAAE8iK,SAAW9iK,EAAE4iK,SAAW5iK,EAAE+iK,IAAM/iK,EAAE6iK,SAAM,EAAQ7iK,EAAE6iK,IAAM,SAAU5iK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAClF,OAAOY,EAAI+d,KAAKiE,IAAI/hB,GAAK8d,KAAKiE,IAAI5iB,GAAK26B,EAAIhc,KAAKkE,IAAIhiB,GAAK8d,KAAKkE,IAAI7iB,GAAK2Z,GACtE/Y,EAAE+iK,IAAM,SAAU9iK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GAC/B,OAAOY,EAAI+d,KAAKkE,IAAIhiB,GAAK8d,KAAKiE,IAAI5iB,GAAK26B,EAAIhc,KAAKiE,IAAI/hB,GAAK8d,KAAKkE,IAAI7iB,GAAK2Z,GACtE/Y,EAAE4iK,SAAW,SAAU3iK,EAAGD,EAAG+5B,GAC9B,OAAOhc,KAAK01G,MAAM15F,EAAI/5B,EAAI+d,KAAKkF,IAAIhjB,KAClCD,EAAE8iK,SAAW,SAAU7iK,EAAGD,EAAG+5B,GAC9B,OAAOhc,KAAK01G,KAAK15F,GAAK/5B,EAAI+d,KAAKkF,IAAIhjB,OAEpC,SAAUA,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAI,CACNtC,OAAQ,SAAgBxW,EAAGD,EAAG+5B,GAC5B,MAAO,CAAC,CAAC,IAAK95B,EAAGD,GAAI,CAAC,KAAM+5B,EAAG,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAG,EAAIA,EAAG,GAAI,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAG,GAAKA,EAAG,KAElG/e,OAAQ,SAAgB/a,EAAGD,EAAG+5B,GAC5B,MAAO,CAAC,CAAC,IAAK95B,EAAI85B,EAAG/5B,EAAI+5B,GAAI,CAAC,IAAK95B,EAAI85B,EAAG/5B,EAAI+5B,GAAI,CAAC,IAAK95B,EAAI85B,EAAG/5B,EAAI+5B,GAAI,CAAC,IAAK95B,EAAI85B,EAAG/5B,EAAI+5B,GAAI,CAAC,OAE/F7e,QAAS,SAAiBjb,EAAGD,EAAG+5B,GAC9B,MAAO,CAAC,CAAC,IAAK95B,EAAI85B,EAAG/5B,GAAI,CAAC,IAAKC,EAAGD,EAAI+5B,GAAI,CAAC,IAAK95B,EAAI85B,EAAG/5B,GAAI,CAAC,IAAKC,EAAGD,EAAI+5B,GAAI,CAAC,OAE/E3e,SAAU,SAAkBnb,EAAGD,EAAG+5B,GAChC,IAAIhhB,EAAIghB,EAAIhc,KAAKkE,IAAI,EAAI,EAAIlE,KAAKK,IAClC,MAAO,CAAC,CAAC,IAAKne,EAAI85B,EAAG/5B,EAAI+Y,GAAI,CAAC,IAAK9Y,EAAGD,EAAI+Y,GAAI,CAAC,IAAK9Y,EAAI85B,EAAG/5B,EAAI+Y,GAAI,CAAC,OAEtEsC,aAAc,SAAsBpb,EAAGD,EAAG+5B,GACxC,IAAIhhB,EAAIghB,EAAIhc,KAAKkE,IAAI,EAAI,EAAIlE,KAAKK,IAClC,MAAO,CAAC,CAAC,IAAKne,EAAI85B,EAAG/5B,EAAI+Y,GAAI,CAAC,IAAK9Y,EAAI85B,EAAG/5B,EAAI+Y,GAAI,CAAC,IAAK9Y,EAAGD,EAAI+Y,GAAI,CAAC,QAGxE/Y,EAAEga,QAAU,CACV8C,IAAK,SAAa7c,GAChB,OAAO8Y,EAAE9Y,IAEX0kF,SAAU,SAAkB1kF,EAAGD,GAC7B+Y,EAAE9Y,GAAKD,GAETgQ,OAAQ,SAAgB/P,UACf8Y,EAAE9Y,IAEX4tK,OAAQ,WACN,OAAO90J,KAGV,SAAU9Y,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAI,CACNywJ,IAAK,MACL/yJ,OAAQ,SACR6D,KAAM,OACN/G,KAAM,OACN0I,KAAM,OACN6xJ,cAAe,gBACf56J,QAAS,UACTs3J,QAAS,UACTxuJ,MAAO,SAGThc,EAAEga,QAAU,SAAU/Z,EAAGD,EAAG+5B,GAC1B,IAAI36B,EAAI26B,EAAE56B,QAAU46B,EAAEg0I,WAEtB,IAAKh1J,EAAE3Z,EAAE0tC,SAAU,CACjB,IAAK,IAAI5vB,EAAI9d,EAAEgvC,WAAYlxB,IAAMnE,EAAEmE,EAAE4vB,UACnC5vB,EAAIA,EAAEkxB,WAGRhvC,EAAI8d,EAGN,OAAOrd,KAAKkP,IAAIi9C,KAAO5sD,EAAIS,KAAOA,KAAKk/F,MAAK,SAAU9+F,GACpD,OAAOA,EAAE8O,KAAO9O,EAAE8O,IAAIi9C,KAAO5sD,OAGhC,SAAUa,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,IACN7c,EAAI6c,EAAE,IACNt3B,EAAIs3B,EAAE,IACNh6B,EAAIg6B,EAAE,IAEV,SAAS1a,EAAEpf,EAAGD,EAAG+5B,GACf,IAAI36B,EACAigB,EAAIrf,EAAE8jK,UACV,GAAI/pI,EAAI1a,EAAIrf,EAAEunB,OAASvnB,EAAEgkK,SAAU,OAAO,EAC1C,IAAI9kJ,EAAIlf,EAAEynB,SACNtI,EAAInf,EAAEwnB,OACV,GAAIuS,EAAIA,EAAI1a,EAAIrf,EAAEunB,MAAOvnB,EAAE2jK,QAAQtqC,OAAQj6H,EAAI26B,EAAI7a,EAAIA,EAAG9f,EAAI8d,EAAEiC,GAAG/f,OAAQ,CACzE,MAAOA,EAAI26B,EAAI7a,GAAK,GAAI,OAAOlf,EAAEgrG,QAAU/qG,EAAEgoB,KAAKjoB,EAAEgrG,QAAQ,IAAM/qG,EAAEgoB,KAAKjoB,EAAE2jK,SAAU3jK,EAAE6jK,UAAY5jK,EAAE0sB,UAAU3sB,EAAE6jK,WAAW,EAC5HzkK,EAAI8d,EAAEiC,GAAG/f,GAGX,GAAIY,EAAEgrG,QAAS,CACb,IAAIl7F,EAAI9P,EAAEgrG,QAAQ5rG,GAClBa,EAAEgoB,KAAKnY,QACD,SAAU7P,EAAGD,EAAG+5B,GACtB,IAAI36B,EAAI,GACJ8d,EAAIld,EAAE2jK,QACNtkJ,EAAIrf,EAAE0jK,UACNxkJ,EAAIlf,EAAE6jK,SAEV,IAAK5jK,EAAE+N,UAAW,CAChB,IAAImR,EAEJ,IAAK,IAAIrP,KAAKoN,EACZ,IAAKnE,EAAE8kD,QAAQx+C,EAAEvP,GAAIoN,EAAEpN,IAAK,GAAI,SAAWA,EAAG,CAC5C,IAAIs7B,EAAIluB,EAAEpN,GACN5P,EAAImf,EAAEvP,GACVs7B,EAAE9rC,OAASY,EAAEZ,QAAU8rC,EAAIrrC,EAAEgf,gBAAgB7B,EAAEpN,IAAK5P,EAAIH,EAAEgf,gBAAgBM,EAAEvP,IAAK5P,EAAIH,EAAEo+J,eAAej+J,EAAGkrC,GAAIlrC,EAAIH,EAAEq+J,WAAWl+J,EAAGkrC,GAAIprC,EAAE0jK,UAAUznJ,KAAO/b,EAAGF,EAAE2jK,QAAQ1nJ,KAAOmvB,GAAKprC,EAAEguK,gBAAkB5iI,EAAIrrC,EAAEgf,gBAAgB7B,EAAEpN,IAAK5P,EAAIH,EAAEgf,gBAAgBM,EAAEvP,IAAK5P,EAAIH,EAAEq+J,WAAWl+J,EAAGkrC,GAAIprC,EAAE0jK,UAAUznJ,KAAO/b,EAAGF,EAAE2jK,QAAQ1nJ,KAAOmvB,EAAGprC,EAAEguK,eAAgB,GAAK5uK,EAAE0Q,GAAK,GAE/V,IAAK,IAAI2O,EAAI,EAAGA,EAAI2sB,EAAE9rC,OAAQmf,IAAK,CACjC,IAAK,IAAItB,EAAIiuB,EAAE3sB,GAAI/P,EAAIxO,EAAEue,GAAI+c,EAAI,GAAI/sB,EAAI,EAAGA,EAAI0O,EAAE7d,OAAQmP,IACxDsK,EAAE8mJ,SAAS1iJ,EAAE1O,KAAOC,GAAKqK,EAAE8mJ,SAASnxJ,EAAED,KAAO0Q,EAAI1c,EAAEwrK,YAAYv/J,EAAED,GAAI0O,EAAE1O,IAAK+sB,EAAEnrB,KAAK8O,EAAE4a,KAAOyB,EAAEnrB,KAAK8M,EAAE1O,IAGvGrP,EAAE0Q,GAAGO,KAAKmrB,SAEPrc,EAAI1c,EAAEwrK,YAAY5uJ,EAAEvP,GAAIoN,EAAEpN,IAAK1Q,EAAE0Q,GAAKqP,EAAE4a,GAGjD,GAAI7a,EAAG,CACL,IAAIzB,EAAIhb,EAAEyrK,iBAAiBluK,EAAE4jK,WAAY1kJ,EAAjCzc,CAAoCs3B,GAC5C95B,EAAE0sB,UAAUlP,GAGdxd,EAAEgoB,KAAK7oB,IA9BH,CAgCNa,EAAGD,EAAGZ,GAER,OAAO,EAGT,IAAI8f,EAAI,WACN,SAASjf,EAAEA,GACTJ,KAAKsuK,UAAY,GAAItuK,KAAK6pE,QAAU,EAAG7pE,KAAK49E,MAAQ,KAAM59E,KAAK+O,OAAS3O,EAG1E,OAAOA,EAAER,UAAUgkK,UAAY,WAC7B,IAAIxjK,EACAD,EACA+5B,EACAhhB,EAAIlZ,KACJqd,EAAIrd,KACRqd,EAAEugE,MAAQr+E,EAAEq+E,OAAM,SAAUr+E,GAC1B,GAAI8d,EAAEwsD,QAAUtqE,EAAG2Z,EAAEo1J,UAAU7uK,OAAS,EAAG,CACzC,IAAK,IAAImD,EAAIsW,EAAEo1J,UAAU7uK,OAAS,EAAGmD,GAAK,EAAGA,IAC3C,IAAKxC,EAAI8Y,EAAEo1J,UAAU1rK,IAAIuL,UAAWkP,EAAEkxJ,eAAe3rK,OAAQ,CAC3D,IAAKxC,EAAE6c,IAAI,SAASknJ,SAAU,IAAK,IAAIjkK,GAAKC,EAAIC,EAAE6c,IAAI,cAAcxd,OAAS,EAAGS,GAAK,EAAGA,IACtFg6B,EAAI/5B,EAAED,GAAIsf,EAAEpf,EAAG85B,EAAG36B,KAAOY,EAAEwQ,OAAOzQ,EAAG,GAAQg6B,EAAErS,UAAYqS,EAAErS,YAE/D,IAAM1nB,EAAEV,QAAU4d,EAAEkxJ,eAAe3rK,GAIvCsW,EAAEnK,OAAOe,YAGZ1P,EAAER,UAAUskK,YAAc,SAAU9jK,GACrCJ,KAAKsuK,UAAU99J,KAAKpQ,IACnBA,EAAER,UAAU2uK,eAAiB,SAAUnuK,GACxCJ,KAAKsuK,UAAU39J,OAAOvQ,EAAG,IACxBA,EAAER,UAAU4uK,YAAc,WAC3B,QAASxuK,KAAKsuK,UAAU7uK,QACvBW,EAAER,UAAU+8B,KAAO,WACpB38B,KAAK49E,OAAS59E,KAAK49E,MAAMjhD,QACxBv8B,EAAER,UAAU6uK,kBAAoB,WACjCzuK,KAAKsuK,UAAUpmK,SAAQ,SAAU9H,GAC/BA,EAAEi0C,iBACAr0C,KAAKsuK,UAAY,GAAItuK,KAAK+O,OAAOe,QACpC1P,EAAER,UAAUu1B,QAAU,WACvB,OAAOn1B,KAAK6pE,SACXzpE,EAvCG,GA0CRD,EAAEga,QAAUkF,GACX,SAAUjf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAET,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI0a,EAAE,GAEV,SAAS7a,EAAEjf,EAAGD,EAAG+5B,GACf,OAAO95B,EAAID,EAAI+d,KAAKiE,IAAI+X,GAG1B,SAAS5a,EAAElf,EAAGD,EAAG+5B,GACf,OAAO95B,EAAID,EAAI+d,KAAKkE,IAAI8X,GAG1B,IAAIjqB,EAAI,SAAU7P,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,MAAOhG,EAG3C,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACHqK,EAAG,EACHuN,WAAY,EACZC,SAAU,EACVgoJ,WAAW,EACXh8J,UAAW,EACX6wJ,YAAY,EACZC,UAAU,IAEXrjK,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MACTnL,EAAIghB,EAAEtrB,EACNrP,EAAI26B,EAAErrB,EACNwO,EAAI6c,EAAEhhB,EACNtW,EAAIs3B,EAAEzT,WACNjH,EAAI0a,EAAExT,SACNrH,EAAI6a,EAAEw0I,UACNpvJ,EAAItf,KAAKwhK,kBACb,QAASxhK,KAAKohK,aAAelhK,EAAE2hK,QAAQ3oJ,EAAG3Z,EAAG8d,EAAGza,EAAG4c,EAAGH,EAAGC,EAAGlf,EAAGD,IAC9DA,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAE8Y,EACN3Z,EAAIa,EAAEqmB,WACN7jB,EAAIxC,EAAEsmB,SACNxmB,EAAIE,EAAEsuK,UACNrvJ,EAAIrf,KAAKwhK,kBACTliJ,EAAID,EAAI,EACRpP,EAAIoN,EAAEtK,IAAI5S,EAAG+5B,EAAGhhB,EAAG3Z,EAAGqD,EAAG1C,GAC7B,OAAO,IAAIsf,EAAErF,QAAQlK,EAAErB,EAAI0Q,EAAGrP,EAAEpB,EAAIyQ,EAAGrP,EAAEzL,MAAQ6a,EAAGpP,EAAEnB,OAASuQ,IAC9Dlf,EAAEP,UAAU+uK,gBAAkB,WAC/B,IAAIvuK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAEqmB,WACNlnB,EAAIa,EAAE8Y,EACNmE,EAAIjd,EAAEsuK,UACN9rK,EAAIsb,KAAKK,GAAK,IAClBlB,IAAMza,IAAM,GACZ,IAAI1C,EAAI,GACJsf,EAAIH,EAAElf,EAAGZ,EAAG2Z,EAAItW,GAChBqN,EAAIqP,EAAE4a,EAAG36B,EAAG2Z,EAAItW,GAChB2oC,EAAIlsB,EAAElf,EAAGZ,EAAG2Z,GACZ7Y,EAAIif,EAAE4a,EAAG36B,EAAG2Z,GAChB,OAAOhZ,EAAEsQ,KAAK,CAACgP,EAAGvP,IAAK/P,EAAEsQ,KAAK,CAAC+6B,EAAGlrC,IAAKH,GACtCC,EAAEP,UAAUgvK,cAAgB,WAC7B,IAAIxuK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAEsmB,SACNnnB,EAAIa,EAAE8Y,EACNmE,EAAIjd,EAAEsuK,UACN9rK,EAAIsb,KAAKK,GAAK,IACdre,EAAI,GACRmd,IAAMza,IAAM,GACZ,IAAI4c,EAAIH,EAAElf,EAAGZ,EAAG2Z,EAAItW,GAChBqN,EAAIqP,EAAE4a,EAAG36B,EAAG2Z,EAAItW,GAChB2oC,EAAIlsB,EAAElf,EAAGZ,EAAG2Z,GACZ7Y,EAAIif,EAAE4a,EAAG36B,EAAG2Z,GAChB,OAAOhZ,EAAEsQ,KAAK,CAAC+6B,EAAGlrC,IAAKH,EAAEsQ,KAAK,CAACgP,EAAGvP,IAAK/P,GACtCC,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNtP,EAAIY,EAAE+Y,EACNmE,EAAIld,EAAEsmB,WACN7jB,EAAIzC,EAAEumB,SACNxmB,EAAIC,EAAEuuK,WACTtuK,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAAaxiF,EAAEoa,IAAI0f,EAAGhhB,EAAG3Z,EAAG8d,EAAGza,EAAG1C,IAChEC,EAAEP,UAAUohK,UAAY,SAAU5gK,GACnC,IAAID,EAAIH,KAAKqkB,MAEb,GAAIjkB,EAAIA,GAAKJ,KAAKid,IAAI,WAAY9c,EAAEojK,WAAY,CAC9C,IAAIrpI,EAAIl6B,KAAK2uK,kBACb/rK,EAAEwgK,cAAchjK,EAAGD,EAAG+5B,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,IAGxD,GAAI/5B,EAAEqjK,SAAU,CACd,IAAItqJ,EAAIlZ,KAAK4uK,gBACbhsK,EAAEugK,YAAY/iK,EAAGD,EAAG+Y,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,MAErD/Y,EA3FG,CA4FNZ,EAAE4a,SAEJha,EAAEga,QAAUlK,GACX,SAAU7P,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAI,SAAUE,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,SAAUhG,EAG9D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACHqK,EAAG,EACHxG,UAAW,IAEZvS,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MACTnL,EAAIghB,EAAEtrB,EACNrP,EAAI26B,EAAErrB,EACNjM,EAAIs3B,EAAEhhB,EACNhZ,EAAIF,KAAKwhK,kBACThiJ,EAAIxf,KAAKmhK,UACT9hJ,EAAIrf,KAAKohK,YACb,OAAO5hJ,GAAKH,EAAIhC,EAAEzG,OAAOsC,EAAG3Z,EAAGqD,EAAGxC,EAAGD,IAAMkd,EAAEwkJ,QAAQ3oJ,EAAG3Z,EAAGqD,EAAG,EAAG,EAAIsb,KAAKK,IAAI,EAAIre,EAAGE,EAAGD,GAAKqf,EAAInC,EAAEzG,OAAOsC,EAAG3Z,EAAGqD,EAAGxC,EAAGD,KAAOkf,GAAKhC,EAAEwkJ,QAAQ3oJ,EAAG3Z,EAAGqD,EAAG,EAAG,EAAIsb,KAAKK,IAAI,EAAIre,EAAGE,EAAGD,IAC9KA,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAE8Y,EACN3Z,EAAIS,KAAKwhK,kBAAoB,EAAItoJ,EACrC,OAAOtW,EAAEuX,QAAQ41C,UAAU5vD,EAAIZ,EAAG26B,EAAI36B,EAAGY,EAAIZ,EAAG26B,EAAI36B,IACnDY,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNtP,EAAIY,EAAE+Y,EACV9Y,EAAEwiF,YAAaxiF,EAAEoa,IAAI0f,EAAGhhB,EAAG3Z,EAAG,EAAG,EAAI2e,KAAKK,IAAI,GAAKne,EAAEyiF,aACpD1iF,EAnCG,CAoCNZ,EAAE4a,SAEJha,EAAEga,QAAUja,GACX,SAAUE,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAI,SAAUE,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,MAAOhG,EAG3D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GACjE,IAAKH,KAAKkP,IAAIi9C,GAAI,OAAO,EACzB,IAAIjyB,EAAIl6B,KAAKkP,IAAIi9C,GAAGljC,UACpB,OAAO5L,EAAEtK,IAAImnB,EAAEtrB,EAAGsrB,EAAEtrB,EAAIsrB,EAAE11B,MAAO01B,EAAErrB,EAAGqrB,EAAErrB,EAAIqrB,EAAEprB,OAAQ1O,EAAGD,IACxDA,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAEoE,MACNjF,EAAIa,EAAE0O,OACNuO,EAAIrd,KAAKwhK,kBAAoB,EACjC,OAAO,IAAI5+J,EAAEuX,QAAQha,EAAIkd,EAAG6c,EAAI7c,EAAGnE,EAAG3Z,IACrCY,EAlBG,CAmBNZ,EAAE4a,SAEJha,EAAEga,QAAUja,GACX,SAAUE,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI,SAAUpf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,UAAWhG,EAG/D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACHyS,GAAI,EACJC,GAAI,EACJ7O,UAAW,IAEZvS,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MACTnL,EAAIlZ,KAAKmhK,UACT9jJ,EAAIrd,KAAKohK,YACTlhK,EAAIg6B,EAAEtrB,EACN4Q,EAAI0a,EAAErrB,EACNwQ,EAAI6a,EAAE5Y,GACNhC,EAAI4a,EAAE3Y,GACNtR,EAAIjQ,KAAKwhK,kBACTj2H,EAAIlsB,EAAIC,EAAID,EAAIC,EAChBjf,EAAIgf,EAAIC,EAAI,EAAID,EAAIC,EACpBV,EAAIS,EAAIC,EAAIA,EAAID,EAAI,EACpB/B,EAAI,CAACld,EAAGD,EAAG,GACX0O,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACjCtP,EAAE4d,KAAKwQ,MAAM9e,EAAGA,EAAG,CAACxO,EAAGue,IAAKrf,EAAE4d,KAAKwR,UAAU9f,EAAGA,EAAG,CAAC3O,EAAGsf,IACvD,IAAImc,EAAIp8B,EAAE4d,KAAK4S,OAAO,GAAIlhB,GAC1B,OAAOtP,EAAEy8J,KAAKn3H,cAAcvnB,EAAGA,EAAGqe,GAAIziB,GAAKmE,EAAIza,EAAEgU,OAAO,EAAG,EAAG20B,EAAGjuB,EAAE,GAAIA,EAAE,KAAO1a,EAAEi/J,QAAQ,EAAG,EAAGt2H,EAAG,EAAG,EAAIrtB,KAAKK,IAAI,EAAItO,EAAGqN,EAAE,GAAIA,EAAE,IAAMpE,EAAItW,EAAEgU,OAAO,EAAG,EAAG20B,EAAGjuB,EAAE,GAAIA,EAAE,MAAQD,GAAKza,EAAEi/J,QAAQ,EAAG,EAAGt2H,EAAG,EAAG,EAAIrtB,KAAKK,IAAI,EAAItO,EAAGqN,EAAE,GAAIA,EAAE,KACpOnd,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAEkhB,GACN/hB,EAAIa,EAAEmhB,GACNlE,EAAIrd,KAAKwhK,kBACT5+J,EAAIsW,EAAImE,EAAI,EACZmC,EAAIjgB,EAAI8d,EAAI,EAChB,OAAOnd,EAAEia,QAAQ41C,UAAU5vD,EAAIyC,EAAGs3B,EAAI1a,EAAGrf,EAAIyC,EAAGs3B,EAAI1a,IACnDrf,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNwO,EAAIld,EAAEmhB,GACN1e,EAAIzC,EAAEohB,GACVnhB,EAAIA,GAAKJ,KAAKid,IAAI,WAClB,IAAI/c,EAAImd,EAAIza,EAAIya,EAAIza,EAChB4c,EAAInC,EAAIza,EAAI,EAAIya,EAAIza,EACpByc,EAAIhC,EAAIza,EAAIA,EAAIya,EAAI,EACpBiC,EAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACjC/f,EAAE4d,KAAKwQ,MAAMrO,EAAGA,EAAG,CAACE,EAAGH,IAAK9f,EAAE4d,KAAKwR,UAAUrP,EAAGA,EAAG,CAAC4a,EAAGhhB,IAAK9Y,EAAEwiF,YAAaxiF,EAAEo7I,OAAQp7I,EAAEyP,UAAUyP,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAKlf,EAAEoa,IAAI,EAAG,EAAGta,EAAG,EAAG,EAAIge,KAAKK,IAAKne,EAAEu7I,UAAWv7I,EAAEyiF,aACpL1iF,EArDG,CAsDNkd,EAAElD,SAEJha,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI0a,EAAE,GACN7a,EAAI6a,EAAE,GACN5a,EAAI,SAAUlf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,MAAOhG,EAG3D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACHkY,GAAI,EACJC,GAAI,EACJP,WAAY,EACZC,SAAU,EACVgoJ,WAAW,EACXh8J,UAAW,IAEZvS,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KACJkZ,EAAIghB,EAAEinI,UACNv+J,EAAIs3B,EAAEknI,YACN5hJ,EAAI0a,EAAE7V,MACNhF,EAAIG,EAAE5Q,EACN0Q,EAAIE,EAAE3Q,EACNoB,EAAIuP,EAAEuH,GACNwkB,EAAI/rB,EAAEwH,GACN3mB,EAAImf,EAAEiH,WACN7H,EAAIY,EAAEkH,SACNpJ,EAAIkC,EAAEkvJ,UACN7/J,EAAI,CAACzO,EAAIif,EAAGlf,EAAImf,GAChBqc,EAAIp8B,EAAEue,KAAKgoB,QAAQ,CAAC,EAAG,GAAIj3B,GAE/B,SAASD,IACP,IAAIxO,EAAIid,EAAE8kJ,UAAUxmI,EAAGt7B,EAAGue,EAAGtB,GAE7B,GAAI/d,EAAEiwJ,cAAc7zH,EAAGv7B,GAAI,CACzB,IAAID,EAAIZ,EAAEue,KAAKu/I,cAAcxuJ,GAC7B,GAAIoB,EAAIA,GAAK9P,GAAKA,GAAKorC,EAAIA,EAAG,OAAO,EAGvC,OAAO,EAGT,SAAS3tB,IACP,IAAI1E,EAAIghB,EAAEsnI,kBACNjiK,EAAI,CACNqP,EAAGsP,KAAKiE,IAAI9hB,GAAK4P,EAAIoP,EACrBxQ,EAAGqP,KAAKkE,IAAI/hB,GAAK4P,EAAIqP,GAEnBjC,EAAI,CACNzO,EAAGsP,KAAKiE,IAAI9hB,GAAKkrC,EAAIlsB,EACrBxQ,EAAGqP,KAAKkE,IAAI/hB,GAAKkrC,EAAIjsB,GAEnB1c,EAAI,CACNgM,EAAGsP,KAAKiE,IAAIvD,GAAK3O,EAAIoP,EACrBxQ,EAAGqP,KAAKkE,IAAIxD,GAAK3O,EAAIqP,GAEnBE,EAAI,CACN5Q,EAAGsP,KAAKiE,IAAIvD,GAAK2sB,EAAIlsB,EACrBxQ,EAAGqP,KAAKkE,IAAIxD,GAAK2sB,EAAIjsB,GAEvB,QAASpf,EAAEkT,KAAK7T,EAAEqP,EAAGrP,EAAEsP,EAAGwO,EAAEzO,EAAGyO,EAAExO,EAAGqK,EAAG9Y,EAAGD,MAAQD,EAAEkT,KAAKxQ,EAAEgM,EAAGhM,EAAEiM,EAAG2Q,EAAE5Q,EAAG4Q,EAAE3Q,EAAGqK,EAAG9Y,EAAGD,MAAQD,EAAE2hK,QAAQxiJ,EAAGC,EAAGrP,EAAG5P,EAAGue,EAAGtB,EAAGpE,EAAG9Y,EAAGD,MAAQD,EAAE2hK,QAAQxiJ,EAAGC,EAAGisB,EAAGlrC,EAAGue,EAAGtB,EAAGpE,EAAG9Y,EAAGD,GAGzK,OAAO+Y,GAAKtW,EAAIgM,KAAOgP,IAAM1E,EAAItK,MAAQhM,GAAKgb,KAC7Czd,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAE2mB,GACNxnB,EAAIa,EAAE4mB,GACN3J,EAAIjd,EAAEqmB,WACN7jB,EAAIxC,EAAEsmB,SACNxmB,EAAIE,EAAEsuK,UACNpvJ,EAAItf,KAAKwhK,kBACTvxJ,EAAIoP,EAAEtM,IAAI5S,EAAG+5B,EAAGhhB,EAAGmE,EAAGza,EAAG1C,GACzBqrC,EAAIlsB,EAAEtM,IAAI5S,EAAG+5B,EAAG36B,EAAG8d,EAAGza,EAAG1C,GACzBG,EAAI6d,KAAKuR,IAAIxf,EAAEsY,KAAMgjB,EAAEhjB,MACvB3J,EAAIV,KAAKuR,IAAIxf,EAAEwY,KAAM8iB,EAAE9iB,MACvBnL,EAAIY,KAAKyH,IAAI1V,EAAEuY,KAAM+iB,EAAE/iB,MACvB3Z,EAAIqP,KAAKyH,IAAI1V,EAAEyY,KAAM6iB,EAAE7iB,MACvBiT,EAAIrc,EAAI,EACZ,OAAOE,EAAErF,QAAQ41C,UAAU1vD,EAAIs7B,EAAG/c,EAAI+c,EAAGre,EAAIqe,EAAG9sB,EAAI8sB,IACnDx7B,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNtP,EAAIY,EAAE4mB,GACN1J,EAAIld,EAAE6mB,GACNpkB,EAAIzC,EAAEsmB,WACNvmB,EAAIC,EAAEumB,SACNlH,EAAIrf,EAAEuuK,UACNrvJ,EAAI,CACNzQ,EAAGsP,KAAKiE,IAAIvf,GAAKrD,EAAI26B,EACrBrrB,EAAGqP,KAAKkE,IAAIxf,GAAKrD,EAAI2Z,GAEnBoG,EAAI,CACN1Q,EAAGsP,KAAKiE,IAAIvf,GAAKya,EAAI6c,EACrBrrB,EAAGqP,KAAKkE,IAAIxf,GAAKya,EAAInE,GAEnBjJ,EAAI,CACNrB,EAAGsP,KAAKiE,IAAIjiB,GAAKX,EAAI26B,EACrBrrB,EAAGqP,KAAKkE,IAAIliB,GAAKX,EAAI2Z,IAEtB9Y,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAAaxiF,EAAE47C,OAAO38B,EAAEzQ,EAAGyQ,EAAExQ,GAAIzO,EAAEsiK,OAAOpjJ,EAAE1Q,EAAG0Q,EAAEzQ,GAAIzO,EAAEoa,IAAI0f,EAAGhhB,EAAGmE,EAAGza,EAAG1C,EAAGsf,GAAIpf,EAAEsiK,OAAOzyJ,EAAErB,EAAGqB,EAAEpB,GAAIzO,EAAEoa,IAAI0f,EAAGhhB,EAAG3Z,EAAGW,EAAG0C,GAAI4c,GAAIpf,EAAEyiF,aAC5J1iF,EAzGG,CA0GNyC,EAAEuX,SAEJha,EAAEga,QAAUmF,GACX,SAAUlf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI,SAAUpf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEgG,KAAO,QAAShG,EAG3B,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACHk/C,IAAK,KACLvpD,MAAO,EACPsK,OAAQ,EACRm7B,GAAI,KACJC,GAAI,KACJ2kI,OAAQ,KACRC,QAAS,OAEV3uK,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MACb,GAAIrkB,KAAKid,IAAI,YAAcid,EAAE6zB,IAAK,OAAO,EACzC/tD,KAAKkP,IAAImV,OAASrkB,KAAKkP,IAAImV,MAAM0pC,MAAQ7zB,EAAE6zB,KAAO/tD,KAAK+uK,cACvD,IAAI71J,EAAIghB,EAAEtrB,EACNrP,EAAI26B,EAAErrB,EACNwO,EAAI6c,EAAE11B,MACNtE,EAAIg6B,EAAEprB,OACV,OAAOlM,EAAE6X,KAAKvB,EAAG3Z,EAAG8d,EAAGnd,EAAGE,EAAGD,IAC5BA,EAAEP,UAAUyhK,SAAW,WACxB,OAAO,GACNlhK,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACb,OAAOrkB,KAAKkP,IAAImV,OAASrkB,KAAKkP,IAAImV,MAAM0pC,MAAQ3tD,EAAE2tD,KAAO/tD,KAAK+uK,cAAe,IAAI7uK,EAAEia,QAAQ/Z,EAAEwO,EAAGxO,EAAEyO,EAAGzO,EAAEoE,MAAOpE,EAAE0O,SAC/G3O,EAAEP,UAAU8tK,kBAAoB,SAAUttK,GAC3C,IAAID,EAAIH,KAAKid,IAAI,UACjB,OAAO,IAAO7c,IAAK,IAAOJ,KAAKid,IAAI,YAAcjd,KAAKkP,IAAIpJ,SAAU,EAAI3F,EAAE2P,QAAS1P,GAClFD,EAAEP,UAAUmvK,YAAc,WAC3B,IAAI3uK,EAAIJ,KACJG,EAAIC,EAAEikB,MACN6V,EAAI/5B,EAAE4tD,IACV,IAAKxuD,EAAEghK,SAASrmI,GAAI,OAAOA,aAAa2zB,OAAS1tD,EAAEqE,OAASpE,EAAEgoB,KAAK,QAAS8R,EAAE11B,OAAQrE,EAAE2O,QAAU1O,EAAEgoB,KAAK,SAAU8R,EAAEprB,QAASorB,GAAKA,aAAakyB,aAAe7sD,EAAEghK,SAASrmI,EAAEoyI,WAAa,WAAapyI,EAAEoyI,SAASzrJ,eAAiB1gB,EAAEqE,OAASpE,EAAEgoB,KAAK,QAAS1F,OAAOwX,EAAE0O,aAAa,WAAYzoC,EAAE2O,QAAU1O,EAAEgoB,KAAK,SAAU1F,OAAOwX,EAAE0O,aAAa,YAAa1O,GAAKA,aAAaqyI,WAAapsK,EAAEqE,OAASpE,EAAEgoB,KAAK,QAAS8R,EAAE11B,OAAQrE,EAAE2O,QAAU1O,EAAEgoB,KAAK,SAAU8R,EAAEprB,QAASorB,GAAK,KAChd,IAAIhhB,EAAI,IAAI20C,MACZ30C,EAAE2lI,OAAS,WACT,GAAIz+I,EAAE6c,IAAI,aAAc,OAAO,EAC/B7c,EAAEgoB,KAAK,SAAU8R,GAAI95B,EAAEgoB,KAAK,MAAOlP,GACnC,IAAI/Y,EAAIC,EAAE6c,IAAI,YACd9c,GAAKA,EAAEL,KAAKM,GAAIA,EAAEiQ,IAAI,WAAW,IAChC6I,EAAE40C,IAAM5zB,EAAGhhB,EAAE0lI,YAAc,YAAax+I,EAAEiQ,IAAI,WAAW,IAC3DlQ,EAAEP,UAAUshK,UAAY,SAAU9gK,GACnCJ,KAAKkP,IAAI42J,WAAa9lK,KAAK+uK,cAAe/uK,KAAKid,IAAI,WAAajd,KAAKqQ,IAAI,UAAU,IAAOrQ,KAAKgvK,WAAW5uK,GAAIJ,KAAKkP,IAAI42J,WAAY,IAClI3lK,EAAEP,UAAUovK,WAAa,SAAU5uK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNwO,EAAIld,EAAE4tD,IACNnrD,EAAIzC,EAAEqE,MACNtE,EAAIC,EAAE2O,OACN0Q,EAAIrf,EAAE8pC,GACN5qB,EAAIlf,EAAE+pC,GACN5qB,EAAInf,EAAE0uK,OACN5+J,EAAI9P,EAAE2uK,QACV9uK,KAAKqQ,IAAI,UAAU,GACnB,IAAIk7B,EAAIluB,EAER,GAAIkuB,aAAaghI,aAAehhI,EAAI,IAAIsiB,OAASC,IAAMzwC,GAAIkuB,aAAasiB,OAAStiB,aAAa0jI,kBAAoB1vK,EAAEghK,SAASh1H,EAAE+gI,WAAa,WAAa/gI,EAAE+gI,SAASzrJ,cAAe,CACjL,GAAIthB,EAAEugK,MAAMtgJ,IAAMjgB,EAAEugK,MAAMzgJ,IAAM9f,EAAEugK,MAAMxgJ,IAAM/f,EAAEugK,MAAM7vJ,GAAI,YAAY7P,EAAE4iF,UAAUz3C,EAAGrR,EAAGhhB,EAAGtW,EAAG1C,GAC9F,KAAMX,EAAEugK,MAAMtgJ,IAAMjgB,EAAEugK,MAAMzgJ,IAAM9f,EAAEugK,MAAMxgJ,IAAM/f,EAAEugK,MAAM7vJ,IAAK,YAAY7P,EAAE4iF,UAAUz3C,EAAG/rB,EAAGH,EAAGC,EAAGrP,EAAGiqB,EAAGhhB,EAAGtW,EAAG1C,KAE9GC,EAnEG,CAoENkd,EAAElD,SAEJha,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,IACNh6B,EAAIg6B,EAAE,GACN1a,EAAI,SAAUpf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,OAAQhG,EAG5C,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLxkJ,GAAI,EACJC,GAAI,EACJK,GAAI,EACJC,GAAI,EACJjP,UAAW,EACX6wJ,YAAY,EACZC,UAAU,IAEXrjK,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MACTnL,EAAIghB,EAAE9Y,GACN7hB,EAAI26B,EAAE7Y,GACNhE,EAAI6c,EAAExY,GACN9e,EAAIs3B,EAAEvY,GACNnC,EAAIxf,KAAKwhK,kBACb,QAASxhK,KAAKohK,aAAelhK,EAAEkT,KAAK8F,EAAG3Z,EAAG8d,EAAGza,EAAG4c,EAAGpf,EAAGD,IACrDA,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEghB,GACN8Y,EAAI95B,EAAEihB,GACNnI,EAAI9Y,EAAEshB,GACNniB,EAAIa,EAAEuhB,GACNtE,EAAIrd,KAAKwhK,kBACb,OAAO5+J,EAAEmQ,IAAI5S,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,IACxBld,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEihB,GACNlI,EAAI/Y,EAAEkhB,GACN9hB,EAAIY,EAAEuhB,GACNrE,EAAIld,EAAEwhB,IACTvhB,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAAaxiF,EAAE47C,OAAO9hB,EAAGhhB,GAAI9Y,EAAEsiK,OAAOnjK,EAAG8d,IACvEld,EAAEP,UAAUohK,UAAY,SAAU5gK,GACnC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEihB,GACNlI,EAAI/Y,EAAEkhB,GACN9hB,EAAIY,EAAEuhB,GACN9e,EAAIzC,EAAEwhB,GACVvhB,EAAIA,GAAKJ,KAAKid,IAAI,WAAY9c,EAAEojK,YAAclmJ,EAAE+lJ,cAAchjK,EAAGD,EAAGZ,EAAGqD,EAAGs3B,EAAGhhB,GAAI/Y,EAAEqjK,UAAYnmJ,EAAE8lJ,YAAY/iK,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAGqD,IAC3HzC,EAAEP,UAAUsvK,SAAW,SAAU9uK,GAClC,IAAID,EAAIH,KAAKqkB,MACb,MAAO,CACLzV,EAAGhM,EAAEkgK,GAAG3iK,EAAEihB,GAAIjhB,EAAEuhB,GAAIthB,GACpByO,EAAGjM,EAAEkgK,GAAG3iK,EAAEkhB,GAAIlhB,EAAEwhB,GAAIvhB,KAErBD,EApDG,CAqDNZ,EAAE4a,SAEJha,EAAEga,QAAUqF,GACX,SAAUpf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI0a,EAAE,GACN7a,EAAI6a,EAAE,IACN5a,EAAI4a,EAAE,IACNjqB,EAAIiqB,EAAE,IACNqR,EAAIrR,EAAE,GACN75B,EAAI,SAAUD,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,OAAQhG,EAG5D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLxpJ,KAAM,KACN1J,UAAW,EACX6wJ,YAAY,EACZC,UAAU,IAEXrjK,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KACJkZ,EAAIghB,EAAEjd,IAAI,YACVI,EAAI6c,EAAEinI,UACNv+J,EAAIs3B,EAAEknI,YAEV,SAASlhK,IACP,IAAKX,EAAEm5J,QAAQx/I,GAAI,CACjB,IAAK,IAAImE,EAAI6c,EAAEsnI,kBAAmB5+J,EAAI,EAAG1C,EAAIgZ,EAAEzZ,OAAQmD,EAAI1C,EAAG0C,IAC5D,GAAIsW,EAAEtW,GAAG6/J,SAASriK,EAAGD,EAAGkd,GAAI,OAAO,EAGrC,OAAO,GAIX,OAAOA,GAAKza,EAAIqN,EAAEkK,QAAQ/Z,EAAGD,EAAG+5B,IAAMh6B,IAAMmd,EAAIpN,EAAEkK,QAAQ/Z,EAAGD,EAAG+5B,KAAOt3B,GAAK1C,KAC3EC,EAAEP,UAAUytK,kBAAoB,SAAUjtK,GAC3C,GAAIb,EAAEugK,MAAM1/J,GAAI,OAAOJ,KAAKspB,UAAU,WAAY,WAAYtpB,KAAKspB,UAAU,WAAO,GACpF,IAAInpB,EACA+5B,EAAIh6B,EAAEkzD,UAAUhzD,GAChB8Y,EAAI,GAER,GAAI3Z,EAAEkjI,QAAQvoG,IAAM,IAAMA,EAAEz6B,SAAW,MAAQy6B,EAAE,GAAG,IAAM,MAAQA,EAAE,GAAG,IAAK,CAC1E,IAAK,IAAI7c,EAAI6c,EAAEz6B,OAAQ+f,EAAI,EAAGA,EAAI0a,EAAEz6B,OAAQ+f,IAAK,CAC/C,IAAIH,EAAI6a,EAAE1a,GACVrf,EAAI,IAAIyC,EAAEuX,QAAQkF,EAAGlf,EAAGqf,IAAMnC,EAAI,GAAInE,EAAE1I,KAAKrQ,GAG/CH,KAAKspB,UAAU,WAAYpQ,GAAIlZ,KAAKspB,UAAU,SAAU,MAAOtpB,KAAKspB,UAAU,MAAO,QAEtFnpB,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKid,IAAI,YACjB,IAAK7c,EAAG,OAAO,KACf,IAAID,EAAIH,KAAKwhK,kBACTtnI,EAAI,IACJhhB,GAAI,IACJmE,EAAI,IACJza,GAAI,IACR,OAAOrD,EAAE+4J,KAAKl4J,GAAG,SAAUA,GACzBA,EAAE6oB,QAAQ9oB,GACV,IAAIZ,EAAIa,EAAE2S,IAEV,GAAIxT,EAAG,CACLA,EAAEqP,EAAIsrB,IAAMA,EAAI36B,EAAEqP,GAClB,IAAI1O,EAAIX,EAAEipB,KACVtoB,EAAIgZ,IAAMA,EAAIhZ,GAAIX,EAAEsP,EAAIwO,IAAMA,EAAI9d,EAAEsP,GACpC,IAAI2Q,EAAIjgB,EAAEmpB,KACVlJ,EAAI5c,IAAMA,EAAI4c,OAEd0a,IAAM,KAAS7c,IAAM,IAAQ,IAAIkuB,EAAEpxB,QAAQ,EAAG,EAAG,EAAG,GAAK,IAAIoxB,EAAEpxB,QAAQ+f,EAAG7c,EAAGnE,EAAIghB,EAAGt3B,EAAIya,IAC3Fld,EAAEP,UAAUuvK,WAAa,WAC1B,IAAI/uK,EACAD,EACA+5B,EACAhhB,EACAmE,EAAI,EACJza,EAAI,EACJ1C,EAAI,GACJsf,EAAIxf,KAAKkP,IAAIkgK,MACjB5vJ,IAAMjgB,EAAE+4J,KAAK94I,GAAG,SAAUpf,EAAGD,GAC3B+5B,EAAI1a,EAAErf,EAAI,GAAI+Y,EAAI9Y,EAAEX,OAAQy6B,IAAM7c,GAAKiC,EAAEzB,IAAIzd,EAAE8Y,EAAI,GAAI9Y,EAAE8Y,EAAI,GAAIghB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,QAC/F36B,EAAE+4J,KAAK94I,GAAG,SAAUjgB,EAAG8f,GACzB6a,EAAI1a,EAAEH,EAAI,GAAInG,EAAI3Z,EAAEE,OAAQy6B,KAAO95B,EAAI,IAAI,GAAKwC,EAAIya,EAAGld,EAAImf,EAAEzB,IAAIte,EAAE2Z,EAAI,GAAI3Z,EAAE2Z,EAAI,GAAIghB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAKt3B,GAAKzC,EAAGC,EAAE,GAAKwC,EAAIya,EAAGnd,EAAEsQ,KAAKpQ,OACrJJ,KAAKkP,IAAImgK,OAASnvK,IACrBC,EAAEP,UAAU0vK,gBAAkB,WAC/B,IAAIlvK,EAAIJ,KAAKqkB,MAAMjI,KACnBpc,KAAKkP,IAAIkgK,MAAQ/vJ,EAAE6E,YAAY9jB,IAC9BD,EAAEP,UAAU+uK,gBAAkB,WAC/B,IAAIvuK,EACAD,EACA+5B,EACAhhB,EACAmE,EAAIrd,KAAKid,IAAI,YACjB,GAAII,EAAE5d,OAAS,EAAG,GAAIW,EAAIid,EAAE,GAAGu7B,SAAUz4C,EAAIkd,EAAE,GAAGu7B,SAAU1e,EAAI7c,EAAE,GAAGmlJ,aAActpJ,EAAI,GAAI3Z,EAAEsgK,WAAW3lI,GAAI,CAC1G,IAAIt3B,EAAIs3B,IACRhhB,EAAE1I,KAAK,CAACpQ,EAAEwO,EAAIhM,EAAE,GAAIxC,EAAEyO,EAAIjM,EAAE,KAAMsW,EAAE1I,KAAK,CAACpQ,EAAEwO,EAAGxO,EAAEyO,SAC5CqK,EAAE1I,KAAK,CAACrQ,EAAEyO,EAAGzO,EAAE0O,IAAKqK,EAAE1I,KAAK,CAACpQ,EAAEwO,EAAGxO,EAAEyO,IAC1C,OAAOqK,GACN/Y,EAAEP,UAAUgvK,cAAgB,WAC7B,IAAIxuK,EACAD,EACA+5B,EACAhhB,EACAmE,EAAIrd,KAAKid,IAAI,YACbra,EAAIya,EAAE5d,OACV,GAAImD,EAAI,EAAG,GAAIxC,EAAIid,EAAEza,EAAI,GAAGg2C,SAAUz4C,EAAIkd,EAAEza,EAAI,GAAGg2C,SAAU1e,EAAI7c,EAAEza,EAAI,GAAG2/J,WAAYrpJ,EAAI,GAAI3Z,EAAEsgK,WAAW3lI,GAAI,CAC7G,IAAIh6B,EAAIg6B,IACRhhB,EAAE1I,KAAK,CAACrQ,EAAEyO,EAAI1O,EAAE,GAAIC,EAAE0O,EAAI3O,EAAE,KAAMgZ,EAAE1I,KAAK,CAACrQ,EAAEyO,EAAGzO,EAAE0O,SAC5CqK,EAAE1I,KAAK,CAACpQ,EAAEwO,EAAGxO,EAAEyO,IAAKqK,EAAE1I,KAAK,CAACrQ,EAAEyO,EAAGzO,EAAE0O,IAC1C,OAAOqK,GACN/Y,EAAEP,UAAUsvK,SAAW,SAAU9uK,GAClC,IAAID,EACA+5B,EACAhhB,EAAIlZ,KAAKkP,IAAImgK,OACjBn2J,IAAMlZ,KAAKsvK,kBAAmBtvK,KAAKmvK,aAAcj2J,EAAIlZ,KAAKkP,IAAImgK,QAC9D,IAAIhyJ,EAAIrd,KAAKkP,IAAIkgK,MACjB,IAAKl2J,EAAG,OAAOmE,EAAI,CACjBzO,EAAGyO,EAAE,GAAG,GACRxO,EAAGwO,EAAE,GAAG,IACN,KACJ9d,EAAE+4J,KAAKp/I,GAAG,SAAUA,EAAG3Z,GACrBa,GAAK8Y,EAAE,IAAM9Y,GAAK8Y,EAAE,KAAO/Y,GAAKC,EAAI8Y,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAAKghB,EAAI36B,MAEjE,IAAIqD,EAAIya,EAAE6c,GACV,GAAI36B,EAAEugK,MAAMl9J,IAAMrD,EAAEugK,MAAM5lI,GAAI,OAAO,KACrC,IAAIh6B,EAAI0C,EAAEnD,OACN+f,EAAInC,EAAE6c,EAAI,GACd,MAAO,CACLtrB,EAAG0Q,EAAEwjJ,GAAGlgK,EAAE1C,EAAI,GAAIsf,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,EAAIrf,GACxC0O,EAAGyQ,EAAEwjJ,GAAGlgK,EAAE1C,EAAI,GAAIsf,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,EAAIrf,KAEzCA,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKid,IAAI,YAEjB,GAAI1d,EAAEkjI,QAAQtiI,GAAI,EACfC,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAE/B,IAAK,IAAI1oD,EAAI/5B,EAAEV,OAAQyZ,EAAI,EAAGA,EAAIghB,EAAGhhB,IACnC/Y,EAAE+Y,GAAGpJ,KAAK1P,KAGbD,EAAEP,UAAUohK,UAAY,SAAU5gK,GACnC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAIl6B,KAAKid,IAAI,YACb/D,EAAI/Y,EAAEic,KAEV,GAAIhc,EAAIA,GAAKJ,KAAKid,IAAI,WAAY1d,EAAEkjI,QAAQvoG,IAAM,IAAMA,EAAEz6B,SAAWU,EAAEojK,YAAcpjK,EAAEqjK,WAAa,MAAQtqJ,EAAEA,EAAEzZ,OAAS,IAAM,MAAQyZ,EAAEA,EAAEzZ,OAAS,KAAOU,EAAEwS,KAAM,CACjK,IAAI0K,EAAIrd,KAAK2uK,kBACbnvJ,EAAE4jJ,cAAchjK,EAAGD,EAAGkd,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,IACtD,IAAIza,EAAI5C,KAAK4uK,gBACbpvJ,EAAE2jJ,YAAY/iK,EAAGD,EAAGyC,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,MAErDzC,EAlJG,CAmJNkd,EAAElD,SAEJha,EAAEga,QAAU9Z,GACX,SAAUD,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,GACN7a,EAAI,SAAUjf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,UAAWhG,EAG/D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLt9I,OAAQ,KACR5V,UAAW,IAEZvS,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KACJkZ,EAAIghB,EAAEinI,UACN5hK,EAAI26B,EAAEknI,YAEV,SAAS/jJ,IACP,IAAInE,EAAIghB,EAAE7V,MAAMiE,OAChB,GAAIpP,EAAEzZ,OAAS,EAAG,OAAO,EACzB,IAAIF,EAAI26B,EAAEsnI,kBACNnkJ,EAAInE,EAAEoM,MAAM,GAChB,OAAOpM,EAAEzZ,QAAU,GAAK4d,EAAE7M,KAAK0I,EAAE,IAAKtW,EAAEo/J,SAAS3kJ,EAAG9d,EAAGa,EAAGD,GAG5D,OAAO+Y,GAAK3Z,EAAIW,EAAEia,QAAQ/Z,EAAGD,EAAG+5B,IAAM7c,IAAMnE,EAAIhZ,EAAEia,QAAQ/Z,EAAGD,EAAG+5B,KAAO36B,GAAK8d,KAC3Eld,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MAAMiE,OACfnoB,EAAIH,KAAKwhK,kBACb,IAAKphK,GAAK,IAAMA,EAAEX,OAAQ,OAAO,KACjC,IAAIy6B,EAAI,IACJhhB,EAAI,IACJmE,GAAI,IACJza,GAAI,IACRrD,EAAE+4J,KAAKl4J,GAAG,SAAUA,GAClB,IAAID,EAAIC,EAAE,GACNb,EAAIa,EAAE,GACVD,EAAI+5B,IAAMA,EAAI/5B,GAAIA,EAAIkd,IAAMA,EAAIld,GAAIZ,EAAI2Z,IAAMA,EAAI3Z,GAAIA,EAAIqD,IAAMA,EAAIrD,MAEtE,IAAIW,EAAIC,EAAI,EACZ,OAAOqf,EAAErF,QAAQ41C,UAAU71B,EAAIh6B,EAAGgZ,EAAIhZ,EAAGmd,EAAInd,EAAG0C,EAAI1C,IACnDC,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MAAMiE,OACnBnoB,EAAEV,OAAS,KAAOW,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAAarjF,EAAE+4J,KAAKn4J,GAAG,SAAUA,EAAG+5B,GAClF,IAAMA,EAAI95B,EAAE47C,OAAO77C,EAAE,GAAIA,EAAE,IAAMC,EAAEsiK,OAAOviK,EAAE,GAAIA,EAAE,OAChDC,EAAEyiF,cACL1iF,EA7CG,CA8CNkd,EAAElD,SAEJha,EAAEga,QAAUkF,GACX,SAAUjf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,GACN7a,EAAI6a,EAAE,GACN5a,EAAI,SAAUlf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,WAAYhG,EAAEkvK,OAAS,KAAMlvK,EAGjE,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLt9I,OAAQ,KACR5V,UAAW,EACX6wJ,YAAY,EACZC,UAAU,EACV6L,OAAQ,OAETlvK,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKqkB,MAEb,GAAIrkB,KAAKohK,YAAa,CACpB,IAAIloJ,EAAIghB,EAAE5R,OACV,GAAIpP,EAAEzZ,OAAS,EAAG,OAAO,EACzB,IAAIF,EAAI26B,EAAExnB,UACV,OAAO8M,EAAEwiJ,SAAS9oJ,EAAG3Z,EAAGa,EAAGD,GAG7B,OAAO,GACNA,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIH,KAAKwhK,kBACTtnI,EAAI95B,EAAEkoB,OACV,IAAK4R,GAAK,IAAMA,EAAEz6B,OAAQ,OAAO,KACjC,IAAIyZ,EAAI,IACJmE,EAAI,IACJza,GAAI,IACJ1C,GAAI,IACRX,EAAE+4J,KAAKp+H,GAAG,SAAU95B,GAClB,IAAID,EAAIC,EAAE,GACN85B,EAAI95B,EAAE,GACVD,EAAI+Y,IAAMA,EAAI/Y,GAAIA,EAAIyC,IAAMA,EAAIzC,GAAI+5B,EAAI7c,IAAMA,EAAI6c,GAAIA,EAAIh6B,IAAMA,EAAIg6B,MAEtE,IAAI1a,EAAIrf,EAAI,EACZ,OAAOkf,EAAElF,QAAQ41C,UAAU72C,EAAIsG,EAAGnC,EAAImC,EAAG5c,EAAI4c,EAAGtf,EAAIsf,IACnDrf,EAAEP,UAAUuvK,WAAa,WAC1B,IAAI/uK,EACAD,EACA+5B,EAAIl6B,KAAKqkB,MAAMiE,OACfpP,EAAI,EACJmE,EAAI,EACJza,EAAI,GACRs3B,GAAK,IAAMA,EAAEz6B,SAAWF,EAAE+4J,KAAKp+H,GAAG,SAAU95B,EAAGD,GAC7C+5B,EAAE/5B,EAAI,KAAO+Y,GAAKhZ,EAAE2d,IAAIzd,EAAE,GAAIA,EAAE,GAAI85B,EAAE/5B,EAAI,GAAG,GAAI+5B,EAAE/5B,EAAI,GAAG,QACxD+Y,GAAK,IAAM3Z,EAAE+4J,KAAKp+H,GAAG,SAAU36B,EAAGigB,GACpC0a,EAAE1a,EAAI,MAAQpf,EAAI,IAAI,GAAKid,EAAInE,EAAG/Y,EAAID,EAAE2d,IAAIte,EAAE,GAAIA,EAAE,GAAI26B,EAAE1a,EAAI,GAAG,GAAI0a,EAAE1a,EAAI,GAAG,IAAKnC,GAAKld,EAAGC,EAAE,GAAKid,EAAInE,EAAGtW,EAAE4N,KAAKpQ,OAC9GJ,KAAKqvK,OAASzsK,KACjBzC,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EACA+5B,EACAhhB,EAAIlZ,KAAKqkB,MAAMiE,OAEnB,KAAMpP,EAAEzZ,OAAS,GAAI,CACnB,KAAMW,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAAaxiF,EAAE47C,OAAO9iC,EAAE,GAAG,GAAIA,EAAE,GAAG,IAAKghB,EAAI,EAAG/5B,EAAI+Y,EAAEzZ,OAAS,EAAGy6B,EAAI/5B,EAAG+5B,IAC3G95B,EAAEsiK,OAAOxpJ,EAAEghB,GAAG,GAAIhhB,EAAEghB,GAAG,IAGzB95B,EAAEsiK,OAAOxpJ,EAAE/Y,GAAG,GAAI+Y,EAAE/Y,GAAG,MAExBA,EAAEP,UAAU+uK,gBAAkB,WAC/B,IAAIvuK,EAAIJ,KAAKqkB,MAAMiE,OACfnoB,EAAI,GACR,OAAOA,EAAEqQ,KAAK,CAACpQ,EAAE,GAAG,GAAIA,EAAE,GAAG,KAAMD,EAAEqQ,KAAK,CAACpQ,EAAE,GAAG,GAAIA,EAAE,GAAG,KAAMD,GAC9DA,EAAEP,UAAUgvK,cAAgB,WAC7B,IAAIxuK,EAAIJ,KAAKqkB,MAAMiE,OACfnoB,EAAIC,EAAEX,OAAS,EACfy6B,EAAI,GACR,OAAOA,EAAE1pB,KAAK,CAACpQ,EAAED,EAAI,GAAG,GAAIC,EAAED,EAAI,GAAG,KAAM+5B,EAAE1pB,KAAK,CAACpQ,EAAED,GAAG,GAAIC,EAAED,GAAG,KAAM+5B,GACtE/5B,EAAEP,UAAUohK,UAAY,SAAU5gK,GACnC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEmoB,OACNpP,EAAIghB,EAAEz6B,OAAS,EACnBW,EAAIA,GAAKJ,KAAKid,IAAI,WAAY9c,EAAEojK,YAAc3gK,EAAEwgK,cAAchjK,EAAGD,EAAG+5B,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAIA,EAAE,GAAG,IAAK/5B,EAAEqjK,UAAY5gK,EAAEugK,YAAY/iK,EAAGD,EAAG+5B,EAAEhhB,EAAI,GAAG,GAAIghB,EAAEhhB,EAAI,GAAG,GAAIghB,EAAEhhB,GAAG,GAAIghB,EAAEhhB,GAAG,KAClL/Y,EAAEP,UAAUsvK,SAAW,SAAU9uK,GAClC,IAAID,EACA+5B,EACAhhB,EAAIlZ,KAAKqkB,MAAMiE,OACfjL,EAAIrd,KAAKqvK,OACb,OAAOhyJ,IAAMrd,KAAKmvK,aAAc9xJ,EAAIrd,KAAKqvK,QAAS9vK,EAAE+4J,KAAKj7I,GAAG,SAAUnE,EAAG3Z,GACvEa,GAAK8Y,EAAE,IAAM9Y,GAAK8Y,EAAE,KAAO/Y,GAAKC,EAAI8Y,EAAE,KAAOA,EAAE,GAAKA,EAAE,IAAKghB,EAAI36B,MAC7D,CACFqP,EAAG1O,EAAE4iK,GAAG5pJ,EAAEghB,GAAG,GAAIhhB,EAAEghB,EAAI,GAAG,GAAI/5B,GAC9B0O,EAAG3O,EAAE4iK,GAAG5pJ,EAAEghB,GAAG,GAAIhhB,EAAEghB,EAAI,GAAG,GAAI/5B,KAE/BA,EA1FG,CA2FNkd,EAAElD,SAEJha,EAAEga,QAAUmF,GACX,SAAUlf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,IACN1a,EAAI0a,EAAE,GACN7a,EAAI,SAAUjf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,OAAQhG,EAG5D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACHrK,MAAO,EACPsK,OAAQ,EACR0E,OAAQ,EACRd,UAAW,IAEZvS,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KACJkZ,EAAIghB,EAAEinI,UACN5hK,EAAI26B,EAAEknI,YAEV,SAAS/jJ,IACP,IAAInE,EAAIghB,EAAE7V,MACN9kB,EAAI2Z,EAAEtK,EACNyO,EAAInE,EAAErK,EACN3O,EAAIgZ,EAAE1U,MACNgb,EAAItG,EAAEpK,OACNuQ,EAAInG,EAAE1F,OACN8L,EAAI4a,EAAEsnI,kBAEV,GAAI,IAAMniJ,EAAG,CACX,IAAIpP,EAAIqP,EAAI,EACZ,OAAO1c,EAAEwQ,KAAK7T,EAAI0Q,EAAGoN,EAAG9d,EAAIW,EAAI+P,EAAGoN,EAAGiC,EAAGlf,EAAGD,IAAMyC,EAAEwQ,KAAK7T,EAAIW,EAAGmd,EAAIpN,EAAG1Q,EAAIW,EAAGmd,EAAImC,EAAIvP,EAAGqP,EAAGlf,EAAGD,IAAMyC,EAAEwQ,KAAK7T,EAAIW,EAAI+P,EAAGoN,EAAImC,EAAGjgB,EAAI0Q,EAAGoN,EAAImC,EAAGF,EAAGlf,EAAGD,IAAMyC,EAAEwQ,KAAK7T,EAAG8d,EAAImC,EAAIvP,EAAG1Q,EAAG8d,EAAIpN,EAAGqP,EAAGlf,EAAGD,GAG/L,OAAOyC,EAAEwQ,KAAK7T,EAAI8f,EAAGhC,EAAG9d,EAAIW,EAAImf,EAAGhC,EAAGiC,EAAGlf,EAAGD,IAAMyC,EAAEwQ,KAAK7T,EAAIW,EAAGmd,EAAIgC,EAAG9f,EAAIW,EAAGmd,EAAImC,EAAIH,EAAGC,EAAGlf,EAAGD,IAAMyC,EAAEwQ,KAAK7T,EAAIW,EAAImf,EAAGhC,EAAImC,EAAGjgB,EAAI8f,EAAGhC,EAAImC,EAAGF,EAAGlf,EAAGD,IAAMyC,EAAEwQ,KAAK7T,EAAG8d,EAAImC,EAAIH,EAAG9f,EAAG8d,EAAIgC,EAAGC,EAAGlf,EAAGD,IAAMyC,EAAEi/J,QAAQtiK,EAAIW,EAAImf,EAAGhC,EAAIgC,EAAGA,EAAG,IAAMnB,KAAKK,GAAI,EAAIL,KAAKK,IAAI,EAAIe,EAAGlf,EAAGD,IAAMyC,EAAEi/J,QAAQtiK,EAAIW,EAAImf,EAAGhC,EAAImC,EAAIH,EAAGA,EAAG,EAAG,GAAKnB,KAAKK,IAAI,EAAIe,EAAGlf,EAAGD,IAAMyC,EAAEi/J,QAAQtiK,EAAI8f,EAAGhC,EAAImC,EAAIH,EAAGA,EAAG,GAAKnB,KAAKK,GAAIL,KAAKK,IAAI,EAAIe,EAAGlf,EAAGD,IAAMyC,EAAEi/J,QAAQtiK,EAAI8f,EAAGhC,EAAIgC,EAAGA,EAAGnB,KAAKK,GAAI,IAAML,KAAKK,IAAI,EAAIe,EAAGlf,EAAGD,GAGvd,OAAO+Y,GAAK3Z,EAAIW,EAAEia,QAAQ/Z,EAAGD,EAAG+5B,IAAM7c,IAAMnE,EAAIhZ,EAAEia,QAAQ/Z,EAAGD,EAAG+5B,KAAO36B,GAAK8d,KAC3Eld,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEwO,EACNsrB,EAAI95B,EAAEyO,EACNqK,EAAI9Y,EAAEoE,MACNjF,EAAIa,EAAE0O,OACNuO,EAAIrd,KAAKwhK,kBAAoB,EACjC,OAAOhiJ,EAAErF,QAAQ41C,UAAU5vD,EAAIkd,EAAG6c,EAAI7c,EAAGld,EAAI+Y,EAAImE,EAAG6c,EAAI36B,EAAI8d,IAC3Dld,EAAEP,UAAUmhK,WAAa,SAAU3gK,GACpC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEyO,EACNsK,EAAI/Y,EAAE0O,EACNtP,EAAIY,EAAEqE,MACN5B,EAAIzC,EAAE2O,OACN5O,EAAIC,EAAEqT,OACV,IAAKpT,EAAIA,GAAKJ,KAAKid,IAAI,YAAY2lE,YAAa,IAAM1iF,EAAGE,EAAEqa,KAAKyf,EAAGhhB,EAAG3Z,EAAGqD,OAAQ,CAC/E,IAAI4c,EAAInC,EAAE89I,YAAYj7J,GACtBE,EAAE47C,OAAO9hB,EAAI1a,EAAE6vI,GAAIn2I,GAAI9Y,EAAEsiK,OAAOxoI,EAAI36B,EAAIigB,EAAE+iE,GAAIrpE,GAAI,IAAMsG,EAAE+iE,IAAMniF,EAAEoa,IAAI0f,EAAI36B,EAAIigB,EAAE+iE,GAAIrpE,EAAIsG,EAAE+iE,GAAI/iE,EAAE+iE,IAAKrkE,KAAKK,GAAK,EAAG,GAAIne,EAAEsiK,OAAOxoI,EAAI36B,EAAG2Z,EAAItW,EAAI4c,EAAE8vI,IAAK,IAAM9vI,EAAE8vI,IAAMlvJ,EAAEoa,IAAI0f,EAAI36B,EAAIigB,EAAE8vI,GAAIp2I,EAAItW,EAAI4c,EAAE8vI,GAAI9vI,EAAE8vI,GAAI,EAAGpxI,KAAKK,GAAK,GAAIne,EAAEsiK,OAAOxoI,EAAI1a,EAAE+vI,GAAIr2I,EAAItW,GAAI,IAAM4c,EAAE+vI,IAAMnvJ,EAAEoa,IAAI0f,EAAI1a,EAAE+vI,GAAIr2I,EAAItW,EAAI4c,EAAE+vI,GAAI/vI,EAAE+vI,GAAIrxI,KAAKK,GAAK,EAAGL,KAAKK,IAAKne,EAAEsiK,OAAOxoI,EAAGhhB,EAAIsG,EAAE6vI,IAAK,IAAM7vI,EAAE6vI,IAAMjvJ,EAAEoa,IAAI0f,EAAI1a,EAAE6vI,GAAIn2I,EAAIsG,EAAE6vI,GAAI7vI,EAAE6vI,GAAInxI,KAAKK,GAAI,IAAML,KAAKK,IAAKne,EAAEyiF,cAEja1iF,EAzDG,CA0DNZ,EAAE4a,SAEJha,EAAEga,QAAUkF,GACX,SAAUjf,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,IAGT,IAAIsY,EAAIghB,EAAE,GACN36B,EAAI26B,EAAE,GACN7c,EAAI6c,EAAE,GACNt3B,EAAIs3B,EAAE,GACNh6B,EAAIg6B,EAAE,GACN1a,EAAI,SAAUpf,GAChB,SAASD,IACP,IAAIA,EAAI,OAASC,GAAKA,EAAEL,MAAMC,KAAMR,YAAcQ,KAClD,OAAOG,EAAEsrC,SAAU,EAAItrC,EAAEwlK,WAAY,EAAIxlK,EAAEgG,KAAO,OAAQhG,EAG5D,OAAO+Y,EAAEo5I,UAAUnyJ,EAAGC,GAAID,EAAEP,UAAUgmK,gBAAkB,WACtD,MAAO,CACLh3J,EAAG,EACHC,EAAG,EACH6E,KAAM,KACNwB,WAAY,EACZxC,UAAW,EACX68J,UAAW,EACXz6J,SAAU,GACVC,WAAY,aACZgC,UAAW,SACX41C,WAAY,SACZ8iE,YAAa,SACb97G,UAAW,QACXC,aAAc,SACd47J,QAAS,OAEVrvK,EAAEP,UAAUqhK,cAAgB,SAAU7gK,EAAGD,GAC1C,IAAI+5B,EAAIl6B,KAAKipB,UACb,GAAIjpB,KAAKmhK,WAAanhK,KAAKohK,YAAa,OAAOx+J,EAAEmQ,IAAImnB,EAAEtrB,EAAGsrB,EAAE1R,KAAM0R,EAAEzR,KAAMyR,EAAExR,KAAMtoB,EAAGD,IACpFA,EAAEP,UAAU8jK,cAAgB,WAC7B,IAAItjK,EAAIJ,KAAKqkB,MAAMvP,SACnB1U,IAAMA,EAAI,IAAMJ,KAAK6P,UAAU,CAAC,CAAC,KAAM,EAAI7P,KAAKqkB,MAAMzV,GAAI,EAAI5O,KAAKqkB,MAAMxV,GAAI,CAAC,KAAMzO,EAAI,IAAKA,EAAI,IAAK,CAAC,IAAKJ,KAAKqkB,MAAMzV,EAAG5O,KAAKqkB,MAAMxV,MACpI1O,EAAEP,UAAU6vK,cAAgB,WAC7B,IAAIrvK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAE0U,SACNolB,EAAI95B,EAAE2U,WACNmE,EAAI9Y,EAAEusD,WACNptD,EAAIa,EAAE2W,UACNsG,EAAIjd,EAAEqvH,YACVrvH,EAAEovH,KAAO,CAACjwH,EAAG8d,EAAGnE,EAAG/Y,EAAI,KAAM+5B,GAAGtW,KAAK,MACpCzjB,EAAEP,UAAU8vK,aAAe,WAC5B,IAAItvK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEsT,KACNwmB,EAAI,KAER,GAAI36B,EAAEghK,SAASpgK,KAAO,IAAMA,EAAEG,QAAQ,MAAO,CAC3C,IAAI4Y,GAAKghB,EAAI/5B,EAAE0jB,MAAM,OAAOpkB,OAC5BW,EAAEmvK,UAAYr2J,EAGhB9Y,EAAEovK,QAAUt1I,GACX/5B,EAAEP,UAAU+vK,eAAiB,WAC9B,IAAIvvK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAEmvK,UACNr1I,EAAI,EAAI95B,EAAE0U,SACd,OAAO3U,EAAI,EAAI+5B,EAAI/5B,EAAIH,KAAK4vK,iBAAmBzvK,EAAI,GAAK+5B,GACvD/5B,EAAEP,UAAUyhK,SAAW,WACxB,OAAO,GACNlhK,EAAEP,UAAU2hK,aAAe,WAC5B,IAAInhK,EAAIJ,KAAKqkB,MACTlkB,EAAIH,KAAKkP,IACb/O,EAAEkkB,QAAUlkB,EAAE2lK,YAAc9lK,KAAKyvK,gBAAiBzvK,KAAK0vK,gBAAiBtvK,EAAEovK,SAAWxvK,KAAK0vK,eAC1F,IAAIx1I,EAAI95B,EAAEwO,EACNsK,EAAI9Y,EAAEyO,EACNtP,EAAIS,KAAK0vH,cACb,IAAKnwH,EAAG,OAAO,IAAIW,EAAEia,QAAQ+f,EAAGhhB,EAAG,EAAG,GAEtC,IAAImE,EAAIrd,KAAK2vK,iBACT/sK,EAAIxC,EAAEuT,UACN6L,EAAIpf,EAAEwT,aACNyL,EAAIrf,KAAKwhK,kBACTliJ,EAAI,CACN1Q,EAAGsrB,EACHrrB,EAAGqK,EAAImE,GAGTza,IAAM,QAAUA,GAAK,UAAYA,EAAI0c,EAAE1Q,GAAKrP,EAAI,WAAaqD,IAAM0c,EAAE1Q,GAAKrP,EAAI,IAAKigB,IAAM,QAAUA,EAAIF,EAAEzQ,GAAKwO,EAAI,WAAamC,IAAMF,EAAEzQ,GAAKwO,EAAI,IAAKrd,KAAKqQ,IAAI,aAAciP,GAC5K,IAAIrP,EAAIoP,EAAI,EACZ,OAAOnf,EAAEia,QAAQ41C,UAAUzwC,EAAE1Q,EAAIqB,EAAGqP,EAAEzQ,EAAIoB,EAAGqP,EAAE1Q,EAAIrP,EAAI0Q,EAAGqP,EAAEzQ,EAAIwO,EAAIpN,IACnE9P,EAAEP,UAAUgwK,cAAgB,WAC7B,IAAIxvK,EAAIJ,KAAKqkB,MACTlkB,EAAIC,EAAE8U,WACNglB,EAAI,EAAI95B,EAAE0U,SACd,OAAO3U,EAAIA,EAAI+5B,EAAI,IAAMA,GACxB/5B,EAAEP,UAAUshK,UAAY,SAAU9gK,GACnC,IAAID,EAAIH,KAAKqkB,MACT6V,EAAIl6B,KAAKkP,IACbgrB,EAAE7V,QAAU6V,EAAE4rI,YAAc9lK,KAAKyvK,gBAAiBzvK,KAAK0vK,gBAAiBtvK,EAAEovH,KAAOrvH,EAAEqvH,KACnF,IAAIt2G,EAAI/Y,EAAEuT,KAEV,IAAKnU,EAAEugK,MAAM5mJ,GAAI,CACf,IAAImE,EAAIld,EAAEqvK,QACN5sK,EAAIzC,EAAEyO,EACN1O,EAAIC,EAAE0O,EACN2Q,EAAIrf,EAAEm7C,SAEV,GAAIl7C,EAAEwiF,YAAa5iF,KAAKohK,YAAa,CACnC,IAAI/hJ,EAAIlf,EAAE2T,cACVvU,EAAEugK,MAAMzgJ,IAAM,IAAMA,IAAMjf,EAAE2iF,YAAc1jE,GAAIhC,EAAIrd,KAAK6vK,aAAazvK,GAAG,GAAMb,EAAEugK,MAAMtgJ,GAAKpf,EAAE0vK,WAAW52J,EAAGtW,EAAG1C,GAAKE,EAAE0vK,WAAW52J,EAAGtW,EAAG1C,EAAGsf,GAAIpf,EAAE2iF,YAAc,EAG9J,GAAI/iF,KAAKmhK,UAAW,CAClB,IAAI7hJ,EAAInf,EAAEyS,YACVrT,EAAEugK,MAAMxgJ,IAAM,IAAMA,IAAMlf,EAAE2iF,YAAczjE,GAAIjC,EAAIrd,KAAK6vK,aAAazvK,GAAG,GAAMb,EAAEugK,MAAMtgJ,GAAKpf,EAAEm2I,SAASr9H,EAAGtW,EAAG1C,GAAKE,EAAEm2I,SAASr9H,EAAGtW,EAAG1C,EAAGsf,GAGtI0a,EAAE4rI,WAAY,IAEf3lK,EAAEP,UAAUiwK,aAAe,SAAUzvK,EAAGD,GACzC,IAAI+5B,EACAhhB,EAAIlZ,KAAKqkB,MAAMmrJ,QACfnyJ,EAAIrd,KAAKqkB,MAAMzQ,aACfhR,EAAI,EAAI5C,KAAKqkB,MAAMvP,SACnB5U,EAAIF,KAAK4vK,gBACTpwJ,EAAIxf,KAAKqkB,MAAMzV,EACfyQ,EAAIrf,KAAKqkB,MAAMxV,EACfyQ,EAAItf,KAAKqkB,MAAMi3B,SACfrrC,EAAIjQ,KAAKipB,UACTsiB,EAAIt7B,EAAEyY,KAAOzY,EAAEwY,KAEnBlpB,EAAE+4J,KAAKp/I,GAAG,SAAUA,EAAGjJ,GACrBiqB,EAAI7a,EAAIpP,GAAK/P,EAAI0C,GAAK2oC,EAAI3oC,EAAG,WAAaya,IAAM6c,GAAKqR,EAAI3oC,GAAK2oC,EAAI3oC,GAAK,GAAI,QAAUya,IAAM6c,GAAKqR,EAAI3oC,GAAIzC,EAAIZ,EAAEugK,MAAMxgJ,GAAKlf,EAAEm2I,SAASr9H,EAAGsG,EAAG0a,GAAK95B,EAAEm2I,SAASr9H,EAAGsG,EAAG0a,EAAG5a,GAAK/f,EAAEugK,MAAMxgJ,GAAKlf,EAAE0vK,WAAW52J,EAAGsG,EAAG0a,GAAK95B,EAAE0vK,WAAW52J,EAAGsG,EAAG0a,EAAG5a,OAEpOnf,EAAEP,UAAU8vH,YAAc,WAC3B,IAAItvH,EACAD,EAAIH,KAAKqkB,MACT6V,EAAI/5B,EAAEuT,KACNwF,EAAI/Y,EAAEqvH,KACNnyG,EAAIld,EAAEqvK,QACN5sK,EAAI,EAER,IAAKrD,EAAEugK,MAAM5lI,GAAI,CACf,IAAIh6B,EAAIoyC,SAASgwC,cAAc,UAAUG,WAAW,MACpD,OAAOviF,EAAEs7I,OAAQt7I,EAAEsvH,KAAOt2G,EAAGmE,EAAI9d,EAAE+4J,KAAKj7I,GAAG,SAAUld,GACnDC,EAAIF,EAAEwvH,YAAYvvH,GAAGqE,MAAO5B,EAAIxC,IAAMwC,EAAIxC,GAAIF,EAAEy7I,cAC5C/4I,EAAI1C,EAAEwvH,YAAYx1F,GAAG11B,MAAOtE,EAAEy7I,WAAYp8I,EAAEugK,MAAM3/J,EAAEm7C,YAAc14C,EAAIsb,KAAKuR,IAAItvB,EAAEm7C,SAAU14C,IAAKA,IAEvGzC,EAtIG,CAuINkd,EAAElD,SAEJha,EAAEga,QAAUqF,GACX,SAAUpf,GACXA,EAAEm0J,QAAUwb,KAAKx6I,MAAM,u6EACtB,SAAUn1B,EAAGD,EAAG+5B,GACjB,aAEA96B,OAAOkC,eAAenB,EAAG,aAAc,CACrCS,OAAO,KAER,SAAUR,EAAGD,EAAG+5B,GACjB,aAEAA,EAAEhhB,EAAE/Y,GAAI+5B,EAAEtb,EAAEze,EAAG,eAAe,WAC5B,OAAOqrC,MACLtR,EAAEtb,EAAEze,EAAG,oBAAoB,WAC7B,OAAOqkB,KACL0V,EAAEtb,EAAEze,EAAG,oBAAoB,WAC7B,OAAO62J,KACL98H,EAAEtb,EAAEze,EAAG,0BAA0B,WACnC,OAAO82J,KACL/8H,EAAEtb,EAAEze,EAAG,mBAAmB,WAC5B,OAAOwe,KACLub,EAAEtb,EAAEze,EAAG,qBAAqB,WAC9B,OAAOklB,KACL6U,EAAEtb,EAAEze,EAAG,qBAAqB,WAC9B,OAAO6vK,KACL91I,EAAEtb,EAAEze,EAAG,oBAAoB,WAC7B,OAAOo6B,MACLL,EAAEtb,EAAEze,EAAG,qBAAqB,WAC9B,OAAO8vK,MACL/1I,EAAEtb,EAAEze,EAAG,2BAA2B,WACpC,OAAO+vK,MACLh2I,EAAEtb,EAAEze,EAAG,2BAA2B,WACpC,OAAOgwK,MACLj2I,EAAEtb,EAAEze,EAAG,mBAAmB,WAC5B,OAAOiwK,MACLl2I,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAOsjH,KACLvpF,EAAEtb,EAAEze,EAAG,uBAAuB,WAChC,OAAO6yB,KACLkH,EAAEtb,EAAEze,EAAG,6BAA6B,WACtC,OAAOkwK,KACLn2I,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAOmwK,MACLp2I,EAAEtb,EAAEze,EAAG,sBAAsB,WAC/B,OAAOowK,MACLr2I,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAOqwK,MACLt2I,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAOswK,MACLv2I,EAAEtb,EAAEze,EAAG,sBAAsB,WAC/B,OAAOuwK,MACLx2I,EAAEtb,EAAEze,EAAG,wBAAwB,WACjC,OAAOwwK,MACLz2I,EAAEtb,EAAEze,EAAG,4BAA4B,WACrC,OAAOywK,MACL12I,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAO0wK,MAGT,IAAI33J,EAAI,SAAW9Y,EAAGD,EAAG+5B,GACvB95B,EAAER,UAAYO,EAAEP,UAAYs6B,EAAGA,EAAE93B,YAAchC,GAGjD,SAASb,EAAEa,EAAGD,GACZ,IAAI+5B,EAAI96B,OAAOwF,OAAOxE,EAAER,WAExB,IAAK,IAAIsZ,KAAK/Y,EACZ+5B,EAAEhhB,GAAK/Y,EAAE+Y,GAGX,OAAOghB,EAGT,SAAS7c,KAET,IAAIza,EAAI,sBACJ1C,EAAI,gDACJsf,EAAI,iDACJH,EAAI,qBACJC,EAAI,IAAIN,OAAO,UAAY,CAACpc,EAAGA,EAAGA,GAAK,QACvCqN,EAAI,IAAI+O,OAAO,UAAY,CAACQ,EAAGA,EAAGA,GAAK,QACvC+rB,EAAI,IAAIvsB,OAAO,WAAa,CAACpc,EAAGA,EAAGA,EAAG1C,GAAK,QAC3CG,EAAI,IAAI2e,OAAO,WAAa,CAACQ,EAAGA,EAAGA,EAAGtf,GAAK,QAC3C0e,EAAI,IAAII,OAAO,UAAY,CAAC9e,EAAGsf,EAAGA,GAAK,QACvClC,EAAI,IAAI0B,OAAO,WAAa,CAAC9e,EAAGsf,EAAGA,EAAGtf,GAAK,QAC3C2O,EAAI,CACNiiK,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACX72D,KAAM,QACN82D,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXj2J,IAAK,SACLk2J,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAGf,SAASp+I,IACP,OAAO37B,KAAKo9G,MAAM48D,YAGpB,SAASprK,IACP,OAAO5O,KAAKo9G,MAAM68D,YAGpB,SAASr8J,EAAExd,GACT,IAAID,EAAG+5B,EACP,OAAO95B,GAAKA,EAAI,IAAI+oF,OAAO72E,eAAgBnS,EAAIkf,EAAE+lJ,KAAKhlK,KAAO85B,EAAI/5B,EAAE,GAAGV,OAAQU,EAAI4zB,SAAS5zB,EAAE,GAAI,IAAK,IAAM+5B,EAAIta,EAAEzf,GAAK,IAAM+5B,EAAI,IAAIq5H,EAAEpzJ,GAAK,EAAI,GAAKA,GAAK,EAAI,IAAKA,GAAK,EAAI,GAAK,IAAMA,GAAI,GAAKA,IAAM,EAAI,GAAKA,EAAG,GAAK,IAAM+5B,EAAI5H,EAAEnyB,GAAK,GAAK,IAAKA,GAAK,GAAK,IAAKA,GAAK,EAAI,KAAM,IAAMA,GAAK,KAAO,IAAM+5B,EAAI5H,EAAEnyB,GAAK,GAAK,GAAKA,GAAK,EAAI,IAAKA,GAAK,EAAI,GAAKA,GAAK,EAAI,IAAKA,GAAK,EAAI,GAAK,IAAMA,IAAK,GAAKA,IAAM,EAAI,GAAKA,GAAK,KAAO,OAASA,EAAImf,EAAE8lJ,KAAKhlK,IAAM,IAAImzJ,EAAEpzJ,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAAMA,EAAI8P,EAAEm1J,KAAKhlK,IAAM,IAAImzJ,EAAE,IAAMpzJ,EAAE,GAAK,IAAK,IAAMA,EAAE,GAAK,IAAK,IAAMA,EAAE,GAAK,IAAK,IAAMA,EAAIorC,EAAE65H,KAAKhlK,IAAMkyB,EAAEnyB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAAOA,EAAIE,EAAE+kK,KAAKhlK,IAAMkyB,EAAE,IAAMnyB,EAAE,GAAK,IAAK,IAAMA,EAAE,GAAK,IAAK,IAAMA,EAAE,GAAK,IAAKA,EAAE,KAAOA,EAAIye,EAAEwmJ,KAAKhlK,IAAM02J,EAAE32J,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IAAMA,EAAImd,EAAE8nJ,KAAKhlK,IAAM02J,EAAE32J,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IAAM0O,EAAEhP,eAAeO,GAAKwf,EAAE/Q,EAAEzO,IAAM,gBAAkBA,EAAI,IAAImzJ,EAAE7jI,IAAKA,IAAKA,IAAK,GAAK,KAG72B,SAAS9P,EAAExf,GACT,OAAO,IAAImzJ,EAAEnzJ,GAAK,GAAK,IAAKA,GAAK,EAAI,IAAK,IAAMA,EAAG,GAGrD,SAASkyB,EAAElyB,EAAGD,EAAG+5B,EAAGhhB,GAClB,OAAOA,GAAK,IAAM9Y,EAAID,EAAI+5B,EAAIxK,KAAM,IAAI6jI,EAAEnzJ,EAAGD,EAAG+5B,EAAGhhB,GAGrD,SAAS4hB,EAAE16B,GACT,OAAOA,aAAaid,IAAMjd,EAAIwd,EAAExd,IAAKA,EAAI,IAAImzJ,GAAGnzJ,EAAIA,EAAEg9G,OAAOlkG,EAAG9Y,EAAEu7B,EAAGv7B,EAAEwf,EAAGxf,EAAEyT,SAAW,IAAI0/I,EAG7F,SAASr5B,EAAE95H,EAAGD,EAAG+5B,EAAGhhB,GAClB,OAAO,IAAM1Z,UAAUC,OAASq7B,EAAE16B,GAAK,IAAImzJ,EAAEnzJ,EAAGD,EAAG+5B,EAAG,MAAQhhB,EAAI,EAAIA,GAGxE,SAASq6I,EAAEnzJ,EAAGD,EAAG+5B,EAAGhhB,GAClBlZ,KAAKkZ,GAAK9Y,EAAGJ,KAAK27B,GAAKx7B,EAAGH,KAAK4f,GAAKsa,EAAGl6B,KAAK6T,SAAWqF,EAGzD,SAASwa,IACP,MAAO,IAAM1hB,EAAEhS,KAAKkZ,GAAKlH,EAAEhS,KAAK27B,GAAK3pB,EAAEhS,KAAK4f,GAG9C,SAAS0T,IACP,IAAIlzB,EAAIJ,KAAK6T,QACb,OAAQ,KAAOzT,EAAI80B,MAAM90B,GAAK,EAAI8d,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,EAAGrvB,KAAO,OAAS,SAAW8d,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,IAAKvR,KAAKgS,MAAMlwB,KAAKkZ,IAAM,IAAM,KAAOgF,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,IAAKvR,KAAKgS,MAAMlwB,KAAK27B,IAAM,IAAM,KAAOzd,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,IAAKvR,KAAKgS,MAAMlwB,KAAK4f,IAAM,KAAO,IAAMxf,EAAI,IAAM,KAAOA,EAAI,KAGnS,SAAS4R,EAAE5R,GACT,QAASA,EAAI8d,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,IAAKvR,KAAKgS,MAAM9vB,IAAM,KAAO,GAAK,IAAM,IAAMA,EAAEmD,SAAS,IAG7F,SAASuzJ,EAAE12J,EAAGD,EAAG+5B,EAAGhhB,GAClB,OAAOA,GAAK,EAAI9Y,EAAID,EAAI+5B,EAAIxK,IAAMwK,GAAK,GAAKA,GAAK,EAAI95B,EAAID,EAAIuvB,IAAMvvB,GAAK,IAAMC,EAAIsvB,KAAM,IAAIka,EAAExpC,EAAGD,EAAG+5B,EAAGhhB,GAGzG,SAASkM,EAAEhlB,GACT,GAAIA,aAAawpC,EAAG,OAAO,IAAIA,EAAExpC,EAAE6P,EAAG7P,EAAEF,EAAGE,EAAEkf,EAAGlf,EAAEyT,SAClD,GAAIzT,aAAaid,IAAMjd,EAAIwd,EAAExd,KAAMA,EAAG,OAAO,IAAIwpC,EACjD,GAAIxpC,aAAawpC,EAAG,OAAOxpC,EAC3B,IAAID,GAAKC,EAAIA,EAAEg9G,OAAOlkG,EAAI,IACtBghB,EAAI95B,EAAEu7B,EAAI,IACVziB,EAAI9Y,EAAEwf,EAAI,IACVrgB,EAAI2e,KAAKuR,IAAItvB,EAAG+5B,EAAGhhB,GACnBtW,EAAIsb,KAAKyH,IAAIxlB,EAAG+5B,EAAGhhB,GACnBhZ,EAAIwvB,IACJlQ,EAAI5c,EAAIrD,EACR8f,GAAKzc,EAAIrD,GAAK,EAClB,OAAOigB,GAAKtf,EAAIC,IAAMyC,GAAKs3B,EAAIhhB,GAAKsG,EAAI,GAAK0a,EAAIhhB,GAAKghB,IAAMt3B,GAAKsW,EAAI/Y,GAAKqf,EAAI,GAAKrf,EAAI+5B,GAAK1a,EAAI,EAAGA,GAAKH,EAAI,GAAKzc,EAAIrD,EAAI,EAAIqD,EAAIrD,EAAGW,GAAK,IAAMsf,EAAIH,EAAI,GAAKA,EAAI,EAAI,EAAInf,EAAG,IAAI0pC,EAAE1pC,EAAGsf,EAAGH,EAAGjf,EAAEyT,SAG9L,SAASkjJ,EAAE32J,EAAGD,EAAG+5B,EAAGhhB,GAClB,OAAO,IAAM1Z,UAAUC,OAAS2lB,EAAEhlB,GAAK,IAAIwpC,EAAExpC,EAAGD,EAAG+5B,EAAG,MAAQhhB,EAAI,EAAIA,GAGxE,SAAS0wB,EAAExpC,EAAGD,EAAG+5B,EAAGhhB,GAClBlZ,KAAKiQ,GAAK7P,EAAGJ,KAAKE,GAAKC,EAAGH,KAAKsf,GAAK4a,EAAGl6B,KAAK6T,SAAWqF,EAGzD,SAASwe,EAAEt3B,EAAGD,EAAG+5B,GACf,OAAO,KAAO95B,EAAI,GAAKD,GAAK+5B,EAAI/5B,GAAKC,EAAI,GAAKA,EAAI,IAAM85B,EAAI95B,EAAI,IAAMD,GAAK+5B,EAAI/5B,IAAM,IAAMC,GAAK,GAAKD,GAGvG,SAAS2gB,EAAE1gB,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,GACrB,IAAI8d,EAAIjd,EAAIA,EACRwC,EAAIya,EAAIjd,EACZ,QAAS,EAAI,EAAIA,EAAI,EAAIid,EAAIza,GAAKzC,GAAK,EAAI,EAAIkd,EAAI,EAAIza,GAAKs3B,GAAK,EAAI,EAAI95B,EAAI,EAAIid,EAAI,EAAIza,GAAKsW,EAAItW,EAAIrD,GAAK,EAG7G2Z,EAAEmE,EAAGO,EAAG,CACNu+I,KAAM,SAAc/7J,GAClB,OAAOhB,OAAOC,OAAO,IAAIW,KAAKoC,YAAepC,KAAMI,IAErD85K,YAAa,WACX,OAAOl6K,KAAKo9G,MAAM88D,eAEpBC,IAAKx+I,EACLq+I,UAAWr+I,EACXy+I,UAAW,WACT,OAAOh1J,EAAEplB,MAAMo6K,aAEjBH,UAAWrrK,EACXrL,SAAUqL,IACRsK,EAAEq6I,EAAGr5B,EAAG36H,EAAE8d,EAAG,CACfg9J,SAAU,SAAkBj6K,GAC1B,OAAOA,EAAI,MAAQA,EAAI,EAAI,GAAK8d,KAAKyZ,IAAI,EAAI,GAAIv3B,GAAI,IAAImzJ,EAAEvzJ,KAAKkZ,EAAI9Y,EAAGJ,KAAK27B,EAAIv7B,EAAGJ,KAAK4f,EAAIxf,EAAGJ,KAAK6T,UAEtGymK,OAAQ,SAAgBl6K,GACtB,OAAOA,EAAI,MAAQA,EAAI,GAAK8d,KAAKyZ,IAAI,GAAIv3B,GAAI,IAAImzJ,EAAEvzJ,KAAKkZ,EAAI9Y,EAAGJ,KAAK27B,EAAIv7B,EAAGJ,KAAK4f,EAAIxf,EAAGJ,KAAK6T,UAE9FupG,IAAK,WACH,OAAOp9G,MAETk6K,YAAa,WACX,OAAQ,IAAMl6K,KAAKkZ,GAAKlZ,KAAKkZ,EAAI,QAAU,IAAMlZ,KAAK27B,GAAK37B,KAAK27B,EAAI,QAAU,IAAM37B,KAAK4f,GAAK5f,KAAK4f,EAAI,OAAS,GAAK5f,KAAK6T,SAAW7T,KAAK6T,SAAW,GAEvJsmK,IAAKzmJ,EACLsmJ,UAAWtmJ,EACXumJ,UAAW3mJ,EACX/vB,SAAU+vB,KACPpa,EAAE0wB,EAAGmtH,EAAGx3J,EAAE8d,EAAG,CAChBg9J,SAAU,SAAkBj6K,GAC1B,OAAOA,EAAI,MAAQA,EAAI,EAAI,GAAK8d,KAAKyZ,IAAI,EAAI,GAAIv3B,GAAI,IAAIwpC,EAAE5pC,KAAKiQ,EAAGjQ,KAAKE,EAAGF,KAAKsf,EAAIlf,EAAGJ,KAAK6T,UAE9FymK,OAAQ,SAAgBl6K,GACtB,OAAOA,EAAI,MAAQA,EAAI,GAAK8d,KAAKyZ,IAAI,GAAIv3B,GAAI,IAAIwpC,EAAE5pC,KAAKiQ,EAAGjQ,KAAKE,EAAGF,KAAKsf,EAAIlf,EAAGJ,KAAK6T,UAEtFupG,IAAK,WACH,IAAIh9G,EAAIJ,KAAKiQ,EAAI,IAAM,KAAOjQ,KAAKiQ,EAAI,GACnC9P,EAAI+0B,MAAM90B,IAAM80B,MAAMl1B,KAAKE,GAAK,EAAIF,KAAKE,EACzCg6B,EAAIl6B,KAAKsf,EACTpG,EAAIghB,GAAKA,EAAI,GAAKA,EAAI,EAAIA,GAAK/5B,EAC/BZ,EAAI,EAAI26B,EAAIhhB,EAChB,OAAO,IAAIq6I,EAAE77H,EAAEt3B,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKb,EAAG2Z,GAAIwe,EAAEt3B,EAAGb,EAAG2Z,GAAIwe,EAAEt3B,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKb,EAAG2Z,GAAIlZ,KAAK6T,UAE7GqmK,YAAa,WACX,OAAQ,GAAKl6K,KAAKE,GAAKF,KAAKE,GAAK,GAAKg1B,MAAMl1B,KAAKE,KAAO,GAAKF,KAAKsf,GAAKtf,KAAKsf,GAAK,GAAK,GAAKtf,KAAK6T,SAAW7T,KAAK6T,SAAW,GAE7HumK,UAAW,WACT,IAAIh6K,EAAIJ,KAAK6T,QACb,OAAQ,KAAOzT,EAAI80B,MAAM90B,GAAK,EAAI8d,KAAKyH,IAAI,EAAGzH,KAAKuR,IAAI,EAAGrvB,KAAO,OAAS,UAAYJ,KAAKiQ,GAAK,GAAK,KAAO,KAAOjQ,KAAKE,GAAK,GAAK,MAAQ,KAAOF,KAAKsf,GAAK,GAAK,KAAO,IAAMlf,EAAI,IAAM,KAAOA,EAAI,SAItM,IAAI42J,EAAI,SAAW52J,GACjB,IAAID,EAAIC,EAAEX,OAAS,EACnB,OAAO,SAAUy6B,GACf,IAAIhhB,EAAIghB,GAAK,EAAIA,EAAI,EAAIA,GAAK,GAAKA,EAAI,EAAG/5B,EAAI,GAAK+d,KAAK2V,MAAMqG,EAAI/5B,GAC9DZ,EAAIa,EAAE8Y,GACNmE,EAAIjd,EAAE8Y,EAAI,GACVtW,EAAIsW,EAAI,EAAI9Y,EAAE8Y,EAAI,GAAK,EAAI3Z,EAAI8d,EAC/Bnd,EAAIgZ,EAAI/Y,EAAI,EAAIC,EAAE8Y,EAAI,GAAK,EAAImE,EAAI9d,EACvC,OAAOuhB,GAAGoZ,EAAIhhB,EAAI/Y,GAAKA,EAAGyC,EAAGrD,EAAG8d,EAAGnd,KAGnC+2J,EAAI,SAAW72J,GACjB,IAAID,EAAIC,EAAEX,OACV,OAAO,SAAUy6B,GACf,IAAIhhB,EAAIgF,KAAK2V,QAAQqG,GAAK,GAAK,IAAMA,EAAIA,GAAK/5B,GAC1CZ,EAAIa,GAAG8Y,EAAI/Y,EAAI,GAAKA,GACpBkd,EAAIjd,EAAE8Y,EAAI/Y,GACVyC,EAAIxC,GAAG8Y,EAAI,GAAK/Y,GAChBD,EAAIE,GAAG8Y,EAAI,GAAK/Y,GACpB,OAAO2gB,GAAGoZ,EAAIhhB,EAAI/Y,GAAKA,EAAGZ,EAAG8d,EAAGza,EAAG1C,KAGnCg3J,EAAI,SAAW92J,GACjB,OAAO,WACL,OAAOA,IAIX,SAASmf,EAAEnf,EAAGD,GACZ,OAAO,SAAU+5B,GACf,OAAO95B,EAAI85B,EAAI/5B,GAInB,SAASg3J,EAAE/2J,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAIC,EACZ,OAAO85B,EAAI3a,EAAEnf,EAAG85B,EAAI,KAAOA,GAAK,IAAMA,EAAI,IAAMhc,KAAKgS,MAAMgK,EAAI,KAAOA,GAAKg9H,EAAEhiI,MAAM90B,GAAKD,EAAIC,GAa9F,SAASwxB,EAAExxB,EAAGD,GACZ,IAAI+5B,EAAI/5B,EAAIC,EACZ,OAAO85B,EAAI3a,EAAEnf,EAAG85B,GAAKg9H,EAAEhiI,MAAM90B,GAAKD,EAAIC,GAGxC,IAAIqjH,EAAI,SAASrjH,EAAED,GACjB,IAAI+5B,EAhBN,SAAW95B,GACT,OAAO,IAAMA,GAAKA,GAAKwxB,EAAI,SAAUzxB,EAAG+5B,GACtC,OAAOA,EAAI/5B,EAAI,SAAUC,EAAGD,EAAG+5B,GAC7B,OAAO95B,EAAI8d,KAAKyZ,IAAIv3B,EAAG85B,GAAI/5B,EAAI+d,KAAKyZ,IAAIx3B,EAAG+5B,GAAK95B,EAAG85B,EAAI,EAAIA,EAAG,SAAUhhB,GACtE,OAAOgF,KAAKyZ,IAAIv3B,EAAI8Y,EAAI/Y,EAAG+5B,IAFhB,CAIb/5B,EAAG+5B,EAAG95B,GAAK82J,EAAEhiI,MAAM/0B,GAAK+5B,EAAI/5B,IAUxBi3J,CAAEj3J,GAEV,SAAS+Y,EAAE9Y,EAAGD,GACZ,IAAI+Y,EAAIghB,GAAG95B,EAAI85H,EAAE95H,IAAI8Y,GAAI/Y,EAAI+5H,EAAE/5H,IAAI+Y,GAC/B3Z,EAAI26B,EAAE95B,EAAEu7B,EAAGx7B,EAAEw7B,GACbte,EAAI6c,EAAE95B,EAAEwf,EAAGzf,EAAEyf,GACbhd,EAAIgvB,EAAExxB,EAAEyT,QAAS1T,EAAE0T,SACvB,OAAO,SAAU1T,GACf,OAAOC,EAAE8Y,EAAIA,EAAE/Y,GAAIC,EAAEu7B,EAAIp8B,EAAEY,GAAIC,EAAEwf,EAAIvC,EAAEld,GAAIC,EAAEyT,QAAUjR,EAAEzC,GAAIC,EAAI,IAIrE,OAAO8Y,EAAEqhK,MAAQn6K,EAAG8Y,EAbd,CAcN,GAEF,SAASuL,EAAErkB,GACT,OAAO,SAAUD,GACf,IAAI+5B,EACAhhB,EACA3Z,EAAIY,EAAEV,OACN4d,EAAI,IAAIG,MAAMje,GACdqD,EAAI,IAAI4a,MAAMje,GACdW,EAAI,IAAIsd,MAAMje,GAElB,IAAK26B,EAAI,EAAGA,EAAI36B,IAAK26B,EACnBhhB,EAAIghH,EAAE/5H,EAAE+5B,IAAK7c,EAAE6c,GAAKhhB,EAAEA,GAAK,EAAGtW,EAAEs3B,GAAKhhB,EAAEyiB,GAAK,EAAGz7B,EAAEg6B,GAAKhhB,EAAE0G,GAAK,EAG/D,OAAOvC,EAAIjd,EAAEid,GAAIza,EAAIxC,EAAEwC,GAAI1C,EAAIE,EAAEF,GAAIgZ,EAAErF,QAAU,EAAG,SAAUzT,GAC5D,OAAO8Y,EAAEA,EAAImE,EAAEjd,GAAI8Y,EAAEyiB,EAAI/4B,EAAExC,GAAI8Y,EAAE0G,EAAI1f,EAAEE,GAAI8Y,EAAI,KAKrD,IAwDIshK,EACAC,EACAC,EACAC,EA3DA3nJ,EAAIvO,EAAEuyI,GACNqZ,EAAI5rJ,EAAEwyI,GACNzyI,EAAI,SAAWpkB,EAAGD,GACpB,IAAI+5B,EACAhhB,EAAI/Y,EAAIA,EAAEV,OAAS,EACnBF,EAAIa,EAAI8d,KAAKuR,IAAIvW,EAAG9Y,EAAEX,QAAU,EAChC4d,EAAI,IAAIG,MAAMje,GACdqD,EAAI,IAAI4a,MAAMtE,GAElB,IAAKghB,EAAI,EAAGA,EAAI36B,IAAK26B,EACnB7c,EAAE6c,GAAKsR,GAAGprC,EAAE85B,GAAI/5B,EAAE+5B,IAGpB,KAAOA,EAAIhhB,IAAKghB,EACdt3B,EAAEs3B,GAAK/5B,EAAE+5B,GAGX,OAAO,SAAU95B,GACf,IAAK85B,EAAI,EAAGA,EAAI36B,IAAK26B,EACnBt3B,EAAEs3B,GAAK7c,EAAE6c,GAAG95B,GAGd,OAAOwC,IAGP+b,EAAI,SAAWve,EAAGD,GACpB,IAAI+5B,EAAI,IAAI52B,KACZ,OAAOnD,GAAKC,GAAKA,EAAG,SAAU8Y,GAC5B,OAAOghB,EAAE0gJ,QAAQx6K,EAAID,EAAI+Y,GAAIghB,IAG7B7U,EAAI,SAAWjlB,EAAGD,GACpB,OAAOA,GAAKC,GAAKA,EAAG,SAAU85B,GAC5B,OAAO95B,EAAID,EAAI+5B,IAGf81I,EAAI,SAAW5vK,EAAGD,GACpB,IAAI+5B,EACAhhB,EAAI,GACJ3Z,EAAI,GAER,IAAK26B,KAAK,OAAS95B,GAAK,iBAAmBA,IAAMA,EAAI,IAAK,OAASD,GAAK,iBAAmBA,IAAMA,EAAI,IAAKA,EACxG+5B,KAAK95B,EAAI8Y,EAAEghB,GAAKsR,GAAGprC,EAAE85B,GAAI/5B,EAAE+5B,IAAM36B,EAAE26B,GAAK/5B,EAAE+5B,GAG5C,OAAO,SAAU95B,GACf,IAAK85B,KAAKhhB,EACR3Z,EAAE26B,GAAKhhB,EAAEghB,GAAG95B,GAGd,OAAOb,IAGPs7K,EAAI,8CACJC,EAAI,IAAI97J,OAAO67J,EAAEn7K,OAAQ,KAMzBuwK,GAAK,SAAY7vK,EAAGD,GACtB,IAAI+5B,EACAhhB,EACA3Z,EACA8d,EAAIw9J,EAAEE,UAAYD,EAAEC,UAAY,EAChCn4K,GAAK,EACL1C,EAAI,GACJsf,EAAI,GAER,IAAKpf,GAAK,GAAID,GAAK,IAAK+5B,EAAI2gJ,EAAEzV,KAAKhlK,MAAQ8Y,EAAI4hK,EAAE1V,KAAKjlK,MACnDZ,EAAI2Z,EAAE5U,OAAS+Y,IAAM9d,EAAIY,EAAEmlB,MAAMjI,EAAG9d,GAAIW,EAAE0C,GAAK1C,EAAE0C,IAAMrD,EAAIW,IAAI0C,GAAKrD,IAAK26B,EAAIA,EAAE,OAAShhB,EAAIA,EAAE,IAAMhZ,EAAE0C,GAAK1C,EAAE0C,IAAMsW,EAAIhZ,IAAI0C,GAAKsW,GAAKhZ,IAAI0C,GAAK,KAAM4c,EAAEhP,KAAK,CAC1JjR,EAAGqD,EACHgM,EAAGyW,EAAE6U,EAAGhhB,MACLmE,EAAIy9J,EAAEC,UAGb,OAAO19J,EAAIld,EAAEV,SAAWF,EAAIY,EAAEmlB,MAAMjI,GAAInd,EAAE0C,GAAK1C,EAAE0C,IAAMrD,EAAIW,IAAI0C,GAAKrD,GAAIW,EAAET,OAAS,EAAI+f,EAAE,GAAK,SAAUpf,GACtG,OAAO,SAAUD,GACf,OAAOC,EAAED,GAAK,IAF4E,CAI5Fqf,EAAE,GAAG5Q,GAAK,SAAUxO,GACpB,OAAO,WACL,OAAOA,GAFC,CAIVD,IAAMA,EAAIqf,EAAE/f,OAAQ,SAAUW,GAC9B,IAAK,IAAI85B,EAAGhhB,EAAI,EAAGA,EAAI/Y,IAAK+Y,EAC1BhZ,GAAGg6B,EAAI1a,EAAEtG,IAAI3Z,GAAK26B,EAAEtrB,EAAExO,GAGxB,OAAOF,EAAE0jB,KAAK,OAGd4nB,GAAK,SAAYprC,EAAGD,GACtB,IAAI+5B,EACAhhB,SAAW/Y,EACf,OAAO,MAAQA,GAAK,YAAc+Y,EAAIg+I,EAAE/2J,IAAM,WAAa+Y,EAAImM,EAAI,WAAanM,GAAKghB,EAAItc,EAAEzd,KAAOA,EAAI+5B,EAAGupF,GAAKwsD,GAAK9vK,aAAayd,EAAI6lG,EAAItjH,aAAamD,KAAOqb,EAAInB,MAAMilH,QAAQtiI,GAAKqkB,EAAI,mBAAqBrkB,EAAE66K,SAAW,mBAAqB76K,EAAEoD,UAAY2xB,MAAM/0B,GAAK6vK,EAAI3qJ,GAAGjlB,EAAGD,IAE/Qo6B,GAAK,SAAYn6B,EAAGD,GACtB,OAAOA,GAAKC,GAAKA,EAAG,SAAU85B,GAC5B,OAAOhc,KAAKgS,MAAM9vB,EAAID,EAAI+5B,KAG1BsvD,GAAK,IAAMtrE,KAAKK,GAChBukJ,GAAK,CACPmY,WAAY,EACZC,WAAY,EACZh5J,OAAQ,EACRi5J,MAAO,EACP9yI,OAAQ,EACRC,OAAQ,GAEN8yI,GAAK,SAAYh7K,EAAGD,EAAG+5B,EAAGhhB,EAAG3Z,EAAG8d,GAClC,IAAIza,EAAG1C,EAAGsf,EACV,OAAQ5c,EAAIsb,KAAKmE,KAAKjiB,EAAIA,EAAID,EAAIA,MAAQC,GAAKwC,EAAGzC,GAAKyC,IAAK4c,EAAIpf,EAAI85B,EAAI/5B,EAAI+Y,KAAOghB,GAAK95B,EAAIof,EAAGtG,GAAK/Y,EAAIqf,IAAKtf,EAAIge,KAAKmE,KAAK6X,EAAIA,EAAIhhB,EAAIA,MAAQghB,GAAKh6B,EAAGgZ,GAAKhZ,EAAGsf,GAAKtf,GAAIE,EAAI8Y,EAAI/Y,EAAI+5B,IAAM95B,GAAKA,EAAGD,GAAKA,EAAGqf,GAAKA,EAAG5c,GAAKA,GAAI,CACzNq4K,WAAY17K,EACZ27K,WAAY79J,EACZ6E,OAAQhE,KAAKm0C,MAAMlyD,EAAGC,GAAKopF,GAC3B2xF,MAAOj9J,KAAK01G,KAAKp0G,GAAKgqE,GACtBnhD,OAAQzlC,EACR0lC,OAAQpoC,IAIZ,SAASm7K,GAAGj7K,EAAGD,EAAG+5B,EAAGhhB,GACnB,SAAS3Z,EAAEa,GACT,OAAOA,EAAEX,OAASW,EAAEy8D,MAAQ,IAAM,GAGpC,OAAO,SAAUx/C,EAAGza,GAClB,IAAI1C,EAAI,GACJsf,EAAI,GACR,OAAOnC,EAAIjd,EAAEid,GAAIza,EAAIxC,EAAEwC,GAAI,SAAUxC,EAAG8Y,EAAG3Z,EAAG8d,EAAGza,EAAG1C,GAClD,GAAIE,IAAMb,GAAK2Z,IAAMmE,EAAG,CACtB,IAAImC,EAAI5c,EAAE4N,KAAK,aAAc,KAAMrQ,EAAG,KAAM+5B,GAC5Ch6B,EAAEsQ,KAAK,CACLjR,EAAGigB,EAAI,EACP5Q,EAAGyW,EAAEjlB,EAAGb,IACP,CACDA,EAAGigB,EAAI,EACP5Q,EAAGyW,EAAEnM,EAAGmE,UAEJ9d,GAAK8d,IAAMza,EAAE4N,KAAK,aAAejR,EAAIY,EAAIkd,EAAI6c,GAV5B,CAWzB7c,EAAE49J,WAAY59J,EAAE69J,WAAYt4K,EAAEq4K,WAAYr4K,EAAEs4K,WAAYh7K,EAAGsf,GAAI,SAAUpf,EAAGD,EAAG+5B,EAAG7c,GAClFjd,IAAMD,GAAKC,EAAID,EAAI,IAAMA,GAAK,IAAMA,EAAIC,EAAI,MAAQA,GAAK,KAAMid,EAAE7M,KAAK,CACpEjR,EAAG26B,EAAE1pB,KAAKjR,EAAE26B,GAAK,UAAW,KAAMhhB,GAAK,EACvCtK,EAAGyW,EAAEjlB,EAAGD,MACJA,GAAK+5B,EAAE1pB,KAAKjR,EAAE26B,GAAK,UAAY/5B,EAAI+Y,GAJsB,CAK/DmE,EAAE6E,OAAQtf,EAAEsf,OAAQhiB,EAAGsf,GAAI,SAAUpf,EAAGD,EAAG+5B,EAAG7c,GAC9Cjd,IAAMD,EAAIkd,EAAE7M,KAAK,CACfjR,EAAG26B,EAAE1pB,KAAKjR,EAAE26B,GAAK,SAAU,KAAMhhB,GAAK,EACtCtK,EAAGyW,EAAEjlB,EAAGD,KACLA,GAAK+5B,EAAE1pB,KAAKjR,EAAE26B,GAAK,SAAW/5B,EAAI+Y,GAJZ,CAK3BmE,EAAE89J,MAAOv4K,EAAEu4K,MAAOj7K,EAAGsf,GAAI,SAAUpf,EAAGD,EAAG+5B,EAAGhhB,EAAGmE,EAAGza,GAClD,GAAIxC,IAAM85B,GAAK/5B,IAAM+Y,EAAG,CACtB,IAAIhZ,EAAImd,EAAE7M,KAAKjR,EAAE8d,GAAK,SAAU,KAAM,IAAK,KAAM,KACjDza,EAAE4N,KAAK,CACLjR,EAAGW,EAAI,EACP0O,EAAGyW,EAAEjlB,EAAG85B,IACP,CACD36B,EAAGW,EAAI,EACP0O,EAAGyW,EAAEllB,EAAG+Y,UAEL,IAAMghB,GAAK,IAAMhhB,GAAKmE,EAAE7M,KAAKjR,EAAE8d,GAAK,SAAW6c,EAAI,IAAMhhB,EAAI,KAV3C,CAWzBmE,EAAEgrB,OAAQhrB,EAAEirB,OAAQ1lC,EAAEylC,OAAQzlC,EAAE0lC,OAAQpoC,EAAGsf,GAAInC,EAAIza,EAAI,KAAM,SAAUxC,GACvE,IAAK,IAAID,EAAG+5B,GAAK,EAAGhhB,EAAIsG,EAAE/f,SAAUy6B,EAAIhhB,GACtChZ,GAAGC,EAAIqf,EAAE0a,IAAI36B,GAAKY,EAAEyO,EAAExO,GAGxB,OAAOF,EAAE0jB,KAAK,MAKpB,IAAIssJ,GAAKmL,IAAG,SAAUj7K,GACpB,MAAO,SAAWA,EAAI0iK,IAAM0X,IAAMA,EAAIloI,SAASgwC,cAAc,OAAQm4F,EAAInoI,SAASunH,gBAAiB6gB,EAAIpoI,SAASgpI,aAAcd,EAAEj2K,MAAMsL,UAAYzP,EAAGA,EAAIs6K,EAAEzgB,iBAAiBwgB,EAAEpsI,YAAYmsI,GAAI,MAAMe,iBAAiB,aAAcd,EAAE9nI,YAAY6nI,GAAIp6K,EAAIA,EAAEklB,MAAM,GAAI,GAAGzB,MAAM,KAAMu3J,IAAIh7K,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,IAAKA,EAAE,OAC5T,OAAQ,MAAO,QACd+vK,GAAKkL,IAAG,SAAUj7K,GACpB,OAAO,MAAQA,EAAI0iK,IAAM6X,IAAOA,EAAKroI,SAAS85H,gBAAgB,6BAA8B,MAAOuO,EAAG9xH,aAAa,YAAazoD,IAAKA,EAAIu6K,EAAG9qK,UAAU2rK,QAAQC,gBAAkBr7K,EAAIA,EAAEknB,OAAQ8zJ,GAAGh7K,EAAEid,EAAGjd,EAAEwf,EAAGxf,EAAEif,EAAGjf,EAAEwe,EAAGxe,EAAED,EAAGC,EAAEmrC,IAAMu3H,MACjO,KAAM,IAAK,KACV4Y,GAAKx9J,KAAKy9J,MAEd,SAASC,GAAGx7K,GACV,QAASA,EAAI8d,KAAK4iD,IAAI1gE,IAAM,EAAIA,GAAK,EAGvC,IAAIgwK,GAAK,SAAYhwK,EAAGD,GACtB,IAAI+5B,EACAhhB,EACA3Z,EAAIa,EAAE,GACNid,EAAIjd,EAAE,GACNwC,EAAIxC,EAAE,GACNF,EAAIC,EAAE,GACNqf,EAAIrf,EAAE,GACNkf,EAAIlf,EAAE,GACNmf,EAAIpf,EAAIX,EACR0Q,EAAIuP,EAAInC,EACRkuB,EAAIjsB,EAAIA,EAAIrP,EAAIA,EACpB,GAAIs7B,EAAI,MAAOryB,EAAIgF,KAAK0Z,IAAIvY,EAAIzc,GAAK84K,GAAIxhJ,EAAI,SAAW95B,GACtD,MAAO,CAACb,EAAIa,EAAIkf,EAAGjC,EAAIjd,EAAI6P,EAAGrN,EAAIsb,KAAK4iD,IAAI46G,GAAKt7K,EAAI8Y,SAC/C,CACL,IAAI7Y,EAAI6d,KAAKmE,KAAKkpB,GACd3sB,GAAKS,EAAIA,EAAIzc,EAAIA,EAAI,EAAI2oC,IAAM,EAAI3oC,EAAI,EAAIvC,GAC3Cid,GAAK+B,EAAIA,EAAIzc,EAAIA,EAAI,EAAI2oC,IAAM,EAAIlsB,EAAI,EAAIhf,GAC3CwO,EAAIqP,KAAK0Z,IAAI1Z,KAAKmE,KAAKzD,EAAIA,EAAI,GAAKA,GACpC+c,EAAIzd,KAAK0Z,IAAI1Z,KAAKmE,KAAK/E,EAAIA,EAAI,GAAKA,GACxCpE,GAAKyiB,EAAI9sB,GAAK6sK,GAAIxhJ,EAAI,SAAW95B,GAC/B,IAAID,EACA+5B,EAAI95B,EAAI8Y,EACRhZ,EAAI07K,GAAG/sK,GACP2Q,EAAI5c,GAAK,EAAIvC,IAAMH,GAAKC,EAAIu7K,GAAKxhJ,EAAIrrB,IAAK1O,EAAI+d,KAAK4iD,IAAI,EAAI3gE,IAAM,IAAMA,EAAI,IAAM,SAAUC,GAC7F,QAASA,EAAI8d,KAAK4iD,IAAI1gE,IAAM,EAAIA,GAAK,EAD8C,CAEnFyO,IAEF,MAAO,CAACtP,EAAIigB,EAAIF,EAAGjC,EAAImC,EAAIvP,EAAGrN,EAAI1C,EAAI07K,GAAGF,GAAKxhJ,EAAIrrB,KAGtD,OAAOqrB,EAAEtS,SAAW,IAAM1O,EAAGghB,GAG/B,SAAS2hJ,GAAGz7K,GACV,OAAO,SAAUD,EAAG+5B,GAClB,IAAIhhB,EAAI9Y,GAAGD,EAAI42J,EAAE52J,IAAI8P,GAAIiqB,EAAI68H,EAAE78H,IAAIjqB,GAC/B1Q,EAAIqyB,EAAEzxB,EAAED,EAAGg6B,EAAEh6B,GACbmd,EAAIuU,EAAEzxB,EAAEmf,EAAG4a,EAAE5a,GACb1c,EAAIgvB,EAAEzxB,EAAE0T,QAASqmB,EAAErmB,SACvB,OAAO,SAAUzT,GACf,OAAOD,EAAE8P,EAAIiJ,EAAE9Y,GAAID,EAAED,EAAIX,EAAEa,GAAID,EAAEmf,EAAIjC,EAAEjd,GAAID,EAAE0T,QAAUjR,EAAExC,GAAID,EAAI,KAKvE,IAAImwK,GAAKuL,GAAG1kB,GACRoZ,GAAKsL,GAAGjqJ,GACRkqJ,GAAK59J,KAAKK,GAAK,IACfw9J,GAAK,IAAM79J,KAAKK,GAEhBy9J,GADK,EAAI,GACJ,GADA,EAAI,IAGb,SAASC,GAAG77K,GACV,GAAIA,aAAa87K,GAAI,OAAO,IAAIA,GAAG97K,EAAEkf,EAAGlf,EAAEid,EAAGjd,EAAEwf,EAAGxf,EAAEyT,SACpD,GAAIzT,aAAa+7K,GAAI,OAAOC,GAAGh8K,GAC/BA,aAAamzJ,IAAMnzJ,EAAI06B,EAAE16B,IAEzB,IAAID,EACA+5B,EACAhhB,EAAImjK,GAAGj8K,EAAE8Y,GACT3Z,EAAI88K,GAAGj8K,EAAEu7B,GACTte,EAAIg/J,GAAGj8K,EAAEwf,GACThd,EAAI05K,IAAI,SAAWpjK,EAAI,SAAW3Z,EAAI,SAAW8d,GAAK,GAE1D,OAAOnE,IAAM3Z,GAAKA,IAAM8d,EAAIld,EAAI+5B,EAAIt3B,GAAKzC,EAAIm8K,IAAI,SAAWpjK,EAAI,SAAW3Z,EAAI,SAAW8d,GAAK,QAAS6c,EAAIoiJ,IAAI,SAAWpjK,EAAI,SAAW3Z,EAAI,SAAW8d,GAAK,SAAU,IAAI6+J,GAAG,IAAMt5K,EAAI,GAAI,KAAOzC,EAAIyC,GAAI,KAAOA,EAAIs3B,GAAI95B,EAAEyT,SAG/N,SAAS0oK,GAAGn8K,EAAGD,EAAG+5B,EAAGhhB,GACnB,OAAO,IAAM1Z,UAAUC,OAASw8K,GAAG77K,GAAK,IAAI87K,GAAG97K,EAAGD,EAAG+5B,EAAG,MAAQhhB,EAAI,EAAIA,GAG1E,SAASgjK,GAAG97K,EAAGD,EAAG+5B,EAAGhhB,GACnBlZ,KAAKsf,GAAKlf,EAAGJ,KAAKqd,GAAKld,EAAGH,KAAK4f,GAAKsa,EAAGl6B,KAAK6T,SAAWqF,EAGzD,SAASojK,GAAGl8K,GACV,OAAOA,EAAI,oBAAsB8d,KAAKyZ,IAAIv3B,EAAG,EAAI,GAAKA,EAAI47K,GAAK,EAAI,GAGrE,SAASQ,GAAGp8K,GACV,OAAOA,EA/BA,EAAI,GA+BKA,EAAIA,EAAIA,EAAI47K,IAAM57K,EAAI,EAAI,IAG5C,SAASq8K,GAAGr8K,GACV,OAAO,KAAOA,GAAK,SAAW,MAAQA,EAAI,MAAQ8d,KAAKyZ,IAAIv3B,EAAG,EAAI,KAAO,MAG3E,SAASi8K,GAAGj8K,GACV,OAAQA,GAAK,MAAQ,OAASA,EAAI,MAAQ8d,KAAKyZ,KAAKv3B,EAAI,MAAQ,MAAO,KAGzE,SAASs8K,GAAGt8K,GACV,GAAIA,aAAa+7K,GAAI,OAAO,IAAIA,GAAG/7K,EAAE6P,EAAG7P,EAAEif,EAAGjf,EAAEkf,EAAGlf,EAAEyT,SACpD,GAAIzT,aAAa87K,KAAO97K,EAAI67K,GAAG77K,IAAK,IAAMA,EAAEid,GAAK,IAAMjd,EAAEwf,EAAG,OAAO,IAAIu8J,GAAGzsJ,IAAK,EAAItvB,EAAEkf,GAAKlf,EAAEkf,EAAI,IAAM,EAAIoQ,IAAKtvB,EAAEkf,EAAGlf,EAAEyT,SACtH,IAAI1T,EAAI+d,KAAKm0C,MAAMjyD,EAAEwf,EAAGxf,EAAEid,GAAK0+J,GAC/B,OAAO,IAAII,GAAGh8K,EAAI,EAAIA,EAAI,IAAMA,EAAG+d,KAAKmE,KAAKjiB,EAAEid,EAAIjd,EAAEid,EAAIjd,EAAEwf,EAAIxf,EAAEwf,GAAIxf,EAAEkf,EAAGlf,EAAEyT,SAG9E,SAAS8oK,GAAGv8K,EAAGD,EAAG+5B,EAAGhhB,GACnB,OAAO,IAAM1Z,UAAUC,OAASi9K,GAAGt8K,GAAK,IAAI+7K,GAAG/7K,EAAGD,EAAG+5B,EAAG,MAAQhhB,EAAI,EAAIA,GAG1E,SAASijK,GAAG/7K,EAAGD,EAAG+5B,EAAGhhB,GACnBlZ,KAAKiQ,GAAK7P,EAAGJ,KAAKqf,GAAKlf,EAAGH,KAAKsf,GAAK4a,EAAGl6B,KAAK6T,SAAWqF,EAGzD,SAASkjK,GAAGh8K,GACV,GAAI80B,MAAM90B,EAAE6P,GAAI,OAAO,IAAIisK,GAAG97K,EAAEkf,EAAG,EAAG,EAAGlf,EAAEyT,SAC3C,IAAI1T,EAAIC,EAAE6P,EAAI6rK,GACd,OAAO,IAAII,GAAG97K,EAAEkf,EAAGpB,KAAKiE,IAAIhiB,GAAKC,EAAEif,EAAGnB,KAAKkE,IAAIjiB,GAAKC,EAAEif,EAAGjf,EAAEyT,SAG7D,SAAS28J,GAAGpwK,EAAGD,GACb,IAAI+5B,EAAItI,GAAGxxB,EAAIm8K,GAAGn8K,IAAIkf,GAAInf,EAAIo8K,GAAGp8K,IAAImf,GACjCpG,EAAI0Y,EAAExxB,EAAEid,EAAGld,EAAEkd,GACb9d,EAAIqyB,EAAExxB,EAAEwf,EAAGzf,EAAEyf,GACbvC,EAAIuU,EAAExxB,EAAEyT,QAAS1T,EAAE0T,SACvB,OAAO,SAAU1T,GACf,OAAOC,EAAEkf,EAAI4a,EAAE/5B,GAAIC,EAAEid,EAAInE,EAAE/Y,GAAIC,EAAEwf,EAAIrgB,EAAEY,GAAIC,EAAEyT,QAAUwJ,EAAEld,GAAIC,EAAI,IAIrE,SAASw8K,GAAGx8K,GACV,OAAO,SAAUD,EAAG+5B,GAClB,IAAIhhB,EAAI9Y,GAAGD,EAAIw8K,GAAGx8K,IAAI8P,GAAIiqB,EAAIyiJ,GAAGziJ,IAAIjqB,GACjC1Q,EAAIqyB,EAAEzxB,EAAEkf,EAAG6a,EAAE7a,GACbhC,EAAIuU,EAAEzxB,EAAEmf,EAAG4a,EAAE5a,GACb1c,EAAIgvB,EAAEzxB,EAAE0T,QAASqmB,EAAErmB,SACvB,OAAO,SAAUzT,GACf,OAAOD,EAAE8P,EAAIiJ,EAAE9Y,GAAID,EAAEkf,EAAI9f,EAAEa,GAAID,EAAEmf,EAAIjC,EAAEjd,GAAID,EAAE0T,QAAUjR,EAAExC,GAAID,EAAI,KAKvE+Y,EAAEgjK,GAAIK,GAAIh9K,EAAE8d,EAAG,CACbg9J,SAAU,SAAkBj6K,GAC1B,OAAO,IAAI87K,GAAGl8K,KAAKsf,EAAI,IAAM,MAAQlf,EAAI,EAAIA,GAAIJ,KAAKqd,EAAGrd,KAAK4f,EAAG5f,KAAK6T,UAExEymK,OAAQ,SAAgBl6K,GACtB,OAAO,IAAI87K,GAAGl8K,KAAKsf,EAAI,IAAM,MAAQlf,EAAI,EAAIA,GAAIJ,KAAKqd,EAAGrd,KAAK4f,EAAG5f,KAAK6T,UAExEupG,IAAK,WACH,IAAIh9G,GAAKJ,KAAKsf,EAAI,IAAM,IACpBnf,EAAI+0B,MAAMl1B,KAAKqd,GAAKjd,EAAIA,EAAIJ,KAAKqd,EAAI,IACrC6c,EAAIhF,MAAMl1B,KAAK4f,GAAKxf,EAAIA,EAAIJ,KAAK4f,EAAI,IACzC,OAAO,IAAI2zI,EAAEkpB,GAAG,WAAat8K,EAAI,OAASq8K,GAAGr8K,IAAM,WAAaC,EAAI,EAAIo8K,GAAGp8K,IAAM,UAAY85B,EAAI,OAASsiJ,GAAGtiJ,KAAMuiJ,IAAI,SAAWt8K,EAAI,UAAYC,EAAI,QAAU85B,GAAIuiJ,GAAG,SAAWt8K,EAAI,SAAWC,EAAI,UAAY85B,GAAIl6B,KAAK6T,aAEzNqF,EAAEijK,GAAIQ,GAAIp9K,EAAE8d,EAAG,CAClBg9J,SAAU,SAAkBj6K,GAC1B,OAAO,IAAI+7K,GAAGn8K,KAAKiQ,EAAGjQ,KAAKqf,EAAGrf,KAAKsf,EAAI,IAAM,MAAQlf,EAAI,EAAIA,GAAIJ,KAAK6T,UAExEymK,OAAQ,SAAgBl6K,GACtB,OAAO,IAAI+7K,GAAGn8K,KAAKiQ,EAAGjQ,KAAKqf,EAAGrf,KAAKsf,EAAI,IAAM,MAAQlf,EAAI,EAAIA,GAAIJ,KAAK6T,UAExEupG,IAAK,WACH,OAAOg/D,GAAGp8K,MAAMo9G,UAGpB,IAAIqzD,GAAKmM,GAAGzlB,GACRuZ,GAAKkM,GAAGhrJ,GAERirJ,GAAK,QACLC,IAAM,OACNC,IAAM,OACNC,GAAK,QACLC,GAAKD,GAAKD,GACVG,GAAKF,GAAKH,GACVM,GAAKN,GAAKC,KAPL,OAOUC,GAEnB,SAASK,GAAGh9K,GACV,GAAIA,aAAai9K,GAAI,OAAO,IAAIA,GAAGj9K,EAAE6P,EAAG7P,EAAEF,EAAGE,EAAEkf,EAAGlf,EAAEyT,SACpDzT,aAAamzJ,IAAMnzJ,EAAI06B,EAAE16B,IACzB,IAAID,EAAIC,EAAE8Y,EAAI,IACVghB,EAAI95B,EAAEu7B,EAAI,IACVziB,EAAI9Y,EAAEwf,EAAI,IACVrgB,GAAK49K,GAAKjkK,EAAI+jK,GAAK98K,EAAI+8K,GAAKhjJ,IAAMijJ,GAAKF,GAAKC,IAC5C7/J,EAAInE,EAAI3Z,EACRqD,GAAKo6K,IAAM9iJ,EAAI36B,GAAKu9K,GAAKz/J,GAAK0/J,GAC9B78K,EAAIge,KAAKmE,KAAKzf,EAAIA,EAAIya,EAAIA,IAAM2/J,GAAKz9K,GAAK,EAAIA,IAC9CigB,EAAItf,EAAIge,KAAKm0C,MAAMzvD,EAAGya,GAAK0+J,GAAK,IAAMrsJ,IAC1C,OAAO,IAAI2tJ,GAAG79J,EAAI,EAAIA,EAAI,IAAMA,EAAGtf,EAAGX,EAAGa,EAAEyT,SAG7C,SAASypK,GAAGl9K,EAAGD,EAAG+5B,EAAGhhB,GACnB,OAAO,IAAM1Z,UAAUC,OAAS29K,GAAGh9K,GAAK,IAAIi9K,GAAGj9K,EAAGD,EAAG+5B,EAAG,MAAQhhB,EAAI,EAAIA,GAG1E,SAASmkK,GAAGj9K,EAAGD,EAAG+5B,EAAGhhB,GACnBlZ,KAAKiQ,GAAK7P,EAAGJ,KAAKE,GAAKC,EAAGH,KAAKsf,GAAK4a,EAAGl6B,KAAK6T,SAAWqF,EAGzD,SAASqkK,GAAGn9K,GACV,OAAO,SAASD,EAAE+5B,GAChB,SAAShhB,EAAE/Y,EAAG+Y,GACZ,IAAI3Z,EAAIa,GAAGD,EAAIm9K,GAAGn9K,IAAI8P,GAAIiJ,EAAIokK,GAAGpkK,IAAIjJ,GACjCoN,EAAIuU,EAAEzxB,EAAED,EAAGgZ,EAAEhZ,GACb0C,EAAIgvB,EAAEzxB,EAAEmf,EAAGpG,EAAEoG,GACbpf,EAAI0xB,EAAEzxB,EAAE0T,QAASqF,EAAErF,SACvB,OAAO,SAAUzT,GACf,OAAOD,EAAE8P,EAAI1Q,EAAEa,GAAID,EAAED,EAAImd,EAAEjd,GAAID,EAAEmf,EAAI1c,EAAEsb,KAAKyZ,IAAIv3B,EAAG85B,IAAK/5B,EAAE0T,QAAU3T,EAAEE,GAAID,EAAI,IAIlF,OAAO+5B,GAAKA,EAAGhhB,EAAEqhK,MAAQp6K,EAAG+Y,EAXvB,CAYL,GAGJA,EAAEmkK,GAAIC,GAAI/9K,EAAE8d,EAAG,CACbg9J,SAAU,SAAkBj6K,GAC1B,OAAOA,EAAI,MAAQA,EAAI,EAAI,GAAK8d,KAAKyZ,IAAI,EAAI,GAAIv3B,GAAI,IAAIi9K,GAAGr9K,KAAKiQ,EAAGjQ,KAAKE,EAAGF,KAAKsf,EAAIlf,EAAGJ,KAAK6T,UAE/FymK,OAAQ,SAAgBl6K,GACtB,OAAOA,EAAI,MAAQA,EAAI,GAAK8d,KAAKyZ,IAAI,GAAIv3B,GAAI,IAAIi9K,GAAGr9K,KAAKiQ,EAAGjQ,KAAKE,EAAGF,KAAKsf,EAAIlf,EAAGJ,KAAK6T,UAEvFupG,IAAK,WACH,IAAIh9G,EAAI80B,MAAMl1B,KAAKiQ,GAAK,GAAKjQ,KAAKiQ,EAAI,KAAO6rK,GACzC37K,GAAKH,KAAKsf,EACV4a,EAAIhF,MAAMl1B,KAAKE,GAAK,EAAIF,KAAKE,EAAIC,GAAK,EAAIA,GAC1C+Y,EAAIgF,KAAKiE,IAAI/hB,GACbb,EAAI2e,KAAKkE,IAAIhiB,GACjB,OAAO,IAAImzJ,EAAE,KAAOpzJ,EAAI+5B,IA5DnB,OA4D6BhhB,EAAI2jK,GAAKt9K,IAAK,KAAOY,EAAI+5B,GAAK4iJ,GAAK5jK,EAAI6jK,GAAKx9K,IAAK,KAAOY,EAAI+5B,GAAK8iJ,GAAK9jK,IAAKlZ,KAAK6T,aAItH,IAAI88J,GAAK4M,GAAGpmB,GACRyZ,GAAK2M,GAAG3rJ,GACRi/I,GAAK,SAAYzwK,EAAGD,GACtB,IAAK,IAAI+5B,EAAI,IAAI1c,MAAMrd,GAAI+Y,EAAI,EAAGA,EAAI/Y,IAAK+Y,EACzCghB,EAAEhhB,GAAK9Y,EAAE8Y,GAAK/Y,EAAI,IAGpB,OAAO+5B,IAER,SAAU95B,EAAGD,EAAG+5B,GACjB,aAEA,SAAShhB,EAAE9Y,GACT,OAAQA,EAGV,SAASb,EAAEa,GACT,OAAOA,EAAIA,EAGb,SAASid,EAAEjd,GACT,OAAOA,GAAK,EAAIA,GAGlB,SAASwC,EAAExC,GACT,QAASA,GAAK,IAAM,EAAIA,EAAIA,IAAMA,GAAK,EAAIA,GAAK,GAAK,EAGvD,SAASF,EAAEE,GACT,OAAOA,EAAIA,EAAIA,EAGjB,SAASof,EAAEpf,GACT,QAASA,EAAIA,EAAIA,EAAI,EAGvB,SAASif,EAAEjf,GACT,QAASA,GAAK,IAAM,EAAIA,EAAIA,EAAIA,GAAKA,GAAK,GAAKA,EAAIA,EAAI,GAAK,EAG9D85B,EAAEhhB,EAAE/Y,GAAI+5B,EAAEtb,EAAEze,EAAG,cAAc,WAC3B,OAAO+Y,KACLghB,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAOyC,KACLs3B,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOZ,KACL26B,EAAEtb,EAAEze,EAAG,eAAe,WACxB,OAAOkd,KACL6c,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAOyC,KACLs3B,EAAEtb,EAAEze,EAAG,aAAa,WACtB,OAAOkf,KACL6a,EAAEtb,EAAEze,EAAG,eAAe,WACxB,OAAOD,KACLg6B,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAOqf,KACL0a,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAOkf,KACL6a,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAOorC,KACLrR,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOmf,KACL4a,EAAEtb,EAAEze,EAAG,eAAe,WACxB,OAAO8P,KACLiqB,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAOorC,KACLrR,EAAEtb,EAAEze,EAAG,WAAW,WACpB,OAAOw7B,KACLzB,EAAEtb,EAAEze,EAAG,aAAa,WACtB,OAAOmd,KACL4c,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAO0O,KACLqrB,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAOw7B,KACLzB,EAAEtb,EAAEze,EAAG,WAAW,WACpB,OAAOyf,KACLsa,EAAEtb,EAAEze,EAAG,aAAa,WACtB,OAAOyO,KACLsrB,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOyd,KACLsc,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAOyf,KACLsa,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAO+5H,KACLhgG,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAOmyB,KACL4H,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAO26B,KACLZ,EAAEtb,EAAEze,EAAG,mBAAmB,WAC5B,OAAO+5H,KACLhgG,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOmzB,KACL4G,EAAEtb,EAAEze,EAAG,gBAAgB,WACzB,OAAOuzB,KACLwG,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAOmzB,KACL4G,EAAEtb,EAAEze,EAAG,mBAAmB,WAC5B,OAAO6R,KACLkoB,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAO42J,KACL78H,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAO22J,KACL58H,EAAEtb,EAAEze,EAAG,eAAe,WACxB,OAAOilB,KACL8U,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAO42J,KACL78H,EAAEtb,EAAEze,EAAG,eAAe,WACxB,OAAO2gB,KACLoZ,EAAEtb,EAAEze,EAAG,iBAAiB,WAC1B,OAAOu3B,KACLwC,EAAEtb,EAAEze,EAAG,kBAAkB,WAC3B,OAAO2gB,KACLoZ,EAAEtb,EAAEze,EAAG,oBAAoB,WAC7B,OAAO62J,KAGT,IAAI13I,EAAI,SAASlf,EAAED,GACjB,SAAS+5B,EAAE95B,GACT,OAAO8d,KAAKyZ,IAAIv3B,EAAGD,GAGrB,OAAOA,GAAKA,EAAG+5B,EAAE9B,SAAWh4B,EAAG85B,EALzB,CAMN,GACEjqB,EAAI,SAAS7P,EAAED,GACjB,SAAS+5B,EAAE95B,GACT,OAAO,EAAI8d,KAAKyZ,IAAI,EAAIv3B,EAAGD,GAG7B,OAAOA,GAAKA,EAAG+5B,EAAE9B,SAAWh4B,EAAG85B,EALzB,CAMN,GACEqR,EAAI,SAASnrC,EAAED,GACjB,SAAS+5B,EAAE95B,GACT,QAASA,GAAK,IAAM,EAAI8d,KAAKyZ,IAAIv3B,EAAGD,GAAK,EAAI+d,KAAKyZ,IAAI,EAAIv3B,EAAGD,IAAM,EAGrE,OAAOA,GAAKA,EAAG+5B,EAAE9B,SAAWh4B,EAAG85B,EALzB,CAMN,GACE75B,EAAI6d,KAAKK,GACTK,EAAIve,EAAI,EAEZ,SAASid,EAAEld,GACT,OAAO,EAAI8d,KAAKiE,IAAI/hB,EAAIwe,GAG1B,SAAS/P,EAAEzO,GACT,OAAO8d,KAAKkE,IAAIhiB,EAAIwe,GAGtB,SAAS+c,EAAEv7B,GACT,OAAQ,EAAI8d,KAAKiE,IAAI9hB,EAAID,IAAM,EAGjC,SAASwO,EAAExO,GACT,OAAO8d,KAAKyZ,IAAI,EAAG,GAAKv3B,EAAI,IAG9B,SAASwd,EAAExd,GACT,OAAO,EAAI8d,KAAKyZ,IAAI,GAAI,GAAKv3B,GAG/B,SAASwf,EAAExf,GACT,QAASA,GAAK,IAAM,EAAI8d,KAAKyZ,IAAI,EAAG,GAAKv3B,EAAI,IAAM,EAAI8d,KAAKyZ,IAAI,EAAG,GAAK,GAAKv3B,IAAM,EAGrF,SAASkyB,EAAElyB,GACT,OAAO,EAAI8d,KAAKmE,KAAK,EAAIjiB,EAAIA,GAG/B,SAAS06B,EAAE16B,GACT,OAAO8d,KAAKmE,KAAK,KAAMjiB,EAAIA,GAG7B,SAAS85H,EAAE95H,GACT,QAASA,GAAK,IAAM,EAAI,EAAI8d,KAAKmE,KAAK,EAAIjiB,EAAIA,GAAK8d,KAAKmE,KAAK,GAAKjiB,GAAK,GAAKA,GAAK,GAAK,EAGxF,IAAImzJ,EAAI,OAER,SAAS7/H,EAAEtzB,GACT,OAAO,EAAIkzB,EAAE,EAAIlzB,GAGnB,SAASkzB,EAAElzB,GACT,OAAQA,GAAKA,GAAK,EAAI,GAAKmzJ,EAAInzJ,EAAIA,EAAIA,EAAI,EAAI,GAAKmzJ,GAAKnzJ,GAAK,EAAI,IAAMA,EAAI,EAAI,EAAIA,EAAI,GAAK,GAAKmzJ,GAAKnzJ,GAAK,EAAI,IAAMA,EAAI,GAAK,GAAKmzJ,GAAKnzJ,GAAK,GAAK,IAAMA,EAAI,GAAK,GAGpK,SAAS4R,EAAE5R,GACT,QAASA,GAAK,IAAM,EAAI,EAAIkzB,EAAE,EAAIlzB,GAAKkzB,EAAElzB,EAAI,GAAK,GAAK,EAGzD,IAAI02J,EAAI,SAAS12J,EAAED,GACjB,SAAS+5B,EAAE95B,GACT,OAAOA,EAAIA,IAAMD,EAAI,GAAKC,EAAID,GAGhC,OAAOA,GAAKA,EAAG+5B,EAAEsjJ,UAAYp9K,EAAG85B,EAL1B,CAMN,SACE9U,EAAI,SAAShlB,EAAED,GACjB,SAAS+5B,EAAE95B,GACT,QAASA,EAAIA,IAAMD,EAAI,GAAKC,EAAID,GAAK,EAGvC,OAAOA,GAAKA,EAAG+5B,EAAEsjJ,UAAYp9K,EAAG85B,EAL1B,CAMN,SACE68H,EAAI,SAAS32J,EAAED,GACjB,SAAS+5B,EAAE95B,GACT,QAASA,GAAK,GAAK,EAAIA,EAAIA,IAAMD,EAAI,GAAKC,EAAID,IAAMC,GAAK,GAAKA,IAAMD,EAAI,GAAKC,EAAID,GAAK,GAAK,EAG7F,OAAOA,GAAKA,EAAG+5B,EAAEsjJ,UAAYp9K,EAAG85B,EAL1B,CAMN,SACE0P,EAAI,EAAI1rB,KAAKK,GACbmZ,EAAI,SAASt3B,EAAED,EAAG+5B,GACpB,IAAIhhB,EAAIgF,KAAKuE,KAAK,GAAKtiB,EAAI+d,KAAKyH,IAAI,EAAGxlB,MAAQ+5B,GAAK0P,GAEpD,SAASrqC,EAAEa,GACT,OAAOD,EAAI+d,KAAKyZ,IAAI,EAAG,KAAOv3B,GAAK8d,KAAKkE,KAAKlJ,EAAI9Y,GAAK85B,GAGxD,OAAO36B,EAAE84H,UAAY,SAAUl4H,GAC7B,OAAOC,EAAED,EAAG+5B,EAAI0P,IACfrqC,EAAEk+K,OAAS,SAAUvjJ,GACtB,OAAO95B,EAAED,EAAG+5B,IACX36B,EAXG,CAYN,EAAG,IACDuhB,EAAI,SAAS1gB,EAAED,EAAG+5B,GACpB,IAAIhhB,EAAIgF,KAAKuE,KAAK,GAAKtiB,EAAI+d,KAAKyH,IAAI,EAAGxlB,MAAQ+5B,GAAK0P,GAEpD,SAASrqC,EAAEa,GACT,OAAO,EAAID,EAAI+d,KAAKyZ,IAAI,GAAI,IAAMv3B,GAAKA,IAAM8d,KAAKkE,KAAKhiB,EAAI8Y,GAAKghB,GAGlE,OAAO36B,EAAE84H,UAAY,SAAUl4H,GAC7B,OAAOC,EAAED,EAAG+5B,EAAI0P,IACfrqC,EAAEk+K,OAAS,SAAUvjJ,GACtB,OAAO95B,EAAED,EAAG+5B,IACX36B,EAXG,CAYN,EAAG,IACDy3J,EAAI,SAAS52J,EAAED,EAAG+5B,GACpB,IAAIhhB,EAAIgF,KAAKuE,KAAK,GAAKtiB,EAAI+d,KAAKyH,IAAI,EAAGxlB,MAAQ+5B,GAAK0P,GAEpD,SAASrqC,EAAEa,GACT,QAASA,EAAI,EAAIA,EAAI,GAAK,EAAID,EAAI+d,KAAKyZ,IAAI,EAAG,GAAKv3B,GAAK8d,KAAKkE,KAAKlJ,EAAI9Y,GAAK85B,GAAK,EAAI/5B,EAAI+d,KAAKyZ,IAAI,GAAI,GAAKv3B,GAAK8d,KAAKkE,KAAKlJ,EAAI9Y,GAAK85B,IAAM,EAG1I,OAAO36B,EAAE84H,UAAY,SAAUl4H,GAC7B,OAAOC,EAAED,EAAG+5B,EAAI0P,IACfrqC,EAAEk+K,OAAS,SAAUvjJ,GACtB,OAAO95B,EAAED,EAAG+5B,IACX36B,EAXG,CAYN,EAAG,KACJ,SAAUa,EAAGD,EAAG+5B,GACjB,aAEAA,EAAEhhB,EAAE/Y,GAAI+5B,EAAEtb,EAAEze,EAAG,OAAO,WACpB,OAAOE,KACL65B,EAAEtb,EAAEze,EAAG,SAAS,WAClB,OAAO0O,KACLqrB,EAAEtb,EAAEze,EAAG,cAAc,WACvB,OAAOw7B,KACLzB,EAAEtb,EAAEze,EAAG,WAAW,WACpB,OAAOmyB,KACL4H,EAAEtb,EAAEze,EAAG,YAAY,WACrB,OAAO26B,KAET,IAAI5hB,EACA3Z,EACA8d,EAAI,EACJza,EAAI,EACJ1C,EAAI,EACJsf,EAAI,EACJH,EAAI,EACJC,EAAI,EACJrP,EAAI,iBAAmBytK,aAAeA,YAAYj5C,IAAMi5C,YAAcp6K,KACtEioC,EAAI,iBAAmBkyC,QAAUA,OAAO6e,sBAAwB7e,OAAO6e,sBAAsBhuB,KAAKmP,QAAU,SAAUr9E,GACxHihE,WAAWjhE,EAAG,KAGhB,SAASC,IACP,OAAOgf,IAAMksB,EAAE3sB,GAAIS,EAAIpP,EAAEw0H,MAAQnlH,GAGnC,SAASV,IACPS,EAAI,EAGN,SAAS/B,IACPtd,KAAK29K,MAAQ39K,KAAK49K,MAAQ59K,KAAK69K,MAAQ,KAGzC,SAAShvK,EAAEzO,EAAGD,EAAG+5B,GACf,IAAIhhB,EAAI,IAAIoE,EACZ,OAAOpE,EAAE4kK,QAAQ19K,EAAGD,EAAG+5B,GAAIhhB,EAG7B,SAASyiB,IACPt7B,MAAOgd,EAEP,IAAK,IAAIjd,EAAGD,EAAI+Y,EAAG/Y,IAChBC,EAAIif,EAAIlf,EAAEy9K,QAAU,GAAKz9K,EAAEw9K,MAAM79K,KAAK,KAAMM,GAAID,EAAIA,EAAE09K,QAGvDxgK,EAGJ,SAASzO,IACPyQ,GAAKG,EAAIvP,EAAEw0H,OAASnlH,EAAGjC,EAAIza,EAAI,EAE/B,IACE+4B,IACA,QACAte,EAAI,EAAG,WAML,IALA,IAAIjd,EACAD,EACA+5B,EAAIhhB,EACJmE,EAAI,IAED6c,GACLA,EAAEyjJ,OAAStgK,EAAI6c,EAAE0jJ,QAAUvgK,EAAI6c,EAAE0jJ,OAAQx9K,EAAI85B,EAAGA,EAAIA,EAAE2jJ,QAAU19K,EAAI+5B,EAAE2jJ,MAAO3jJ,EAAE2jJ,MAAQ,KAAM3jJ,EAAI95B,EAAIA,EAAEy9K,MAAQ19K,EAAI+Y,EAAI/Y,GAGzHZ,EAAIa,EAAGwf,EAAEvC,GAVJ,GAWFgC,EAAI,GAIb,SAASzB,IACP,IAAIxd,EAAI6P,EAAEw0H,MACNtkI,EAAIC,EAAIof,EACZrf,EAAI,MAAQmf,GAAKnf,EAAGqf,EAAIpf,GAG1B,SAASwf,EAAExf,GACTid,IAAMza,IAAMA,EAAIu+D,aAAav+D,IAAKxC,EAAIif,EAAI,IAAMjf,EAAI,MAAUwC,EAAIy+D,WAAWzyD,EAAGxO,EAAI6P,EAAEw0H,MAAQnlH,IAAKpf,IAAMA,EAAI69K,cAAc79K,MAAQA,IAAMsf,EAAIvP,EAAEw0H,MAAOvkI,EAAI89K,YAAYpgK,EAAG,MAAOP,EAAI,EAAGkuB,EAAE38B,KAG3L0O,EAAE1d,UAAYiP,EAAEjP,UAAY,CAC1BwC,YAAakb,EACbwgK,QAAS,SAAiB19K,EAAGD,EAAG+5B,GAC9B,GAAI,mBAAqB95B,EAAG,MAAM,IAAIoC,UAAU,8BAChD03B,GAAK,MAAQA,EAAI75B,KAAO65B,IAAM,MAAQ/5B,EAAI,GAAKA,GAAIH,KAAK69K,OAASt+K,IAAMS,OAAST,EAAIA,EAAEs+K,MAAQ79K,KAAOkZ,EAAIlZ,KAAMT,EAAIS,MAAOA,KAAK29K,MAAQv9K,EAAGJ,KAAK49K,MAAQ1jJ,EAAGta,KAE5J+c,KAAM,WACJ38B,KAAK29K,QAAU39K,KAAK29K,MAAQ,KAAM39K,KAAK49K,MAAQ,IAAOh+J,OAI1D,IAAI0S,EAAI,SAAWlyB,EAAGD,EAAG+5B,GACvB,IAAIhhB,EAAI,IAAIoE,EACZ,OAAOnd,EAAI,MAAQA,EAAI,GAAKA,EAAG+Y,EAAE4kK,SAAQ,SAAU5jJ,GACjDhhB,EAAEyjB,OAAQv8B,EAAE85B,EAAI/5B,KACfA,EAAG+5B,GAAIhhB,GAER4hB,EAAI,SAAW16B,EAAGD,EAAG+5B,GACvB,IAAIhhB,EAAI,IAAIoE,EACR/d,EAAIY,EACR,OAAO,MAAQA,GAAK+Y,EAAE4kK,QAAQ19K,EAAGD,EAAG+5B,GAAIhhB,IAAM/Y,GAAKA,EAAG+5B,EAAI,MAAQA,EAAI75B,KAAO65B,EAAGhhB,EAAE4kK,SAAQ,SAASzgK,EAAEza,GACnGA,GAAKrD,EAAG2Z,EAAE4kK,QAAQzgK,EAAG9d,GAAKY,EAAG+5B,GAAI95B,EAAEwC,KAClCzC,EAAG+5B,GAAIhhB,Q,iCC/4SD,SAAS0pD,EAAiBtjE,EAAQmjE,EAAW56C,GAC1D,GAAIvoB,EAAQ,CACV,GAAuC,oBAA5BA,EAAOsjE,iBAEhB,OADAtjE,EAAOsjE,iBAAiBH,EAAW56C,GAAU,GACtC,CACL1X,OAAQ,WACN7Q,EAAOykE,oBAAoBtB,EAAW56C,GAAU,KAKtD,GAAkC,oBAAvBvoB,EAAOg6J,YAGhB,OADAh6J,EAAOg6J,YAAY,KAAO72F,EAAW56C,GAC9B,CACL1X,OAAQ,WAEN7Q,EAAOi6J,YAAY,KAAO92F,EAAW56C,MCZ/C,IAAIo2J,EACAC,EACAC,EACAC,EAiBW,SAASplB,EAAUrjI,GAC3BsoJ,IAfLA,EAAQ3rI,SAASgwC,cAAc,SAC/B47F,EAAW5rI,SAASgwC,cAAc,MAClC67F,EAAe,qBACfC,EAAa,CACX1sI,GAAIY,SAASgwC,cAAc,SAC3Bk3E,MAAOykB,EACPxkB,MAAOwkB,EACPvkB,MAAOukB,EACPtkB,GAAIukB,EACJtkB,GAAIskB,EACJ,IAAK5rI,SAASgwC,cAAc,SAS9B,IAAIrwE,EAAOksK,EAAa/9J,KAAKuV,IAAQ3W,OAAOsW,GAEvCrjB,GAAUA,KAAQmsK,IACrBnsK,EAAO,KAGT,IAAIvD,EAAY0vK,EAAWnsK,GAC3B0jB,EAAMA,EAAIhW,QAAQ,iBAAkB,IACpCjR,EAAUm+B,UAAY,GAAKlX,EAC3B,IAAIgc,EAAMjjC,EAAUk/B,WAAW,GAE/B,OADAl/B,EAAUikC,YAAYhB,GACfA,EClCM,SAASynH,EAASznH,EAAK1/B,EAAM0oD,GAC1C,IAAIr9C,EAEJ,IACEA,EAAImgE,OAAOw8E,iBAAmBx8E,OAAOw8E,iBAAiBtoH,EAAK,MAAM1/B,GAAQ0/B,EAAIptC,MAAM0N,GACnF,MAAO9R,IACP,QACAmd,OAAUxW,IAANwW,EAAkBq9C,EAAer9C,EAGvC,OAAOA,EChBM,SAAS+nB,EAAU8mB,EAAIwO,GACpC,IAAI7rD,EAASsqJ,EAASjtG,EAAI,SAAUwO,GAMpC,MAJe,SAAX7rD,IACFA,EAASq9C,EAAGhC,cAGP/jC,WAAWtX,GCNL,SAASmqJ,EAAe9sG,EAAIwO,GACzC,IAAI7rD,EAASu2B,EAAU8mB,EAAIwO,GACvB0jH,EAAOj4J,WAAWgzI,EAASjtG,EAAI,oBAAsB,EACrDmyH,EAAOl4J,WAAWgzI,EAASjtG,EAAI,gBAAkB,EACjDoyH,EAAUn4J,WAAWgzI,EAASjtG,EAAI,mBAAqB,EAI3D,OAAOr9C,EAASuvK,GAHFj4J,WAAWgzI,EAASjtG,EAAI,uBAAyB,GAG9BmyH,EAAOC,GAF7Bn4J,WAAWgzI,EAASjtG,EAAI,eAAiB,IACtC/lC,WAAWgzI,EAASjtG,EAAI,kBAAoB,GCR7C,SAAS,EAAUA,EAAIwO,GACpC,IAAIn2D,EAAQ40J,EAASjtG,EAAI,QAASwO,GAMlC,MAJc,SAAVn2D,IACFA,EAAQ2nD,EAAGf,aAGNhlC,WAAW5hB,GCNL,SAAS00J,EAAc/sG,EAAIwO,GACxC,IAAIn2D,EAAQ,EAAS2nD,EAAIwO,GACrB6jH,EAAQp4J,WAAWgzI,EAASjtG,EAAI,qBAAuB,EACvDsyH,EAAQr4J,WAAWgzI,EAASjtG,EAAI,iBAAmB,EACnDuyH,EAASt4J,WAAWgzI,EAASjtG,EAAI,kBAAoB,EACrDwyH,EAASv4J,WAAWgzI,EAASjtG,EAAI,sBAAwB,EACzDyyH,EAASx4J,WAAWgzI,EAASjtG,EAAI,iBAAmB,EAExD,OAAO3nD,EAAQg6K,EAAQG,EAASF,EAAQC,GAD5Bt4J,WAAWgzI,EAASjtG,EAAI,gBAAkB,GACGyyH,ECV5C,SAASzlB,IACtB,OAAO17E,OAAOu8E,iBAAmBv8E,OAAOu8E,iBAAmB,ECD9C,SAASX,EAAU1nH,EAAKktI,GACrC,GAAIltI,EACF,IAAK,IAAIhyC,KAAOk/K,EACVA,EAAIh/K,eAAeF,KACrBgyC,EAAIptC,MAAM5E,GAAOk/K,EAAIl/K,IAK3B,OAAOgyC,E,OCTT,wY,oGCmCamtI,EAxBL,CACJC,IAAK,qBACLC,IAAK,sB,SCRTC,IAAMC,SAASC,QAAUL,EAAIC,IAC7BE,IAAMC,SAASE,iBAAkB,EACjCH,IAAMC,SAAStuB,QAAU,IAEzB,IAAMyuB,EAAcJ,IAAMI,YAGpBC,EAAc,SAACC,EAAK5rB,GACxB7d,EAAA,EAAQ54G,MAAMqiJ,GACd5rB,EAAO4rB,IAIHC,EAAiB,SAACn/J,EAAKqzI,EAASC,GAEpC,GAAmB,MAAftzI,EAAIo/J,OACN,OAAOH,EAAY,iCAAS3rB,GAI9B,IAAM8rB,EAASp/J,EAAIZ,KAAKggK,OAGxB,OAAe,MAAXA,EACK/rB,EAAQrzI,EAAIZ,KAAKA,MAIX,MAAXggK,GACF,IAAMC,aACN,IAAMC,QAAQ,CACZh+K,MAAO,eACPkrD,QAASxsC,EAAIZ,KAAKq2H,QAClB8pC,KAAM,kBAAMniG,OAAOoiG,SAASC,KAAO,YAE9BnsB,EAAOtzI,EAAIZ,KAAKq2H,UAIlBwpC,EAAYj/J,EAAIZ,KAAKq2H,QAAS6d,IAGxB,KACb12I,IAAK,WAAuC,IAAtC8iK,EAAqC,uDAA/B,GAAItgK,EAA2B,uDAApB,GAAIkrE,EAAgB,uDAAP,GAE9BA,EAAOq1F,cACTr1F,EAAOq1F,YAAc,IAAIX,EAAY10F,EAAOq1F,cAG9C,IAAMC,EAAYC,IAAaC,MAAM1gK,GAAM,GAE3C,OAAO,IAAIg0I,SAAQ,SAACC,EAASC,GAC3BsrB,IAAMhiK,IAAI8iK,EAAV,aAAiBlgK,OAAQogK,GAAct1F,IACtC2iE,MAAK,SAAAjtI,GAAG,OAAIm/J,EAAen/J,EAAKqzI,EAASC,MACzCysB,OAAM,SAAAb,GAAG,OAAID,EAAYC,EAAIzpC,QAAS6d,UAG3CtG,KAAM,WAAuC,IAAtC0yB,EAAqC,uDAA/B,GAAItgK,EAA2B,uDAApB,GAAIkrE,EAAgB,uDAAP,GAE/BA,EAAOq1F,cACTr1F,EAAOq1F,YAAc,IAAIX,EAAY10F,EAAOq1F,cAG9C,IAAMC,EAAYC,IAAaC,MAAM1gK,GAAM,GAE3C,OAAO,IAAIg0I,SAAQ,SAACC,EAASC,GAC3BsrB,IAAM5xB,KAAK0yB,EAAK,CAAE14I,MAAO44I,GAAat1F,GACrC2iE,MAAK,SAAAjtI,GAAG,OAAIm/J,EAAen/J,EAAKqzI,EAASC,MACzCysB,OAAM,SAAAb,GAAG,OAAID,EAAYC,EAAIzpC,QAAS6d,UAG3C0sB,OAAQ,WAAuC,IAAtCN,EAAqC,uDAA/B,GAAItgK,EAA2B,uDAApB,GAAIkrE,EAAgB,uDAAP,GAMrC,OAJIA,EAAOq1F,cACTr1F,EAAOq1F,YAAc,IAAIX,EAAY10F,EAAOq1F,cAGvC,IAAIvsB,SAAQ,SAACC,EAASC,GAC3BsrB,IAAM5xB,KAAK0yB,EAAKtgK,EAAhB,aAAwB6gK,QAAQ,CAAC,eAAe,wBAA2B31F,IAC1E2iE,MAAK,SAAAjtI,GAAG,OAAIm/J,EAAen/J,EAAKqzI,EAASC,MACzCysB,OAAM,SAAAb,GAAG,OAAID,EAAYC,EAAIzpC,QAAS6d,Y,iCC5D9B,KACbwsB,MArBkB,SAACx/K,EAAK4/K,GACxB,IAAK5/K,GAAsB,kBAARA,GAAoC,kBAARA,GAAoB6c,MAAMilH,QAAQ9hI,GAC/E,OAAOA,EAGT,IAAM6/K,EAAS,GACf,IAAI,IAAIp4J,KAAQznB,EACI,KAAdA,EAAIynB,GACFm4J,IAAoBC,EAAOp4J,GAAQ,IACT,kBAAdznB,EAAIynB,GACpBo4J,EAAOp4J,GAAQznB,EAAIynB,GAAM+gE,OACF,IAAdxoF,EAAIynB,GACbo4J,EAAOp4J,GAAQ,EACNznB,EAAIynB,KACbo4J,EAAOp4J,GAAQznB,EAAIynB,IAGvB,OAAOo4J,K,iCCdM,SAASC,IACtB,IAAItwJ,EAAO,GAAG7K,MAAMxlB,KAAKN,UAAW,GAEpC,OAAoB,IAAhB2wB,EAAK1wB,OACA0wB,EAAK,GAGP,WACL,IAAK,IAAI5wB,EAAI,EAAGA,EAAI4wB,EAAK1wB,OAAQF,IAC3B4wB,EAAK5wB,IAAM4wB,EAAK5wB,GAAGQ,OACrBowB,EAAK5wB,GAAGQ,MAAMC,KAAMR,YAlB5B,mC,iCCAA,yEAEe,SAASkhL,EAAqBphL,EAAQmjE,EAAW7wD,EAAI63B,GAElE,IAAI5hB,EAAW,IAAS84J,wBAA0B,SAAaxgL,GAC7D,IAASwgL,wBAAwB/uK,EAAIzR,IACnCyR,EACJ,OAAO,IAAoBtS,EAAQmjE,EAAW56C,EAAU4hB,K,iCCP1D,WAGIm3I,EAEJ,WACE,SAASA,IACP5gL,KAAK+tK,QAAU,GA6HjB,OAnHA6S,EAAahhL,UAAUoO,GAAK,SAAU+nI,EAAKluH,EAAUqhJ,GAUnD,OATKlpK,KAAK+tK,QAAQh4B,KAChB/1I,KAAK+tK,QAAQh4B,GAAO,IAGtB/1I,KAAK+tK,QAAQh4B,GAAKvlI,KAAK,CACrBqX,SAAUA,EACVqhJ,OAAQA,IAGHlpK,MAST4gL,EAAahhL,UAAUspK,KAAO,SAAUnzB,EAAKluH,GAE3C,OADA7nB,KAAKgO,GAAG+nI,EAAKluH,GAAU,GAChB7nB,MAST4gL,EAAahhL,UAAU8sC,KAAO,SAAUqpG,GAKtC,IAJA,IAAI7wI,EAAQlF,KAERmwB,EAAO,GAEFC,EAAK,EAAGA,EAAK5wB,UAAUC,OAAQ2wB,IACtCD,EAAKC,EAAK,GAAK5wB,UAAU4wB,GAG3B,IAAIulE,EAAS31F,KAAK+tK,QAAQh4B,IAAQ,GAC9B8qC,EAAiB7gL,KAAK+tK,QAzDf,MAyDoC,GAE3C+S,EAAS,SAAgBC,GAG3B,IAFA,IAAIthL,EAASshL,EAAGthL,OAEPF,EAAI,EAAGA,EAAIE,EAAQF,IAC1B,GAAKwhL,EAAGxhL,GAAR,CAIA,IAAIiG,EAAKu7K,EAAGxhL,GACRsoB,EAAWriB,EAAGqiB,SACPriB,EAAG0jK,OAGZ6X,EAAGpwK,OAAOpR,EAAG,GAEK,IAAdwhL,EAAGthL,eACEyF,EAAM6oK,QAAQh4B,GAGvBt2I,IACAF,KAGFsoB,EAAS9nB,MAAMmF,EAAOirB,KAI1B2wJ,EAAOnrF,GACPmrF,EAAOD,IASTD,EAAahhL,UAAUsQ,IAAM,SAAU6lI,EAAKluH,GAC1C,GAAKkuH,EAIH,GAAKluH,EAGE,CAKL,IAHA,IAAI8tE,EAAS31F,KAAK+tK,QAAQh4B,IAAQ,GAC9B90H,EAAW00E,EAAOl2F,OAEbF,EAAI,EAAGA,EAAI0hB,EAAU1hB,IACxBo2F,EAAOp2F,GAAGsoB,WAAaA,IACzB8tE,EAAOhlF,OAAOpR,EAAG,GACjB0hB,IACA1hB,KAIkB,IAAlBo2F,EAAOl2F,eACFO,KAAK+tK,QAAQh4B,eAff/1I,KAAK+tK,QAAQh4B,QAJtB/1I,KAAK+tK,QAAU,GAwBjB,OAAO/tK,MAKT4gL,EAAahhL,UAAU4oK,UAAY,WACjC,OAAOxoK,KAAK+tK,SAGP6S,EA/HT,GAkIe,a,iCCvIA,SAASzmB,EAASrrB,EAAM50G,GAGrC,IAFA,IAAIgT,EAAOhT,EAEJgT,GAAM,CACX,GAAIA,IAAS4hG,EACX,OAAO,EAGT5hG,EAAOA,EAAKqB,WAGd,OAAO,EAXT,mC,iCCAA,gGAAStsC,EAAQtB,GAaf,OATEsB,EADoB,oBAAXC,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBxB,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXuB,QAAyBvB,EAAIyB,cAAgBF,QAAUvB,IAAQuB,OAAOtC,UAAY,gBAAkBe,IAI9GA,GAGjB,SAAS0B,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAIxB,SAASC,EAAkBnD,EAAQmB,GACjC,IAAK,IAAIlB,EAAI,EAAGA,EAAIkB,EAAMhB,OAAQF,IAAK,CACrC,IAAImD,EAAajC,EAAMlB,GACvBmD,EAAWnB,WAAamB,EAAWnB,aAAc,EACjDmB,EAAWlB,cAAe,EACtB,UAAWkB,IAAYA,EAAWjB,UAAW,GACjDrC,OAAOkC,eAAehC,EAAQoD,EAAW/C,IAAK+C,IAyBlD,SAASC,EAAgBC,EAAGvC,GAM1B,OALAsC,EAAkBvD,OAAOyD,gBAAkB,SAAyBD,EAAGvC,GAErE,OADAuC,EAAEE,UAAYzC,EACPuC,IAGcA,EAAGvC,GAG5B,SAAS0C,EAAaC,GACpB,IAAIC,EAkCN,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAK1D,UAAU2D,SAASzD,KAAKoD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOnD,GACP,OAAO,GA3CuBqD,GAEhC,OAAO,WACL,IACIC,EADAC,EAAQC,EAAgBX,GAG5B,GAAIC,EAA2B,CAC7B,IAAIW,EAAYD,EAAgB3D,MAAMoC,YAEtCqB,EAASP,QAAQC,UAAUO,EAAOlE,UAAWoE,QAE7CH,EAASC,EAAM3D,MAAMC,KAAMR,WAG7B,OAAOqE,EAA2B7D,KAAMyD,IAI5C,SAASI,EAA2BC,EAAMhE,GACxC,OAAIA,GAA2B,WAAlBmC,EAAQnC,IAAsC,oBAATA,EAOpD,SAAgCgE,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,EARAE,CAAuBF,GAHrBhE,EA2BX,SAAS6D,EAAgBf,GAIvB,OAHAe,EAAkBvE,OAAOyD,eAAiBzD,OAAO6E,eAAiB,SAAyBrB,GACzF,OAAOA,EAAEE,WAAa1D,OAAO6E,eAAerB,KAEvBA,GAOzB,IAAIo+K,EAA+B,SAAUv8K,IAnF7C,SAAmBC,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInC,UAAU,sDAGtBkC,EAAS9E,UAAYR,OAAOwF,OAAOD,GAAcA,EAAW/E,UAAW,CACrEwC,YAAa,CACXxB,MAAO8D,EACPjD,UAAU,EACVD,cAAc,KAGdmD,GAAYhC,EAAgB+B,EAAUC,GAwE1CE,CAAUm8K,EAAiBv8K,GAE3B,IA5FoBlC,EAAawC,EAAYC,EA4FzCC,EAASlC,EAAai+K,GAE1B,SAASA,IACP,IAAI97K,EAEJ7C,EAAgBrC,KAAMghL,GAEtB,IAAK,IAAIC,EAAOzhL,UAAUC,OAAQ0wB,EAAO,IAAI3S,MAAMyjK,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E/wJ,EAAK+wJ,GAAQ1hL,UAAU0hL,GAoCzB,OAjCAh8K,EAAQD,EAAOnF,KAAKC,MAAMkF,EAAQ,CAACjF,MAAMqB,OAAO8uB,KAE1CgxJ,gBAAkB,WAClBj8K,EAAMwJ,YACR,IAAS0yK,uBAAuBl8K,EAAMwJ,WAEtCxJ,EAAMwJ,UAAU6/B,WAAWoE,YAAYztC,EAAMwJ,WAE7CxJ,EAAMwJ,UAAY,OAItBxJ,EAAMm8K,gBAAkB,SAAU5gL,EAAO6gL,GACvC,IAAIt5K,EAAc9C,EAAMzE,MACpBuc,EAAUhV,EAAYgV,QACtBk1E,EAAelqF,EAAYkqF,aAC3BqvF,EAAcv5K,EAAYu5K,YAC1BC,EAAex5K,EAAYw5K,aAC3BxyK,EAAShH,EAAYgH,QAErBgO,GAAWhO,EAAOyyK,YAAcF,KAC7Br8K,EAAMwJ,YACTxJ,EAAMwJ,UAAY8yK,KAGpB,IAASE,oCAAoC1yK,EAAQkjF,EAAazxF,GAAQyE,EAAMwJ,WAAW,WACrF4yK,GACFA,EAAMxhL,KAAKE,WAMZkF,EAkCT,OA1KoB3C,EA2IPy+K,GA3IoBj8K,EA2IH,CAAC,CAC7BpF,IAAK,oBACLiB,MAAO,WACDZ,KAAKS,MAAMkhL,WACb3hL,KAAKqhL,oBAGR,CACD1hL,IAAK,qBACLiB,MAAO,WACDZ,KAAKS,MAAMkhL,WACb3hL,KAAKqhL,oBAGR,CACD1hL,IAAK,uBACLiB,MAAO,WACDZ,KAAKS,MAAMmhL,aACb5hL,KAAKmhL,oBAGR,CACDxhL,IAAK,SACLiB,MAAO,WACL,OAAOZ,KAAKS,MAAM6F,SAAS,CACzB+6K,gBAAiBrhL,KAAKqhL,gBACtBF,gBAAiBnhL,KAAKmhL,uBApKZ1+K,EAAkBF,EAAY3C,UAAWmF,GACrDC,GAAavC,EAAkBF,EAAayC,GAwKzCg8K,EAjF0B,CAkFjC,IAAM/yB,WAER+yB,EAAgBa,UAAY,CAC1BF,UAAW,IAAUG,KACrBF,YAAa,IAAUE,KACvB9kK,QAAS,IAAU8kK,KACnBP,YAAa,IAAUO,KACvB9yK,OAAQ,IAAU+yK,IAClB7vF,aAAc,IAAUtN,KAAKo9F,WAC7BR,aAAc,IAAU58F,KAAKo9F,WAC7B17K,SAAU,IAAUs+E,KAAKo9F,YAE3BhB,EAAgBiB,aAAe,CAC7BN,WAAW,EACXC,aAAa,EACbL,aAAa,I,iCC1Nf,gGAASt/K,EAAQtB,GAaf,OATEsB,EADoB,oBAAXC,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBxB,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXuB,QAAyBvB,EAAIyB,cAAgBF,QAAUvB,IAAQuB,OAAOtC,UAAY,gBAAkBe,IAI9GA,GAGjB,SAAS0B,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAIxB,SAASC,EAAkBnD,EAAQmB,GACjC,IAAK,IAAIlB,EAAI,EAAGA,EAAIkB,EAAMhB,OAAQF,IAAK,CACrC,IAAImD,EAAajC,EAAMlB,GACvBmD,EAAWnB,WAAamB,EAAWnB,aAAc,EACjDmB,EAAWlB,cAAe,EACtB,UAAWkB,IAAYA,EAAWjB,UAAW,GACjDrC,OAAOkC,eAAehC,EAAQoD,EAAW/C,IAAK+C,IAyBlD,SAASC,EAAgBC,EAAGvC,GAM1B,OALAsC,EAAkBvD,OAAOyD,gBAAkB,SAAyBD,EAAGvC,GAErE,OADAuC,EAAEE,UAAYzC,EACPuC,IAGcA,EAAGvC,GAG5B,SAAS0C,EAAaC,GACpB,IAAIC,EAkCN,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAK1D,UAAU2D,SAASzD,KAAKoD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOnD,GACP,OAAO,GA3CuBqD,GAEhC,OAAO,WACL,IACIC,EADAC,EAAQC,EAAgBX,GAG5B,GAAIC,EAA2B,CAC7B,IAAIW,EAAYD,EAAgB3D,MAAMoC,YAEtCqB,EAASP,QAAQC,UAAUO,EAAOlE,UAAWoE,QAE7CH,EAASC,EAAM3D,MAAMC,KAAMR,WAG7B,OAAOqE,EAA2B7D,KAAMyD,IAI5C,SAASI,EAA2BC,EAAMhE,GACxC,OAAIA,GAA2B,WAAlBmC,EAAQnC,IAAsC,oBAATA,EAOpD,SAAgCgE,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,EARAE,CAAuBF,GAHrBhE,EA2BX,SAAS6D,EAAgBf,GAIvB,OAHAe,EAAkBvE,OAAOyD,eAAiBzD,OAAO6E,eAAiB,SAAyBrB,GACzF,OAAOA,EAAEE,WAAa1D,OAAO6E,eAAerB,KAEvBA,GAOzB,IAAIs/K,EAAsB,SAAUz9K,IAnFpC,SAAmBC,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInC,UAAU,sDAGtBkC,EAAS9E,UAAYR,OAAOwF,OAAOD,GAAcA,EAAW/E,UAAW,CACrEwC,YAAa,CACXxB,MAAO8D,EACPjD,UAAU,EACVD,cAAc,KAGdmD,GAAYhC,EAAgB+B,EAAUC,GAwE1CE,CAAUq9K,EAAQz9K,GAElB,IA5FoBlC,EAAawC,EAAYC,EA4FzCC,EAASlC,EAAam/K,GAE1B,SAASA,IAGP,OAFA7/K,EAAgBrC,KAAMkiL,GAEfj9K,EAAOlF,MAAMC,KAAMR,WA8C5B,OA/IoB+C,EAoGP2/K,GApGoBn9K,EAoGZ,CAAC,CACpBpF,IAAK,oBACLiB,MAAO,WACLZ,KAAKmiL,oBAEN,CACDxiL,IAAK,qBACLiB,MAAO,SAA4BwhL,GACjC,IAAIC,EAAYriL,KAAKS,MAAM4hL,UAEvBA,GACFA,EAAUD,KAGb,CACDziL,IAAK,uBACLiB,MAAO,WACLZ,KAAKmhL,oBAEN,CACDxhL,IAAK,kBACLiB,MAAO,WACLZ,KAAKsiL,WAAatiL,KAAKS,MAAM+gL,eAC7BxhL,KAAKuiL,gBAEN,CACD5iL,IAAK,kBACLiB,MAAO,WACDZ,KAAKsiL,YACPtiL,KAAKsiL,WAAW/zI,WAAWoE,YAAY3yC,KAAKsiL,cAG/C,CACD3iL,IAAK,SACLiB,MAAO,WACL,OAAIZ,KAAKsiL,WACA,IAASE,aAAaxiL,KAAKS,MAAM6F,SAAUtG,KAAKsiL,YAGlD,UA1IK7/K,EAAkBF,EAAY3C,UAAWmF,GACrDC,GAAavC,EAAkBF,EAAayC,GA6IzCk9K,EAtDiB,CAuDxB,IAAMj0B,WAERi0B,EAAOL,UAAY,CACjBL,aAAc,IAAU58F,KAAKo9F,WAC7B17K,SAAU,IAAU4mC,KAAK80I,WACzBK,UAAW,IAAUz9F,O,iCCnLvBxlF,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET2zJ,EAAiB,QAYjB,SAA0Bj1J,EAAQmjE,EAAW56C,EAAU4hB,GACrD,SAASg5I,EAAatiL,GACpB,IAAIuiL,EAAK,IAAIC,EAAuB,QAAExiL,GACtC0nB,EAAS/nB,KAAKR,EAAQojL,GAGxB,GAAIpjL,EAAOsjE,iBAAkB,CAC3B,IAAIggH,EAAO,WACT,IAAIC,GAAa,EASjB,MAPsB,kBAAXp5I,EACTo5I,EAAap5I,EAAOY,UAAW,EACJ,mBAAXZ,IAChBo5I,EAAap5I,GAGfnqC,EAAOsjE,iBAAiBH,EAAWggH,EAAch5I,IAAU,GACpD,CACLnsB,EAAG,CACDnN,OAAQ,WACN7Q,EAAOykE,oBAAoBtB,EAAWggH,EAAcI,MAbjD,GAmBX,GAAoB,kBAATD,EAAmB,OAAOA,EAAKtlK,OACrC,GAAIhe,EAAOg6J,YAEhB,OADAh6J,EAAOg6J,YAAY,KAAO72F,EAAWggH,GAC9B,CACLtyK,OAAQ,WACN7Q,EAAOi6J,YAAY,KAAO92F,EAAWggH,MAnC7C,IANgC9hL,EAM5BmiL,EAAe,EAAQ,KAEvBH,GAR4BhiL,EAQWmiL,IAP3BniL,EAAIi1J,WAAaj1J,EAAM,CACnC,QAAWA,GA6Cfu1J,EAAO3B,QAAUA,EAAiB,S,iCCtDlC,oBACIwuB,EAAU,wBACVC,EAAU,kCACVC,EAAU,gEACVC,EAAiB,8BAgBjB3iI,EAAW,SAAkBrvC,EAAOC,EAAKye,EAAStrB,GACpD,OAAO4M,EAAM5M,IAAU6M,EAAI7M,GAAS4M,EAAM5M,IAAUsrB,GAItD,SAASuzJ,EAAQvyJ,GACf,MAAO,IAAMwyJ,EAAMxyJ,EAAI,IAAMwyJ,EAAMxyJ,EAAI,IAAMwyJ,EAAMxyJ,EAAI,IAIzD,IAuBIyyJ,EAvBAlhG,EAAU,SAAiBxsD,GAC7B,MAAO,CAAC5B,SAAS4B,EAAI5E,OAAO,EAAG,GAAI,IAAKgD,SAAS4B,EAAI5E,OAAO,EAAG,GAAI,IAAKgD,SAAS4B,EAAI5E,OAAO,EAAG,GAAI,MAIjGqyJ,EAAQ,SAAexiL,GACzB,IAAI0iL,EAAWplK,KAAKgS,MAAMtvB,GAAO2C,SAAS,IAC1C,OAA2B,IAApB+/K,EAAS7jL,OAAe,IAAM6jL,EAAWA,GAuB9CthI,EAAQ,SAAe/tC,GAEzB,GAAiB,MAAbA,EAAM,IAA+B,IAAjBA,EAAMxU,OAC5B,OAAOwU,EAGJovK,IAEHA,EAzDY,WACd,IAAI9jL,EAAI+yC,SAASgwC,cAAc,KAI/B,OAHA/iF,EAAEoC,MAAQ,oBACVpC,EAAEgF,MAAM6T,QAAU,OAClBk6B,SAAS3qC,KAAK0mC,YAAY9uC,GACnBA,EAoDCgkL,IAGRF,EAAI9+K,MAAM0P,MAAQA,EAClB,IAAIkY,EAAMmmB,SAASgpI,YAAYrhB,iBAAiBopB,EAAK,IAAI9H,iBAAiB,SAM1E,OADApvJ,EAAMg3J,EAJQJ,EAAQ3d,KAAKj5I,GACN,GAAGtI,MAAM,WAAWzf,KAAI,SAAUlE,GACrD,OAAOwiB,OAAOxiB,QA0DH,WACbiiF,QAASA,EACTj6C,SAhDa,SAAkBlyB,GAC/B,IAAIwtK,EAAa,mBAASxtK,GAAUA,EAAO6N,MAAM,KAAO7N,EACpDsS,EAAS,cAAIk7J,GAAY,SAAUvvK,GACrC,OAAOkuE,GAAgC,IAAxBluE,EAAM3T,QAAQ,KAAc0hD,EAAM/tC,GAASA,MAG5D,OAAO,SAAU2b,GACf,OArDW,SAAkBtH,EAAQsH,GACvC,IAAI6zJ,EAAevuJ,MAAMxS,OAAOkN,KAAaA,EAAU,EAAI,EAAIA,EAAU,EAAI,EAAIlN,OAAOkN,GACpF4X,EAAQlf,EAAO7oB,OAAS,EACxB87B,EAAOrd,KAAK2V,MAAM2T,EAAQi8I,GAC1B/sK,EAAO8wB,EAAQi8I,EAAeloJ,EAC9BrqB,EAAQoX,EAAOiT,GACfpqB,EAAMoqB,IAASiM,EAAQt2B,EAAQoX,EAAOiT,EAAO,GACjD,OAAO4nJ,EAAQ,CAAC5iI,EAASrvC,EAAOC,EAAKuF,EAAM,GAAI6pC,EAASrvC,EAAOC,EAAKuF,EAAM,GAAI6pC,EAASrvC,EAAOC,EAAKuF,EAAM,KA8ChGgtK,CAASp7J,EAAQsH,KA0C1BoyB,MAAO,kBAAQA,GACf2hI,cAvCkB,SAAuB74C,GACzC,GA5FO,uBAAuB1qH,KA4FV0qH,GAAgB,CAClC,IAAI84C,EACAp8I,OAAQ,EAEZ,GAAyB,MAArBsjG,EAAc,GAAY,CAE5B,IACIzsH,IADAuS,EAAMoyJ,EAAQ5d,KAAKt6B,IACN,GAAK,GAEtBtjG,EAAQ5W,EAAI,GACZgzJ,EAAa,mBAAqBvlK,EAAQ,aACrC,GAAyB,MAArBysH,EAAc,GAAY,CAGnC,IAAIl6G,EADJgzJ,EAAa,mBAEbp8I,GADI5W,EAAMqyJ,EAAQ7d,KAAKt6B,IACX,GAGd,IAAI+4C,EAAer8I,EAAMlT,MAAM4uJ,GAU/B,OATA,eAAKW,GAAc,SAAUv8K,EAAMhD,GACjC,IAAIoyE,EAAUpvE,EAAKuc,MAAM,KACzB+/J,GAAcltG,EAAQ,GAAK,IAAmB,IAAbA,EAAQ,GAAW,IAEhDpyE,IAAUu/K,EAAapkL,OAAS,IAClCmkL,GAAc,SAGlBA,GAAc,IAIhB,OAAO94C,K,iCChIT1rI,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIkjL,EAAY,EAAQ,KAExBvvB,EAAQp6I,QAAU,SAAUvZ,GAC1B,OAAO4c,MAAMilH,QAAUjlH,MAAMilH,QAAQ7hI,GAASkjL,EAAU3pK,QAAQvZ,EAAO,W,iCCEzE,SAASmjL,EAAuBpjL,GAC9B,OAAOA,GAAOA,EAAIi1J,WAAaj1J,EAAM,CACnC,QAAWA,GANfvB,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAST,IAEIojL,EAAoBD,EAFD,EAAQ,MAM3BE,EAAiBF,EAFD,EAAQ,KAMxBG,EAAc,CAAC,SAAU,UAAW,aAAc,UAAW,gBAAiB,aAAc,UAAW,WAAY,SAAU,YAAa,OAAQ,QAEtJ,SAASC,EAAkBrpJ,GACzB,OAAa,OAANA,QAAoBh0B,IAANg0B,EAGvB,IAAIspJ,EAAmB,CAAC,CACtBl/D,IAAK,OACLzkH,MAAO,CAAC,OAAQ,WAAY,MAAO,UAAW,SAC9C4jL,IAAK,SAAa9kI,EAAO+kI,GACnBH,EAAkB5kI,EAAMglI,SAC1BhlI,EAAMglI,MAASJ,EAAkBG,EAAYE,UAAmCF,EAAYG,QAAnCH,EAAYE,eAIjD19K,IAAlBy4C,EAAMmlI,UACRnlI,EAAMmlI,QAAUnlI,EAAMolI,WAGzB,CACDz/D,IAAK,SACLzkH,MAAO,CAAC,UAAW,iBAAkB,kBACpC,CACDykH,IAAK,eACLzkH,MAAO,CAAC,SAAU,WACjB,CACDykH,IAAK,mBACLzkH,MAAO,CAAC,WAAY,UACnB,CACDykH,IAAK,gCACLzkH,MAAO,GACP4jL,IAAK,SAAa9kI,EAAO+kI,GACvB,IAAIM,OAAS99K,EACT+9K,OAAS/9K,EACTs0B,OAAQt0B,EACRg+K,EAAaR,EAAYQ,WACzBxuK,EAAOguK,EAAYhuK,KACnByuK,EAAcT,EAAYS,YAC1BC,EAAcV,EAAYU,YAC1B/nC,EAASqnC,EAAYrnC,OAErB6nC,IACF1pJ,EAAQ0pJ,EAAa,KAInB7nC,IAEF7hH,EAAQ,GAAK6hH,EAAS,IAAM,EAAIA,EAAS,EAAIA,SAIlCn2I,IAATwP,IACEA,IAASipC,EAAM0lI,iBACjBJ,EAAS,EACTD,EAAS,EAAIxpJ,GACJ9kB,IAASipC,EAAM2lI,gBACxBN,EAAS,EACTC,EAASzpJ,SAKOt0B,IAAhBi+K,IACFF,EAASE,EAAc,UAGLj+K,IAAhBk+K,IACFJ,GAAU,EAAII,EAAc,KAIzBJ,GAAWC,IACdA,EAASzpJ,QAGIt0B,IAAX89K,IAMFrlI,EAAMqlI,OAASA,QAGF99K,IAAX+9K,IAMFtlI,EAAMslI,OAASA,QAGH/9K,IAAVs0B,IAMFmkB,EAAMnkB,MAAQA,KAGjB,CACD8pF,IAAK,yDACLzkH,MAAO,CAAC,UAAW,UAAW,UAAW,SAAU,UAAW,gBAAiB,QAAS,cAAe,YAAa,UAAW,QAAS,QAAS,UAAW,WAC5J4jL,IAAK,SAAa9kI,EAAO+kI,GACvB,IAAIa,OAAWr+K,EACXs+K,OAAMt+K,EACNa,OAAOb,EACPxH,EAASigD,EAAMjgD,OACf+lL,EAASf,EAAYe,OA6BzB,OA3BI/lL,GAAU6kL,EAAkB5kI,EAAM64C,SAAW+rF,EAAkBG,EAAY7nI,WAE7E2oI,GADAD,EAAW7lL,EAAOgmL,eAAiBhzI,UACpBunH,gBACflyJ,EAAOw9K,EAASx9K,KAChB43C,EAAM64C,MAAQksF,EAAY7nI,SAAW2oI,GAAOA,EAAIG,YAAc59K,GAAQA,EAAK49K,YAAc,IAAMH,GAAOA,EAAIrrB,YAAcpyJ,GAAQA,EAAKoyJ,YAAc,GACnJx6G,EAAM84C,MAAQisF,EAAY5nI,SAAW0oI,GAAOA,EAAII,WAAa79K,GAAQA,EAAK69K,WAAa,IAAMJ,GAAOA,EAAItrB,WAAanyJ,GAAQA,EAAKmyJ,WAAa,IAK5Iv6G,EAAMglI,YAAoBz9K,IAAXu+K,IAEhB9lI,EAAMglI,MADK,EAATc,EACY,EACI,EAATA,EACK,EACI,EAATA,EACK,EAEA,IAKb9lI,EAAMkmI,eAAiBlmI,EAAMmmI,cAChCnmI,EAAMkmI,cAAgBlmI,EAAMmmI,cAAgBpmL,EAASigD,EAAMomI,UAAYpmI,EAAMmmI,aAGxEnmI,KAIX,SAASqmI,IACP,OAnJS,EAsJX,SAASC,IACP,OAtJU,EAyJZ,SAASC,EAAexB,GACtB,IAAIn+K,EAAOm+K,EAAYn+K,KACnB4/K,EAAkD,oBAAhCzB,EAAY9kI,iBAAsE,mBAA7B8kI,EAAY0B,aAEvFhC,EAA2B,QAAElkL,KAAKE,MAElCA,KAAKskL,YAAcA,EAEnB,IAAI2B,EAAqBJ,EAErB,qBAAsBvB,EACxB2B,EAAqB3B,EAAY5f,iBAAmBkhB,EAAUC,EACrD,sBAAuBvB,EAEhC2B,EAAqB3B,EAAY4B,oBAAsBN,EAAUC,EACxD,gBAAiBvB,IAC1B2B,GAzKQ,IAyKa3B,EAAY6B,YAAwBP,EAAUC,GAGrE7lL,KAAKimL,mBAAqBA,EAC1B,IAAIG,EAAS,GAET9mK,OAAIxY,EACJ+nJ,OAAO/nJ,EACPrG,EAAQyjL,EAAY7iL,SAYxB,IAXA+iL,EAAiBl8K,SAAQ,SAAUm+K,GAC7BlgL,EAAKmuB,MAAM+xJ,EAAWnhE,OACxBzkH,EAAQA,EAAMY,OAAOglL,EAAW5lL,OAE5B4lL,EAAWhC,KACb+B,EAAO51K,KAAK61K,EAAWhC,SAI7B/kK,EAAI7e,EAAMhB,OAEH6f,GAELtf,KADA6uJ,EAAOpuJ,IAAQ6e,IACFglK,EAAYz1B,GAe3B,KAXK7uJ,KAAKV,QAAUymL,IAClB/lL,KAAKV,OAASglL,EAAYpW,YAAc57H,UAItCtyC,KAAKV,QAAmC,IAAzBU,KAAKV,OAAOgnL,WAC7BtmL,KAAKV,OAASU,KAAKV,OAAOivC,YAG5BjvB,EAAI8mK,EAAO3mL,OAEJ6f,IACLinK,EAAQH,IAAS9mK,IACXtf,KAAMskL,GAGdtkL,KAAK+4B,UAAYurJ,EAAYvrJ,WAAaz1B,KAAKmhI,MAGjD,IAAI+hD,EAAuBxC,EAA2B,QAAEpkL,WACxD,EAAIqkL,EAAwB,SAAG6B,EAAelmL,UAAW4mL,EAAsB,CAC7EpkL,YAAa0jL,EACbrmI,eAAgB,WACd,IAAIt/C,EAAIH,KAAKskL,YAETnkL,EAAEs/C,eACJt/C,EAAEs/C,iBAGFt/C,EAAEgmL,aAhOI,EAmORK,EAAqB/mI,eAAe3/C,KAAKE,OAE3Cw/C,gBAAiB,WACf,IAAIr/C,EAAIH,KAAKskL,YAETnkL,EAAEq/C,gBACJr/C,EAAEq/C,kBAGFr/C,EAAE6lL,cA7OG,EAgPPQ,EAAqBhnI,gBAAgB1/C,KAAKE,SAG9Cu0J,EAAiB,QAAIuxB,EACrB5vB,EAAO3B,QAAUA,EAAiB,S,iCClQlC,SAASkyB,IACP,OAAO,EAGT,SAASC,IACP,OAAO,EAGT,SAASC,IACP3mL,KAAK+4B,UAAYz1B,KAAKmhI,MACtBzkI,KAAKV,YAASwH,EACd9G,KAAK88C,mBAAgBh2C,EAfvB1H,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAiBT+lL,EAAgB/mL,UAAY,CAC1BgnL,cAAe,EACfxkL,YAAaukL,EACbV,mBAAoBQ,EACpBI,qBAAsBJ,EACtBK,8BAA+BL,EAC/BhnI,eAAgB,WACdz/C,KAAKimL,mBAAqBS,GAE5BlnI,gBAAiB,WACfx/C,KAAK6mL,qBAAuBH,GAE9B1wC,yBAA0B,WACxBh2I,KAAK8mL,8BAAgCJ,EAGrC1mL,KAAKw/C,mBAEPunI,KAAM,SAAcp2B,GACdA,EACF3wJ,KAAKg2I,2BAELh2I,KAAKw/C,kBAGPx/C,KAAKy/C,mBAGT80G,EAAiB,QAAIoyB,EACrBzwB,EAAO3B,QAAUA,EAAiB,S,iCCpDlCn1J,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET2zJ,EAAQ6B,mBAkBR,SAA4BjwJ,GAC1BouJ,EAAQ8B,WAA0BlwJ,GAlBpCouJ,EAAQ+B,SA4BR,SAAkBj5I,GAChB,OAAOA,EAAIilF,GA5BbiyD,EAAQgC,OAyCR,SAAgBl5I,EAAGuC,GACjB,OAAO1B,KAAKsE,IAAInF,EAAIuC,IAAMia,EAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAInF,GAAIa,KAAKsE,IAAI5C,KAnC1E,IAAIia,EAAU06H,EAAQ16H,QAAU,KACf06H,EAAQ8B,WAAqC,qBAAjBG,aAA+BA,aAAeh5I,MAC9E+2I,EAAQkC,OAASv4I,KAAKskB,OAWnC,IAAI8/D,EAASpkF,KAAKK,GAAK,K,iCCzBvBnf,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElB9sD,EAAI,EAAQ,KAIZr+E,EAEJ,SAAU52C,GAGR,SAAS42C,EAAO3sC,GACd,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CAI7C5gK,KAAM,OAKNxE,MAAO,KAKP4qC,MAAO,KAKPtd,UAAW,KAKXqb,QAAS,EAKTC,QAAS,GACRr7B,KAASlP,KAQZ,OANAkF,EAAMkK,OAENlK,EAAMyK,SAENzK,EAAM42C,aAEC52C,EA0ET,OAnHA8hL,EAAQ10B,UAAUz2G,EAAQ52C,GAgD1B42C,EAAOj8C,UAAU+P,OAAS,WACxB3P,KAAKq1C,cAELr1C,KAAK+7C,eAQPF,EAAOj8C,UAAUqoB,SAAW,WAG1B,OAFgBjoB,KAAKid,IAAI,aACJgM,UACTzkB,OAQdq3C,EAAOj8C,UAAUylC,UAAY,WAG3B,OAFgBrlC,KAAKid,IAAI,aACJgM,UACTna,QAQd+sC,EAAOj8C,UAAUqpB,QAAU,WACzB,OAAOjpB,KAAKid,IAAI,aAAagM,WAU/B4yB,EAAOj8C,UAAUo8C,OAAS,SAAUptC,EAAGC,GACrB7O,KAAKid,IAAI,aACf2zB,KAAKhiC,EAAGC,GAClB7O,KAAKqQ,IAAI,IAAKzB,GACd5O,KAAKqQ,IAAI,IAAKxB,IAOhBgtC,EAAOj8C,UAAUkQ,KAAO,WACtB9P,KAAKid,IAAI,UAAUnN,QAKrB+rC,EAAOj8C,UAAUq8C,eAAiB,SAAU3+B,GAG1C,OAFgBtd,KAAKid,IAAI,cAAgBi9G,EAAE03B,UAE1B9xJ,KAAKE,KAAMsd,IAGvBu+B,EApHT,CAJa,EAAQ,KAyHZ1hC,SAETo6I,EAAQp6I,QAAU0hC,G,iCCnIlBz8C,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAIlB58I,EAEJ,SAAUnlC,GAGR,SAASmlC,EAAMl7B,GACb,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAkBjC,OAhBAkF,EAAMgK,IAAM83K,EAAQjgB,SAAS,CAC3Bp4J,GAAI,KAEJI,OAAQ,KACRL,UAAW,KACXszB,MAAO,KAEPqI,SAAS,EAGTC,QAAS,EACTC,QAAS,EACTvtB,SAAS,EACTvE,OAAQ,GACPvJ,GACHhK,EAAMiJ,WAAY,EACXjJ,EAkBT,OAvCA8hL,EAAQ10B,UAAUloH,EAAOnlC,GAyBzBmlC,EAAMxqC,UAAUqd,IAAM,SAAUhL,GAC9B,OAAOjS,KAAKkP,IAAI+C,IAGlBm4B,EAAMxqC,UAAUyQ,IAAM,SAAU4B,EAAMrR,GAEpC,OADAZ,KAAKkP,IAAI+C,GAAQrR,EACVZ,MAGToqC,EAAMxqC,UAAUoQ,QAAU,WACxBhQ,KAAKkQ,MACLlQ,KAAKmO,WAAY,GAGZi8B,EAxCT,CAJsB,EAAQ,KA6CZjwB,SAElBo6I,EAAQnqH,MAAQA,EAChBmqH,EAAQp6I,QAAUiwB,G,iCCtDlBhrC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIqmL,EAAU,EAAQ,KAEtB1yB,EAAQr3G,aAAe,EACvBq3G,EAAQ2yB,cAAuC,EAAvB3yB,EAAQr3G,aAChCq3G,EAAQ11G,uBAAiD,EAAxB01G,EAAQ2yB,cACzC3yB,EAAQ4yB,YAAc,EACtB5yB,EAAQr4G,eAAiB,CACvBvpC,KAAM,OAGNwB,WAAY,GACZC,YAAa,mBACbZ,OAAQ,GAEV+gJ,EAAQp4G,gBAAkB,CACxBxpC,KAAM,OACNgB,UAAW,SACXC,aAAc,SACdd,OAAQ,OACRJ,UAAW,EACXqC,WAAYkyK,EAAQ10K,aAEtBgiJ,EAAQn4G,4BAA8B,CACpCzpC,KAAM,WAER4hJ,EAAQl4G,0BAA4B,CAClC1pC,KAAM,qBAER4hJ,EAAQj4G,kBAAoB,CAC1B3pC,KAAM,OACNiB,aAAc,MACdD,UAAW,QACXoB,WAAYkyK,EAAQ10K,c,qDCpCtBnT,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIwmL,EAAa,EAAQ,KAErBC,EAAc,EAAQ,KA8B1B9yB,EAAQp6I,QA5BR,SAAckT,EAAUu3D,GACtB,GAAKv3D,EAML,GAAI+5J,EAAWjtK,QAAQkT,GACrB,IAAK,IAAI9tB,EAAI,EAAGse,EAAMwP,EAAS5tB,OAAQF,EAAIse,IAG7B,IAFN+mE,EAAKv3D,EAAS9tB,GAAIA,GADsBA,UAO3C,GAAI8nL,EAAYltK,QAAQkT,GAC7B,IAAK,IAAIrb,KAAKqb,EACZ,GAAIA,EAASxtB,eAAemS,KAGd,IAFN4yE,EAAKv3D,EAASrb,GAAIA,GAGtB,Q,iCC7BV5S,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET,IAAI2C,EAAW,GAAGA,SAMlBgxJ,EAAQp6I,QAJK,SAAgBvZ,EAAOuF,GAClC,OAAO5C,EAASzD,KAAKc,KAAW,WAAauF,EAAO,M,iCCNtD/G,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIkjL,EAAY,EAAQ,KAExBvvB,EAAQp6I,QAAU,SAAUwb,GAC1B,OAAOmuJ,EAAU3pK,QAAQwb,EAAK,Y,qDCPhCv2B,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElB9sD,EAAI,EAAQ,KAEZotD,EAAM,EAAQ,KAEdC,EAAS,EAAQ,KAEjBC,EAAW,EAAQ,KAEnBC,EAAa,EAAQ,KAErBzwJ,EAEJ,SAAU/xB,GAGR,SAAS+xB,EAAW9nB,GAClB,IAEImH,EAAkBnH,EAAImH,gBACtBnC,EAAYhF,EAAIgF,UAChBW,EAAY3F,EAAI2F,UAChBY,EAAavG,EAAIuG,WACjBirC,EAAWsmI,EAAQ/mL,OAAOiP,EAAK,CAAC,kBAAmB,YAAa,YAAa,eAE7E1J,EAAK0J,EAAIoI,OACTA,OAAgB,IAAP9R,EAAgB,aAAeA,EAExCm7C,EAAc,CAChBn8C,MAAkB,eAAX8S,EAA0B,IAAM,GACvCxI,OAAmB,eAAXwI,EAA0B,GAAK,KAiCzC,OA/BQrS,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAASigB,EAAQjgB,SAAS,CAE1DnmH,cAAe,GAGftpC,OAAQ,aAGR2lC,aAAa,EAGb4D,WAAY,OAGZxqC,gBAAiB2wK,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAI0gB,EAAWrrI,6BAA8B/lC,GAGhGnC,UAAW8yK,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAI0gB,EAAWprI,2BAA4BnoC,GAGxFW,UAAWmyK,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAI0gB,EAAWtrI,iBAAkBtnC,GAG9EY,WAAYuxK,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAI0gB,EAAWnrI,mBAAoB7mC,GAGjFjR,MAAO,IAGPsK,OAAQ,IACP6xC,GAAcD,KAAc1gD,KAgKjC,OAhNAgnL,EAAQ10B,UAAUt7H,EAAY/xB,GAoD9B+xB,EAAWp3B,UAAUwP,KAAO,WAC1B,IAAIV,EAAY1O,KAAKid,IAAI,aACzBjd,KAAKqQ,IAAI,SAAU3B,EAAUuO,IAAI,WACjC,IAAI6jC,EAAcpyC,EAAU6+B,WAC5BvtC,KAAKqQ,IAAI,cAAeywC,GACxB,IAAI/M,EAAa+M,EAAYvT,WAC7BvtC,KAAKqQ,IAAI,aAAc0jC,GAEvB+M,EAAYnyB,UAAU3uB,KAAKid,IAAI,WAAYjd,KAAKid,IAAI,aAOtD+Z,EAAWp3B,UAAUy1C,YAAc,WACjC,GAAIr1C,KAAK+gD,cAAe,CACtB,IAAIp/C,EAAQ3B,KAAKid,IAAI,SACjBvO,EAAY1O,KAAKid,IAAI,eACrBxH,EAAazV,KAAKid,IAAI,cACtB62B,EAAaplC,EAAUge,SAAS,OAAQ,CAC1CrI,MAAO2iK,EAAQjgB,SAAS,CACtBn4J,EAAG,EACHC,EAAG,EACH6E,KAAM/R,GACL8T,KAELq+B,EAAW7hC,KAAO,eAClBjS,KAAKqQ,IAAI,aAAcyjC,KAQ3B9c,EAAWp3B,UAAUm8C,YAAc,WACjC/7C,KAAKghD,gBAIPhqB,EAAWp3B,UAAUk8C,WAAa,WAC5B97C,KAAKihD,iBASXjqB,EAAWp3B,UAAUmQ,MAAQ,WAC3B,IAAIrB,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,WAC1BO,EAAUqB,SAQdinB,EAAWp3B,UAAUoQ,QAAU,WAC7B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAI0O,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,YAEtBO,EAAUuO,IAAI,WAChBvO,EAAUyB,QAAO,GAGnBzB,EAAUsB,YAUdgnB,EAAWp3B,UAAU69C,aAAe,WAClC,MAA8B,eAAvBz9C,KAAKid,IAAI,WAKlB+Z,EAAWp3B,UAAUqhD,cAAgB,WACnC,OAAOjhD,KAAKid,IAAI,gBAKlB+Z,EAAWp3B,UAAUmhD,YAAc,WACjC,QAAS/gD,KAAKid,IAAI,UAKpB+Z,EAAWp3B,UAAUshD,gBAAkB,WACrC,MAAO,CACL5pC,OAAQtX,KAAKid,IAAI,UACjB8/B,WAAY/8C,KAAKid,IAAI,cACrB+/B,WAAYh9C,KAAKid,IAAI,cACrBkkC,YAAanhD,KAAKid,IAAI,eACtBggC,YAAaj9C,KAAKihD,gBAElBz8C,MAAOxE,KAAKid,IAAI,SAChBnO,OAAQ9O,KAAKid,IAAI,UACjBwS,IAAKyqG,EAAE30H,KAAKvF,KAAKid,IAAI,UAAUrc,MAC/B+kB,IAAKu0G,EAAEh9D,KAAKl9D,KAAKid,IAAI,UAAUrc,MAE/B2tB,MAAOvuB,KAAKid,IAAI,UAAY,CAAC,EAAG,GAEhCpI,UAAWmyK,EAAQjgB,SAAS,GAAI/mK,KAAKid,IAAI,cAEzCgS,UAAWjvB,KAAKi8C,iBAKpBjlB,EAAWp3B,UAAUohD,aAAe,WAClC,IAAI97C,EAAQlF,KAER+zC,EAAa/zC,KAAKid,IAAI,cAEtBmkC,EAAS,IAAIomI,EAASrtK,QAAQna,KAAKkhD,mBAIvC,GAFAE,EAAOhE,cAAcp9C,KAAKqhD,yBAEtBrhD,KAAK+gD,cAAe,CACtB,IAAIH,EAAgB5gD,KAAKid,IAAI,iBAEzBnO,EADY9O,KAAKid,IAAI,cAAcgM,UAChBna,OAEvBsyC,EAAOzyB,UAAU,EAAGiyB,EAAgB9xC,GAKtCsyC,EAAOpzC,GAAG,gBAAgB,SAAUqxC,GAClC,IAAIz+C,EAAQy+C,EAAGz+C,MAEX0gD,GADQjC,EAAG9wB,MACI,IAAI+4J,EAAIzgB,MAAM,aAAcxnH,GAAI,GAAM,IAEzDiC,EAAa/yB,MAAQ3tB,EAErBsE,EAAMwnC,KAAK,aAAc4U,MAE3BvN,EAAWnkC,IAAIwxC,GACfphD,KAAKqQ,IAAI,SAAU+wC,IAGdpqB,EAjNT,CAkNEuwJ,EAAOptK,SAETo6I,EAAQp6I,QAAU6c,G,iCCtOlB53B,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET2zJ,EAAQhiJ,YAAc,sK,iCCHtBnT,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElBO,EAAS,EAAQ,KAEjB9kI,EAAgB,CAClBnrC,OAAQ,aACRspC,cAAe,GACfppC,aAAc,EACdD,iBAAkB,EAClBmrC,YAAa,EACbC,kBAAmB,EACnBntC,gBAAiB,OACjB80B,QAAS,EACTC,QAAS,GAGPqY,EAEJ,SAAU39C,GAGR,SAAS29C,EAAa1zC,GACpB,OAAOjK,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAASigB,EAAQjgB,SAAS,CAIzD7lK,WAAW,EAKX2hD,WAAW,EAKXC,aAAc,WAKdC,kBAAkB,EAKlBC,UAAU,EAKVC,UAAU,GACTR,GAAgBvzC,KAASlP,KAG9B,OApCAgnL,EAAQ10B,UAAU1vG,EAAc39C,GAoCzB29C,EArCT,CAsCE2kI,EAAOptK,SAETo6I,EAAQp6I,QAAUyoC,G,qDC9DlB,IAAIp9C,EAEJpG,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIqmL,EAAU,EAAQ,KAStB1yB,EAAQp6I,UAAW3U,EAAK,IANM,cAOK,CACjCgR,SAAU,WACV4B,QAAS,OAGTK,OAAQ,EACRC,WAAY,oIACZC,gBAAiB,2BACjBC,UAAW,uBACXT,aAAc,MACdlE,MAAO,kBACPa,SAAU,OACVC,WAAYkyK,EAAQ10K,YACpB2C,WAAY,OACZrO,QAAS,sBACRrB,EArBuB,oBAqBQ,CAChCmS,aAAc,OACbnS,EAtBsB,mBAsBQ,CAC/BsS,OAAQ,EACRD,cAAe,OACfhR,QAAS,GACRrB,EAzB2B,wBAyBQ,CACpCmS,aAAc,OACbnS,EA1BwB,qBA0BQ,CACjChB,MAAO,MACPsK,OAAQ,MACRqJ,aAAc,MACdC,QAAS,eACTH,YAAa,OACZzS,EA/BuB,oBA+BQ,CAChC4S,QAAS,eACTW,MAAO,QACPD,WAAY,QACXtT,I,iCC9CHpG,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIs5H,EAAI,EAAQ,KAmBhBq6B,EAAQmzB,YAjBR,SAAqB/mL,GACnB,IAAI2nB,EAAS,GACT1Z,EAAIjO,EAAIiO,EACRC,EAAIlO,EAAIkO,EAWZ,OAVAA,EAAIqrH,EAAEuI,QAAQ5zH,GAAKA,EAAI,CAACA,GAExBqrH,EAAEo+B,KAAKzpJ,GAAG,SAAUivE,EAAOx5E,GACzB,IAAIiP,EAAQ,CACV3E,EAAGsrH,EAAEuI,QAAQ7zH,GAAKA,EAAEtK,GAASsK,EAC7BC,EAAGivE,GAELx1D,EAAO9X,KAAK+C,MAGP+U,GAkBTisI,EAAQx2E,aAbR,SAAsB15D,EAAOnV,GAC3B,IAAI+E,EAAQ/E,EAAI+E,MACZJ,EAAU3E,EAAI2E,QAEdI,IACFoQ,EAAM1R,KAAOsB,GAGXimH,EAAE8lC,SAASnsJ,KACbwQ,EAAMxQ,QAAUwQ,EAAMzR,YAAciB,IAmBxC0gJ,EAAQv2E,eAbR,SAAwB35D,EAAOnV,GAC7B,IAAI+E,EAAQ/E,EAAI+E,MACZJ,EAAU3E,EAAI2E,QAEdI,IACFoQ,EAAMvR,OAASmB,GAGbimH,EAAE8lC,SAASnsJ,KACbwQ,EAAMxQ,QAAUwQ,EAAMvQ,cAAgBD,K,sHCpD1CzU,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET2zJ,EAAQhjG,IAAMgjG,EAAQ0H,SAAMn1J,EAC5BytJ,EAAQ3vJ,OA+DR,WACE,IAAIwY,EAAM,IAAIuqK,EAAStxB,WAAW,GAE9BsxB,EAAStxB,YAAcG,eACzBp5I,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAMX,OAHAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,GA7ETm3I,EAAQ2H,SAwFR,SAAkB9+I,EAAKC,GAUrB,OATAD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,IACJD,GAjGTm3I,EAAQ1lI,MA2GR,SAAexR,GACb,IAAID,EAAM,IAAIuqK,EAAStxB,WAAW,GAUlC,OATAj5I,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GArHTm3I,EAAQ4H,KAgIR,SAAc/+I,EAAKC,GAUjB,OATAD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GAzITm3I,EAAQ6H,WA2JR,SAAoBwrB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAC1D,IAAIhrK,EAAM,IAAIuqK,EAAStxB,WAAW,GAUlC,OATAj5I,EAAI,GAAKwqK,EACTxqK,EAAI,GAAKyqK,EACTzqK,EAAI,GAAK0qK,EACT1qK,EAAI,GAAK2qK,EACT3qK,EAAI,GAAK4qK,EACT5qK,EAAI,GAAK6qK,EACT7qK,EAAI,GAAK8qK,EACT9qK,EAAI,GAAK+qK,EACT/qK,EAAI,GAAKgrK,EACFhrK,GArKTm3I,EAAQlkJ,IAwLR,SAAa+M,EAAKwqK,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAUxD,OATAhrK,EAAI,GAAKwqK,EACTxqK,EAAI,GAAKyqK,EACTzqK,EAAI,GAAK0qK,EACT1qK,EAAI,GAAK2qK,EACT3qK,EAAI,GAAK4qK,EACT5qK,EAAI,GAAK6qK,EACT7qK,EAAI,GAAK8qK,EACT9qK,EAAI,GAAK+qK,EACT/qK,EAAI,GAAKgrK,EACFhrK,GAjMTm3I,EAAQ3C,SA2MR,SAAkBx0I,GAUhB,OATAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,GApNTm3I,EAAQnvH,UA+NR,SAAmBhoB,EAAKC,GAEtB,GAAID,IAAQC,EAAG,CACb,IAAIgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACZD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKirK,EACTjrK,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKkrK,EACTlrK,EAAI,GAAKmrK,OAETnrK,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GAGb,OAAOD,GAtPTm3I,EAAQxkI,OAiQR,SAAgB3S,EAAKC,GACnB,IAAImrK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,GACRyrK,EAAMD,EAAMH,EAAMH,EAAMK,EACxBG,GAAOF,EAAMJ,EAAMF,EAAMI,EACzBK,EAAMJ,EAAMH,EAAMC,EAAMC,EAExBM,EAAMT,EAAMM,EAAMT,EAAMU,EAAMT,EAAMU,EAExC,IAAKC,EACH,OAAO,KAaT,OAVAA,EAAM,EAAMA,EACZ7rK,EAAI,GAAK0rK,EAAMG,EACf7rK,EAAI,KAAOyrK,EAAMR,EAAMC,EAAMM,GAAOK,EACpC7rK,EAAI,IAAMmrK,EAAMF,EAAMC,EAAMI,GAAOO,EACnC7rK,EAAI,GAAK2rK,EAAME,EACf7rK,EAAI,IAAMyrK,EAAML,EAAMF,EAAMK,GAAOM,EACnC7rK,EAAI,KAAOmrK,EAAMC,EAAMF,EAAMG,GAAOQ,EACpC7rK,EAAI,GAAK4rK,EAAMC,EACf7rK,EAAI,KAAOwrK,EAAMJ,EAAMH,EAAMM,GAAOM,EACpC7rK,EAAI,IAAMsrK,EAAMF,EAAMH,EAAMI,GAAOQ,EAC5B7rK,GA9RTm3I,EAAQ8H,QAySR,SAAiBj/I,EAAKC,GACpB,IAAImrK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,GAUZ,OATAD,EAAI,GAAKsrK,EAAMG,EAAMN,EAAMK,EAC3BxrK,EAAI,GAAKkrK,EAAMM,EAAMP,EAAMQ,EAC3BzrK,EAAI,GAAKirK,EAAME,EAAMD,EAAMI,EAC3BtrK,EAAI,GAAKmrK,EAAMI,EAAMF,EAAMI,EAC3BzrK,EAAI,GAAKorK,EAAMK,EAAMP,EAAMK,EAC3BvrK,EAAI,GAAKkrK,EAAMG,EAAMD,EAAMD,EAC3BnrK,EAAI,GAAKqrK,EAAMG,EAAMF,EAAMC,EAC3BvrK,EAAI,GAAKirK,EAAMM,EAAMH,EAAMI,EAC3BxrK,EAAI,GAAKorK,EAAME,EAAML,EAAMI,EACpBrrK,GA3TTm3I,EAAQ+H,YAqUR,SAAqBj/I,GACnB,IAAImrK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,GACZ,OAAOmrK,GAAOK,EAAMH,EAAMH,EAAMK,GAAOP,IAAQQ,EAAMJ,EAAMF,EAAMI,GAAOL,GAAOM,EAAMH,EAAMC,EAAMC,IA9UnGp0B,EAAQ1nI,SAAWA,EACnB0nI,EAAQ5lI,UAiYR,SAAmBvR,EAAKC,EAAGC,GACzB,IAAIkrK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,GACRzO,EAAI0O,EAAE,GACNzO,EAAIyO,EAAE,GAUV,OATAF,EAAI,GAAKorK,EACTprK,EAAI,GAAKirK,EACTjrK,EAAI,GAAKkrK,EACTlrK,EAAI,GAAKqrK,EACTrrK,EAAI,GAAKsrK,EACTtrK,EAAI,GAAKmrK,EACTnrK,EAAI,GAAKxO,EAAI45K,EAAM35K,EAAI45K,EAAME,EAC7BvrK,EAAI,GAAKxO,EAAIy5K,EAAMx5K,EAAI65K,EAAME,EAC7BxrK,EAAI,GAAKxO,EAAI05K,EAAMz5K,EAAI05K,EAAMM,EACtBzrK,GArZTm3I,EAAQryI,OAiaR,SAAgB9E,EAAKC,EAAGI,GACtB,IAAI+qK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,GACRnd,EAAIge,KAAKkE,IAAI3E,GACb4B,EAAInB,KAAKiE,IAAI1E,GAUjB,OATAL,EAAI,GAAKiC,EAAImpK,EAAMtoL,EAAIuoL,EACvBrrK,EAAI,GAAKiC,EAAIgpK,EAAMnoL,EAAIwoL,EACvBtrK,EAAI,GAAKiC,EAAIipK,EAAMpoL,EAAIqoL,EACvBnrK,EAAI,GAAKiC,EAAIopK,EAAMvoL,EAAIsoL,EACvBprK,EAAI,GAAKiC,EAAIqpK,EAAMxoL,EAAImoL,EACvBjrK,EAAI,GAAKiC,EAAIkpK,EAAMroL,EAAIooL,EACvBlrK,EAAI,GAAKurK,EACTvrK,EAAI,GAAKwrK,EACTxrK,EAAI,GAAKyrK,EACFzrK,GArbTm3I,EAAQ5mI,MAkcR,SAAevQ,EAAKC,EAAGC,GACrB,IAAI1O,EAAI0O,EAAE,GACNzO,EAAIyO,EAAE,GAUV,OATAF,EAAI,GAAKxO,EAAIyO,EAAE,GACfD,EAAI,GAAKxO,EAAIyO,EAAE,GACfD,EAAI,GAAKxO,EAAIyO,EAAE,GACfD,EAAI,GAAKvO,EAAIwO,EAAE,GACfD,EAAI,GAAKvO,EAAIwO,EAAE,GACfD,EAAI,GAAKvO,EAAIwO,EAAE,GACfD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GA7cTm3I,EAAQmC,gBA4dR,SAAyBt5I,EAAKE,GAU5B,OATAF,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAK,EACFA,GAreTm3I,EAAQoC,aAofR,SAAsBv5I,EAAKK,GACzB,IAAIvd,EAAIge,KAAKkE,IAAI3E,GACb4B,EAAInB,KAAKiE,IAAI1E,GAUjB,OATAL,EAAI,GAAKiC,EACTjC,EAAI,GAAKld,EACTkd,EAAI,GAAK,EACTA,EAAI,IAAMld,EACVkd,EAAI,GAAKiC,EACTjC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,GA/fTm3I,EAAQqC,YA8gBR,SAAqBx5I,EAAKE,GAUxB,OATAF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,GAvhBTm3I,EAAQgI,UAkiBR,SAAmBn/I,EAAKC,GAUtB,OATAD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAK,EACTA,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAK,EACTA,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAK,EACFA,GA3iBTm3I,EAAQiI,SAujBR,SAAkBp/I,EAAKmC,GACrB,IAAI3Q,EAAI2Q,EAAE,GACN1Q,EAAI0Q,EAAE,GACNZ,EAAIY,EAAE,GACNub,EAAIvb,EAAE,GACNmC,EAAK9S,EAAIA,EACT+S,EAAK9S,EAAIA,EACTq6K,EAAKvqK,EAAIA,EACTwqK,EAAKv6K,EAAI8S,EACT0nK,EAAKv6K,EAAI6S,EACT2nK,EAAKx6K,EAAI8S,EACT2nK,EAAK3qK,EAAI+C,EACT6nK,EAAK5qK,EAAIgD,EACT6nK,EAAK7qK,EAAIuqK,EACTO,EAAK3uJ,EAAIpZ,EACTgoK,EAAK5uJ,EAAInZ,EACTgoK,EAAK7uJ,EAAIouJ,EAUb,OATA9rK,EAAI,GAAK,EAAIisK,EAAKG,EAClBpsK,EAAI,GAAKgsK,EAAKO,EACdvsK,EAAI,GAAKksK,EAAKI,EACdtsK,EAAI,GAAKgsK,EAAKO,EACdvsK,EAAI,GAAK,EAAI+rK,EAAKK,EAClBpsK,EAAI,GAAKmsK,EAAKE,EACdrsK,EAAI,GAAKksK,EAAKI,EACdtsK,EAAI,GAAKmsK,EAAKE,EACdrsK,EAAI,GAAK,EAAI+rK,EAAKE,EACXjsK,GAhlBTm3I,EAAQkI,eA4lBR,SAAwBr/I,EAAKC,GAC3B,IAAImrK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRusK,EAAMvsK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRwsK,EAAMxsK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,IACRysK,EAAMzsK,EAAE,IACR0sK,EAAM1sK,EAAE,IACR2sK,EAAM3sK,EAAE,IACR4sK,EAAM5sK,EAAE,IACR6sK,EAAM7sK,EAAE,IACR8sK,EAAM3B,EAAME,EAAML,EAAMI,EACxBK,EAAMN,EAAMD,EAAMD,EAAMG,EACxB2B,EAAM5B,EAAMqB,EAAMD,EAAMnB,EACxB4B,EAAMhC,EAAME,EAAMD,EAAMI,EACxB4B,EAAMjC,EAAMwB,EAAMD,EAAMlB,EACxB6B,EAAMjC,EAAMuB,EAAMD,EAAMrB,EACxBiC,EAAM7B,EAAMqB,EAAMpB,EAAMmB,EACxBU,EAAM9B,EAAMsB,EAAMpB,EAAMkB,EACxBW,EAAM/B,EAAMuB,EAAMJ,EAAMC,EACxBY,EAAM/B,EAAMqB,EAAMpB,EAAMmB,EACxBY,EAAMhC,EAAMsB,EAAMJ,EAAME,EACxBjB,EAAMF,EAAMqB,EAAMJ,EAAMG,EAExBhB,EAAMkB,EAAMpB,EAAMD,EAAM8B,EAAMR,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,IAAKvB,EACH,OAAO,KAaT,OAVAA,EAAM,EAAMA,EACZ7rK,EAAI,IAAMsrK,EAAMK,EAAMR,EAAMqC,EAAMf,EAAMc,GAAO1B,EAC/C7rK,EAAI,IAAMmrK,EAAMmC,EAAMjC,EAAMM,EAAMc,EAAMY,GAAOxB,EAC/C7rK,EAAI,IAAMqrK,EAAMmC,EAAMlC,EAAMgC,EAAMb,EAAMW,GAAOvB,EAC/C7rK,EAAI,IAAMkrK,EAAMsC,EAAMvC,EAAMU,EAAMa,EAAMe,GAAO1B,EAC/C7rK,EAAI,IAAMorK,EAAMO,EAAMT,EAAMoC,EAAMd,EAAMa,GAAOxB,EAC/C7rK,EAAI,IAAMirK,EAAMqC,EAAMlC,EAAMoC,EAAMhB,EAAMY,GAAOvB,EAC/C7rK,EAAI,IAAM4sK,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,GAAOpB,EAC/C7rK,EAAI,IAAM6sK,EAAMG,EAAML,EAAMQ,EAAML,EAAMpB,GAAOG,EAC/C7rK,EAAI,IAAM2sK,EAAMO,EAAMN,EAAMI,EAAMF,EAAMC,GAAOlB,EACxC7rK,GAzoBTm3I,EAAQmI,WAqpBR,SAAoBt/I,EAAK5Y,EAAOsK,GAU9B,OATAsO,EAAI,GAAK,EAAI5Y,EACb4Y,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAItO,EACdsO,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,GA9pBTm3I,EAAQ5+H,IAwqBR,SAAatY,GACX,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAxqB1Ik3I,EAAQoI,KAkrBR,SAAct/I,GACZ,OAAOa,KAAKmE,KAAKnE,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,GAAKa,KAAKyZ,IAAIta,EAAE,GAAI,KAlrBlMk3I,EAAQ3kJ,IA8rBR,SAAawN,EAAKC,EAAGuC,GAUnB,OATAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,GAvsBTm3I,EAAQ1uH,SAAWA,EACnB0uH,EAAQqI,eAwuBR,SAAwBx/I,EAAKC,EAAGuC,GAU9B,OATAxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EACTxC,GAjvBTm3I,EAAQsI,qBA8vBR,SAA8Bz/I,EAAKC,EAAGuC,EAAG+N,GAUvC,OATAvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EAChBvQ,GAvwBTm3I,EAAQuI,YAkxBR,SAAqBz/I,EAAGuC,GACtB,OAAOvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAlxB5J20I,EAAQgC,OA6xBR,SAAgBl5I,EAAGuC,GACjB,IAAI4hG,EAAKnkG,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACPwtK,EAAKxtK,EAAE,GACPytK,EAAKztK,EAAE,GACP0tK,EAAK1tK,EAAE,GACP2tK,EAAK3tK,EAAE,GACP4tK,EAAK5tK,EAAE,GACP6tK,EAAK7tK,EAAE,GACP8tK,EAAKvrK,EAAE,GACPwrK,EAAKxrK,EAAE,GACPyrK,EAAKzrK,EAAE,GACP0rK,EAAK1rK,EAAE,GACP2rK,EAAK3rK,EAAE,GACP4rK,EAAK5rK,EAAE,GACP6rK,EAAK7rK,EAAE,GACP8rK,EAAK9rK,EAAE,GACP+rK,EAAK/rK,EAAE,GACX,OAAO1B,KAAKsE,IAAIg/F,EAAK2pE,IAAOxD,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIg/F,GAAKtjG,KAAKsE,IAAI2oK,KAAQjtK,KAAKsE,IAAIsD,EAAKslK,IAAOzD,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIsD,GAAK5H,KAAKsE,IAAI4oK,KAAQltK,KAAKsE,IAAIuD,EAAKslK,IAAO1D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIuD,GAAK7H,KAAKsE,IAAI6oK,KAAQntK,KAAKsE,IAAIqoK,EAAKS,IAAO3D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIqoK,GAAK3sK,KAAKsE,IAAI8oK,KAAQptK,KAAKsE,IAAIsoK,EAAKS,IAAO5D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIsoK,GAAK5sK,KAAKsE,IAAI+oK,KAAQrtK,KAAKsE,IAAIuoK,EAAKS,IAAO7D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIuoK,GAAK7sK,KAAKsE,IAAIgpK,KAAQttK,KAAKsE,IAAIwoK,EAAKS,IAAO9D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIwoK,GAAK9sK,KAAKsE,IAAIipK,KAAQvtK,KAAKsE,IAAIyoK,EAAKS,IAAO/D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIyoK,GAAK/sK,KAAKsE,IAAIkpK,KAAQxtK,KAAKsE,IAAI0oK,EAAKS,IAAOhE,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAI0oK,GAAKhtK,KAAKsE,IAAImpK,KA9yB9vB,IAEIhE,EAEJ,SAAiChnL,GAC/B,GAAIA,GAAOA,EAAIi1J,WACb,OAAOj1J,EAEP,IAAI6/K,EAAS,GAEb,GAAW,MAAP7/K,EACF,IAAK,IAAIhB,KAAOgB,EACVvB,OAAOQ,UAAUC,eAAeC,KAAKa,EAAKhB,KAAM6gL,EAAO7gL,GAAOgB,EAAIhB,IAK1E,OADA6gL,EAAOrmK,QAAUxZ,EACV6/K,EAfIoL,CAFD,EAAQ,MAsUtB,SAAS/+J,EAASzP,EAAKC,EAAGuC,GACxB,IAAI4oK,EAAMnrK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRirK,EAAMjrK,EAAE,GACRorK,EAAMprK,EAAE,GACRqrK,EAAMrrK,EAAE,GACRkrK,EAAMlrK,EAAE,GACRsrK,EAAMtrK,EAAE,GACRurK,EAAMvrK,EAAE,GACRwrK,EAAMxrK,EAAE,GACR8sK,EAAMvqK,EAAE,GACRkpK,EAAMlpK,EAAE,GACRwqK,EAAMxqK,EAAE,GACRgrK,EAAMhrK,EAAE,GACRmpK,EAAMnpK,EAAE,GACRisK,EAAMjsK,EAAE,GACRksK,EAAMlsK,EAAE,GACRopK,EAAMppK,EAAE,GACRmsK,EAAMnsK,EAAE,GAUZ,OATAxC,EAAI,GAAK+sK,EAAM3B,EAAMM,EAAML,EAAM2B,EAAMzB,EACvCvrK,EAAI,GAAK+sK,EAAM9B,EAAMS,EAAMJ,EAAM0B,EAAMxB,EACvCxrK,EAAI,GAAK+sK,EAAM7B,EAAMQ,EAAMP,EAAM6B,EAAMvB,EACvCzrK,EAAI,GAAKwtK,EAAMpC,EAAMO,EAAMN,EAAMoD,EAAMlD,EACvCvrK,EAAI,GAAKwtK,EAAMvC,EAAMU,EAAML,EAAMmD,EAAMjD,EACvCxrK,EAAI,GAAKwtK,EAAMtC,EAAMS,EAAMR,EAAMsD,EAAMhD,EACvCzrK,EAAI,GAAK0uK,EAAMtD,EAAMQ,EAAMP,EAAMsD,EAAMpD,EACvCvrK,EAAI,GAAK0uK,EAAMzD,EAAMW,EAAMN,EAAMqD,EAAMnD,EACvCxrK,EAAI,GAAK0uK,EAAMxD,EAAMU,EAAMT,EAAMwD,EAAMlD,EAChCzrK,EA2WT,SAASyoB,EAASzoB,EAAKC,EAAGuC,GAUxB,OATAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EA+FCm3I,EAAQ0H,IAAMpvI,EAMd0nI,EAAQhjG,IAAM1rB,G,iCC/1BxBzmC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET2zJ,EAAQrsJ,QAAUqsJ,EAAQwI,OAASxI,EAAQyI,QAAUzI,EAAQhwG,KAAOgwG,EAAQ0I,IAAM1I,EAAQ0H,IAAM1H,EAAQhjG,IAAMgjG,EAAQ12I,SAAM/W,EAC5HytJ,EAAQ3vJ,OAASA,EACjB2vJ,EAAQ1lI,MAsFR,SAAexR,GACb,IAAID,EAAM,IAAIuqK,EAAStxB,WAAW,GAGlC,OAFAj5I,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GAzFTm3I,EAAQ6H,WAoGR,SAAoBxtJ,EAAGC,GACrB,IAAIuO,EAAM,IAAIuqK,EAAStxB,WAAW,GAGlC,OAFAj5I,EAAI,GAAKxO,EACTwO,EAAI,GAAKvO,EACFuO,GAvGTm3I,EAAQ4H,KAkHR,SAAc/+I,EAAKC,GAGjB,OAFAD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GApHTm3I,EAAQlkJ,IAgIR,SAAa+M,EAAKxO,EAAGC,GAGnB,OAFAuO,EAAI,GAAKxO,EACTwO,EAAI,GAAKvO,EACFuO,GAlITm3I,EAAQ3kJ,IA8IR,SAAawN,EAAKC,EAAGuC,GAGnB,OAFAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,GAhJTm3I,EAAQ1uH,SAAWA,EACnB0uH,EAAQ1nI,SAAWA,EACnB0nI,EAAQ2I,OAASA,EACjB3I,EAAQl5H,KAqMR,SAAcje,EAAKC,GAGjB,OAFAD,EAAI,GAAKc,KAAKmd,KAAKhe,EAAE,IACrBD,EAAI,GAAKc,KAAKmd,KAAKhe,EAAE,IACdD,GAvMTm3I,EAAQ1gI,MAkNR,SAAezW,EAAKC,GAGlB,OAFAD,EAAI,GAAKc,KAAK2V,MAAMxW,EAAE,IACtBD,EAAI,GAAKc,KAAK2V,MAAMxW,EAAE,IACfD,GApNTm3I,EAAQ9kI,IAgOR,SAAarS,EAAKC,EAAGuC,GAGnB,OAFAxC,EAAI,GAAKc,KAAKuR,IAAIpS,EAAE,GAAIuC,EAAE,IAC1BxC,EAAI,GAAKc,KAAKuR,IAAIpS,EAAE,GAAIuC,EAAE,IACnBxC,GAlOTm3I,EAAQ5uI,IA8OR,SAAavI,EAAKC,EAAGuC,GAGnB,OAFAxC,EAAI,GAAKc,KAAKyH,IAAItI,EAAE,GAAIuC,EAAE,IAC1BxC,EAAI,GAAKc,KAAKyH,IAAItI,EAAE,GAAIuC,EAAE,IACnBxC,GAhPTm3I,EAAQrkI,MA2PR,SAAe9S,EAAKC,GAGlB,OAFAD,EAAI,GAAKc,KAAKgS,MAAM7S,EAAE,IACtBD,EAAI,GAAKc,KAAKgS,MAAM7S,EAAE,IACfD,GA7PTm3I,EAAQ5mI,MAyQR,SAAevQ,EAAKC,EAAGuC,GAGrB,OAFAxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EACTxC,GA3QTm3I,EAAQ4I,YAwRR,SAAqB//I,EAAKC,EAAGuC,EAAG+N,GAG9B,OAFAvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EAChBvQ,GA1RTm3I,EAAQ9iG,SAAWA,EACnB8iG,EAAQ6I,gBAAkBA,EAC1B7I,EAAQ90J,OAASA,EACjB80J,EAAQ8I,cAAgBA,EACxB9I,EAAQ+I,OAuVR,SAAgBlgJ,EAAKC,GAGnB,OAFAD,EAAI,IAAMC,EAAE,GACZD,EAAI,IAAMC,EAAE,GACLD,GAzVTm3I,EAAQziE,QAoWR,SAAiB10E,EAAKC,GAGpB,OAFAD,EAAI,GAAK,EAAMC,EAAE,GACjBD,EAAI,GAAK,EAAMC,EAAE,GACVD,GAtWTm3I,EAAQt6G,UAiXR,SAAmB78B,EAAKC,GACtB,IAAIzO,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNQ,EAAMjP,EAAIA,EAAIC,EAAIA,EAElBgP,EAAM,IAERA,EAAM,EAAIK,KAAKmE,KAAKxE,GACpBT,EAAI,GAAKC,EAAE,GAAKQ,EAChBT,EAAI,GAAKC,EAAE,GAAKQ,GAGlB,OAAOT,GA5XTm3I,EAAQ15I,IAuYR,SAAawC,EAAGuC,GACd,OAAOvC,EAAE,GAAKuC,EAAE,GAAKvC,EAAE,GAAKuC,EAAE,IAvYhC20I,EAAQv4I,MAoZR,SAAeoB,EAAKC,EAAGuC,GACrB,IAAIjB,EAAItB,EAAE,GAAKuC,EAAE,GAAKvC,EAAE,GAAKuC,EAAE,GAG/B,OAFAxC,EAAI,GAAKA,EAAI,GAAK,EAClBA,EAAI,GAAKuB,EACFvB,GAvZTm3I,EAAQ70B,KAoaR,SAActiH,EAAKC,EAAGuC,EAAGxf,GACvB,IAAI4jB,EAAK3G,EAAE,GACP4G,EAAK5G,EAAE,GAGX,OAFAD,EAAI,GAAK4G,EAAK5jB,GAAKwf,EAAE,GAAKoE,GAC1B5G,EAAI,GAAK6G,EAAK7jB,GAAKwf,EAAE,GAAKqE,GACnB7G,GAxaTm3I,EAAQ/xH,OAmbR,SAAgBplB,EAAKuQ,GACnBA,EAAQA,GAAS,EACjB,IAAIzU,EAAwB,EAApByuK,EAASlxB,SAAiBv4I,KAAKK,GAGvC,OAFAnB,EAAI,GAAKc,KAAKiE,IAAIjJ,GAAKyU,EACvBvQ,EAAI,GAAKc,KAAKkE,IAAIlJ,GAAKyU,EAChBvQ,GAvbTm3I,EAAQgJ,cAmcR,SAAuBngJ,EAAKC,EAAGO,GAC7B,IAAIhP,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GAGV,OAFAD,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAC3BuO,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EACpBuO,GAvcTm3I,EAAQiJ,eAmdR,SAAwBpgJ,EAAKC,EAAGO,GAC9B,IAAIhP,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GAGV,OAFAD,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GACjCR,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAC1BR,GAvdTm3I,EAAQ1vH,cAoeR,SAAuBznB,EAAKC,EAAGO,GAC7B,IAAIhP,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GAGV,OAFAD,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GACjCR,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAC1BR,GAxeTm3I,EAAQkJ,cAsfR,SAAuBrgJ,EAAKC,EAAGO,GAC7B,IAAIhP,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GAGV,OAFAD,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,IACjCR,EAAI,GAAKQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,IAC1BR,GA1fTm3I,EAAQryI,OAsgBR,SAAgB9E,EAAKC,EAAGuC,EAAGP,GAEzB,IAAIiiG,EAAKjkG,EAAE,GAAKuC,EAAE,GACdqqD,EAAK5sD,EAAE,GAAKuC,EAAE,GACdosK,EAAO9tK,KAAKkE,IAAI/C,GAChB4sK,EAAO/tK,KAAKiE,IAAI9C,GAIpB,OAFAjC,EAAI,GAAKkkG,EAAK2qE,EAAOhiH,EAAK+hH,EAAOpsK,EAAE,GACnCxC,EAAI,GAAKkkG,EAAK0qE,EAAO/hH,EAAKgiH,EAAOrsK,EAAE,GAC5BxC,GA9gBTm3I,EAAQl2I,MAwhBR,SAAehB,EAAGuC,GAChB,IAAIwB,EAAK/D,EAAE,GACPgE,EAAKhE,EAAE,GACPqE,EAAK9B,EAAE,GACP+B,EAAK/B,EAAE,GACPssK,EAAO9qK,EAAKA,EAAKC,EAAKA,EAEtB6qK,EAAO,IAETA,EAAO,EAAIhuK,KAAKmE,KAAK6pK,IAGvB,IAAIC,EAAOzqK,EAAKA,EAAKC,EAAKA,EAEtBwqK,EAAO,IAETA,EAAO,EAAIjuK,KAAKmE,KAAK8pK,IAGvB,IAAIC,GAAUhrK,EAAKM,EAAKL,EAAKM,GAAMuqK,EAAOC,EAE1C,OAAIC,EAAS,EACJ,EACEA,GAAU,EACZluK,KAAKK,GAELL,KAAKC,KAAKiuK,IAjjBrB73B,EAAQ5+H,IA4jBR,SAAatY,GACX,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KA5jBxCk3I,EAAQuI,YAukBR,SAAqBz/I,EAAGuC,GACtB,OAAOvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAvkBrC20I,EAAQgC,OAklBR,SAAgBl5I,EAAGuC,GACjB,IAAI4hG,EAAKnkG,EAAE,GACPyI,EAAKzI,EAAE,GACP8tK,EAAKvrK,EAAE,GACPwrK,EAAKxrK,EAAE,GACX,OAAO1B,KAAKsE,IAAIg/F,EAAK2pE,IAAOxD,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIg/F,GAAKtjG,KAAKsE,IAAI2oK,KAAQjtK,KAAKsE,IAAIsD,EAAKslK,IAAOzD,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIsD,GAAK5H,KAAKsE,IAAI4oK,KArlB3K,IAEIzD,EAEJ,SAAiChnL,GAC/B,GAAIA,GAAOA,EAAIi1J,WACb,OAAOj1J,EAEP,IAAI6/K,EAAS,GAEb,GAAW,MAAP7/K,EACF,IAAK,IAAIhB,KAAOgB,EACVvB,OAAOQ,UAAUC,eAAeC,KAAKa,EAAKhB,KAAM6gL,EAAO7gL,GAAOgB,EAAIhB,IAK1E,OADA6gL,EAAOrmK,QAAUxZ,EACV6/K,EAfIoL,CAFD,EAAQ,MAgCtB,SAAShnL,IACP,IAAIwY,EAAM,IAAIuqK,EAAStxB,WAAW,GAOlC,OALIsxB,EAAStxB,YAAcG,eACzBp5I,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EAqFT,SAASyoB,EAASzoB,EAAKC,EAAGuC,GAGxB,OAFAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EAYT,SAASyP,EAASzP,EAAKC,EAAGuC,GAGxB,OAFAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EAYT,SAAS8/I,EAAO9/I,EAAKC,EAAGuC,GAGtB,OAFAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EAkHT,SAASq0C,EAASp0C,EAAGuC,GACnB,IAAIhR,EAAIgR,EAAE,GAAKvC,EAAE,GACbxO,EAAI+Q,EAAE,GAAKvC,EAAE,GACjB,OAAOa,KAAKmE,KAAKzT,EAAIA,EAAIC,EAAIA,GAW/B,SAASuuJ,EAAgB//I,EAAGuC,GAC1B,IAAIhR,EAAIgR,EAAE,GAAKvC,EAAE,GACbxO,EAAI+Q,EAAE,GAAKvC,EAAE,GACjB,OAAOzO,EAAIA,EAAIC,EAAIA,EAUrB,SAASpP,EAAO4d,GACd,IAAIzO,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACV,OAAOa,KAAKmE,KAAKzT,EAAIA,EAAIC,EAAIA,GAU/B,SAASwuJ,EAAchgJ,GACrB,IAAIzO,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACV,OAAOzO,EAAIA,EAAIC,EAAIA,EAkSX0lJ,EAAQ12I,IAAMpe,EAMd80J,EAAQhjG,IAAM1rB,EAMd0uH,EAAQ0H,IAAMpvI,EAMd0nI,EAAQ0I,IAAMC,EAMb3I,EAAQhwG,KAAOkN,EAMZ8iG,EAAQyI,QAAUI,EAMnB7I,EAAQwI,OAASM,EAchB9I,EAAQrsJ,QAAU,WAC9B,IAAImkL,EAAMznL,IACV,OAAO,SAAUyY,EAAGivK,EAAQt3K,EAAQunB,EAAOm+C,EAAIqpC,GAC7C,IAAIxkH,OAAI,EACJ+f,OAAI,EAgBR,IAdKgtK,IACHA,EAAS,GAGNt3K,IACHA,EAAS,GAITsK,EADEid,EACEre,KAAKuR,IAAI8M,EAAQ+vJ,EAASt3K,EAAQqI,EAAE5d,QAEpC4d,EAAE5d,OAGHF,EAAIyV,EAAQzV,EAAI+f,EAAG/f,GAAK+sL,EAC3BD,EAAI,GAAKhvK,EAAE9d,GACX8sL,EAAI,GAAKhvK,EAAE9d,EAAI,GACfm7E,EAAG2xG,EAAKA,EAAKtoE,GACb1mG,EAAE9d,GAAK8sL,EAAI,GACXhvK,EAAE9d,EAAI,GAAK8sL,EAAI,GAGjB,OAAOhvK,GA5BqB,I,iCCxrBhCje,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET2zJ,EAAQrsJ,QAAUqsJ,EAAQwI,OAASxI,EAAQ12I,IAAM02I,EAAQyI,QAAUzI,EAAQhwG,KAAOgwG,EAAQ0I,IAAM1I,EAAQ0H,IAAM1H,EAAQhjG,SAAMzqD,EAC5HytJ,EAAQ3vJ,OAASA,EACjB2vJ,EAAQ1lI,MA0FR,SAAexR,GACb,IAAID,EAAM,IAAIuqK,EAAStxB,WAAW,GAIlC,OAHAj5I,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GA9FTm3I,EAAQ90J,OAASA,EACjB80J,EAAQ6H,WAAaA,EACrB7H,EAAQ4H,KAsIR,SAAc/+I,EAAKC,GAIjB,OAHAD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACXD,EAAI,GAAKC,EAAE,GACJD,GAzITm3I,EAAQlkJ,IAsJR,SAAa+M,EAAKxO,EAAGC,EAAG8P,GAItB,OAHAvB,EAAI,GAAKxO,EACTwO,EAAI,GAAKvO,EACTuO,EAAI,GAAKuB,EACFvB,GAzJTm3I,EAAQ3kJ,IAqKR,SAAawN,EAAKC,EAAGuC,GAInB,OAHAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,GAxKTm3I,EAAQ1uH,SAAWA,EACnB0uH,EAAQ1nI,SAAWA,EACnB0nI,EAAQ2I,OAASA,EACjB3I,EAAQl5H,KAgOR,SAAcje,EAAKC,GAIjB,OAHAD,EAAI,GAAKc,KAAKmd,KAAKhe,EAAE,IACrBD,EAAI,GAAKc,KAAKmd,KAAKhe,EAAE,IACrBD,EAAI,GAAKc,KAAKmd,KAAKhe,EAAE,IACdD,GAnOTm3I,EAAQ1gI,MA8OR,SAAezW,EAAKC,GAIlB,OAHAD,EAAI,GAAKc,KAAK2V,MAAMxW,EAAE,IACtBD,EAAI,GAAKc,KAAK2V,MAAMxW,EAAE,IACtBD,EAAI,GAAKc,KAAK2V,MAAMxW,EAAE,IACfD,GAjPTm3I,EAAQ9kI,IA6PR,SAAarS,EAAKC,EAAGuC,GAInB,OAHAxC,EAAI,GAAKc,KAAKuR,IAAIpS,EAAE,GAAIuC,EAAE,IAC1BxC,EAAI,GAAKc,KAAKuR,IAAIpS,EAAE,GAAIuC,EAAE,IAC1BxC,EAAI,GAAKc,KAAKuR,IAAIpS,EAAE,GAAIuC,EAAE,IACnBxC,GAhQTm3I,EAAQ5uI,IA4QR,SAAavI,EAAKC,EAAGuC,GAInB,OAHAxC,EAAI,GAAKc,KAAKyH,IAAItI,EAAE,GAAIuC,EAAE,IAC1BxC,EAAI,GAAKc,KAAKyH,IAAItI,EAAE,GAAIuC,EAAE,IAC1BxC,EAAI,GAAKc,KAAKyH,IAAItI,EAAE,GAAIuC,EAAE,IACnBxC,GA/QTm3I,EAAQrkI,MA0RR,SAAe9S,EAAKC,GAIlB,OAHAD,EAAI,GAAKc,KAAKgS,MAAM7S,EAAE,IACtBD,EAAI,GAAKc,KAAKgS,MAAM7S,EAAE,IACtBD,EAAI,GAAKc,KAAKgS,MAAM7S,EAAE,IACfD,GA7RTm3I,EAAQ5mI,MAySR,SAAevQ,EAAKC,EAAGuC,GAIrB,OAHAxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EAChBxC,EAAI,GAAKC,EAAE,GAAKuC,EACTxC,GA5STm3I,EAAQ4I,YAyTR,SAAqB//I,EAAKC,EAAGuC,EAAG+N,GAI9B,OAHAvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EACvBvQ,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAAK+N,EAChBvQ,GA5TTm3I,EAAQ9iG,SAAWA,EACnB8iG,EAAQ6I,gBAAkBA,EAC1B7I,EAAQ8I,cAAgBA,EACxB9I,EAAQ+I,OAgXR,SAAgBlgJ,EAAKC,GAInB,OAHAD,EAAI,IAAMC,EAAE,GACZD,EAAI,IAAMC,EAAE,GACZD,EAAI,IAAMC,EAAE,GACLD,GAnXTm3I,EAAQziE,QA8XR,SAAiB10E,EAAKC,GAIpB,OAHAD,EAAI,GAAK,EAAMC,EAAE,GACjBD,EAAI,GAAK,EAAMC,EAAE,GACjBD,EAAI,GAAK,EAAMC,EAAE,GACVD,GAjYTm3I,EAAQt6G,UAAYA,EACpBs6G,EAAQ15I,IAAMA,EACd05I,EAAQv4I,MAgbR,SAAeoB,EAAKC,EAAGuC,GACrB,IAAIoE,EAAK3G,EAAE,GACP4G,EAAK5G,EAAE,GACPkvK,EAAKlvK,EAAE,GACPiH,EAAK1E,EAAE,GACP2E,EAAK3E,EAAE,GACP4sK,EAAK5sK,EAAE,GAIX,OAHAxC,EAAI,GAAK6G,EAAKuoK,EAAKD,EAAKhoK,EACxBnH,EAAI,GAAKmvK,EAAKjoK,EAAKN,EAAKwoK,EACxBpvK,EAAI,GAAK4G,EAAKO,EAAKN,EAAKK,EACjBlH,GAzbTm3I,EAAQ70B,KAscR,SAActiH,EAAKC,EAAGuC,EAAGxf,GACvB,IAAI4jB,EAAK3G,EAAE,GACP4G,EAAK5G,EAAE,GACPkvK,EAAKlvK,EAAE,GAIX,OAHAD,EAAI,GAAK4G,EAAK5jB,GAAKwf,EAAE,GAAKoE,GAC1B5G,EAAI,GAAK6G,EAAK7jB,GAAKwf,EAAE,GAAKqE,GAC1B7G,EAAI,GAAKmvK,EAAKnsL,GAAKwf,EAAE,GAAK2sK,GACnBnvK,GA5cTm3I,EAAQmJ,QA2dR,SAAiBtgJ,EAAKC,EAAGuC,EAAGP,EAAGT,EAAGxe,GAChC,IAAIqsL,EAAersL,EAAIA,EACnBssL,EAAUD,GAAgB,EAAIrsL,EAAI,GAAK,EACvCusL,EAAUF,GAAgBrsL,EAAI,GAAKA,EACnCwsL,EAAUH,GAAgBrsL,EAAI,GAC9BysL,EAAUJ,GAAgB,EAAI,EAAIrsL,GAItC,OAHAgd,EAAI,GAAKC,EAAE,GAAKqvK,EAAU9sK,EAAE,GAAK+sK,EAAUttK,EAAE,GAAKutK,EAAUhuK,EAAE,GAAKiuK,EACnEzvK,EAAI,GAAKC,EAAE,GAAKqvK,EAAU9sK,EAAE,GAAK+sK,EAAUttK,EAAE,GAAKutK,EAAUhuK,EAAE,GAAKiuK,EACnEzvK,EAAI,GAAKC,EAAE,GAAKqvK,EAAU9sK,EAAE,GAAK+sK,EAAUttK,EAAE,GAAKutK,EAAUhuK,EAAE,GAAKiuK,EAC5DzvK,GAneTm3I,EAAQoJ,OAkfR,SAAgBvgJ,EAAKC,EAAGuC,EAAGP,EAAGT,EAAGxe,GAC/B,IAAI0sL,EAAgB,EAAI1sL,EACpB2sL,EAAwBD,EAAgBA,EACxCL,EAAersL,EAAIA,EACnBssL,EAAUK,EAAwBD,EAClCH,EAAU,EAAIvsL,EAAI2sL,EAClBH,EAAU,EAAIH,EAAeK,EAC7BD,EAAUJ,EAAersL,EAI7B,OAHAgd,EAAI,GAAKC,EAAE,GAAKqvK,EAAU9sK,EAAE,GAAK+sK,EAAUttK,EAAE,GAAKutK,EAAUhuK,EAAE,GAAKiuK,EACnEzvK,EAAI,GAAKC,EAAE,GAAKqvK,EAAU9sK,EAAE,GAAK+sK,EAAUttK,EAAE,GAAKutK,EAAUhuK,EAAE,GAAKiuK,EACnEzvK,EAAI,GAAKC,EAAE,GAAKqvK,EAAU9sK,EAAE,GAAK+sK,EAAUttK,EAAE,GAAKutK,EAAUhuK,EAAE,GAAKiuK,EAC5DzvK,GA5fTm3I,EAAQ/xH,OAugBR,SAAgBplB,EAAKuQ,GACnBA,EAAQA,GAAS,EACjB,IAAIzU,EAAwB,EAApByuK,EAASlxB,SAAiBv4I,KAAKK,GACnCI,EAAwB,EAApBgpK,EAASlxB,SAAiB,EAC9Bu2B,EAAS9uK,KAAKmE,KAAK,EAAM1D,EAAIA,GAAKgP,EAItC,OAHAvQ,EAAI,GAAKc,KAAKiE,IAAIjJ,GAAK8zK,EACvB5vK,EAAI,GAAKc,KAAKkE,IAAIlJ,GAAK8zK,EACvB5vK,EAAI,GAAKuB,EAAIgP,EACNvQ,GA9gBTm3I,EAAQkJ,cA2hBR,SAAuBrgJ,EAAKC,EAAGO,GAC7B,IAAIhP,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNsB,EAAItB,EAAE,GACNyd,EAAIld,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,IAAMe,EAAIf,EAAE,IAK5C,OAJAkd,EAAIA,GAAK,EACT1d,EAAI,IAAMQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAAKe,EAAIf,EAAE,KAAOkd,EACpD1d,EAAI,IAAMQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAAKe,EAAIf,EAAE,KAAOkd,EACpD1d,EAAI,IAAMQ,EAAE,GAAKhP,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,IAAMe,EAAIf,EAAE,KAAOkd,EAC9C1d,GAniBTm3I,EAAQ1vH,cA+iBR,SAAuBznB,EAAKC,EAAGO,GAC7B,IAAIhP,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNsB,EAAItB,EAAE,GAIV,OAHAD,EAAI,GAAKxO,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAAKe,EAAIf,EAAE,GACrCR,EAAI,GAAKxO,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAAKe,EAAIf,EAAE,GACrCR,EAAI,GAAKxO,EAAIgP,EAAE,GAAK/O,EAAI+O,EAAE,GAAKe,EAAIf,EAAE,GAC9BR,GArjBTm3I,EAAQqJ,cAkkBR,SAAuBxgJ,EAAKC,EAAGkC,GAE7B,IAAImF,EAAKnF,EAAE,GACPoF,EAAKpF,EAAE,GACP0tK,EAAK1tK,EAAE,GACP2tK,EAAK3tK,EAAE,GACP3Q,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNsB,EAAItB,EAAE,GAGN8vK,EAAMxoK,EAAKhG,EAAIsuK,EAAKp+K,EACpBu+K,EAAMH,EAAKr+K,EAAI8V,EAAK/F,EACpB0uK,EAAM3oK,EAAK7V,EAAI8V,EAAK/V,EAEpB0+K,EAAO3oK,EAAK0oK,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAMzoK,EAAK2oK,EACvBG,EAAO9oK,EAAK0oK,EAAMzoK,EAAKwoK,EAEvBM,EAAU,EAALP,EAYT,OAXAC,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EAEPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAERpwK,EAAI,GAAKxO,EAAIu+K,EAAMG,EACnBlwK,EAAI,GAAKvO,EAAIu+K,EAAMG,EACnBnwK,EAAI,GAAKuB,EAAI0uK,EAAMG,EACZpwK,GAhmBTm3I,EAAQsJ,QA4mBR,SAAiBzgJ,EAAKC,EAAGuC,EAAGP,GAC1B,IAAIhf,EAAI,GACJ6Y,EAAI,GAaR,OAXA7Y,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAChBvf,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAChBvf,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAEhB1G,EAAE,GAAK7Y,EAAE,GACT6Y,EAAE,GAAK7Y,EAAE,GAAK6d,KAAKiE,IAAI9C,GAAKhf,EAAE,GAAK6d,KAAKkE,IAAI/C,GAC5CnG,EAAE,GAAK7Y,EAAE,GAAK6d,KAAKkE,IAAI/C,GAAKhf,EAAE,GAAK6d,KAAKiE,IAAI9C,GAE5CjC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GAClBxC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GAClBxC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GACXxC,GA1nBTm3I,EAAQuJ,QAsoBR,SAAiB1gJ,EAAKC,EAAGuC,EAAGP,GAC1B,IAAIhf,EAAI,GACJ6Y,EAAI,GAaR,OAXA7Y,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAChBvf,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAChBvf,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAEhB1G,EAAE,GAAK7Y,EAAE,GAAK6d,KAAKkE,IAAI/C,GAAKhf,EAAE,GAAK6d,KAAKiE,IAAI9C,GAC5CnG,EAAE,GAAK7Y,EAAE,GACT6Y,EAAE,GAAK7Y,EAAE,GAAK6d,KAAKiE,IAAI9C,GAAKhf,EAAE,GAAK6d,KAAKkE,IAAI/C,GAE5CjC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GAClBxC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GAClBxC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GACXxC,GAppBTm3I,EAAQwJ,QAgqBR,SAAiB3gJ,EAAKC,EAAGuC,EAAGP,GAC1B,IAAIhf,EAAI,GACJ6Y,EAAI,GAaR,OAXA7Y,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAChBvf,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAChBvf,EAAE,GAAKgd,EAAE,GAAKuC,EAAE,GAEhB1G,EAAE,GAAK7Y,EAAE,GAAK6d,KAAKiE,IAAI9C,GAAKhf,EAAE,GAAK6d,KAAKkE,IAAI/C,GAC5CnG,EAAE,GAAK7Y,EAAE,GAAK6d,KAAKkE,IAAI/C,GAAKhf,EAAE,GAAK6d,KAAKiE,IAAI9C,GAC5CnG,EAAE,GAAK7Y,EAAE,GAET+c,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GAClBxC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GAClBxC,EAAI,GAAKlE,EAAE,GAAK0G,EAAE,GACXxC,GA9qBTm3I,EAAQl2I,MAwrBR,SAAehB,EAAGuC,GAChB,IAAI8tK,EAAQtxB,EAAW/+I,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACjCswK,EAAQvxB,EAAWx8I,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACrCq6B,EAAUyzI,EAAOA,GACjBzzI,EAAU0zI,EAAOA,GACjB,IAAIvB,EAASvxK,EAAI6yK,EAAOC,GAExB,OAAIvB,EAAS,EACJ,EACEA,GAAU,EACZluK,KAAKK,GAELL,KAAKC,KAAKiuK,IAnsBrB73B,EAAQ5+H,IA8sBR,SAAatY,GACX,MAAO,QAAUA,EAAE,GAAK,KAAOA,EAAE,GAAK,KAAOA,EAAE,GAAK,KA9sBtDk3I,EAAQuI,YAytBR,SAAqBz/I,EAAGuC,GACtB,OAAOvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAAMvC,EAAE,KAAOuC,EAAE,IAztBtD20I,EAAQgC,OAouBR,SAAgBl5I,EAAGuC,GACjB,IAAI4hG,EAAKnkG,EAAE,GACPyI,EAAKzI,EAAE,GACP0I,EAAK1I,EAAE,GACP8tK,EAAKvrK,EAAE,GACPwrK,EAAKxrK,EAAE,GACPyrK,EAAKzrK,EAAE,GACX,OAAO1B,KAAKsE,IAAIg/F,EAAK2pE,IAAOxD,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIg/F,GAAKtjG,KAAKsE,IAAI2oK,KAAQjtK,KAAKsE,IAAIsD,EAAKslK,IAAOzD,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIsD,GAAK5H,KAAKsE,IAAI4oK,KAAQltK,KAAKsE,IAAIuD,EAAKslK,IAAO1D,EAAS9tJ,QAAU3b,KAAKyH,IAAI,EAAKzH,KAAKsE,IAAIuD,GAAK7H,KAAKsE,IAAI6oK,KAzuBhQ,IAEI1D,EAEJ,SAAiChnL,GAC/B,GAAIA,GAAOA,EAAIi1J,WACb,OAAOj1J,EAEP,IAAI6/K,EAAS,GAEb,GAAW,MAAP7/K,EACF,IAAK,IAAIhB,KAAOgB,EACVvB,OAAOQ,UAAUC,eAAeC,KAAKa,EAAKhB,KAAM6gL,EAAO7gL,GAAOgB,EAAIhB,IAK1E,OADA6gL,EAAOrmK,QAAUxZ,EACV6/K,EAfIoL,CAFD,EAAQ,MAgCtB,SAAShnL,IACP,IAAIwY,EAAM,IAAIuqK,EAAStxB,WAAW,GAQlC,OANIsxB,EAAStxB,YAAcG,eACzBp5I,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EAyBT,SAAS3d,EAAO4d,GACd,IAAIzO,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNsB,EAAItB,EAAE,GACV,OAAOa,KAAKmE,KAAKzT,EAAIA,EAAIC,EAAIA,EAAI8P,EAAIA,GAYvC,SAASy9I,EAAWxtJ,EAAGC,EAAG8P,GACxB,IAAIvB,EAAM,IAAIuqK,EAAStxB,WAAW,GAIlC,OAHAj5I,EAAI,GAAKxO,EACTwO,EAAI,GAAKvO,EACTuO,EAAI,GAAKuB,EACFvB,EA4DT,SAASyoB,EAASzoB,EAAKC,EAAGuC,GAIxB,OAHAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EAYT,SAASyP,EAASzP,EAAKC,EAAGuC,GAIxB,OAHAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EAYT,SAAS8/I,EAAO9/I,EAAKC,EAAGuC,GAItB,OAHAxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GAClBxC,EAAI,GAAKC,EAAE,GAAKuC,EAAE,GACXxC,EAyHT,SAASq0C,EAASp0C,EAAGuC,GACnB,IAAIhR,EAAIgR,EAAE,GAAKvC,EAAE,GACbxO,EAAI+Q,EAAE,GAAKvC,EAAE,GACbsB,EAAIiB,EAAE,GAAKvC,EAAE,GACjB,OAAOa,KAAKmE,KAAKzT,EAAIA,EAAIC,EAAIA,EAAI8P,EAAIA,GAWvC,SAASy+I,EAAgB//I,EAAGuC,GAC1B,IAAIhR,EAAIgR,EAAE,GAAKvC,EAAE,GACbxO,EAAI+Q,EAAE,GAAKvC,EAAE,GACbsB,EAAIiB,EAAE,GAAKvC,EAAE,GACjB,OAAOzO,EAAIA,EAAIC,EAAIA,EAAI8P,EAAIA,EAU7B,SAAS0+I,EAAchgJ,GACrB,IAAIzO,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNsB,EAAItB,EAAE,GACV,OAAOzO,EAAIA,EAAIC,EAAIA,EAAI8P,EAAIA,EAyC7B,SAASs7B,EAAU78B,EAAKC,GACtB,IAAIzO,EAAIyO,EAAE,GACNxO,EAAIwO,EAAE,GACNsB,EAAItB,EAAE,GACNQ,EAAMjP,EAAIA,EAAIC,EAAIA,EAAI8P,EAAIA,EAU9B,OARId,EAAM,IAERA,EAAM,EAAIK,KAAKmE,KAAKxE,GACpBT,EAAI,GAAKC,EAAE,GAAKQ,EAChBT,EAAI,GAAKC,EAAE,GAAKQ,EAChBT,EAAI,GAAKC,EAAE,GAAKQ,GAGXT,EAWT,SAASvC,EAAIwC,EAAGuC,GACd,OAAOvC,EAAE,GAAKuC,EAAE,GAAKvC,EAAE,GAAKuC,EAAE,GAAKvC,EAAE,GAAKuC,EAAE,GA6VpC20I,EAAQhjG,IAAM1rB,EAMd0uH,EAAQ0H,IAAMpvI,EAMd0nI,EAAQ0I,IAAMC,EAMb3I,EAAQhwG,KAAOkN,EAMZ8iG,EAAQyI,QAAUI,EAMtB7I,EAAQ12I,IAAMpe,EAMX80J,EAAQwI,OAASM,EAchB9I,EAAQrsJ,QAAU,WAC9B,IAAImkL,EAAMznL,IACV,OAAO,SAAUyY,EAAGivK,EAAQt3K,EAAQunB,EAAOm+C,EAAIqpC,GAC7C,IAAIxkH,OAAI,EACJ+f,OAAI,EAgBR,IAdKgtK,IACHA,EAAS,GAGNt3K,IACHA,EAAS,GAITsK,EADEid,EACEre,KAAKuR,IAAI8M,EAAQ+vJ,EAASt3K,EAAQqI,EAAE5d,QAEpC4d,EAAE5d,OAGHF,EAAIyV,EAAQzV,EAAI+f,EAAG/f,GAAK+sL,EAC3BD,EAAI,GAAKhvK,EAAE9d,GACX8sL,EAAI,GAAKhvK,EAAE9d,EAAI,GACf8sL,EAAI,GAAKhvK,EAAE9d,EAAI,GACfm7E,EAAG2xG,EAAKA,EAAKtoE,GACb1mG,EAAE9d,GAAK8sL,EAAI,GACXhvK,EAAE9d,EAAI,GAAK8sL,EAAI,GACfhvK,EAAE9d,EAAI,GAAK8sL,EAAI,GAGjB,OAAOhvK,GA9BqB,I,iCC/0BhCje,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT2zJ,EAAQp6I,QAAU,SAAUvZ,GAO1B,IAAIuF,SAAcvF,EAClB,OAAiB,OAAVA,GAA2B,WAATuF,GAA8B,aAATA,I,iCCZhD/G,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIgtL,EAAmB,EAAQ,KAE3BC,EAAkB,EAAQ,KAE1BC,EAAc,EAAQ,KAyD1Bv5B,EAAQp6I,QAvDM,SAAS6jD,EAAQp9D,EAAO6wJ,GACpC,GAAI7wJ,IAAU6wJ,EACZ,OAAO,EAGT,IAAK7wJ,IAAU6wJ,EACb,OAAO,EAGT,GAAIq8B,EAAY3zK,QAAQvZ,IAAUktL,EAAY3zK,QAAQs3I,GACpD,OAAO,EAGT,GAAIo8B,EAAgB1zK,QAAQvZ,IAAUitL,EAAgB1zK,QAAQs3I,GAAQ,CACpE,GAAI7wJ,EAAMnB,SAAWgyJ,EAAMhyJ,OACzB,OAAO,EAKT,IAFA,IAAI0sB,GAAM,EAED5sB,EAAI,EAAGA,EAAIqB,EAAMnB,SACxB0sB,EAAM6xC,EAAQp9D,EAAMrB,GAAIkyJ,EAAMlyJ,KADEA,KAQlC,OAAO4sB,EAGT,GAAIyhK,EAAiBzzK,QAAQvZ,IAAUgtL,EAAiBzzK,QAAQs3I,GAAQ,CACtE,IAAIC,EAAYtyJ,OAAOukC,KAAK/iC,GACxB+wJ,EAAYvyJ,OAAOukC,KAAK8tH,GAE5B,GAAIC,EAAUjyJ,SAAWkyJ,EAAUlyJ,OACjC,OAAO,EAKT,IAFI0sB,GAAM,EAED5sB,EAAI,EAAGA,EAAImyJ,EAAUjyJ,SAC5B0sB,EAAM6xC,EAAQp9D,EAAM8wJ,EAAUnyJ,IAAKkyJ,EAAMC,EAAUnyJ,MADfA,KAQtC,OAAO4sB,EAGT,OAAO,I,iCC9DT/sB,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAaT2zJ,EAAQp6I,QAVW,SAAsBvZ,GAOvC,MAAwB,kBAAVA,GAAgC,OAAVA,I,iCCXtCxB,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAaT2zJ,EAAQp6I,QAVU,SAAqBvZ,GAOrC,OAAiB,OAAVA,GAAmC,oBAAVA,GAAwBk8B,SAASl8B,EAAMnB,U,iCCXzEL,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAOT2zJ,EAAQp6I,QAJE,SAAa+f,EAAGtc,GACxB,OAAQsc,EAAItc,EAAIA,GAAKA,I,iCCLvBxe,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAET,IAAIgvJ,EAAS1xI,KAAKK,GAAK,IAMvBg2I,EAAQp6I,QAJO,SAAkBmoF,GAC/B,OAAOstD,EAASttD,I,iCCNlBljG,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAI2mL,EAAS,EAAQ,KAErBhzB,EAAQ14G,OAAS0rI,EAAOptK,QAExB,IAAI4zK,EAAe,EAAQ,KAE3Bx5B,EAAQ7rH,KAAOqlJ,EAAarlJ,KAC5B6rH,EAAQtsH,MAAQ8lJ,EAAa9lJ,MAE7B,IAAI+lJ,EAAa,EAAQ,KAEzBz5B,EAAQhM,eAAiBylC,EAAWzlC,eACpCgM,EAAQ05B,aAAeD,EAAWC,c,iCChBlC7uL,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIstL,EAAS,EAAQ,KAErB35B,EAAQ7rH,KAAOwlJ,EAAO/zK,QAEtB,IAAIg0K,EAAU,EAAQ,KAEtB55B,EAAQtsH,MAAQkmJ,EAAQh0K,S,iCCVxB/a,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElBM,EAAM,EAAQ,KAEdC,EAAS,EAAQ,KAKjB7+I,EAEJ,SAAUzjC,GAGR,SAASyjC,EAAKx5B,GACZ,OAAOjK,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CACxC5gK,KAAM,eACL+I,KAASlP,KAkDd,OAvDAgnL,EAAQ10B,UAAU5pH,EAAMzjC,GAQxByjC,EAAK9oC,UAAU2hD,uBAAyB,WACtC,IAAI/8C,EAAQxE,KAAKid,IAAI,SACjBnO,EAAS9O,KAAKid,IAAI,UAClBukC,EAAYh9C,EAAQ,EACpBi9C,EAAa3yC,EAAS,EAS1B,MAAO,CACLwZ,OAP6B,SAA3BtoB,KAAKid,IAAI,cACFjd,KAAKy9C,eAAiB,CAAC,CAAC,EAAG3uC,GAAS,CAAC,EAAGA,EAAS,GAAI,CAACtK,EAAO,GAAI,CAACA,EAAOsK,IAAW,CAAC,CAAC,EAAG,GAAI,CAACtK,EAAO,GAAI,CAACA,EAAOsK,GAAS,CAACtK,EAAQ,EAAGsK,IAEtI9O,KAAKy9C,eAAiB,CAAC,CAAC,EAAGgE,EAvBT,GAuBmD,CAAC,EAAGA,EAvBvD,GAuBiG,CAACj9C,EAAOi9C,EAvBzG,GAuBmJ,CAACj9C,EAAOi9C,EAvB3J,IAuBuM,CAAC,CAACD,EAvBzM,EAuBiP,GAAI,CAACA,EAvBtP,EAuB8R,GAAI,CAACA,EAvBnS,EAuB2U1yC,GAAS,CAAC0yC,EAvBrV,EAuB6X1yC,MAU5Z45B,EAAK9oC,UAAUyhD,sBAAwB,WACrC,IAAIK,EAAiB1hD,KAAKuhD,yBACtBlrC,EAAkBrW,KAAKid,IAAI,mBAC3B/I,EAAYlU,KAAKid,IAAI,aACrBsgC,EAAa,IAAI+pI,EAAIx/F,QAAQ,CAC/BzjE,MAAO2iK,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAIrlH,GAAiBrrC,KAE5DinC,EAAW,IAAIgqI,EAAIx/F,QAAQ,CAC7BzjE,MAAO2iK,EAAQjgB,SAASigB,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAIrlH,GAAiBrrC,GAAkBnC,KAE/F8tB,EAAQ,IAAIslJ,EAAI1gB,MAUpB,OARI5mK,KAAKihD,iBACPjf,EAAMpyB,IAAI2tC,GACVvb,EAAMpyB,IAAI0tC,IAGVtb,EAAMpyB,IAAI0tC,GAGL,CACLtb,MAAOA,EACPub,WAAYA,EACZD,SAAUA,IAIP5U,EAxDT,CAyDE6+I,EAAOptK,SAETo6I,EAAQp6I,QAAUuuB,G,iCC1ElBtpC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElBM,EAAM,EAAQ,KAEd5vB,EAAU,EAAQ,KAElB+vB,EAAa,EAAQ,KAerBlrI,EAEJ,SAAUt3C,GAGR,SAASs3C,EAAOrtC,GACd,IAAIhK,EAAQD,EAAOnF,KAAKE,OAASA,KAGjCkF,EAAMs3C,YAAc,SAAUr8C,GAC5B,IAAIs8C,EAAUt8C,EAAEs8C,QACZC,EAAUv8C,EAAEu8C,QAEhBx3C,EAAMy3C,mBAAmBF,EAASC,IAIpCx3C,EAAM03C,UAAY,WAEZ13C,EAAM23C,gBACR33C,EAAM23C,iBAGR33C,EAAM43C,mBAAgBh2C,GAIxB,IAAIwQ,EAASpI,EAAIoI,OACbylC,EAAa7tC,EAAI6tC,WACjBC,EAAa9tC,EAAI8tC,WACjBC,EAAc/tC,EAAI+tC,YAClBz4C,EAAQ0K,EAAI1K,MACZsK,EAASI,EAAIJ,OACb+F,EAAY3F,EAAI2F,UAChB4a,EAAMvgB,EAAIugB,IACV9J,EAAMzW,EAAIyW,IACV4I,EAAQrf,EAAIqf,MACZU,EAAY/f,EAAI+f,UACpB/pB,EAAMoS,OAASA,EACfpS,EAAM63C,WAAaA,EAEnB,IAAIv3C,EAAKw3C,GAAc,GACnBxgB,EAAKh3B,EAAG,GACRs1B,OAAW,IAAP0B,EAAgBirJ,EAAWvqI,aAAe1gB,EAC9CmG,EAAKn9B,EAAG,GACRyK,OAAW,IAAP0yB,EAAgB8kJ,EAAWP,cAAgBvkJ,EAcnD,OAZAz9B,EAAM83C,WAAa,CAACliB,EAAG7qB,GACvB/K,EAAM+3C,YAAcA,EACpB/3C,EAAMV,MAAQA,EACdU,EAAM4J,OAASA,EACf5J,EAAMuqB,IAAMA,EACZvqB,EAAMygB,IAAMA,EACZzgB,EAAMqpB,MAAQA,EACdrpB,EAAM2P,UAAYA,EAClB3P,EAAM+pB,UAAYA,EAElB/pB,EAAMi4C,gBAECj4C,EAkYT,OA1bA8hL,EAAQ10B,UAAU/1G,EAAQt3C,GAgE1Bs3C,EAAO38C,UAAUw9C,cAAgB,SAAUC,GAErCr9C,KAAK8rB,iBAIP9rB,KAAK8rB,gBAAgB9b,UAGvB,IAAIgyB,EAAQqb,EAAGrb,MAEXsb,GADaD,EAAGE,WACLF,EAAGC,UAElBt9C,KAAK8rB,gBAAkBkW,EACvBhiC,KAAK8rB,gBAAgBzb,IAAI,SAAU,GAE/BrQ,KAAKi9C,aAAej9C,KAAKw9C,kBAAoBF,GAC/CA,EAASl1B,KAAK,OAAQpoB,KAAKw9C,kBAG7Bx9C,KAAK4P,IAAI5P,KAAK8rB,iBACd9rB,KAAK+2B,QASPwlB,EAAO38C,UAAU69C,aAAe,WAC9B,MAAuB,eAAhBz9C,KAAKsX,QAQdilC,EAAO38C,UAAUu9C,cAAgB,WAC/B,GAAIn9C,KAAKi9C,YAAa,CACpBj9C,KAAKw9C,iBAAmBx9C,KAAK09C,yBAC7B19C,KAAKw9C,iBAAiBntC,IAAI,SAAU,GACpCrQ,KAAK29C,eAAiB39C,KAAK49C,uBAC3B59C,KAAK29C,eAAettC,IAAI,SAAU,GAClCrQ,KAAK69C,eAAiB79C,KAAK89C,uBAC3B99C,KAAK69C,eAAextC,IAAI,SAAU,GAClC,IAAI7K,EAAKxF,KAAKuuB,MACVkB,EAAMjqB,EAAG,GACTmgB,EAAMngB,EAAG,GAEbxF,KAAK+9C,kBAAkBtuB,EAAK9J,GAI9B3lB,KAAKg+C,aAKPzB,EAAO38C,UAAUq+C,gBAAkB,WACjC,OAAOj+C,KAAKy9C,eAAiB,YAAc,aAK7ClB,EAAO38C,UAAUg+C,qBAAuB,WACtC,IAAI5b,EAAQhiC,KAAKutC,WAGjB,OAFAvtC,KAAKk+C,eAAiBl+C,KAAKm+C,mBAAmBnc,GAAO,GACrDhiC,KAAKo+C,aAAep+C,KAAKq+C,iBAAiBrc,GAAO,GAC1CA,GAKTua,EAAO38C,UAAUk+C,qBAAuB,WACtC,IAAI9b,EAAQhiC,KAAKutC,WAGjB,OAFAvtC,KAAKs+C,eAAiBt+C,KAAKm+C,mBAAmBnc,GAAO,GACrDhiC,KAAKu+C,aAAev+C,KAAKq+C,iBAAiBrc,GAAO,GAC1CA,GAKTua,EAAO38C,UAAU89C,uBAAyB,WACxC,OAAO19C,KAAK0sB,SAAS,OAAQ,CAC3BrI,MAAO,CACL1R,KAAM,OACNC,YAAa,EACboF,OAAQ,WAOdukC,EAAO38C,UAAU4+C,uBAAyB,SAAUC,GAClD,IAAIj5C,EAAKxF,KAAKg9C,WACV0B,EAAcl5C,EAAG,GACjBm5C,EAAen5C,EAAG,GAEtB,OAAIxF,KAAKy9C,eACA,CACL7uC,EAAG6vC,GAASC,EAAc,EAC1B7vC,EAAG7O,KAAK8O,OAAS,EAAI6vC,EAAe,EACpCn6C,MAAOk6C,EACP5vC,OAAQ6vC,GAIL,CACL/vC,EAAG5O,KAAKwE,MAAQ,EAAIm6C,EAAe,EACnC9vC,EAAG4vC,EAAQ,GAAKC,EAChBl6C,MAAOm6C,EACP7vC,OAAQ4vC,IAIZnC,EAAO38C,UAAUg/C,yBAA2B,SAAUH,GAEpD,OAAIz+C,KAAKy9C,eACA,CACL7uC,EAAG,EACHC,EAAG7O,KAAK8O,OAAS,EACjBoK,EAAGuuK,EAAW5oI,uBAAyB,GAIpC,CACLjwC,EAAG5O,KAAKwE,MAAQ,EAChBqK,EAAG,EACHqK,EAAGuuK,EAAW5oI,uBAAyB,IAU3CtC,EAAO38C,UAAUu+C,mBAAqB,SAAUnc,EAAOyc,GACrD,IAAIK,EAAiC,SAApB9+C,KAAK+8C,WAAwB/8C,KAAKw+C,uBAAuBC,GAA6B,WAApBz+C,KAAK+8C,WAA0B/8C,KAAK4+C,yBAAyBH,GAAS,GAErJM,EAAkBioI,EAAQjgB,SAASigB,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAIjoH,GAAa2oI,EAAWvrI,gBAAiB,CACpHlkC,OAAQhY,KAAKi+C,oBAGf,OAAOjc,EAAMtV,SAAS1sB,KAAK+8C,WAAY,CACrC14B,MAAO06B,KAIXxC,EAAO38C,UAAUo/C,qBAAuB,SAAUP,GAChD,IAAIj5C,EAAKxF,KAAKg9C,WACV0B,EAAcl5C,EAAG,GACjBm5C,EAAen5C,EAAG,GACtB,OAAOxF,KAAKy9C,eAAiB,CAE3B7uC,EAAG6vC,GAASC,EAAc,EAAIA,EAAc,EAC5C7vC,EAAG7O,KAAK8O,OAAS,EAAI6vC,EAAe,EAAI,EACxChrC,UAAW,SACXC,aAAc,OACZ,CACFhF,EAAG5O,KAAKwE,MAAQ,EAAIm6C,EAAe,EAAI,EACvC9vC,EAAG4vC,EAAQC,EAAc,GAAKA,EAAc,EAC5C/qC,UAAW,OACXC,aAAc,WAIlB2oC,EAAO38C,UAAUq/C,uBAAyB,SAAUR,GAClD,OAAOz+C,KAAKy9C,eAAiB,CAE3B7uC,EAAG,EACHC,EAAG7O,KAAK8O,OAAS,EAAI24K,EAAW5oI,uBAAyB,EAAI,EAC7DlrC,UAAW,SACXC,aAAc,OACZ,CACFhF,EAAG5O,KAAKwE,MAAQ,EAAIijL,EAAW5oI,uBAAyB,EAAI,EAC5DhwC,EAAG,EACH8E,UAAW,OACXC,aAAc,WAUlB2oC,EAAO38C,UAAUy+C,iBAAmB,SAAUrc,EAAOyc,GACnD,IAAIS,EAAoC,SAApBl/C,KAAK+8C,WAAwB/8C,KAAKg/C,qBAAqBP,GAA6B,WAApBz+C,KAAK+8C,WAA0B/8C,KAAKi/C,uBAAuBR,GAAS,GAEpJU,EAAW6nI,EAAQjgB,SAASigB,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAI/mK,KAAK6U,WAAYqqC,GAAgB,CACrGxrC,KAAM,KAGR,OAAOsuB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAO86B,KAKX5C,EAAO38C,UAAUo+C,UAAY,WACvBh+C,KAAKi9C,aAEPj9C,KAAKgO,GAAG,YAAahO,KAAKo/C,cAI9B7C,EAAO38C,UAAUw/C,YAAc,SAAUC,GAEvCr/C,KAAK88C,cAAgBuC,EAAG//C,OACxB,IAAIggD,EAAcD,EAAGE,MAErBD,EAAYE,kBACZF,EAAYG,iBACZ,IAAIhD,EAAU6C,EAAY7C,QACtBC,EAAU4C,EAAY5C,QAE1B18C,KAAK0/C,IAAM1/C,KAAKy9C,eAAiBhB,EAAUC,EAC3C18C,KAAK2/C,oBAGPpD,EAAO38C,UAAU+/C,iBAAmB,WAClC,IAAIC,EAAe5/C,KAAKid,IAAI,UAAUA,IAAI,gBACtC4iC,EAAK63G,EAAQ90F,iBAAiBhjB,EAAc,YAAa5/C,KAAKw8C,aAC9DsD,EAAK43G,EAAQ90F,iBAAiBhjB,EAAc,UAAW5/C,KAAK48C,WAC5DmD,EAAK23G,EAAQ90F,iBAAiBhjB,EAAc,aAAc5/C,KAAK48C,WAEnE58C,KAAK68C,eAAiB,WACpBgD,EAAG1vC,SACH2vC,EAAG3vC,SACH4vC,EAAG5vC,WAIPosC,EAAO38C,UAAUogD,UAAY,WAC3B,OAAOhgD,KAAK88C,gBAAkB98C,KAAKk+C,gBAGrC3B,EAAO38C,UAAUqgD,UAAY,WAC3B,OAAOjgD,KAAK88C,gBAAkB98C,KAAKs+C,gBAGrC/B,EAAO38C,UAAUsgD,UAAY,WAC3B,OAAOlgD,KAAK88C,gBAAkB98C,KAAKw9C,kBASrCjB,EAAO38C,UAAU+8C,mBAAqB,SAAU/tC,EAAGC,GACjD,IAAI3J,EAAQlF,KAERmgD,EAAcngD,KAAKy9C,eAAiBz9C,KAAKwE,MAAQxE,KAAK8O,OACtDsxC,EAAOpgD,KAAKy9C,eAAiB,GAAK,EAElCj4C,EAAKxF,KAAKuuB,MACVkB,EAAMjqB,EAAG,GACTmgB,EAAMngB,EAAG,GAET8tC,EAActzC,KAAK0/C,IACnBW,EAAkBrgD,KAAKy9C,eAAiB7uC,EAAIC,EAI5C2oC,GAFa6I,EAAkB/M,GAEX6M,EAAcC,EAClCrvC,EAAW,CAAC0e,EAAK9J,GAEjB3lB,KAAKkgD,YAGLnvC,EAFEymC,GAAQ,GAAK7xB,EAAM6xB,EAAO,EAEjB,CAAC/nB,GAAO,EAAI9J,GAAM,GACpB6xB,EAAO,GAAK/nB,EAAM+nB,EAAO,EAEvB,CAAC,EAAG7xB,EAAM8J,GAGV,CAACA,EAAM+nB,EAAM7xB,EAAM6xB,IAI5Bx3C,KAAKggD,cACPjvC,EAAS,GAAK/Q,KAAKsgD,YAAY7wB,EAAK+nB,IAGlCx3C,KAAKigD,cACPlvC,EAAS,GAAK/Q,KAAKsgD,YAAY36B,EAAK6xB,IAIlCzmC,EAAS,GAAKA,EAAS,KACzBA,EAAWyM,MAAM,GAAG7K,KAAK3S,KAAKggD,YAAcjvC,EAAS,GAAKA,EAAS,MAKvE/Q,KAAK0/C,IAAMW,EACXrgD,KAAKuuB,MAAQxd,EAEb/Q,KAAK0sC,KAAK,eAAgB,CACxBne,MAAOxd,EACPnQ,MAAOmQ,EAAS3M,KAAI,SAAU8U,GAC5B,OAAOhU,EAAMq7C,SAASrnC,QAG1BlZ,KAAK+9C,kBAAkBhtC,EAAS,GAAIA,EAAS,IAE7C/Q,KAAKid,IAAI,UAAUnN,QAKrBysC,EAAO38C,UAAUm+C,kBAAoB,SAAUyC,EAAUC,GACvD,IAAIj8C,EAAQxE,KAAKwE,MACbsK,EAAS9O,KAAK8O,OAElB9O,KAAK29C,eAAerY,cACpBtlC,KAAK69C,eAAevY,cAGhBtlC,KAAKy9C,gBACPz9C,KAAKw9C,iBAAiBp1B,KAAK,CACzBxZ,EAAGpK,EAAQg8C,EACX3xC,EAAG,EACHrK,OAAQi8C,EAAWD,GAAYh8C,EAC/BsK,OAAQA,IAEV9O,KAAK29C,eAAehvB,UAAU6xB,EAAWh8C,EAAO,GAChDxE,KAAK69C,eAAelvB,UAAU8xB,EAAWj8C,EAAO,KAEhDxE,KAAKw9C,iBAAiBp1B,KAAK,CACzBxZ,EAAG,EACHC,EAAGC,GAAU,EAAI2xC,GACjBj8C,MAAOA,EACPsK,QAAS2xC,EAAWD,GAAY1xC,IAGlC9O,KAAK29C,eAAehvB,UAAU,GAAI,EAAI6xB,GAAY1xC,GAClD9O,KAAK69C,eAAelvB,UAAU,GAAI,EAAI8xB,GAAY3xC,IAIpD9O,KAAKo+C,aAAah2B,KAAK,OAAQpoB,KAAKivB,UAAUjvB,KAAKugD,SAASC,KAC5DxgD,KAAKu+C,aAAan2B,KAAK,OAAQpoB,KAAKivB,UAAUjvB,KAAKugD,SAASE,KAEpC,WAApBzgD,KAAK+8C,aACP/8C,KAAKk+C,eAAe91B,KAAK,CACvBlP,GAAIuuK,EAAWP,cAAgB1mI,GAAYinI,EAAW5oI,uBAAyB4oI,EAAWP,gBAAkB,IAE9GlnL,KAAKs+C,eAAel2B,KAAK,CACvBlP,GAAIuuK,EAAWP,cAAgBzmI,GAAYgnI,EAAW5oI,uBAAyB4oI,EAAWP,gBAAkB,MAWlH3qI,EAAO38C,UAAU0gD,YAAc,SAAU/xB,EAAOipB,GAC9C,IAAIt+B,EAAIs+B,EAAOjpB,EACf,OAAOrV,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAGjCqjC,EAAO38C,UAAU2gD,SAAW,SAAUliB,GACpC,IAAI/gB,EAAItd,KAAKyvB,KAAOzvB,KAAK2lB,IAAM3lB,KAAKyvB,KAAO4O,EAC3C,OAAO3b,OAAOpF,EAAEqF,QAAQrF,EAAI,EAAI,EAAI,KAG/Bi/B,EA3bT,CA4bE+qI,EAAI1gB,OAENrS,EAAQp6I,QAAUoiC,G,iCCzdlBn9C,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElB9sD,EAAI,EAAQ,KAEZotD,EAAM,EAAQ,KAEd8G,EAAe,EAAQ,KAEvB7G,EAAS,EAAQ,KAEjBE,EAAa,EAAQ,KAErBx/I,EAEJ,SAAUhjC,GAGR,SAASgjC,EAAM/4B,GACb,OAAOjK,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CACxC5gK,KAAM,gBACL+I,KAASlP,KAmMd,OAxMAgnL,EAAQ10B,UAAUrqH,EAAOhjC,GAUzBgjC,EAAMroC,UAAU+hD,iBAAmB,SAAUpV,GAC3C,IAAI9c,EAAMyqG,EAAE30H,KAAKgnC,GAAO3rC,MAIpB42C,EAFM0iF,EAAEh9D,KAAK3wB,GAAO3rC,MAEP6uB,EACjB,OAAOyqG,EAAE91H,IAAImoC,GAAO,SAAUjlC,GAC5B,OAAO0/K,EAAQjgB,SAASigB,EAAQjgB,SAAS,GAAIz/J,GAAO,CAClDs6C,YAAal/B,OAAOpb,EAAK1G,OAAS6uB,GAAO+nB,QAO/CvP,EAAMroC,UAAUiiD,UAAY,WAC1B,QAAS7hD,KAAKid,IAAI,cAKpBgrB,EAAMroC,UAAUkiD,oBAAsB,WACpC,IAKIC,EALAv9C,EAAQxE,KAAKid,IAAI,SACjBnO,EAAS9O,KAAKid,IAAI,UAClBsvB,EAAQvsC,KAAK2hD,iBAAiB3hD,KAAKid,IAAI,UACvC5G,EAAkBrW,KAAKid,IAAI,mBAC3BtK,EAAO,GAGP3S,KAAKy9C,gBACP9qC,GAAQ,SAERunH,EAAEo+B,KAAK/rH,GAAO,SAAUjvB,GACtBykC,EAAWqsI,EAAaj0K,QAAQ6nC,MAAM1kC,EAAErJ,OACxCtB,GAAQ2K,EAAEskC,WAAa,IAAMG,EAAW,SAG1CpvC,GAAQ,UAERunH,EAAEo+B,KAAK/rH,GAAO,SAAUjvB,GACtBykC,EAAWqsI,EAAaj0K,QAAQ6nC,MAAM1kC,EAAErJ,OACxCtB,GAAQ,EAAI2K,EAAEskC,WAAa,IAAMG,EAAW,QAIhD,IAAIxE,EAAa,IAAI+pI,EAAIpgK,KAAK,CAC5B7C,MAAO2iK,EAAQjgB,SAAS,CACtBn4J,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACRgF,cAAe,GACduC,KAEDinC,EAAW,IAAIgqI,EAAIpgK,KAAK,CAC1B7C,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACR6D,KAAMA,EACNmB,cAAe,KAGfkuB,EAAQ,IAAIslJ,EAAI1gB,MAUpB,OARI5mK,KAAKihD,iBACPjf,EAAMpyB,IAAI2tC,GACVvb,EAAMpyB,IAAI0tC,IAGVtb,EAAMpyB,IAAI0tC,GAGL,CACLtb,MAAOA,EACPub,WAAYA,EACZD,SAAUA,IAWdrV,EAAMroC,UAAUqiD,sBAAwB,WACtC,IAQIF,EARA78C,EAAQlF,KAERwE,EAAQxE,KAAKid,IAAI,SACjBnO,EAAS9O,KAAKid,IAAI,UAClBsvB,EAAQvsC,KAAK2hD,iBAAiB3hD,KAAKid,IAAI,UACvCpI,EAAY7U,KAAKid,IAAI,aACrB+kB,EAAQ,IAAIslJ,EAAI1gB,MAChBj0J,EAAO,GAEPyJ,EAAO,GACP8lC,EAAQ3V,EAAM9sC,OAEdO,KAAKy9C,gBACP9qC,GAAQ,SAERunH,EAAEo+B,KAAK/rH,GAAO,SAAUjlC,EAAM/H,GAQ5B,GAPU,IAANA,GAAWA,IAAM2iD,EAAQ,IAC3B9lC,EAAK5L,KAAK,CAAC,IAAKlJ,EAAKs6C,WAAap9C,EAAO,IACzC4X,EAAK5L,KAAK,CAAC,IAAKlJ,EAAKs6C,WAAap9C,EAAOsK,KAG3CizC,EAAWqsI,EAAaj0K,QAAQ6nC,MAAMzV,EAAMhtC,GAAG0U,OAE3C/O,EAAM28C,aAAetiD,EAAI,EAAG,CAC9B,IAAI4iD,EAAcisI,EAAaj0K,QAAQ6nC,MAAMzV,EAAMhtC,EAAI,GAAG0U,OAC1DtB,GAAQrL,EAAKs6C,WAAa,IAAMO,EAAc,IAGhDxvC,GAAQrL,EAAKs6C,WAAa,IAAMG,EAAW,IAC3C/f,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO2iK,EAAQjgB,SAASigB,EAAQjgB,SAAS,CACvCn4J,EAAGtH,EAAKs6C,WAAap9C,EACrBqK,EAAGC,EAAS24K,EAAWN,YACvBzzK,KAAM,GAAKxO,EAAM+2C,eAAe30C,EAAK1G,QACpCiU,GAAY,CACbjB,aAAc,MACdD,UAAW,kBAKjBhB,GAAQ,UAERunH,EAAEo+B,KAAK/rH,GAAO,SAAUjlC,EAAM/H,GAS5B,GARU,IAANA,GAAWA,IAAM2iD,EAAQ,IAC3B9lC,EAAK5L,KAAK,CAAC,IAAK,EAAG1B,EAASxH,EAAKs6C,WAAa9yC,IAC9CsN,EAAK5L,KAAK,CAAC,IAAKhM,EAAOsK,EAASxH,EAAKs6C,WAAa9yC,KAGpDizC,EAAWqsI,EAAaj0K,QAAQ6nC,MAAMzV,EAAMhtC,GAAG0U,OAC/CtB,GAAQ,EAAIrL,EAAKs6C,WAAa,IAAMG,EAAW,IAE3C78C,EAAM28C,aAAetiD,EAAI,EAAG,CAC9B,IAAI4iD,EAAcisI,EAAaj0K,QAAQ6nC,MAAMzV,EAAMhtC,EAAI,GAAG0U,OAC1DtB,GAAQ,EAAIrL,EAAKs6C,WAAa,IAAMO,EAAc,IAGpDngB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO2iK,EAAQjgB,SAASigB,EAAQjgB,SAAS,CACvCn4J,EAAGpK,EAAQijL,EAAWN,YACtBt4K,GAAI,EAAIvH,EAAKs6C,YAAc9yC,EAC3B4E,KAAM,GAAKxO,EAAM+2C,eAAe30C,EAAK1G,QACpCiU,GAAY,CACblB,UAAW,QACXC,aAAc,iBAMtB,IAAI2pC,EAAavb,EAAMtV,SAAS,OAAQ,CACtCrI,MAAO,CACLzV,EAAG,EACHC,EAAG,EACHrK,MAAOA,EACPsK,OAAQA,EACR6D,KAAMA,EACNmB,cAAe,KAWnB,OAPAkuB,EAAMtV,SAAS,OAAQ,CACrBrI,MAAO,CACLjI,KAAMA,EACN1J,UAAW,EACXI,OAAQ,UAGL,CACLkvB,MAAOA,EACPub,WAAYA,EACZD,cAAUx2C,IAMdmhC,EAAMroC,UAAUyhD,sBAAwB,WACtC,OAAOrhD,KAAKihD,gBAAkBjhD,KAAK8hD,sBAAwB9hD,KAAKiiD,yBAG3Dha,EAzMT,CA0MEs/I,EAAOptK,SAETo6I,EAAQp6I,QAAU8tB,G,iCC9NlB7oC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIytL,EAAW,EAAQ,KAEvB95B,EAAQhM,eAAiB8lC,EAASl0K,QAElC,IAAIm0K,EAAS,EAAQ,KAErB/5B,EAAQ05B,aAAeK,EAAOn0K,S,iCCV9B/a,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElBM,EAAM,EAAQ,KAEdiH,EAAS,EAAQ,KAEjBC,EAAU,EAAQ,KAIlBtrI,EAEJ,SAAUj+C,GAGR,SAASi+C,EAAah0C,GACpB,OAAOjK,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CACxC5gK,KAAM,mBACL+I,KAASlP,KA0xBd,OA/xBAgnL,EAAQ10B,UAAUpvG,EAAcj+C,GAQhCi+C,EAAatjD,UAAUwP,KAAO,WAC5BpP,KAAKmjD,WAAY,EACjB,IAAIz0C,EAAY1O,KAAKid,IAAI,aACzBjd,KAAKqQ,IAAI,SAAU3B,EAAUuO,IAAI,WACjC,IAAI82B,EAAarlC,EAAU6+B,WAC3BvtC,KAAKqQ,IAAI,aAAc0jC,GAEnB/zC,KAAKid,IAAI,aACXjd,KAAKqQ,IAAI,YAAY,IAIzB6yC,EAAatjD,UAAUy1C,YAAc,WACnC,IAAI1zC,EAAQ3B,KAAKid,IAAI,SAErB,GAAItb,EAAO,CACT,IAAI+M,EAAY1O,KAAKid,IAAI,aACrBxH,EAAazV,KAAKid,IAAI,cACtB62B,EAAaplC,EAAUge,SAAS,OAAQ,CAC1CrI,MAAO2iK,EAAQjgB,SAAS,CACtBn4J,EAAG,EACHC,EAAG,EACH6E,KAAM/R,GACL8T,KAELq+B,EAAW7hC,KAAO,eAClBjS,KAAKqQ,IAAI,aAAcyjC,KAI3BoP,EAAatjD,UAAUm8C,YAAc,WACnC,IAAI72C,EAAQlF,KAERusC,EAAQvsC,KAAKid,IAAI,SAEjBjd,KAAKid,IAAI,aACXsvB,EAAM1P,UAGR0xJ,EAAOj2B,KAAK/rH,GAAO,SAAUjlC,GAC3BpC,EAAMwtC,SAASprC,MAGjB,IAAI9B,EAAKxF,KAAKojD,kBACVC,EAAe79C,EAAG69C,aAClBC,EAAgB99C,EAAG89C,cAEvBtjD,KAAKqQ,IAAI,eAAgBgzC,GACzBrjD,KAAKqQ,IAAI,gBAAiBizC,GAC1B,IAAIC,EAAevjD,KAAKwjD,aAEpBxjD,KAAKid,IAAI,aACXjd,KAAKyjD,eAIHF,GACFvjD,KAAK0V,WAGP1V,KAAK0jD,wBAEL1jD,KAAK2jD,eAGPT,EAAatjD,UAAU4jD,WAAa,WAClC,IAAIlI,EAAWt7C,KAAKid,IAAI,YACpBk+B,EAAYn7C,KAAKid,IAAI,aACrB2mC,EAAY5jD,KAAKid,IAAI,cAAcgM,UACnC3R,EAAStX,KAAKid,IAAI,UAEtB,GAAIjd,KAAKid,IAAI,YAAa,CACxB,GAAe,aAAX3F,GAAyB6jC,EAAYyI,EAAU90C,OACjD,OAAO,EAGT,GAAe,eAAXwI,GAA2BgkC,EAAWsI,EAAUp/C,MAClD,OAAO,EAIX,OAAO,GAGT0+C,EAAatjD,UAAU8V,SAAW,WAChC,IAAIxQ,EAAQlF,KAEZA,KAAKmjD,WAAY,EACjB,IAAIE,EAAerjD,KAAKid,IAAI,gBACxBqmC,EAAgBtjD,KAAKid,IAAI,iBACzBq+B,EAAWt7C,KAAKid,IAAI,YACpBk+B,EAAYn7C,KAAKid,IAAI,aACrB82B,EAAa/zC,KAAKid,IAAI,cACtB2mC,EAAY7P,EAAW9qB,UACvB3R,EAAStX,KAAKid,IAAI,UAElB4mC,EAAgB7jD,KAAK8jD,oBAGrBC,EAAa,EACbvK,EAAO,UAEP5qC,EAAIg1C,EAAUzT,GAAGvhC,EACjBC,EAAI+0C,EAAUzT,GAAGthC,EAEjB3I,EAAO,EAEPqgB,EAAO,IAAI+gK,EAAIpgK,KAAK,CACtB7C,MAAO,CACLzV,EAAGA,EACHC,EAAGA,EACHrK,MAAO82C,EAAWuI,EAAc39C,KAChC4I,OAAQqsC,KAIZ,GAAe,eAAX7jC,EAAyB,CAC3B,IAAI9S,EAAQ0Z,KAAKyH,IAAI21B,EAAUsI,EAAUp/C,OAWzC,GAVA+hB,EAAK6B,KAAK,QAAS5jB,GACnB+hB,EAAK6B,KAAK,SAAUk7B,GACpBtjD,KAAKqQ,IAAI,WAAY7L,GACrBxE,KAAKqQ,IAAI,YAAaizC,GACtBS,EAAa7lC,KAAKmd,KAAKuoB,EAAU90C,QAAUw0C,EAAgBtjD,KAAKid,IAAI,sBACpErO,EAAIA,EAAIpK,EAAQq/C,EAAc39C,KAE9B2I,EAAIqP,KAAKmd,KAAKxsB,EAAIy0C,EAAgB,GAClCp9C,EAAOo9C,EAEHz0C,EAAI7O,KAAKgkD,iCAAmC,EAAI,EAAG,CACrD,IAAIzZ,GAAWvqC,KAAKid,IAAI,YAAc,GAAKjd,KAAKgkD,iCAAmC,EAAIn1C,EACvF7O,KAAKqQ,IAAI,UAAWk6B,IAIxB,GAAe,aAAXjzB,EAAuB,CACzBiP,EAAK6B,KAAK,QAASi7B,GACnB,IAAIv0C,EAASoP,KAAKyH,IAAIw1B,EAAWyI,EAAU90C,QAC3CyX,EAAK6B,KAAK,SAAUtZ,GACpB9O,KAAKqQ,IAAI,WAAYgzC,GACrBrjD,KAAKqQ,IAAI,YAAavB,GACtBi1C,EAAa7lC,KAAKmd,KAAKuoB,EAAUp/C,OAAS6+C,EAAerjD,KAAKid,IAAI,kBAClEpO,EAAIA,EAAIC,EAAS,GAEjB0qC,EAAO,aACPtzC,EAAOm9C,EAITtP,EAAW3rB,KAAK,OAAQ7B,GACxBvmB,KAAKqQ,IAAI,OAAQkW,GAEjB,IAAI09B,EAASjkD,KAAKkkD,WAAWt1C,EAAGC,EAAG3I,EAAM69C,EAAYvK,GACrDx5C,KAAKikD,OAASA,EAEd,IAAIE,EAAe,EACfC,EAASH,EAAOI,OAAO,GACvBC,EAASL,EAAOI,OAAO,GAC3BD,EAAOp2C,GAAG,SAAS,WACjB,GAAIm2C,EAAe,EAAG,CACpBA,GAAgB,EAChBF,EAAOvwC,KAAK0U,KAAK,OAAQ+7B,EAAe,MAAQJ,GAChD,IAAIz8B,EAASinK,EAAO1/J,MAAMklB,EAAW3rB,KAAK,WAE1C,GAAe,aAAX9Q,EAAuB,CACzB,IAAIitC,EAAOr/C,EAAM+X,IAAI,gBAAkBomC,EACvC/7B,EAAO,IAAMi9B,MACR,CACDA,EAAOjB,EAAgBp+C,EAAM+X,IAAI,oBAErCqK,EAAO,IAAMi9B,EAGfxQ,EAAWM,cACXN,EAAWv3B,QAAQ,CACjB8K,OAAQA,GACP,KAEHpiB,EAAM+X,IAAI,UAAUnN,WAGxBw0C,EAAOt2C,GAAG,SAAS,WACjB,GAAIm2C,EAAeJ,EAAY,CAC7BI,GAAgB,EAChBF,EAAOvwC,KAAK0U,KAAK,OAAQ+7B,EAAe,MAAQJ,GAChD,IAAIz8B,EAASinK,EAAO1/J,MAAMklB,EAAW3rB,KAAK,WAE1C,GAAe,aAAX9Q,EAAuB,CACzB,IAAIitC,EAAOr/C,EAAM+X,IAAI,gBAAkBomC,EACvC/7B,EAAO,IAAMi9B,MACR,CACDA,EAAOjB,EAAgBp+C,EAAM+X,IAAI,oBAErCqK,EAAO,IAAMi9B,EAGfxQ,EAAWM,cACXN,EAAWv3B,QAAQ,CACjB8K,OAAQA,GACP,UAKT47B,EAAatjD,UAAUskD,WAAa,SAAUt1C,EAAGC,EAAG3I,EAAM69C,EAAYvK,GACpE,IAKI9lC,EALAmwC,EAAgB7jD,KAAK8jD,oBAGrB9hB,EADYhiC,KAAKid,IAAI,aACHswB,WAClB8W,EAAS,GAGb,GAAa,eAAT7K,EAAuB,CAEzB,IAAIgL,EAAK,IAAIgqI,EAAQr0K,QAAQo0K,EAAOh+B,IAAI,GAAI1sG,EAAcY,MAAO,CAC/D71C,EAAGA,EAAIi1C,EAAcY,MAAMjgD,MAAQ,EACnCqK,EAAGA,EACHkL,UAAW,UAEbioB,EAAMpyB,IAAI40C,EAAGtqC,OACbmqC,EAAO7zC,KAAKg0C,EAAGtqC,OAEf,IAAIwqC,EAAK,IAAI8pI,EAAQr0K,QAAQo0K,EAAOh+B,IAAI,GAAI1sG,EAAcY,MAAO,CAC/D71C,EAAGA,EAAI1I,EAAO29C,EAAcY,MAAMjgD,MAAQ,EAC1CqK,EAAGA,EACHkL,UAAW,WAEbioB,EAAMpyB,IAAI80C,EAAGxqC,OACbmqC,EAAO7zC,KAAKk0C,EAAGxqC,OAEfxG,EAAOsuB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAOkqK,EAAOh+B,IAAI,GAAI1sG,EAAcnwC,KAAM,CACxC9E,EAAGA,EAAI1I,EAAO,EACd2I,EAAGA,EACH6E,KAAM,OAASqwC,UAGd,CAEL,IAAIj1C,EAAS9O,KAAKgkD,iCAEdW,EAAK,IAAI6pI,EAAQr0K,QAAQo0K,EAAOh+B,IAAI,GAAI1sG,EAAcY,MAAO,CAC/D71C,EAAGA,EACHC,EAAGA,EAAIC,EAAS,EAAI+0C,EAAcY,MAAM31C,OAAS,EACjDiL,UAAW,QAEbioB,EAAMpyB,IAAI+0C,EAAGzqC,OACbmqC,EAAO7zC,KAAKm0C,EAAGzqC,OAEf,IAAI0qC,EAAK,IAAI4pI,EAAQr0K,QAAQo0K,EAAOh+B,IAAI,GAAI1sG,EAAcY,MAAO,CAC/D71C,EAAGA,EACHC,EAAGA,EAAIC,EAAS,EAAI+0C,EAAcY,MAAM31C,OAAS,EACjDiL,UAAW,UAEbioB,EAAMpyB,IAAIg1C,EAAG1qC,OACbmqC,EAAO7zC,KAAKo0C,EAAG1qC,OAEfxG,EAAOsuB,EAAMtV,SAAS,OAAQ,CAC5BrI,MAAOkqK,EAAOh+B,IAAI,GAAI1sG,EAAcnwC,KAAM,CACxC9E,EAAGA,EACHC,EAAGA,EACH6E,KAAM,OAASqwC,MAKrB,MAAO,CACLM,OAAQA,EACR3wC,KAAMA,EACNhF,UAAWszB,IAIfkhB,EAAatjD,UAAUkkD,kBAAoB,WAsBzC,MArBiB,CACfW,MAAO,CACL71C,EAAG,EACHC,EAAG,EACHrK,MAAO,GACPsK,OAAQ,EACRuV,MAAO,CACL1R,KAAM,OACNqF,OAAQ,WAEV+B,UAAW,SAEbrG,KAAM,CACJoB,SAAU,GACVnC,KAAM,OACNgB,UAAW,SACXC,aAAc,UAEhB1N,KAAM,KAMVg9C,EAAatjD,UAAUokD,+BAAiC,WACtD,IAEI90C,EAAMlP,KAAK8jD,oBAEf,OAAO50C,EAAIwE,KAAKoB,SAA8B,EAAnB5F,EAAIu1C,MAAM31C,OAAa+1C,GAGpD3B,EAAatjD,UAAUk8C,WAAa,WAClC,IAAI/H,EAAa/zC,KAAKid,IAAI,cAEtBjd,KAAKid,IAAI,eACX82B,EAAW/lC,GAAG,YAAaugL,EAAOxzB,aAAa/6J,KAAM,iBACrD+zC,EAAW/lC,GAAG,aAAcugL,EAAOxzB,aAAa/6J,KAAM,mBAGpDA,KAAKid,IAAI,cACX82B,EAAW/lC,GAAG,QAASugL,EAAOxzB,aAAa/6J,KAAM,cAQrDkjD,EAAatjD,UAAUmQ,MAAQ,WAC7B,IAAIrB,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,WAC1BO,EAAUqB,SAQdmzC,EAAatjD,UAAUoQ,QAAU,WAC/B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAI0O,EAAY1O,KAAKid,IAAI,aAErBvO,IAAcA,EAAUP,YACtBO,EAAUuO,IAAI,WAChBvO,EAAUyB,SAGZzB,EAAUsB,YAIdkzC,EAAatjD,UAAUklD,gBAAkB,WACvC,IACIvY,EADavsC,KAAKid,IAAI,cACHA,IAAI,YAI3B,OAHiBsxK,EAAOp0H,OAAO5tB,GAAO,SAAUjlC,GAC9C,OAAOA,EAAK2V,IAAI,cAEAxd,QAGpByjD,EAAatjD,UAAUqoB,SAAW,WAChC,OAAOjoB,KAAKipB,UAAUzkB,OAGxB0+C,EAAatjD,UAAUylC,UAAY,WACjC,OAAOrlC,KAAKipB,UAAUna,QAGxBo0C,EAAatjD,UAAUqpB,QAAU,WAC/B,GAAIjpB,KAAKmjD,UAAW,CAClB,IAAI58B,EAAOvmB,KAAKid,IAAI,QAChB8nC,EAAkB/kD,KAAKikD,OAAOv1C,UAClC,OAAO1O,KAAKglD,WAAW,CAACz+B,EAAK0C,UAAW87B,EAAgB97B,YAG1D,OAAOjpB,KAAKid,IAAI,aAAagM,WAG/Bi6B,EAAatjD,UAAU8jD,sBAAwB,WAC7C,IAAIpZ,EAAUtqC,KAAKid,IAAI,WACnBstB,EAAUvqC,KAAKid,IAAI,WACPjd,KAAKid,IAAI,aACf2zB,KAAKtG,EAASC,IAG1B2Y,EAAatjD,UAAU8yC,SAAW,SAAUprC,GAC1C,IAAIysC,EAAa/zC,KAAKid,IAAI,cAEtBrO,EAAI5O,KAAKilD,YAETp2C,EAAI7O,KAAKklD,YAET1vC,EAAkBxV,KAAKid,IAAI,mBAC3B+2B,EAAYD,EAAWxG,SAAS,CAClC3+B,EAAGA,EACHC,EAAGA,EACHjO,MAAO0G,EAAK1G,MACZukD,QAAS79C,EAAK69C,UAEZtwC,EAAY7U,KAAKid,IAAI,aACrBmoC,EAAYplD,KAAKid,IAAI,eACrBooC,EAAS,EAEb,GAAI/9C,EAAKitC,OAAQ,CAEf,IAAIC,EAAcp1C,OAAOC,OAAO,GAAIiI,EAAKitC,OAAQ,CAC/C3lC,EAAGtH,EAAKitC,OAAO/gC,OAAS5E,EACxBC,EAAGA,IAGAvH,EAAK69C,UACJ3Q,EAAY7hC,OACd6hC,EAAY7hC,KAAO6C,GAGjBg/B,EAAY1hC,SACd0hC,EAAY1hC,OAAS0C,IAIzB,IAAI8vC,EAActR,EAAUtnB,SAAS,SAAU,CAC7CvmB,KAAM,SACNke,MAAOmwB,IAET8Q,EAAYl9B,KAAK,SAAU,WAC3Bk9B,EAAYrzC,KAAO,gBACnBozC,GAAUC,EAAYr8B,UAAUzkB,MAAQ4gD,EAG1C,IAAIG,EAAYnmD,OAAOC,OAAO,GAAIwV,EAAW,CAC3CjG,EAAGy2C,EAASz2C,EACZC,EAAGA,GAAKvH,EAAKitC,OAASjtC,EAAKitC,OAAO/gC,OAAS,EAAI,GAAKqB,EAAUC,SAAW,EACzEpB,KAAM1T,KAAKi8C,eAAe30C,EAAK1G,SAG5B0G,EAAK69C,SACR/lD,OAAOC,OAAOkmD,EAAW,CACvB5yC,KAAM6C,IAIV,IAAIgwC,EAAYxR,EAAUtnB,SAAS,OAAQ,CACzCrI,MAAOkhC,IAETC,EAAUp9B,KAAK,SAAU,WACzBo9B,EAAUvzC,KAAO,cACjB,IAAI44B,EAAOmJ,EAAU/qB,UACjBw8B,EAAYzlD,KAAKid,IAAI,aACrByoC,EAAe1R,EAAUtnB,SAAS,OAAQ,CAC5CrI,MAAO,CACLzV,EAAGA,EACHC,EAAGA,EAAIg8B,EAAK/7B,OAAS,EACrB6D,KAAM,OACNC,YAAa,EACbpO,MAAOihD,GAAa5a,EAAKrmC,MACzBsK,OAAQ+7B,EAAK/7B,UAQjB,OALA42C,EAAat9B,KAAK,SAAU,WAC5Bs9B,EAAar1C,IAAI,SAAU/I,GAE3Bo+C,EAAazzC,KAAO,cACpB+hC,EAAU/hC,KAAO,cACV+hC,GAITkP,EAAatjD,UAAUqlD,UAAY,WACjC,IAAI3tC,EAAStX,KAAKid,IAAI,UAClBzF,EAAexX,KAAKid,IAAI,gBACxB82B,EAAa/zC,KAAKid,IAAI,cACtBwoC,EAAYzlD,KAAKid,IAAI,aACrB3W,EAAWytC,EAAW92B,IAAI,YAC1B0oC,EAAQ,EASZ,MAPe,eAAXruC,GAEFi3K,EAAOj2B,KAAKhyJ,GAAU,SAAUgB,GAC9Bq+C,IAAUF,GAAwBn+C,EAAK2hB,UAAUzkB,OAASgT,KAIvDmuC,GAGTzC,EAAatjD,UAAUslD,UAAY,WACjC,IAAI3tC,EAAmBvX,KAAKid,IAAI,oBAC5B2jC,EAAgB5gD,KAAKid,IAAI,iBACzB3F,EAAStX,KAAKid,IAAI,UAClB82B,EAAa/zC,KAAKid,IAAI,cACtB62B,EAAa9zC,KAAKid,IAAI,cACtB3W,EAAWytC,EAAW92B,IAAI,YAC1B2oC,EAAQhF,EAaZ,OAXI9M,IACF8R,GAAS9R,EAAW7qB,UAAUna,QAGjB,aAAXwI,GAEFi3K,EAAOj2B,KAAKhyJ,GAAU,SAAUgB,GAC9Bs+C,GAASt+C,EAAK2hB,UAAUna,OAASyI,KAI9BquC,GAGT1C,EAAatjD,UAAUimD,kBAAoB,WACzC,IASIrhD,EACAsK,EACAiE,EAXA+E,EAAS9X,KAAK0V,SAAW1V,KAAK8jD,oBAAoB59C,KAAO,EACzD6tC,EAAa/zC,KAAKid,IAAI,cACtB3W,EAAWytC,EAAW92B,IAAI,YAC1B6oC,EAAY9lD,KAAKid,IAAI,YAAcnF,EACnCN,EAAexX,KAAKid,IAAI,gBACxB1F,EAAmBvX,KAAKid,IAAI,oBAC5B2jC,EAAgB5gD,KAAKid,IAAI,iBACzB8oC,EAAM,EACNC,EAAY,EAIZP,EAAYzlD,KAAKid,IAAI,aAErB82B,EAAW9qB,UAAUzkB,MAAQshD,GAC/ByoI,EAAOj2B,KAAKhyJ,GAAU,SAAUglB,GAC9BvY,EAAMuY,EAAMrC,UACZzkB,EAAQihD,GAAa1yC,EAAIvO,MACzBsK,EAASiE,EAAIjE,OAASyI,EAElBuuC,EAAYE,EAAYxhD,IAC1BuhD,IACAC,EAAY,GAGd16B,EAAMslB,KAAKoV,EAAWD,EAAMj3C,EAAS8xC,GACrCoF,GAAaxhD,EAAQgT,MAO3B0rC,EAAatjD,UAAUqmD,gBAAkB,WACvC,IAcIn3C,EACAiE,EAfAswC,EAAerjD,KAAKojD,kBAAkBC,aAEtCtP,EAAa/zC,KAAKid,IAAI,cACtB62B,EAAa9zC,KAAKid,IAAI,cACtB3W,EAAWytC,EAAW92B,IAAI,YAC1B6oC,EAAY9lD,KAAKid,IAAI,aAErBzF,EAAexX,KAAKid,IAAI,gBACxB1F,EAAmBvX,KAAKid,IAAI,oBAC5BipC,EAAiBlmD,KAAKid,IAAI,iBAC1BkpC,EAAcrS,EAAaA,EAAW7qB,UAAUna,OAASo3C,EAAiB,EAC1ET,EAAYzlD,KAAKid,IAAI,aAAejd,KAAKid,IAAI,aAAe,EAC5DmpC,EAAYD,EAAcpS,EAAW9qB,UAAUna,OAInDu0C,EAAenlC,KAAKyH,IAAI09B,EAAcoC,GAAajuC,EACnD,IAAI2oC,EAAc,EAEdiG,EAAYN,GACdyoI,EAAOj2B,KAAKhyJ,GAAU,SAAUglB,EAAOhnB,GACrCyO,EAAMuY,EAAMrC,UACJlW,EAAIvO,MACZsK,EAASiE,EAAIjE,OAKTg3C,EAAYM,EAAYt3C,GAE1Bs3C,EAAYD,EAER7hD,EAAQ,IACV67C,GAAekD,GAGjB/3B,EAAMslB,KAAKuP,EAAagG,IAExB76B,EAAMslB,KAAKuP,EAAaiG,GAG1BA,GAAat3C,EAASyI,MAK5B2rC,EAAatjD,UAAU6jD,aAAe,WAEzB,eADEzjD,KAAKid,IAAI,UACIjd,KAAK6lD,oBAAsB7lD,KAAKimD,mBAG5D/C,EAAatjD,UAAU+jD,YAAc,WACnC,IAAIj1C,EAAY1O,KAAKid,IAAI,aACrBpW,EAAU7G,KAAKid,IAAI,qBACnBopC,EAAYrmD,KAAKid,IAAI,mBAErBsxK,EAAOvuB,SAASn5J,KAClBA,EAAU,CAACA,EAASA,EAASA,EAASA,IAGnCw/C,GAIL33C,EAAU43C,WAAWz/C,EAASw/C,IAGhCnD,EAAatjD,UAAU2mD,aAAe,SAAUlH,GAC9C,IAAI/3C,EAAOtH,KAAKwmD,eAAenH,EAAG//C,QAElC,GAAIgI,GAAQA,EAAK2V,IAAI,WAAY,CAC/B,IAAIwpC,EAAgB,IAAI6gI,EAAIzgB,MAAM,gBAAiBxnH,GAAI,GAAM,GAC7DoH,EAAcn/C,KAAOtH,KAAK0mD,UAAUp/C,GACpCm/C,EAActB,QAAU79C,EAAK2V,IAAI,WACjCjd,KAAK0sC,KAAK,gBAAiB+Z,GAC3BzmD,KAAKid,IAAI,UAAUnN,SAIvBozC,EAAatjD,UAAU+mD,cAAgB,SAAUtH,GAC/C,IAAI/3C,EAAOtH,KAAKwmD,eAAenH,EAAG//C,QAElC,GAAIgI,GAAQA,EAAK2V,IAAI,WAAY,CAC/B,IAAI2pC,EAAiB,IAAI0gI,EAAIzgB,MAAM,iBAAkBxnH,GAAI,GAAM,GAC/DuH,EAAet/C,KAAOtH,KAAK0mD,UAAUp/C,GACrCs/C,EAAezB,QAAU79C,EAAK2V,IAAI,WAClCjd,KAAK0sC,KAAK,iBAAkBka,GAC5B5mD,KAAKid,IAAI,UAAUnN,SAIvBozC,EAAatjD,UAAUinD,SAAW,SAAUxH,GAC1C,IAAIn6C,EAAQlF,KAER8mD,EAAc9mD,KAAKwmD,eAAenH,EAAG//C,QAEzC,GAAIwnD,IAAgBA,EAAY7pC,IAAI,aAAc,CAChD,IAAIkoC,EAAU2B,EAAY7pC,IAAI,WAE9B,IAAKjd,KAAKid,IAAI,qBAAuBkoC,GAAsC,IAA3BnlD,KAAK8kD,kBACnD,OAGF,IAAItL,EAAOx5C,KAAKid,IAAI,gBAEhB8pC,EAAS/mD,KAAK0mD,UAAUI,GAExBE,EAAY,IAAIsgI,EAAIzgB,MAAM,YAAaxnH,GAAI,GAAM,GACrD2H,EAAU1/C,KAAOy/C,EACjBC,EAAUlK,cAAgBgK,EAC1BE,EAAU7B,QAAmB,WAAT3L,IAA4B2L,EAChD,IAEI8B,EACAC,EACAC,EAJAC,EAAoBpnD,KAAKid,IAAI,mBAC7BoqC,EAAernD,KAAKid,IAAI,aAAatK,KAKzC,GAAa,WAAT6mC,EAAmB,CACrB,IACIlzC,EADatG,KAAKid,IAAI,cACAA,IAAI,YAC9BsxK,EAAOj2B,KAAKhyJ,GAAU,SAAUglB,GAC9B27B,EAAe/hD,EAAMoiD,iBAAiBh8B,EAAO,iBAC7C47B,EAAahiD,EAAMoiD,iBAAiBh8B,EAAO,eAC3C67B,EAAejiD,EAAMoiD,iBAAiBh8B,EAAO,eAEzCA,IAAUw7B,GACRG,EAAa7+B,KAAK,SACpB6+B,EAAa7+B,KAAK,OAAQg/B,GAGxBH,EAAa7+B,KAAK,WACpB6+B,EAAa7+B,KAAK,SAAUg/B,GAG9BF,EAAW9+B,KAAK,OAAQg/B,GACxBH,EAAa52C,IAAI,WAAW,GAC5B42C,EAAa52C,IAAI,WAAY22K,EAAQjgB,SAAS,GAAI9/G,EAAahqC,IAAI,WACnEiqC,EAAW72C,IAAI,WAAW,GAC1B82C,EAAa92C,IAAI,WAAW,GAC5Bib,EAAMjb,IAAI,WAAW,KAEjB42C,EAAa7+B,KAAK,SACpB6+B,EAAa7+B,KAAK,OAAQ2+B,EAAOxS,OAAO5hC,MAGtCs0C,EAAa7+B,KAAK,WACpB6+B,EAAa7+B,KAAK,SAAU2+B,EAAOxS,OAAOzhC,QAG5Co0C,EAAW9+B,KAAK,OAAQi/B,GACxBJ,EAAa52C,IAAI,WAAY22K,EAAQjgB,SAAS,GAAI9/G,EAAahqC,IAAI,WACnEgqC,EAAa52C,IAAI,WAAW,GAC5B62C,EAAW72C,IAAI,WAAW,GAC1B82C,EAAa92C,IAAI,WAAW,GAC5Bib,EAAMjb,IAAI,WAAW,YAIzB42C,EAAejnD,KAAKsnD,iBAAiBR,EAAa,iBAClDI,EAAalnD,KAAKsnD,iBAAiBR,EAAa,eAChDK,EAAennD,KAAKsnD,iBAAiBR,EAAa,eAE9CG,EAAa7+B,KAAK,SACpB6+B,EAAa7+B,KAAK,OAAQ+8B,EAAUiC,EAAoBL,EAAOxS,OAAO5hC,MAGpEs0C,EAAa7+B,KAAK,WACpB6+B,EAAa7+B,KAAK,SAAU+8B,EAAUiC,EAAoBL,EAAOxS,OAAOzhC,QAG1Eo0C,EAAW9+B,KAAK,OAAQ+8B,EAAUiC,EAAoBC,GACtDP,EAAYz2C,IAAI,WAAY80C,GAC5B8B,EAAa52C,IAAI,WAAY80C,GAC7B+B,EAAW72C,IAAI,WAAY80C,GAC3BgC,EAAa92C,IAAI,WAAY80C,GAG/BnlD,KAAK0sC,KAAK,YAAasa,GACvBhnD,KAAKid,IAAI,UAAUnN,SAMvBozC,EAAatjD,UAAU4mD,eAAiB,SAAUlnD,GAChD,IAAIgI,EAAOhI,EAAO2d,IAAI,UAEtB,OAAI3V,GAAsB,gBAAdA,EAAK2K,KACR3K,EAGF,MAGT47C,EAAatjD,UAAU8mD,UAAY,SAAUa,GAC3C,IAAIhb,EAAQvsC,KAAKid,IAAI,SACjBkP,EAAM,KACNvrB,EAAQ2mD,aAAiB+/H,EAAI1gB,MAAQr/G,EAAMtqC,IAAI,SAAWsqC,EAO9D,OANAgnI,EAAOj2B,KAAK/rH,GAAO,SAAUjlC,GAC3B,GAAIA,EAAK1G,QAAUA,EAEjB,OADAurB,EAAM7kB,GACC,KAGJ6kB,GAGT+2B,EAAatjD,UAAU0nD,iBAAmB,SAAUtlB,EAAO/vB,GACzD,OAAO+vB,EAAMwlB,QAAO,SAAUta,GAC5B,OAAOA,EAAKj7B,OAASA,MAIzBixC,EAAatjD,UAAUwjD,gBAAkB,WACvC,IAAIC,GAAgBzqB,IAChB0qB,GAAiB1qB,IAEjB2T,EADYvsC,KAAKid,IAAI,cACHA,IAAI,YAa1B,OAZAsxK,EAAOj2B,KAAK/rH,GAAO,SAAUjlC,GAC3B,IACIujC,EADIvjC,EACK2hB,UAETo6B,EAAexY,EAAKrmC,QACtB6+C,EAAexY,EAAKrmC,OAGlB8+C,EAAgBzY,EAAK/7B,SACvBw0C,EAAgBzY,EAAK/7B,WAGlB,CACLu0C,aAAcA,EACdC,cAAeA,IAInBJ,EAAatjD,UAAUolD,WAAa,SAAUyC,GAC5C,IAAIl/B,EAAOqQ,IACPpQ,GAAQoQ,IACRnQ,EAAOmQ,IACPlQ,GAAQkQ,IAQZ,OAPA21J,EAAOj2B,KAAK7wG,GAAQ,SAAU5c,GAC5B,IAAI93B,EAAM83B,EACVtiB,EAAOrK,KAAKuR,IAAI1c,EAAIwV,KAAMA,GAC1BC,EAAOtK,KAAKyH,IAAI5S,EAAIyV,KAAMA,GAC1BC,EAAOvK,KAAKuR,IAAI1c,EAAI0V,KAAMA,GAC1BC,EAAOxK,KAAKyH,IAAI5S,EAAI2V,KAAMA,MAErB,IAAI4+J,EAAIxgB,KAAKv+I,EAAME,EAAMD,EAAOD,EAAMG,EAAOD,IAG/Cy6B,EAhyBT,CAJa,EAAQ,KAqyBZ/oC,SAETo6I,EAAQp6I,QAAU+oC,G,iCCnzBlB9jD,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIk6K,EAAI,EAAQ,KAEZ5gD,EAAI,EAAQ,KAEZ93E,EAAa,CACfzrC,MAAO,GAAKuH,KAAKK,GAAK,IACtB7H,KAAM,IAAawH,KAAKK,GAAK,IAC7B8jC,GAAI,EACJC,KAAM,IAAMpkC,KAAKK,GAAK,KAGpBgkC,EAEJ,WACE,SAASA,EAAMrzC,GACblP,KAAKwE,MAAQ,GACbxE,KAAK8O,OAAS,GACd9O,KAAK+Z,UAAY,QAEjBmgH,EAAE76H,OAAOW,KAAMkP,GAEflP,KAAKysC,QA+BP,OA5BA8V,EAAM3iD,UAAU6sC,MAAQ,WACtB,IAAI9jB,EAAU3oB,KAAKwE,MAAQ,EACvBokB,EAAU5oB,KAAK8O,OAAS,EACxBwZ,EAAS,CAAC,CACZ1Z,EAAG,EACHC,GAAI+Z,GACH,CACDha,GAAI+Z,EACJ9Z,EAAG+Z,GACF,CACDha,EAAG+Z,EACH9Z,EAAG+Z,IAEL5oB,KAAKka,MAAQ,IAAI4gK,EAAEl0F,KAAK,CACtBviE,MAAO61G,EAAEm+B,QAAQ,CACfj8I,KAAM,CAAC,CAAC,IAAKkM,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,IAAKyZ,EAAO,GAAG1Z,EAAG0Z,EAAO,GAAGzZ,GAAI,CAAC,OAC1G7O,KAAKqkB,SAEV,IAAIm+B,EAAkB,GAGtBA,EAAgBhyC,KAAK,CAAC,IAAK4xC,EAAWpiD,KAAK+Z,aAG3CyoC,EAAgBhyC,KAAK,CAAC,IAAKxQ,KAAK4O,EAAG5O,KAAK6O,IACxC7O,KAAKka,MAAMrK,UAAU2yC,IAGhBD,EAvCT,GA0CAgyG,EAAQp6I,QAAUooC,G,iCCxDlBnjD,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElBtvB,EAAU,EAAQ,KAElB4vB,EAAM,EAAQ,KAEdmH,EAAO,EAAQ,KAEflH,EAAS,EAAQ,KAEjB9kI,EACe,CACfjsC,SAAU,WACVkB,SAAU,OACVnB,IAAK,EACLG,KAAM,GALN+rC,EAOU,CACV9qC,aAAc,OARd8qC,EAUS,CACT5qC,cAAe,OACfC,OAAQ,EACRjR,QAAS,GAbT47C,EAeS,CACTzqC,OAAQ,UACRL,aAAc,MACdM,YAAa,OACbyvC,WAAY,QAnBZjF,EAqBW,CACXj+C,MAAO,MACPsK,OAAQ,MACRqJ,aAAc,MACdC,QAAS,eACTH,YAAa,MACbI,cAAe,UA3BfoqC,EA6BU,CACVkF,YAAa,OACbC,cAAe,OACfC,UAAW,EACX78B,WAAW,GAIf,SAAS88B,EAAgB5a,EAAMlsC,GAC7B,IAAI+mD,EAAY7a,EAAKlsC,UAErB,OAAIytL,EAAK3uB,MAAM/3G,KAIfA,EAAYA,EAAUlkC,MAAM,MAEdvjB,QAAQU,IAAc,EAL3BksC,EASLA,EAAKqB,WACHrB,EAAKqB,WAAWvtC,YAAcA,EACzBksC,EAAKqB,WAGPuZ,EAAgB5a,EAAKqB,WAAYvtC,GAGnC,KAGT,SAASgnD,EAAiB9a,EAAMlsC,GAC9B,OAAOksC,EAAK0E,uBAAuB5wC,GAAW,GAGhD,IAAIinD,EAEJ,SAAUhjD,GAGR,SAASgjD,EAAW/4C,GAClB,OAAOjK,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CACxC5gK,KAAM,cACN+hD,gBAAiB,YACjBC,YAAY,EACZC,WAAW,GACVl5C,KAASlP,KA6oBd,OArpBAgnL,EAAQ10B,UAAUrqG,EAAYhjD,GAW9BgjD,EAAWroD,UAAUwP,KAAO,WAE1B,IAAI2F,EAAa/U,KAAKid,IAAI,cAGtB3F,EAAStX,KAAKid,IAAI,UAClBq+B,EAAWt7C,KAAKid,IAAI,YACpBk+B,EAAYn7C,KAAKid,IAAI,aACrBirC,EAAkBloD,KAAKid,IAAI,mBAC3BovB,EAAersC,KAAKid,IAAI,gBAEvBovB,IACHA,EAAe,eAAkB6b,EAAkB,2BAA+BA,EAAkB,sCAA0CA,EAAkB,8BAGlK,IAAIG,EAAkBqvG,EAAQsB,UAAU3sH,GACpCh2B,EAAkBo4K,EAAKp2B,QAAQ,GAAI51G,EAA+BziD,KAAKid,IAAI,oBAC/Ey6I,EAAQ2B,UAAUhxG,EAAiB2+H,EAAQjgB,SAAS,CAClDhyJ,WAAYA,EACZomC,UAAWA,EAAY,KAEvB32C,MAAO,OACPsK,OAAQ,QACPuH,IAEY,eAAXiB,GACFogJ,EAAQ2B,UAAUhxG,EAAiB,CACjC/M,SAAUA,EAAW,OAIzB,IAAI5sC,EAAY1O,KAAKid,IAAI,aAEzB,GAAKvO,EAKE,GAAI,MAAM0R,KAAK1R,GAAY,CAEhC,IAAIC,EAAKD,EAAUiR,QAAQ,IAAK,KAChCjR,EAAY4jC,SAASC,eAAe5jC,IAC1B0/B,YAAYga,QAGtB35C,EAAU2/B,YAAYga,QAVTroD,KAAKid,IAAI,UACCA,IAAI,MAAMsxB,WACvBF,YAAYga,GAWxBroD,KAAKqQ,IAAI,mBAAoBg4C,IAI/BJ,EAAWroD,UAAUy1C,YAAc,WACjC,IAAI1zC,EAAQ3B,KAAKid,IAAI,SAErB,GAAItb,EAAO,CACT,IAAIumD,EAAkBloD,KAAKid,IAAI,mBAC3BorC,EAAkBroD,KAAKid,IAAI,oBAE3BqrC,EAAiBN,EAAiBK,EAAiBH,EAAkB,UAEpEI,IACHA,EAAiBovG,EAAQsB,UAAU,eAAkB9wG,EAAkB,kBACvEG,EAAgBha,YAAYia,IAG9BA,EAAezb,UAAYlrC,EAC3B,IAAI8T,EAAag5K,EAAKp2B,QAAQ,GAAI51G,EAA0BziD,KAAKid,IAAI,eACrEy6I,EAAQ2B,UAAU/wG,EAAgB7yC,GAClCzV,KAAKqQ,IAAI,kBAAmBi4C,KAKhCL,EAAWroD,UAAUm8C,YAAc,WACjC,IAAI72C,EAAQlF,KAERusC,EAAQvsC,KAAKid,IAAI,SAErB,GAAKsvB,GAAUA,EAAM9sC,OAArB,CAIA,IAAI4oD,EAAkBroD,KAAKid,IAAI,oBAC3B3F,EAAStX,KAAKid,IAAI,UAClBirC,EAAkBloD,KAAKid,IAAI,mBAChBjd,KAAKid,IAAI,aAGtBsvB,EAAM1P,UAGR,IAAI0rB,EAAqBP,EAAiBK,EAAiBH,EAAkB,SAExEK,IACHA,EAAqBmvG,EAAQsB,UAAU,cAAiB9wG,EAAkB,iBAG5E,IAAItwC,EAAY62K,EAAKp2B,QAAQ,GAAI51G,EAAyBziD,KAAKid,IAAI,cAEpD,eAAX3F,IAGFM,EAAUpT,MAAQ,eAGpBkzJ,EAAQ2B,UAAU9wG,EAAoB3wC,GAEtC,IAAI4wC,EAAgBkvG,EAAQsB,UAAU,eACtC3wG,EAAgBha,YAAYma,GAC5BA,EAAcna,YAAYka,GAC1BvoD,KAAKqQ,IAAI,iBAAkBm4C,GAC3BxoD,KAAKqQ,IAAI,sBAAuBk4C,GAChC,IAAIjc,EAAUtsC,KAAKid,IAAI,WAElBqvB,IACHA,EAAU,cAAiB4b,EAAkB,+BAAmCA,EAAkB,6CAAiDA,EAAkB,oCAGvK,IAAI1yC,EAAkBxV,KAAKid,IAAI,mBAC3BlF,EAAY02K,EAAKp2B,QAAQ,GAAI51G,EAAyBziD,KAAKid,IAAI,cAE/D/E,EAAcu2K,EAAKp2B,QAAQ,GAAI51G,EAA2BziD,KAAKid,IAAI,gBAExD,eAAX3F,EACFS,EAAUK,QAAU,eACA,aAAXd,IACTS,EAAUK,QAAU,SAGtB,IAAIqwC,EAAU,GACdgmI,EAAKn2B,KAAK/rH,GAAO,SAAUjlC,EAAMhD,GAC/B,IAOIokD,EAPAvD,EAAU79C,EAAK69C,QAEfvkD,EAAQsE,EAAM+2C,eAAe30C,EAAK1G,OAGlC+nD,EAAcrhD,EAAKitC,OAAO5hC,MAAQrL,EAAKitC,OAAOzhC,OAC9CmB,EAAQkxC,EAAUwD,EAAcnzC,EAGpC,GAAIi5K,EAAK5uB,WAAWvzH,GAAU,CAE5B,IAAIsc,EAAStc,EAAQ1rC,EAAOqT,EAAOkxC,EAAS7gD,GAC5CokD,EAAUgvG,EAAQsB,UAAUpwG,OACvB,CAGSZ,EAFdU,EAAUgvG,EAAQsB,UAAU1sH,GAEY4b,EAAkB,cAElDrb,UAAYjsC,EAGtBmX,EAAU9D,MAAQA,EAElBiE,EAAYS,gBAAkB1E,EAE9ByjJ,EAAQ2B,UAAU3wG,EAAS3wC,GAC3B2wC,EAAQG,aAAa,eAAgB1D,GAErCuD,EAAQG,aAAa,aAAcvhD,EAAK1G,OAExC8nD,EAAQG,aAAa,aAAcF,GAEnC,IAAI7V,EAAYkV,EAAiBU,EAASR,EAAkB,gBAExDpV,GACF4kH,EAAQ2B,UAAUvmH,EAAW56B,GAG/BqwC,EAAmBla,YAAYqa,GAC/BD,EAAQnhD,EAAK1G,OAAS0G,KAExBtH,KAAKqQ,IAAI,WAAYo4C,GAEN,eAAXnxC,EACFtX,KAAK8oD,8BAEL9oD,KAAK+oD,sBAITd,EAAWroD,UAAUk8C,WAAa,WAChC,IAAI52C,EAAQlF,KAERuoD,EAAqBvoD,KAAKid,IAAI,uBAE7BsrC,IAIDvoD,KAAKid,IAAI,eACXsrC,EAAmBS,QAAU,SAAU3J,GACrC,OAAOn6C,EAAM2hD,SAASxH,KAItBr/C,KAAKid,IAAI,eACXsrC,EAAmBU,YAAc,SAAU5J,GACzC,OAAOn6C,EAAMqhD,aAAalH,IAG5BkJ,EAAmBW,WAAa,SAAU7J,GACxC,OAAOn6C,EAAMikD,YAAY9J,OAS/B4I,EAAWroD,UAAUqoB,SAAW,WAC9B,IAAIvZ,EAAY1O,KAAKid,IAAI,oBACzB,OAAOy6I,EAAQwB,cAAcxqJ,IAO/Bu5C,EAAWroD,UAAUylC,UAAY,WAC/B,IAAI32B,EAAY1O,KAAKid,IAAI,oBACzB,OAAOy6I,EAAQuB,eAAevqJ,IAOhCu5C,EAAWroD,UAAUqpB,QAAU,WAC7B,OAAO,IAAIq+J,EAAIxgB,KAAK9mK,KAAKid,IAAI,MAAQ,EAAGjd,KAAKid,IAAI,MAAQ,EAAGjd,KAAKioB,WAAYjoB,KAAKqlC,cASpF4iB,EAAWroD,UAAUo8C,OAAS,SAAUptC,EAAGC,GACzC,IAAIH,EAAY1O,KAAKid,IAAI,oBACzBy6I,EAAQ2B,UAAU3qJ,EAAW,CAC3BgI,KAAM9H,EAAI,KACV2H,IAAK1H,EAAI,OAEX7O,KAAKqQ,IAAI,IAAKzB,GACd5O,KAAKqQ,IAAI,IAAKxB,IAOhBo5C,EAAWroD,UAAUoQ,QAAU,WAC7B/K,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B,IAAI0O,EAAY1O,KAAKid,IAAI,oBAErBvO,GAAaA,EAAU6/B,YACzB7/B,EAAU6/B,WAAWoE,YAAYjkC,IAIrCu5C,EAAWroD,UAAUkQ,KAAO,WAE1B,OAAO,MAGTm4C,EAAWroD,UAAUwpD,cAAgB,SAAUV,EAAS5V,EAAW7+B,EAAOkxC,GACpErS,IACFA,EAAUvuC,MAAMg5C,WAAatpC,GAG/By0C,EAAQnkD,MAAM0P,MAAQA,EACtBy0C,EAAQG,aAAa,eAAgB1D,IAGvC8C,EAAWroD,UAAUinD,SAAW,SAAUxH,GACxC,IAAIn6C,EAAQlF,KAGRuoD,GADQvoD,KAAKid,IAAI,SACIjd,KAAKid,IAAI,wBAC9BirC,EAAkBloD,KAAKid,IAAI,mBAC3BosC,EAAkBnB,EAAkB,QACpCoB,EAAyBpB,EAAkB,eAC3C5oD,EAAS+/C,EAAG//C,OACZiqD,EAAkBjqD,EAAO0B,UAAU6iB,MAAM,KAE7C,KAAI4qK,EAAKnuL,QAAQipD,EAAiBrB,EAAkB,UAAY,GAAhE,CAKA,IAAIsB,EAAiB1B,EAAgBxoD,EAAQ+pD,GAEzCvW,EAAYkV,EAAiBwB,EAAgBF,GAE7Cb,EAAUzoD,KAAKid,IAAI,YACnB6pC,EAAc2B,EAAQe,EAAe5gB,aAAa,eAIlD+f,EAAca,EAAe5gB,aAAa,cAC1Cka,EAAe9iD,KAAKid,IAAI,gBACxBzH,EAAkBxV,KAAKid,IAAI,mBAC3BwsC,EAAYlB,EAAmB3a,WAEnC,GAAqB,WAAjBkV,EAEFgE,EAAY3B,SAAU,EAGtBspI,EAAKn2B,KAAK7uG,GAAW,SAAUn+B,GAC7B,GAAIA,IAAUk+B,EAAgB,CAE5B,IAAIE,EAAc1B,EAAiB18B,EAAOg+B,GAE1CpkD,EAAMkkD,cAAc99B,EAAOo+B,EAAal0C,EAAiB,SAEzCizC,EAAQn9B,EAAMsd,aAAa,eACjCuc,SAAU,OAEpBjgD,EAAMkkD,cAAcI,EAAgB1W,EAAW6V,EAAa,eAG3D,CAEL,IAAIgB,EAAmE,SAAhDH,EAAe5gB,aAAa,gBAC/CghB,EAAU,EAOd,GANA6kI,EAAKn2B,KAAK7uG,GAAW,SAAUn+B,GACc,SAAvCA,EAAMsd,aAAa,iBACrBghB,QAIC5pD,KAAKid,IAAI,qBAAuB0sC,GAAgC,IAAZC,EACvD,OAIF9C,EAAY3B,SAAW2B,EAAY3B,QAE/BwE,EACF3pD,KAAKopD,cAAcI,EAAgB1W,EAAWt9B,EAAiB,SAE/DxV,KAAKopD,cAAcI,EAAgB1W,EAAW6V,EAAa,QAI/D3oD,KAAK0sC,KAAK,YAAa,CACrBplC,KAAMw/C,EACNhK,cAAe0M,EACfrE,QAA0B,WAAjBrC,GAAmCgE,EAAY3B,YAI5D8C,EAAWroD,UAAU2mD,aAAe,SAAUlH,GAC5C,IAAIwK,EAAiB7pD,KAAKid,IAAI,mBAE1BwrC,GADQzoD,KAAKid,IAAI,SACPjd,KAAKid,IAAI,aACnBirC,EAAkBloD,KAAKid,IAAI,mBAC3B6sC,EAAa5B,EAAkB,QAC/BmB,EAAkBnB,EAAkB,QACpC5oD,EAAS+/C,EAAG//C,OACZiqD,EAAkBjqD,EAAO0B,UAAU6iB,MAAM,KAE7C,KAAI4qK,EAAKnuL,QAAQipD,EAAiBO,IAAe,GAAjD,CAKA,IAAIC,EAAiBjC,EAAgBxoD,EAAQ+pD,GAEzCW,EAAcvB,EAAQsB,EAAenhB,aAAa,eAEtD,GAAIohB,EAAa,CACf,IAAI5B,EAAYpoD,KAAKid,IAAI,aAEzB,GAAI+sC,EAAY7E,SAAW0E,IAAmBG,EAAa,CAIzD,GAFAD,EAAe/oD,WAAa,UAExBonD,EAEuBpoD,KAAKid,IAAI,uBACC2wB,WACzB1lC,SAAQ,SAAU+hD,GACtBA,IAAaF,GAA4D,SAA1CE,EAASrhB,aAAa,kBACvDqhB,EAASjpD,WAAa,gBAK5BhB,KAAKqQ,IAAI,kBAAmB25C,GAG9BhqD,KAAK0sC,KAAK,gBAAiB,CACzBplC,KAAM0iD,EACNlN,cAAeiN,EACf5E,QAAS6E,EAAY7E,aAK3B8C,EAAWroD,UAAUupD,YAAc,SAAU9J,GAClBr/C,KAAKid,IAAI,uBACC2wB,WACzB1lC,SAAQ,SAAUglC,GAC1B,IAAIlsC,EAAYksC,EAAKlsC,UAAU6iB,MAAM,KACrC4qK,EAAKt+K,OAAOnP,GAAW,SAAUqc,GAC/B,MAAa,WAANA,GAAwB,aAANA,KAE3B6vB,EAAKlsC,UAAYA,EAAU4iB,KAAK,QAElC5jB,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAK0sC,KAAK,iBAAkB2S,IAG9B4I,EAAWroD,UAAUmpD,kBAAoB,WACvC,IAAIZ,EAAanoD,KAAKid,IAAI,cACtBorC,EAAkBroD,KAAKid,IAAI,oBAC3BsrC,EAAqBvoD,KAAKid,IAAI,uBAGlC,GAAIkrC,GAAcE,EAAgB6B,aAAe7B,EAAgB8B,aAAc,CAE7EutG,EAAQ2B,UAAUhxG,EAAiB,CACjC3wC,SAAU,SACV5I,OAAQ9O,KAAKid,IAAI,aAAe,OAGlC,IAAImtC,EAAgBstG,EAAQsB,UATP,miBAUrB3wG,EAAgBha,YAAY+b,GAC5B,IAMIC,EANwBrqD,KAAKqlC,aAEfrlC,KAAKid,IAAI,mBAAqBy6I,EAAQuB,eAAej5J,KAAKid,IAAI,oBAAsB,GAE/Ey6I,EAAQuB,eAAe7uG,GAI1CE,EAAiC/B,EAAmB4B,aAGpD3B,EAAgBxoD,KAAKid,IAAI,kBAC7By6I,EAAQ2B,UAAU7wG,EAAe,CAC/BrN,UAAWkP,EAA2B,KACtC3yC,SAAU,WAEZ,IAAI6yC,EAAarsC,KAAKmd,KAAKivB,EAAiCD,GAExDpW,EAAayjH,EAAQuB,eAAe1wG,EAAmB3a,WAAW,IAIlE4c,EAFetsC,KAAK2V,MAAMw2B,EAA2BpW,GAEtBA,EAE/BwW,EAAmBzC,EAAiBoC,EAAe,uBAEnDM,EAAe1C,EAAiBoC,EAAe,qBAE/CO,EAAkB3C,EAAiBoC,EAAe,YAElDQ,EAAmB5C,EAAiBoC,EAAe,aAEvDM,EAAa7d,UAAY0d,EACzB,IAAI1G,EAAgB4qI,EAAKp2B,QAAQ,GAAI51G,EAA0B0F,GAC3D0C,EAAgB,CAClB7yC,OAAQ,UACR8yC,OAAQjH,EAAc8D,YAAc,SACpCoD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEhCmD,EAAkB,CACpBhzC,OAAQ,UACR8yC,OAAQjH,EAAc+D,cAAgB,SACtCmD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEpC6vG,EAAQ2B,UAAU1uG,EAAiBK,GACnC0sG,EAAQ2B,UAAUzuG,EAAkBC,GAEhChH,EAAc74B,WAEhB0sI,EAAQ2B,UAAU9wG,EAAoB,CACpC7vC,WAAY,0BAIhB,IAAIuyC,EAAgB,EAChBC,EAAe,EAEnBP,EAAgB3B,QAAU,WACF,IAAlBiC,IAIJA,GAAiB,EACjBC,GAAgBV,EAChBC,EAAiB5d,UAAYoe,EAC7BysG,EAAQ2B,UAAU1uG,EAAiBE,GACnC6sG,EAAQ2B,UAAUzuG,EAAkBC,GACpC6sG,EAAQ2B,UAAU9wG,EAAoB,CACpC14C,UAAW,cAAgBq7C,EAAe,QAGtB,IAAlBD,GACFysG,EAAQ2B,UAAU1uG,EAAiBK,KAIvCJ,EAAiB5B,QAAU,WACrBiC,IAAkBV,IAItBU,GAAiB,EACjBC,GAAgBV,EAChBC,EAAiB5d,UAAYoe,EAC7BysG,EAAQ2B,UAAUzuG,EAAkBC,GACpC6sG,EAAQ2B,UAAU1uG,EAAiBE,GACnC6sG,EAAQ2B,UAAU9wG,EAAoB,CACpC14C,UAAW,cAAgBq7C,EAAe,QAGxCD,IAAkBV,GACpBmtG,EAAQ2B,UAAUzuG,EAAkBI,OAM5C/C,EAAWroD,UAAUkpD,4BAA8B,WACjD,IAAIX,EAAanoD,KAAKid,IAAI,cACtBorC,EAAkBroD,KAAKid,IAAI,oBAC3BsrC,EAAqBvoD,KAAKid,IAAI,uBAGlC,GAAIkrC,GAAcE,EAAgB8C,YAAc9C,EAAgB+C,YAAa,CAE3EssG,EAAQ2B,UAAUhxG,EAAiB,CACjC3wC,SAAU,SACVlT,MAAOxE,KAAKid,IAAI,YAAc,OAGhC,IAAImtC,EAAgBstG,EAAQsB,UATP,0jBAUrB3wG,EAAgBha,YAAY+b,GAC5B,IAMIiB,EANuBrrD,KAAKioB,WAIVyvI,EAAQwB,cAAc9uG,GAE2B,GAEnEkB,EAAgC/C,EAAmB6C,YAGnD5C,EAAgBxoD,KAAKid,IAAI,kBAC7By6I,EAAQ2B,UAAU7wG,EAAe,CAC/BlN,SAAU+P,EAA0B,KACpC3zC,SAAU,WAEZ,IAAI6zC,EAAartC,KAAKmd,KAAKiwB,EAAgCD,GAKvDG,GAHYksG,EAAQwB,cAAc3wG,EAAmB3a,WAAW,IAGjDyd,GAEfI,EAAmBzD,EAAiBoC,EAAe,uBAEnDM,EAAe1C,EAAiBoC,EAAe,qBAE/CsB,EAAkB1D,EAAiBoC,EAAe,YAElDuB,EAAmB3D,EAAiBoC,EAAe,aAEvDM,EAAa7d,UAAY0e,EACzB,IAAI1H,EAAgB4qI,EAAKp2B,QAAQ,GAAI51G,EAA0B0F,GAC3DyD,EAAgB,CAClB5zC,OAAQ,UACR8yC,OAAQjH,EAAc8D,YAAc,SACpCoD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEhCgE,EAAkB,CACpB7zC,OAAQ,UACR8yC,OAAQjH,EAAc+D,cAAgB,SACtCmD,YAAa,cACbvmD,MAAOq/C,EAAcgE,UAAY,KACjC/4C,OAAQ+0C,EAAcgE,UAAY,MAEpC6vG,EAAQ2B,UAAU3tG,EAAiBG,GACnC6rG,EAAQ2B,UAAU1tG,EAAkBC,GAEhC/H,EAAc74B,WAEhB0sI,EAAQ2B,UAAU9wG,EAAoB,CACpC7vC,WAAY,0BAIhB,IAAIozC,EAAgB,EAChBC,EAAe,EAEnBL,EAAgB1C,QAAU,WACF,IAAlB8C,IAIJA,GAAiB,EACjBC,GAAgBP,EAChBC,EAAiB5e,UAAYif,EAC7B4rG,EAAQ2B,UAAU3tG,EAAiBE,GACnC8rG,EAAQ2B,UAAU1tG,EAAkBC,GACpC8rG,EAAQ2B,UAAU9wG,EAAoB,CACpC14C,UAAW,cAAgBk8C,EAAe,QAGtB,IAAlBD,GACF4rG,EAAQ2B,UAAU3tG,EAAiBG,KAIvCF,EAAiB3C,QAAU,WACrB8C,IAAkBP,IAItBO,GAAiB,EACjBC,GAAgBP,EAChBC,EAAiB5e,UAAYif,EAC7B4rG,EAAQ2B,UAAU1tG,EAAkBC,GACpC8rG,EAAQ2B,UAAU3tG,EAAiBE,GACnC8rG,EAAQ2B,UAAU9wG,EAAoB,CACpC14C,UAAW,cAAgBk8C,EAAe,QAGxCD,IAAkBP,GACpBmsG,EAAQ2B,UAAU1tG,EAAkBE,OAMrC5D,EAtpBT,CAupBEs/H,EAAOptK,SAETo6I,EAAQp6I,QAAU8tC,G,iCC7uBlB7oD,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIwmL,EAAa,EAAQ,KAkCzB7yB,EAAQp6I,QAhCI,SAAS0U,EAAMluB,GACzB,GAAmB,kBAARA,GAA4B,OAARA,EAC7B,OAAOA,EAGT,IAAIwrB,EAEJ,GAAIi7J,EAAWjtK,QAAQxZ,GAAM,CAC3BwrB,EAAM,GAEN,IAAK,IAAI5sB,EAAI,EAAG+f,EAAI3e,EAAIlB,OAAQF,EAAI+f,EAAG/f,IACf,kBAAXoB,EAAIpB,IAA6B,MAAVoB,EAAIpB,GACpC4sB,EAAI5sB,GAAKsvB,EAAMluB,EAAIpB,IAEnB4sB,EAAI5sB,GAAKoB,EAAIpB,QAMjB,IAAK,IAAIyS,KAFTma,EAAM,GAEQxrB,EACU,kBAAXA,EAAIqR,IAA6B,MAAVrR,EAAIqR,GACpCma,EAAIna,GAAK6c,EAAMluB,EAAIqR,IAEnBma,EAAIna,GAAKrR,EAAIqR,GAKnB,OAAOma,I,iCCnCT/sB,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElBtvB,EAAU,EAAQ,KAElB+2B,EAAO,EAAQ,KAEflH,EAAS,EAAQ,KAEjBmH,EAAc,EAAQ,KAEtBC,EAAU,EAAQ,KAElBC,EAAa,EAAQ,KASrB1vF,EAAO,SAAcvtD,EAAKlY,GAC5B,OAAOkY,EAAIC,uBAAuBnY,GAAK,IAarCoY,EAEJ,SAAU5sC,GAGR,SAAS4sC,EAAY3iC,GACnB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CAK7C16H,aAAc,oIAMdC,QAAS,+KAMTwF,YAAa,KAMbC,QAAQ,EAMRC,WAAW,GACV9iC,KAASlP,KAERuE,EAAQoqL,EAAQx0K,QACpBjV,EAAMX,MAjDQ,SAAqB0tC,EAAQ/iC,GAO7C,OALA9P,OAAOukC,KAAKsO,GAAQ/pC,SAAQ,SAAU8J,GAChC9C,EAAI8C,KACNigC,EAAOjgC,GAAKy8K,EAAKl+B,IAAIt+G,EAAOjgC,GAAI9C,EAAI8C,QAGjCigC,EA0CS48I,CAAYtqL,EAAO2K,GAEjChK,EAAM2qC,SAEF3qC,EAAM+X,IAAI,UACZ/X,EAAMyK,SAIR,IAAIuiC,EAAYhtC,EAAM+X,IAAI,cAE1B,GAAIi1B,EAAW,CACb,IAAItC,EAA0B,SAAnBsC,EAAU/rC,KAAkBjB,EAAM+X,IAAI,mBAAqB/X,EAAM+X,IAAI,oBAC5Ek1B,EAAiB,IAAIu8I,EAAYv0K,QAAQs0K,EAAKl+B,IAAI,CACpD3gH,KAAMA,EACNjB,WAAYzpC,EAAM+X,IAAI,cACtBlO,OAAQ7J,EAAM+X,IAAI,WACjB/X,EAAM+X,IAAI,gBACbk1B,EAAe7hC,OAEfpL,EAAMmL,IAAI,iBAAkB8hC,GAG9B,OAAOjtC,EA+QT,OA1UA8hL,EAAQ10B,UAAUzgH,EAAa5sC,GA8D/B4sC,EAAYjyC,UAAUiwC,OAAS,WAC7B,IAEInhC,EAFA29B,EAAersC,KAAKid,IAAI,gBACxBm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MAAMsxB,WAG9C,GAAKvuC,KAAKid,IAAI,eASZvO,EAAY1O,KAAKqyC,uBARjB,GAAI,MAAMjyB,KAAKisB,GAAe,CAE5B,IAAI19B,EAAK09B,EAAa1sB,QAAQ,IAAK,IACnCjR,EAAY4jC,SAASC,eAAe5jC,QAEpCD,EAAYgpJ,EAAQsB,UAAU3sH,GAMlCrsC,KAAKqQ,IAAI,YAAa3B,GACtBgpJ,EAAQ2B,UAAU3qJ,EAAW1O,KAAKuE,MAxGhB,eAyGlB6tC,EAAW/D,YAAY3/B,GACvB0jC,EAAW7tC,MAAMiS,SAAW,YAG9Bq7B,EAAYjyC,UAAU+P,OAAS,WAG7B,GAFA3P,KAAK+P,QAED/P,KAAKid,IAAI,eAAgB,CAC3B,IAAIm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MAAMsxB,WAE1C7/B,EAAY1O,KAAKqyC,kBAErBD,EAAW/D,YAAY3/B,GACvBgpJ,EAAQ2B,UAAU3qJ,EAAW1O,KAAKuE,MAtHlB,eAuHhBvE,KAAKqQ,IAAI,YAAa3B,QAEtB1O,KAAKwyC,cAITX,EAAYjyC,UAAU4yC,WAAa,WACjC,IAAIttC,EAAQlF,KAER2U,EAAY3U,KAAKid,IAAI,aACrByxB,EAAe1uC,KAAKid,IAAI,gBACxBvO,EAAY1O,KAAKid,IAAI,aACrBnb,EAAWo9F,EAAKxwF,EAlIN,oBAmIV+jC,EAAUysD,EAAKxwF,EAlIN,mBAmIT69B,EAAQvsC,KAAKid,IAAI,SAEjBnb,GAAY6S,IACd+iJ,EAAQ2B,UAAUv3J,EAAU9B,KAAKuE,MAvIrB,qBAwIZzC,EAAS+qC,UAAY6B,GAGnB+D,IACFilH,EAAQ2B,UAAU5mH,EAASzyC,KAAKuE,MA3IrB,oBA4IXkqL,EAAKn2B,KAAK/rH,GAAO,SAAUjlC,EAAMhD,GAC/BmuC,EAAQpE,YAAYnpC,EAAMwtC,SAASprC,EAAMhD,SAK/CutC,EAAYjyC,UAAUmQ,MAAQ,WAC5B,IAAIrB,EAAY1O,KAAKid,IAAI,aAEzB,GAAIvO,GAAa1O,KAAKid,IAAI,eACxBvO,EAAUyB,aACL,CACL,IAAIrO,EAAWo9F,EAAKxwF,EAzJR,oBA0JR+jC,EAAUysD,EAAKxwF,EAzJR,mBA2JP5M,IACFA,EAAS+qC,UAAY,IAGnB4F,IACFA,EAAQ5F,UAAY,MAK1BgF,EAAYjyC,UAAUwQ,KAAO,WAC3B,IAAI1B,EAAY1O,KAAKid,IAAI,aACzBvO,EAAUnK,MAAM6J,WAAa,UAC7BM,EAAUnK,MAAM6T,QAAU,QAC1B,IAAI+5B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe/hC,OAGjB,IAAIo/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYp/B,OAGdnL,EAAOrF,UAAUwQ,KAAKtQ,KAAKE,MAE3BA,KAAKid,IAAI,UAAUnN,QAGrB+hC,EAAYjyC,UAAU0Q,KAAO,WAC3B,IAAI5B,EAAY1O,KAAKid,IAAI,aACzBvO,EAAUnK,MAAM6J,WAAa,SAC7BM,EAAUnK,MAAM6T,QAAU,OAC1B,IAAI+5B,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAe7hC,OAGjB,IAAIk/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYl/B,OAGdrL,EAAOrF,UAAU0Q,KAAKxQ,KAAKE,MAE3BA,KAAKid,IAAI,UAAUnN,QAGrB+hC,EAAYjyC,UAAUoQ,QAAU,WAC9B,IAAItB,EAAY1O,KAAKid,IAAI,aACrBovB,EAAersC,KAAKid,IAAI,gBAExBvO,IAAc,MAAM0R,KAAKisB,IAC3B39B,EAAU6/B,WAAWoE,YAAYjkC,GAGnC,IAAIyjC,EAAiBnyC,KAAKid,IAAI,kBAE1Bk1B,GACFA,EAAeniC,UAGjB,IAAIw/B,EAAcxvC,KAAKid,IAAI,eAEvBuyB,GACFA,EAAYr/B,SAGdlL,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,OAGhC6xC,EAAYjyC,UAAU8yC,SAAW,SAAUprC,EAAMhD,GAC/C,IAAIgoC,EAAUtsC,KAAKid,IAAI,WAEnB21B,EAAU67I,EAAKlvB,WAAWjzH,EAASmiJ,EAAKl+B,IAC5C,CAEEjsJ,MAAOA,GACNgD,IACCurC,EAAU6kH,EAAQsB,UAAUpmH,GAChC8kH,EAAQ2B,UAAUxmH,EAAS7yC,KAAKuE,MA5Od,yBA6OlB,IAAIuuC,EAAYosD,EAAKrsD,EA/ON,qBAiPXC,GACF4kH,EAAQ2B,UAAUvmH,EAAW9yC,KAAKuE,MAlPrB,sBAqPf,IAAIwuC,EAAWmsD,EAAKrsD,EApPN,oBA0Pd,OAJIE,GACF2kH,EAAQ2B,UAAUtmH,EAAU/yC,KAAKuE,MAvPrB,qBA0PPsuC,GAGThB,EAAYjyC,UAAUyyC,gBAAkB,WACtC,IAGI56B,EAHczX,KAAKid,IAAI,cAGhB60B,CAFC9xC,KAAKid,IAAI,gBACTjd,KAAKid,IAAI,UAUrB,OANIwxK,EAAKK,UAAUr3K,GACXA,EAEAigJ,EAAQsB,UAAUvhJ,IAM5Bo6B,EAAYjyC,UAAUwvC,YAAc,SAAU4D,EAAMC,EAAM3zC,GAExD,IAUIkX,EAVA5H,EAAIokC,EACJnkC,EAAIokC,EACJvkC,EAAY1O,KAAKid,IAAI,aACrBm1B,EAAapyC,KAAKid,IAAI,UAAUA,IAAI,MACpCq0B,EAAYomH,EAAQzvI,SAASmqB,GAC7Bb,EAAammH,EAAQryH,UAAU+M,GAC/BtB,EAAiBpiC,EAAUwkC,YAC3BnC,EAAkBriC,EAAUykC,aAC5BC,EAAOxkC,EACPykC,EAAOxkC,EAEPykC,EAActzC,KAAKid,IAAI,gBAAkB,CAC3CrO,EAAG,EACHC,EAAG,GA8BL,GA3BKiiC,IACHpiC,EAAUnK,MAAM6T,QAAU,QAC1B04B,EAAiBpiC,EAAUwkC,YAC3BnC,EAAkBriC,EAAUykC,aAC5BzkC,EAAUnK,MAAM6T,QAAU,QAGxBpY,KAAKid,IAAI,cAEXzG,EAAW,CAAC5H,EADZC,GAAQH,EAAUykC,aAAe,GAG7BG,GAAe1kC,EAAI0kC,EAAY1kC,EAAI,EAErCA,GAAKF,EAAUwkC,YAAc,EAE7BtkC,GAAK,GAEE5O,KAAKid,IAAI,aAElBrO,GADA4H,EAAWo4K,EAAW/9I,gBAAgBjiC,EAAGC,EAAG7O,KAAKid,IAAI,YAAa6zB,EAAgBC,EAAiBzxC,IACtF,GACbuP,EAAI2H,EAAS,KAGb5H,GADA4H,EAAWo4K,EAAWv9I,6BAA6BziC,EAAGC,EAAGiiC,EAAgBC,EAAiBO,EAAWC,IACxF,GACb1iC,EAAI2H,EAAS,IAGXxW,KAAKid,IAAI,WAAY,CAEvB,IAAI0xB,EAAa3uC,KAAKid,IAAI,cAEtBs2B,EADavzC,KAAKid,IAAI,cACCmL,KAAK,QAEhCxZ,GADA4H,EAAWo4K,EAAWp9I,0BAA0B5iC,EAAGC,EAAGiiC,EAAgBC,EAAiBwC,EAAYA,EAAUtqB,UAAY0lB,EAAY3uC,KAAKid,IAAI,eACjI,GACbpO,EAAI2H,EAAS,GAGf,IAAI84B,EAActvC,KAAKid,IAAI,eAEtBwxK,EAAK/1B,QAAQppH,KAChB8D,EAAO9D,EAAY,GAAG1gC,EACtBykC,EAAO/D,EAAY,GAAGzgC,GAGxB7O,KAAKqQ,IAAI,cAAemG,GAEXxW,KAAKid,IAAI,YAGpBvO,EAAUnK,MAAMmS,KAAO9H,EAAI,KAC3BF,EAAUnK,MAAMgS,IAAM1H,EAAI,MAG5B,IAAIsjC,EAAiBnyC,KAAKid,IAAI,kBAE9B,GAAIk1B,EAAgB,CAClB,IAAI5F,EAAQvsC,KAAKid,IAAI,SACrBk1B,EAAe/C,YAAYgE,EAAMC,EAAM9G,GAGzCtnC,EAAOrF,UAAUwvC,YAAYtvC,KAAKE,KAAM4O,EAAGC,IAGtCgjC,EA3UT,CA4UE01I,EAAOptK,SAETo6I,EAAQp6I,QAAU03B,G,iCCvXlBzyC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElByH,EAAO,EAAQ,KAIfhgJ,EAEJ,SAAUxpC,GAGR,SAASwpC,EAAQv/B,GACf,OAAOjK,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CAIxCn4J,EAAG,EAKHC,EAAG,EAKH09B,MAAO,KAMPmC,aAAc,KAMd/5B,WAAW,EAMXg6B,WAAY,KAMZC,SAAS,EAMTC,WAAY,MACX3/B,KAASlP,KAoFd,OApIAgnL,EAAQ10B,UAAU7jH,EAASxpC,GAmD3BwpC,EAAQ7uC,UAAUkvC,gBAAkB,SAAUntC,EAAO4qC,GACnD,IAAImC,EAAe1uC,KAAKid,IAAI,gBACxB8xB,EAAY/uC,KAAKid,IAAI,SACrB+xB,IAAcrtC,IAAU+sC,GAAgBK,EAAUtvC,SAAW8sC,EAAM9sC,QAgBvE,OAdKuvC,GACHy/I,EAAKn2B,KAAK/rH,GAAO,SAAUjlC,EAAMhD,GAC/B,IAAI2qC,EAAUF,EAAUzqC,GACpBq/B,EAAOvkC,OAAOukC,KAAKr8B,GAKvB,GAJA0nC,EAAYrL,EAAKuL,MAAK,SAAUvvC,GAC9B,OAAQ8uL,EAAKxuB,SAAS34J,EAAK3H,KAAS2H,EAAK3H,KAASsvC,EAAQtvC,MAI1D,OAAO,KAKNqvC,GAGTP,EAAQ7uC,UAAUuvC,WAAa,SAAUxtC,EAAO4qC,GAI9C,OAHAvsC,KAAKqQ,IAAI,QAASk8B,GAClBvsC,KAAKqQ,IAAI,eAAgB1O,GACzB3B,KAAK2P,SACE3P,MAGTyuC,EAAQ7uC,UAAUwvC,YAAc,SAAUxgC,EAAGC,EAAGvP,GAC9CU,KAAKqQ,IAAI,IAAKzB,GACd5O,KAAKqQ,IAAI,IAAKxB,IAGhB4/B,EAAQ7uC,UAAUyvC,WAAa,SAAUC,EAAaC,GACpD,IAAIC,EAAcxvC,KAAKid,IAAI,eACvBwyB,EAAmBzvC,KAAKid,IAAI,oBAE3BuyB,EAOHA,EAAYz/B,SANZy/B,EAAcC,EAAiBlC,SAAS,CACtC90B,OAAQ,EACR4xB,SAAS,IAEXrqC,KAAKqQ,IAAI,cAAem/B,IAK1Bi/I,EAAKn2B,KAAKhpH,GAAa,SAAUhoC,GAC/BkoC,EAAY9iB,SAAS,SAAU,CAC7BzY,MAAO3M,EAAK2M,MACZoQ,MAAOoqK,EAAKl+B,IAAI,CACd59I,KAAMrL,EAAK2M,MACXgF,OAAQ,SACR7E,YAAa9M,EAAK2M,OACjBs7B,EAAW,CACZ3gC,EAAGtH,EAAKsH,EACRC,EAAGvH,EAAKuH,SAId7O,KAAKqQ,IAAI,cAAei/B,IAG1Bb,EAAQ7uC,UAAU8vC,aAAe,WAC/B,IAAIF,EAAcxvC,KAAKid,IAAI,eAC3BuyB,GAAeA,EAAYz/B,SAG7B0+B,EAAQ7uC,UAAU+P,OAAS,aAE3B8+B,EAAQ7uC,UAAUmQ,MAAQ,aAE1B0+B,EAAQ7uC,UAAUwQ,KAAO,WACvBpQ,KAAKqQ,IAAI,WAAW,IAGtBo+B,EAAQ7uC,UAAU0Q,KAAO,WACvBtQ,KAAKqQ,IAAI,WAAW,IAGfo+B,EArIT,CAJa,EAAQ,KA0IZt0B,SAETo6I,EAAQp6I,QAAUs0B,G,iCCpJlBrvC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAGT,IAAIomL,EAAU,EAAQ,KAElByH,EAAO,EAAQ,KAIf9+I,EAEJ,SAAU1qC,GAGR,SAAS0qC,EAAUzgC,GACjB,IAAIhK,EAAQD,EAAOnF,KAAKE,KAAMgnL,EAAQjgB,SAAS,CAI7C5gK,KAAM,KAKNypC,KAAM,KAKNjB,WAAY,KAMZr1B,UAAW,CACT3G,KAAM,UACNkB,QAAS,IAMX2F,UAAW,CACT1G,OAAQ,sBACRJ,UAAW,GAEbyU,cAAc,GACbjY,KAASlP,KAMZ,OAJAkF,EAAM2qC,SAEN3qC,EAAMyK,SAECzK,EAuLT,OAjOA8hL,EAAQ10B,UAAU3iH,EAAW1qC,GA6C7B0qC,EAAU/vC,UAAUiwC,OAAS,WAC3B,IACI7N,EADOhiC,KAAKid,IAAI,QACHswB,WACjBvtC,KAAKqQ,IAAI,YAAa2xB,IAGxB2N,EAAU/vC,UAAUkwC,cAAgB,SAAUzrB,EAAOle,GACnD,IACI+T,EADYla,KAAKid,IAAI,aACHyP,SAAS,OAAQ,CACrCrI,MAAOA,EACPgmB,SAAS,IAIX,OADArqC,KAAKqQ,IAAI,iBAAmBlK,EAAM+T,GAC3BA,GAGTy1B,EAAU/vC,UAAUmwC,sBAAwB,SAAUhhC,EAAQ4/B,GAE5D,IAAIpqC,EAAQkqL,EAAKl+B,IAAIvwJ,KAAKid,IAAI,aAAcjd,KAAKid,IAAI,UACjDoH,EAAQoqK,EAAKl+B,IAAI,CACnBnvI,GAAIutB,EAAaA,EAAWqB,GAAGphC,EAAIG,EAAOkO,IAAI,SAC9CoE,GAAI,EACJK,GAAIitB,EAAaA,EAAWsB,GAAGrhC,EAAI,EACnC+S,GAAI,GACHpd,GAEHvE,KAAK8vC,cAAczrB,EAAO,MAG5BsrB,EAAU/vC,UAAUswC,oBAAsB,SAAUnhC,EAAQ4/B,GAE1D,IAAIpqC,EAAQkqL,EAAKl+B,IAAIvwJ,KAAKid,IAAI,aAAcjd,KAAKid,IAAI,UACjDoH,EAAQoqK,EAAKl+B,IAAI,CACnBnvI,GAAI,EACJC,GAAIstB,EAAaA,EAAWqB,GAAGnhC,EAAIE,EAAOkO,IAAI,UAC9CyE,GAAI,EACJC,GAAIgtB,EAAaA,EAAWwB,GAAGthC,EAAI,GAClCtK,GAEHvE,KAAK8vC,cAAczrB,EAAO,MAG5BsrB,EAAU/vC,UAAUwwC,kBAAoB,SAAUrhC,EAAQ4/B,GACxD,IAAIpqC,EAAQkqL,EAAKl+B,IAAIvwJ,KAAKid,IAAI,aAAcjd,KAAKid,IAAI,UACjDvO,EAAY1O,KAAKid,IAAI,aACrBoH,EAAQoqK,EAAKl+B,IAAI,CACnB3hJ,EAAG+/B,EAAaA,EAAWwB,GAAGvhC,EAAI,EAClCC,EAAG8/B,EAAaA,EAAWwB,GAAGthC,EAAIE,EAAOkO,IAAI,UAC7CzY,MAAOmqC,EAAaA,EAAWsB,GAAGrhC,EAAI+/B,EAAWqB,GAAGphC,EAAIG,EAAOkO,IAAI,SACnEnO,OAAQ6/B,EAAazwB,KAAKsE,IAAImsB,EAAWwB,GAAGthC,EAAI8/B,EAAWqB,GAAGnhC,GAAKE,EAAOkO,IAAI,WAC7E1Y,GACC2V,EAAQxL,EAAUge,SAAS,OAAQ,CACrCrI,MAAOA,EACPgmB,SAAS,IAIX,OADArqC,KAAKqQ,IAAI,sBAAuB6J,GACzBA,GAGTy1B,EAAU/vC,UAAUywC,iBAAmB,SAAU9D,GAC/C,IAAIv3B,EACAs7B,EAAsBtwC,KAAKid,IAAI,uBAC/BkK,EAAennB,KAAKid,IAAI,gBACxBszB,EAAYhE,EAAM,GAClBiE,EAAWjE,EAAMA,EAAM9sC,OAAS,GAChCygC,EAAM/Y,EAAe,IAAM,IAC3BiB,EAAOjB,EAAe,SAAW,QACjCspB,EAAWF,EAAUrQ,GAMzB,GAJIqM,EAAM9sC,OAAS,GAAK8wC,EAAUrQ,GAAOsQ,EAAStQ,KAChDuQ,EAAWD,EAAStQ,IAGlBlgC,KAAKid,IAAI,SAEXqzB,EAAoBloB,KAAK8X,EAAKuQ,EAAWzwC,KAAKid,IAAI,cAAczY,MAAQ,GACxE8rC,EAAoBloB,KAAKA,EAAMpoB,KAAKid,IAAI,eAExC,GAAIwxK,EAAKhsD,QAAQlyF,EAAUh9B,MAAM2sB,MAAUqQ,EAAUrqC,KAAM,CAEzD,IAAI1B,EAAQ+rC,EAAUh9B,MAAM2sB,GAAK,GAAKqQ,EAAUh9B,MAAM2sB,GAAK,GAC3DoQ,EAAoBloB,KAAK8X,EAAKqQ,EAAUh9B,MAAM2sB,GAAK,IACnDoQ,EAAoBloB,KAAKA,EAAM5jB,QAE/BwQ,EAAS,EAAIu7B,EAAUrqC,KAAO,EAC9BoqC,EAAoBloB,KAAK8X,EAAKuQ,EAAWz7B,GAEpB,IAAjBu3B,EAAM9sC,OACR6wC,EAAoBloB,KAAKA,EAAM,EAAImoB,EAAUrqC,KAAO,GAEpDoqC,EAAoBloB,KAAKA,EAAMlK,KAAKsE,IAAIguB,EAAStQ,GAAOqQ,EAAUrQ,IAAQ,EAAIlrB,IAMtF26B,EAAU/vC,UAAU+P,OAAS,WAC3B,IAAIZ,EAAS/O,KAAKid,IAAI,UAClB0xB,EAAa3uC,KAAKid,IAAI,cACtBkK,EAAennB,KAAKid,IAAI,gBAG5B,OAFAjd,KAAK+P,QAEG/P,KAAKid,IAAI,SACf,IAAK,IACHjd,KAAK+vC,sBAAsBhhC,EAAQ4/B,GAEnC,MAEF,IAAK,IACH3uC,KAAKkwC,oBAAoBnhC,EAAQ4/B,GAEjC,MAEF,IAAK,QACH3uC,KAAK+vC,sBAAsBhhC,EAAQ4/B,GAEnC3uC,KAAKkwC,oBAAoBnhC,EAAQ4/B,GAEjC,MAEF,IAAK,OACH3uC,KAAKowC,kBAAkBrhC,EAAQ4/B,GAE/B,MAEF,QACExnB,EAAennB,KAAK+vC,sBAAsBhhC,EAAQ4/B,GAAc3uC,KAAKkwC,oBAAoBnhC,EAAQ4/B,KAIvGgB,EAAU/vC,UAAUwQ,KAAO,WACTpQ,KAAKid,IAAI,aAEf7M,QAGZu/B,EAAU/vC,UAAU0Q,KAAO,WACTtQ,KAAKid,IAAI,aAEf3M,QAGZq/B,EAAU/vC,UAAUmQ,MAAQ,WAC1B,IAAIrB,EAAY1O,KAAKid,IAAI,aACzBjd,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAKqQ,IAAI,kBAAmB,MAC5BrQ,KAAKqQ,IAAI,sBAAuB,MAEhC3B,EAAUqB,SAGZ4/B,EAAU/vC,UAAUoQ,QAAU,WAC5B,IAAItB,EAAY1O,KAAKid,IAAI,aAEzBhY,EAAOrF,UAAUoQ,QAAQlQ,KAAKE,MAE9B0O,EAAUyB,UAGZw/B,EAAU/vC,UAAUwvC,YAAc,SAAUxgC,EAAGC,EAAG09B,GAChD,IAAImE,EAAkB1wC,KAAKid,IAAI,mBAC3B0zB,EAAkB3wC,KAAKid,IAAI,mBAC3BqzB,EAAsBtwC,KAAKid,IAAI,uBAE/B0zB,IAAoBA,EAAgB1zB,IAAI,cAE1C0zB,EAAgBC,KAAKhiC,EAAG,GAGtB8hC,IAAoBA,EAAgBzzB,IAAI,cAC1CyzB,EAAgBE,KAAK,EAAG/hC,GAGtByhC,IAAwBA,EAAoBrzB,IAAI,cAClDjd,KAAKqwC,iBAAiB9D,IAInBoD,EAlOT,CAJa,EAAQ,KAuOZx1B,SAETo6I,EAAQp6I,QAAUw1B,G,iCCjPlBvwC,OAAOkC,eAAeizJ,EAAS,aAAc,CAC3C3zJ,OAAO,IAoDT2zJ,EAAQ1jH,gBAhDR,SAAyBjiC,EAAGC,EAAG2H,EAAUs6B,EAAgBC,EAAiBzxC,GACxE,IAAI0xC,EAAOpiC,EACPqiC,EAAOpiC,EAEPqiC,EAAY,EACZC,EAAa,EACbC,EAAM,GAEV,GAAI9xC,EAAQ,CACV,IAAImb,EAAOnb,EAAO2pB,UAClBioB,EAAYz2B,EAAKjW,MACjB2sC,EAAa12B,EAAK3L,OAClBkiC,EAAOv2B,EAAK7L,EACZqiC,EAAOx2B,EAAK5L,EACZuiC,EAAM,EAGR,OAAQ56B,GACN,IAAK,SACHw6B,EAAOA,EAAOE,EAAY,EAAIJ,EAAiB,EAC/CG,EAAOA,EAAOE,EAAa,EAAIJ,EAAkB,EACjD,MAEF,IAAK,MACHC,EAAOA,EAAOE,EAAY,EAAIJ,EAAiB,EAC/CG,EAAOA,EAAOF,EAAkBK,EAChC,MAEF,IAAK,OACHJ,EAAOA,EAAOF,EAAiBM,EAC/BH,EAAOA,EAAOE,EAAa,EAAIJ,EAAkB,EACjD,MAEF,IAAK,QACHC,EAAOA,EAAOE,EAAYE,EAC1BH,EAAOA,EAAOE,EAAa,EAAIJ,EAAkB,EACjD,MAEF,IAAK,SACL,QACEC,EAAOA,EAAOE,EAAY,EAAIJ,EAAiB,EAC/CG,EAAOA,EAAOE,EAAaC,EAI/B,MAAO,CAACJ,EAAMC,IA8BhBsjH,EAAQljH,6BAzBR,SAAsCziC,EAAGC,EAAGrK,EAAOsK,EAAQwiC,EAAWC,GACpE,IAAIP,EAAOpiC,EACPqiC,EAAOpiC,EAoBX,OAlBImiC,EAAOxsC,EAxDH,GAwDiB8sC,EAEvBN,GADAA,GAAQxsC,EAzDF,IA0DQ,EAAI,EAAIwsC,EACbA,EA3DH,GA2DgB,EACtBA,EA5DM,GA8DNA,GA9DM,GAiEJC,EAAOniC,EAjEH,GAiEkByiC,EAExBN,GADAA,GAAQniC,EAlEF,IAmEQ,EAAI,EAAImiC,EACbA,EApEH,GAoEgB,EACtBA,EArEM,GAuENA,GAvEM,GA0ED,CAACD,EAAMC,IA8BhBsjH,EAAQ/iH,0BAzBR,SAAmC5iC,EAAGC,EAAGrK,EAAOsK,EAAQ6/B,EAAY8C,GAClE,IAAIT,EAAOpiC,EACPqiC,EAAOpiC,EAoBX,OAlBImiC,EAAOxsC,EAAQmqC,EAAW+C,GAAG9iC,IAC/BoiC,GAAQxsC,EAAQ,IAGdwsC,EAAOrC,EAAWwB,GAAGvhC,IACvBoiC,EAAOrC,EAAWwB,GAAGvhC,GAGlB6iC,IACCR,EAAOniC,EAAS6/B,EAAWqB,GAAGnhC,IAChCoiC,GAAQniC,EAAS,IAGfmiC,EAAOtC,EAAWwB,GAAGthC,IACvBoiC,EAAOtC,EAAWwB,GAAGthC,IAIlB,CAACmiC,EAAMC,K","file":"static/js/13.93e91674.chunk.js","sourcesContent":["function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        _props$hoverable = props.hoverable,\n        hoverable = _props$hoverable === void 0 ? true : _props$hoverable,\n        others = __rest(props, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-grid\"), className, _defineProperty({}, \"\".concat(prefixCls, \"-grid-hoverable\"), hoverable));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, /*#__PURE__*/React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card = /*#__PURE__*/function (_React$Component) {\n  _inherits(Card, _React$Component);\n\n  var _super = _createSuper(Card);\n\n  function Card() {\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    _this = _super.apply(this, arguments);\n\n    _this.onTabChange = function (key) {\n      if (_this.props.onTabChange) {\n        _this.props.onTabChange(key);\n      }\n    };\n\n    _this.renderCard = function (_ref) {\n      var _classNames, _extraProps;\n\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          extra = _a.extra,\n          _a$headStyle = _a.headStyle,\n          headStyle = _a$headStyle === void 0 ? {} : _a$headStyle,\n          _a$bodyStyle = _a.bodyStyle,\n          bodyStyle = _a$bodyStyle === void 0 ? {} : _a$bodyStyle,\n          title = _a.title,\n          loading = _a.loading,\n          _a$bordered = _a.bordered,\n          bordered = _a$bordered === void 0 ? true : _a$bordered,\n          _a$size = _a.size,\n          size = _a$size === void 0 ? 'default' : _a$size,\n          type = _a.type,\n          cover = _a.cover,\n          actions = _a.actions,\n          tabList = _a.tabList,\n          children = _a.children,\n          activeTabKey = _a.activeTabKey,\n          defaultActiveTabKey = _a.defaultActiveTabKey,\n          tabBarExtraContent = _a.tabBarExtraContent,\n          others = __rest(_a, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\"]);\n\n      var prefixCls = getPrefixCls('card', customizePrefixCls);\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), _this.getCompatibleHoverable()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), _this.isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size !== 'default'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _classNames));\n      var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n        padding: 24\n      } : undefined;\n      var loadingBlock = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-content\"),\n        style: loadingBlockStyle\n      }, /*#__PURE__*/React.createElement(Row, {\n        gutter: 8\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 22\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), /*#__PURE__*/React.createElement(Row, {\n        gutter: 8\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 8\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 15\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), /*#__PURE__*/React.createElement(Row, {\n        gutter: 8\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 6\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 18\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), /*#__PURE__*/React.createElement(Row, {\n        gutter: 8\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 13\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 9\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))), /*#__PURE__*/React.createElement(Row, {\n        gutter: 8\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 4\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 3\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 16\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-loading-block\")\n      }))));\n      var hasActiveTabKey = activeTabKey !== undefined;\n      var extraProps = (_extraProps = {}, _defineProperty(_extraProps, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extraProps, \"tabBarExtraContent\", tabBarExtraContent), _extraProps);\n      var head;\n      var tabs = tabList && tabList.length ? /*#__PURE__*/React.createElement(Tabs, _extends({}, extraProps, {\n        className: \"\".concat(prefixCls, \"-head-tabs\"),\n        size: \"large\",\n        onChange: _this.onTabChange\n      }), tabList.map(function (item) {\n        return /*#__PURE__*/React.createElement(Tabs.TabPane, {\n          tab: item.tab,\n          disabled: item.disabled,\n          key: item.key\n        });\n      })) : null;\n\n      if (title || extra || tabs) {\n        head = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-head\"),\n          style: headStyle\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-head-wrapper\")\n        }, title && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-head-title\")\n        }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-extra\")\n        }, extra)), tabs);\n      }\n\n      var coverDom = cover ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-cover\")\n      }, cover) : null;\n      var body = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-body\"),\n        style: bodyStyle\n      }, loading ? loadingBlock : children);\n      var actionDom = actions && actions.length ? /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"\".concat(prefixCls, \"-actions\")\n      }, getAction(actions)) : null;\n      var divProps = omit(others, ['onTabChange', 'noHovering', 'hoverable']);\n      return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        className: classString\n      }), head, coverDom, body, actionDom);\n    };\n\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if ('noHovering' in this.props) {\n        warning(!this.props.noHovering, 'Card', '`noHovering` is deprecated, you can remove it safely or use `hoverable` instead.');\n        warning(!!this.props.noHovering, 'Card', '`noHovering={false}` is deprecated, use `hoverable` instead.');\n      }\n    } // For 2.x compatible\n\n  }, {\n    key: \"getCompatibleHoverable\",\n    value: function getCompatibleHoverable() {\n      var _this$props = this.props,\n          noHovering = _this$props.noHovering,\n          hoverable = _this$props.hoverable;\n\n      if ('noHovering' in this.props) {\n        return !noHovering || hoverable;\n      }\n\n      return !!hoverable;\n    }\n  }, {\n    key: \"isContainGrid\",\n    value: function isContainGrid() {\n      var containGrid;\n      React.Children.forEach(this.props.children, function (element) {\n        if (element && element.type && element.type === Grid) {\n          containGrid = true;\n        }\n      });\n      return containGrid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderCard);\n    }\n  }]);\n\n  return Card;\n}(React.Component);\n\nexport { Card as default };\nCard.Grid = Grid;\nCard.Meta = Meta;","var SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar WEEK = DAY * 7;\nvar MONTH = DAY * 30;\nvar YEAR = DAY * 365;\nexport var timeIntervals = {\n  second: {\n    value: SECOND,\n    format: 'HH:mm:ss'\n  },\n  miniute: {\n    value: MINUTE,\n    format: 'HH:mm'\n  },\n  hour: {\n    value: HOUR,\n    format: 'HH'\n  },\n  day: {\n    value: DAY,\n    format: 'YYYY-MM-DD'\n  },\n  week: {\n    value: WEEK,\n    format: 'YYYY-MM-DD'\n  },\n  month: {\n    value: MONTH,\n    format: 'YYYY-MM'\n  },\n  year: {\n    value: YEAR,\n    format: 'YYYY'\n  }\n};","var EVENT_MAP = {\n  onViewClick: 'click',\n  onViewDblClick: 'dblclick',\n  onViewMousemove: 'mousemove',\n  onViewMousedown: 'mousedown',\n  onViewMouseup: 'mouseup',\n  onViewMouseenter: 'mouseenter',\n  onViewMouseleave: 'mouseleave',\n  onViewContextmenu: 'contextmenu',\n  onAxisClick: 'axis-label:click',\n  onAxisDblClick: 'axis-label:dblclick',\n  onAxisMousemove: 'axis-label:mousemove',\n  onAxisMousedown: 'axis-label:mousedown',\n  onAxisMouseup: 'axis-label:mouseup',\n  onAxisMouseenter: 'axis-label:mouseenter',\n  onAxisMouseleave: 'axis-label:mouseleave',\n  onAxisContextmenu: 'axis-label:contextmenu',\n  onLabelClick: 'label:click',\n  onLabelDblClick: 'label:dblclick',\n  onLabelMousemove: 'label:mousemove',\n  onLabelMouseup: 'label:mouseup',\n  onLabelMousedown: 'label:mousedown',\n  onLabelMouseenter: 'label:mouseenter',\n  onLabelMouseleave: 'label:mouseleave',\n  onLabelContextmenu: 'label:contextmenu',\n  onLegendClick: 'legend-item:click',\n  onLegendDblClick: 'legend-item:dblclick',\n  onLegendMouseMove: 'legend-item:mousemove',\n  onLegendMouseDown: 'legend-item:mousedown',\n  onLegendMouseUp: 'legend-item:mouseup',\n  onLegendMouseLeave: 'legend-item:mouseleave',\n  onLegendMouseEnter: 'legend-item:mouseenter',\n  onLegendContextmenu: 'legend-item:contextmenu'\n};\nvar CANVAS_EVENT_MAP = {\n  onPlotClick: 'click',\n  onPlotDblClick: 'dblclick',\n  onPlotMousemove: 'mousemove',\n  onPlotMousedown: 'mousedown',\n  onPlotMouseup: 'mouseup',\n  onPlotMouseenter: 'mouseenter',\n  onPlotMouseleave: 'mouseleave',\n  onPlotContextmenu: 'contextmenu',\n  onTitleClick: 'title:click',\n  onTitleDblClick: 'title:dblclick',\n  onTitleMousemove: 'title:mousemove',\n  onTitleMousedown: 'title:mousedown',\n  onTitleMouseup: 'title:mouseup',\n  onTitleMouseenter: 'title:mouseenter',\n  onTitleMouseleave: 'title:mouseleave',\n  onTitleContextmenu: 'title:contextmenu',\n  onDescriptionClick: 'description:click',\n  onDescriptionDblClick: 'description:dblclick',\n  onDescriptionMousemove: 'description:mousemove',\n  onDescriptionMousedown: 'description:mousedown',\n  onDescriptionMouseup: 'description:mouseup',\n  onDescriptionMouseenter: 'description:mouseenter',\n  onDescriptionMouseleave: 'description:mouseleave',\n  onDescriptionContextmenu: 'description:contextmenu',\n  onBreadcrumbClick: 'breadcrumb:click',\n  onBreadcrumbDblClick: 'breadcrumb:dblclick',\n  onBreadcrumbMousemove: 'breadcrumb:mousemove',\n  onBreadcrumbMousedown: 'breadcrumb:mousedown',\n  onBreadcrumbMouseup: 'breadcrumb:mouseup',\n  onBreadcrumbMouseenter: 'breadcrumb:mouseenter',\n  onBreadcrumbMouseleave: 'breadcrumb:mouseleave',\n  onBreadcrumbContextmenu: 'breadcrumb:contextmenu'\n};\nvar LAYER_EVENT_MAP = {\n  onLayerClick: 'click',\n  onLayerDblClick: 'dblclick',\n  onLayerMousemove: 'mousemove',\n  onLayerMousedown: 'mousedown',\n  onLayerMouseup: 'mouseup',\n  onLayerMouseenter: 'mouseenter',\n  onLayerMouseleave: 'mouseleave',\n  onLayerContextmenu: 'contextmenu'\n};\n\nfunction onEvent(layer, eventName, handler) {\n  layer.view.on(eventName, handler);\n}\n\nexport { EVENT_MAP, CANVAS_EVENT_MAP, LAYER_EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport * as G from '@antv/g';\nimport * as _ from '@antv/util';\nimport { LAYER_EVENT_MAP } from '../util/event';\n\nvar Layer =\n/** @class */\nfunction (_super) {\n  __extends(Layer, _super);\n  /**\n   * layer base for g2plot\n   */\n\n\n  function Layer(props) {\n    var _this = _super.call(this) || this;\n\n    _this.layers = [];\n    _this.destroyed = false;\n    _this.visibility = true;\n    _this.rendered = false;\n    _this.eventHandlers = [];\n    _this.options = _this.getOptions(props);\n\n    _this.processOptions(_this.options);\n\n    _this.container = new G.Group();\n    return _this;\n  }\n\n  Layer.prototype.processOptions = function (options) {\n    this.id = options.id;\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.canvas = options.canvas;\n    this.parent = options.parent;\n  };\n\n  Layer.prototype.updateConfig = function (cfg) {\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  };\n\n  Layer.prototype.beforeInit = function () {};\n  /**\n   * init life cycle\n   */\n\n\n  Layer.prototype.init = function () {\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.eachLayer(function (layer) {\n      layer.init();\n    });\n  };\n\n  Layer.prototype.afterInit = function () {};\n  /**\n   * render layer recursively\n   */\n\n\n  Layer.prototype.render = function () {\n    // fixme: 等plot不再继承layer，这个就可以挪到构造函数里去，不需要再加是否render过的判断了\n    if (!this.rendered) {\n      if (this.parent) {\n        this.parent.container.add(this.container);\n      } else {\n        this.canvas.add(this.container);\n      }\n    }\n\n    this.rendered = true;\n    this.beforeInit();\n    this.init();\n    this.afterInit();\n    this.container.transform([['t', this.x, this.y]]);\n    this.eachLayer(function (layer) {\n      layer.render();\n    });\n    this.canvas.draw();\n  };\n  /**\n   * clear layer content\n   */\n\n\n  Layer.prototype.clear = function () {\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.layers = [];\n    this.container.clear();\n  };\n  /**\n   * destroy layer recursively, remove the container of layer\n   */\n\n\n  Layer.prototype.destroy = function () {\n    var _this = this;\n\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n\n    _.each(this.eventHandlers, function (h) {\n      _this.off(h.eventName, h.handler);\n    });\n\n    this.container.remove(true);\n    this.destroyed = true;\n  };\n  /**\n   * display layer\n   */\n\n\n  Layer.prototype.show = function () {\n    this.container.set('visible', true);\n    this.visibility = true;\n  };\n  /**\n   * hide layer\n   */\n\n\n  Layer.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.visibility = false;\n  };\n  /**\n   * add children layer\n   * @param layer\n   */\n\n\n  Layer.prototype.addLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx < 0) {\n      if (layer.parent !== this) {\n        layer.parent = this;\n        layer.init();\n      }\n\n      this.layers.push(layer);\n    }\n  };\n  /**\n   * remove children layer\n   * @param layer\n   */\n\n\n  Layer.prototype.removeLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx >= 0) {\n      this.layers.splice(idx, 1);\n    }\n  };\n  /**\n   * update layer's display range\n   * @param props\n   * @param recursive whether update children layers or not\n   */\n\n\n  Layer.prototype.updateBBox = function (props, recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    var originRange = {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n\n    var newRange = _.deepMix({}, originRange, props);\n\n    this.x = newRange.x;\n    this.y = newRange.y;\n    this.width = newRange.width;\n    this.height = newRange.height;\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.render();\n\n    if (recursive) {\n      this.eachLayer(function (layer) {\n        layer.updateBBoxByParent();\n        layer.render();\n      });\n    }\n\n    this.canvas.draw();\n  };\n  /**\n   * update display range according to parent layer's range\n   */\n\n\n  Layer.prototype.updateBBoxByParent = function () {\n    var region = this.layerRegion;\n    this.x = this.parent.x + this.parent.width * region.start.x;\n    this.y = this.parent.y + this.parent.height * region.start.y;\n    this.width = this.parent.width * (region.end.x - region.start.x);\n    this.height = this.parent.height * (region.end.y - region.start.y);\n    this.layerBBox = this.getLayerBBox();\n  };\n  /**\n   * get global position of layer\n   */\n\n\n  Layer.prototype.getGlobalPosition = function () {\n    var globalX = this.x;\n    var globalY = this.y;\n    var parent = this.parent;\n\n    while (parent) {\n      globalX += parent.x;\n      globalY += parent.y;\n      parent = parent.parent;\n    }\n\n    return {\n      x: globalX,\n      y: globalY\n    };\n  };\n\n  Layer.prototype.getGlobalBBox = function () {\n    var globalPosition = this.getGlobalPosition();\n    return new G.BBox(globalPosition.x, globalPosition.y, this.width, this.height);\n  };\n\n  Layer.prototype.getOptions = function (props) {\n    var parentWidth = 0;\n    var parentHeight = 0;\n\n    if (props.parent) {\n      parentWidth = props.parent.width;\n      parentHeight = props.parent.height;\n    }\n\n    var defaultOptions = {\n      x: 0,\n      y: 0,\n      width: parentWidth,\n      height: parentHeight\n    };\n    return _.deepMix({}, defaultOptions, props);\n  };\n\n  Layer.prototype.eachLayer = function (cb) {\n    _.each(this.layers, cb);\n  };\n\n  Layer.prototype.parseEvents = function (eventParser) {\n    var _this = this;\n\n    var eventsName = _.keys(LAYER_EVENT_MAP);\n\n    _.each(eventParser, function (e, k) {\n      if (_.contains(eventsName, k) && _.isFunction(e)) {\n        var eventName = LAYER_EVENT_MAP[k] || k;\n        var handler = e;\n\n        _this.on(eventName, handler);\n\n        _this.eventHandlers.push({\n          name: eventName,\n          handler: handler\n        });\n      }\n    });\n  };\n\n  Layer.prototype.getLayerBBox = function () {\n    return new G.BBox(this.x, this.y, this.width, this.height);\n  };\n\n  Layer.prototype.getLayerRegion = function () {\n    if (this.parent) {\n      var parentWidth = this.parent.width;\n      var parentHeight = this.parent.height;\n      var parentX = this.parent.x;\n      var parentY = this.parent.y;\n      var startX = (this.x - parentX) / parentWidth;\n      var startY = (this.y - parentY) / parentHeight;\n      var endX = (this.x + this.width - parentX) / parentWidth;\n      var endY = (this.y + this.height - parentY) / parentHeight;\n      return {\n        start: {\n          x: startX,\n          y: startY\n        },\n        end: {\n          x: endX,\n          y: endY\n        }\n      };\n    }\n\n    return {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 1,\n        y: 1\n      }\n    };\n  };\n\n  return Layer;\n}(EventEmitter);\n\nexport default Layer;","var _a;\n/**\n * @description 图表默认主题\n */\n\n\nimport * as _ from '@antv/util';\nvar DEFAULT_COLOR = '#1890FF';\nvar COLOR_PLATE_10 = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'];\nvar COLOR_PLATE_20 = ['#5B8FF9', '#BDD2FD', '#5AD8A6', '#BDEFDB', '#5D7092', '#C2C8D5', '#F6BD16', '#FBE5A2', '#E8684A', '#F6C3B7', '#6DC8EC', '#B6E3F5', '#9270CA', '#D3C6EA', '#FF9D4D', '#FFD8B8', '#269A99', '#AAD8D8', '#FF99C3', '#FFD6E7']; // tslint:disable-next-line\n\nvar FONT_FAMILY = '\"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",SimSun, \"sans-serif\"'; // tooltip 相关 dom 的 css 类名\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nvar SHAPE_STYLE = {\n  area: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 0.6\n  },\n  hollowArea: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  box: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 1,\n    fill: null\n  },\n  edge: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 1,\n    fill: null\n  },\n  interval: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 0.85\n  },\n  hollowInterval: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  kline: {\n    fill: DEFAULT_COLOR,\n    lineWidth: 1,\n    stroke: DEFAULT_COLOR\n  },\n  line: {\n    stroke: DEFAULT_COLOR,\n    lineWidth: 2,\n    fill: null\n  },\n  polygon: {\n    lineWidth: 0,\n    fill: DEFAULT_COLOR,\n    fillOpacity: 1\n  },\n  hollowPolygon: {\n    fill: '#fff',\n    stroke: DEFAULT_COLOR,\n    fillOpacity: 0,\n    lineWidth: 2\n  },\n  point: {\n    lineWidth: 1,\n    fill: DEFAULT_COLOR,\n    radius: 4\n  },\n  hollowPoint: {\n    fill: '#fff',\n    lineWidth: 1,\n    stroke: DEFAULT_COLOR,\n    radius: 3\n  },\n  text: {\n    fill: DEFAULT_COLOR,\n    textAlign: 'center',\n    textBaseline: 'middle'\n  }\n};\n\nvar OPACITY_ACTIVE_STYLE = function OPACITY_ACTIVE_STYLE(style) {\n  var opacity = style.fillOpacity || style.opacity || 1;\n  return {\n    fillOpacity: _.clamp(opacity - 0.15, 0.1, 1),\n    strokeOpacity: _.clamp(opacity - 0.15, 0.1, 1)\n  };\n};\n\nvar LINEWIDTH_ACTIVE_STYLE = function LINEWIDTH_ACTIVE_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 1\n  };\n};\n\nvar FILLOPACITY_ACTIVE_STYLE = function FILLOPACITY_ACTIVE_STYLE(style) {\n  var fillOpacity = style.fillOpacity || style.opacity || 1;\n  return {\n    fillOpacity: _.clamp(fillOpacity - 0.15, 0.1, 1)\n  };\n};\n\nvar POINT_ACTIVE_STYLE = function POINT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar HOLLOW_POINT_ACTIVE_STYLE = function HOLLOW_POINT_ACTIVE_STYLE(style) {\n  var color = style.stroke || style.strokeStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar TEXT_ACTIVE_STYLE = function TEXT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  return {\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n}; // 坐标轴的通用配置\n\n\nvar DEFAULT_AXIS_CONFIG = {\n  autoRotateLabel: true,\n  autoHideLabel: false,\n  autoRotateTitle: true,\n  showTitle: false,\n  gridType: 'line',\n  title: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#ccc',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY,\n      textAlign: 'center'\n    },\n    offset: 20\n  },\n  label: {\n    offset: 16,\n    textStyle: {\n      fill: '#545454',\n      fontSize: 12,\n      lineHeight: 16,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  line: {\n    lineWidth: 1,\n    stroke: '#BFBFBF'\n  },\n  tickLine: {\n    lineWidth: 1,\n    stroke: '#BFBFBF',\n    length: 4,\n    alignWithLabel: true\n  },\n  grid: {\n    stroke: '#E9E9E9',\n    lineWidth: 1,\n    lineDash: [3, 3]\n  }\n}; // 图例的通用配置\n\nvar DEFAULT_LEGEND_CONFIG = {\n  showTitle: false,\n  textStyle: {\n    fill: '#8C8C8C',\n    fontSize: 12,\n    textAlign: 'start',\n    textBaseline: 'middle',\n    lineHeight: 20,\n    fontFamily: FONT_FAMILY\n  },\n  unSelectedColor: '#bfbfbf',\n  titleStyle: {\n    fill: '#333',\n    textBaseline: 'top',\n    textAlign: 'start',\n    fontFamily: FONT_FAMILY\n  },\n  flipPage: true\n};\nvar Theme = {\n  pixelRatio: null,\n  defaultColor: DEFAULT_COLOR,\n  padding: [20, 20, 95, 80],\n  fontFamily: FONT_FAMILY,\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  shapes: {\n    point: ['hollowCircle', 'hollowSquare', 'hollowDiamond', 'hollowBowtie', 'hollowTriangle', 'hollowHexagon', 'cross', 'tick', 'plus', 'hyphen', 'line'],\n    line: ['line', 'dash', 'dot'],\n    area: ['area']\n  },\n  sizes: [1, 10],\n  opacities: [0.1, 0.9],\n  backgroundStyle: {\n    fill: 'rgba(255,255,255,0)'\n  },\n  axis: {\n    top: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'top',\n      grid: null\n    }),\n    bottom: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'bottom',\n      grid: null\n    }),\n    left: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'left',\n      label: {\n        offset: 8\n      },\n      line: null,\n      tickLine: null\n    }),\n    right: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      position: 'right',\n      label: {\n        offset: 8\n      },\n      line: null,\n      tickLine: null\n    }),\n    circle: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: {\n        offset: 8,\n        textStyle: {\n          textBaseline: 'alphabetic'\n        }\n      }\n    }),\n    radius: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: {\n        offset: 12\n      },\n      gridType: 'arc'\n    }),\n    helix: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n      label: null,\n      grid: null\n    })\n  },\n  label: {\n    offset: 20,\n    textStyle: {\n      fill: '#545454',\n      fontSize: 12,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  treemapLabels: {\n    offset: 10,\n    textStyle: {\n      fill: '#fff',\n      fontSize: 12,\n      textBaseline: 'top',\n      fontStyle: 'bold',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  innerLabels: {\n    textStyle: {\n      fill: '#fff',\n      fontSize: 12,\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    }\n  },\n  // 在theta坐标系下的饼图文本内部的样式\n  thetaLabels: {\n    labelHeight: 14,\n    offset: 30,\n    labelLine: {\n      lineWidth: 1\n    }\n  },\n  defaultLegendPosition: 'bottom',\n  legend: {\n    right: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'right',\n      layout: 'vertical',\n      itemMarginBottom: 8,\n      textStyle: {\n        lineHeight: 0\n      }\n    }),\n    left: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'left',\n      layout: 'vertical',\n      itemMarginBottom: 8\n    }),\n    top: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'top',\n      layout: 'horizontal',\n      itemDistance: 10\n    }),\n    bottom: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n      position: 'bottom',\n      layout: 'horizontal',\n      itemDistance: 10\n    }),\n    // 定义 html 渲染图例的样式\n    html: {\n      position: 'bottom',\n      layout: 'horizontal',\n      showTitle: false,\n      unSelectedColor: '#bfbfbf',\n      backgroundStyle: {\n        height: 'auto',\n        width: 'auto',\n        position: 'absolute',\n        overflow: 'auto',\n        fontSize: '12px',\n        fontFamily: FONT_FAMILY,\n        lineHeight: '20px',\n        color: '#8C8C8C'\n      },\n      titleStyle: {\n        marginBottom: '4px'\n      },\n      listStyle: {\n        listStyleType: 'none',\n        margin: 0,\n        padding: 0\n      },\n      itemStyle: {\n        cursor: 'pointer',\n        marginBottom: '5px',\n        marginRight: '24px'\n      },\n      markerStyle: {\n        width: '9px',\n        height: '9px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n        verticalAlign: 'middle'\n      }\n    },\n    margin: [0, 24, 24, 24],\n    legendMargin: 24\n  },\n  tooltip: (_a = {\n    useHtml: true\n  }, // css style for tooltip\n  _a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n    position: 'absolute',\n    display: 'none',\n    // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n    // whiteSpace: 'nowrap',\n    zIndex: 8,\n    // tslint:disable-next-line\n    transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n    boxShadow: '0px 0px 10px #aeaeae',\n    borderRadius: '3px',\n    color: 'rgb(87, 87, 87)',\n    fontSize: '12px',\n    fontFamily: FONT_FAMILY,\n    lineHeight: '20px',\n    padding: '10px 10px 6px 10px'\n  }, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n    marginBottom: '4px'\n  }, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n    margin: 0,\n    listStyleType: 'none',\n    padding: 0\n  }, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n    marginBottom: '4px',\n    listStyleType: 'none',\n    padding: 0,\n    marginTop: 0,\n    marginLeft: 0,\n    marginRight: 0\n  }, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n    width: '5px',\n    height: '5px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px'\n  }, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n    display: 'inline-block',\n    float: 'right',\n    marginLeft: '30px'\n  }, _a),\n  tooltipMarker: {\n    symbol: function symbol(x, y, r) {\n      return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n    },\n    stroke: '#fff',\n    shadowBlur: 10,\n    shadowOffsetX: 0,\n    shadowOffSetY: 0,\n    shadowColor: 'rgba(0,0,0,0.09)',\n    lineWidth: 2,\n    radius: 4\n  },\n  tooltipCrosshairsRect: {\n    type: 'rect',\n    rectStyle: {\n      fill: '#CCD6EC',\n      opacity: 0.3\n    }\n  },\n  tooltipCrosshairsLine: {\n    lineStyle: {\n      stroke: 'rgba(0, 0, 0, 0.25)',\n      lineWidth: 1\n    }\n  },\n  annotation: {\n    line: {\n      line: {\n        style: {\n          stroke: 'rgba(0, 0, 0, .65)',\n          lineDash: [2, 2],\n          lineWidth: 1\n        }\n      },\n      text: {\n        position: 'start',\n        autoRotate: true,\n        style: {\n          fill: 'rgba(0, 0, 0, .45)',\n          fontSize: 12,\n          textAlign: 'start',\n          fontFamily: FONT_FAMILY,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    text: {\n      top: true,\n      style: {\n        fill: 'rgba(0,0,0,.5)',\n        fontSize: 12,\n        textBaseline: 'middle',\n        textAlign: 'start',\n        fontFamily: FONT_FAMILY\n      }\n    },\n    region: {\n      top: false,\n      style: {\n        lineWidth: 0,\n        fill: '#000',\n        fillOpacity: 0.04\n      }\n    },\n    html: {\n      alignX: 'middle',\n      alignY: 'middle'\n    },\n    dataRegion: {\n      region: {\n        style: {\n          lineWidth: 0,\n          fill: '#000000',\n          opacity: 0.04\n        }\n      },\n      text: {\n        style: {\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, .65)'\n        }\n      }\n    },\n    dataMarker: {\n      top: true,\n      direction: 'upward',\n      autoAdjust: true,\n      text: {\n        display: true,\n        style: {\n          fill: 'rgba(0, 0, 0, .65)',\n          opacity: 1,\n          fontSize: 12,\n          textAlign: 'start'\n        }\n      },\n      line: {\n        display: true,\n        lineLength: 20,\n        style: {\n          stroke: '#A3B1BF',\n          lineWidth: 1\n        }\n      },\n      point: {\n        display: true,\n        style: {\n          r: 3,\n          fill: '#FFFFFF',\n          stroke: '#1890FF',\n          lineWidth: 2\n        }\n      }\n    }\n  },\n  shape: {\n    area: {\n      area: {\n        default: SHAPE_STYLE.area,\n        active: OPACITY_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.area,\n        active: OPACITY_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowArea,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smoothLine: {\n        default: SHAPE_STYLE.hollowArea,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    box: {\n      box: {\n        default: SHAPE_STYLE.box,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    edge: {\n      line: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vhv: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      arc: {\n        default: SHAPE_STYLE.edge,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    interval: {\n      rect: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      hollowInterval: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      tick: {\n        default: SHAPE_STYLE.hollowInterval,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      funnel: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      pyramid: {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      'top-line': {\n        default: SHAPE_STYLE.interval,\n        active: FILLOPACITY_ACTIVE_STYLE\n      }\n    },\n    kline: {\n      kline: {\n        default: SHAPE_STYLE.kline,\n        active: OPACITY_ACTIVE_STYLE\n      }\n    },\n    line: {\n      line: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      dot: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      dash: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      smooth: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      hv: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vh: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      hvh: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      },\n      vhv: {\n        default: SHAPE_STYLE.line,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    polygon: {\n      polygon: {\n        default: SHAPE_STYLE.polygon,\n        active: FILLOPACITY_ACTIVE_STYLE\n      },\n      hollow: {\n        default: SHAPE_STYLE.hollowPolygon,\n        active: LINEWIDTH_ACTIVE_STYLE\n      }\n    },\n    point: {\n      circle: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      square: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      bowtie: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      diamond: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      hexagon: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      triangle: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      triangleDown: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      hollowCircle: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowSquare: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowBowtie: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowDiamond: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowHexagon: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowTriangle: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hollowTriangleDown: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      cross: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      tick: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      plus: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      hyphen: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      line: {\n        default: SHAPE_STYLE.hollowPoint,\n        active: HOLLOW_POINT_ACTIVE_STYLE\n      },\n      rect: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      image: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      },\n      path: {\n        default: SHAPE_STYLE.point,\n        active: POINT_ACTIVE_STYLE\n      }\n    },\n    text: {\n      text: {\n        default: SHAPE_STYLE.text,\n        active: TEXT_ACTIVE_STYLE\n      }\n    }\n  }\n};\nexport default Theme;","var THEME_MAP = {}; // 主题映射\n\n/**\n * 获取对应的主题\n * @param type\n */\n\nexport var getTheme = function getTheme(type) {\n  return THEME_MAP[type.toLowerCase()];\n};\n/**\n * 注册主题\n * @param type\n * @param theme\n */\n\nexport var registerTheme = function registerTheme(type, theme) {\n  if (getTheme(type)) {\n    throw new Error(\"Theme type '\" + type + \"' existed.\");\n  }\n\n  THEME_MAP[type.toLowerCase()] = theme;\n};","import { registerTheme } from './factory';\nimport DefaultTheme from './default';\nregisterTheme('default', DefaultTheme); // 注册默认的主题\n\nexport * from './factory';","/**\n * @description 全局变量\n */\nimport * as _ from '@antv/util'; // @ts-ignore\n\nimport * as pkg from '../package.json';\nimport { getTheme } from './theme';\nvar Global = {\n  version: pkg.version,\n  renderer: 'canvas',\n  width: 640,\n  height: 480,\n  pixelRatio: null,\n  animate: true,\n  widthRatio: {\n    // 宽度所占的分类的比例\n    column: 1 / 2,\n    rose: 0.9999999,\n    multiplePie: 1 / 1.3\n  },\n  theme: getTheme('default'),\n  setTheme: function setTheme(type) {\n    var newTheme = {};\n\n    if (_.isObject(type)) {\n      newTheme = type;\n    } else if (getTheme(type)) {\n      newTheme = getTheme(type);\n    } else {\n      newTheme = getTheme('default');\n    } // @ts-ignore\n\n\n    _.deepMix(Global.theme, newTheme);\n  }\n};\nexport default Global;\nexport var setTheme = Global.setTheme;\nexport var version = Global.version;","import { __assign, __extends } from \"tslib\";\n/**\n * @description 基础基类\n */\n\nimport EventEmitter from '@antv/event-emitter';\n\nvar Base =\n/** @class */\nfunction (_super) {\n  __extends(Base, _super);\n\n  function Base(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = {};\n    _this.destroyed = false;\n    _this.cfg = __assign({\n      visible: true\n    }, cfg);\n    return _this;\n  }\n\n  Base.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Base.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Base.prototype.show = function () {\n    var visible = this.get('visible');\n\n    if (!visible) {\n      this.set('visible', true);\n      this.changeVisible(true);\n    }\n  };\n\n  Base.prototype.hide = function () {\n    var visible = this.get('visible');\n\n    if (visible) {\n      this.set('visible', false);\n      this.changeVisible(false);\n    }\n  };\n\n  Base.prototype.destroy = function () {\n    this.cfg = {};\n    this.off(); // 接触所有的事件绑定\n\n    this.destroyed = true;\n  };\n\n  return Base;\n}(EventEmitter);\n\nexport default Base;","import * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\n\nmat3.translate = function (out, a, v) {\n  var transMat = new Array(9);\n  mat3.fromTranslation(transMat, v);\n  return mat3.multiply(out, transMat, a);\n};\n\nmat3.rotate = function (out, a, rad) {\n  var rotateMat = new Array(9);\n  mat3.fromRotation(rotateMat, rad);\n  return mat3.multiply(out, rotateMat, a);\n};\n\nmat3.scale = function (out, a, v) {\n  var scaleMat = new Array(9);\n  mat3.fromScaling(scaleMat, v);\n  return mat3.multiply(out, scaleMat, a);\n};\n\nmat3.transform = function (m, actions) {\n  var out = [].concat(m);\n\n  for (var i = 0, len = actions.length; i < len; i++) {\n    var action = actions[i];\n\n    switch (action[0]) {\n      case 't':\n        mat3.translate(out, out, [action[1], action[2]]);\n        break;\n\n      case 's':\n        mat3.scale(out, out, [action[1], action[2]]);\n        break;\n\n      case 'r':\n        mat3.rotate(out, out, action[1]);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return out;\n};\n\nexport default mat3;","import * as vec2 from '@antv/gl-matrix/lib/gl-matrix/vec2';\nimport { clamp } from '@antv/util';\n\nvec2.angle = function (v1, v2) {\n  var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n  return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\n\n\nvec2.direction = function (v1, v2) {\n  return v1[0] * v2[1] - v2[0] * v1[1];\n};\n\nvec2.angleTo = function (v1, v2, direct) {\n  var angle = vec2.angle(v1, v2);\n  var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n\n  if (direct) {\n    if (angleLargeThanPI) {\n      return Math.PI * 2 - angle;\n    }\n\n    return angle;\n  }\n\n  if (angleLargeThanPI) {\n    return angle;\n  }\n\n  return Math.PI * 2 - angle;\n};\n\nvec2.vertical = function (out, v, flag) {\n  if (flag) {\n    out[0] = v[1];\n    out[1] = -1 * v[0];\n  } else {\n    out[0] = -1 * v[1];\n    out[1] = v[0];\n  }\n\n  return out;\n};\n\nexport default vec2;","import * as vec3 from '@antv/gl-matrix/lib/gl-matrix/vec3';\nexport default vec3;","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n  var d = []; // @ts-ignore\n\n  for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n    var p = [{\n      x: +crp[i - 2],\n      y: +crp[i - 1]\n    }, {\n      x: +crp[i],\n      y: +crp[i + 1]\n    }, {\n      x: +crp[i + 2],\n      y: +crp[i + 3]\n    }, {\n      x: +crp[i + 4],\n      y: +crp[i + 5]\n    }];\n\n    if (z) {\n      if (!i) {\n        p[0] = {\n          x: +crp[iLen - 2],\n          y: +crp[iLen - 1]\n        };\n      } else if (iLen - 4 === i) {\n        p[3] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n      } else if (iLen - 2 === i) {\n        p[2] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n        p[3] = {\n          x: +crp[2],\n          y: +crp[3]\n        };\n      }\n    } else {\n      if (iLen - 4 === i) {\n        p[3] = p[2];\n      } else if (!i) {\n        p[0] = {\n          x: +crp[i],\n          y: +crp[i + 1]\n        };\n      }\n    }\n\n    d.push(['C', (-p[0].x + 6 * p[1].x + p[2].x) / 6, (-p[0].y + 6 * p[1].y + p[2].y) / 6, (p[1].x + 6 * p[2].x - p[3].x) / 6, (p[1].y + 6 * p[2].y - p[3].y) / 6, p[2].x, p[2].y]);\n  }\n\n  return d;\n}","import isArray from '@antv/util/lib/is-array';\nvar SPACES = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\";\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig'); // Parses given path string into an array of arrays of path segments\n\nexport default function parsePathString(pathString) {\n  if (!pathString) {\n    return null;\n  }\n\n  if (isArray(pathString)) {\n    return pathString;\n  }\n\n  var paramCounts = {\n    a: 7,\n    c: 6,\n    o: 2,\n    h: 1,\n    l: 2,\n    m: 2,\n    r: 4,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    u: 3,\n    z: 0\n  };\n  var data = [];\n  String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n    var params = [];\n    var name = b.toLowerCase();\n    c.replace(PATH_VALUES, function (a, b) {\n      b && params.push(+b);\n    });\n\n    if (name === 'm' && params.length > 2) {\n      data.push([b].concat(params.splice(0, 2)));\n      name = 'l';\n      b = b === 'm' ? 'l' : 'L';\n    }\n\n    if (name === 'o' && params.length === 1) {\n      data.push([b, params[0]]);\n    }\n\n    if (name === 'r') {\n      data.push([b].concat(params));\n    } else {\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    }\n\n    return '';\n  });\n  return data;\n}","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\n\nfunction toSymmetry(p, c) {\n  return [c[0] + (c[0] - p[0]), c[1] + (c[1] - p[1])];\n}\n\nexport default function pathToAbsolute(pathString) {\n  var pathArray = parsePathString(pathString);\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var needProcess = false; // 如果存在小写的命令或者 V,H,T,S 则需要处理\n\n  for (var i = 0; i < pathArray.length; i++) {\n    var cmd = pathArray[i][0]; // 如果存在相对位置的命令，则中断返回\n\n    if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n      needProcess = true;\n      break;\n    }\n  } // 如果不存在相对命令，则直接返回\n  // 如果在业务上都写绝对路径，这种方式最快，仅做了一次检测\n\n\n  if (!needProcess) {\n    return pathArray;\n  }\n\n  var res = [];\n  var x = 0;\n  var y = 0;\n  var mx = 0;\n  var my = 0;\n  var start = 0;\n  var pa0;\n  var dots;\n  var first = pathArray[0];\n\n  if (first[0] === 'M' || first[0] === 'm') {\n    x = +first[1];\n    y = +first[2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var i = start, ii = pathArray.length; i < ii; i++) {\n    var pa = pathArray[i];\n    var preParams = res[i - 1]; // 取前一个已经处理后的节点，否则会出现问题\n\n    var r = [];\n    var cmd = pa[0];\n    var upCmd = cmd.toUpperCase();\n\n    if (cmd !== upCmd) {\n      r[0] = upCmd;\n\n      switch (upCmd) {\n        case 'A':\n          r[1] = pa[1];\n          r[2] = pa[2];\n          r[3] = pa[3];\n          r[4] = pa[4];\n          r[5] = pa[5];\n          r[6] = +pa[6] + x;\n          r[7] = +pa[7] + y;\n          break;\n\n        case 'V':\n          r[1] = +pa[1] + y;\n          break;\n\n        case 'H':\n          r[1] = +pa[1] + x;\n          break;\n\n        case 'M':\n          mx = +pa[1] + x;\n          my = +pa[2] + y;\n          break;\n        // for lint\n\n        default:\n          for (var j = 1, jj = pa.length; j < jj; j++) {\n            r[j] = +pa[j] + (j % 2 ? x : y);\n          }\n\n      }\n    } else {\n      // 如果本来已经大写，则不处理\n      r = pathArray[i];\n    } // 需要在外面统一做，同时处理 V,H,S,T 等特殊指令\n\n\n    switch (upCmd) {\n      case 'Z':\n        x = +mx;\n        y = +my;\n        break;\n\n      case 'H':\n        x = r[1];\n        r = ['L', x, y];\n        break;\n\n      case 'V':\n        y = r[1];\n        r = ['L', x, y];\n        break;\n\n      case 'T':\n        x = r[1];\n        y = r[2]; // 以 x, y 为中心的，上一个控制点的对称点\n        // 需要假设上一个节点的命令为 Q\n\n        var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n        r = ['Q', symetricT[0], symetricT[1], x, y];\n        break;\n\n      case 'S':\n        x = r[r.length - 2];\n        y = r[r.length - 1]; // 以 x,y 为中心，取上一个控制点，\n        // 需要假设上一个线段为 C 或者 S\n\n        var length_1 = preParams.length;\n        var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n        r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n        break;\n\n      case 'M':\n        mx = r[r.length - 2];\n        my = r[r.length - 1];\n        break;\n      // for lint\n\n      default:\n        x = r[r.length - 2];\n        y = r[r.length - 1];\n    }\n\n    res.push(r);\n  }\n\n  return res;\n}","import path2Absolute from './path-2-absolute';\n\nvar a2c = function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  if (rx === ry) {\n    rx += 1;\n  }\n\n  var _120 = Math.PI * 120 / 180;\n\n  var rad = Math.PI / 180 * (+angle || 0);\n  var res = [];\n  var xy;\n  var f1;\n  var f2;\n  var cx;\n  var cy;\n\n  var rotate = function rotate(x, y, rad) {\n    var X = x * Math.cos(rad) - y * Math.sin(rad);\n    var Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return {\n      x: X,\n      y: Y\n    };\n  };\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    if (x1 === x2 && y1 === y2) {\n      // 若弧的起始点和终点重叠则错开一点\n      x2 += 1;\n      y2 += 1;\n    } // const cos = Math.cos(Math.PI / 180 * angle);\n    // const sin = Math.sin(Math.PI / 180 * angle);\n\n\n    var x = (x1 - x2) / 2;\n    var y = (y1 - y2) / 2;\n    var h = x * x / (rx * rx) + y * y / (ry * ry);\n\n    if (h > 1) {\n      h = Math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx;\n    var ry2 = ry * ry;\n    var k = (large_arc_flag === sweep_flag ? -1 : 1) * Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n    cx = k * rx * y / ry + (x1 + x2) / 2;\n    cy = k * -ry * x / rx + (y1 + y2) / 2;\n    f1 = Math.asin(Number(((y1 - cy) / ry).toFixed(9)));\n    f2 = Math.asin(Number(((y2 - cy) / ry).toFixed(9)));\n    f1 = x1 < cx ? Math.PI - f1 : f1;\n    f2 = x2 < cx ? Math.PI - f2 : f2;\n    f1 < 0 && (f1 = Math.PI * 2 + f1);\n    f2 < 0 && (f2 = Math.PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - Math.PI * 2;\n    }\n\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - Math.PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (Math.abs(df) > _120) {\n    var f2old = f2;\n    var x2old = x2;\n    var y2old = y2;\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * Math.cos(f2);\n    y2 = cy + ry * Math.sin(f2);\n    res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n  var c1 = Math.cos(f1);\n  var s1 = Math.sin(f1);\n  var c2 = Math.cos(f2);\n  var s2 = Math.sin(f2);\n  var t = Math.tan(df / 4);\n  var hx = 4 / 3 * rx * t;\n  var hy = 4 / 3 * ry * t;\n  var m1 = [x1, y1];\n  var m2 = [x1 + hx * s1, y1 - hy * c1];\n  var m3 = [x2 + hx * s2, y2 - hy * c2];\n  var m4 = [x2, y2];\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  }\n\n  res = [m2, m3, m4].concat(res).join().split(',');\n  var newres = [];\n\n  for (var i = 0, ii = res.length; i < ii; i++) {\n    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n  }\n\n  return newres;\n};\n\nvar l2c = function l2c(x1, y1, x2, y2) {\n  return [x1, y1, x2, y2, x2, y2];\n};\n\nvar q2c = function q2c(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3;\n\n  var _23 = 2 / 3;\n\n  return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\n\nexport default function pathTocurve(path, path2) {\n  var p = path2Absolute(path);\n  var p2 = path2 && path2Absolute(path2);\n  var attrs = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var attrs2 = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var pcoms1 = []; // path commands of original path p\n\n  var pcoms2 = []; // path commands of original path p2\n\n  var pfirst = ''; // temporary holder for original path command\n\n  var pcom = ''; // holder for previous path command of original path\n\n  var ii;\n\n  var processPath = function processPath(path, d, pcom) {\n    var nx, ny;\n\n    if (!path) {\n      return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n    }\n\n    !(path[0] in {\n      T: 1,\n      Q: 1\n    }) && (d.qx = d.qy = null);\n\n    switch (path[0]) {\n      case 'M':\n        d.X = path[1];\n        d.Y = path[2];\n        break;\n\n      case 'A':\n        path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n        break;\n\n      case 'S':\n        if (pcom === 'C' || pcom === 'S') {\n          // In \"S\" case we have to take into account, if the previous command is C/S.\n          nx = d.x * 2 - d.bx; // And reflect the previous\n\n          ny = d.y * 2 - d.by; // command's control point relative to the current point.\n        } else {\n          // or some else or nothing\n          nx = d.x;\n          ny = d.y;\n        }\n\n        path = ['C', nx, ny].concat(path.slice(1));\n        break;\n\n      case 'T':\n        if (pcom === 'Q' || pcom === 'T') {\n          // In \"T\" case we have to take into account, if the previous command is Q/T.\n          d.qx = d.x * 2 - d.qx; // And make a reflection similar\n\n          d.qy = d.y * 2 - d.qy; // to case \"S\".\n        } else {\n          // or something else or nothing\n          d.qx = d.x;\n          d.qy = d.y;\n        }\n\n        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n        break;\n\n      case 'Q':\n        d.qx = path[1];\n        d.qy = path[2];\n        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n        break;\n\n      case 'L':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n        break;\n\n      case 'H':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n        break;\n\n      case 'V':\n        path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n        break;\n\n      case 'Z':\n        path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n        break;\n\n      default:\n        break;\n    }\n\n    return path;\n  };\n\n  var fixArc = function fixArc(pp, i) {\n    if (pp[i].length > 7) {\n      pp[i].shift();\n      var pi = pp[i];\n\n      while (pi.length) {\n        pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n\n        p2 && (pcoms2[i] = 'A'); // the same as above\n\n        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n      }\n\n      pp.splice(i, 1);\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n\n  var fixM = function fixM(path1, path2, a1, a2, i) {\n    if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n      path2.splice(i, 0, ['M', a2.x, a2.y]);\n      a1.bx = 0;\n      a1.by = 0;\n      a1.x = path1[i][1];\n      a1.y = path1[i][2];\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n\n  ii = Math.max(p.length, p2 && p2.length || 0);\n\n  for (var i = 0; i < ii; i++) {\n    p[i] && (pfirst = p[i][0]); // save current path command\n\n    if (pfirst !== 'C') {\n      // C is not saved yet, because it may be result of conversion\n      pcoms1[i] = pfirst; // Save current path command\n\n      i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n    }\n\n    p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n    if (pcoms1[i] !== 'A' && pfirst === 'C') pcoms1[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n    if (p2) {\n      // the same procedures is done to p2\n      p2[i] && (pfirst = p2[i][0]);\n\n      if (pfirst !== 'C') {\n        pcoms2[i] = pfirst;\n        i && (pcom = pcoms2[i - 1]);\n      }\n\n      p2[i] = processPath(p2[i], attrs2, pcom);\n\n      if (pcoms2[i] !== 'A' && pfirst === 'C') {\n        pcoms2[i] = 'C';\n      }\n\n      fixArc(p2, i);\n    }\n\n    fixM(p, p2, attrs, attrs2, i);\n    fixM(p2, p, attrs2, attrs, i);\n    var seg = p[i];\n    var seg2 = p2 && p2[i];\n    var seglen = seg.length;\n    var seg2len = p2 && seg2.length;\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n    attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n    attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n    attrs2.x = p2 && seg2[seg2len - 2];\n    attrs2.y = p2 && seg2[seg2len - 1];\n  }\n\n  return p2 ? [p, p2] : p;\n}","import * as _ from '@antv/util';\nimport { mat3 } from '@antv/matrix-util';\nimport { Shapes } from '@antv/g';\nexport function getAnimateParam(animateCfg, index, id) {\n  return {\n    delay: _.isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay,\n    easing: _.isFunction(animateCfg.easing) ? animateCfg.easing(index, id) : animateCfg.easing,\n    duration: _.isFunction(animateCfg.duration) ? animateCfg.duration(index, id) : animateCfg.duration,\n    callback: animateCfg.callback\n  };\n}\nexport function getCoordRange(coord) {\n  var start = coord.start,\n      end = coord.end;\n  return {\n    start: start,\n    end: end,\n    width: coord.getWidth(),\n    height: coord.getWidth()\n  };\n}\nexport function getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var margin = 200;\n  var clip;\n\n  if (coord.isPolar) {\n    var startAngle = coord.startAngle,\n        endAngle = coord.endAngle;\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    clip = new Shapes.Fan({\n      attrs: {\n        x: center.x,\n        y: center.y,\n        rs: 0,\n        re: radius + margin,\n        startAngle: startAngle,\n        endAngle: startAngle\n      }\n    });\n    clip.endState = {\n      endAngle: endAngle\n    };\n  } else {\n    clip = new Shapes.Rect({\n      attrs: {\n        x: start.x - margin,\n        y: end.y - margin,\n        width: coord.isTransposed ? width + margin * 2 : 0,\n        height: coord.isTransposed ? 0 : height + margin * 2\n      }\n    });\n\n    if (coord.isTransposed) {\n      clip.endState = {\n        height: height + margin * 2\n      };\n    } else {\n      clip.endState = {\n        width: width + margin * 2\n      };\n    }\n  }\n\n  clip.set('isClip', true);\n  return clip;\n}\nexport function getScaledMatrix(shape, v, direct) {\n  var scaledMatrix;\n  shape.apply(v);\n  var x = v[0];\n  var y = v[1];\n\n  if (direct === 'x') {\n    shape.transform([['t', -x, -y], ['s', 0.01, 1], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 100, 1], ['t', x, y]]);\n  } else if (direct === 'y') {\n    shape.transform([['t', -x, -y], ['s', 1, 0.01], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 1, 100], ['t', x, y]]);\n  } else if (direct === 'xy') {\n    shape.transform([['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]);\n    var matrix = shape.getMatrix();\n    scaledMatrix = mat3.transform(matrix, [['t', -x, -y], ['s', 100, 100], ['t', x, y]]);\n  }\n\n  return scaledMatrix;\n}\nexport function doAnimation(shape, endState, animateCfg) {\n  var id = shape.id;\n  var index = shape.get('index');\n\n  var _a = getAnimateParam(animateCfg, index, id),\n      easing = _a.easing,\n      delay = _a.delay,\n      duration = _a.duration,\n      callback = _a.callback;\n\n  shape.animate(endState, duration, easing, callback, delay);\n}\nexport function doGroupScaleIn(container, animateCfg, coord, zeroY, type) {\n  var _a = getCoordRange(coord),\n      start = _a.start,\n      end = _a.end,\n      width = _a.width,\n      height = _a.height;\n\n  var x;\n  var y;\n  var clip = new Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = zeroY.y < start.y ? zeroY.y : start.y;\n  } else if (type === 'x') {\n    x = zeroY.x > start.x ? zeroY.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coord.isPolar) {\n      x = coord.getCenter().x;\n      y = coord.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  var endMatrix = getScaledMatrix(clip, [x, y, 1], type);\n  clip.set('isClip', true);\n  clip.set('canvas', container.get('canvas'));\n  container.attr('clip', clip);\n\n  animateCfg.callback = function () {\n    container.attr('clip', null);\n    clip.remove();\n  };\n\n  doAnimation(clip, {\n    matrix: endMatrix\n  }, animateCfg);\n}","/**\n * @fileOverview Default animation funciton\n */\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport { doAnimation, doGroupScaleIn, getClip, getScaledMatrix } from './util'; // 获取图形的包围盒\n\nfunction getPointsBox(points) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  var minX = points[0].x;\n  var maxX = points[0].x;\n  var minY = points[0].y;\n  var maxY = points[0].y;\n\n  _.each(points, function (point) {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX: minX,\n    maxX: maxX,\n    minY: minY,\n    maxY: maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2\n  };\n}\n\nfunction getAngle(shape, coord) {\n  var points = shape.points || shape.get('origin').points;\n  var box = getPointsBox(points);\n  var endAngle;\n  var startAngle;\n  var coordStartAngle = coord.startAngle;\n  var coordEndAngle = coord.endAngle;\n  var diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nfunction scaleInY(shape, animateCfg) {\n  var box = shape.getBBox();\n  var points = shape.get('origin').points;\n  var x = (box.minX + box.maxX) / 2;\n  var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'y')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction scaleInX(shape, animateCfg) {\n  var box = shape.getBBox();\n  var points = shape.get('origin').points;\n  var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  var y = (box.minY + box.maxY) / 2;\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'x')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction lineWidthOut(shape, animateCfg) {\n  var endState = {\n    lineWidth: 0,\n    opacity: 0\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction zoomIn(shape, animateCfg, coord) {\n  var x;\n  var y;\n\n  if (coord.isPolar && shape.name !== 'point') {\n    x = coord.getCenter().x;\n    y = coord.getCenter().y;\n  } else {\n    var box = shape.getBBox();\n    x = (box.minX + box.maxX) / 2;\n    y = (box.minY + box.maxY) / 2;\n  }\n\n  var endState = {\n    matrix: getScaledMatrix(shape, [x, y, 1], 'xy')\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction zoomOut(shape, animateCfg, coord) {\n  var x;\n  var y;\n\n  if (coord.isPolar && shape.name !== 'point') {\n    x = coord.getCenter().x;\n    y = coord.getCenter().y;\n  } else {\n    var box = shape.getBBox();\n    x = (box.minX + box.maxX) / 2;\n    y = (box.minY + box.maxY) / 2;\n  }\n\n  var v = [x, y, 1];\n  shape.apply(v);\n  var endState = {\n    transform: [['t', -x, -y], ['s', 0.01, 0.01], ['t', x, y]]\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction pathIn(shape, animateCfg) {\n  if (shape.get('type') !== 'path') {\n    return;\n  }\n\n  var path = pathUtil.path2Curve(shape.attr('path'));\n  shape.attr('path', [path[0]]);\n  var endState = {\n    path: path\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction pathOut(shape, animateCfg) {\n  if (shape.get('type') !== 'path') {\n    return;\n  }\n\n  var path = pathUtil.path2Curve(shape.attr('path'));\n  var endState = {\n    path: [path[0]]\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction clipIn(shape, animateCfg, coord, startAngle, endAngle) {\n  var clip = getClip(coord);\n  var canvas = shape.get('canvas');\n  var endState;\n\n  if (startAngle) {\n    // 指定了 startAngle 和 endAngle\n    clip.attr('startAngle', startAngle);\n    clip.attr('endAngle', startAngle);\n    endState = {\n      endAngle: endAngle\n    };\n  } else {\n    endState = clip.endState;\n  }\n\n  clip.set('canvas', canvas);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n\n  animateCfg.callback = function () {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n    }\n  };\n\n  doAnimation(clip, endState, animateCfg);\n}\n\nfunction fadeIn(shape, animateCfg) {\n  var fillOpacity = _.isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n  var strokeOpacity = _.isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('strokeOpacity', 0);\n  var endState = {\n    fillOpacity: fillOpacity,\n    strokeOpacity: strokeOpacity\n  };\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction fadeOut(shape, animateCfg) {\n  var endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0\n  };\n\n  animateCfg.callback = function () {\n    return shape.remove();\n  };\n\n  doAnimation(shape, endState, animateCfg);\n}\n\nfunction fanIn(shape, animateCfg, coord) {\n  var _a = getAngle(shape, coord),\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n\n  clipIn(shape, animateCfg, coord, startAngle, endAngle);\n}\n\nfunction groupScaleInX(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'x');\n}\n\nfunction groupScaleInY(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'y');\n}\n\nfunction groupScaleInXY(container, animateCfg, coord, zeroY) {\n  doGroupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n}\n\nfunction groupWaveIn(container, animateCfg, coord) {\n  var clip = getClip(coord);\n  clip.set('canvas', container.get('canvas'));\n  container.attr('clip', clip);\n\n  animateCfg.callback = function () {\n    container.attr('clip', null);\n    clip.remove();\n  };\n\n  var endState = clip.endState;\n  doAnimation(clip, endState, animateCfg);\n} // 默认动画库\n\n\nvar Action = {\n  enter: {\n    clipIn: clipIn,\n    zoomIn: zoomIn,\n    pathIn: pathIn,\n    scaleInY: scaleInY,\n    scaleInX: scaleInX,\n    fanIn: fanIn,\n    fadeIn: fadeIn\n  },\n  leave: {\n    lineWidthOut: lineWidthOut,\n    zoomOut: zoomOut,\n    pathOut: pathOut,\n    fadeOut: fadeOut,\n    fadeIn: fadeIn\n  },\n  appear: {\n    clipIn: clipIn,\n    zoomIn: zoomIn,\n    pathIn: pathIn,\n    scaleInY: scaleInY,\n    scaleInX: scaleInX,\n    fanIn: fanIn,\n    fadeIn: fadeIn,\n    groupWaveIn: groupWaveIn,\n    groupScaleInX: groupScaleInX,\n    groupScaleInY: groupScaleInY,\n    groupScaleInXY: groupScaleInXY\n  },\n  update: {\n    fadeIn: fadeIn,\n    fanIn: fanIn\n  }\n}; // 给每一个方法增加 name 属性，防止 function name 被 uglify 改掉。\n\n_.each(Action, function (v) {\n  _.each(v, function (animate, name) {\n    // @ts-ignore\n    animate.animationName = name;\n  });\n});\n\nexport default Action;","/**\n * @fileOverview Default animation configuration for elements\n */\nimport * as _ from '@antv/util';\nimport Action from './action';\nvar defaultAnimationCfg = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut'\n  },\n  update: {\n    duration: 450,\n    easing: 'easeQuadInOut'\n  },\n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n    delay: 100\n  },\n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn'\n  }\n};\nvar Animate = {\n  line: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  path: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  area: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    cfg: {\n      appear: {\n        duration: 500,\n        easing: 'easeQuadOut'\n      },\n      update: {\n        duration: 450,\n        easing: 'easeQuadInOut'\n      },\n      enter: {\n        duration: 600,\n        delay: 150,\n        easing: 'easeQuadInOut'\n      },\n      leave: {\n        easing: 'easeQuadOut',\n        duration: 350\n      }\n    }\n  },\n  polygon: {\n    appear: function appear() {\n      return Action.appear.fadeIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  edge: {\n    appear: function appear() {\n      return Action.appear.pathIn;\n    },\n    enter: function enter() {\n      return Action.enter.pathIn;\n    },\n    leave: function leave() {\n      return Action.leave.pathOut;\n    }\n  },\n  interval: {\n    appear: function appear(coord) {\n      var result;\n\n      if (coord.isPolar) {\n        // polar coordinate\n        result = Action.appear.groupScaleInXY;\n\n        if (coord.isTransposed) {\n          // pie chart\n          result = Action.appear.groupWaveIn;\n        }\n      } else {\n        result = coord.isTransposed ? Action.appear.groupScaleInX : Action.appear.groupScaleInY;\n      }\n\n      return result;\n    },\n    enter: function enter(coord) {\n      if (coord.isRect || coord.isTransposed || coord.type === 'theta') {\n        return Action.enter.fadeIn;\n      }\n\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.type === 'theta') {\n        return Action.update.fanIn; // TODO: G animate 接口支持 onFrame 属性之后可以改进饼图的更新动画\n      }\n    }\n  },\n  point: {\n    appear: function appear() {\n      return Action.appear.zoomIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  text: {\n    appear: function appear() {\n      return Action.appear.zoomIn;\n    },\n    enter: function enter() {\n      return Action.enter.zoomIn;\n    },\n    leave: function leave() {\n      return Action.leave.zoomOut;\n    }\n  },\n  kline: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  box: {\n    appear: function appear() {\n      return Action.appear.groupWaveIn;\n    },\n    enter: function enter() {\n      return Action.enter.clipIn;\n    },\n    leave: function leave() {\n      return Action.leave.lineWidthOut;\n    }\n  },\n  heatmap: null,\n  label: {\n    appear: function appear() {\n      return Action.appear.fadeIn;\n    },\n    enter: function enter() {\n      return Action.enter.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    cfg: {\n      appear: {\n        duration: 900\n      }\n    }\n  },\n  'axis-label': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-ticks': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-grid': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update(coord) {\n      if (coord.isPolar) {\n        return Action.appear.fadeIn;\n      }\n    }\n  },\n  'axis-grid-rect': {\n    enter: function enter() {\n      return Action.appear.fadeIn;\n    },\n    leave: function leave() {\n      return Action.leave.fadeOut;\n    },\n    update: function update() {\n      return Action.leave.fadeIn;\n    }\n  }\n};\nAnimate.Action = Action;\nAnimate.defaultCfg = defaultAnimationCfg; // 获取动画\n\nAnimate.getAnimation = function (elementType, coord, animationType) {\n  var elementAnimateCfg = this[elementType];\n\n  if (elementAnimateCfg) {\n    var animation = elementAnimateCfg[animationType];\n\n    if (_.isFunction(animation)) {\n      return animation(coord);\n    }\n  }\n\n  return false;\n}; // 获取动画配置\n\n\nAnimate.getAnimateCfg = function (elementType, animationType) {\n  var defaultCfg = defaultAnimationCfg[animationType];\n\n  if (this[elementType] && this[elementType].cfg && this[elementType].cfg[animationType]) {\n    return _.deepMix({}, defaultCfg, this[elementType].cfg[animationType]);\n  }\n\n  return defaultCfg;\n}; // 注册动画\n\n\nAnimate.registerAnimation = function (animationType, animationName, animationFun) {\n  if (!this.Action[animationType]) {\n    this.Action[animationType] = {};\n  }\n\n  this.Action[animationType][animationName] = animationFun;\n};\n\nexport default Animate;","import { mat3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Animate from './animate';\n/*\n * 获取图组内所有的shapes\n */\n\nfunction getShapes(container, viewId) {\n  var shapes = [];\n\n  if (container.get('animate') === false) {\n    return [];\n  }\n\n  var children = container.get('children');\n\n  _.each(children, function (child) {\n    // 这里child定义为Group|Shape后，tslint会报错。根源解决需要在g -> element类增加isGroup/isShape/id属性。这里暂时忽略tslint\n    // @ts-ignore\n    if (child.isGroup) {\n      // @ts-ignore\n      shapes = shapes.concat(getShapes(child, viewId)); // @ts-ignore\n    } else if (child.isShape && child.id) {\n      // @ts-ignore\n      var id = child.id;\n      id = id.split('-')[0];\n\n      if (id === viewId) {\n        shapes.push(child);\n      }\n    }\n  });\n\n  return shapes;\n}\n/**\n * collect shape info.\n * @param shapes\n */\n\n\nfunction cache(shapes) {\n  var rst = {};\n\n  _.each(shapes, function (shape) {\n    if (!shape.id || shape.get('isClip')) {\n      return;\n    }\n\n    var id = shape.id;\n    rst[id] = {\n      id: id,\n      type: shape.get('type'),\n      attrs: _.clone(shape.attr()),\n      // 原始属性\n      name: shape.name,\n      index: shape.get('index'),\n      animateCfg: shape.get('animateOptions'),\n      coord: shape.get('coord')\n    };\n  });\n\n  return rst;\n}\n\nfunction getAnimate(elementType, coord, animationType, animationName) {\n  var result = {};\n\n  if (animationName) {\n    result = Animate.Action[animationType][animationName];\n  } else {\n    result = Animate.getAnimation(elementType, coord, animationType);\n  }\n\n  return result;\n}\n\nfunction getAnimateCfg(elementType, animationType, animateCfg) {\n  // .animate(false) 或者 .animate({ appear: false });\n  if (animateCfg === false || _.isObject(animateCfg) && animateCfg[animationType] === false) {\n    return null;\n  }\n\n  var defaultCfg = Animate.getAnimateCfg(elementType, animationType);\n\n  if (animateCfg && animateCfg[animationType]) {\n    return _.deepMix({}, defaultCfg, animateCfg[animationType]);\n  }\n\n  return defaultCfg;\n}\n/**\n * canvas draw之前将动画配置添加到动画队列中。\n * @return canvasDrawn(boolean) 是否添加绘制成功\n */\n\n\nfunction addAnimate(shapeCache, shapes, canvas) {\n  var animate;\n  var animateCfg;\n  var canvasDrawn = false; // Step: leave -> update -> enter\n\n  var updateShapes = []; // 存储的是 shapes\n\n  var newShapes = []; // 存储的是 shapes\n\n  _.each(shapes, function (shape) {\n    var result = shapeCache[shape.id];\n\n    if (!result) {\n      newShapes.push(shape);\n    } else {\n      shape.setSilent('cacheShape', result);\n      updateShapes.push(shape);\n      delete shapeCache[shape.id];\n    }\n  });\n\n  _.each(shapeCache, function (deletedShape) {\n    var name = deletedShape.name,\n        coord = deletedShape.coord,\n        id = deletedShape.id,\n        attrs = deletedShape.attrs,\n        index = deletedShape.index,\n        type = deletedShape.type;\n    animateCfg = getAnimateCfg(name, 'leave', deletedShape.animateCfg);\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    animate = getAnimate(name, coord, 'leave', animateCfg.animation);\n\n    if (_.isFunction(animate)) {\n      var tempShape = canvas.addShape(type, {\n        attrs: attrs,\n        index: index\n      });\n      tempShape.id = id;\n      tempShape.name = name;\n\n      if (coord && name !== 'label') {\n        var tempShapeMatrix = tempShape.getMatrix();\n        var finalMatrix = mat3.multiply([], tempShapeMatrix, coord.matrix);\n        tempShape.setMatrix(finalMatrix);\n      }\n\n      canvasDrawn = true;\n      animate(tempShape, animateCfg, coord);\n    }\n  });\n\n  _.each(updateShapes, function (updateShape) {\n    var name = updateShape.name;\n    animateCfg = getAnimateCfg(name, 'update', updateShape.get('animateOptions'));\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    var coord = updateShape.get('coord');\n    var cacheAttrs = updateShape.get('cacheShape').attrs; // 判断如果属性相同的话就不进行变换\n\n    if (!_.isEqual(cacheAttrs, updateShape.attr())) {\n      animate = getAnimate(name, coord, 'update', animateCfg.animation);\n\n      if (_.isFunction(animate)) {\n        animate(updateShape, animateCfg, coord);\n      } else {\n        var endState = _.clone(updateShape.attr());\n\n        updateShape.attr(cacheAttrs);\n        updateShape.animate(endState, animateCfg.duration, animateCfg.easing, function () {\n          updateShape.setSilent('cacheShape', null);\n        });\n      }\n\n      canvasDrawn = true;\n    }\n  });\n\n  _.each(newShapes, function (newShape) {\n    var name = newShape.name;\n    var coord = newShape.get('coord');\n    animateCfg = getAnimateCfg(name, 'enter', newShape.get('animateOptions'));\n\n    if (!animateCfg) {\n      return true;\n    } // 用户关闭动画\n\n\n    animate = getAnimate(name, coord, 'enter', animateCfg.animation);\n\n    if (_.isFunction(animate)) {\n      animate(newShape, animateCfg, coord);\n      canvasDrawn = true;\n    }\n  });\n\n  return canvasDrawn;\n}\n/**\n * 动画模块唯一对外暴露接口\n * @param view\n * @param isUpdate\n */\n\n\nfunction execAnimation(view, isUpdate) {\n  var newIsUpdate = isUpdate; // eslint: no-param-reassign\n\n  var panelGroup = view.get('panelGroup');\n  var backgroundGroup = view.get('backgroundGroup');\n  var viewId = view.get('id');\n  var canvas = view.get('canvas');\n  var caches = canvas.get(viewId + \"caches\") || [];\n\n  if (caches.length === 0) {\n    newIsUpdate = false;\n  }\n\n  var shapes = getShapes(panelGroup, viewId);\n  var axisShapes = getShapes(backgroundGroup, viewId);\n  var cacheShapes = shapes.concat(axisShapes);\n  canvas.setSilent(viewId + \"caches\", cache(cacheShapes));\n  var drawn;\n\n  if (newIsUpdate) {\n    // 执行更新动画\n    drawn = addAnimate(caches, cacheShapes, canvas);\n  } else {\n    // 初入场动画\n    // drawn = addAnimate(caches, shapes, canvas, newIsUpdate);\n    var animateCfg_1;\n    var animate_1;\n    var elements = view.get('elements');\n    var coord_1 = view.get('coord');\n\n    _.each(elements, function (element) {\n      var type = element.get('type');\n      var elementAnimateOption = element.get('animateOptions');\n\n      if (elementAnimateOption !== false) {\n        // 用户为关闭动画\n        animateCfg_1 = getAnimateCfg(type, 'appear', elementAnimateOption);\n\n        if (!animateCfg_1) {\n          return true;\n        } // 用户关闭了初始动画\n\n\n        animate_1 = getAnimate(type, coord_1, 'appear', animateCfg_1.animation);\n\n        if (_.isFunction(animate_1)) {\n          if (animate_1.animationName.indexOf('group') === 0) {\n            // 执行全局动画\n            var yScale = element.getYScale();\n            var zeroY = coord_1.convertPoint({\n              x: 0,\n              y: yScale.scale(element.getYMinValue())\n            });\n            var container = element.get('container');\n            animate_1 && animate_1(container, animateCfg_1, coord_1, zeroY);\n          } else {\n            var shapeArr = getShapes(element.get('container'), viewId);\n\n            _.each(shapeArr, function (shape) {\n              if (shape.name === type) {\n                // element shapes 上的动画\n                animate_1(shape, animateCfg_1, coord_1);\n              } else if (shape.name === 'label') {\n                animateCfg_1 = getAnimateCfg('label', 'appear', null);\n                animate_1 = getAnimate(shape.name, coord_1, 'appear', animateCfg_1.animation);\n\n                if (_.isFunction(animate_1)) {\n                  animate_1(shape, animateCfg_1, coord_1);\n                }\n              }\n            });\n          }\n        }\n      }\n    });\n\n    drawn = true;\n  }\n\n  if (!drawn) {\n    canvas.draw();\n  }\n}\n\nexport default {\n  execAnimation: execAnimation\n};","var methodCache = {};\n/**\n * 获取计算 ticks 的方法\n * @param key 键值\n * @returns 计算 ticks 的方法\n */\n\nexport function getTickMethod(key) {\n  return methodCache[key];\n}\n/**\n * 注册计算 ticks 的方法\n * @param key 键值\n * @param method 方法\n */\n\nexport function registerTickMethod(key, method) {\n  methodCache[key] = method;\n}","import { assign, head, isEmpty, isFunction, isNil, isNumber, isObject, isString, last, map } from '@antv/util';\nimport { getTickMethod } from './tick-method/register';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(cfg) {\n    /**\n     * 度量的类型\n     */\n    this.type = 'base';\n    /**\n     * 是否分类类型的度量\n     */\n\n    this.isCategory = false;\n    /**\n     * 是否线性度量，有linear, time 度量\n     */\n\n    this.isLinear = false;\n    /**\n     * 是否连续类型的度量，linear,time,log, pow, quantile, quantize 都支持\n     */\n\n    this.isContinuous = false;\n    /**\n     * 是否是常量的度量，传入和传出一致\n     */\n\n    this.isIdentity = false;\n    this.values = [];\n    this.range = [0, 1];\n    this.ticks = [];\n    this.__cfg__ = cfg;\n    this.initCfg();\n    this.init();\n  } // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n\n\n  Scale.prototype.translate = function (v) {\n    return v;\n  };\n  /** 重新初始化 */\n\n\n  Scale.prototype.change = function (cfg) {\n    // 覆盖配置项，而不替代\n    assign(this.__cfg__, cfg);\n    this.init();\n  };\n\n  Scale.prototype.clone = function () {\n    return this.constructor(this.__cfg__);\n  };\n  /** 获取坐标轴需要的ticks */\n\n\n  Scale.prototype.getTicks = function () {\n    var _this = this;\n\n    return map(this.ticks, function (tick, idx) {\n      if (isObject(tick)) {\n        // 仅当符合Tick类型时才有意义\n        return tick;\n      }\n\n      return {\n        text: _this.getText(tick, idx),\n        tickValue: tick,\n        value: _this.scale(tick)\n      };\n    });\n  };\n  /** 获取Tick的格式化结果 */\n\n\n  Scale.prototype.getText = function (value, key) {\n    var formatter = this.formatter;\n    var res = formatter ? formatter(value, key) : value;\n\n    if (isNil(res) || !isFunction(res.toString)) {\n      return '';\n    }\n\n    return res.toString();\n  }; // 获取配置项中的值，当前 scale 上的值可能会被修改\n\n\n  Scale.prototype.getConfig = function (key) {\n    return this.__cfg__[key];\n  }; // scale初始化\n\n\n  Scale.prototype.init = function () {\n    assign(this, this.__cfg__);\n    this.setDomain();\n\n    if (isEmpty(this.getConfig('ticks'))) {\n      this.ticks = this.calculateTicks();\n    }\n  }; // 子类上覆盖某些属性，不能直接在类上声明，否则会被覆盖\n\n\n  Scale.prototype.initCfg = function () {};\n\n  Scale.prototype.setDomain = function () {};\n\n  Scale.prototype.calculateTicks = function () {\n    var tickMethod = this.tickMethod;\n    var ticks = [];\n\n    if (isString(tickMethod)) {\n      var method = getTickMethod(tickMethod);\n\n      if (!method) {\n        throw new Error('There is no method to to calculate ticks!');\n      }\n\n      ticks = method(this);\n    } else if (isFunction(tickMethod)) {\n      ticks = tickMethod(this);\n    }\n\n    return ticks;\n  }; // range 的最小值\n\n\n  Scale.prototype.rangeMin = function () {\n    return head(this.range);\n  }; // range 的最大值\n\n\n  Scale.prototype.rangeMax = function () {\n    return last(this.range);\n  };\n  /** 定义域转 0~1 */\n\n\n  Scale.prototype.calcPercent = function (value, min, max) {\n    if (isNumber(value)) {\n      return (value - min) / (max - min);\n    }\n\n    return NaN;\n  };\n  /** 0~1转定义域 */\n\n\n  Scale.prototype.calcValue = function (percent, min, max) {\n    return min + percent * (max - min);\n  };\n\n  return Scale;\n}();\n\nexport default Scale;","import { __extends, __spreadArrays } from \"tslib\";\nimport { indexOf, isNil, isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * 分类度量\n * @class\n */\n\nvar Category =\n/** @class */\nfunction (_super) {\n  __extends(Category, _super);\n\n  function Category() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'cat';\n    _this.isCategory = true;\n    return _this;\n  }\n\n  Category.prototype.translate = function (value) {\n    var index = indexOf(this.values, value);\n\n    if (index === -1) {\n      return isNumber(value) ? value : NaN;\n    }\n\n    return index;\n  };\n\n  Category.prototype.scale = function (value) {\n    var order = this.translate(value); // 分类数据允许 0.5 范围内调整\n    // if (order < this.min - 0.5 || order > this.max + 0.5) {\n    //   return NaN;\n    // }\n\n    var percent = this.calcPercent(order, this.min, this.max);\n    return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n  };\n\n  Category.prototype.invert = function (scaledValue) {\n    var domainRange = this.max - this.min;\n    var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n    var idx = Math.round(domainRange * percent) + this.min;\n\n    if (idx < this.min || idx > this.max) {\n      return NaN;\n    }\n\n    return this.values[idx];\n  };\n\n  Category.prototype.getText = function (value) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var v = value; // value为index\n\n    if (isNumber(value) && !this.values.includes(value)) {\n      v = this.values[v];\n    }\n\n    return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n  }; // 复写属性\n\n\n  Category.prototype.initCfg = function () {\n    this.tickMethod = 'cat';\n  }; // 设置 min, max\n\n\n  Category.prototype.setDomain = function () {\n    // 用户有可能设置 min\n    if (isNil(this.getConfig('min'))) {\n      this.min = 0;\n    }\n\n    if (isNil(this.getConfig('max'))) {\n      var size = this.values.length;\n      this.max = size > 1 ? size - 1 : size;\n    }\n  };\n\n  return Category;\n}(Base);\n\nexport default Category;","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\n\nvar noop = function noop() {};\n\nfunction regexEscape(str) {\n  return str.replace(/[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n\n  while (val.length < len) {\n    val = '0' + val;\n  }\n\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\nvar formatFlags = {\n  D: function D(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function DD(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function Do(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function d(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function dd(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function ddd(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function dddd(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function M(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function MM(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function MMM(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function MMMM(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function YY(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function YYYY(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function h(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function hh(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function H(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function HH(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function m(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function mm(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function s(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function ss(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function S(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function SS(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function SSS(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function a(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function A(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function ZZ(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(),\n        cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi),\n        minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a; // Some common format strings\n\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\n\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n  var literals = []; // Make literals inactive by replacing them with ??\n\n  mask = mask.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return '@@@';\n  }); // Apply formatting rules\n\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  }); // Inline literal values back into the formatted value\n\n  return mask.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n};\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\n\n\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var literals = [];\n  format = format.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  newFormat = newFormat.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n\n  return date;\n};\n\nexport default fecha;","import { isDate, isString, last } from '@antv/util';\nimport fecha from 'fecha';\nimport * as fecha1 from 'fecha';\nimport bisector from './bisector';\nvar FORMAT_METHOD = 'format';\nexport function timeFormat(time, mask) {\n  var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n  return method(time, mask);\n}\n/**\n * 转换成时间戳\n * @param value 时间值\n */\n\nexport function toTimeStamp(value) {\n  if (isString(value)) {\n    if (value.indexOf('T') > 0) {\n      value = new Date(value).getTime();\n    } else {\n      // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n      // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n      // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n      value = new Date(value.replace(/-/gi, '/')).getTime();\n    }\n  }\n\n  if (isDate(value)) {\n    value = value.getTime();\n  }\n\n  return value;\n}\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = DAY * 31;\nvar YEAR = DAY * 365;\nexport { SECOND, MINUTE, HOUR, DAY, MONTH, YEAR };\nvar intervals = [['HH:mm:ss', SECOND], ['HH:mm:ss', SECOND * 10], ['HH:mm:ss', SECOND * 30], ['HH:mm', MINUTE], ['HH:mm', MINUTE * 10], ['HH:mm', MINUTE * 30], ['HH', HOUR], ['HH', HOUR * 6], ['HH', HOUR * 12], ['YYYY-MM-DD', DAY], ['YYYY-MM-DD', DAY * 4], ['YYYY-WW', DAY * 7], ['YYYY-MM', MONTH], ['YYYY-MM', MONTH * 4], ['YYYY-MM', MONTH * 6], ['YYYY', DAY * 380]];\nexport function getTickInterval(min, max, tickCount) {\n  var target = (max - min) / tickCount;\n  var idx = bisector(function (o) {\n    return o[1];\n  })(intervals, target) - 1;\n  var interval = intervals[idx];\n\n  if (idx < 0) {\n    interval = intervals[0];\n  } else if (idx >= intervals.length) {\n    interval = last(intervals);\n  }\n\n  return interval;\n}","import { isNil } from '@antv/util';\n/**\n * 二分右侧查找\n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\n\nexport default function (getter) {\n  /**\n   * x: 目标值\n   * lo: 起始位置\n   * hi: 结束位置\n   */\n  return function (a, x, _lo, _hi) {\n    var lo = isNil(_lo) ? 0 : _lo;\n    var hi = isNil(_hi) ? a.length : _hi;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n\n      if (getter(a[mid]) > x) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n\n    return lo;\n  };\n}","import { __extends } from \"tslib\";\nimport { each, isNumber } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Category from './base';\n/**\n * 时间分类度量\n * @class\n */\n\nvar TimeCat =\n/** @class */\nfunction (_super) {\n  __extends(TimeCat, _super);\n\n  function TimeCat() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n\n\n  TimeCat.prototype.translate = function (value) {\n    value = toTimeStamp(value);\n    var index = this.values.indexOf(value);\n\n    if (index === -1) {\n      if (isNumber(value) && value < this.values.length) {\n        index = value;\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  };\n  /**\n   * 由于时间类型数据需要转换一下，所以复写 getText\n   * @override\n   */\n\n\n  TimeCat.prototype.getText = function (value, tickIndex) {\n    var index = this.translate(value);\n\n    if (index > -1) {\n      var result = this.values[index];\n      var formatter = this.formatter;\n      result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n      return result;\n    }\n\n    return value;\n  };\n\n  TimeCat.prototype.initCfg = function () {\n    this.tickMethod = 'time-cat';\n    this.mask = 'YYYY-MM-DD';\n    this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n  };\n\n  TimeCat.prototype.setDomain = function () {\n    var values = this.values; // 针对时间分类类型，会将时间统一转换为时间戳\n\n    each(values, function (v, i) {\n      values[i] = toTimeStamp(v);\n    });\n    values.sort(function (v1, v2) {\n      return v1 - v2;\n    });\n\n    _super.prototype.setDomain.call(this);\n  };\n\n  return TimeCat;\n}(Category);\n\nexport default TimeCat;","import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * 连续度量的基类\n * @class\n */\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  __extends(Continuous, _super);\n\n  function Continuous() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.isContinuous = true;\n    return _this;\n  }\n\n  Continuous.prototype.scale = function (value) {\n    if (isNil(value)) {\n      return NaN;\n    }\n\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return rangeMin;\n    }\n\n    var percent = this.getScalePercent(value);\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n\n  Continuous.prototype.init = function () {\n    _super.prototype.init.call(this); // init 完成后保证 min, max 包含 ticks 的范围\n\n\n    var ticks = this.ticks;\n    var firstTick = head(ticks);\n    var lastTick = last(ticks);\n\n    if (firstTick < this.min) {\n      this.min = firstTick;\n    }\n\n    if (lastTick > this.max) {\n      this.max = lastTick;\n    } // strict-limit 方式\n\n\n    if (!isNil(this.minLimit)) {\n      this.min = firstTick;\n    }\n\n    if (!isNil(this.maxLimit)) {\n      this.max = lastTick;\n    }\n  };\n\n  Continuous.prototype.setDomain = function () {\n    var _a = getRange(this.values),\n        min = _a.min,\n        max = _a.max;\n\n    if (isNil(this.min)) {\n      this.min = min;\n    }\n\n    if (isNil(this.max)) {\n      this.max = max;\n    }\n\n    if (this.min > this.max) {\n      this.min = min;\n      this.max = max;\n    }\n  };\n\n  Continuous.prototype.calculateTicks = function () {\n    var _this = this;\n\n    var ticks = _super.prototype.calculateTicks.call(this);\n\n    if (!this.nice) {\n      ticks = filter(ticks, function (tick) {\n        return tick >= _this.min && tick <= _this.max;\n      });\n    }\n\n    return ticks;\n  }; // 计算原始值值占的百分比\n\n\n  Continuous.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n    return (value - min) / (max - min);\n  };\n\n  Continuous.prototype.getInvertPercent = function (value) {\n    return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n  };\n\n  return Continuous;\n}(Base);\n\nexport default Continuous;","import { __extends } from \"tslib\";\nimport Continuous from './base';\n/**\n * 线性度量\n * @class\n */\n\nvar Linear =\n/** @class */\nfunction (_super) {\n  __extends(Linear, _super);\n\n  function Linear() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'linear';\n    _this.isLinear = true;\n    return _this;\n  }\n\n  Linear.prototype.invert = function (value) {\n    var percent = this.getInvertPercent(value);\n    return this.min + percent * (this.max - this.min);\n  };\n\n  Linear.prototype.initCfg = function () {\n    this.tickMethod = 'wilkinson-extended';\n    this.nice = false;\n  };\n\n  return Linear;\n}(Continuous);\n\nexport default Linear;","import { each, isNil } from '@antv/util'; // 求以a为次幂，结果为b的基数，如 x^^a = b;求x\n// 虽然数学上 b 不支持负数，但是这里需要支持 负数\n\nexport function calBase(a, b) {\n  var e = Math.E;\n  var value;\n\n  if (b >= 0) {\n    value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n  } else {\n    value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n  }\n\n  return value;\n}\nexport function log(a, b) {\n  if (a === 1) {\n    return 1;\n  }\n\n  return Math.log(b) / Math.log(a);\n}\nexport function getLogPositiveMin(values, base, max) {\n  if (isNil(max)) {\n    max = Math.max.apply(null, values);\n  }\n\n  var positiveMin = max;\n  each(values, function (value) {\n    if (value > 0 && value < positiveMin) {\n      positiveMin = value;\n    }\n  });\n\n  if (positiveMin === max) {\n    positiveMin = max / base;\n  }\n\n  if (positiveMin > 1) {\n    positiveMin = 1;\n  }\n\n  return positiveMin;\n}","import { __extends } from \"tslib\";\nimport { getLogPositiveMin, log } from '../util/math';\nimport Continuous from './base';\n/**\n * Log 度量，处理非均匀分布\n */\n\nvar Log =\n/** @class */\nfunction (_super) {\n  __extends(Log, _super);\n\n  function Log() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'log';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Log.prototype.invert = function (value) {\n    var base = this.base;\n    var max = log(base, this.max);\n    var rangeMin = this.rangeMin();\n    var range = this.rangeMax() - rangeMin;\n    var min;\n    var positiveMin = this.positiveMin;\n\n    if (positiveMin) {\n      if (value === 0) {\n        return 0;\n      }\n\n      min = log(base, positiveMin / base);\n      var appendPercent = 1 / (max - min) * range; // 0 到 positiveMin的占比\n\n      if (value < appendPercent) {\n        // 落到 0 - positiveMin 之间\n        return value / appendPercent * positiveMin;\n      }\n    } else {\n      min = log(base, this.min);\n    }\n\n    var percent = (value - rangeMin) / range;\n    var tmp = percent * (max - min) + min;\n    return Math.pow(base, tmp);\n  };\n\n  Log.prototype.initCfg = function () {\n    this.tickMethod = 'log';\n    this.base = 10;\n    this.tickCount = 6;\n    this.nice = true;\n  }; // 设置\n\n\n  Log.prototype.setDomain = function () {\n    _super.prototype.setDomain.call(this);\n\n    var min = this.min;\n\n    if (min < 0) {\n      throw new Error('When you use log scale, the minimum value must be greater than zero!');\n    }\n\n    if (min === 0) {\n      this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n    }\n  }; // 根据当前值获取占比\n\n\n  Log.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return 0;\n    } // 如果值小于等于0，则按照0处理\n\n\n    if (value <= 0) {\n      return 0;\n    }\n\n    var base = this.base;\n    var positiveMin = this.positiveMin; // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n\n    if (positiveMin) {\n      min = positiveMin * 1 / base;\n    }\n\n    var percent; // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n\n    if (value < positiveMin) {\n      percent = value / positiveMin / (log(base, max) - log(base, min));\n    } else {\n      percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n    }\n\n    return percent;\n  };\n\n  return Log;\n}(Continuous);\n\nexport default Log;","import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow 度量，处理非均匀分布\n */\n\nvar Pow =\n/** @class */\nfunction (_super) {\n  __extends(Pow, _super);\n\n  function Pow() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'pow';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Pow.prototype.invert = function (value) {\n    var percent = this.getInvertPercent(value);\n    var exponent = this.exponent;\n    var max = calBase(exponent, this.max);\n    var min = calBase(exponent, this.min);\n    var tmp = percent * (max - min) + min;\n    var factor = tmp >= 0 ? 1 : -1;\n    return Math.pow(tmp, exponent) * factor;\n  };\n\n  Pow.prototype.initCfg = function () {\n    this.tickMethod = 'pow';\n    this.exponent = 2;\n    this.tickCount = 5;\n    this.nice = true;\n  }; // 获取度量计算时，value占的定义域百分比\n\n\n  Pow.prototype.getScalePercent = function (value) {\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return 0;\n    }\n\n    var exponent = this.exponent;\n    var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n    return percent;\n  };\n\n  return Pow;\n}(Continuous);\n\nexport default Pow;","import { __extends } from \"tslib\";\nimport { each, isDate, isNil, isNumber, isString } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Linear from './linear';\n/**\n * 时间度量\n * @class\n */\n\nvar Time =\n/** @class */\nfunction (_super) {\n  __extends(Time, _super);\n\n  function Time() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Time.prototype.getText = function (value, index) {\n    var numberValue = this.translate(value);\n    var formatter = this.formatter;\n    return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n  };\n  /**\n   * @override\n   */\n\n\n  Time.prototype.scale = function (value) {\n    var v = value;\n\n    if (isString(v) || isDate(v)) {\n      v = this.translate(v);\n    }\n\n    return _super.prototype.scale.call(this, v);\n  };\n  /**\n   * 将时间转换成数字\n   * @override\n   */\n\n\n  Time.prototype.translate = function (v) {\n    return toTimeStamp(v);\n  };\n\n  Time.prototype.initCfg = function () {\n    this.tickMethod = 'time-pretty';\n    this.mask = 'YYYY-MM-DD';\n    this.tickCount = 7;\n    this.nice = false;\n  };\n\n  Time.prototype.setDomain = function () {\n    var values = this.values; // 是否设置了 min, max，而不是直接取 this.min, this.max\n\n    var minConfig = this.getConfig('min');\n    var maxConfig = this.getConfig('max'); // 如果设置了 min,max 则转换成时间戳\n\n    if (!isNil(minConfig) || !isNumber(minConfig)) {\n      this.min = this.translate(this.min);\n    }\n\n    if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n      this.max = this.translate(this.max);\n    } // 没有设置 min, max 时\n\n\n    if (values && values.length) {\n      // 重新计算最大最小值\n      var timeStamps_1 = [];\n      var min_1 = Infinity; // 最小值\n\n      var secondMin_1 = min_1; // 次小值\n\n      var max_1 = 0; // 使用一个循环，计算min,max,secondMin\n\n      each(values, function (v) {\n        var timeStamp = toTimeStamp(v);\n\n        if (isNaN(timeStamp)) {\n          throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n        }\n\n        if (min_1 > timeStamp) {\n          secondMin_1 = min_1;\n          min_1 = timeStamp;\n        } else if (secondMin_1 > timeStamp) {\n          secondMin_1 = timeStamp;\n        }\n\n        if (max_1 < timeStamp) {\n          max_1 = timeStamp;\n        }\n\n        timeStamps_1.push(timeStamp);\n      }); // 存在多个值时，设置最小间距\n\n      if (values.length > 1) {\n        this.minTickInterval = secondMin_1 - min_1;\n      }\n\n      if (isNil(minConfig)) {\n        this.min = min_1;\n      }\n\n      if (isNil(maxConfig)) {\n        this.max = max_1;\n      }\n    }\n  };\n\n  return Time;\n}(Linear);\n\nexport default Time;","import { __extends } from \"tslib\";\nimport { each, head, last } from '@antv/util';\nimport Continuous from './base';\n/**\n * 分段度量\n */\n\nvar Quantize =\n/** @class */\nfunction (_super) {\n  __extends(Quantize, _super);\n\n  function Quantize() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'quantize';\n    return _this;\n  }\n\n  Quantize.prototype.invert = function (value) {\n    var ticks = this.ticks;\n    var length = ticks.length;\n    var percent = this.getInvertPercent(value);\n    var minIndex = Math.floor(percent * (length - 1)); // 最后一个\n\n    if (minIndex >= length - 1) {\n      return last(ticks);\n    } // 超出左边界， 则取第一个\n\n\n    if (minIndex < 0) {\n      return head(ticks);\n    }\n\n    var minTick = ticks[minIndex];\n    var nextTick = ticks[minIndex + 1]; // 比当前值小的 tick 在度量上的占比\n\n    var minIndexPercent = minIndex / (length - 1);\n    var maxIndexPercent = (minIndex + 1) / (length - 1);\n    return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n  };\n\n  Quantize.prototype.initCfg = function () {\n    this.tickMethod = 'r-pretty';\n    this.tickCount = 5;\n    this.nice = true;\n  };\n\n  Quantize.prototype.calculateTicks = function () {\n    var ticks = _super.prototype.calculateTicks.call(this);\n\n    if (!this.nice) {\n      // 如果 nice = false ,补充 min, max\n      if (last(ticks) !== this.max) {\n        ticks.push(this.max);\n      }\n\n      if (head(ticks) !== this.min) {\n        ticks.unshift(this.min);\n      }\n    }\n\n    return ticks;\n  }; // 计算当前值在刻度中的占比\n\n\n  Quantize.prototype.getScalePercent = function (value) {\n    var ticks = this.ticks; // 超出左边界\n\n    if (value < head(ticks)) {\n      return 0;\n    } // 超出右边界\n\n\n    if (value > last(ticks)) {\n      return 1;\n    }\n\n    var minIndex = 0;\n    each(ticks, function (tick, index) {\n      if (value >= tick) {\n        minIndex = index;\n      } else {\n        return false;\n      }\n    });\n    return minIndex / (ticks.length - 1);\n  };\n\n  return Quantize;\n}(Continuous);\n\nexport default Quantize;","import { __extends } from \"tslib\";\nimport Quantize from './quantize';\n\nvar Quantile =\n/** @class */\nfunction (_super) {\n  __extends(Quantile, _super);\n\n  function Quantile() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'quantile';\n    return _this;\n  }\n\n  Quantile.prototype.initCfg = function () {\n    this.tickMethod = 'quantile';\n    this.tickCount = 5;\n    this.nice = true;\n  };\n\n  return Quantile;\n}(Quantize);\n\nexport default Quantile;","import Scale from './base';\nvar map = {};\n\nfunction getClass(key) {\n  return map[key];\n}\n\nfunction registerClass(key, cls) {\n  if (getClass(key)) {\n    throw new Error(\"type '\" + key + \"' existed.\");\n  }\n\n  map[key] = cls;\n}\n\nexport { Scale, getClass as getScale, registerClass as registerScale };","import { __extends } from \"tslib\";\nimport { isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\n\nvar Identity =\n/** @class */\nfunction (_super) {\n  __extends(Identity, _super);\n\n  function Identity() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'identity';\n    _this.isIdentity = true;\n    return _this;\n  }\n\n  Identity.prototype.calculateTicks = function () {\n    return this.values;\n  };\n\n  Identity.prototype.scale = function (value) {\n    // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n    if (this.values[0] !== value && isNumber(value)) {\n      return value;\n    }\n\n    return this.range[0];\n  };\n\n  Identity.prototype.invert = function (value) {\n    var range = this.range;\n\n    if (value < range[0] || value > range[1]) {\n      return NaN;\n    }\n\n    return this.values[0];\n  };\n\n  return Identity;\n}(Base);\n\nexport default Identity;","import { head, indexOf, last, map, size } from '@antv/util';\nexport var DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport var ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100; // https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\n\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n  var n = size(Q);\n  var i = indexOf(Q, q);\n  var v = 0;\n  var m = mod(lmin, lstep);\n\n  if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n    v = 1;\n  }\n\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction simplicityMax(q, Q, j) {\n  var n = size(Q);\n  var i = indexOf(Q, q);\n  var v = 1;\n  return 1 - i / (n - 1) - j + v;\n}\n\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n  var r = (k - 1) / (lmax - lmin);\n  var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n  return 2 - Math.max(r / rt, rt / r);\n}\n\nfunction densityMax(k, m) {\n  if (k >= m) {\n    return 2 - (k - 1) / (m - 1);\n  }\n\n  return 1;\n}\n\nfunction coverage(dmin, dmax, lmin, lmax) {\n  var range = dmax - dmin;\n  return 1 - 0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2)) / Math.pow(0.1 * range, 2);\n}\n\nfunction coverageMax(dmin, dmax, span) {\n  var range = dmax - dmin;\n\n  if (span > range) {\n    var half = (span - range) / 2;\n    return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n  }\n\n  return 1;\n}\n\nfunction legibility() {\n  return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\n\n\nexport default function extended(dmin, dmax, m, onlyLoose, Q, w) {\n  if (m === void 0) {\n    m = 5;\n  }\n\n  if (onlyLoose === void 0) {\n    onlyLoose = true;\n  }\n\n  if (Q === void 0) {\n    Q = DEFAULT_Q;\n  }\n\n  if (w === void 0) {\n    w = [0.25, 0.2, 0.5, 0.05];\n  }\n\n  if (dmin === dmax || m === 1) {\n    return {\n      min: dmin,\n      max: dmax,\n      ticks: [dmin]\n    };\n  }\n\n  var best = {\n    score: -2,\n    lmin: 0,\n    lmax: 0,\n    lstep: 0\n  };\n  var j = 1;\n\n  while (j < Infinity) {\n    for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n      var q = Q_1[_i];\n      var sm = simplicityMax(q, Q, j);\n\n      if (Number.isNaN(sm)) {\n        throw new Error('NaN');\n      }\n\n      if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n        j = Infinity;\n        break;\n      }\n\n      var k = 2;\n\n      while (k < Infinity) {\n        var dm = densityMax(k, m);\n\n        if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n          break;\n        }\n\n        var delta = (dmax - dmin) / (k + 1) / j / q;\n        var z = Math.ceil(Math.log10(delta));\n\n        while (z < Infinity) {\n          var step = j * q * Math.pow(10, z);\n          var cm = coverageMax(dmin, dmax, step * (k - 1));\n\n          if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n            break;\n          }\n\n          var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n          var maxStart = Math.ceil(dmin / step) * j;\n\n          if (minStart > maxStart) {\n            z = z + 1;\n            continue;\n          }\n\n          for (var start = minStart; start <= maxStart; start = start + 1) {\n            var lmin = start * (step / j);\n            var lmax = lmin + step * (k - 1);\n            var lstep = step;\n            var s = simplicity(q, Q, j, lmin, lmax, lstep);\n            var c = coverage(dmin, dmax, lmin, lmax);\n            var g = density(k, m, dmin, dmax, lmin, lmax);\n            var l = legibility();\n            var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n\n            if (score > best.score && (!onlyLoose || lmin <= dmin && lmax >= dmax)) {\n              best.lmin = lmin;\n              best.lmax = lmax;\n              best.lstep = lstep;\n              best.score = score;\n            }\n          }\n\n          z = z + 1;\n        }\n\n        k = k + 1;\n      }\n    }\n\n    j = j + 1;\n  } // 步长为浮点数时处理精度\n\n\n  var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n  var range = [];\n\n  for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n    range.push(tick);\n  }\n\n  var ticks = toFixed ? map(range, function (x) {\n    return Number.parseFloat(x.toFixed(toFixed));\n  }) : range;\n  return {\n    min: Math.min(dmin, head(ticks)),\n    max: Math.max(dmax, last(ticks)),\n    ticks: ticks\n  };\n}","import { filter, isNil, isNumber } from '@antv/util';\nimport extended from '../util/extended';\n/**\n * 计算分类 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculateCatTicks(cfg) {\n  var values = cfg.values,\n      tickInterval = cfg.tickInterval,\n      tickCount = cfg.tickCount;\n  var ticks = values;\n\n  if (isNumber(tickInterval)) {\n    return filter(ticks, function (__, i) {\n      return i % tickInterval === 0;\n    });\n  }\n\n  var min = cfg.min,\n      max = cfg.max;\n\n  if (isNil(min)) {\n    min = 0;\n  }\n\n  if (isNil(max)) {\n    max = values.length - 1;\n  }\n\n  if (isNumber(tickCount) && tickCount < max - min) {\n    // 简单过滤，部分情况下小数的倍数也可以是整数\n    // tslint:disable-next-line: no-shadowed-variable\n    var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n    var valid = filter(ticks_1, function (tick) {\n      return tick >= min && tick <= max;\n    });\n    return valid.map(function (index) {\n      return values[index];\n    });\n  }\n\n  return values.slice(min, max + 1);\n}","export default function d3Linear(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      nice = cfg.nice,\n      tickCount = cfg.tickCount;\n  var linear = new D3Linear();\n  linear.domain([min, max]);\n\n  if (nice) {\n    linear.nice(tickCount);\n  }\n\n  return linear.ticks(tickCount);\n}\nvar DEFAULT_COUNT = 5;\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2); // https://github.com/d3/d3-scale\n\nvar D3Linear =\n/** @class */\nfunction () {\n  function D3Linear() {\n    this._domain = [0, 1];\n  }\n\n  D3Linear.prototype.domain = function (domain) {\n    if (domain) {\n      this._domain = Array.from(domain, Number);\n      return this;\n    }\n\n    return this._domain.slice();\n  };\n\n  D3Linear.prototype.nice = function (count) {\n    var _a, _b;\n\n    if (count === void 0) {\n      count = DEFAULT_COUNT;\n    }\n\n    var d = this._domain.slice();\n\n    var i0 = 0;\n    var i1 = this._domain.length - 1;\n    var start = this._domain[i0];\n    var stop = this._domain[i1];\n    var step;\n\n    if (stop < start) {\n      _a = [stop, start], start = _a[0], stop = _a[1];\n      _b = [i1, i0], i0 = _b[0], i1 = _b[1];\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      this.domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      this.domain(d);\n    }\n\n    return this;\n  };\n\n  D3Linear.prototype.ticks = function (count) {\n    if (count === void 0) {\n      count = DEFAULT_COUNT;\n    }\n\n    return d3ArrayTicks(this._domain[0], this._domain[this._domain.length - 1], count || DEFAULT_COUNT);\n  };\n\n  return D3Linear;\n}();\n\nexport { D3Linear };\n\nfunction d3ArrayTicks(start, stop, count) {\n  var reverse;\n  var i = -1;\n  var n;\n  var ticks;\n  var step;\n  stop = +stop, start = +start, count = +count;\n\n  if (start === stop && count > 0) {\n    return [start];\n  } // tslint:disable-next-line\n\n\n  if (reverse = stop < start) {\n    n = start, start = stop, stop = n;\n  } // tslint:disable-next-line\n\n\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) {\n    return [];\n  }\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) {\n    ticks.reverse();\n  }\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count);\n  var power = Math.floor(Math.log(step) / Math.LN10);\n  var error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}","import { fixedBase } from '@antv/util';\n\nfunction snapMultiple(v, base, snapType) {\n  var div;\n\n  if (snapType === 'ceil') {\n    div = Math.ceil(v / base);\n  } else if (snapType === 'floor') {\n    div = Math.floor(v / base);\n  } else {\n    div = Math.round(v / base);\n  }\n\n  return div * base;\n}\n\nexport default function intervalTicks(min, max, interval) {\n  // 变成 interval 的倍数\n  var minTick = snapMultiple(min, interval, 'floor');\n  var maxTick = snapMultiple(max, interval, 'ceil'); // 统一小数位数\n\n  minTick = fixedBase(minTick, interval);\n  maxTick = fixedBase(maxTick, interval);\n  var ticks = [];\n\n  for (var i = minTick; i <= maxTick; i = i + interval) {\n    var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n\n    ticks.push(tickValue);\n  }\n\n  return {\n    min: minTick,\n    max: maxTick,\n    ticks: ticks\n  };\n}","import { isNil } from '@antv/util';\n/**\n * 按照给定的 minLimit/maxLimit/tickCount 均匀计算出刻度 ticks\n *\n * @param cfg Scale 配置项\n * @return ticks\n */\n\nexport default function strictLimit(cfg, defaultMin, defaultMax) {\n  var _a;\n\n  var minLimit = cfg.minLimit,\n      maxLimit = cfg.maxLimit,\n      min = cfg.min,\n      max = cfg.max,\n      _b = cfg.tickCount,\n      tickCount = _b === void 0 ? 5 : _b;\n  var tickMin = isNil(minLimit) ? isNil(defaultMin) ? min : defaultMin : minLimit;\n  var tickMax = isNil(maxLimit) ? isNil(defaultMax) ? max : defaultMax : maxLimit;\n\n  if (tickMin > tickMax) {\n    _a = [tickMin, tickMax], tickMax = _a[0], tickMin = _a[1];\n  }\n\n  if (tickCount <= 2) {\n    return [tickMin, tickMax];\n  }\n\n  var step = (tickMax - tickMin) / (tickCount - 1);\n  var ticks = [];\n\n  for (var i = 0; i < tickCount; i++) {\n    ticks.push(tickMin + step * i);\n  }\n\n  return ticks;\n}","export default function pretty(min, max, n) {\n  if (n === void 0) {\n    n = 5;\n  }\n\n  var res = {\n    max: 0,\n    min: 0,\n    ticks: []\n  };\n  /*\n    R pretty:\n    https://svn.r-project.org/R/trunk/src/appl/pretty.c\n    https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n    */\n\n  var h = 1.5; // high.u.bias\n\n  var h5 = 0.5 + 1.5 * h; // u5.bias\n  // 反正我也不会调参，跳过所有判断步骤\n\n  var d = max - min;\n  var c = d / n; // 当d非常小的时候触发，但似乎没什么用\n  // const min_n = Math.floor(n / 3);\n  // const shrink_sml = Math.pow(2, 5);\n  // if (Math.log10(d) < -2) {\n  //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n  // }\n\n  var base = Math.pow(10, Math.floor(Math.log10(c)));\n  var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n  var unit = base;\n\n  if (2 * base - c < h * (c - unit)) {\n    unit = 2 * base;\n\n    if (5 * base - c < h5 * (c - unit)) {\n      unit = 5 * base;\n\n      if (10 * base - c < h * (c - unit)) {\n        unit = 10 * base;\n      }\n    }\n  }\n\n  var nu = Math.ceil(max / unit);\n  var ns = Math.floor(min / unit);\n  res.max = Math.max(nu * unit, max);\n  res.min = Math.min(ns * unit, min);\n  var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n\n  while (x < max) {\n    res.ticks.push(x);\n    x += unit;\n\n    if (toFixed) {\n      x = Number.parseFloat(x.toFixed(toFixed));\n    }\n  }\n\n  res.ticks.push(x);\n  return res;\n}","/**\n * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n * @param x  数组\n * @param p  百分比\n */\nfunction quantileSorted(x, p) {\n  var idx = x.length * p;\n  /*if (x.length === 0) { // 当前场景这些条件不可能命中\n    throw new Error('quantile requires at least one value.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else */\n\n  if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\nexport default function calculateTicks(cfg) {\n  var tickCount = cfg.tickCount,\n      values = cfg.values;\n\n  if (!values || !values.length) {\n    return [];\n  }\n\n  var sorted = values.slice().sort(function (a, b) {\n    return a - b;\n  });\n  var ticks = [];\n\n  for (var i = 0; i < tickCount; i++) {\n    var p = i / (tickCount - 1);\n    ticks.push(quantileSorted(sorted, p));\n  }\n\n  return ticks;\n}","import { DAY, HOUR, MINUTE, MONTH, SECOND, YEAR } from '../util/time';\n\nfunction getYear(date) {\n  return new Date(date).getFullYear();\n}\n\nfunction createYear(year) {\n  return new Date(year, 0, 1).getTime();\n}\n\nfunction getMonth(date) {\n  return new Date(date).getMonth();\n}\n\nfunction diffMonth(min, max) {\n  var minYear = getYear(min);\n  var maxYear = getYear(max);\n  var minMonth = getMonth(min);\n  var maxMonth = getMonth(max);\n  return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n}\n\nfunction creatMonth(year, month) {\n  return new Date(year, month, 1).getTime();\n}\n\nfunction diffDay(min, max) {\n  return Math.ceil((max - min) / DAY);\n}\n\nfunction diffHour(min, max) {\n  return Math.ceil((max - min) / HOUR);\n}\n\nfunction diffMinus(min, max) {\n  return Math.ceil((max - min) / (60 * 1000));\n}\n/**\n * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\n\nexport default function timePretty(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      minTickInterval = cfg.minTickInterval;\n  var tickInterval = cfg.tickInterval;\n  var tickCount = cfg.tickCount;\n  var ticks = []; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n  if (!tickInterval) {\n    tickInterval = (max - min) / tickCount; // 如果设置了最小间距，则使用最小间距\n\n    if (minTickInterval && tickInterval < minTickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  var minYear = getYear(min); // 如果间距大于 1 年，则将开始日期从整年开始\n\n  if (tickInterval > YEAR) {\n    var maxYear = getYear(max);\n    var yearInterval = Math.ceil(tickInterval / YEAR);\n\n    for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n      ticks.push(createYear(i));\n    }\n  } else if (tickInterval > MONTH) {\n    // 大于月时\n    var monthInterval = Math.ceil(tickInterval / MONTH);\n    var mmMoth = getMonth(min);\n    var dMonths = diffMonth(min, max);\n\n    for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n      ticks.push(creatMonth(minYear, i + mmMoth));\n    }\n  } else if (tickInterval > DAY) {\n    // 大于天\n    var date = new Date(min);\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var mday = date.getDate();\n    var day = Math.ceil(tickInterval / DAY);\n    var ddays = diffDay(min, max);\n\n    for (var i = 0; i < ddays + day; i = i + day) {\n      ticks.push(new Date(year, month, mday + i).getTime());\n    }\n  } else if (tickInterval > HOUR) {\n    // 大于小时\n    var date = new Date(min);\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var hour = date.getHours();\n    var hours = Math.ceil(tickInterval / HOUR);\n    var dHours = diffHour(min, max);\n\n    for (var i = 0; i <= dHours + hours; i = i + hours) {\n      ticks.push(new Date(year, month, day, hour + i).getTime());\n    }\n  } else if (tickInterval > MINUTE) {\n    // 大于分钟\n    var dMinus = diffMinus(min, max);\n    var minutes = Math.ceil(tickInterval / MINUTE);\n\n    for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n      ticks.push(min + i * MINUTE);\n    }\n  } else {\n    // 小于分钟\n    var interval = tickInterval;\n\n    if (interval < SECOND) {\n      interval = SECOND;\n    }\n\n    var minSecond = Math.floor(min / SECOND) * SECOND;\n    var dSeconds = Math.ceil((max - min) / SECOND);\n    var seconds = Math.ceil(interval / SECOND);\n\n    for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n      ticks.push(minSecond + i * SECOND);\n    }\n  }\n\n  return ticks;\n}","import cat from './cat';\nimport d3Linear from './d3-linear';\nimport linear from './linear';\nimport log from './log';\nimport pow from './pow';\nimport quantile from './quantile';\nimport rPretty from './r-prettry';\nimport { getTickMethod, registerTickMethod } from './register';\nimport time from './time';\nimport timeCat from './time-cat';\nimport timePretty from './time-pretty';\nregisterTickMethod('cat', cat);\nregisterTickMethod('time-cat', timeCat);\nregisterTickMethod('wilkinson-extended', linear);\nregisterTickMethod('r-pretty', rPretty);\nregisterTickMethod('time', time);\nregisterTickMethod('time-pretty', timePretty);\nregisterTickMethod('log', log);\nregisterTickMethod('pow', pow);\nregisterTickMethod('quantile', quantile);\nregisterTickMethod('d3-linear', d3Linear);\nexport { getTickMethod };","import { last } from '@antv/util';\nimport catTicks from './cat';\n/**\n * 计算时间分类的 ticks, 保头，保尾\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculateTimeCatTicks(cfg) {\n  var ticks = catTicks(cfg);\n  var lastValue = last(cfg.values);\n\n  if (lastValue !== last(ticks)) {\n    ticks.push(lastValue);\n  }\n\n  return ticks;\n}","import { head, isNil, last } from '@antv/util';\nimport extended from '../util/extended';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\n/**\n * 计算线性的 ticks，使用 wilkinson extended 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function linear(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      tickCount = cfg.tickCount,\n      nice = cfg.nice,\n      tickInterval = cfg.tickInterval,\n      minLimit = cfg.minLimit,\n      maxLimit = cfg.maxLimit;\n  var ticks = extended(min, max, tickCount, nice).ticks;\n\n  if (!isNil(minLimit) || !isNil(maxLimit)) {\n    return strictLimit(cfg, head(ticks), last(ticks));\n  }\n\n  if (tickInterval) {\n    return interval(min, max, tickInterval).ticks;\n  }\n\n  return ticks;\n}","import { head, isNil, last } from '@antv/util';\nimport interval from '../util/interval';\nimport pretty from '../util/pretty';\nimport strictLimit from '../util/strict-limit';\n/**\n * 计算线性的 ticks，使用 R's pretty 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function linearPretty(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      tickCount = cfg.tickCount,\n      tickInterval = cfg.tickInterval,\n      minLimit = cfg.minLimit,\n      maxLimit = cfg.maxLimit;\n  var ticks = pretty(min, max, tickCount).ticks;\n\n  if (!isNil(minLimit) || !isNil(maxLimit)) {\n    return strictLimit(cfg, head(ticks), last(ticks));\n  }\n\n  if (tickInterval) {\n    return interval(min, max, tickInterval).ticks;\n  }\n\n  return ticks;\n}","import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      minTickInterval = cfg.minTickInterval;\n  var tickInterval = cfg.tickInterval;\n  var tickCount = cfg.tickCount; // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n\n  if (tickInterval) {\n    tickCount = Math.ceil((max - min) / tickInterval);\n  } else {\n    tickInterval = getTickInterval(min, max, tickCount)[1];\n    var count = (max - min) / tickInterval;\n    var ratio = count / tickCount;\n\n    if (ratio > 1) {\n      tickInterval = tickInterval * Math.ceil(ratio);\n    } // 如果设置了最小间距，则使用最小间距\n\n\n    if (minTickInterval && tickInterval < minTickInterval) {\n      tickInterval = minTickInterval;\n    }\n  }\n\n  var ticks = [];\n\n  for (var i = min; i < max + tickInterval; i += tickInterval) {\n    ticks.push(i);\n  }\n\n  return ticks;\n}","import { getLogPositiveMin, log } from '../util/math';\n/**\n * 计算 log 的 ticks，考虑 min = 0 的场景\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculateLogTicks(cfg) {\n  var base = cfg.base,\n      tickCount = cfg.tickCount,\n      min = cfg.min,\n      max = cfg.max,\n      values = cfg.values;\n  var minTick;\n  var maxTick = log(base, max);\n\n  if (min > 0) {\n    minTick = Math.floor(log(base, min));\n  } else {\n    var positiveMin = getLogPositiveMin(values, base, max);\n    minTick = Math.floor(log(base, positiveMin));\n  }\n\n  var count = maxTick - minTick;\n  var avg = Math.ceil(count / tickCount);\n  var ticks = [];\n\n  for (var i = minTick; i < maxTick + avg; i = i + avg) {\n    ticks.push(Math.pow(base, i));\n  }\n\n  if (min <= 0) {\n    // 最小值 <= 0 时显示 0\n    ticks.unshift(0);\n  }\n\n  return ticks;\n}","import { calBase } from '../util/math';\nimport pretty from '../util/pretty';\n/**\n * 计算 Pow 的 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\n\nexport default function calculatePowTicks(cfg) {\n  var exponent = cfg.exponent,\n      tickCount = cfg.tickCount;\n  var max = Math.ceil(calBase(exponent, cfg.max));\n  var min = Math.floor(calBase(exponent, cfg.min));\n  var ticks = pretty(min, max, tickCount).ticks;\n  return ticks.map(function (tick) {\n    var factor = tick >= 0 ? 1 : -1;\n    return Math.pow(tick, exponent) * factor;\n  });\n}","import { head, isNil, last } from '@antv/util';\nimport d3Linear from '../util/d3-linear';\nimport interval from '../util/interval';\nimport strictLimit from '../util/strict-limit';\nexport default function d3LinearTickMethod(cfg) {\n  var min = cfg.min,\n      max = cfg.max,\n      tickInterval = cfg.tickInterval,\n      minLimit = cfg.minLimit,\n      maxLimit = cfg.maxLimit;\n  var ticks = d3Linear(cfg);\n\n  if (!isNil(minLimit) || !isNil(maxLimit)) {\n    return strictLimit(cfg, head(ticks), last(ticks));\n  }\n\n  if (tickInterval) {\n    return interval(min, max, tickInterval).ticks;\n  }\n\n  return ticks;\n}","import Scale from './base';\nimport Category from './category/base';\nimport TimeCat from './category/time';\nimport Linear from './continuous/linear';\nimport Log from './continuous/log';\nimport Pow from './continuous/pow';\nimport Time from './continuous/time';\nimport Quantize from './continuous/quantize';\nimport Quantile from './continuous/quantile';\nimport { getScale, registerScale } from './factory';\nimport Identity from './identity/index';\nimport { getTickMethod } from './tick-method/index';\nregisterScale('cat', Category);\nregisterScale('category', Category);\nregisterScale('identity', Identity);\nregisterScale('linear', Linear);\nregisterScale('log', Log);\nregisterScale('pow', Pow);\nregisterScale('time', Time);\nregisterScale('timeCat', TimeCat);\nregisterScale('quantize', Quantize);\nregisterScale('quantile', Quantile);\nexport { Category, Identity, Linear, Log, Pow, Time, TimeCat, Quantile, Quantize, Scale, getScale, registerScale, getTickMethod };","export var DEFAULT_Y = 0; // 默认的 y 的值\n// 偏移之后，间距\n\nexport var MARGIN_RATIO = 1 / 2;\nexport var DODGE_RATIO = 1 / 2; // 散点分开之后，距离边界的距离\n\nexport var GAP = 0.05;","import * as _ from '@antv/util';\nimport { DEFAULT_Y } from '../constant';\n\nvar Adjust =\n/** @class */\nfunction () {\n  function Adjust(cfg) {\n    var xField = cfg.xField,\n        yField = cfg.yField,\n        _a = cfg.adjustNames,\n        adjustNames = _a === void 0 ? ['x', 'y'] : _a;\n    this.adjustNames = adjustNames;\n    this.xField = xField;\n    this.yField = yField;\n  }\n  /**\n   * 查看维度是否是 adjust 字段\n   * @param dim\n   */\n\n\n  Adjust.prototype.isAdjust = function (dim) {\n    return this.adjustNames.indexOf(dim) >= 0;\n  };\n\n  Adjust.prototype.getAdjustRange = function (dim, dimValue, values) {\n    var yField = this.yField;\n    var index = values.indexOf(dimValue);\n    var length = values.length;\n    var pre;\n    var next; // 没有 y 字段，但是需要根据 y 调整\n\n    if (!yField && this.isAdjust('y')) {\n      pre = 0;\n      next = 1;\n    } else if (length > 1) {\n      // 如果以其开头，则取之，否则取他前面一个\n      pre = values[index === 0 ? 0 : index - 1]; // 如果以其结尾，则取之，否则取他后面一个\n\n      next = values[index === length - 1 ? length - 1 : index + 1];\n\n      if (index !== 0) {\n        pre += (dimValue - pre) / 2;\n      } else {\n        pre -= (next - dimValue) / 2;\n      }\n\n      if (index !== length - 1) {\n        next -= (next - dimValue) / 2;\n      } else {\n        next += (dimValue - values[length - 2]) / 2;\n      }\n    } else {\n      pre = dimValue === 0 ? 0 : dimValue - 0.5;\n      next = dimValue === 0 ? 1 : dimValue + 0.5;\n    }\n\n    return {\n      pre: pre,\n      next: next\n    };\n  };\n\n  Adjust.prototype.adjustData = function (groupedDataArray, mergedData) {\n    var _this = this; // 所有调整维度的值数组\n\n\n    var dimValuesMap = this.getDimValues(mergedData); // 按照每一个分组来进行调整\n\n    _.each(groupedDataArray, function (dataArray, index) {\n      // 遍历所有数据集合\n      // 每个分组中，分别按照不同的 dim 进行调整\n      _.each(dimValuesMap, function (values, dim) {\n        // 根据不同的度量分别调整位置\n        _this.adjustDim(dim, values, dataArray, index);\n      });\n    });\n  };\n  /**\n   * 对数据进行分组adjustData\n   * @param data 数据\n   * @param dim 分组的字段\n   * @return 分组结果\n   */\n\n\n  Adjust.prototype.groupData = function (data, dim) {\n    // 补齐数据空数据为默认值\n    _.each(data, function (record) {\n      if (record[dim] === undefined) {\n        record[dim] = DEFAULT_Y;\n      }\n    }); // 按照 dim 维度分组\n\n\n    return _.groupBy(data, dim);\n  };\n  /** @override */\n\n\n  Adjust.prototype.adjustDim = function (dim, values, data, index) {};\n  /**\n   * 获取可调整度量对应的值\n   * @param mergedData 数据\n   * @return 值的映射\n   */\n\n\n  Adjust.prototype.getDimValues = function (mergedData) {\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField;\n\n    var dimValuesMap = {}; // 所有的维度\n\n    var dims = [];\n\n    if (xField && this.isAdjust('x')) {\n      dims.push(xField);\n    }\n\n    if (yField && this.isAdjust('y')) {\n      dims.push(yField);\n    }\n\n    dims.forEach(function (dim) {\n      // 在每个维度上，所有的值\n      dimValuesMap[dim] = _.valuesOfKey(mergedData, dim).sort(function (v1, v2) {\n        return v1 - v2;\n      });\n    }); // 只有一维的情况下，同时调整 y，赋予默认值\n\n    if (!yField && this.isAdjust('y')) {\n      var dim = 'y';\n      dimValuesMap[dim] = [DEFAULT_Y, 1]; // 默认分布在 y 轴的 0 与 1 之间\n    }\n\n    return dimValuesMap;\n  };\n\n  return Adjust;\n}();\n\nexport default Adjust;","import Adjust from './adjusts/adjust';\nvar ADJUST_MAP = {};\n/**\n * 根据类型获取 Adjust 类\n * @param type\n */\n\nvar getAdjust = function getAdjust(type) {\n  return ADJUST_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Adjust\n * @param type\n * @param ctor\n */\n\n\nvar registerAdjust = function registerAdjust(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAdjust(type)) {\n    throw new Error(\"Adjust type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ADJUST_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAdjust, registerAdjust, Adjust };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { DODGE_RATIO, MARGIN_RATIO } from '../constant';\nimport Adjust from './adjust';\n\nvar Dodge =\n/** @class */\nfunction (_super) {\n  __extends(Dodge, _super);\n\n  function Dodge(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.cacheMap = {};\n    _this.adjustDataArray = [];\n    _this.mergeData = [];\n    var _a = cfg.marginRatio,\n        marginRatio = _a === void 0 ? MARGIN_RATIO : _a,\n        _b = cfg.dodgeRatio,\n        dodgeRatio = _b === void 0 ? DODGE_RATIO : _b,\n        dodgeBy = cfg.dodgeBy;\n    _this.marginRatio = marginRatio;\n    _this.dodgeRatio = dodgeRatio;\n    _this.dodgeBy = dodgeBy;\n    return _this;\n  }\n\n  Dodge.prototype.process = function (groupDataArray) {\n    var groupedDataArray = _.clone(groupDataArray); // 将数据数组展开一层\n\n\n    var mergeData = _.flatten(groupedDataArray);\n\n    var dodgeBy = this.dodgeBy; // 如果指定了分组 dim 的字段\n\n    var adjustDataArray = dodgeBy ? _.group(mergeData, dodgeBy) : groupedDataArray;\n    this.cacheMap = {};\n    this.adjustDataArray = adjustDataArray;\n    this.mergeData = mergeData;\n    this.adjustData(adjustDataArray, mergeData);\n    this.adjustDataArray = [];\n    this.mergeData = [];\n    return groupedDataArray;\n  };\n\n  Dodge.prototype.adjustDim = function (dim, values, data, frameIndex) {\n    var _this = this;\n\n    var map = this.getDistribution(dim);\n    var groupData = this.groupData(data, dim); // 根据值分组\n\n    _.each(groupData, function (group, key) {\n      var range; // xField 中只有一个值，不需要做 dodge\n\n      if (values.length === 1) {\n        range = {\n          pre: values[0] - 1,\n          next: values[0] + 1\n        };\n      } else {\n        // 如果有多个，则需要获取调整的范围\n        range = _this.getAdjustRange(dim, parseFloat(key), values);\n      }\n\n      _.each(group, function (d) {\n        var value = d[dim];\n        var valueArr = map[value];\n        var valIndex = valueArr.indexOf(frameIndex);\n        d[dim] = _this.getDodgeOffset(range, valIndex, valueArr.length);\n      });\n    });\n\n    return [];\n  };\n\n  Dodge.prototype.getDodgeOffset = function (range, idx, len) {\n    var _a = this,\n        dodgeRatio = _a.dodgeRatio,\n        marginRatio = _a.marginRatio;\n\n    var pre = range.pre,\n        next = range.next;\n    var tickLength = next - pre;\n    var width = tickLength * dodgeRatio / len;\n    var margin = marginRatio * width;\n    var offset = 1 / 2 * (tickLength - len * width - (len - 1) * margin) + ((idx + 1) * width + idx * margin) - 1 / 2 * width - 1 / 2 * tickLength;\n    return (pre + next) / 2 + offset;\n  };\n\n  Dodge.prototype.getDistribution = function (dim) {\n    var groupedDataArray = this.adjustDataArray;\n    var cacheMap = this.cacheMap;\n    var map = cacheMap[dim];\n\n    if (!map) {\n      map = {};\n\n      _.each(groupedDataArray, function (data, index) {\n        var values = _.valuesOfKey(data, dim);\n\n        if (!values.length) {\n          values.push(0);\n        }\n\n        _.each(values, function (val) {\n          if (!map[val]) {\n            map[val] = [];\n          }\n\n          map[val].push(index);\n        });\n      });\n\n      cacheMap[dim] = map;\n    }\n\n    return map;\n  };\n\n  return Dodge;\n}(Adjust);\n\nexport default Dodge;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { GAP } from '../constant';\nimport Adjust from './adjust';\n\nfunction randomNumber(min, max) {\n  return (max - min) * Math.random() + min;\n}\n\nvar Jitter =\n/** @class */\nfunction (_super) {\n  __extends(Jitter, _super);\n\n  function Jitter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Jitter.prototype.process = function (groupDataArray) {\n    var groupedDataArray = _.clone(groupDataArray); // 之前分组之后的数据，然后有合并回去（和分组前可以理解成是一样的）\n\n\n    var mergeData = _.flatten(groupedDataArray); // 返回值\n\n\n    this.adjustData(groupedDataArray, mergeData);\n    return groupedDataArray;\n  };\n  /**\n   * 当前数据分组（index）中，按照维度 dim 进行 jitter 调整\n   * @param dim\n   * @param values\n   * @param dataArray\n   */\n\n\n  Jitter.prototype.adjustDim = function (dim, values, dataArray) {\n    var _this = this; // 在每一个分组中，将数据再按照 dim 分组，用于散列\n\n\n    var groupDataArray = this.groupData(dataArray, dim);\n    return _.each(groupDataArray, function (data, dimValue) {\n      return _this.adjustGroup(data, dim, parseFloat(dimValue), values);\n    });\n  }; // 随机出来的字段值\n\n\n  Jitter.prototype.getAdjustOffset = function (range) {\n    var pre = range.pre,\n        next = range.next; // 随机的范围\n\n    var margin = (next - pre) * GAP;\n    return randomNumber(pre + margin, next - margin);\n  }; // adjust group data\n\n\n  Jitter.prototype.adjustGroup = function (group, dim, dimValue, values) {\n    var _this = this; // 调整范围\n\n\n    var range = this.getAdjustRange(dim, dimValue, values);\n\n    _.each(group, function (data) {\n      data[dim] = _this.getAdjustOffset(range); // 获取调整的位置\n    });\n\n    return group;\n  };\n\n  return Jitter;\n}(Adjust);\n\nexport default Jitter;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Cache = _.Cache;\n\nvar Stack =\n/** @class */\nfunction (_super) {\n  __extends(Stack, _super);\n\n  function Stack(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    var _a = cfg.adjustNames,\n        adjustNames = _a === void 0 ? ['y'] : _a,\n        _b = cfg.height,\n        height = _b === void 0 ? NaN : _b,\n        _c = cfg.size,\n        size = _c === void 0 ? 10 : _c,\n        _d = cfg.reverseOrder,\n        reverseOrder = _d === void 0 ? false : _d;\n    _this.adjustNames = adjustNames;\n    _this.height = height;\n    _this.size = size;\n    _this.reverseOrder = reverseOrder;\n    return _this;\n  }\n  /**\n   * 方法入参是经过数据分组、数据数字化之后的二维数组\n   * @param groupDataArray 分组之后的数据\n   */\n\n\n  Stack.prototype.process = function (groupDataArray) {\n    var _a = this,\n        yField = _a.yField,\n        reverseOrder = _a.reverseOrder; // 如果有指定 y 字段，那么按照 y 字段来 stack\n    // 否则，按照高度均分\n\n\n    var d = yField ? this.processStack(groupDataArray) : this.processOneDimStack(groupDataArray);\n    return reverseOrder ? this.reverse(d) : d;\n  };\n\n  Stack.prototype.reverse = function (groupedDataArray) {\n    return groupedDataArray.slice(0).reverse();\n  };\n\n  Stack.prototype.processStack = function (groupDataArray) {\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField,\n        reverseOrder = _a.reverseOrder; // 层叠顺序翻转\n\n\n    var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray; // 用来缓存，正数和负数的堆叠问题\n\n    var positive = new Cache();\n    var negative = new Cache();\n    return groupedDataArray.map(function (dataArray) {\n      return dataArray.map(function (data) {\n        var _a;\n\n        var x = _.get(data, xField, 0);\n\n        var y = _.get(data, yField);\n\n        var xKey = x.toString(); // todo 是否应该取 _origin？因为 y 可能取到的值不正确，比如先 symmetric，再 stack！\n\n        y = _.isArray(y) ? y[1] : y;\n\n        if (!_.isNil(y)) {\n          var cache = y >= 0 ? positive : negative;\n\n          if (!cache.has(xKey)) {\n            cache.set(xKey, 0);\n          }\n\n          var xValue = cache.get(xKey);\n          var newXValue = y + xValue; // 存起来\n\n          cache.set(xKey, newXValue);\n          return __assign(__assign({}, data), (_a = {}, _a[yField] = [xValue, newXValue], _a));\n        } // 没有修改，则直接返回\n\n\n        return data;\n      });\n    });\n  };\n\n  Stack.prototype.processOneDimStack = function (groupDataArray) {\n    var _this = this;\n\n    var _a = this,\n        xField = _a.xField,\n        height = _a.height,\n        reverseOrder = _a.reverseOrder;\n\n    var yField = 'y'; // 如果层叠的顺序翻转\n\n    var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray; // 缓存累加数据\n\n    var cache = new Cache();\n    return groupedDataArray.map(function (dataArray) {\n      return dataArray.map(function (data) {\n        var _a;\n\n        var size = _this.size;\n        var xValue = data[xField]; // todo 没有看到这个 stack 计算原理\n\n        var stackHeight = size * 2 / height;\n\n        if (!cache.has(xValue)) {\n          cache.set(xValue, stackHeight / 2); // 初始值大小\n        }\n\n        var stackValue = cache.get(xValue); // 增加一层 stackHeight\n\n        cache.set(xValue, stackValue + stackHeight);\n        return __assign(__assign({}, data), (_a = {}, _a[yField] = stackValue, _a));\n      });\n    });\n  };\n\n  return Stack;\n}(Adjust);\n\nexport default Stack;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\n\nvar Symmetric =\n/** @class */\nfunction (_super) {\n  __extends(Symmetric, _super);\n\n  function Symmetric() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Symmetric.prototype.process = function (groupDataArray) {\n    var mergeData = _.flatten(groupDataArray);\n\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField; // 每个 x 值对应的 最大值\n\n\n    var cache = this.getXValuesMaxMap(mergeData); // 所有数据的最大的值\n\n    var max = Math.max.apply(Math, Object.keys(cache).map(function (key) {\n      return cache[key];\n    }));\n    return _.map(groupDataArray, function (dataArray) {\n      return _.map(dataArray, function (data) {\n        var _a, _b;\n\n        var yValue = data[yField];\n        var xValue = data[xField]; // 数组处理逻辑\n\n        if (_.isArray(yValue)) {\n          var off_1 = (max - cache[xValue]) / 2;\n          return __assign(__assign({}, data), (_a = {}, _a[yField] = _.map(yValue, function (y) {\n            return off_1 + y;\n          }), _a));\n        } // 非数组处理逻辑\n\n\n        var offset = (max - yValue) / 2;\n        return __assign(__assign({}, data), (_b = {}, _b[yField] = [offset, yValue + offset], _b));\n      });\n    });\n  }; // 获取每个 x 对应的最大的值\n\n\n  Symmetric.prototype.getXValuesMaxMap = function (mergeData) {\n    var _this = this;\n\n    var _a = this,\n        xField = _a.xField,\n        yField = _a.yField; // 根据 xField 的值进行分组\n\n\n    var groupDataArray = _.groupBy(mergeData, function (data) {\n      return data[xField];\n    }); // 获取每个 xField 值中的最大值\n\n\n    return _.mapValues(groupDataArray, function (dataArray) {\n      return _this.getDimMaxValue(dataArray, yField);\n    });\n  };\n\n  Symmetric.prototype.getDimMaxValue = function (mergeData, dim) {\n    // 所有的 value 值\n    var dimValues = _.map(mergeData, function (data) {\n      return _.get(data, dim, []);\n    }); // 将数组打平（dim value 有可能是数组，比如 stack 之后的）\n\n\n    var flattenValues = _.flatten(dimValues); // 求出数组的最大值\n\n\n    return Math.max.apply(Math, flattenValues);\n  };\n\n  return Symmetric;\n}(Adjust);\n\nexport default Symmetric;","import { getAdjust, registerAdjust } from './factory';\nimport Adjust from './adjusts/adjust';\nimport Dodge from './adjusts/dodge';\nimport Jitter from './adjusts/jitter';\nimport Stack from './adjusts/stack';\nimport Symmetric from './adjusts/symmetric'; // 注册内置的 adjust\n\nregisterAdjust('Dodge', Dodge);\nregisterAdjust('Jitter', Jitter);\nregisterAdjust('Stack', Stack);\nregisterAdjust('Symmetric', Symmetric); // 最终暴露给外部的方法\n\nexport { getAdjust, registerAdjust, Adjust };","import { __spreadArrays } from \"tslib\";\nimport { mat3, vec3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n/**\n * Coordinate Base Class\n */\n\nvar Coordinate =\n/** @class */\nfunction () {\n  function Coordinate(cfg) {\n    // 自身属性\n    this.type = 'coordinate';\n    this.isRect = false;\n    this.isHelix = false;\n    this.isPolar = false;\n    this.isReflectX = false;\n    this.isReflectY = false;\n    var start = cfg.start,\n        end = cfg.end,\n        _a = cfg.matrix,\n        matrix = _a === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : _a,\n        _b = cfg.isTransposed,\n        isTransposed = _b === void 0 ? false : _b;\n    this.start = start;\n    this.end = end;\n    this.matrix = matrix;\n    this.originalMatrix = __spreadArrays(matrix); // 去除引用\n\n    this.isTransposed = isTransposed;\n  }\n  /**\n   * 初始化流程\n   */\n\n\n  Coordinate.prototype.initial = function () {\n    // center、width、height\n    this.center = {\n      x: (this.start.x + this.end.x) / 2,\n      y: (this.start.y + this.end.y) / 2\n    };\n    this.width = Math.abs(this.end.x - this.start.x);\n    this.height = Math.abs(this.end.y - this.start.y);\n  };\n  /**\n   * 更新配置\n   * @param cfg\n   */\n\n\n  Coordinate.prototype.update = function (cfg) {\n    _.assign(this, cfg);\n\n    this.initial();\n  };\n\n  Coordinate.prototype.convertDim = function (percent, dim) {\n    var _a;\n\n    var _b = this[dim],\n        start = _b.start,\n        end = _b.end; // 交换\n\n    if (this.isReflect(dim)) {\n      _a = [end, start], start = _a[0], end = _a[1];\n    }\n\n    return start + percent * (end - start);\n  };\n\n  Coordinate.prototype.invertDim = function (value, dim) {\n    var _a;\n\n    var _b = this[dim],\n        start = _b.start,\n        end = _b.end; // 交换\n\n    if (this.isReflect(dim)) {\n      _a = [end, start], start = _a[0], end = _a[1];\n    }\n\n    return (value - start) / (end - start);\n  };\n  /**\n   * 将坐标点进行矩阵变换\n   * @param x   对应 x 轴画布坐标\n   * @param y   对应 y 轴画布坐标\n   * @param tag 默认为 0，可取值 0, 1\n   * @return    返回变换后的三阶向量 [x, y, z]\n   */\n\n\n  Coordinate.prototype.applyMatrix = function (x, y, tag) {\n    if (tag === void 0) {\n      tag = 0;\n    }\n\n    var matrix = this.matrix;\n    var vector = [x, y, tag];\n    vec3.transformMat3(vector, vector, matrix);\n    return vector;\n  };\n  /**\n   * 将坐标点进行矩阵逆变换\n   * @param x   对应 x 轴画布坐标\n   * @param y   对应 y 轴画布坐标\n   * @param tag 默认为 0，可取值 0, 1\n   * @return    返回矩阵逆变换后的三阶向量 [x, y, z]\n   */\n\n\n  Coordinate.prototype.invertMatrix = function (x, y, tag) {\n    if (tag === void 0) {\n      tag = 0;\n    }\n\n    var matrix = this.matrix;\n    var inverted = mat3.invert([], matrix);\n    var vector = [x, y, tag];\n\n    if (inverted) {\n      // 如果为空则不进行矩阵变化，防止报错\n      vec3.transformMat3(vector, vector, inverted);\n    }\n\n    return vector;\n  };\n  /**\n   * 将归一化的坐标点数据转换为画布坐标，并根据坐标系当前矩阵进行变换\n   * @param point 归一化的坐标点\n   * @return      返回进行矩阵变换后的画布坐标\n   */\n\n\n  Coordinate.prototype.convert = function (point) {\n    var _a = this.convertPoint(point),\n        x = _a.x,\n        y = _a.y;\n\n    var vector = this.applyMatrix(x, y, 1);\n    return {\n      x: vector[0],\n      y: vector[1]\n    };\n  };\n  /**\n   * 将进行过矩阵变换画布坐标转换为归一化坐标\n   * @param point 画布坐标\n   * @return      返回归一化的坐标点\n   */\n\n\n  Coordinate.prototype.invert = function (point) {\n    var vector = this.invertMatrix(point.x, point.y, 1);\n    return this.invertPoint({\n      x: vector[0],\n      y: vector[1]\n    });\n  };\n  /**\n   * 坐标系旋转变换\n   * @param  radian 旋转弧度\n   * @return        返回坐标系对象\n   */\n\n\n  Coordinate.prototype.rotate = function (radian) {\n    var matrix = this.matrix;\n    var center = this.center;\n    mat3.translate(matrix, matrix, [-center.x, -center.y]);\n    mat3.rotate(matrix, matrix, radian);\n    mat3.translate(matrix, matrix, [center.x, center.y]);\n    return this;\n  };\n  /**\n   * 坐标系反射变换\n   * @param dim 反射维度\n   * @return    返回坐标系对象\n   */\n\n\n  Coordinate.prototype.reflect = function (dim) {\n    if (dim === 'x') {\n      this.isReflectX = !this.isReflectX;\n    } else {\n      this.isReflectY = !this.isReflectY;\n    }\n\n    return this;\n  };\n  /**\n   * 坐标系比例变换\n   * @param s1 x 方向缩放比例\n   * @param s2 y 方向缩放比例\n   * @return     返回坐标系对象\n   */\n\n\n  Coordinate.prototype.scale = function (s1, s2) {\n    var matrix = this.matrix;\n    var center = this.center;\n    mat3.translate(matrix, matrix, [-center.x, -center.y]);\n    mat3.scale(matrix, matrix, [s1, s2]);\n    mat3.translate(matrix, matrix, [center.x, center.y]);\n    return this;\n  };\n  /**\n   * 坐标系平移变换\n   * @param x x 方向平移像素\n   * @param y y 方向平移像素\n   * @return    返回坐标系对象\n   */\n\n\n  Coordinate.prototype.translate = function (x, y) {\n    var matrix = this.matrix;\n    mat3.translate(matrix, matrix, [x, y]);\n    return this;\n  };\n  /**\n   * 将坐标系 x y 两个轴进行转置\n   * @return 返回坐标系对象\n   */\n\n\n  Coordinate.prototype.transpose = function () {\n    this.isTransposed = !this.isTransposed;\n    return this;\n  };\n\n  Coordinate.prototype.getCenter = function () {\n    return this.center;\n  };\n\n  Coordinate.prototype.getWidth = function () {\n    return this.width;\n  };\n\n  Coordinate.prototype.getHeight = function () {\n    return this.height;\n  };\n\n  Coordinate.prototype.getRadius = function () {\n    return this.radius;\n  };\n  /**\n   * whether has reflect\n   * @param dim\n   */\n\n\n  Coordinate.prototype.isReflect = function (dim) {\n    return dim === 'x' ? this.isReflectX : this.isReflectY;\n  };\n  /**\n   * 重置 matrix\n   * @param matrix 如果传入，则使用，否则使用构造函数中传入的默认 matrix\n   */\n\n\n  Coordinate.prototype.resetMatrix = function (matrix) {\n    // 去除引用关系\n    this.matrix = matrix ? matrix : __spreadArrays(this.originalMatrix);\n  };\n\n  return Coordinate;\n}();\n\nexport default Coordinate;","import { __extends } from \"tslib\";\nimport Coordinate from './base';\n/**\n * 笛卡尔坐标系\n * https://www.zhihu.com/question/20665303\n */\n\nvar Cartesian =\n/** @class */\nfunction (_super) {\n  __extends(Cartesian, _super);\n\n  function Cartesian(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isRect = true;\n    _this.type = 'cartesian';\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Cartesian.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    var start = this.start;\n    var end = this.end;\n    this.x = {\n      start: start.x,\n      end: end.x\n    };\n    this.y = {\n      start: start.y,\n      end: end.y\n    };\n  };\n\n  Cartesian.prototype.convertPoint = function (point) {\n    var _a;\n\n    var x = point.x,\n        y = point.y; // 交换\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: this.convertDim(x, 'x'),\n      y: this.convertDim(y, 'y')\n    };\n  };\n\n  Cartesian.prototype.invertPoint = function (point) {\n    var _a;\n\n    var x = this.invertDim(point.x, 'x');\n    var y = this.invertDim(point.y, 'y');\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Cartesian;\n}(Coordinate);\n\nexport default Cartesian;","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n/**\n * 螺旋坐标系\n */\n\nvar Helix =\n/** @class */\nfunction (_super) {\n  __extends(Helix, _super);\n\n  function Helix(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isHelix = true;\n    _this.type = 'helix';\n    var _a = cfg.startAngle,\n        startAngle = _a === void 0 ? 1.25 * Math.PI : _a,\n        _b = cfg.endAngle,\n        endAngle = _b === void 0 ? 7.25 * Math.PI : _b,\n        _c = cfg.innerRadius,\n        innerRadius = _c === void 0 ? 0 : _c,\n        radius = cfg.radius;\n    _this.startAngle = startAngle;\n    _this.endAngle = endAngle;\n    _this.innerRadius = innerRadius;\n    _this.radius = radius;\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Helix.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    var index = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1; // 螺线圈数\n\n    var maxRadius = Math.min(this.width, this.height) / 2;\n\n    if (this.radius && this.radius >= 0 && this.radius <= 1) {\n      maxRadius = maxRadius * this.radius;\n    }\n\n    this.d = Math.floor(maxRadius * (1 - this.innerRadius) / index);\n    this.a = this.d / (Math.PI * 2); // 螺线系数\n\n    this.x = {\n      start: this.startAngle,\n      end: this.endAngle\n    };\n    this.y = {\n      start: this.innerRadius * maxRadius,\n      end: this.innerRadius * maxRadius + this.d * 0.99\n    };\n  };\n  /**\n   * 将百分比数据变成屏幕坐标\n   * @param point 归一化的点坐标\n   * @return      返回对应的屏幕坐标\n   */\n\n\n  Helix.prototype.convertPoint = function (point) {\n    var _a;\n\n    var x = point.x,\n        y = point.y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    var thi = this.convertDim(x, 'x');\n    var r = this.a * thi;\n    var newY = this.convertDim(y, 'y');\n    return {\n      x: this.center.x + Math.cos(thi) * (r + newY),\n      y: this.center.y + Math.sin(thi) * (r + newY)\n    };\n  };\n  /**\n   * 将屏幕坐标点还原成百分比数据\n   * @param point 屏幕坐标\n   * @return      返回对应的归一化后的数据\n   */\n\n\n  Helix.prototype.invertPoint = function (point) {\n    var _a;\n\n    var d = this.d + this.y.start;\n    var v = vec2.subtract([], [point.x, point.y], [this.center.x, this.center.y]);\n    var thi = vec2.angleTo(v, [1, 0], true);\n    var rMin = thi * this.a; // 坐标与原点的连线在第一圈上的交点，最小r值\n\n    if (vec2.length(v) < rMin) {\n      // 坐标与原点的连线不可能小于最小r值，但不排除因小数计算产生的略小于rMin的情况\n      rMin = vec2.length(v);\n    }\n\n    var index = Math.floor((vec2.length(v) - rMin) / d); // 当前点位于第index圈\n\n    thi = 2 * index * Math.PI + thi;\n    var r = this.a * thi;\n    var newY = vec2.length(v) - r;\n    newY = isNumberEqual(newY, 0) ? 0 : newY;\n    var x = this.invertDim(thi, 'x');\n    var y = this.invertDim(newY, 'y');\n    x = isNumberEqual(x, 0) ? 0 : x;\n    y = isNumberEqual(y, 0) ? 0 : y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Helix;\n}(Coordinate);\n\nexport default Helix;","import { __extends } from \"tslib\";\nimport { mat3, vec2, vec3 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n\nvar Polar =\n/** @class */\nfunction (_super) {\n  __extends(Polar, _super);\n\n  function Polar(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.isPolar = true;\n    _this.type = 'polar';\n    var _a = cfg.startAngle,\n        startAngle = _a === void 0 ? -Math.PI / 2 : _a,\n        _b = cfg.endAngle,\n        endAngle = _b === void 0 ? Math.PI * 3 / 2 : _b,\n        _c = cfg.innerRadius,\n        innerRadius = _c === void 0 ? 0 : _c,\n        radius = cfg.radius;\n    _this.startAngle = startAngle;\n    _this.endAngle = endAngle;\n    _this.innerRadius = innerRadius;\n    _this.radius = radius;\n\n    _this.initial();\n\n    return _this;\n  }\n\n  Polar.prototype.initial = function () {\n    _super.prototype.initial.call(this);\n\n    while (this.endAngle < this.startAngle) {\n      this.endAngle += Math.PI * 2;\n    }\n\n    var oneBox = this.getOneBox();\n    var oneWidth = oneBox.maxX - oneBox.minX;\n    var oneHeight = oneBox.maxY - oneBox.minY;\n    var left = Math.abs(oneBox.minX) / oneWidth;\n    var top = Math.abs(oneBox.minY) / oneHeight;\n    var maxRadius;\n\n    if (this.height / oneHeight > this.width / oneWidth) {\n      // width 为主\n      maxRadius = this.width / oneWidth;\n      this.circleCenter = {\n        x: this.center.x - (0.5 - left) * this.width,\n        y: this.center.y - (0.5 - top) * maxRadius * oneHeight\n      };\n    } else {\n      // height 为主\n      maxRadius = this.height / oneHeight;\n      this.circleCenter = {\n        x: this.center.x - (0.5 - left) * maxRadius * oneWidth,\n        y: this.center.y - (0.5 - top) * this.height\n      };\n    }\n\n    this.polarRadius = this.radius;\n\n    if (!this.radius) {\n      this.polarRadius = maxRadius;\n    } else if (this.radius > 0 && this.radius <= 1) {\n      this.polarRadius = maxRadius * this.radius;\n    } else if (this.radius <= 0 || this.radius > maxRadius) {\n      this.polarRadius = maxRadius;\n    }\n\n    this.x = {\n      start: this.startAngle,\n      end: this.endAngle\n    };\n    this.y = {\n      start: this.innerRadius * this.polarRadius,\n      end: this.polarRadius\n    };\n  };\n\n  Polar.prototype.getRadius = function () {\n    return this.polarRadius;\n  };\n\n  Polar.prototype.convertPoint = function (point) {\n    var _a;\n\n    var center = this.getCenter();\n    var x = point.x,\n        y = point.y;\n\n    if (this.isTransposed) {\n      _a = [y, x], x = _a[0], y = _a[1];\n    }\n\n    x = this.convertDim(x, 'x');\n    y = this.convertDim(y, 'y');\n    return {\n      x: center.x + Math.cos(x) * y,\n      y: center.y + Math.sin(x) * y\n    };\n  };\n\n  Polar.prototype.invertPoint = function (point) {\n    var center = this.getCenter();\n    var vPoint = [point.x - center.x, point.y - center.y];\n    var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    mat3.rotate(m, m, this.startAngle);\n    var vStart = [1, 0, 0];\n    vec3.transformMat3(vStart, vStart, m);\n    vStart = [vStart[0], vStart[1]];\n    var angle = vec2.angleTo(vStart, vPoint, this.endAngle < this.startAngle);\n\n    if (isNumberEqual(angle, Math.PI * 2)) {\n      angle = 0;\n    }\n\n    var radius = vec2.length(vPoint);\n    var xPercent = angle / (this.endAngle - this.startAngle);\n    xPercent = this.endAngle - this.startAngle > 0 ? xPercent : -xPercent;\n    var yPercent = this.invertDim(radius, 'y');\n    var rst = {\n      x: 0,\n      y: 0\n    };\n    rst.x = this.isTransposed ? yPercent : xPercent;\n    rst.y = this.isTransposed ? xPercent : yPercent;\n    return rst;\n  };\n\n  Polar.prototype.getCenter = function () {\n    return this.circleCenter;\n  };\n\n  Polar.prototype.getOneBox = function () {\n    var startAngle = this.startAngle;\n    var endAngle = this.endAngle;\n\n    if (Math.abs(endAngle - startAngle) >= Math.PI * 2) {\n      return {\n        minX: -1,\n        maxX: 1,\n        minY: -1,\n        maxY: 1\n      };\n    }\n\n    var xs = [0, Math.cos(startAngle), Math.cos(endAngle)];\n    var ys = [0, Math.sin(startAngle), Math.sin(endAngle)];\n\n    for (var i = Math.min(startAngle, endAngle); i < Math.max(startAngle, endAngle); i += Math.PI / 18) {\n      xs.push(Math.cos(i));\n      ys.push(Math.sin(i));\n    }\n\n    return {\n      minX: Math.min.apply(Math, xs),\n      maxX: Math.max.apply(Math, xs),\n      minY: Math.min.apply(Math, ys),\n      maxY: Math.max.apply(Math, ys)\n    };\n  };\n\n  return Polar;\n}(Coordinate);\n\nexport default Polar;","// 所有的 Coordinate map\nvar COORDINATE_MAP = {};\n/**\n * 通过类型获得 coordinate 类\n * @param type\n */\n\nexport var getCoordinate = function getCoordinate(type) {\n  return COORDINATE_MAP[type.toLowerCase()];\n};\n/**\n * 注册 coordinate 类\n * @param type\n * @param ctor\n */\n\nexport var registerCoordinate = function registerCoordinate(type, ctor) {\n  // 存储到 map 中\n  COORDINATE_MAP[type.toLowerCase()] = ctor;\n};","import Coordinate from './coord/base';\nimport Cartesian from './coord/cartesian';\nimport Helix from './coord/helix';\nimport Polar from './coord/polar';\nimport { getCoordinate, registerCoordinate } from './factory';\nregisterCoordinate('rect', Cartesian);\nregisterCoordinate('cartesian', Cartesian);\nregisterCoordinate('polar', Polar);\nregisterCoordinate('helix', Helix);\nexport { getCoordinate, registerCoordinate, Coordinate };","import { isArray, isNil, isString } from '@antv/util'; // todo 这个到底目的是什么？\n\nvar toScaleString = function toScaleString(scale, value) {\n  if (isString(value)) {\n    return value;\n  }\n\n  return scale.invert(scale.scale(value));\n};\n/**\n * 所有视觉通道属性的基类\n * @class Base\n */\n\n\nvar Attribute =\n/** @class */\nfunction () {\n  function Attribute(cfg) {\n    this.names = [];\n    this.scales = [];\n    this.linear = false;\n    this.values = [];\n\n    this.callback = function () {\n      return [];\n    }; // 解析配置\n\n\n    this._parseCfg(cfg);\n  }\n  /**\n   * 映射的值组成的数组\n   * @param params 对应 scale 顺序的值传入\n   */\n\n\n  Attribute.prototype.mapping = function () {\n    var _this = this;\n\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    }\n\n    var values = params.map(function (param, idx) {\n      return _this._toOriginParam(param, _this.scales[idx]);\n    });\n    return this.callback.apply(this, values);\n  };\n  /**\n   * 如果进行线性映射，返回对应的映射值\n   * @param percent\n   */\n\n\n  Attribute.prototype.getLinearValue = function (percent) {\n    // 分段数量\n    var steps = this.values.length - 1;\n    var step = Math.floor(steps * percent);\n    var leftPercent = steps * percent - step; // todo 不懂这个逻辑\n\n    var start = this.values[step];\n    var end = step === steps ? start : this.values[step + 1]; // 线性方程\n\n    return start + (end - start) * leftPercent;\n  };\n  /**\n   * 根据度量获取属性名\n   */\n\n\n  Attribute.prototype.getNames = function () {\n    var scales = this.scales;\n    var names = this.names;\n    var length = Math.min(scales.length, names.length);\n    var rst = [];\n\n    for (var i = 0; i < length; i += 1) {\n      rst.push(names[i]);\n    }\n\n    return rst;\n  };\n  /**\n   * 获取所有的维度名\n   */\n\n\n  Attribute.prototype.getFields = function () {\n    return this.scales.map(function (scale) {\n      return scale.field;\n    });\n  };\n  /**\n   * 根据名称获取度量\n   * @param name\n   */\n\n\n  Attribute.prototype.getScale = function (name) {\n    return this.scales[this.names.indexOf(name)];\n  };\n  /**\n   * 默认的回调函数（用户没有自定义 callback，或者用户自定义 callback 返回空的时候，使用 values 映射）\n   * @param params\n   */\n\n\n  Attribute.prototype.defaultCallback = function () {\n    var _this = this;\n\n    var params = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      params[_i] = arguments[_i];\n    } // 没有 params 的情况，是指没有指定 fields，直接返回配置的 values 常量\n\n\n    if (params.length === 0) {\n      return this.values;\n    }\n\n    return params.map(function (param, idx) {\n      var scale = _this.scales[idx];\n      return scale.type === 'identity' ? scale.values[0] : _this._getAttributeValue(scale, param);\n    });\n  }; // 解析配置\n\n\n  Attribute.prototype._parseCfg = function (cfg) {\n    var _this = this;\n\n    var _a = cfg.type,\n        type = _a === void 0 ? 'base' : _a,\n        _b = cfg.names,\n        names = _b === void 0 ? [] : _b,\n        _c = cfg.scales,\n        scales = _c === void 0 ? [] : _c,\n        _d = cfg.values,\n        values = _d === void 0 ? [] : _d,\n        callback = cfg.callback;\n    this.type = type;\n    this.scales = scales;\n    this.values = values;\n    this.names = names; // 构造 callback 方法\n\n    this.callback = function () {\n      var params = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        params[_i] = arguments[_i];\n      }\n      /**\n       * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n       */\n\n\n      if (callback) {\n        // 使用用户返回的值处理\n        var ret = callback.apply(void 0, params);\n\n        if (!isNil(ret)) {\n          return [ret];\n        }\n      } // 没有 callback 或者用户 callback 返回值为空，则使用默认的逻辑处理\n\n\n      return _this.defaultCallback.apply(_this, params);\n    };\n  }; // 获取属性值，将值映射到视觉通道\n\n\n  Attribute.prototype._getAttributeValue = function (scale, value) {\n    // 如果是非线性的字段，直接从 values 中取值即可\n    if (scale.isCategory && !this.linear) {\n      // 离散 scale 变换成索引\n      var idx = scale.translate(value);\n      return this.values[idx % this.values.length];\n    } // 线性则使用线性值\n\n\n    var percent = scale.scale(value);\n    return this.getLinearValue(percent);\n  };\n  /**\n   * 通过 scale 拿到数据对应的原始的参数\n   * @param param\n   * @param scale\n   * @private\n   */\n\n\n  Attribute.prototype._toOriginParam = function (param, scale) {\n    // 是线性，直接返回\n    // 非线性，使用 scale 变换\n    return !scale.isLinear ? isArray(param) ? param.map(function (p) {\n      return toScaleString(scale, p);\n    }) : toScaleString(scale, param) : param;\n  };\n\n  return Attribute;\n}();\n\nexport default Attribute;","import { __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { isString } from '@antv/util';\nimport Attribute from './base';\n\nvar Color =\n/** @class */\nfunction (_super) {\n  __extends(Color, _super);\n\n  function Color(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'color';\n    _this.names = ['color'];\n\n    if (isString(_this.values)) {\n      _this.linear = true;\n    }\n\n    _this.gradient = colorUtil.gradient(_this.values);\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Color.prototype.getLinearValue = function (percent) {\n    return this.gradient(percent);\n  };\n\n  return Color;\n}(Attribute);\n\nexport default Color;","import { __extends } from \"tslib\";\nimport Attribute from './base';\n\nvar Opacity =\n/** @class */\nfunction (_super) {\n  __extends(Opacity, _super);\n\n  function Opacity(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'opacity';\n    _this.names = ['opacity'];\n    return _this;\n  }\n\n  return Opacity;\n}(Attribute);\n\nexport default Opacity;","import { __extends } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport Attribute from './base';\n\nvar Position =\n/** @class */\nfunction (_super) {\n  __extends(Position, _super);\n\n  function Position(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.names = ['x', 'y'];\n    _this.type = 'position';\n    return _this;\n  }\n\n  Position.prototype.mapping = function (x, y) {\n    var _a = this.scales,\n        scaleX = _a[0],\n        scaleY = _a[1];\n\n    if (isNil(x) || isNil(y)) {\n      return [];\n    }\n\n    return [isArray(x) ? x.map(function (xi) {\n      return scaleX.scale(xi);\n    }) : scaleX.scale(x), isArray(y) ? y.map(function (yi) {\n      return scaleY.scale(yi);\n    }) : scaleY.scale(y)];\n  };\n\n  return Position;\n}(Attribute);\n\nexport default Position;","import { __extends } from \"tslib\";\nimport Attribute from './base';\n\nvar Shape =\n/** @class */\nfunction (_super) {\n  __extends(Shape, _super);\n\n  function Shape(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'shape';\n    _this.names = ['shape'];\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  Shape.prototype.getLinearValue = function (percent) {\n    var idx = Math.round((this.values.length - 1) * percent);\n    return this.values[idx];\n  };\n\n  return Shape;\n}(Attribute);\n\nexport default Shape;","import { __extends } from \"tslib\";\nimport Attribute from './base';\n\nvar Size =\n/** @class */\nfunction (_super) {\n  __extends(Size, _super);\n\n  function Size(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.type = 'size';\n    _this.names = ['size'];\n    return _this;\n  }\n\n  return Size;\n}(Attribute);\n\nexport default Size;","import Attribute from './attributes/base'; // 所有的 attribute map\n\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\n\nvar getAttribute = function getAttribute(type) {\n  return ATTRIBUTE_MAP[type.toLowerCase()];\n};\n\nvar registerAttribute = function registerAttribute(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAttribute(type)) {\n    throw new Error(\"Attribute type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\n\nexport { getAttribute, registerAttribute, Attribute };\nexport * from './interface';","import Attribute from './attributes/base';\nimport Color from './attributes/color';\nimport Opacity from './attributes/opacity';\nimport Position from './attributes/position';\nimport Shape from './attributes/shape';\nimport Size from './attributes/size';\nimport { getAttribute, registerAttribute } from './factory';\nregisterAttribute('Color', Color);\nregisterAttribute('Opacity', Opacity);\nregisterAttribute('Position', Position);\nregisterAttribute('Shape', Shape);\nregisterAttribute('Size', Size);\nexport { registerAttribute, getAttribute, Attribute // 以下 export 是为了兼容，理论上是不需要的\n, Color, Opacity, Position, Shape, Size };\nexport * from './interface';","/**\n * @description scale 的控制器\n */\nimport * as _ from '@antv/util';\nimport { getScale } from '../../dependents'; // tslint:disable-next-line\n\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\nvar Types;\n\n(function (Types) {\n  Types[\"Linear\"] = \"linear\";\n  Types[\"Cat\"] = \"cat\";\n  Types[\"Time\"] = \"time\";\n})(Types || (Types = {}));\n\nvar ScaleController =\n/** @class */\nfunction () {\n  function ScaleController(cfg) {\n    this.defs = {}; // Scale 配置项信息\n\n    this.defs = cfg;\n  }\n\n  ScaleController.prototype.createScale = function (field, data) {\n    var def = this.defs[field];\n    var scale; // 如果数据为空直接返回常量度量\n\n    if (!data || !data.length) {\n      if (def && def.type) {\n        var Scale = getScale(def.type);\n        scale = new Scale(def);\n      } else {\n        var Identity = getScale('identity');\n        scale = new Identity({\n          field: field.toString(),\n          values: [field]\n        });\n      }\n\n      return scale;\n    }\n\n    var firstValue = _.firstValue(data, field);\n\n    if (_.isNumber(field) || _.isNil(firstValue) && !def) {\n      var Identity = getScale('identity');\n      scale = new Identity({\n        field: field.toString(),\n        values: [field]\n      });\n    } else {\n      // 如果已经定义过这个度量\n      var type = _.get(def, 'type', this._getDefaultType(field, data));\n\n      var cfg = this._getScaleCfg(type, field, data);\n\n      if (def) {\n        _.mix(cfg, def);\n      }\n\n      var Scale = getScale(type);\n      scale = new Scale(cfg);\n    }\n\n    return scale;\n  };\n\n  ScaleController.prototype._getDefaultType = function (field, data) {\n    var type = Types.Linear;\n\n    var value = _.firstValue(data, field);\n\n    if (_.isArray(value)) {\n      value = value[0];\n    }\n\n    if (dateRegex.test(value)) {\n      type = Types.Time;\n    } else if (_.isString(value)) {\n      type = Types.Cat;\n    }\n\n    return type;\n  };\n\n  ScaleController.prototype._getScaleCfg = function (type, field, data) {\n    var values = _.valuesOfKey(data, field);\n\n    var cfg = {\n      field: field,\n      values: values\n    };\n\n    if (type !== 'cat' && type !== 'timeCat' && type !== 'time') {\n      var _a = _.getRange(values),\n          min = _a.min,\n          max = _a.max;\n\n      cfg.min = min;\n      cfg.max = max;\n      cfg.nice = true;\n    }\n\n    if (type === 'time') {\n      cfg.nice = false;\n    }\n\n    return cfg;\n  };\n\n  return ScaleController;\n}();\n\nexport default ScaleController;","import { __assign } from \"tslib\";\n/**\n * @description coord 的控制器\n */\n\nimport * as _ from '@antv/util';\nimport { getCoordinate } from '../../dependents';\n\nvar CoordController =\n/** @class */\nfunction () {\n  function CoordController(option) {\n    if (option === void 0) {\n      option = {};\n    }\n\n    this.type = 'rect';\n    this.actions = [];\n    this.cfg = {};\n    this.options = {};\n\n    _.mix(this, option);\n\n    this.options = option; // ugly！！！通过浅拷贝 view.get('options').coord 来动态更改该属性值，见 view.ts#L917\n  }\n\n  CoordController.prototype.reset = function (option) {\n    this.type = option.type || 'rect';\n    this.actions = option.actions || [];\n    this.cfg = option.cfg; // 更新 view.get('options').coord，见view.ts#L917\n\n    this.options.type = this.type;\n    this.options.actions = this.actions;\n    this.options.cfg = this.cfg;\n    return this;\n  };\n  /**\n   * 创建坐标系对象\n   * @param  {Object} start 坐标系起始点\n   * @param  {Object} end   坐标系结束点\n   * @return {Function} 坐标系的构造函数\n   */\n\n\n  CoordController.prototype.createCoord = function (start, end) {\n    var type = this.type;\n    var cfg = this.cfg;\n    var C; // 构造函数\n\n    var coord;\n\n    var coordCfg = __assign({\n      start: start,\n      end: end\n    }, cfg);\n\n    if (type === 'theta') {\n      // definition of theta coord\n      C = getCoordinate('polar');\n\n      if (!this._hasAction('transpose')) {\n        this.transpose(); // 极坐标，同时transpose\n      }\n\n      coord = new C(coordCfg);\n      coord.type = type;\n    } else {\n      C = getCoordinate(type);\n      coord = new C(coordCfg);\n    }\n\n    this._execActions(coord);\n\n    return coord;\n  };\n  /**\n   * 围绕坐标系中心点旋转对应的角度\n   * @param angle 旋转角度\n   */\n\n\n  CoordController.prototype.rotate = function (angle) {\n    var _angle = angle * Math.PI / 180;\n\n    this.actions.push(['rotate', _angle]);\n    return this;\n  };\n  /**\n   * 将坐标系沿 x 方向或者沿 y 轴方向进行镜像映射\n   * @param dim 镜像方向，可选值 'x' 和 'y'，默认为 'x'\n   */\n\n\n  CoordController.prototype.reflect = function (dim) {\n    if (dim === void 0) {\n      dim = 'y';\n    }\n\n    this.actions.push(['reflect', dim]);\n    return this;\n  };\n  /**\n   * 根据坐标系中心点进行相应的缩放\n   * @param sx x 轴缩放值\n   * @param sy y 轴缩放值\n   */\n\n\n  CoordController.prototype.scale = function (sx, sy) {\n    this.actions.push(['scale', sx, sy]);\n    return this;\n  };\n  /**\n   * x，y 轴交换\n   */\n\n\n  CoordController.prototype.transpose = function () {\n    this.actions.push(['transpose']);\n    return this;\n  };\n\n  CoordController.prototype._execActions = function (coord) {\n    _.each(this.actions, function (action) {\n      var m = action[0];\n      coord[m](action[1], action[2]);\n    });\n  };\n\n  CoordController.prototype._hasAction = function (actionName) {\n    var actions = this.actions;\n    var rst = false;\n\n    _.each(actions, function (action) {\n      if (actionName === action[0]) {\n        rst = true;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  return CoordController;\n}();\n\nexport default CoordController;","import { __assign, __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar Guide =\n/** @class */\nfunction (_super) {\n  __extends(Guide, _super);\n\n  function Guide(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = __assign({\n      id: null,\n      // 容器\n      canvas: null,\n      container: null,\n      group: null,\n      // 交互属性\n      capture: true,\n      // props\n      // coord: null,\n      offsetX: 0,\n      offsetY: 0,\n      visible: true,\n      zIndex: 1\n    }, cfg);\n    _this.destroyed = false;\n    return _this;\n  } // 由于重构后影响太大了 所以使用any先\n\n\n  Guide.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Guide.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Guide.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n\n  return Guide;\n}(EventEmitter);\n\nexport { Guide };\nexport default Guide;","import * as _ from '@antv/util';\n\nvar Greedy =\n/** @class */\nfunction () {\n  function Greedy(cfg) {\n    this.bitmap = {};\n    this.xGap = 1;\n    this.yGap = 8; // optimizing for text overlapping detection: use a min text height as gap\n\n    if (cfg) {\n      _.mix(this, cfg);\n    }\n  }\n\n  Greedy.prototype.hasGap = function (bbox) {\n    var hasGap = true;\n    var bitmap = this.bitmap;\n    var minX = Math.round(bbox.minX);\n    var maxX = Math.round(bbox.maxX);\n    var minY = Math.round(bbox.minY);\n    var maxY = Math.round(bbox.maxY);\n\n    for (var i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n\n      if (i === minX || i === maxX) {\n        for (var j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n\n    return hasGap;\n  };\n\n  Greedy.prototype.fillGap = function (bbox) {\n    var bitmap = this.bitmap;\n    var minX = Math.round(bbox.minX);\n    var maxX = Math.round(bbox.maxX);\n    var minY = Math.round(bbox.minY);\n    var maxY = Math.round(bbox.maxY); // filling grid\n\n    for (var i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n\n    for (var i = minX; i <= maxX; i += this.xGap) {\n      for (var j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n\n      bitmap[i][maxY] = true;\n    } // filling y edges\n\n\n    if (this.yGap !== 1) {\n      for (var i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    } // filling x edges\n\n\n    if (this.xGap !== 1) {\n      for (var i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  };\n\n  Greedy.prototype.destroy = function () {\n    this.bitmap = {};\n  };\n\n  return Greedy;\n}();\n\nexport default Greedy;","import Greedy from './util/greedy';\n/*\n   *  根据如下规则尝试放置label\n   *                5\n   *        ------------------\n   *        |    1   |   0   |\n   *    8   —————————4————————   7\n   *        |    2   |   3   |\n   *        ——————————————————\n   *                 6\n   */\n\nfunction adjustLabelPosition(label, x, y, index) {\n  var bbox = label.getBBox();\n  var width = bbox.width;\n  var height = bbox.height;\n  var attrs = {\n    x: x,\n    y: y,\n    textAlign: 'center'\n  };\n\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n\n    default:\n      break;\n  }\n\n  label.attr(attrs);\n  return label.getBBox();\n}\n\nexport default function (labels) {\n  var greedy = new Greedy();\n  var toBeRemoved = [];\n  var bbox;\n  var label;\n  var x;\n  var y;\n  var canFill;\n\n  for (var i = 0; i < labels.length; i++) {\n    label = labels[i];\n    x = label.attr('x');\n    y = label.attr('y');\n    canFill = false;\n\n    for (var i_1 = 0; i_1 <= 8; i_1++) {\n      bbox = adjustLabelPosition(label, x, y, i_1);\n\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n\n    if (!canFill) {\n      toBeRemoved.push(label);\n    }\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n}","import Greedy from './util/greedy';\nvar MAX_TIMES = 100;\n\nfunction spiralFill(label, greedy, maxTimes) {\n  if (maxTimes === void 0) {\n    maxTimes = MAX_TIMES;\n  }\n\n  var dt = -1;\n  var x = label.attr('x');\n  var y = label.attr('y');\n  var bbox = label.getBBox();\n  var maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  var dxdy;\n  var t = -dt;\n  var dx = 0;\n  var dy = 0;\n\n  var f = function f(t) {\n    var nt = t * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n\n  var canFill = false;\n  var times = 0;\n  var accessedCache = {};\n\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f(t += dt);\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n\n    if (!dx && !dy || accessedCache[dx + \"-\" + dy]) {\n      continue;\n    }\n\n    label.attr({\n      x: x + dx,\n      y: y + dy\n    });\n\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n\n    times++;\n\n    if (greedy.hasGap(label.getBBox())) {\n      greedy.fillGap(label.getBBox());\n      canFill = true;\n      accessedCache[dx + \"-\" + dy] = true;\n      break;\n    }\n  }\n\n  return canFill;\n}\n\nexport default function (labels, maxTimes) {\n  if (maxTimes === void 0) {\n    maxTimes = MAX_TIMES;\n  }\n\n  var label;\n  var greedy = new Greedy();\n  var toBeRemoved = [];\n\n  for (var i = 0; i < labels.length; i++) {\n    label = labels[i];\n\n    if (!spiralFill(label, greedy, maxTimes)) {\n      toBeRemoved.push(label);\n    }\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n}","var _a;\n\nimport { FONT_FAMILY } from '../const'; // tooltip 相关 dom 的 css 类名\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nexport default (_a = {}, // css style for tooltip\n_a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n  position: 'absolute',\n  display: 'none',\n  // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n  // whiteSpace: 'nowrap',\n  zIndex: 8,\n  transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' + 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' + 'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  boxShadow: '0px 0px 10px #aeaeae',\n  borderRadius: '3px',\n  color: 'rgb(87, 87, 87)',\n  fontSize: '12px',\n  fontFamily: FONT_FAMILY,\n  lineHeight: '20px',\n  padding: '10px 10px 6px 10px'\n}, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n  margin: 0,\n  listStyleType: 'none',\n  padding: 0\n}, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n  width: '5px',\n  height: '5px',\n  borderRadius: '50%',\n  display: 'inline-block',\n  marginRight: '8px'\n}, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n  display: 'inline-block',\n  float: 'right',\n  marginLeft: '30px'\n}, _a);","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport bboxAdjust from './adjust/bbox';\nimport positionAdjust from './adjust/position';\nimport spirialAdjust from './adjust/spiral';\nvar LAYOUTS = {\n  scatter: positionAdjust,\n  map: spirialAdjust,\n  treemap: bboxAdjust\n};\n\nvar Label =\n/** @class */\nfunction (_super) {\n  __extends(Label, _super);\n\n  function Label(cfg) {\n    return _super.call(this, __assign({\n      name: 'label',\n      type: 'default',\n      // html 渲染时用的容器的模板，必须存在 class = \"g-labels\"\n      containerTpl: '<div class=\"g-labels\" style=\"position:absolute;top:0;left:0;\"></div>',\n      // html 渲染时单个 label 的模板，必须存在 class = \"g-label\"\n      itemTpl: '<div class=\"g-label\" style=\"position:absolute;\">{text}</div>',\n      items: null,\n      lineGroup: null,\n      shapes: null,\n      useHtml: false\n    }, cfg)) || this;\n  }\n  /**\n   * label绘制全过程\n   */\n\n\n  Label.prototype.render = function () {\n    this.clear();\n\n    this._init();\n\n    this.emit('beforerender');\n    this.draw();\n    this.emit('afterrender');\n  };\n  /**\n   * 更新 label\n   * 1. 将items与group中的children对比，更新/新增/删除labels\n   * 2. labels布局优化\n   * 3. 画label连接线\n   * 4. 绘制到画布\n   */\n\n\n  Label.prototype.draw = function (canvasDraw) {\n    if (canvasDraw === void 0) {\n      canvasDraw = true;\n    }\n\n    this._dryDraw();\n\n    canvasDraw && this.get('canvas').draw();\n  };\n  /*\n   * 清空label容器\n   */\n\n\n  Label.prototype.clear = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group && !group.destroyed) {\n      group.clear();\n    }\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  };\n  /**\n   * 销毁group\n   */\n\n\n  Label.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group && !group.destroyed) {\n      group.destroy();\n    }\n\n    if (container) {\n      container.innerHTML = '';\n    }\n  };\n  /*\n   * 更新label\n   * oldLabel shape或label dom\n   * newLabel label data\n   * index items中的下标\n   */\n\n\n  Label.prototype.changeLabel = function (oldLabel, newLabel) {\n    if (!oldLabel) {\n      return;\n    }\n\n    if (oldLabel.tagName) {\n      var node = this._createDom(newLabel);\n\n      oldLabel.innerHTML = node.innerHTML;\n\n      this._setCustomPosition(newLabel, oldLabel);\n    } else {\n      oldLabel.id = newLabel.id;\n      oldLabel.attr('text', newLabel.text);\n\n      if (oldLabel.attr('x') !== newLabel.x || oldLabel.attr('y') !== newLabel.y) {\n        oldLabel.resetMatrix();\n\n        if (newLabel.textStyle.rotate) {\n          oldLabel.rotateAtStart(newLabel.textStyle.rotate);\n          delete newLabel.textStyle.rotate;\n        }\n\n        oldLabel.attr(newLabel);\n      }\n    }\n  };\n  /**\n   * 显示label\n   */\n\n\n  Label.prototype.show = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group) {\n      group.show();\n    }\n\n    if (container) {\n      container.style.opacity = 1;\n    }\n  };\n  /**\n   * 隐藏label\n   */\n\n\n  Label.prototype.hide = function () {\n    var group = this.get('group');\n    var container = this.get('container');\n\n    if (group) {\n      group.hide();\n    }\n\n    if (container) {\n      container.style.opacity = 0;\n    }\n  };\n  /**\n   * 画label连接线\n   */\n\n\n  Label.prototype.drawLines = function () {\n    var _this = this;\n\n    var lineGroup = this.get('lineGroup');\n\n    if (!lineGroup || lineGroup.destroyed) {\n      lineGroup = this.get('group').addGroup();\n      this.set('lineGroup', lineGroup);\n    } else {\n      lineGroup.clear();\n    }\n\n    Util.each(this.get('items'), function (label) {\n      _this._lineToLabel(label, lineGroup);\n    });\n  };\n\n  Label.prototype._lineToLabel = function (label, lineGroup) {\n    if (!label.labelLine) {\n      // labelLine: null | false，关闭 label 对应的 labelLine\n      return;\n    }\n\n    var lineStyle = Util.isBoolean(label.labelLine) ? {} : label.labelLine; // 兼容 labelLine: true，此时使用默认的样式\n\n    var capture = typeof label.capture === 'undefined' ? this.get('capture') : label.capture;\n    var path = lineStyle.path;\n\n    if (path && Util.isFunction(lineStyle.path)) {\n      path = lineStyle.path(label);\n    }\n\n    if (!path) {\n      var start = label.start;\n      path = [['M', start.x, start.y], ['L', label.x, label.y]];\n    }\n\n    var stroke = label.color;\n\n    if (!stroke) {\n      if (label.textStyle && label.textStyle.fill) {\n        stroke = label.textStyle.fill;\n      } else {\n        stroke = '#000';\n      }\n    }\n\n    var lineShape = lineGroup.addShape('path', {\n      capture: capture,\n      attrs: Util.mix({\n        path: path,\n        stroke: stroke,\n        fill: null\n      }, lineStyle)\n    }); // label 对应线的动画关闭\n\n    lineShape.name = this.get('name'); // generate labelLine id according to label id\n\n    lineShape.id = label.id && label.id.replace('glabel', 'glabelline');\n    lineShape.set('coord', this.get('coord'));\n  }; // 根据type对label布局\n\n\n  Label.prototype._adjustLabels = function () {\n    var type = this.get('type');\n    var labels = this.getLabels();\n    var shapes = this.get('shapes');\n    var layout = LAYOUTS[type];\n\n    if (!layout) {\n      return;\n    }\n\n    layout(labels, shapes);\n  };\n  /**\n   * 获取当前所有label实例\n   * @return {Array} 当前label实例\n   */\n\n\n  Label.prototype.getLabels = function () {\n    var container = this.get('container');\n\n    if (container) {\n      return Util.toArray(container.childNodes);\n    }\n\n    var children = this.get('group').get('children');\n    return Util.filter(children, function (child) {\n      return child.isShape;\n    });\n  }; // 分html dom和G shape两种情况生成label实例\n\n\n  Label.prototype._createText = function (oldcfg) {\n    var cfg = oldcfg;\n    var container = this.get('container');\n    var capture = typeof cfg.capture === 'undefined' ? this.get('capture') : cfg.capture;\n    var labelShape;\n\n    if (cfg.useHtml || cfg.htmlTemplate) {\n      if (!container) {\n        container = this._initHtmlContainer();\n      }\n\n      var node = this._createDom(cfg);\n\n      container.appendChild(node);\n\n      this._setCustomPosition(cfg, node);\n    } else {\n      var name_1 = this.get('name');\n      var origin_1 = cfg.origin;\n      var group = this.get('group');\n      delete cfg.origin; // 临时解决，否则影响动画\n\n      var rotate = cfg.rotate; // textStyle中的rotate虽然可以正常画出，但是在做动画的时候可能会导致动画异常。移出，在定义好shape后通过transform实现效果。\n\n      if (cfg.textStyle) {\n        if (cfg.textStyle.rotate) {\n          rotate = cfg.textStyle.rotate;\n          delete cfg.textStyle.rotate;\n        }\n\n        cfg = Util.mix({\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          text: cfg.text\n        }, cfg.textStyle);\n      }\n\n      labelShape = group.addShape('text', {\n        capture: capture,\n        attrs: cfg\n      });\n\n      if (rotate) {\n        // rotate是用角度定义的，转换为弧度\n        if (Math.abs(rotate) > Math.PI * 2) {\n          rotate = rotate / 180 * Math.PI;\n        }\n\n        labelShape.transform([['t', -cfg.x, -cfg.y], ['r', rotate], ['t', cfg.x, cfg.y]]);\n      }\n\n      labelShape.setSilent('origin', origin_1 || cfg);\n      labelShape.name = name_1; // 用于事件标注\n\n      this.get('appendInfo') && labelShape.setSilent('appendInfo', this.get('appendInfo'));\n      return labelShape;\n    }\n  };\n\n  Label.prototype._initHtmlContainer = function () {\n    var container = this.get('container');\n\n    if (!container) {\n      var containerTpl = this.get('containerTpl');\n      var wrapper = this.get('canvas').get('el').parentNode;\n      container = domUtil.createDom(containerTpl);\n      wrapper.style.position = 'relative';\n      wrapper.appendChild(container);\n      this.set('container', container);\n    }\n\n    return container;\n  };\n\n  Label.prototype._createDom = function (cfg) {\n    var itemTpl = this.get('itemTpl');\n    var str = Util.substitute(itemTpl, {\n      text: cfg.text\n    });\n    return domUtil.createDom(str);\n  }; // 根据文本对齐方式确定dom位置\n\n\n  Label.prototype._setCustomPosition = function (cfg, htmlDom) {\n    var textAlign = cfg.textAlign || 'left';\n    var top = cfg.y;\n    var left = cfg.x;\n    var width = domUtil.getOuterWidth(htmlDom);\n    var height = domUtil.getOuterHeight(htmlDom);\n    top = top - height / 2;\n\n    if (textAlign === 'center') {\n      left = left - width / 2;\n    } else if (textAlign === 'right') {\n      left = left - width;\n    }\n\n    htmlDom.style.top = parseInt(top, 10) + \"px\";\n    htmlDom.style.left = parseInt(left, 10) + \"px\";\n  }; // label 容器初始化\n\n\n  Label.prototype._init = function () {\n    if (!this.get('group')) {\n      var group = this.get('canvas').addGroup({\n        id: 'label-group'\n      });\n      this.set('group', group);\n    }\n  };\n\n  Label.prototype._dryDraw = function () {\n    var _this = this;\n\n    var items = this.get('items');\n    var children = this.getLabels();\n    var count = children.length;\n    Util.each(items, function (item, index) {\n      if (index < count) {\n        var label = children[index];\n\n        _this.changeLabel(label, item);\n      } else {\n        var labelShape = _this._createText(item);\n\n        if (labelShape) {\n          labelShape.id = item.id;\n          labelShape.set('coord', item.coord);\n        }\n      }\n    });\n\n    for (var i = count - 1; i >= items.length; i -= 1) {\n      children[i].remove();\n    }\n\n    this._adjustLabels();\n\n    this.drawLines();\n  };\n\n  return Label;\n}(Guide);\n\nexport default Label;","export default (function (labels, shapes) {\n  var labelBBox;\n  var shapeBBox;\n  var toBeRemoved = [];\n\n  for (var i = 0; i < labels.length; i++) {\n    labelBBox = labels[i].getBBox();\n    shapeBBox = shapes[i].getBBox();\n\n    if (labelBBox.width > shapeBBox.width || labelBBox.height > shapeBBox.height) {\n      toBeRemoved.push(labels[i]);\n    } // FIXME this is not going to be true\n    // } else if (labelBBox.width * labelBBox.height > shapeBBox.width * shapeBBox.height) {\n    //   toBeRemoved.push(labels[i]);\n    // }\n\n  }\n\n  for (var i = 0; i < toBeRemoved.length; i++) {\n    toBeRemoved[i].remove();\n  }\n});","import Label from './base';\nexport default Label;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip(cfg) {\n    return _super.call(this, __assign({\n      /**\n       * 右下角坐标\n       */\n      x: 0,\n\n      /**\n       * y 右下角坐标\n       */\n      y: 0,\n\n      /**\n       * tooltip 记录项\n       */\n      items: null,\n\n      /**\n       * tooltip 标题\n       * @type {Array}\n       */\n      titleContent: null,\n\n      /**\n       * 是否展示 title\n       * @type {Boolean}\n       */\n      showTitle: true,\n\n      /**\n       * 视图范围\n       * @type {Object}\n       */\n      panelRange: null,\n\n      /**\n       * 将 tooltip 展示在指定区域内\n       * @type {Boolean}\n       */\n      inPanel: true,\n\n      /**\n       * tooltip 辅助线配置\n       * @type {Object}\n       */\n      crosshairs: null\n    }, cfg)) || this;\n  }\n\n  Tooltip.prototype.isContentChange = function (title, items) {\n    var titleContent = this.get('titleContent');\n    var lastItems = this.get('items');\n    var isChanged = !(title === titleContent && lastItems.length === items.length);\n\n    if (!isChanged) {\n      Util.each(items, function (item, index) {\n        var preItem = lastItems[index];\n        var keys = Object.keys(item);\n        isChanged = keys.some(function (key) {\n          return !Util.isObject(item[key]) && item[key] !== preItem[key];\n        });\n\n        if (isChanged) {\n          return false;\n        }\n      });\n    }\n\n    return isChanged;\n  };\n\n  Tooltip.prototype.setContent = function (title, items) {\n    this.set('items', items);\n    this.set('titleContent', title);\n    this.render();\n    return this;\n  };\n\n  Tooltip.prototype.setPosition = function (x, y, target) {\n    this.set('x', x);\n    this.set('y', y);\n  };\n\n  Tooltip.prototype.setMarkers = function (markerItems, markerCfg) {\n    var markerGroup = this.get('markerGroup');\n    var frontgroundGroup = this.get('frontgroundGroup');\n\n    if (!markerGroup) {\n      markerGroup = frontgroundGroup.addGroup({\n        zIndex: 1,\n        capture: false\n      });\n      this.set('markerGroup', markerGroup);\n    } else {\n      markerGroup.clear();\n    }\n\n    Util.each(markerItems, function (item) {\n      markerGroup.addShape('marker', {\n        color: item.color,\n        attrs: Util.mix({\n          fill: item.color,\n          symbol: 'circle',\n          shadowColor: item.color\n        }, markerCfg, {\n          x: item.x,\n          y: item.y\n        })\n      });\n    });\n    this.set('markerItems', markerItems);\n  };\n\n  Tooltip.prototype.clearMarkers = function () {\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.clear();\n  };\n\n  Tooltip.prototype.render = function () {};\n\n  Tooltip.prototype.clear = function () {};\n\n  Tooltip.prototype.show = function () {\n    this.set('visible', true);\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.set('visible', false);\n  };\n\n  return Tooltip;\n}(Guide);\n\nexport default Tooltip;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\n\nvar Crosshair =\n/** @class */\nfunction (_super) {\n  __extends(Crosshair, _super);\n\n  function Crosshair(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * crosshair的类型\n       */\n      type: null,\n\n      /**\n       * 画在哪层视图\n       */\n      plot: null,\n\n      /**\n       * x轴上，移动到位置的偏移量\n       */\n      panelRange: null,\n\n      /**\n       * 默认rect crosshair样式\n       * @type {Object}\n       */\n      rectStyle: {\n        fill: '#CCD6EC',\n        opacity: 0.3\n      },\n\n      /**\n       * 默认line crosshair样式\n       */\n      lineStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      isTransposed: false\n    }, cfg)) || this;\n\n    _this._init_();\n\n    _this.render();\n\n    return _this;\n  }\n\n  Crosshair.prototype._init_ = function () {\n    var plot = this.get('plot');\n    var group = plot.addGroup();\n    this.set('container', group);\n  };\n\n  Crosshair.prototype._addLineShape = function (attrs, type) {\n    var container = this.get('container');\n    var shape = container.addShape('line', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set(\"crossLineShape\" + type, shape);\n    return shape;\n  };\n\n  Crosshair.prototype._renderHorizontalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: panelRange ? panelRange.bl.x : canvas.get('width'),\n      y1: 0,\n      x2: panelRange ? panelRange.br.x : 0,\n      y2: 0\n    }, style);\n\n    this._addLineShape(attrs, 'X');\n  };\n\n  Crosshair.prototype._renderVerticalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: 0,\n      y1: panelRange ? panelRange.bl.y : canvas.get('height'),\n      x2: 0,\n      y2: panelRange ? panelRange.tl.y : 0\n    }, style);\n\n    this._addLineShape(attrs, 'Y');\n  };\n\n  Crosshair.prototype._renderBackground = function (canvas, panelRange) {\n    var style = Util.mix(this.get('rectStyle'), this.get('style'));\n    var container = this.get('container');\n    var attrs = Util.mix({\n      x: panelRange ? panelRange.tl.x : 0,\n      y: panelRange ? panelRange.tl.y : canvas.get('height'),\n      width: panelRange ? panelRange.br.x - panelRange.bl.x : canvas.get('width'),\n      height: panelRange ? Math.abs(panelRange.tl.y - panelRange.bl.y) : canvas.get('height')\n    }, style);\n    var shape = container.addShape('rect', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set('crosshairsRectShape', shape);\n    return shape;\n  };\n\n  Crosshair.prototype._updateRectShape = function (items) {\n    var offset;\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n    var isTransposed = this.get('isTransposed');\n    var firstItem = items[0];\n    var lastItem = items[items.length - 1];\n    var dim = isTransposed ? 'y' : 'x';\n    var attr = isTransposed ? 'height' : 'width';\n    var startDim = firstItem[dim];\n\n    if (items.length > 1 && firstItem[dim] > lastItem[dim]) {\n      startDim = lastItem[dim];\n    }\n\n    if (this.get('width')) {\n      // 用户定义了 width\n      crosshairsRectShape.attr(dim, startDim - this.get('crosshairs').width / 2);\n      crosshairsRectShape.attr(attr, this.get('width'));\n    } else {\n      if (Util.isArray(firstItem.point[dim]) && !firstItem.size) {\n        // 直方图\n        var width = firstItem.point[dim][1] - firstItem.point[dim][0];\n        crosshairsRectShape.attr(dim, firstItem.point[dim][0]);\n        crosshairsRectShape.attr(attr, width);\n      } else {\n        offset = 3 * firstItem.size / 4;\n        crosshairsRectShape.attr(dim, startDim - offset);\n\n        if (items.length === 1) {\n          crosshairsRectShape.attr(attr, 3 * firstItem.size / 2);\n        } else {\n          crosshairsRectShape.attr(attr, Math.abs(lastItem[dim] - firstItem[dim]) + 2 * offset);\n        }\n      }\n    }\n  };\n\n  Crosshair.prototype.render = function () {\n    var canvas = this.get('canvas');\n    var panelRange = this.get('panelRange');\n    var isTransposed = this.get('isTransposed');\n    this.clear();\n\n    switch (this.get('type')) {\n      case 'x':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        break;\n\n      case 'y':\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'cross':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'rect':\n        this._renderBackground(canvas, panelRange);\n\n        break;\n\n      default:\n        isTransposed ? this._renderHorizontalLine(canvas, panelRange) : this._renderVerticalLine(canvas, panelRange);\n    }\n  };\n\n  Crosshair.prototype.show = function () {\n    var container = this.get('container'); // super.show();\n\n    container.show();\n  };\n\n  Crosshair.prototype.hide = function () {\n    var container = this.get('container'); // super.hide();\n\n    container.hide();\n  };\n\n  Crosshair.prototype.clear = function () {\n    var container = this.get('container');\n    this.set('crossLineShapeX', null);\n    this.set('crossLineShapeY', null);\n    this.set('crosshairsRectShape', null); // super.clear();\n\n    container.clear();\n  };\n\n  Crosshair.prototype.destroy = function () {\n    var container = this.get('container');\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  Crosshair.prototype.setPosition = function (x, y, items) {\n    var crossLineShapeX = this.get('crossLineShapeX');\n    var crossLineShapeY = this.get('crossLineShapeY');\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n\n    if (crossLineShapeY && !crossLineShapeY.get('destroyed')) {\n      // 第一次进入时，画布需要单独绘制，所以需要先设定corss的位置\n      crossLineShapeY.move(x, 0);\n    }\n\n    if (crossLineShapeX && !crossLineShapeX.get('destroyed')) {\n      crossLineShapeX.move(0, y);\n    }\n\n    if (crosshairsRectShape && !crosshairsRectShape.get('destroyed')) {\n      this._updateRectShape(items);\n    }\n  };\n\n  return Crosshair;\n}(Guide);\n\nexport default Crosshair;","export var FONT_FAMILY = '\"-apple-system\", ' + '\"BlinkMacSystemFont\", ' + '\"Segoe UI\", ' + 'Roboto, ' + '\"Helvetica Neue\", ' + 'Helvetica, ' + '\"PingFang SC\", ' + '\"Hiragino Sans GB\", ' + '\"Microsoft YaHei\", ' + 'SimSun, ' + '\"sans-serif\"';","var GAP = 20;\nexport function defaultPosition(x, y, position, containerWidth, containerHeight, target) {\n  var newx = x;\n  var newy = y; // todo any 是 Shape\n\n  var rectWidth = 0;\n  var rectHeight = 0;\n  var gap = 20;\n\n  if (target) {\n    var rect = target.getBBox();\n    rectWidth = rect.width;\n    rectHeight = rect.height;\n    newx = rect.x;\n    newy = rect.y;\n    gap = 5;\n  }\n\n  switch (position) {\n    case 'inside':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'top':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy - containerHeight - gap;\n      break;\n\n    case 'left':\n      newx = newx - containerWidth - gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'right':\n      newx = newx + rectWidth + gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'bottom':\n    default:\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight + gap;\n      break;\n  }\n\n  return [newx, newy];\n}\nexport function constraintPositionInBoundary(x, y, width, height, viewWidth, viewHeight) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width + GAP > viewWidth) {\n    newx -= width + GAP;\n    newx = newx < 0 ? 0 : newx;\n  } else if (newx + GAP < 0) {\n    newx = GAP;\n  } else {\n    newx += GAP;\n  }\n\n  if (newy + height + GAP > viewHeight) {\n    newy -= height + GAP;\n    newy = newy < 0 ? 0 : newy;\n  } else if (newy + GAP < 0) {\n    newy = GAP;\n  } else {\n    newy += GAP;\n  }\n\n  return [newx, newy];\n}\nexport function constraintPositionInPanel(x, y, width, height, panelRange, onlyHorizontal) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width > panelRange.tr.x) {\n    newx -= width + 2 * GAP;\n  }\n\n  if (newx < panelRange.tl.x) {\n    newx = panelRange.tl.x;\n  }\n\n  if (!onlyHorizontal) {\n    if (newy + height > panelRange.bl.y) {\n      newy -= height + 2 * GAP;\n    }\n\n    if (newy < panelRange.tl.y) {\n      newy = panelRange.tl.y;\n    }\n  }\n\n  return [newx, newy];\n}","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport TooltipTheme from './theme';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\n\nvar find = function find(dom, cls) {\n  return dom.getElementsByClassName(cls)[0];\n};\n\nvar mergeStyles = function mergeStyles(styles, cfg) {\n  // todo\n  Object.keys(styles).forEach(function (k) {\n    if (cfg[k]) {\n      styles[k] = Util.mix(styles[k], cfg[k]);\n    }\n  });\n  return styles;\n};\n\nvar HtmlTooltip =\n/** @class */\nfunction (_super) {\n  __extends(HtmlTooltip, _super);\n\n  function HtmlTooltip(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * tooltip 容器模板\n       * @type {String}\n       */\n      containerTpl: \"<div class=\\\"\" + CONTAINER_CLASS + \"\\\">\\n        <div class=\\\"\" + TITLE_CLASS + \"\\\"></div>\\n        <ul class=\\\"\" + LIST_CLASS + \"\\\"></ul>\\n        </div>\",\n\n      /**\n       * tooltip 列表项模板\n       * @type {String}\n       */\n      itemTpl: \"<li data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></span>\\n        {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n\n      /**\n       * tooltip html内容\n       * @type {String}\n       */\n      htmlContent: null,\n\n      /**\n       * tooltip 内容跟随鼠标移动\n       * @type {Boolean}\n       */\n      follow: true,\n\n      /**\n       * 是否允许鼠标停留在 tooltip 上，默认不允许\n       * @type {Boolean}\n       */\n      enterable: false\n    }, cfg)) || this;\n\n    var style = TooltipTheme;\n    _this.style = mergeStyles(style, cfg);\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    } // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = crosshair.type === 'rect' ? _this.get('backgroundGroup') : _this.get('frontgroundGroup');\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    return _this;\n  }\n\n  HtmlTooltip.prototype._init_ = function () {\n    var containerTpl = this.get('containerTpl');\n    var outterNode = this.get('canvas').get('el').parentNode;\n    var container;\n\n    if (!this.get('htmlContent')) {\n      if (/^\\#/.test(containerTpl)) {\n        // 如果传入 dom 节点的 id\n        var id = containerTpl.replace('#', '');\n        container = document.getElementById(id);\n      } else {\n        container = domUtil.createDom(containerTpl);\n      }\n    } else {\n      container = this._getHtmlContent();\n    }\n\n    this.set('container', container);\n    domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n    outterNode.appendChild(container);\n    outterNode.style.position = 'relative';\n  };\n\n  HtmlTooltip.prototype.render = function () {\n    this.clear();\n\n    if (this.get('htmlContent')) {\n      var outterNode = this.get('canvas').get('el').parentNode;\n\n      var container = this._getHtmlContent();\n\n      outterNode.appendChild(container);\n      domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n      this.set('container', container);\n    } else {\n      this._renderTpl();\n    }\n  };\n\n  HtmlTooltip.prototype._renderTpl = function () {\n    var _this = this;\n\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var container = this.get('container');\n    var titleDom = find(container, TITLE_CLASS);\n    var listDom = find(container, LIST_CLASS);\n    var items = this.get('items');\n\n    if (titleDom && showTitle) {\n      domUtil.modifyCSS(titleDom, this.style[TITLE_CLASS]);\n      titleDom.innerHTML = titleContent;\n    }\n\n    if (listDom) {\n      domUtil.modifyCSS(listDom, this.style[LIST_CLASS]);\n      Util.each(items, function (item, index) {\n        listDom.appendChild(_this._addItem(item, index));\n      });\n    }\n  };\n\n  HtmlTooltip.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && this.get('htmlContent')) {\n      container.remove();\n    } else {\n      var titleDom = find(container, TITLE_CLASS);\n      var listDom = find(container, LIST_CLASS);\n\n      if (titleDom) {\n        titleDom.innerHTML = '';\n      }\n\n      if (listDom) {\n        listDom.innerHTML = '';\n      }\n    }\n  };\n\n  HtmlTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var containerTpl = this.get('containerTpl');\n\n    if (container && !/^\\#/.test(containerTpl)) {\n      container.parentNode.removeChild(container);\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HtmlTooltip.prototype._addItem = function (item, index) {\n    var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n\n    var itemDiv = Util.substitute(itemTpl, Util.mix( // @ts-ignore\n    {\n      // @ts-ignore\n      index: index\n    }, item));\n    var itemDOM = domUtil.createDom(itemDiv);\n    domUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n    var markerDom = find(itemDOM, MARKER_CLASS);\n\n    if (markerDom) {\n      domUtil.modifyCSS(markerDom, this.style[MARKER_CLASS]);\n    }\n\n    var valueDom = find(itemDOM, VALUE_CLASS);\n\n    if (valueDom) {\n      domUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n    }\n\n    return itemDOM;\n  };\n\n  HtmlTooltip.prototype._getHtmlContent = function () {\n    var htmlContent = this.get('htmlContent');\n    var title = this.get('titleContent');\n    var items = this.get('items');\n    var html = htmlContent(title, items);\n    var ele;\n\n    if (Util.isElement(html)) {\n      ele = html;\n    } else {\n      ele = domUtil.createDom(html);\n    }\n\n    return ele;\n  };\n\n  HtmlTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo any 是 Shape\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var containerWidth = container.clientWidth;\n    var containerHeight = container.clientHeight;\n    var endx = x;\n    var endy = y;\n    var position;\n    var prePosition = this.get('prePosition') || {\n      x: 0,\n      y: 0\n    }; // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n\n    if (!containerWidth) {\n      container.style.display = 'block';\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n      container.style.display = 'none';\n    }\n\n    if (this.get('enterable')) {\n      y = y - container.clientHeight / 2;\n      position = [x, y];\n\n      if (prePosition && x - prePosition.x > 0) {\n        // 留 1px 防止鼠标点击事件无法在画布上触发\n        x -= container.clientWidth + 1;\n      } else {\n        x += 1;\n      }\n    } else if (this.get('position')) {\n      position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    this.set('prePosition', position); // 记录上次的位置\n\n    var follow = this.get('follow');\n\n    if (follow) {\n      container.style.left = x + \"px\";\n      container.style.top = y + \"px\";\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  return HtmlTooltip;\n}(Tooltip);\n\nexport default HtmlTooltip;","import { __assign, __extends } from \"tslib\"; // @ts-ignore // todo 等 g ready 好后再去掉这行 ignore\n\nimport * as domUtil from '@antv/dom-util';\nimport * as G from '@antv/g';\nimport { transform } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\n\nvar CanvasTooltip =\n/** @class */\nfunction (_super) {\n  __extends(CanvasTooltip, _super);\n\n  function CanvasTooltip(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * 默认背景板样式\n       * @type {Object}\n       */\n      backgroundStyle: {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 100,\n        fill: 'rgba(255, 255, 255, 0.9)',\n        radius: 4,\n        stroke: '#e2e2e2',\n        lineWidth: 1\n      },\n\n      /**\n       * 默认title样式\n       * @type {Object}\n       */\n      titleStyle: {\n        fontFamily: FONT_FAMILY,\n        text: '',\n        textBaseline: 'top',\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        lineHeight: 20,\n        padding: 20\n      },\n\n      /**\n       * 默认marker样式\n       * @type {Object}\n       */\n      markerStyle: {\n        radius: 4\n      },\n\n      /**\n       * 默认name样式\n       * @type {Object}\n       */\n      nameStyle: {\n        fontFamily: FONT_FAMILY,\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        textBaseline: 'middle',\n        textAlign: 'start',\n        padding: 8\n      },\n\n      /**\n       * 默认value样式\n       * @type {Object}\n       */\n      valueStyle: {\n        fontFamily: FONT_FAMILY,\n        fontSize: 12,\n        fill: 'rgb(87, 87, 87)',\n        textBaseline: 'middle',\n        textAlign: 'start',\n        padding: 30\n      },\n\n      /**\n       * 默认padding值\n       * @type {Object}\n       */\n      padding: {\n        top: 20,\n        right: 20,\n        bottom: 20,\n        left: 20\n      },\n\n      /**\n       * 默认item之间的gap\n       * @type {Number}\n       */\n      itemGap: 10,\n\n      /**\n       * 默认tooltip位置移动动画的时长\n       * @type {Number}\n       */\n      animationDuration: 200\n    }, cfg)) || this; // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = _this.get('frontgroundGroup');\n\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    }\n\n    return _this;\n  }\n\n  CanvasTooltip.prototype._init_ = function () {\n    var padding = this.get('padding');\n    var parent = this.get('frontgroundGroup'); // marker group\n\n    var markerGroup = parent.addGroup({\n      capture: false\n    });\n    this.set('markerGroup', markerGroup); // container\n\n    var container = parent.addGroup();\n    container.hide();\n    this.set('container', container); // board\n\n    var board = container.addShape('rect', {\n      attrs: Util.mix({}, this.get('backgroundStyle'))\n    });\n    this.set('board', board); // title\n\n    var titleStyle = this.get('titleStyle');\n\n    if (this.get('showTitle')) {\n      var titleShape = container.addShape('text', {\n        attrs: Util.mix({\n          x: padding.left,\n          y: padding.top\n        }, titleStyle)\n      });\n      this.set('titleShape', titleShape);\n      titleShape.name = 'tooltip-title';\n    } // items\n\n\n    var itemsGroup = container.addGroup();\n    itemsGroup.move(padding.left, padding.top + titleStyle.lineHeight + titleStyle.padding);\n    this.set('itemsGroup', itemsGroup);\n  };\n\n  CanvasTooltip.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    var container = this.get('container');\n    var board = this.get('board');\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var titleShape = this.get('titleShape');\n    var itemsGroup = this.get('itemsGroup');\n    var items = this.get('items');\n    var padding = this.get('padding');\n\n    if (titleShape && showTitle) {\n      titleShape.attr('text', titleContent);\n    }\n\n    var itemGap = this.get('itemGap');\n    var x = 0;\n    var y = 0;\n    Util.each(items, function (item) {\n      var itemGroup = _this._addItem(item);\n\n      itemGroup.move(x, y);\n      itemsGroup.add(itemGroup);\n      var itemHeight = itemGroup.getBBox().height;\n      y += itemHeight + itemGap;\n    }); // update board based on bbox\n\n    var bbox = container.getBBox();\n    var width = bbox.width + padding.right;\n    var height = bbox.height + padding.bottom;\n    board.attr('width', width);\n    board.attr('height', height); // align value text to right\n\n    this._alignToRight(width);\n  };\n\n  CanvasTooltip.prototype.clear = function () {\n    var titleShape = this.get('titleShape');\n    var itemsGroup = this.get('itemsGroup');\n    var board = this.get('board');\n\n    if (titleShape) {\n      titleShape.text = '';\n    }\n\n    itemsGroup.clear();\n    board.attr('width', 0);\n    board.attr('height', 0);\n  };\n\n  CanvasTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.show();\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  CanvasTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.hide();\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  CanvasTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  CanvasTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var bbox = container.getBBox();\n    var containerWidth = bbox.width;\n    var containerHeight = bbox.height;\n    var endx = x;\n    var endy = y;\n    var position;\n\n    if (this.get('position')) {\n      position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var mat = transform(ulMatrix, [['t', x, y]]);\n    container.stopAnimate();\n    container.animate({\n      matrix: mat\n    }, this.get('animationDuration'));\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  CanvasTooltip.prototype._addItem = function (item) {\n    var group = new G.Group();\n    var markerRadius = this.get('markerStyle').radius; // marker\n\n    if (item.marker) {\n      // @ts-ignore\n      var markerAttrs = Util.mix({}, item.marker, {\n        x: item.marker.radius / 2,\n        y: 0\n      });\n      group.addShape('marker', {\n        attrs: markerAttrs\n      });\n      markerRadius = item.marker.radius;\n    } // name\n\n\n    var nameStyle = this.get('nameStyle');\n    group.addShape('text', {\n      attrs: Util.mix({\n        x: markerRadius + nameStyle.padding,\n        y: 0,\n        text: item.name\n      }, nameStyle)\n    }); // value\n\n    var valueStyle = this.get('valueStyle');\n    group.addShape('text', {\n      attrs: Util.mix({\n        x: group.getBBox().width + valueStyle.padding,\n        y: 0,\n        text: item.value\n      }, valueStyle)\n    });\n    return group;\n  };\n\n  CanvasTooltip.prototype._alignToRight = function (width) {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup');\n    var groups = itemsGroup.get('children');\n    Util.each(groups, function (g) {\n      // todo\n      var children = g.get('children');\n      var valueText = children[2];\n\n      if (valueText) {\n        var w = valueText.getBBox().width;\n        var x = width - w - _this.get('padding').right * 2;\n        valueText.attr('x', x);\n      }\n    });\n  };\n\n  return CanvasTooltip;\n}(Tooltip);\n\nexport default CanvasTooltip;","import { each, clone } from '@antv/util';\nimport mat3 from './mat3';\nexport default (function (m, ts) {\n  // 上层使用时会传入为 null 的 matrix，此时按照单位矩阵处理\n  var matrix = m ? clone(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n  each(ts, function (t) {\n    switch (t[0]) {\n      case 't':\n        mat3.translate(matrix, matrix, [t[1], t[2]]);\n        break;\n\n      case 's':\n        mat3.scale(matrix, matrix, [t[1], t[2]]);\n        break;\n\n      case 'r':\n        mat3.rotate(matrix, matrix, t[1]);\n        break;\n\n      case 'm':\n        mat3.multiply(matrix, matrix, t[1]);\n        break;\n\n      default:\n        return false;\n    }\n  });\n  return matrix;\n});","/**\n * @description 坐标轴组件的主题样式\n */\nimport { FONT_FAMILY } from '../const';\nexport default {\n  title: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#595959',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY,\n      textAlign: 'center'\n    },\n    offset: 20\n  },\n  label: {\n    textStyle: {\n      fontSize: 12,\n      fill: '#ccc',\n      textBaseline: 'middle',\n      fontFamily: FONT_FAMILY\n    },\n    offset: 10,\n    offsetX: 0,\n    offsetY: 0\n  },\n  grid: {\n    lineWidth: 1,\n    stroke: '#C0D0E0'\n  }\n};","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport Label from '../label/base';\nimport Theme from './theme';\n\nvar Axis =\n/** @class */\nfunction (_super) {\n  __extends(Axis, _super);\n\n  function Axis(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'base',\n      id: null,\n      line: {\n        lineWidth: 1,\n        stroke: '#C0D0E0'\n      },\n      tickLine: {\n        lineWidth: 1,\n        stroke: '#C0D0E0',\n        length: 5\n      },\n      subTickCount: 0,\n      subTickLine: null,\n      grid: null,\n      label: null,\n      title: null,\n      autoRotateLabel: true,\n      autoHideLabel: false,\n      autoRotateTitle: true,\n      gridType: 'line',\n      ticks: [],\n      labelItems: [],\n      gridPoints: []\n    }, cfg)) || this;\n\n    _this._processTicks();\n\n    return _this;\n  }\n\n  Axis.prototype.render = function () {\n    var grid = this.get('grid');\n    grid && this._renderGrid(); // 渲染坐标轴网格线\n\n    var line = this.get('line');\n    line && this._renderLine(); // 渲染坐标轴线\n\n    var tickLine = this.get('tickLine');\n    tickLine && this._renderTicks(); // 渲染坐标轴刻度线\n\n    var label = this.get('label');\n    label && this._renderLabels(); // 渲染坐标轴文本\n\n    var title = this.get('title');\n\n    if (title) {\n      // 渲染坐标轴标题\n      this.set('title', Util.deepMix({}, Theme.title, this.get('title')));\n      this.renderTitle();\n    }\n  };\n\n  Axis.prototype.destroy = function () {\n    if (!this.destroyed) {\n      _super.prototype.destroy.call(this);\n\n      var gridGroup = this.get('gridGroup');\n      gridGroup && gridGroup.remove();\n      var labelRenderer = this.get('labelRenderer');\n      labelRenderer && labelRenderer.destroy();\n      var group = this.get('group');\n      group.destroy();\n      this.destroyed = true;\n    }\n  };\n\n  Axis.prototype.clear = function () {\n    var group = this.get('group');\n\n    if (!group.get('destroyed') && group.get('children').length) {\n      var gridGroup = this.get('gridGroup');\n      gridGroup && gridGroup.clear();\n      var labelRenderer = this.get('labelRenderer');\n      labelRenderer && labelRenderer.clear(); // 再飞 mark: 这样就会将所有的 axis 实例中创建的 shapes 和 groups 清空\n      // 按照正常的逻辑，应该只负责清空当前实例创建的 shaps 和 groups\n\n      this.get('group').clear();\n    }\n  };\n  /**\n   * 解析 tick 文本\n   * @param tick tick 文本值\n   * @param index tick 对应的索引值\n   * @param length 所有 tick 的总长度\n   */\n\n\n  Axis.prototype.parseTick = function (tick, index, length) {\n    return {\n      text: tick,\n      value: index / (length - 1)\n    };\n  };\n  /**\n   * 添加 labelItems\n   * @param tick 坐标轴刻度信息\n   * @param point 位置点信息\n   * @param index 对应的索引值\n   * @param tickCount 全部坐标轴刻度的个数\n   */\n\n\n  Axis.prototype.addLabel = function (tick, point, index, tickCount) {\n    var theme = this.get('theme') || {};\n    var label = this.get('label');\n    var labelCfg = label;\n\n    if (Util.isFunction(labelCfg)) {\n      // 如果用户定义的 label 属性是回调函数\n      var executedLabel = label(tick.text, index, tickCount);\n      labelCfg = executedLabel ? Util.deepMix({}, theme.label, executedLabel) : null;\n    }\n\n    if (labelCfg) {\n      labelCfg = Util.deepMix({\n        text: tick.text\n      }, Theme.label, labelCfg); // 支持formatter配置\n\n      if (labelCfg.formatter) {\n        labelCfg.text = labelCfg.formatter(tick.text, index, tickCount);\n      }\n\n      var vector = this.getSideVector(labelCfg.offset, point, index);\n      var newPoint = {\n        x: point.x + vector[0] + labelCfg.offsetX,\n        y: point.y + vector[1] + labelCfg.offsetY\n      };\n      labelCfg.x = newPoint.x;\n      labelCfg.y = newPoint.y;\n      labelCfg.point = newPoint;\n\n      if (!Util.isNil(point.rotate)) {\n        labelCfg.rotate = point.rotate;\n      }\n\n      if (!Util.isNil(labelCfg.rotate)) {\n        labelCfg.textAlign = labelCfg.rotate % 180 === 0 ? 'center' : labelCfg.rotate > 0 ? labelCfg.rotate % 360 < 180 ? 'left' : 'right' : labelCfg.rotate % 360 > -180 ? 'right' : 'left';\n        var offset = -6 * Math.abs(Math.sin(labelCfg.rotate * Math.PI / 180));\n        labelCfg.y += offset;\n        labelCfg.point.y += offset;\n      } else {\n        labelCfg.textAlign = this.getTextAnchor(vector);\n      }\n\n      if (labelCfg.useHtml) {\n        labelCfg.text = labelCfg.htmlTemplate; // TODO: 是否直接在 text 中定义 html 模板？\n      }\n\n      this.get('labelItems').push(labelCfg);\n    }\n  };\n  /**\n   * 根据向量值获取文本的对齐方式\n   * @param vector 文本的向量值\n   */\n\n\n  Axis.prototype.getTextAnchor = function (vector) {\n    var ratio = Math.abs(vector[1] / vector[0]);\n\n    if (ratio >= 1) {\n      // 上面或者下面\n      return 'center';\n    }\n\n    if (vector[0] > 0) {\n      // 右侧\n      return 'start';\n    }\n\n    return 'end'; // 左侧\n  };\n\n  Axis.prototype.getMaxLabelWidthOrHeight = function (labelRenderer, property) {\n    var labels = labelRenderer.getLabels();\n    var max = 0;\n    Util.each(labels, function (label) {\n      var bbox = label.getBBox();\n      var value = bbox[property];\n\n      if (max < value) {\n        max = value;\n      }\n    });\n    return max;\n  };\n  /**\n   * 自动旋转文本\n   * @override\n   */\n\n\n  Axis.prototype.autoRotateLabels = function () {};\n  /**\n   * 文本自动防遮罩\n   * @override\n   */\n\n\n  Axis.prototype.autoHideLabels = function () {};\n  /**\n   * 渲染标题\n   * @override\n   */\n\n\n  Axis.prototype.renderTitle = function () {}; // 渲染坐标轴线\n\n\n  Axis.prototype._renderLine = function () {\n    var path = this.getLinePath();\n\n    var lineCfg = __assign({\n      path: path\n    }, this.get('line'));\n\n    var group = this.get('group'); // 获取容器\n\n    var lineShape = group.addShape('path', {\n      attrs: lineCfg,\n      zIndex: 1\n    });\n    lineShape.name = 'axis-line';\n    this.get('appendInfo') && lineShape.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('lineShape', lineShape);\n  }; // 渲染坐标轴线\n\n\n  Axis.prototype._renderTicks = function () {\n    var tickLineCfg = this.get('tickLine');\n    var tickItems = this.get('tickItems');\n    var subTickItems = this.get('subTickItems');\n\n    if (tickItems && tickItems.length) {\n      this._addTickLine(tickItems, tickLineCfg);\n    }\n\n    if (subTickItems && subTickItems.length) {\n      var subTickLineCfg = this.get('subTickLine') || tickLineCfg;\n\n      this._addTickLine(subTickItems, subTickLineCfg);\n    }\n  };\n\n  Axis.prototype._renderGrid = function () {\n    var _this = this;\n\n    var coord = this.get('coord');\n    var appendInfo = this.get('appendInfo');\n    var group = this.get('group');\n    var gridPoints = this.get('gridPoints');\n    var grid = this.get('grid');\n    var gridType = this.get('gridType');\n    var theme = this.get('theme') || {};\n    var ticks = this.get('ticks');\n    var count = gridPoints.length;\n    var gridGroup = group.addGroup({\n      class: 'axis-grid',\n      zIndex: 0\n    }); // 这边也可以用 gridGroup.setZIndex(0); 但在顶上直接管理好声明的顺序更好一点\n    // 最好不要用 gridGroup.toBack(); toBack 适合 zIndex 相同的 silbings 排序\n\n    this.set('gridGroup', gridGroup); // 渲染网格线\n\n    var gridCfg = grid;\n    Util.each(gridPoints, function (subPoints, index) {\n      if (Util.isFunction(grid)) {\n        // grid 是回调函数\n        var tick = ticks[index];\n        var executedGrid = tick && grid(tick.text, index, count);\n        gridCfg = executedGrid ? Util.mix({}, theme.grid, executedGrid) : null;\n      }\n\n      if (gridCfg) {\n        var points = subPoints.points;\n        var path_1 = [];\n\n        if (gridType === 'arc') {\n          // 弧形\n          Util.each(points, function (point, idx) {\n            var radius = point.radius,\n                x = point.x,\n                y = point.y,\n                flag = point.flag;\n\n            if (idx === 0) {\n              path_1.push(['M', x, y]);\n            } else {\n              path_1.push(['A', radius, radius, 0, 0, flag, x, y]);\n            }\n          });\n        } else {\n          Util.each(points, function (point, idx) {\n            var x = point.x,\n                y = point.y;\n\n            if (idx === 0) {\n              path_1.push(['M', x, y]);\n            } else {\n              path_1.push(['L', x, y]);\n            }\n          });\n        }\n\n        var gridLineShape = gridGroup.addShape('path', {\n          attrs: Util.mix({\n            path: path_1\n          }, Theme.grid, gridCfg)\n        });\n        gridLineShape.name = 'axis-grid';\n        gridLineShape.id = subPoints.id;\n        gridLineShape.set('coord', coord);\n        appendInfo && gridLineShape.setSilent('appendInfo', gridLineShape);\n      }\n    }); // 用户设置了网格的交替填充色\n\n    var gridAlternateColor = this.get('gridAlternateColor');\n\n    if (gridAlternateColor) {\n      var preItem_1;\n      Util.each(gridPoints, function (item, index) {\n        if (preItem_1) {\n          _this._drawAlternativeBg(item, preItem_1, index);\n        }\n\n        preItem_1 = item;\n      });\n    }\n  };\n\n  Axis.prototype._renderLabels = function () {\n    var group = this.get('group');\n    var labelRenderer = new Label({\n      name: 'axis-label'\n    });\n    labelRenderer.set('coord', this.get('coord'));\n    labelRenderer.set('group', group.addGroup({\n      class: 'axis-labels'\n    }));\n    labelRenderer.set('canvas', this.get('canvas'));\n    labelRenderer.set('items', this.get('labelItems'));\n    labelRenderer.draw(false);\n    this.set('labelRenderer', labelRenderer);\n\n    if (this.get('autoRotateLabel')) {\n      this.autoRotateLabels();\n    }\n\n    if (this.get('autoHideLabel')) {\n      this.autoHideLabels();\n    }\n  }; // 生成 ticks\n\n\n  Axis.prototype._processTicks = function () {\n    var _this = this;\n\n    var labelCfg = this.get('label');\n    var subTickCount = this.get('subTickCount');\n    var tickLineCfg = this.get('tickLine');\n\n    var ticks = this._parseTicks(this.get('ticks'));\n\n    var tickCount = ticks.length;\n    Util.each(ticks, function (tick, index) {\n      var tickPoint = _this.getTickPoint(tick.value, index);\n\n      if (tickLineCfg) {\n        _this._addTickItem(index, tickPoint, tickLineCfg.length);\n      }\n\n      if (labelCfg) {\n        _this.addLabel(tick, tickPoint, index, tickCount);\n      }\n    });\n\n    if (subTickCount) {\n      // 如果有设置次级分点，添加次级tick\n      var subTickLineCfg_1 = this.get('subTickLine');\n      Util.each(ticks, function (tick, index) {\n        if (index > 0) {\n          var diff = tick.value - ticks[index - 1].value;\n          diff = diff / (_this.get('subTickCount') + 1);\n\n          for (var i = 1; i <= subTickCount; i++) {\n            var subTick = {\n              text: '',\n              value: index ? ticks[index - 1].value + i * diff : i * diff\n            };\n\n            var tickPoint = _this.getTickPoint(subTick.value);\n\n            var subTickLength = void 0;\n\n            if (subTickLineCfg_1 && subTickLineCfg_1.length) {\n              subTickLength = subTickLineCfg_1.length;\n            } else {\n              subTickLength = Math.floor(tickLineCfg.length * (3 / 5));\n            }\n\n            _this._addTickItem(i - 1, tickPoint, subTickLength, 'sub');\n          }\n        }\n      });\n    }\n  };\n\n  Axis.prototype._parseTicks = function (ticks) {\n    if (ticks === void 0) {\n      ticks = [];\n    }\n\n    var ticksLength = ticks.length;\n\n    for (var i = 0; i < ticksLength; i++) {\n      var item = ticks[i];\n\n      if (!Util.isObject(item)) {\n        ticks[i] = this.parseTick(item, i, ticksLength);\n      }\n    }\n\n    this.set('ticks', ticks);\n    return ticks;\n  };\n\n  Axis.prototype._addTickItem = function (index, point, length, type) {\n    if (type === void 0) {\n      type = '';\n    }\n\n    var tickItems = this.get('tickItems') || [];\n    var subTickItems = this.get('subTickItems') || [];\n    var end = this.getTickEnd(point, length, index);\n    var cfg = {\n      x1: point.x,\n      y1: point.y,\n      x2: end.x,\n      y2: end.y\n    };\n\n    if (type === 'sub') {\n      subTickItems.push(cfg);\n    } else {\n      tickItems.push(cfg);\n    }\n\n    this.set('tickItems', tickItems);\n    this.set('subTickItems', subTickItems);\n  };\n\n  Axis.prototype._addTickLine = function (ticks, lineCfg) {\n    var cfg = Util.mix({}, lineCfg);\n    var path = [];\n    Util.each(ticks, function (item) {\n      path.push(['M', item.x1, item.y1]);\n      path.push(['L', item.x2, item.y2]);\n    });\n    delete cfg.length;\n    cfg.path = path;\n    var group = this.get('group');\n    var tickShape = group.addShape('path', {\n      attrs: cfg,\n      zIndex: 1\n    });\n    tickShape.name = 'axis-ticks';\n    tickShape.id = this.get('id') + \"-ticks\";\n    tickShape.set('coord', this.get('coord'));\n    this.get('appendInfo') && tickShape.setSilent('appendInfo', this.get('appendInfo'));\n  }; // Grid 的背景层绘制逻辑\n\n\n  Axis.prototype._drawAlternativeBg = function (item, preItem, index) {\n    var alternateColor = this.get('gridAlternateColor');\n    var attrs;\n    var oddColor;\n    var evenColor;\n\n    if (Util.isString(alternateColor)) {\n      oddColor = alternateColor;\n    } else if (Util.isArray(alternateColor)) {\n      oddColor = alternateColor[0];\n      evenColor = alternateColor[1];\n    }\n\n    if (index % 2 === 0) {\n      if (evenColor) {\n        attrs = this._getBackItem(preItem.points, item.points, evenColor);\n      }\n    } else if (oddColor) {\n      attrs = this._getBackItem(preItem.points, item.points, oddColor);\n    }\n\n    var gridGroup = this.get('gridGroup');\n    var shape = gridGroup.addShape('Path', {\n      attrs: attrs\n    });\n    shape.name = 'axis-grid-rect'; // TODO： 需要区分 -rect 吗？还是统一叫做 axis-grid\n\n    shape.id = item.id && item.id.replace('grid', 'grid-rect');\n    shape.set('coord', this.get('coord'));\n    this.get('appendInfo') && shape.setSilent('appendInfo', this.get('appendInfo'));\n  };\n\n  Axis.prototype._getBackItem = function (start, end, bgColor) {\n    var path = [];\n    var gridType = this.get('gridType');\n\n    if (gridType === 'arc') {\n      Util.each(start, function (subItem, index) {\n        var x = subItem.x,\n            y = subItem.y,\n            radius = subItem.radius,\n            flag = subItem.flag;\n\n        if (index === 0) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, flag, x, y]);\n        }\n      });\n\n      for (var j = end.length - 1; j >= 0; j--) {\n        var endSubItem = end[j];\n        var x = endSubItem.x,\n            y = endSubItem.y,\n            radius = endSubItem.radius,\n            flag = endSubItem.flag;\n\n        if (j === end.length - 1) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, flag === 1 ? 0 : 1, x, y]);\n        }\n      }\n    } else {\n      Util.each(start, function (subItem, index) {\n        var x = subItem.x,\n            y = subItem.y;\n\n        if (index === 0) {\n          path.push(['M', x, y]);\n        } else {\n          path.push(['L', x, y]);\n        }\n      });\n\n      for (var i = end.length - 1; i >= 0; i--) {\n        path.push(['L', end[i].x, end[i].y]);\n      }\n\n      path.push(['Z']);\n    }\n\n    return {\n      fill: bgColor,\n      path: path\n    };\n  };\n\n  return Axis;\n}(Guide);\n\nexport default Axis;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\n\nvar Circle =\n/** @class */\nfunction (_super) {\n  __extends(Circle, _super);\n\n  function Circle(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'circle',\n      startAngle: -Math.PI / 2,\n      endAngle: Math.PI * 3 / 2\n    }, cfg)) || this;\n  }\n\n  Circle.prototype.parseTick = function (tick, index, length) {\n    return {\n      text: tick,\n      value: index / length\n    };\n  };\n\n  Circle.prototype.getTickPoint = function (value) {\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return this._getCirclePoint(angle);\n  };\n\n  Circle.prototype.getSideVector = function (offset, point) {\n    var center = this.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  Circle.prototype.getSidePoint = function (point, offset) {\n    var vector = this.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  Circle.prototype.getTickEnd = function (start, length) {\n    var tickLine = this.get('tickLine');\n    var len = !Util.isNil(length) ? length : tickLine.length;\n    return this.getSidePoint(start, len);\n  };\n\n  Circle.prototype.getTextAnchor = function (vector) {\n    var align;\n\n    if (Util.isNumberEqual(vector[0], 0)) {\n      align = 'center';\n    } else if (vector[0] > 0) {\n      align = 'left';\n    } else if (vector[0] < 0) {\n      align = 'right';\n    }\n\n    return align;\n  };\n\n  Circle.prototype.getLinePath = function () {\n    var center = this.get('center');\n    var x = center.x,\n        y = center.y;\n    var rx = this.get('radius');\n    var ry = rx;\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var inner = this.get('inner');\n    var path = [];\n\n    if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n      path = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    } else {\n      var startPoint = this._getCirclePoint(startAngle);\n\n      var endPoint = this._getCirclePoint(endAngle);\n\n      var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n      var sweep = startAngle > endAngle ? 0 : 1;\n\n      if (!inner) {\n        path = [['M', x, y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', x, y]];\n      } else {\n        var innerStartVector = this.getSideVector(inner * rx, startPoint);\n        var innerEndVector = this.getSideVector(inner * rx, endPoint);\n        var innerStartPoint = {\n          x: innerStartVector[0] + x,\n          y: innerStartVector[1] + y\n        };\n        var innerEndPoint = {\n          x: innerEndVector[0] + x,\n          y: innerEndVector[1] + y\n        };\n        path = [['M', innerStartPoint.x, innerStartPoint.y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', innerEndPoint.x, innerEndPoint.y], ['A', rx * inner, ry * inner, 0, large, Math.abs(sweep - 1), innerStartPoint.x, innerStartPoint.y]];\n      }\n    }\n\n    return path;\n  };\n\n  Circle.prototype.addLabel = function (tick, point, index, tickCount) {\n    var offset = Util.get(this.get('label'), 'offset', 5);\n    var p = this.getSidePoint(point, offset);\n\n    _super.prototype.addLabel.call(this, tick, p, index, tickCount);\n  };\n\n  Circle.prototype.autoRotateLabels = function () {\n    var ticks = this.get('ticks');\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer && ticks.length > 12) {\n      // 小于12个文本时文本不旋转\n      var radius = this.get('radius');\n      var startAngle_1 = this.get('startAngle');\n      var endAngle = this.get('endAngle');\n      var totalAngle_1 = endAngle - startAngle_1;\n      var avgAngle = totalAngle_1 / (ticks.length - 1);\n      var avgWidth_1 = Math.sin(avgAngle / 2) * radius * 2;\n      var maxLength_1 = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n      Util.each(labelRenderer.getLabels(), function (label, index) {\n        var tick = ticks[index];\n        var angle = tick.value * totalAngle_1 + startAngle_1;\n        var mode = angle % (Math.PI * 2);\n\n        if (maxLength_1 < avgWidth_1) {\n          // 文本的最大宽度大于\n          if (mode <= 0) {\n            angle = angle + Math.PI;\n          }\n\n          if (mode > Math.PI) {\n            angle = angle - Math.PI;\n          }\n\n          angle = angle - Math.PI / 2;\n          label.attr('textAlign', 'center');\n        } else {\n          if (mode > Math.PI / 2) {\n            angle = angle - Math.PI;\n          } else if (mode < Math.PI / 2 * -1) {\n            angle = angle + Math.PI;\n          }\n        }\n\n        label.rotateAtStart(angle);\n      });\n    }\n  };\n\n  Circle.prototype._getCirclePoint = function (angle, radius) {\n    if (radius === void 0) {\n      radius = 0;\n    }\n\n    var center = this.get('center');\n    var r = radius || this.get('radius');\n    return {\n      x: center.x + Math.cos(angle) * r,\n      y: center.y + Math.sin(angle) * r\n    };\n  };\n\n  return Circle;\n}(Axis);\n\nexport default Circle;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\n\nvar Helix =\n/** @class */\nfunction (_super) {\n  __extends(Helix, _super);\n\n  function Helix(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'helix',\n      startAngle: 1.25 * Math.PI,\n      endAngle: 7.25 * Math.PI,\n      inner: 0,\n      a: 0,\n      center: null,\n      axisStart: null,\n      crp: []\n    }, cfg)) || this;\n  }\n\n  Helix.prototype.getLinePath = function () {\n    var crp = this.get('crp');\n    var axisStart = this.get('axisStart');\n    var path = pathUtil.catmullRom2Bezier(crp);\n    path.unshift(['M', axisStart.x, axisStart.y]);\n    return path;\n  };\n\n  Helix.prototype.getTickPoint = function (value) {\n    var startAngle = this.get('startAngle');\n    var endAngle = this.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return this._getHelixPoint(angle);\n  };\n\n  Helix.prototype.getSideVector = function (offset, point) {\n    var center = this.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  Helix.prototype.getSidePoint = function (point, offset) {\n    var vector = this.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  Helix.prototype.getTickEnd = function (start, length) {\n    var tickLine = this.get('tickLine');\n    var len = length ? length : tickLine.length;\n    return this.getSidePoint(start, len);\n  };\n\n  Helix.prototype._getHelixPoint = function (angle) {\n    var center = this.get('center');\n    var a = this.get('a'); // 螺线系数\n\n    var radius = a * angle + this.get('inner'); // 螺线方程\n\n    return {\n      x: center.x + Math.cos(angle) * radius,\n      y: center.y + Math.sin(angle) * radius\n    };\n  };\n\n  return Helix;\n}(Axis);\n\nexport default Helix;","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport Axis from './base';\nvar AUTO_ROTATE_DEGREES = [0, -45, -90];\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    return _super.call(this, __assign({\n      type: 'line',\n      x: null,\n      y: null,\n      isVertical: false,\n      start: null,\n      end: null\n    }, cfg)) || this;\n  }\n  /**\n   * 获取距离坐标轴的向量\n   * @override\n   * @param  {Number} offset 偏移值\n   * @return {Array}        返回二维向量\n   */\n\n\n  Line.prototype.getSideVector = function (offset) {\n    var isVertical = this.get('isVertical');\n    var factor = this.get('factor'); // if (Util.isArray(offset)) {\n    //   return offset.map(value => value * factor);\n    // }\n\n    if (!Util.isNumber(offset)) {\n      return [0, 0];\n    }\n\n    var start = this.get('start');\n    var end = this.get('end');\n    var axisVector = this.getAxisVector();\n    var normal = vec2.normalize([], axisVector);\n    var direction = false;\n\n    if (isVertical && start.y < end.y || !isVertical && start.x > end.x) {\n      direction = true;\n    }\n\n    var verticalVector = vec2.vertical([], normal, direction);\n    return vec2.scale([], verticalVector, offset * factor);\n  };\n\n  Line.prototype.getAxisVector = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  Line.prototype.getLinePath = function () {\n    var start = this.get('start');\n    var end = this.get('end');\n    return [['M', start.x, start.y], ['L', end.x, end.y]];\n  };\n\n  Line.prototype.getTickEnd = function (start, value) {\n    var offsetVector = this.getSideVector(value);\n    return {\n      x: start.x + offsetVector[0],\n      y: start.y + offsetVector[1]\n    };\n  };\n\n  Line.prototype.getTickPoint = function (tickValue) {\n    var start = this.get('start');\n    var end = this.get('end');\n    var rangeX = end.x - start.x;\n    var rangeY = end.y - start.y;\n    return {\n      x: start.x + rangeX * tickValue,\n      y: start.y + rangeY * tickValue\n    };\n  };\n\n  Line.prototype.renderTitle = function () {\n    var title = this.get('title');\n    var label = this.get('label');\n    var rotate = Util.get(label, 'rotate');\n    var autoRotateTitle = this.get('autoRotateTitle');\n    var offsetPoint = this.getTickPoint(0.5);\n    var titleOffset = title.offset ? title.offset : 20; // if (Util.isNil(titleOffset)) { // 没有指定 offset 则自动计算\n\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer) {\n      var position = this.get('position');\n      var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n      var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n\n      if (this.get('autoRotateLabel')) {\n        var angle = this.getAutoRotateAngle();\n\n        if (angle) {\n          labelLength = this.getOffsetByRotateAngle(angle);\n        }\n      }\n\n      if (rotate) {\n        labelLength = this.getOffsetByRotateAngle(rotate * Math.PI / 180);\n      }\n\n      var labelOffset = Util.get(this.get('label'), 'offset', 5);\n      titleOffset += labelLength + labelOffset;\n    } // }\n\n\n    var textStyle = title.textStyle;\n    var cfg = Util.mix({}, textStyle);\n\n    if (title.text) {\n      var vector = this.getAxisVector(); // 坐标轴方向的向量\n\n      if (autoRotateTitle && Util.isNil(title.rotate)) {\n        // 自动旋转并且用户没有设置 title.rotate\n        var angle = 0;\n\n        if (!Util.isNumberEqual(vector[1], 0)) {\n          // 所有水平坐标轴，文本不转置\n          var v1 = [1, 0];\n          var v2 = [vector[0], vector[1]];\n          angle = vec2.angleTo(v2, v1, true);\n        }\n\n        cfg.rotate = angle * (180 / Math.PI);\n      } else if (!Util.isNil(title.rotate)) {\n        // 用户设置了旋转角度就以用户设置的为准\n        cfg.rotate = title.rotate / 180 * Math.PI; // 将角度转换为弧度\n      }\n\n      var sideVector = this.getSideVector(titleOffset);\n      var point = void 0;\n      var position = title.position;\n\n      if (position === 'start') {\n        point = {\n          x: this.get('start').x + sideVector[0],\n          y: this.get('start').y + sideVector[1]\n        };\n      } else if (position === 'end') {\n        point = {\n          x: this.get('end').x + sideVector[0],\n          y: this.get('end').y + sideVector[1]\n        };\n      } else {\n        point = {\n          x: offsetPoint.x + sideVector[0],\n          y: offsetPoint.y + sideVector[1]\n        };\n      }\n\n      cfg.x = point.x;\n      cfg.y = point.y;\n      cfg.text = title.text;\n      var group = this.get('group');\n      var titleShape = group.addShape('Text', {\n        zIndex: 2,\n        attrs: cfg\n      });\n      titleShape.name = 'axis-title';\n      this.get('appendInfo') && titleShape.setSilent('appendInfo', this.get('appendInfo'));\n    }\n  };\n\n  Line.prototype.autoRotateLabels = function () {\n    var labelRenderer = this.get('labelRenderer');\n\n    if (labelRenderer) {\n      var labels = labelRenderer.getLabels();\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      var angle_1 = this.getAutoRotateAngle();\n\n      if (angle_1) {\n        this.set('autoRotateAngle', angle_1);\n        var offsetY_1 = -6 * Math.abs(Math.sin(angle_1)); // const offsetY = (this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) / 2;\n\n        var textAlign_1 = angle_1 % Math.PI === 0 ? 'center' : angle_1 > 0 ? angle_1 % (Math.PI * 2) < Math.PI ? 'left' : 'right' : angle_1 % (Math.PI * 2) > -Math.PI ? 'right' : 'left';\n        Util.each(labels, function (label) {\n          label.attr('textAlign', textAlign_1);\n          label.rotateAtStart(angle_1);\n          label.attr('y', label.attr('y') + offsetY_1);\n        });\n      }\n    }\n  };\n\n  Line.prototype.autoHideLabels = function () {\n    var labelRenderer = this.get('labelRenderer');\n    var labelSpace;\n    var tickStep;\n    var append = 8;\n\n    if (labelRenderer) {\n      var ticks = this.get('tickItems');\n      var labels_1 = labelRenderer.getLabels();\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      if (labels_1.length < 2) {\n        return;\n      }\n\n      if (Util.isNumberEqual(vector[0], 0)) {\n        // 坐标轴垂直\n        var maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height') + append;\n        var avgHeight = Math.abs(this._getAvgLabelHeightSpace(labelRenderer));\n\n        if (maxHeight > avgHeight) {\n          labelSpace = maxHeight;\n          tickStep = avgHeight;\n        }\n      } else if (Util.isNumberEqual(vector[1], 0) && labels_1.length > 1) {\n        // 坐标轴水平\n        var maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width') + append;\n        var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n\n        if (maxWidth > avgWidth) {\n          labelSpace = maxWidth;\n          tickStep = avgWidth;\n        }\n      }\n\n      if (labelSpace && tickStep) {\n        var ratio_1 = Math.ceil(labelSpace / tickStep);\n        Util.each(labels_1, function (label, i) {\n          if (i % ratio_1 !== 0) {\n            label.set('visible', false);\n            label.attr('text', '');\n          }\n        });\n\n        if (ticks) {\n          var visibleTicks = Util.filter(ticks, function (tick, idx) {\n            return labels_1[idx].get('visible');\n          });\n\n          if (Util.size(visibleTicks) > 0) {\n            this.set('tickItems', visibleTicks);\n            Util.remove(this.get('group').get('children'), function (s) {\n              return s.name === 'axis-ticks';\n            });\n\n            this._renderTicks();\n          }\n        }\n      }\n    }\n  };\n\n  Line.prototype.getAutoRotateAngleByAvgWidth = function (avgWidth) {\n    var autoRotate = this.get('autoRotateLabel');\n    var labelRenderer = this.get('labelRenderer');\n    var title = this.get('title');\n    var angle;\n\n    if (labelRenderer) {\n      var labels = labelRenderer.getLabels();\n      var offset = this.get('label').offset;\n      var append = 12;\n      var titleOffset = title && title.offset ? title.offset : 20;\n\n      if (titleOffset < 0) {\n        // 如果是负的的话就不旋转\n        return;\n      }\n\n      var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n\n      var maxWidth = void 0;\n      var maxHeight = void 0;\n\n      if (Util.isNumberEqual(vector[0], 0) && title && title.text) {\n        // 坐标轴垂直，由于不知道边距，只能防止跟title重合，如果title不存在，则不自动旋转\n        maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n\n        if (maxWidth > titleOffset - offset - append) {\n          angle = Math.acos((titleOffset - offset - append) / maxWidth) * -1;\n        }\n      } else if (Util.isNumberEqual(vector[1], 0) && labels.length > 1) {\n        // 坐标轴水平，不考虑边距，根据最长的和平均值进行翻转\n        maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n        maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height');\n\n        if (maxWidth > avgWidth) {\n          var degrees = Util.isArray(autoRotate) ? autoRotate : AUTO_ROTATE_DEGREES;\n\n          for (var _i = 0, degrees_1 = degrees; _i < degrees_1.length; _i++) {\n            var degree = degrees_1[_i];\n            angle = degree * Math.PI / 180;\n\n            if (avgWidth * Math.abs(Math.sin(angle)) > maxHeight + 4) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return angle;\n  };\n\n  Line.prototype.getOffsetByRotateAngle = function (angle) {\n    var labelRenderer = this.get('labelRenderer');\n    var position = this.get('position');\n    var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n    var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n    return angle ? Math.max(labelLength, this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) : labelLength;\n  };\n\n  Line.prototype._getAvgLabelLength = function (labelRenderer) {\n    var labels = labelRenderer.getLabels();\n    return labels[1].attr('x') - labels[0].attr('x');\n  };\n\n  Line.prototype._getAvgLabelHeightSpace = function (labelRenderer) {\n    var labels = labelRenderer.getLabels();\n    return labels[1].attr('y') - labels[0].attr('y');\n  };\n\n  Line.prototype.getAutoRotateAngle = function () {\n    var labelRenderer = this.get('labelRenderer');\n    var labels = labelRenderer.getLabels();\n\n    if (!labels || labels.length < 2) {\n      return;\n    }\n\n    var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n    return this.getAutoRotateAngleByAvgWidth(avgWidth);\n  };\n\n  return Line;\n}(Axis);\n\nexport default Line;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Guide from '../base';\n\nvar Legend =\n/** @class */\nfunction (_super) {\n  __extends(Legend, _super);\n\n  function Legend(cfg) {\n    var _this = _super.call(this, __assign({\n      /**\n       * 图例类型\n       */\n      type: 'base',\n\n      /**\n       * 图例标题\n       */\n      title: null,\n\n      /**\n       * 图例项集合\n       */\n      items: null,\n\n      /**\n       * 图例文本显示格式化回调函数\n       */\n      formatter: null,\n\n      /**\n       * 图例整体在 X 轴方向的偏移量\n       */\n      offsetX: 0,\n\n      /**\n       * 图例整体在 Y 轴方向上的偏移量\n       */\n      offsetY: 0\n    }, cfg)) || this;\n\n    _this.init();\n\n    _this.render();\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * 渲染图例内容\n   */\n\n\n  Legend.prototype.render = function () {\n    this.renderTitle(); // 渲染标题\n\n    this.renderItems(); // 渲染图例项\n  };\n  /**\n   * @override\n   * 获取图例的宽度\n   */\n\n\n  Legend.prototype.getWidth = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.width;\n  };\n  /**\n   * @override\n   * 获取图例的高度\n   */\n\n\n  Legend.prototype.getHeight = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.height;\n  };\n  /**\n   * @override\n   * 获取图例BBox\n   */\n\n\n  Legend.prototype.getBBox = function () {\n    return this.get('container').getBBox();\n  };\n  /**\n   * @override\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  Legend.prototype.moveTo = function (x, y) {\n    var container = this.get('container');\n    container.move(x, y);\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 绘制图例\n   */\n\n\n  Legend.prototype.draw = function () {\n    this.get('canvas').draw();\n  };\n  /* 格式化 legend 显示数据 */\n\n\n  Legend.prototype.formatterValue = function (v) {\n    var formatter = this.get('formatter') || _.identity;\n\n    return formatter.call(this, v);\n  };\n\n  return Legend;\n}(Guide);\n\nexport default Legend;","// 滑块的宽度，高度 = 宽度 * 2\nimport { FONT_FAMILY } from '../../../const';\nexport var SLIDER_WIDTH = 8;\nexport var SLIDER_HEIGHT = SLIDER_WIDTH * 2;\nexport var SLIDER_CIRCLE_MAX_SIZE = SLIDER_HEIGHT * 2;\nexport var TEXT_OFFSET = 4;\nexport var SliderBtnStyle = {\n  fill: '#fff',\n  // shadowOffsetX: -2,\n  // shadowOffsetY: 2,\n  shadowBlur: 10,\n  shadowColor: 'rgba(0,0,0,0.65)',\n  radius: 2\n};\nexport var SliderTextStyle = {\n  fill: '#333',\n  textAlign: 'center',\n  textBaseline: 'middle',\n  stroke: '#fff',\n  lineWidth: 5,\n  fontFamily: FONT_FAMILY\n};\nexport var SliderMiddleBackgroundStyle = {\n  fill: '#D9D9D9'\n};\nexport var SliderMiddleFrontendStyle = {\n  fill: 'rgb(64, 141, 251)'\n};\nexport var DefaultTitleStyle = {\n  fill: '#333',\n  textBaseline: 'top',\n  textAlign: 'start',\n  fontFamily: FONT_FAMILY\n};","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as domUtil from '@antv/dom-util';\nimport { SLIDER_CIRCLE_MAX_SIZE, SLIDER_WIDTH, SLIDER_HEIGHT, SliderBtnStyle } from '../constant';\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this; // 拖拽过程中，更新 slider 状态位置\n\n\n    _this.onMouseMove = function (e) {\n      var clientX = e.clientX,\n          clientY = e.clientY;\n\n      _this.updateSliderStatus(clientX, clientY);\n    }; // 拖拽结束，清除事件\n\n\n    _this.onMouseUp = function () {\n      // 走到这里，理论上一定会存在方法\n      if (_this.clearAllEvents) {\n        _this.clearAllEvents();\n      }\n\n      _this.currentTarget = undefined;\n    }; // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n\n\n    var layout = cfg.layout,\n        sliderType = cfg.sliderType,\n        sliderSize = cfg.sliderSize,\n        operational = cfg.operational,\n        width = cfg.width,\n        height = cfg.height,\n        textStyle = cfg.textStyle,\n        min = cfg.min,\n        max = cfg.max,\n        range = cfg.range,\n        formatter = cfg.formatter;\n    _this.layout = layout;\n    _this.sliderType = sliderType;\n\n    var _a = sliderSize || [],\n        _b = _a[0],\n        w = _b === void 0 ? SLIDER_WIDTH : _b,\n        _c = _a[1],\n        h = _c === void 0 ? SLIDER_HEIGHT : _c;\n\n    _this.sliderSize = [w, h];\n    _this.operational = operational;\n    _this.width = width;\n    _this.height = height;\n    _this.min = min;\n    _this.max = max;\n    _this.range = range;\n    _this.textStyle = textStyle;\n    _this.formatter = formatter; // 创建初始的内容\n\n    _this.initialSlider();\n\n    return _this;\n  }\n  /**\n   * 外部设置 background\n   * @param bg\n   */\n\n\n  Slider.prototype.setBackground = function (bg) {\n    // 如果已经存在，那么先移除\n    if (this.backgroundGroup) {\n      // this.remove(true);\n      // this.backgroundGroup.remove(true);\n      // this.removeChild(this.backgroundGroup, true);\n      this.backgroundGroup.destroy();\n    }\n\n    var group = bg.group,\n        background = bg.background,\n        frontend = bg.frontend; // 然后添加\n\n    this.backgroundGroup = group;\n    this.backgroundGroup.set('zIndex', 0);\n\n    if (this.operational && this.rangeSliderShape && frontend) {\n      frontend.attr('clip', this.rangeSliderShape); // this.add(this.rangeSliderShape);\n    }\n\n    this.add(this.backgroundGroup);\n    this.sort();\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Slider.prototype.isHorizontal = function () {\n    return this.layout === 'horizontal';\n  };\n  /**\n   * 初始化滑块\n   * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n   */\n\n\n  Slider.prototype.initialSlider = function () {\n    if (this.operational) {\n      this.rangeSliderShape = this.createRangeSliderShape();\n      this.rangeSliderShape.set('zIndex', 1);\n      this.minSliderGroup = this.createMinSliderGroup();\n      this.minSliderGroup.set('zIndex', 2);\n      this.maxSliderGroup = this.createMaxSliderGroup();\n      this.maxSliderGroup.set('zIndex', 2);\n      var _a = this.range,\n          min = _a[0],\n          max = _a[1]; // 使用默认的 range 范围渲染 UI\n\n      this.renderUIWithRange(min, max);\n    } // 绑定事件\n\n\n    this.bindEvent();\n  };\n  /* 滑块 hover 的鼠标样式 */\n\n\n  Slider.prototype.getSliderCursor = function () {\n    return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n  };\n  /* 小滑块的区域样式 */\n\n\n  Slider.prototype.createMinSliderGroup = function () {\n    var group = this.addGroup();\n    this.minSliderShape = this.createSliderButton(group, true);\n    this.minTextShape = this.createSliderText(group, true);\n    return group;\n  };\n  /* 大滑块的区域样式 */\n\n\n  Slider.prototype.createMaxSliderGroup = function () {\n    var group = this.addGroup();\n    this.maxSliderShape = this.createSliderButton(group, false);\n    this.maxTextShape = this.createSliderText(group, false);\n    return group;\n  };\n  /* 拖动两个滑块 button 中间，可以滑动整体 */\n\n\n  Slider.prototype.createRangeSliderShape = function () {\n    return this.addShape('rect', {\n      attrs: {\n        fill: '#fff',\n        fillOpacity: 0,\n        cursor: 'move'\n      }\n    });\n  };\n  /* rect 的属性信息 */\n\n\n  Slider.prototype.getRectButtonAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1]; // 前提，滑块的高度是宽度的一半\n\n    if (this.isHorizontal()) {\n      return {\n        x: isMin ? -sliderWidth : 0,\n        y: this.height / 2 - sliderHeight / 2,\n        width: sliderWidth,\n        height: sliderHeight\n      };\n    }\n\n    return {\n      x: this.width / 2 - sliderHeight / 2,\n      y: isMin ? 0 : -sliderWidth,\n      width: sliderHeight,\n      height: sliderWidth\n    };\n  };\n\n  Slider.prototype.getCircleButtonAttribute = function (isMin) {\n    // circle 坐标系为圆心\n    if (this.isHorizontal()) {\n      return {\n        x: 0,\n        y: this.height / 2,\n        r: SLIDER_CIRCLE_MAX_SIZE / 2\n      };\n    }\n\n    return {\n      x: this.width / 2,\n      y: 0,\n      r: SLIDER_CIRCLE_MAX_SIZE / 2\n    };\n  };\n  /**\n   * 创建滑块\n   * @param group\n   * @param isMin 是小滑块还是大滑块\n   */\n\n\n  Slider.prototype.createSliderButton = function (group, isMin) {\n    var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {}; // 不同的 slider 滑块\n\n    var buttonAttribute = __assign(__assign(__assign({}, buttonAttr), SliderBtnStyle), {\n      cursor: this.getSliderCursor()\n    });\n\n    return group.addShape(this.sliderType, {\n      attrs: buttonAttribute\n    });\n  };\n\n  Slider.prototype.getRectTextAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1];\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n      y: this.height / 2 + sliderHeight / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + sliderHeight / 2 + 4,\n      y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n\n  Slider.prototype.getCircleTextAttribute = function (isMin) {\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: 0,\n      y: this.height / 2 + SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      y: 0,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n  /**\n   * 创建滑块文字\n   * @param group\n   * @param isMin\n   */\n\n\n  Slider.prototype.createSliderText = function (group, isMin) {\n    var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n\n    var textAttr = __assign(__assign(__assign({}, this.textStyle), textAttribute), {\n      text: ''\n    });\n\n    return group.addShape('text', {\n      attrs: textAttr\n    });\n  }; // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n\n\n  Slider.prototype.bindEvent = function () {\n    if (this.operational) {\n      // 鼠标点击的时候，开始滑动\n      this.on('mousedown', this.onMouseDown);\n    }\n  };\n\n  Slider.prototype.onMouseDown = function (ev) {\n    // 当前触发的 shape\n    this.currentTarget = ev.target;\n    var originEvent = ev.event; // 阻止冒泡\n\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    var clientX = originEvent.clientX,\n        clientY = originEvent.clientY; // 鼠标坐标位置\n\n    this.pos = this.isHorizontal() ? clientX : clientY;\n    this.bindCanvasEvents();\n  };\n\n  Slider.prototype.bindCanvasEvents = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n    var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n    var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp); // 清除所有事件的方法，在交互结束的时候执行\n\n    this.clearAllEvents = function () {\n      e1.remove();\n      e2.remove();\n      e3.remove();\n    };\n  };\n\n  Slider.prototype.isDragMin = function () {\n    return this.currentTarget === this.minSliderShape;\n  };\n\n  Slider.prototype.isDragMax = function () {\n    return this.currentTarget === this.maxSliderShape;\n  };\n\n  Slider.prototype.isDragAll = function () {\n    return this.currentTarget === this.rangeSliderShape;\n  };\n  /**\n   * 根据鼠标位置 x,y，更新滑块位置状态\n   * @param x\n   * @param y\n   */\n\n\n  Slider.prototype.updateSliderStatus = function (x, y) {\n    var _this = this;\n\n    var totalLength = this.isHorizontal() ? this.width : this.height;\n    var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n\n    var _a = this.range,\n        min = _a[0],\n        max = _a[1]; // 默认的 range\n\n    var prePosition = this.pos;\n    var currentPosition = this.isHorizontal() ? x : y; // 鼠标拖拽的长度\n\n    var diffLength = currentPosition - prePosition; // 鼠标拖拽的比例，用于做 range 计算\n\n    var diff = diffLength / totalLength * sign;\n    var newRange = [min, max]; // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n\n    if (this.isDragAll()) {\n      if (diff >= 0 && max + diff > 1) {\n        // max 超出\n        newRange = [min + (1 - max), 1];\n      } else if (diff < 0 && min + diff < 0) {\n        // min 超出\n        newRange = [0, max - min];\n      } else {\n        // 都没有超出\n        newRange = [min + diff, max + diff];\n      }\n    } else {\n      // 分别处理\n      if (this.isDragMin()) {\n        newRange[0] = this.getNewRange(min, diff);\n      }\n\n      if (this.isDragMax()) {\n        newRange[1] = this.getNewRange(max, diff);\n      } // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n\n\n      if (newRange[1] < newRange[0]) {\n        newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n      }\n    } // 更新状态\n\n\n    this.pos = currentPosition;\n    this.range = newRange; // 发送事件\n\n    this.emit('sliderchange', {\n      range: newRange,\n      value: newRange.map(function (r) {\n        return _this.getValue(r);\n      })\n    });\n    this.renderUIWithRange(newRange[0], newRange[1]); // 渲染 redraw\n\n    this.get('canvas').draw();\n  };\n  /* 根据 range 变更 ui */\n\n\n  Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n    var width = this.width;\n    var height = this.height; // resetMatrix 是 reset 的创建的属性\n\n    this.minSliderGroup.resetMatrix();\n    this.maxSliderGroup.resetMatrix(); // 修改滑块位置\n    // 横向，纵向的变换逻辑不一样\n\n    if (this.isHorizontal()) {\n      this.rangeSliderShape.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      this.minSliderGroup.translate(minRatio * width, 0);\n      this.maxSliderGroup.translate(maxRatio * width, 0);\n    } else {\n      this.rangeSliderShape.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      }); // 纵向图例，上大下小\n\n      this.minSliderGroup.translate(0, (1 - minRatio) * height);\n      this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n    } // 更新文本\n\n\n    this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n    this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio))); // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n\n    if (this.sliderType === 'circle') {\n      this.minSliderShape.attr({\n        r: (SLIDER_HEIGHT + minRatio * (SLIDER_CIRCLE_MAX_SIZE - SLIDER_HEIGHT)) / 2\n      });\n      this.maxSliderShape.attr({\n        r: (SLIDER_HEIGHT + maxRatio * (SLIDER_CIRCLE_MAX_SIZE - SLIDER_HEIGHT)) / 2\n      });\n    }\n  };\n  /**\n   * 在原来 range 的基础上，增加一个 diff\n   * @param range\n   * @param diff\n   */\n\n\n  Slider.prototype.getNewRange = function (range, diff) {\n    var r = diff + range;\n    return r > 1 ? 1 : r < 0 ? 0 : r;\n  };\n\n  Slider.prototype.getValue = function (ratio) {\n    var v = this.min + (this.max - this.min) * ratio;\n    return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n  };\n\n  return Slider;\n}(Group);\n\nexport default Slider;","import { __assign, __extends, __rest } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Event } from '@antv/g';\nimport Legend from '../base';\nimport Slider from './components/slider';\nimport { SliderTextStyle, SliderMiddleBackgroundStyle, SliderMiddleFrontendStyle, DefaultTitleStyle } from './constant';\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  __extends(Continuous, _super);\n\n  function Continuous(cfg) {\n    var _this = this;\n\n    var backgroundStyle = cfg.backgroundStyle,\n        fillStyle = cfg.fillStyle,\n        textStyle = cfg.textStyle,\n        titleStyle = cfg.titleStyle,\n        otherCfg = __rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n\n    var _a = cfg.layout,\n        layout = _a === void 0 ? 'horizontal' : _a; // 放入主题中\n\n    var defaultSize = {\n      width: layout === 'horizontal' ? 156 : 16,\n      height: layout === 'horizontal' ? 16 : 156\n    };\n    _this = _super.call(this, __assign(__assign({\n      /* title 间距 */\n      titleDistance: 16,\n\n      /* 布局默认水平 */\n      layout: 'horizontal',\n\n      /* 默认可交互 */\n      operational: true,\n\n      /* 滑块的样式： rect | circle */\n      handleIcon: 'rect',\n\n      /* 背景的样式 */\n      backgroundStyle: __assign(__assign({}, SliderMiddleBackgroundStyle), backgroundStyle),\n\n      /* slider 滑块前景色 */\n      fillStyle: __assign(__assign({}, SliderMiddleFrontendStyle), fillStyle),\n\n      /* 文本样式 */\n      textStyle: __assign(__assign({}, SliderTextStyle), textStyle),\n\n      /* 标题样式 */\n      titleStyle: __assign(__assign({}, DefaultTitleStyle), titleStyle),\n\n      /* 宽度 */\n      width: 156,\n\n      /* 高度 */\n      height: 16\n    }, defaultSize), otherCfg)) || this;\n    return _this;\n  }\n\n  Continuous.prototype.init = function () {\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var legendGroup = container.addGroup();\n    this.set('legendGroup', legendGroup);\n    var itemsGroup = legendGroup.addGroup();\n    this.set('itemsGroup', itemsGroup); // 平移\n\n    legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n  };\n  /**\n   * 连续型 title，其实和分类的 canvas title 没有什么区别\n   */\n\n\n  Continuous.prototype.renderTitle = function () {\n    if (this.isShowTitle()) {\n      var title = this.get('title');\n      var container = this.get('legendGroup');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n  /**\n   * 连续性，直接 render 滑块即可\n   */\n\n\n  Continuous.prototype.renderItems = function () {\n    this.renderSlider();\n  }; // 绑定交互事件\n\n\n  Continuous.prototype.bindEvents = function () {\n    if (this.isOperational()) {// 滑块的鼠标拖拽事件\n      // 滑块更新数据之后的事件\n    }\n  };\n  /**\n  * 清空容器\n  */\n\n\n  Continuous.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  Continuous.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      // 将自己从父容器删除，并且销毁自己\n      if (container.get('parent')) {\n        container.remove(true);\n      }\n\n      container.destroy();\n    }\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Continuous.prototype.isHorizontal = function () {\n    return this.get('layout') === 'horizontal';\n  };\n  /* 是够可交互 */\n\n\n  Continuous.prototype.isOperational = function () {\n    return this.get('operational');\n  };\n  /* 是够显示标题 */\n\n\n  Continuous.prototype.isShowTitle = function () {\n    return !!this.get('title');\n  };\n  /* 滑块的配置 */\n\n\n  Continuous.prototype.getSliderConfig = function () {\n    return {\n      layout: this.get('layout'),\n      sliderType: this.get('handleIcon'),\n      sliderSize: this.get('handleSize'),\n      sliderStyle: this.get('handleStyle'),\n      operational: this.isOperational(),\n      // 宽高\n      width: this.get('width'),\n      height: this.get('height'),\n      min: _.head(this.get('items')).value,\n      max: _.last(this.get('items')).value,\n      // 初始的 range 范围，例如：[ 0, 0.9 ]\n      range: this.get('range') || [0, 1],\n      // 文本样式\n      textStyle: __assign({}, this.get('textStyle')),\n      // 格式化\n      formatter: this.formatterValue\n    };\n  }; // 渲染滑块（颜色和尺寸的效果是一致的）\n\n\n  Continuous.prototype.renderSlider = function () {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup'); // 创建 slider\n\n    var slider = new Slider(this.getSliderConfig()); // 设置背景 group\n\n    slider.setBackground(this.createBackgroundGroup()); // 平移\n\n    if (this.isShowTitle()) {\n      var titleDistance = this.get('titleDistance');\n      var titleBbox = this.get('titleShape').getBBox();\n      var height = titleBbox.height; // 往下平移 title 间距\n\n      slider.translate(0, titleDistance + height);\n    } // 监听事件\n    // 值变更的时候，发送 itemfilter 事件。\n\n\n    slider.on('sliderchange', function (ev) {\n      var value = ev.value,\n          range = ev.range;\n      var itemFiltered = new Event('itemfilter', ev, true, true); // @ts-ignore todo 传值格式\n\n      itemFiltered.range = value;\n\n      _this.emit('itemfilter', itemFiltered);\n    });\n    itemsGroup.add(slider);\n    this.set('slider', slider);\n  };\n\n  return Continuous;\n}(Legend);\n\nexport default Continuous;","import { __assign, __extends } from \"tslib\";\nimport { Group, Polygon } from '@antv/g';\nimport Continuous from './base'; // circle 的时候，背景的高度\n\nvar CircleBackgroundHalfHeight = 2;\n\nvar Size =\n/** @class */\nfunction (_super) {\n  __extends(Size, _super);\n\n  function Size(cfg) {\n    return _super.call(this, __assign({\n      type: 'size-legend'\n    }, cfg)) || this;\n  }\n\n  Size.prototype.getBackgroundShapeAttr = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var points = [];\n\n    if (this.get('handleIcon') === 'rect') {\n      points = this.isHorizontal() ? [[0, height], [0, height - 4], [width, 0], [width, height]] : [[0, 0], [width, 0], [width, height], [width - 4, height]];\n    } else {\n      points = this.isHorizontal() ? [[0, halfHeight + CircleBackgroundHalfHeight], [0, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight + CircleBackgroundHalfHeight]] : [[halfWidth + CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, height], [halfWidth + CircleBackgroundHalfHeight, height]];\n    }\n\n    return {\n      points: points\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Size.prototype.createBackgroundGroup = function () {\n    var shapeAttribute = this.getBackgroundShapeAttr();\n    var backgroundStyle = this.get('backgroundStyle');\n    var fillStyle = this.get('fillStyle');\n    var background = new Polygon({\n      attrs: __assign(__assign({}, shapeAttribute), backgroundStyle)\n    });\n    var frontend = new Polygon({\n      attrs: __assign(__assign(__assign({}, shapeAttribute), backgroundStyle), fillStyle)\n    });\n    var group = new Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n\n  return Size;\n}(Continuous);\n\nexport default Size;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Group, Rect } from '@antv/g';\nimport colorUtil from '@antv/color-util';\nimport Continuous from './base';\nimport { TEXT_OFFSET } from './constant';\n\nvar Color =\n/** @class */\nfunction (_super) {\n  __extends(Color, _super);\n\n  function Color(cfg) {\n    return _super.call(this, __assign({\n      type: 'color-legend'\n    }, cfg)) || this;\n  }\n  /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n\n\n  Color.prototype.calculatePercent = function (items) {\n    var min = _.head(items).value;\n\n    var max = _.last(items).value;\n\n    var diff = max - min;\n    return _.map(items, function (item) {\n      return __assign(__assign({}, item), {\n        percentage: (Number(item.value) - min) / diff\n      });\n    });\n  };\n  /* 颜色是否分段 */\n\n\n  Color.prototype.isSegment = function () {\n    return !!this.get('isSegment');\n  };\n  /* 可交互的情况 */\n\n\n  Color.prototype.getOperationalGroup = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var backgroundStyle = this.get('backgroundStyle');\n    var fill = '';\n    var rgbColor;\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (v) {\n        rgbColor = colorUtil.toRGB(v.color);\n        fill += v.percentage + \":\" + rgbColor + \" \";\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (v) {\n        rgbColor = colorUtil.toRGB(v.color);\n        fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n      });\n    }\n\n    var background = new Rect({\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        strokeOpacity: 0\n      }, backgroundStyle)\n    });\n    var frontend = new Rect({\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    });\n    var group = new Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n  /**\n   * 不可交互的情况：\n   * 1. 无滑块\n   * 2. 可以连续和分段\n   * 3. 分段的时候下面有文字\n   */\n\n\n  Color.prototype.getUnOperationalGroup = function () {\n    var _this = this;\n\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var textStyle = this.get('textStyle');\n    var group = new Group();\n    var fill = '';\n    var rgbColor;\n    var path = [];\n    var isize = items.length; // gradient color distributed according to the percentage\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', item.percentage * width, 0]);\n          path.push(['L', item.percentage * width, height]);\n        }\n\n        rgbColor = colorUtil.toRGB(items[i].color);\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = colorUtil.toRGB(items[i - 1].color);\n          fill += item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        fill += item.percentage + \":\" + rgbColor + \" \";\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            x: item.percentage * width,\n            y: height + TEXT_OFFSET,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textBaseline: 'top',\n            textAlign: 'center'\n          })\n        });\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', 0, height - item.percentage * height]);\n          path.push(['L', width, height - item.percentage * height]);\n        }\n\n        rgbColor = colorUtil.toRGB(items[i].color);\n        fill += 1 - item.percentage + \":\" + rgbColor + \" \"; // one color instead of gradient color for a block while isSegment === true\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = colorUtil.toRGB(items[i - 1].color);\n          fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        group.addShape('text', {\n          attrs: __assign(__assign({\n            x: width + TEXT_OFFSET,\n            y: (1 - item.percentage) * height,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textAlign: 'start',\n            textBaseline: 'middle'\n          })\n        });\n      });\n    }\n\n    var background = group.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    }); // the white line segment to seperate color blocks\n\n    group.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: 1,\n        stroke: '#fff'\n      }\n    });\n    return {\n      group: group,\n      background: background,\n      frontend: undefined\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Color.prototype.createBackgroundGroup = function () {\n    return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n  };\n\n  return Color;\n}(Continuous);\n\nexport default Color;","import * as G from '@antv/g';\nimport * as _ from '@antv/util';\nvar dir_mapper = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction () {\n  function Arrow(cfg) {\n    this.width = 10;\n    this.height = 10;\n    this.direction = 'right';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  Arrow.prototype._init = function () {\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    this.shape = new G.Path({\n      attrs: _.deepMix({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.attrs)\n    });\n    var transformMatrix = [];\n    /** rotate */\n\n    transformMatrix.push(['r', dir_mapper[this.direction]]);\n    /** transform */\n\n    transformMatrix.push(['t', this.x, this.y]);\n    this.shape.transform(transformMatrix);\n  };\n\n  return Arrow;\n}();\n\nexport default Arrow;","import { __assign, __extends } from \"tslib\";\nimport LegendBase from '../base';\nvar DEFAULT_THEME = {\n  layout: 'horizontal',\n  titleDistance: 15,\n  itemDistance: 5,\n  itemMarginBottom: 8,\n  wordSpacing: 8,\n  backgroundPadding: 0,\n  unSelectedColor: '#ccc',\n  offsetX: 0,\n  offsetY: 0\n};\n\nvar CategoryBase =\n/** @class */\nfunction (_super) {\n  __extends(CategoryBase, _super);\n\n  function CategoryBase(cfg) {\n    return _super.call(this, __assign(__assign({\n      /**\n       * 鼠标 hover 到图例上的默认交互是否开启\n       */\n      hoverable: true,\n\n      /**\n       * 图例是否允许点击交互\n       */\n      clickable: true,\n\n      /**\n       * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n       */\n      selectedMode: 'multiple',\n\n      /**\n       * 是否允许全部取消，默认 false，即必须保留一个被选中\n       */\n      allowAllCanceled: false,\n\n      /**\n       * 图例项的顺序是否要逆序，默认为 false\n       */\n      reversed: false,\n\n      /**\n       * 是否自动换行，默认自动换行\n       */\n      autoWrap: true\n    }, DEFAULT_THEME), cfg)) || this;\n  }\n\n  return CategoryBase;\n}(LegendBase);\n\nexport default CategoryBase;","import { __assign, __extends } from \"tslib\";\nimport { BBox, Event, Group, Rect } from '@antv/g';\nimport { clone, each, filter, isNumber, mix, wrapBehavior } from '@antv/util';\nimport Arrow from './arrow';\nimport CategoryBase from './base';\n\nvar CanvasLegend =\n/** @class */\nfunction (_super) {\n  __extends(CanvasLegend, _super);\n\n  function CanvasLegend(cfg) {\n    return _super.call(this, __assign({\n      type: 'category-legend'\n    }, cfg)) || this;\n  }\n\n  CanvasLegend.prototype.init = function () {\n    this.isFlipped = false;\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var itemsGroup = container.addGroup();\n    this.set('itemsGroup', itemsGroup);\n\n    if (this.get('flipPage')) {\n      this.set('autoWrap', true);\n    }\n  };\n\n  CanvasLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var container = this.get('container');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n\n  CanvasLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (this.get('reversed')) {\n      items.reverse();\n    }\n\n    each(items, function (item) {\n      _this._addItem(item);\n    });\n\n    var _a = this._getMaxItemSize(),\n        maxItemWidth = _a.maxItemWidth,\n        maxItemHeight = _a.maxItemHeight;\n\n    this.set('maxItemWidth', maxItemWidth);\n    this.set('maxItemHeight', maxItemHeight);\n    var needPageFlip = this.isNeedFlip();\n\n    if (this.get('autoWrap')) {\n      this._adjustItems();\n    } // 默认自动换行\n\n\n    if (needPageFlip) {\n      this.flipPage();\n    }\n\n    this._adjustPositionOffset();\n\n    this._renderBack();\n  };\n\n  CanvasLegend.prototype.isNeedFlip = function () {\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsBBox = this.get('itemsGroup').getBBox();\n    var layout = this.get('layout');\n\n    if (this.get('flipPage')) {\n      if (layout === 'vertical' && maxHeight < itemsBBox.height) {\n        return true;\n      }\n\n      if (layout === 'horizontal' && maxWidth < itemsBBox.width) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CanvasLegend.prototype.flipPage = function () {\n    var _this = this;\n\n    this.isFlipped = true;\n    var maxItemWidth = this.get('maxItemWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsGroup = this.get('itemsGroup');\n    var itemsBBox = itemsGroup.getBBox();\n    var layout = this.get('layout');\n\n    var paginationCfg = this._getPaginationCfg(); // 根据layout创建clip\n\n\n    var pageNumber = 0;\n    var mode = 'up-down'; // 上下翻页\n\n    var x = itemsBBox.tl.x;\n    var y = itemsBBox.tl.y; // 翻页器位置\n\n    var size = 0; // 翻页器尺寸\n\n    var clip = new Rect({\n      attrs: {\n        x: x,\n        y: y,\n        width: maxWidth - paginationCfg.size,\n        height: maxHeight\n      }\n    });\n\n    if (layout === 'horizontal') {\n      var width = Math.max(maxWidth, itemsBBox.width);\n      clip.attr('width', width);\n      clip.attr('height', maxItemHeight);\n      this.set('maxWidth', width);\n      this.set('maxHeight', maxItemHeight);\n      pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n      x = x + width - paginationCfg.size; // temp:padding\n\n      y = Math.ceil(y + maxItemHeight / 2);\n      size = maxItemHeight;\n\n      if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n        var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n        this.set('offsetY', offsetY);\n      }\n    }\n\n    if (layout === 'vertical') {\n      clip.attr('width', maxItemWidth);\n      var height = Math.max(maxHeight, itemsBBox.height);\n      clip.attr('height', height);\n      this.set('maxWidth', maxItemWidth);\n      this.set('maxHeight', height);\n      pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n      y = y + height + 10; // temp: padding\n\n      mode = 'left-right';\n      size = maxItemWidth;\n    } // 应用clip\n\n\n    itemsGroup.attr('clip', clip);\n    this.set('clip', clip); // 绘制翻页器UI\n\n    var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n    this.flipUI = flipUI; // 加入交互\n\n    var currentIndex = 1;\n    var arrow1 = flipUI.arrows[0];\n    var arrow2 = flipUI.arrows[1];\n    arrow1.on('click', function () {\n      if (currentIndex > 1) {\n        currentIndex -= 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] += dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] += dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n\n        _this.get('canvas').draw();\n      }\n    });\n    arrow2.on('click', function () {\n      if (currentIndex < pageNumber) {\n        currentIndex += 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] -= dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] -= dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n      }\n    });\n  };\n\n  CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n    var paginationCfg = this._getPaginationCfg();\n\n    var container = this.get('container');\n    var group = container.addGroup();\n    var arrows = [];\n    var text;\n\n    if (mode === 'left-right') {\n      // left arrow\n      var la = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x + paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'left'\n      }));\n      group.add(la.shape);\n      arrows.push(la.shape); // right arrow\n\n      var ra = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x + size - paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'right'\n      }));\n      group.add(ra.shape);\n      arrows.push(ra.shape); // text\n\n      text = group.addShape('text', {\n        attrs: mix({}, paginationCfg.text, {\n          x: x + size / 2,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    } else {\n      // upper arrow\n      var height = this._getHorizontalPaginationHeight();\n\n      var ua = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y - height / 2 + paginationCfg.arrow.height / 2,\n        direction: 'up'\n      }));\n      group.add(ua.shape);\n      arrows.push(ua.shape); // lower arrow\n\n      var da = new Arrow(mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y + height / 2 - paginationCfg.arrow.height / 2,\n        direction: 'down'\n      }));\n      group.add(da.shape);\n      arrows.push(da.shape); // text\n\n      text = group.addShape('text', {\n        attrs: mix({}, paginationCfg.text, {\n          x: x,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    }\n\n    return {\n      arrows: arrows,\n      text: text,\n      container: group\n    };\n  };\n\n  CanvasLegend.prototype._getPaginationCfg = function () {\n    var defaultCfg = {\n      arrow: {\n        x: 0,\n        y: 0,\n        width: 10,\n        height: 8,\n        attrs: {\n          fill: '#ccc',\n          cursor: 'pointer'\n        },\n        direction: 'right'\n      },\n      text: {\n        fontSize: 12,\n        fill: '#ccc',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      },\n      size: 40\n    }; // todo: 允许用户自行配置样式\n\n    return defaultCfg;\n  };\n\n  CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n    var GAP = 2;\n\n    var cfg = this._getPaginationCfg();\n\n    return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n  };\n\n  CanvasLegend.prototype.bindEvents = function () {\n    var itemsGroup = this.get('itemsGroup');\n\n    if (this.get('hoverable')) {\n      itemsGroup.on('mousemove', wrapBehavior(this, '_onMousemove'));\n      itemsGroup.on('mouseleave', wrapBehavior(this, '_onMouseleave'));\n    }\n\n    if (this.get('clickable')) {\n      itemsGroup.on('click', wrapBehavior(this, '_onClick'));\n    }\n  };\n  /**\n   * 清空容器\n   */\n\n\n  CanvasLegend.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  CanvasLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      if (container.get('parent')) {\n        container.remove();\n      }\n\n      container.destroy();\n    }\n  };\n\n  CanvasLegend.prototype.getCheckedCount = function () {\n    var itemsGroup = this.get('itemsGroup');\n    var items = itemsGroup.get('children');\n    var checkedArr = filter(items, function (item) {\n      return item.get('checked');\n    });\n    return checkedArr.length;\n  };\n\n  CanvasLegend.prototype.getWidth = function () {\n    return this.getBBox().width;\n  };\n\n  CanvasLegend.prototype.getHeight = function () {\n    return this.getBBox().height;\n  };\n\n  CanvasLegend.prototype.getBBox = function () {\n    if (this.isFlipped) {\n      var clip = this.get('clip');\n      var fliperContainer = this.flipUI.container;\n      return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n    }\n\n    return this.get('container').getBBox();\n  };\n\n  CanvasLegend.prototype._adjustPositionOffset = function () {\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n    var container = this.get('container');\n    container.move(offsetX, offsetY);\n  };\n\n  CanvasLegend.prototype._addItem = function (item) {\n    var itemsGroup = this.get('itemsGroup');\n\n    var x = this._getNextX();\n\n    var y = this._getNextY();\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemGroup = itemsGroup.addGroup({\n      x: x,\n      y: y,\n      value: item.value,\n      checked: item.checked\n    });\n    var textStyle = this.get('textStyle');\n    var wordSpace = this.get('wordSpacing');\n    var startX = 0;\n\n    if (item.marker) {\n      // 如果有marker添加marker\n      var markerAttrs = Object.assign({}, item.marker, {\n        x: item.marker.radius + x,\n        y: y\n      });\n\n      if (!item.checked) {\n        if (markerAttrs.fill) {\n          markerAttrs.fill = unSelectedColor;\n        }\n\n        if (markerAttrs.stroke) {\n          markerAttrs.stroke = unSelectedColor;\n        }\n      }\n\n      var markerShape = itemGroup.addShape('marker', {\n        type: 'marker',\n        attrs: markerAttrs\n      });\n      markerShape.attr('cursor', 'pointer');\n      markerShape.name = 'legend-marker';\n      startX += markerShape.getBBox().width + wordSpace;\n    }\n\n    var textAttrs = Object.assign({}, textStyle, {\n      x: startX + x,\n      y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n      text: this.formatterValue(item.value)\n    });\n\n    if (!item.checked) {\n      Object.assign(textAttrs, {\n        fill: unSelectedColor\n      });\n    }\n\n    var textShape = itemGroup.addShape('text', {\n      attrs: textAttrs\n    });\n    textShape.attr('cursor', 'pointer');\n    textShape.name = 'legend-text';\n    var bbox = itemGroup.getBBox();\n    var itemWidth = this.get('itemWidth');\n    var wrapperShape = itemGroup.addShape('rect', {\n      attrs: {\n        x: x,\n        y: y - bbox.height / 2,\n        fill: '#fff',\n        fillOpacity: 0,\n        width: itemWidth || bbox.width,\n        height: bbox.height\n      }\n    });\n    wrapperShape.attr('cursor', 'pointer');\n    wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n\n    wrapperShape.name = 'legend-item';\n    itemGroup.name = 'legendGroup';\n    return itemGroup;\n  }; // 获取的图例元素 X 位置\n\n\n  CanvasLegend.prototype._getNextX = function () {\n    var layout = this.get('layout');\n    var itemDistance = this.get('itemDistance');\n    var itemsGroup = this.get('itemsGroup');\n    var itemWidth = this.get('itemWidth');\n    var children = itemsGroup.get('children');\n    var nextX = 0;\n\n    if (layout === 'horizontal') {\n      // 水平布局\n      each(children, function (item) {\n        nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n      });\n    }\n\n    return nextX;\n  };\n\n  CanvasLegend.prototype._getNextY = function () {\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var layout = this.get('layout');\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var nextY = titleDistance;\n\n    if (titleShape) {\n      nextY += titleShape.getBBox().height;\n    }\n\n    if (layout === 'vertical') {\n      // 竖直布局\n      each(children, function (item) {\n        nextY += item.getBBox().height + itemMarginBottom;\n      });\n    }\n\n    return nextY;\n  };\n\n  CanvasLegend.prototype._adjustHorizontal = function () {\n    var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n    var itemsGroup = this.get('itemsGroup');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxWidth') - margin;\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var row = 0;\n    var rowLength = 0;\n    var width;\n    var height;\n    var box;\n    var itemWidth = this.get('itemWidth');\n\n    if (itemsGroup.getBBox().width > maxLength) {\n      each(children, function (child) {\n        box = child.getBBox();\n        width = itemWidth || box.width;\n        height = box.height + itemMarginBottom;\n\n        if (maxLength - rowLength < width) {\n          row++;\n          rowLength = 0;\n        }\n\n        child.move(rowLength, row * height + titleDistance);\n        rowLength += width + itemDistance;\n      });\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._adjustVertical = function () {\n    var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDisatance = this.get('titleDistance');\n    var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n    var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n    var colLength = titleHeight + itemsGroup.getBBox().height;\n    var width;\n    var height;\n    var box;\n    maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n    var totalLength = 0;\n\n    if (colLength > maxLength) {\n      each(children, function (child, index) {\n        box = child.getBBox();\n        width = box.width;\n        height = box.height;\n        /*if (index > 0) {\n          maxItemWidth = itemWidth + itemDistance;\n        }*/\n\n        if (maxLength - colLength < height) {\n          // 剩余高度不能满足一行，增加一列\n          colLength = titleHeight;\n\n          if (index > 0) {\n            totalLength += maxItemWidth;\n          }\n\n          child.move(totalLength, titleHeight);\n        } else {\n          child.move(totalLength, colLength);\n        }\n\n        colLength += height + itemMarginBottom;\n      });\n    }\n  };\n\n  CanvasLegend.prototype._adjustItems = function () {\n    var layout = this.get('layout');\n    layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n  };\n\n  CanvasLegend.prototype._renderBack = function () {\n    var container = this.get('container');\n    var padding = this.get('backgroundPadding');\n    var backAttrs = this.get('backgroundStyle');\n\n    if (isNumber(padding)) {\n      padding = [padding, padding, padding, padding];\n    }\n\n    if (!backAttrs) {\n      return;\n    }\n\n    container.renderBack(padding, backAttrs);\n  };\n\n  CanvasLegend.prototype._onMousemove = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseover = new Event('itemmouseover', ev, true, true);\n      itemMouseover.item = this._findItem(item);\n      itemMouseover.checked = item.get('checked');\n      this.emit('itemmouseover', itemMouseover);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onMouseleave = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseleave = new Event('itemmouseleave', ev, true, true);\n      itemMouseleave.item = this._findItem(item);\n      itemMouseleave.checked = item.get('checked');\n      this.emit('itemmouseleave', itemMouseleave);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var clickedItem = this._getLegendItem(ev.target);\n\n    if (clickedItem && !clickedItem.get('destroyed')) {\n      var checked = clickedItem.get('checked');\n\n      if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n        return;\n      }\n\n      var mode = this.get('selectedMode');\n\n      var item_1 = this._findItem(clickedItem);\n\n      var itemClick = new Event('itemclick', ev, true, true);\n      itemClick.item = item_1;\n      itemClick.currentTarget = clickedItem;\n      itemClick.checked = mode === 'single' ? true : !checked;\n      var unSelectedColor_1 = this.get('unSelectedColor');\n      var checkColor_1 = this.get('textStyle').fill;\n      var markerItem_1;\n      var textItem_1;\n      var legendItem_1;\n\n      if (mode === 'single') {\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        each(children, function (child) {\n          markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n          textItem_1 = _this._findShapeByName(child, 'legend-text');\n          legendItem_1 = _this._findShapeByName(child, 'legend-item');\n\n          if (child !== clickedItem) {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', unSelectedColor_1);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', unSelectedColor_1);\n            }\n\n            textItem_1.attr('fill', unSelectedColor_1);\n            markerItem_1.set('checked', false);\n            markerItem_1.set('rawAttrs', __assign({}, markerItem_1.get('attrs')));\n            textItem_1.set('checked', false);\n            legendItem_1.set('checked', false);\n            child.set('checked', false);\n          } else {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', item_1.marker.fill);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', item_1.marker.stroke);\n            }\n\n            textItem_1.attr('fill', checkColor_1);\n            markerItem_1.set('rawAttrs', __assign({}, markerItem_1.get('attrs')));\n            markerItem_1.set('checked', true);\n            textItem_1.set('checked', true);\n            legendItem_1.set('checked', true);\n            child.set('checked', true);\n          }\n        });\n      } else {\n        markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n        textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n        legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n\n        if (markerItem_1.attr('fill')) {\n          markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n        }\n\n        if (markerItem_1.attr('stroke')) {\n          markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n        }\n\n        textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n        clickedItem.set('checked', !checked);\n        markerItem_1.set('checked', !checked);\n        textItem_1.set('checked', !checked);\n        legendItem_1.set('checked', !checked);\n      }\n\n      this.emit('itemclick', itemClick);\n      this.get('canvas').draw();\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._getLegendItem = function (target) {\n    var item = target.get('parent');\n\n    if (item && item.name === 'legendGroup') {\n      return item;\n    }\n\n    return null;\n  };\n\n  CanvasLegend.prototype._findItem = function (refer) {\n    var items = this.get('items');\n    var rst = null;\n    var value = refer instanceof Group ? refer.get('value') : refer;\n    each(items, function (item) {\n      if (item.value === value) {\n        rst = item;\n        return false;\n      }\n    });\n    return rst;\n  };\n\n  CanvasLegend.prototype._findShapeByName = function (group, name) {\n    return group.findBy(function (node) {\n      return node.name === name;\n    });\n  };\n\n  CanvasLegend.prototype._getMaxItemSize = function () {\n    var maxItemWidth = -Infinity;\n    var maxItemHeight = -Infinity;\n    var itemGroup = this.get('itemsGroup');\n    var items = itemGroup.get('children');\n    each(items, function (item) {\n      var i = item;\n      var bbox = i.getBBox();\n\n      if (maxItemWidth < bbox.width) {\n        maxItemWidth = bbox.width;\n      }\n\n      if (maxItemHeight < bbox.height) {\n        maxItemHeight = bbox.height;\n      }\n    });\n    return {\n      maxItemWidth: maxItemWidth,\n      maxItemHeight: maxItemHeight\n    };\n  };\n\n  CanvasLegend.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n    each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  return CanvasLegend;\n}(CategoryBase);\n\nexport default CanvasLegend;","/**\n * @description 使用 HTML 进行渲染的图例\n */\nimport { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { BBox } from '@antv/g';\nimport * as Util from '@antv/util';\nimport CategoryBase from './base';\nvar DEFAULT_THEME = {\n  backgroundStyle: {\n    position: 'absolute',\n    overflow: 'auto',\n    top: 0,\n    left: 0\n  },\n  titleStyle: {\n    marginBottom: '4px'\n  },\n  listStyle: {\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0\n  },\n  itemStyle: {\n    cursor: 'pointer',\n    marginBottom: '5px',\n    marginRight: '16px',\n    userSelect: 'none'\n  },\n  markerStyle: {\n    width: '9px',\n    height: '9px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    verticalAlign: 'middle'\n  },\n  pagination: {\n    activeColor: '#000',\n    inactiveColor: '#ccc',\n    arrowSize: 8,\n    animation: true\n  }\n};\n\nfunction _findParentNode(node, className) {\n  var nodeClass = node.className;\n\n  if (Util.isNil(nodeClass)) {\n    return node;\n  }\n\n  nodeClass = nodeClass.split(' ');\n\n  if (nodeClass.indexOf(className) > -1) {\n    return node;\n  }\n\n  if (node.parentNode) {\n    if (node.parentNode.className === className) {\n      return node.parentNode;\n    }\n\n    return _findParentNode(node.parentNode, className);\n  }\n\n  return null;\n}\n\nfunction _findNodeByClass(node, className) {\n  return node.getElementsByClassName(className)[0];\n}\n\nvar HTMLLegend =\n/** @class */\nfunction (_super) {\n  __extends(HTMLLegend, _super);\n\n  function HTMLLegend(cfg) {\n    return _super.call(this, __assign({\n      type: 'html-legend',\n      prefixClassName: 'g2-legend',\n      pagination: true,\n      highlight: false\n    }, cfg)) || this;\n  }\n\n  HTMLLegend.prototype.init = function () {\n    // 初始化 HTML dom\n    var fontFamily = this.get('fontFamily'); // const width = this.get('width');\n    // const height = this.get('height');\n\n    var layout = this.get('layout');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var prefixClassName = this.get('prefixClassName');\n    var containerTpl = this.get('containerTpl');\n\n    if (!containerTpl) {\n      containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n    }\n\n    var legendContainer = domUtil.createDom(containerTpl);\n    var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n    domUtil.modifyCSS(legendContainer, __assign({\n      fontFamily: fontFamily,\n      maxHeight: maxHeight + \"px\",\n      // width: 'auto',\n      width: '100%',\n      height: 'auto'\n    }, backgroundStyle));\n\n    if (layout === 'horizontal') {\n      domUtil.modifyCSS(legendContainer, {\n        maxWidth: maxWidth + \"px\"\n      });\n    }\n\n    var container = this.get('container');\n\n    if (!container) {\n      // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n      var canvas = this.get('canvas');\n      var mountNode = canvas.get('el').parentNode;\n      mountNode.appendChild(legendContainer);\n    } else if (/^\\#/.test(container)) {\n      // 如果传入 dom 节点的 id\n      var id = container.replace('#', '');\n      container = document.getElementById(id);\n      container.appendChild(legendContainer);\n    } else {\n      // 传入 dom 节点\n      container.appendChild(legendContainer);\n    }\n\n    this.set('_legendContainer', legendContainer);\n  }; // 渲染标题\n\n\n  HTMLLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var prefixClassName = this.get('prefixClassName');\n      var legendContainer = this.get('_legendContainer');\n\n      var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n\n      if (!titleContainer) {\n        titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n        legendContainer.appendChild(titleContainer);\n      }\n\n      titleContainer.innerHTML = title;\n      var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n      domUtil.modifyCSS(titleContainer, titleStyle);\n      this.set('_titleContainer', titleContainer);\n    }\n  }; // 渲染图例项\n\n\n  HTMLLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var legendContainer = this.get('_legendContainer');\n    var layout = this.get('layout');\n    var prefixClassName = this.get('prefixClassName');\n    var reversed = this.get('reversed');\n\n    if (reversed) {\n      items.reverse();\n    }\n\n    var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n\n    if (!itemGroupContainer) {\n      itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n    }\n\n    var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n\n    if (layout === 'horizontal') {\n      // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n      // @todo ie是否会有兼容问题？\n      listStyle.width = 'max-content';\n    }\n\n    domUtil.modifyCSS(itemGroupContainer, listStyle); // 用于支持分页逻辑\n\n    var clipContainer = domUtil.createDom('<div></div>');\n    legendContainer.appendChild(clipContainer);\n    clipContainer.appendChild(itemGroupContainer);\n    this.set('_clipContainer', clipContainer);\n    this.set('_itemGroupContainer', itemGroupContainer);\n    var itemTpl = this.get('itemTpl');\n\n    if (!itemTpl) {\n      itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n    }\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n\n    var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n\n    if (layout === 'horizontal') {\n      itemStyle.display = 'inline-block';\n    } else if (layout === 'vertical') {\n      itemStyle.display = 'block';\n    }\n\n    var itemMap = {};\n    Util.each(items, function (item, index) {\n      var checked = item.checked;\n\n      var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n\n\n      var originColor = item.marker.fill || item.marker.stroke;\n      var color = checked ? originColor : unSelectedColor;\n      var itemDom;\n\n      if (Util.isFunction(itemTpl)) {\n        // 用户声明了回调\n        var domStr = itemTpl(value, color, checked, index);\n        itemDom = domUtil.createDom(domStr);\n      } else {\n        itemDom = domUtil.createDom(itemTpl);\n\n        var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n\n        textDom.innerHTML = value;\n      }\n\n      itemStyle.color = color; // 设置为当前状态对应的文本颜色\n\n      markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n\n      domUtil.modifyCSS(itemDom, itemStyle);\n      itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n\n      itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n\n      itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n\n      var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n\n      if (markerDom) {\n        domUtil.modifyCSS(markerDom, markerStyle);\n      }\n\n      itemGroupContainer.appendChild(itemDom);\n      itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n    });\n    this.set('_itemMap', itemMap);\n\n    if (layout === 'horizontal') {\n      this._renderHorizontalPagination();\n    } else {\n      this._renderPagination();\n    }\n  };\n\n  HTMLLegend.prototype.bindEvents = function () {\n    var _this = this;\n\n    var itemGroupContainer = this.get('_itemGroupContainer');\n\n    if (!itemGroupContainer) {\n      return;\n    }\n\n    if (this.get('clickable')) {\n      itemGroupContainer.onclick = function (ev) {\n        return _this._onClick(ev);\n      };\n    }\n\n    if (this.get('hoverable')) {\n      itemGroupContainer.onmousemove = function (ev) {\n        return _this._onMousemove(ev);\n      };\n\n      itemGroupContainer.onmouseout = function (ev) {\n        return _this._onMouseout(ev);\n      };\n    }\n  };\n  /**\n   * 获取图例的宽度\n   */\n\n\n  HTMLLegend.prototype.getWidth = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterWidth(container);\n  };\n  /**\n   * 获取图例的高度\n   */\n\n\n  HTMLLegend.prototype.getHeight = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterHeight(container);\n  };\n  /**\n   * 获取图例的BBox\n   */\n\n\n  HTMLLegend.prototype.getBBox = function () {\n    return new BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n  };\n  /**\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  HTMLLegend.prototype.moveTo = function (x, y) {\n    var container = this.get('_legendContainer');\n    domUtil.modifyCSS(container, {\n      left: x + \"px\",\n      top: y + \"px\"\n    });\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 销毁\n   */\n\n\n  HTMLLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('_legendContainer');\n\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  };\n\n  HTMLLegend.prototype.draw = function () {\n    // HTML Legend 不需要调用 canvas.draw();\n    return null;\n  };\n\n  HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n    if (markerDom) {\n      markerDom.style.background = color;\n    }\n\n    itemDom.style.color = color;\n    itemDom.setAttribute('data-checked', checked);\n  };\n\n  HTMLLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var items = this.get('items');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n      // 用户点击到了 list 容器上\n      return;\n    }\n\n    var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n\n    var itemMap = this.get('_itemMap');\n    var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')]; // if (!clickedItem) {\n    //   return;\n    // }\n\n    var originColor = clickedItemDom.getAttribute('data-color');\n    var selectedMode = this.get('selectedMode');\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemNodes = itemGroupContainer.childNodes;\n\n    if (selectedMode === 'single') {\n      // 单选模式\n      clickedItem.checked = true; // 更新选中状态\n      // 其他图例项全部置灰\n\n      Util.each(itemNodes, function (child) {\n        if (child !== clickedItemDom) {\n          // tslint:disable-next-line: no-shadowed-variable\n          var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n\n          _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n\n          var childItem = itemMap[child.getAttribute('data-value')];\n          childItem.checked = false;\n        } else {\n          _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n        }\n      });\n    } else {\n      // 混合模式\n      var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n      var count_1 = 0;\n      Util.each(itemNodes, function (child) {\n        if (child.getAttribute('data-checked') === 'true') {\n          count_1++;\n        }\n      });\n\n      if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n        return;\n      } // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n\n\n      clickedItem.checked = !clickedItem.checked;\n\n      if (isCurrentChecked) {\n        this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n      } else {\n        this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n      }\n    }\n\n    this.emit('itemclick', {\n      item: clickedItem,\n      currentTarget: clickedItemDom,\n      checked: selectedMode === 'single' ? true : clickedItem.checked\n    });\n  };\n\n  HTMLLegend.prototype._onMousemove = function (ev) {\n    var lastActiveItem = this.get('_lastActiveItem');\n    var items = this.get('items');\n    var itemMap = this.get('_itemMap');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_CLASS = prefixClassName + \"-list\";\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n      // 用户 move 到了 list 容器上\n      return;\n    }\n\n    var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n\n    if (hoveredItem) {\n      var highlight = this.get('highlight');\n\n      if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n        // 只有选中状态才应用样式\n        hoveredItemDom.className += ' active';\n\n        if (highlight) {\n          // 如果开启高亮效果\n          var itemGroupContainer = this.get('_itemGroupContainer');\n          var itemNodes = itemGroupContainer.childNodes;\n          itemNodes.forEach(function (itemNode) {\n            if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n              itemNode.className += ' inactive';\n            }\n          });\n        }\n\n        this.set('_lastActiveItem', hoveredItem);\n      }\n\n      this.emit('itemmouseover', {\n        item: hoveredItem,\n        currentTarget: hoveredItemDom,\n        checked: hoveredItem.checked\n      });\n    }\n  };\n\n  HTMLLegend.prototype._onMouseout = function (ev) {\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var itemNodes = itemGroupContainer.childNodes;\n    itemNodes.forEach(function (node) {\n      var className = node.className.split(' ');\n      Util.remove(className, function (a) {\n        return a === 'active' || a === 'inactive';\n      });\n      node.className = className.join(' ');\n    });\n    this.set('_lastActiveItem', null);\n    this.emit('itemmouseleave', ev);\n  };\n\n  HTMLLegend.prototype._renderPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        height: this.get('maxHeight') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerHeight = this.getHeight(); // legend 容器的高度\n\n      var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n\n      var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n\n      var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n\n      var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxHeight: itemGroupContainerHeight + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n\n      var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n\n      var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n\n      var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n\n      var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_1;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_1 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_1 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n      domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_1 = 1;\n      var translateY_1 = 0;\n\n      prePageButton_1.onclick = function () {\n        if (currentPage_1 === 1) {\n          return;\n        }\n\n        currentPage_1 -= 1;\n        translateY_1 += deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === 1) {\n          domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n        }\n      };\n\n      nextPageButton_1.onclick = function () {\n        if (currentPage_1 === pageSize_1) {\n          return;\n        }\n\n        currentPage_1 += 1;\n        translateY_1 -= deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === pageSize_1) {\n          domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n        }\n      };\n    }\n  };\n\n  HTMLLegend.prototype._renderHorizontalPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        width: this.get('maxWidth') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n      // const titleHeight = this.get('_titleContainer') ?\n      // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n\n      var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n\n      var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n\n      var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxWidth: itemGroupContainerWidth + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n\n      var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n      // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n\n      var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n\n      var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_2;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_2 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_2 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n      domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_2 = 1;\n      var translateX_1 = 0;\n\n      prePageButton_2.onclick = function () {\n        if (currentPage_2 === 1) {\n          return;\n        }\n\n        currentPage_2 -= 1;\n        translateX_1 += deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === 1) {\n          domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n        }\n      };\n\n      nextPageButton_2.onclick = function () {\n        if (currentPage_2 === pageSize_2) {\n          return;\n        }\n\n        currentPage_2 += 1;\n        translateX_1 -= deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === pageSize_2) {\n          domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n        }\n      };\n    }\n  };\n\n  return HTMLLegend;\n}(CategoryBase);\n\nexport default HTMLLegend;","import { __assign, __extends } from \"tslib\";\nimport { Element } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Guide from '../base';\n\nvar Annotation =\n/** @class */\nfunction (_super) {\n  __extends(Annotation, _super);\n\n  function Annotation(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      xScales: null,\n      yScales: null,\n      el: null\n    }, cfg)) || this;\n  }\n\n  Annotation.prototype.clear = function () {\n    var el = this.get('el');\n\n    if (el) {\n      el.remove();\n    }\n  };\n\n  Annotation.prototype.changeVisible = function (visible) {\n    this.set('visible', visible);\n    var el = this.get('el');\n\n    if (el instanceof Element) {\n      el.set('visible', visible);\n    } else if (el instanceof HTMLElement) {\n      el.style.display = visible ? '' : 'none';\n    }\n  };\n  /** 批量修改内部状态 */\n\n\n  Annotation.prototype.change = function (cfg) {\n    this.cfg = _.deepMix({}, this.cfg, cfg);\n  }; // 修改基类会导致label中大量不严谨的类型写法需要重构\n\n\n  Annotation.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Annotation.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Annotation.prototype.parsePoint = function (coord, _position) {\n    var xScales = this.get('xScales');\n    var yScales = this.get('yScales');\n    var position = _.isFunction(_position) ? _position.call(null, xScales, yScales) : _position;\n    var x = 0;\n    var y = 0; // 入参是['50%', '50%']时\n\n    if (_.isArray(position) && _.includes(position[0], '%')) {\n      return this.parsePercentPoint(coord, position);\n    }\n\n    if (_.isArray(position)) {\n      x = this.getNormalizedValue(position[0], _.head(_.values(xScales)));\n      y = this.getNormalizedValue(position[1], _.head(_.values(yScales)));\n    } else if (!_.isNil(position)) {\n      for (var _i = 0, _a = _.keys(position); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = position[key];\n\n        if (xScales[key]) {\n          x = this.getNormalizedValue(value, xScales[key]);\n        }\n\n        if (yScales[key]) {\n          y = this.getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    return coord.convert({\n      x: x,\n      y: y\n    });\n  };\n\n  Annotation.prototype.getNormalizedValue = function (val, scale) {\n    var result;\n    var scaled;\n\n    switch (val) {\n      case 'start':\n        result = 0;\n        break;\n\n      case 'end':\n        result = 1;\n        break;\n\n      case 'median':\n        {\n          scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n          result = scale.scale(scaled);\n          break;\n        }\n\n      case 'min':\n      case 'max':\n        if (scale.isCategory) {\n          scaled = val === 'min' ? 0 : scale.values.length - 1;\n        } else {\n          scaled = scale[val];\n        }\n\n        result = scale.scale(scaled);\n        break;\n\n      default:\n        result = scale.scale(val);\n    }\n\n    return result;\n  };\n\n  Annotation.prototype.parsePercentPoint = function (coord, position) {\n    var xPercent = parseFloat(position[0]) / 100;\n    var yPercent = parseFloat(position[1]) / 100;\n    var start = coord.start,\n        end = coord.end;\n    var topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y)\n    };\n    var x = coord.getWidth() * xPercent + topLeft.x;\n    var y = coord.getHeight() * yPercent + topLeft.y;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  return Annotation;\n}(Guide);\n\nexport default Annotation;","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Annotation from './base';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'line',\n      xScales: null,\n      yScales: null,\n      line: {\n        style: {\n          stroke: '#000'\n        }\n      },\n      text: {\n        display: true,\n        position: 'end',\n        autoRotate: true,\n        style: {\n          fill: '#999',\n          fontSize: 12,\n          fontWeight: 500,\n          fontFamily: FONT_FAMILY\n        }\n      }\n    }, cfg)) || this;\n  }\n\n  Line.prototype.render = function (coord, group) {\n    var _this = this;\n\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    var guideLineGroup = group.addGroup();\n    this.drawLines(start, end, guideLineGroup);\n    var text = this.get('text');\n\n    if (text.display && text.content) {\n      this.drawText(start, end, guideLineGroup);\n    }\n\n    guideLineGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-line';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', guideLineGroup);\n  };\n\n  Line.prototype.drawLines = function (start, end, group) {\n    var path = [['M', start.x, start.y], ['L', end.x, end.y]];\n    group.addShape('Path', {\n      attrs: _.assign({\n        path: path\n      }, this.get('line').style)\n    });\n  };\n\n  Line.prototype.drawText = function (start, end, group) {\n    var textCfg = this.get('text');\n    var position = textCfg.position;\n    var textStyle = textCfg.style || {};\n    var percent = 1;\n\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'center') {\n      percent = 0.5;\n    } else if (!_.isNil(position) && _.includes(position, '%')) {\n      percent = parseInt(position, 10) / 100;\n    } else if (_.isNumber(position) && position >= 0 && position < 1) {\n      percent = position;\n    }\n\n    var cfg = {\n      x: start.x + (end.x - start.x) * percent,\n      y: start.y + (end.y - start.y) * percent,\n      text: textCfg.content\n    };\n\n    if (textCfg.offsetX) {\n      // 设置了偏移量\n      cfg.x += textCfg.offsetX;\n    }\n\n    if (textCfg.offsetY) {\n      // 设置了偏移量\n      cfg.y += textCfg.offsetY;\n    }\n\n    _.assign(cfg, textStyle);\n\n    if (textCfg.autoRotate && _.isNil(textStyle.rotate)) {\n      // 自动旋转且用户没有设置旋转角度\n      var angle = vec2.angleTo([end.x - start.x, end.y - start.y], [1, 0], 1);\n      cfg.rotate = angle;\n    } else if (!_.isNil(textStyle.rotate)) {\n      // 用户设置了旋转角度\n      cfg.rotate = textStyle.rotate * Math.PI / 180;\n    }\n\n    group.addShape('Text', {\n      attrs: cfg\n    });\n  };\n\n  return Line;\n}(Annotation);\n\nexport default Line;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Text =\n/** @class */\nfunction (_super) {\n  __extends(Text, _super);\n\n  function Text(cfg) {\n    return _super.call(this, __assign({\n      type: 'text',\n      position: null,\n      content: null,\n      style: {\n        fill: '#999',\n        fontSize: 12,\n        fontWeight: 500,\n        textAlign: 'center'\n      }\n    }, cfg)) || this;\n  }\n\n  Text.prototype.render = function (coord, group) {\n    var point = this.parsePoint(coord, this.get('position'));\n\n    var textStyle = _.clone(this.get('style'));\n\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n\n    if (offsetX) {\n      point.x += offsetX;\n    }\n\n    if (offsetY) {\n      point.y += offsetY;\n    }\n\n    if (textStyle.rotate) {\n      textStyle.rotate = textStyle.rotate * Math.PI / 180; // 将角度转换为弧度\n    }\n\n    var guideText = group.addShape('Text', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        text: this.get('content')\n      }, textStyle, point)\n    });\n    guideText.name = 'annotation-text';\n\n    if (this.get('appendInfo')) {\n      guideText.setSilent('appendInfo', this.get('appendInfo'));\n    }\n\n    this.set('el', guideText);\n  };\n\n  return Text;\n}(Annotation);\n\nexport default Text;","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base'; // 只适用于极坐标系\n\nvar Arc =\n/** @class */\nfunction (_super) {\n  __extends(Arc, _super);\n\n  function Arc(cfg) {\n    return _super.call(this, __assign({\n      type: 'arc',\n      start: null,\n      end: null,\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    }, cfg)) || this;\n  }\n\n  Arc.prototype.render = function (coord, group) {\n    var originStart = this.get('start');\n    var originEnd = this.get('end');\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    var coordCenter = coord.getCenter();\n    var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n    var path = [['M', start.x, start.y]]; // 圆形\n\n    if (_.isNumberEqual(start.x, end.x) && _.isNumberEqual(start.y, end.y)) {\n      if (_.isEqual(originStart, originEnd)) {\n        // 只有一个点，不进行绘制\n        console.warn('start point is the same as end point!');\n      } else {\n        path = [['M', start.x, start.y], ['A', radius, radius, 0, 1, 1, 2 * coordCenter.x - start.x, 2 * coordCenter.y - start.y], ['A', radius, radius, 0, 1, 1, start.x, start.y]];\n      }\n    } else {\n      // 只适用于start和end，yScale值相同，需要判断scale结果\n      // 求向量 center -> start 和 center -> end 的顺时针角度\n      // 即等于求 start -> center 和 end -> center 的逆时针角度\n      var dAngle = vec2.angleTo([coordCenter.x - start.x, coordCenter.y - start.y], [coordCenter.x - end.x, coordCenter.y - end.y], 0);\n      var largeArc = dAngle > Math.PI ? 1 : 0;\n      path = [['M', start.x, start.y], ['A', radius, radius, 0, largeArc, 1, end.x, end.y]];\n    }\n\n    var arcShape = group.addShape('path', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        path: path\n      }, this.get('style'))\n    });\n    arcShape.name = 'annotation-arc'; // 用于事件以及动画识别\n\n    if (this.get('appendInfo')) {\n      arcShape.setSilent('appendInfo', this.get('appendInfo'));\n    }\n\n    this.set('el', arcShape);\n  };\n\n  return Arc;\n}(Annotation);\n\nexport default Arc;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Region =\n/** @class */\nfunction (_super) {\n  __extends(Region, _super);\n\n  function Region(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'region',\n      zIndex: 1,\n      start: null,\n      end: null,\n      style: {\n        lineWidth: 0,\n        fill: '#CCD7EB',\n        opacity: 0.4\n      }\n    }, cfg)) || this;\n  }\n\n  Region.prototype.render = function (coord, group) {\n    var rectStyle = this.get('style');\n    var path = this.getPath(coord);\n    var regionGroup = group.addShape('path', {\n      zIndex: this.get('zIndex'),\n      attrs: _.assign({\n        path: path\n      }, rectStyle)\n    });\n    regionGroup.name = 'annotation-region';\n    this.get('appendInfo') && regionGroup.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('el', regionGroup);\n  };\n\n  Region.prototype.getPath = function (coord) {\n    var start = this.parsePoint(coord, this.get('start'));\n    var end = this.parsePoint(coord, this.get('end'));\n    return [['M', start.x, start.y], ['L', end.x, start.y], ['L', end.x, end.y], ['L', start.x, end.y], ['z']];\n  };\n\n  return Region;\n}(Annotation);\n\nexport default Region;","import { __assign, __extends } from \"tslib\";\nimport Annotation from './base';\n\nvar Image =\n/** @class */\nfunction (_super) {\n  __extends(Image, _super);\n\n  function Image(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'image',\n      start: null,\n      end: null,\n      src: ''\n    }, cfg)) || this;\n  }\n\n  Image.prototype.render = function (coord, group) {\n    var start = this.parsePoint(coord, this.get('start'));\n    var cfg = {\n      x: start.x,\n      y: start.y,\n      img: this.get('src')\n    };\n\n    if (!this.get('end')) {\n      cfg.width = this.get('width') || 32;\n      cfg.height = this.get('height') || 32;\n    } else {\n      var end = this.parsePoint(coord, this.get('end'));\n      cfg.width = end.x - start.x;\n      cfg.height = end.y - start.y;\n    }\n\n    if (this.get('offsetX')) {\n      cfg.x += this.get('offsetX');\n    }\n\n    if (this.get('offsetY')) {\n      cfg.y += this.get('offsetY');\n    }\n\n    var imgGuide = group.addShape('Image', {\n      zIndex: 1,\n      attrs: cfg\n    });\n    imgGuide.name = 'annotation-image';\n    this.get('appendInfo') && imgGuide.setSilent('appendInfo', this.get('appendInfo'));\n    this.set('el', imgGuide);\n  };\n\n  return Image;\n}(Annotation);\n\nexport default Image;","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar Html =\n/** @class */\nfunction (_super) {\n  __extends(Html, _super);\n\n  function Html(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, __assign({\n      type: 'html',\n      zIndex: 7,\n      position: null,\n      alignX: 'middle',\n      alignY: 'middle',\n      offsetX: null,\n      offsetY: null,\n      html: null\n    }, cfg)) || this;\n  }\n\n  Html.prototype.render = function (coord, container) {\n    var position = this.parsePoint(coord, this.get('position'));\n    var parentNode = container.get('canvas').get('el').parentNode;\n    var wrapperNode = domUtil.createDom('<div class=\"guide-annotation\"></div>');\n    parentNode.appendChild(wrapperNode);\n    var html = this.get('html');\n\n    if (_.isFunction(html)) {\n      var xScales = this.get('xScales');\n      var yScales = this.get('yScales');\n      html = html(xScales, yScales);\n    } // 判断 html 是 Html element 还是 html string\n\n\n    var htmlNode = _.isElement(html) ? html : domUtil.createDom(html);\n    wrapperNode.appendChild(htmlNode);\n    domUtil.modifyCSS(wrapperNode, {\n      position: 'absolute'\n    });\n    this.setDomPosition(wrapperNode, htmlNode, position);\n    this.set('el', wrapperNode);\n  };\n\n  Html.prototype.clear = function () {\n    // 由于基类使用了childNode.remove，而IE不支持该方法，需要进行兼容\n    var el = this.get('el');\n    el && el.parentNode && el.parentNode.removeChild(el);\n  };\n\n  Html.prototype.setDomPosition = function (parentDom, childDom, point) {\n    var alignX = this.get('alignX');\n    var alignY = this.get('alignY');\n    var domWidth = domUtil.getOuterWidth(childDom);\n    var domHeight = domUtil.getOuterHeight(childDom);\n    var position = {\n      x: point.x,\n      y: point.y\n    };\n\n    if (alignX === 'middle') {\n      position.x -= Math.round(domWidth / 2);\n    } else if (alignX === 'right') {\n      position.x -= Math.round(domWidth);\n    }\n\n    if (alignY === 'middle') {\n      position.y -= Math.round(domHeight / 2);\n    } else if (alignY === 'bottom') {\n      position.y -= Math.round(domHeight);\n    }\n\n    var offsetX = this.get('offsetX');\n\n    if (offsetX) {\n      position.x += offsetX;\n    }\n\n    var offsetY = this.get('offsetY');\n\n    if (offsetY) {\n      position.y += offsetY;\n    }\n\n    domUtil.modifyCSS(parentDom, {\n      top: Math.round(position.y) + \"px\",\n      left: Math.round(position.x) + \"px\",\n      zIndex: this.get('zIndex')\n    });\n  };\n\n  return Html;\n}(Annotation);\n\nexport default Html;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar DataMarker =\n/** @class */\nfunction (_super) {\n  __extends(DataMarker, _super);\n\n  function DataMarker(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'dataMarker',\n      zIndex: 1,\n      position: null,\n      point: {\n        display: true,\n        style: {\n          r: 3,\n          fill: '#ffffff',\n          stroke: '#1890FF',\n          lineWidth: 2\n        }\n      },\n      line: {\n        display: true,\n        lineLength: 20,\n        style: {\n          stroke: '#A3B1BF',\n          lineWidth: 1\n        }\n      },\n      text: {\n        display: true,\n        style: {\n          fill: '#000000',\n          opacity: 0.65,\n          fontSize: 12,\n          textAlign: 'start'\n        }\n      },\n      direction: 'upward',\n      autoAdjust: true\n    }, cfg)) || this;\n  }\n\n  DataMarker.prototype.render = function (coord, group) {\n    var _this = this;\n\n    var point = this.parsePoint(coord, this.get('position')); // container\n\n    var markerGroup = group.addGroup();\n    var positions = this.getElementPosition(point);\n    var lineCfg = this.get('line');\n    var pointCfg = this.get('point');\n    var textCfg = this.get('text');\n    var lineShape;\n    var textShape; // add line\n\n    if (lineCfg.display) {\n      var lineData = positions.line;\n      lineShape = this.drawLine(lineData, markerGroup);\n    } // add text\n\n\n    if (textCfg.display && textCfg.content) {\n      var textPosition = positions.text;\n      textShape = this.drawText(textPosition, markerGroup);\n    } // add circle\n\n\n    if (pointCfg.display) {\n      var pointPoisition = positions.point;\n      this.drawPoint(pointPoisition, markerGroup);\n    }\n\n    if (this.get('autoAdjust')) {\n      var bbox = markerGroup.getBBox();\n      var minX = bbox.minX,\n          minY = bbox.minY,\n          maxX = bbox.maxX,\n          maxY = bbox.maxY;\n      var start = coord.start,\n          end = coord.end;\n\n      if (textShape) {\n        if (minX <= start.x) {\n          // 左侧超出\n          textShape.attr('textAlign', 'start');\n        }\n\n        if (maxX >= end.x) {\n          // 右侧超出\n          textShape.attr('textAlign', 'end');\n        }\n\n        var direction = this.get('direction');\n\n        if (direction === 'upward' && minY <= end.y || direction !== 'upward' && maxY >= start.y) {\n          // 上方或者下方超出\n          var textBaseline = void 0;\n          var dir = void 0;\n\n          if (direction === 'upward' && minY <= end.y) {\n            textBaseline = 'top';\n            dir = 1;\n          } else {\n            textBaseline = 'bottom';\n            dir = -1;\n          }\n\n          textShape.attr('textBaseline', textBaseline);\n          var lineLength = 0;\n\n          if (lineCfg.display) {\n            lineLength = lineCfg.lineLength;\n            var linePath = [['M', point.x, point.y], ['L', point.x, point.y + lineLength * dir]];\n            lineShape.attr('path', linePath);\n          }\n\n          var newY = point.y + (lineLength + 2) * dir;\n          textShape.attr('y', newY);\n        }\n      }\n    } // 用于事件以及动画识别\n\n\n    markerGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-data-marker';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', markerGroup);\n  };\n\n  DataMarker.prototype.getElementPosition = function (position) {\n    var x = position.x,\n        y = position.y;\n    var lineLength = this.get('line').display ? this.get('line').lineLength : 0;\n    var direction = this.get('direction');\n    var textStyle = this.get('text').style;\n    textStyle.textBaseline = direction === 'upward' ? 'bottom' : 'top';\n    var dir = direction === 'upward' ? -1 : 1;\n    var pointPoisition = {\n      x: x,\n      y: y\n    };\n    var lineStart = {\n      x: x,\n      y: y\n    };\n    var lineEnd = {\n      x: x,\n      y: lineLength * dir + y\n    };\n    var textPosition = {\n      x: x,\n      y: (lineLength + 2) * dir + y\n    };\n    return {\n      point: pointPoisition,\n      line: [lineStart, lineEnd],\n      text: textPosition\n    };\n  };\n\n  DataMarker.prototype.drawLine = function (lineData, g) {\n    var lineStyle = this.get('line').style;\n    var linePath = [['M', lineData[0].x, lineData[0].y], ['L', lineData[1].x, lineData[1].y]];\n    var lineShape = g.addShape('path', {\n      attrs: _.assign({\n        path: linePath\n      }, lineStyle)\n    });\n    return lineShape;\n  };\n\n  DataMarker.prototype.drawText = function (position, g) {\n    var textCfg = this.get('text');\n    var textShape = g.addShape('text', {\n      attrs: _.assign({\n        text: textCfg.content\n      }, textCfg.style, position)\n    });\n    return textShape;\n  };\n\n  DataMarker.prototype.drawPoint = function (position, g) {\n    var pointStyle = this.get('point').style;\n    var pointShape = g.addShape('circle', {\n      attrs: _.assign({}, pointStyle, position)\n    });\n    return pointShape;\n  };\n\n  return DataMarker;\n}(Annotation);\n\nexport default DataMarker;","import { __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n\nvar DataRegion =\n/** @class */\nfunction (_super) {\n  __extends(DataRegion, _super);\n\n  function DataRegion(cfg) {\n    /* istanbul ignore next */\n    return _super.call(this, _.deepMix({\n      type: 'dataRegion',\n      start: null,\n      end: null,\n      region: {\n        lineLength: 0,\n        style: {\n          lineWidth: 0,\n          fill: '#000000',\n          opacity: 0.04\n        }\n      },\n      text: {\n        display: true,\n        content: '',\n        style: {\n          textAlign: 'center',\n          textBaseline: 'bottom',\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, .65)'\n        }\n      }\n    }, cfg)) || this;\n  }\n\n  DataRegion.prototype.render = function (coord, group, data) {\n    var _this = this;\n\n    var regionCfg = this.get('region');\n    var textCfg = this.get('text');\n    var lineLength = regionCfg.lineLength;\n    var regionData = this.getRegionData(coord, data);\n\n    if (!regionData.length) {\n      return;\n    }\n\n    var regionBBox = this.getBBox(regionData);\n    var path = [];\n    path.push(['M', regionData[0].x, regionBBox.minY - lineLength]);\n\n    for (var i = 0, len = regionData.length; i < len; i++) {\n      var p = ['L', regionData[i].x, regionData[i].y];\n      path.push(p);\n    }\n\n    path.push(['L', regionData[regionData.length - 1].x, regionBBox.minY - lineLength]);\n    var regionGroup = group.addGroup();\n    regionGroup.addShape('path', {\n      attrs: _.mix({\n        path: path\n      }, regionCfg.style)\n    });\n\n    if (textCfg.display && textCfg.content) {\n      regionGroup.addShape('Text', {\n        attrs: _.mix({\n          x: (regionBBox.minX + regionBBox.maxX) / 2,\n          y: regionBBox.minY - lineLength,\n          text: textCfg.content\n        }, textCfg.style)\n      });\n    } // 用于事件和动画识别\n\n\n    regionGroup.get('children').forEach(function (child) {\n      child.name = 'annotation-data-region';\n      _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n    });\n    this.set('el', regionGroup);\n  };\n\n  DataRegion.prototype.getRegionData = function (coord, data) {\n    var start = this.get('start');\n    var end = this.get('end');\n\n    var xField = _.head(_.values(this.get('xScales'))).field;\n\n    var yField = _.head(_.values(this.get('yScales'))).field;\n\n    var startXValue = _.isArray(start) ? start[0] : start[xField];\n    var endXValue = _.isArray(end) ? end[0] : end[xField];\n    var startIndex;\n    var arr = [];\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i]; // findIndex\n\n      if (item[xField] === startXValue) {\n        startIndex = i;\n      }\n\n      if (i >= startIndex) {\n        arr.push(this.parsePoint(coord, [item[xField], item[yField]]));\n      } // findLastIndex\n\n\n      if (item[xField] === endXValue) {\n        break;\n      }\n    }\n\n    return arr;\n  };\n\n  DataRegion.prototype.getBBox = function (data) {\n    var xs = [];\n    var ys = [];\n\n    for (var i = 0; i < data.length; i++) {\n      xs.push(data[i].x);\n      ys.push(data[i].y);\n    }\n\n    var xRange = _.getRange(xs);\n\n    var yRange = _.getRange(ys);\n\n    return BBox.fromRange(xRange.min, yRange.min, xRange.max, yRange.max);\n  };\n\n  return DataRegion;\n}(Annotation);\n\nexport default DataRegion;","import { __assign, __rest } from \"tslib\";\nimport { Annotation } from '@antv/component';\nimport * as _ from '@antv/util';\n\nvar AnnotationController =\n/** @class */\nfunction () {\n  function AnnotationController(acfg) {\n    this.options = [];\n    this.annotations = [];\n\n    _.assign(this, acfg);\n  }\n  /** 为当前controller新增一个辅助元素实例 */\n\n\n  AnnotationController.prototype.add = function (type, annConfig, top) {\n    if (top === void 0) {\n      top = true;\n    }\n\n    var typeName = _.upperFirst(type);\n\n    if (!Annotation[typeName]) {\n      console.error(\"Annotation \" + type + \" not exist.\");\n    } else {\n      this.options.push(__assign({\n        top: top,\n        type: type\n      }, annConfig));\n    }\n\n    return this;\n  };\n  /** 通过index获取指定的辅助元素实例 */\n\n\n  AnnotationController.prototype.get = function (idx) {\n    return this.annotations[idx];\n  };\n\n  AnnotationController.prototype.render = function (coord) {\n    var _this = this;\n\n    this.coord = coord;\n    var view = this.view;\n    var viewData = view && view.get('filteredData');\n    this.createAnnotations();\n\n    _.each(this.annotations, function (ann) {\n      if (ann.get('top')) {\n        ann.render(coord, _this.frontgroundGroup, viewData);\n      } else {\n        ann.render(coord, _this.backgroundGroup, viewData);\n      }\n    });\n  };\n  /** 控制全部辅助元素展示与否 */\n\n\n  AnnotationController.prototype.changeVisible = function (visible) {\n    _.each(this.annotations, function (ann) {\n      ann.changeVisible(visible);\n    });\n  };\n  /** 销毁所有辅助元素 */\n\n\n  AnnotationController.prototype.clear = function () {\n    this.reset();\n    this.options = [];\n    this.backgroundGroup && this.backgroundGroup.remove();\n    this.frontgroundGroup && this.frontgroundGroup.remove();\n  };\n  /** 清空画布中的辅助元素 */\n\n\n  AnnotationController.prototype.reset = function () {\n    _.each(this.annotations, function (ann) {\n      ann.clear();\n    });\n\n    this.annotations = [];\n  };\n  /** 重绘所有辅助元素 */\n\n\n  AnnotationController.prototype.repaint = function () {\n    var _this = this;\n\n    if (this.coord && this.view) {\n      var coord_1 = this.coord;\n      var viewData_1 = this.view.get('filteredData');\n\n      _.each(this.annotations, function (ann) {\n        ann.clear();\n\n        if (ann.get('top')) {\n          ann.render(coord_1, _this.frontgroundGroup, viewData_1);\n        } else {\n          ann.render(coord_1, _this.backgroundGroup, viewData_1);\n        }\n      });\n\n      var canvas = this.view.get('canvas');\n      canvas.draw();\n    } else {\n      throw new Error('need render first');\n    }\n  };\n\n  AnnotationController.prototype.createAnnotations = function () {\n    var _this = this;\n\n    _.each(this.options, function (option) {\n      var type = option.type,\n          top = option.top,\n          others = __rest(option, [\"type\", \"top\"]);\n\n      var ann = new Annotation[_.upperFirst(type)](_.deepMix({}, __assign({\n        xScales: _this.xScales,\n        yScales: _this.yScales\n      }, _.get(_this.theme, \"annotation.\" + type) ? _this.theme.annotation[type] : {}), others));\n      ann.set('top', top); // 标记渲染图层是否为frontgroundGroup\n\n      _this.annotations.push(ann);\n    });\n  };\n\n  return AnnotationController;\n}();\n\nexport default AnnotationController;","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as _ from '@antv/util';\nimport { vec2 as vector2 } from '@antv/matrix-util';\n\nfunction _points2path(points, isInCircle) {\n  var path = [];\n\n  if (points.length) {\n    for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n      var item = points[i];\n      var command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    isInCircle && path.push(['Z']);\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point) {\n  var center = coord.getCenter();\n  var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr, coord) {\n  var tmp = [arr[0]];\n\n  for (var i = 1, len = arr.length; i < len; i = i + 2) {\n    var point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1]\n    });\n    tmp.push(point.x, point.y);\n  }\n\n  return tmp;\n}\n\nfunction _convertPolarPath(pre, cur, coord) {\n  var isTransposed = coord.isTransposed,\n      startAngle = coord.startAngle,\n      endAngle = coord.endAngle;\n  var prePoint = {\n    x: pre[1],\n    y: pre[2]\n  };\n  var curPoint = {\n    x: cur[1],\n    y: cur[2]\n  };\n  var rst = [];\n  var xDim = isTransposed ? 'y' : 'x';\n  var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n\n  var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n\n  var convertPoint = coord.convertPoint(curPoint);\n\n  var r = _getPointRadius(coord, convertPoint);\n\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      var middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2\n      };\n      var middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n\n  return rst;\n} // 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\n\n\nfunction _filterFullCirleLine(path) {\n  _.each(path, function (subPath, index) {\n    var cur = subPath;\n\n    if (cur[0].toLowerCase() === 'a') {\n      var pre = path[index - 1];\n      var next = path[index + 1];\n\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport var smoothBezier = function smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, l = points.length; i < l; i++) {\n      var point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    var v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n    var d0 = vector2.distance(point, prevPoint);\n    var d1 = vector2.distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    var v1 = vector2.scale([], v, -d0);\n    var v2 = vector2.scale([], v, d1);\n    var cp0 = vector2.add([], point, v1);\n    var cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}; // 贝塞尔曲线\n\nexport function catmullRom2bezier(crp, z, constraint) {\n  var isLoop = !!z;\n  var pointList = [];\n\n  for (var i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  return d1;\n} // 将点连接成路径 path\n\nexport function getLinePath(points, isInCircle) {\n  return _points2path(points, isInCircle);\n} // get spline： 限定了范围的平滑线\n\nexport function getSplinePath(points, isInCircle, constaint) {\n  var data = [];\n  var first = points[0];\n  var prePoint = null;\n\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n\n  _.each(points, function (point) {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n\n  var constraint = constaint || [[0, 0], [1, 1]];\n  var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n} // 获取点到圆心的距离\n\nexport function getPointRadius(coord, point) {\n  return _getPointRadius(coord, point);\n} // 获取点到圆心的夹角\n\nexport function getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n  var tmp = [];\n\n  _.each(path, function (subPath) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  return tmp;\n}\nexport function convertPolarPath(coord, path) {\n  var tmp = [];\n  var pre;\n  var cur;\n  var transposed;\n  var equals;\n\n  _.each(path, function (subPath, index) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed; // 是否半径相同，转换成圆弧\n\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n\n\n  return tmp;\n}","import { __assign } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport Global from '../../global';\nimport { convertNormalPath, convertPolarPath } from '../util/path';\nvar ShapeBase = {\n  _coord: null,\n  getCoord: function getCoord() {\n    return this._coord;\n  },\n\n  /**\n   * 0～1 path 转 画布 path\n   * @param path 路径\n   * @param islineToArc 是否转换成圆弧\n   * @return path 转换到画布坐标的path\n   */\n  parsePath: function parsePath(path, islineToArc) {\n    var coord = this._coord;\n    var parsedPath = pathUtil.parsePathString(path);\n\n    if (coord.isPolar && islineToArc !== false) {\n      parsedPath = convertPolarPath(coord, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coord, parsedPath);\n    }\n\n    return parsedPath;\n  },\n\n  /**\n   * 0～1 point 转 画布 point\n   * @param  point 节点\n   * @return point 转换后的点\n   */\n  parsePoint: function parsePoint(point) {\n    var coord = this._coord;\n    return coord.convertPoint(point);\n  },\n\n  /**\n   * 0～1 points 转 画布 points\n   * @param points 节点集合\n   * @return points 转换后的多个节点\n   */\n  parsePoints: function parsePoints(points) {\n    var coord = this._coord;\n    return points.map(function (point) {\n      return coord.convertPoint(point);\n    });\n  },\n\n  /**\n   * @override\n   * 创建具体的 G.Shape 实例，并将其添加至 container 绘图容器中，在注册具体的 shape 时由开发者自己定义\n   */\n  draw: function draw()\n  /* cfg: ShapeDrawCFG, container: Group */\n  {}\n};\nvar ShapeFactoryBase = {\n  _theme: Global.theme.shape,\n  _coord: null,\n  _getShapeStyleByState: function _getShapeStyleByState(shapeName, shapeState, cfg) {\n    var theme = this._theme;\n    var elementName = this.name;\n\n    if (theme && theme[elementName] && theme[elementName][shapeName]) {\n      var style = theme[elementName][shapeName][shapeState];\n\n      if (_.isFunction(style)) {\n        style = style(cfg);\n      }\n\n      return style;\n    }\n  },\n  defaultShapeType: null,\n  setCoord: function setCoord(coord) {\n    this._coord = coord;\n  },\n  setTheme: function setTheme(theme) {\n    this._theme = theme;\n  },\n  getShape: function getShape(type) {\n    var t = _.isArray(type) ? type[0] : type;\n    var shape = this[t] || this[this.defaultShapeType];\n    shape._coord = this._coord;\n    return shape;\n  },\n  getShapePoints: function getShapePoints(type, pointInfo) {\n    var shape = this.getShape(type);\n    return shape.getPoints ? shape.getPoints(pointInfo) : this.getDefaultPoints(pointInfo);\n  },\n\n  /**\n   * @override\n   */\n  getDefaultPoints: function getDefaultPoints()\n  /* pointInfo: ShapePointInfo */\n  {\n    return [];\n  },\n\n  /**\n   * @override\n   * 获取每个 shape 对应的缩略图样式\n   * @param type 图形类型\n   * @param cfg shape 的绘图属性\n   */\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getMarkerStyle) {\n      var markerStyle = shape.getMarkerStyle(markerCfg);\n      var theme = this._theme;\n      var shapeName = shape.name;\n      var elementName = this.name;\n\n      if (theme && theme[elementName] && theme[elementName][shapeName]) {\n        markerStyle = _.mix({}, theme[elementName][shapeName].default, markerStyle);\n      }\n\n      return markerStyle;\n    }\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的 inactive 样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getInactiveStyle: function getInactiveStyle(type, inactiveCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getInactiveStyle) {\n      return shape.getInactiveStyle(inactiveCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'inactive', inactiveCfg);\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的激活样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getActiveStyle: function getActiveStyle(type, activeCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getActiveStyle) {\n      return shape.getActiveStyle(activeCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'active', activeCfg);\n  },\n\n  /**\n   * @override\n   * 获取对应 type 的 shape 的选中样式\n   * @param type shape 类型\n   * @param cfg shape 的绘图属性\n   */\n  getSelectedStyle: function getSelectedStyle(type, selectedCfg) {\n    var shape = this.getShape(type);\n\n    if (shape.getSelectedStyle) {\n      return shape.getSelectedStyle(selectedCfg);\n    }\n\n    return this._getShapeStyleByState(shape.name, 'selected', selectedCfg);\n  },\n\n  /**\n   * @override\n   * 调用具体的 shape 的绘制方法\n   */\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type); // 应用 shape 主题配置\n\n    var shapeName = shape.name;\n    var theme = this._theme;\n    var elementName = this.name;\n\n    if (theme && theme[elementName] && theme[elementName][shapeName]) {\n      var defaultShapeStyle = theme[elementName][shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = shape.draw(cfg, container);\n\n    if (gShape) {\n      // TODO 支持 Group\n      gShape.setSilent('origin', cfg.origin);\n      gShape.id = cfg.yIndex ? cfg.id + cfg.yIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  }\n};\nvar ShapeFactoryMap = {}; // 注册 Element 获取图形的入口\n\nexport function registerShapeFactory(factoryName, cfg) {\n  var className = _.upperFirst(factoryName);\n\n  var geomObj = __assign(__assign(__assign({}, ShapeFactoryBase), cfg), {\n    name: factoryName\n  });\n\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n} // 注册具体的 shape\n\nexport function registerShape(factoryName, shapeType, cfg) {\n  var className = _.upperFirst(factoryName);\n\n  var factory = ShapeFactoryMap[className];\n\n  var shapeObj = __assign(__assign(__assign({}, ShapeBase), cfg), {\n    name: shapeType\n  });\n\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n} // 获取 Element 对应的 shapeFactory\n\nexport function getShapeFactory(factoryName) {\n  var className = _.upperFirst(factoryName);\n\n  return ShapeFactoryMap[className];\n}","import { __spreadArrays } from \"tslib\";\nimport { CanvasCategory, Color, HtmlCategory, Size } from '@antv/component/lib/legend';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar MARKER_SIZE = 4.5;\nvar STROKE_MARKERS = ['cross', 'tick', 'plus', 'hyphen', 'line', 'hollowCircle', 'hollowSquare', 'hollowDiamond', 'hollowTriangle', 'hollowTriangleDown', 'hollowHexagon', 'hollowBowtie'];\n\nvar findTargetScale = function findTargetScale(scales, compareScale) {\n  return _.find(scales, function (scale) {\n    var scaleValues = [].concat(scale.values);\n    var compareScaleValues = [].concat(compareScale.values);\n    return scale.type === compareScale.type && scale.field === compareScale.field && _.isEqual(scaleValues.sort(), compareScaleValues.sort());\n  });\n};\n\nvar LegendController =\n/** @class */\nfunction () {\n  function LegendController(cfg) {\n    // 类内部属性\n    // 生成的所有 legend 实例\n    this.legends = [];\n    var view = cfg.view;\n    this.view = view;\n    this.theme = view.get('theme'); // 需要用到 plot 的属性，在这里先定义出来\n  }\n  /**\n   * 生成并渲染 legend\n   */\n\n\n  LegendController.prototype.render = function () {\n    var _this = this;\n\n    this.clear();\n    var legendOptions = this.options; // 没有关闭实例\n\n    if (_.isObject(legendOptions)) {\n      // 用户自定义图例\n      if (legendOptions.custom) {\n        var legend = this.addCustomLegend();\n        this.legends.push(legend);\n      } else {\n        var elements = this.view.getElements();\n        var scales_1 = [];\n\n        _.each(elements, function (element) {\n          var view = element.get('view');\n          var attrs = element.getAttrsForLegend();\n\n          _.each(attrs, function (attr) {\n            var type = attr.type;\n            var scale = attr.getScale(type);\n\n            if (scale && scale.field && scale.type !== 'identity' && !findTargetScale(scales_1, scale)) {\n              scales_1.push(scale);\n              var filteredValues = view.getFilteredOutValues(scale.field);\n\n              var legend = _this.addLegend(legendOptions, scale, attr, element, filteredValues); // 创建成功，则放入到数组中\n\n\n              if (legend) {\n                _this.legends.push(legend);\n              }\n            }\n          });\n        });\n      }\n\n      this.alignLegends();\n    }\n  };\n  /**\n   * todo 显示隐藏图例\n   * @param visible\n   */\n\n\n  LegendController.prototype.changeVisible = function (visible) {\n    _.each(this.legends, function (legend) {\n      /* legend 暂不支持这个方法 */\n      // legend.changeVisible(visible);\n    });\n  };\n  /**\n   * 清空，销毁生成的 legend\n   */\n\n\n  LegendController.prototype.clear = function () {\n    // 1. 销毁 Legends 实例\n    _.each(this.legends, function (legend) {\n      legend.destroy();\n    });\n\n    this.legends = []; // 2. 重置配置\n\n    this.reset();\n  };\n  /**\n   * 重置配置项\n   */\n\n\n  LegendController.prototype.reset = function () {\n    this.init();\n  };\n  /**\n   * 初始化 legend 相关的属性\n   */\n\n\n  LegendController.prototype.init = function () {\n    this.options = this.getLegendOptions();\n    this.panelRange = this.view.get('panelRange');\n    this.viewRange = this.view.get('viewRange');\n    this.container = this.view.get('frontgroundGroup');\n  };\n  /**\n   * 根据相关的配置，添加一个图例\n   * @param legendOptions\n   * @param scale\n   * @param attr\n   * @param element\n   * @param filteredValues\n   */\n\n\n  LegendController.prototype.addLegend = function (legendOptions, scale, attr, element, filteredValues) {\n    var field = scale.field;\n    var fieldOption = legendOptions.fields && legendOptions.fields[field];\n\n    if (fieldOption === false) {\n      // 用户关闭 field 对应的图例\n      return;\n    } // 自定义图例\n\n\n    if (fieldOption && fieldOption.custom) {\n      return this.addCustomLegend(field);\n    }\n    /**\n     * 其他情况为连续或者分类图例的创建过程\n     * 取 position 逻辑：\n     * 1. 如果 field 上有，则取 field 上的\n     * 2. 如果 field 上没有，则取全局的 legendOption.position\n     * 3. 如果全局也没有配置，那么给一个默认值，从主题上取\n     */\n\n\n    var position = this.getFieldLegendConfig(field, 'position', this.theme.defaultLegendPosition);\n    position = this.adjustPosition(position);\n    var legend = scale.isLinear ? this.addContinuousLegend(scale, attr, position) : this.addCategoryLegend(scale, attr, element, filteredValues, position);\n\n    if (legend) {\n      this.bindHoverEvent(legend, field);\n    }\n\n    return legend;\n  };\n  /**\n   * 添加连续图例\n   * @param scale\n   * @param attr\n   * @param position\n   */\n\n\n  LegendController.prototype.addContinuousLegend = function (scale, attr, position) {\n    var container = this.container.addGroup({\n      name: 'legend'\n    });\n    var field = scale.field;\n    var ticks = scale.getTicks(); // 构造图例的 items\n\n    var items = _.map(ticks, function (tick) {\n      var value = tick.value; // scale 后的值\n\n      var tickValue = tick.tickValue; // tick text value\n\n      var originalValue = scale.invert(value); // original value\n\n      var attrValue = attr.mapping(originalValue).join('');\n      return {\n        value: tickValue,\n        color: attrValue\n      };\n    });\n\n    var containsMinValue = !!_.find(ticks, function (tick) {\n      return tick.value === 0;\n    });\n    var containsMaxValue = !!_.find(ticks, function (tick) {\n      return tick.value === 1;\n    });\n\n    if (!containsMinValue) {\n      var attrValue = attr.mapping(0).join('');\n      items.push({\n        value: scale.min,\n        color: attrValue\n      });\n    }\n\n    if (!containsMaxValue) {\n      var attrValue = attr.mapping(0).join('');\n      items.push({\n        value: scale.max,\n        color: attrValue\n      });\n    }\n\n    var legendOptions = this.options;\n    var positionArr = position.split('-');\n    var defaultCfg = this.theme.legend[positionArr[0]]; // 获取默认的图例主题配置\n\n    var legendCfg = _.deepMix({}, defaultCfg, this.getFieldLegendOption(field, legendOptions), {\n      items: items,\n      attr: attr,\n      formatter: scale.formatter,\n      container: container,\n      position: position\n    });\n\n    if (legendCfg.showTitle) {\n      _.mix(legendCfg, {\n        title: scale.field\n      });\n    }\n\n    var legend;\n\n    if (attr.type === 'color') {\n      legend = new Color(legendCfg);\n    } else if (attr.type === 'size') {\n      legend = new Size(legendCfg);\n    } else {\n      return;\n    }\n\n    this.bindFilterEvent(legend, scale);\n    return legend;\n  };\n  /**\n   * 添加分类图例\n   * @param scale\n   * @param attr\n   * @param element\n   * @param filteredValues\n   * @param position\n   */\n\n\n  LegendController.prototype.addCategoryLegend = function (scale, attr, element, filteredValues, position) {\n    var _this = this;\n\n    var legendOptions = this.options;\n    var field = scale.field;\n    var fieldOption = legendOptions.fields ? legendOptions.fields[field] : null;\n    var items = [];\n    var ticks = scale.getTicks();\n    var isByAttr = true;\n    var shapeType = element.get('shapeType') || 'point';\n    var shape = element.getDefaultValue('shape') || shapeType || 'point';\n\n    if (legendOptions.marker) {\n      // 用户全局自定义图例的marker\n      shape = legendOptions.marker;\n      shapeType = 'point';\n      isByAttr = false;\n    }\n\n    if (fieldOption && fieldOption.marker) {\n      // 用户自定义图例的marker\n      shape = fieldOption.marker;\n      shapeType = 'point';\n      isByAttr = false;\n    }\n\n    var view = this.view;\n    var viewTheme = this.theme;\n    var canvas = view.get('canvas');\n    var panelGroup = view.get('panelGroup');\n    var panelGroupClip = panelGroup.attr('clip');\n    var panelGroupClipBox = panelGroupClip ? panelGroupClip.getBBox() : undefined;\n    var panelRange = view.get('panelRange');\n    var viewRange = view.get('viewRange');\n    var posArray = position.split('-');\n    var maxLength = posArray[0] === 'right' || posArray[0] === 'left' // TODO\n    ? panelGroupClipBox ? panelGroupClipBox.height : panelRange.height : panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n\n    _.each(ticks, function (tick) {\n      var text = tick.text;\n      var name = text;\n      var scaleValue = tick.value;\n      var value = scale.invert(scaleValue);\n      var cfg = {\n        isInCircle: element.isInCircle()\n      };\n      var checked = filteredValues ? _this.isFiltered(scale, filteredValues, value) : true;\n      var colorAttr = element.getAttr('color');\n      var shapeAttr = element.getAttr('shape');\n\n      if (colorAttr) {\n        // 存在颜色映射\n        if (colorAttr.callback && colorAttr.callback.length > 1) {\n          // 多参数映射，阻止程序报错\n          var restArgs = Array(colorAttr.callback.length - 1).fill('');\n          cfg.color = colorAttr.mapping.apply(colorAttr, __spreadArrays([value], restArgs)).join('') || viewTheme.defaultColor;\n        } else {\n          cfg.color = colorAttr.mapping(value).join('') || viewTheme.defaultColor;\n        }\n      }\n\n      if (isByAttr && shapeAttr && shapeAttr.scales.length) {\n        // 存在形状映射\n        if (shapeAttr.callback && shapeAttr.callback.length > 1) {\n          // 多参数映射，阻止程序报错\n          var restArgs = Array(shapeAttr.callback.length - 1).fill('');\n          shape = shapeAttr.mapping.apply(shapeAttr, __spreadArrays([value], restArgs)).join('');\n        } else {\n          shape = shapeAttr.mapping(value).join('');\n        }\n      }\n\n      var shapeObject = getShapeFactory(shapeType);\n      var marker = shapeObject.getMarkerStyle(shape, cfg); // 补充 marker 为自定义形状场景。\n\n      if (_.isFunction(shape)) {\n        marker.symbol = shape;\n      }\n\n      items.push({\n        value: name,\n        dataValue: value,\n        checked: checked,\n        marker: marker\n      });\n    });\n\n    var useHtml = !!legendOptions.useHtml || !!(fieldOption && fieldOption.useHtml);\n    var defaultLegendCfg;\n    var layout;\n    var maxWidth;\n    var maxHeight;\n\n    switch (posArray[0]) {\n      case 'left':\n        /*maxHeight = viewRange.height;\n          maxWidth = panelRange.x - viewRange.x;*/\n        maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n        maxWidth = panelRange.x - viewRange.x;\n        layout = 'vertical';\n        break;\n\n      case 'right':\n        /*maxHeight = viewRange.height;\n          maxWidth = viewRange.tr.x - panelRange.tr.x;*/\n        maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n        maxWidth = viewRange.tr.x - panelRange.tr.x;\n        layout = 'vertical';\n        break;\n\n      case 'top':\n        /*maxHeight = panelRange.tr.y - viewRange.tr.y;\n          maxWidth = viewRange.width;*/\n        maxHeight = panelRange.tr.y - viewRange.tr.y;\n        maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n        layout = 'horizontal';\n        break;\n\n      case 'bottom':\n        /*maxHeight = viewRange.br.y - panelRange.br.y;\n          maxWidth = viewRange.width;*/\n        maxHeight = viewRange.br.y - panelRange.br.y;\n        maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n        layout = 'horizontal';\n        break;\n\n      default:\n        break;\n    }\n\n    if (useHtml) {\n      defaultLegendCfg = _.mix({}, viewTheme.legend.html, {\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        layout: layout\n      });\n    } else {\n      defaultLegendCfg = _.mix({}, viewTheme.legend[posArray[0]], {\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        layout: layout,\n        container: this.container.addGroup({\n          name: 'legend'\n        })\n      });\n    }\n\n    var legendCfg = _.deepMix({}, defaultLegendCfg, legendOptions, fieldOption, {\n      maxLength: maxLength,\n      canvas: canvas,\n      items: items,\n      position: position\n    });\n\n    if (legendCfg.showTitle) {\n      _.mix(legendCfg, {\n        title: scale.alias || scale.field\n      });\n    }\n\n    var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n    this.bindClickEvent(legend, scale, filteredValues, legendCfg.onClick);\n    return legend;\n  };\n  /**\n   * 添加自定义图例\n   * @param field\n   */\n\n\n  LegendController.prototype.addCustomLegend = function (field) {\n    var viewTheme = this.theme;\n    var view = this.view;\n    var container = this.container.addGroup({\n      name: 'legend'\n    });\n    var canvas = container.get('canvas');\n    var panelRange = this.panelRange;\n    var legendOptions = this.options;\n    var fieldOption;\n\n    if (_.isObject(legendOptions)) {\n      fieldOption = legendOptions.fields ? legendOptions.fields[field] : {};\n    }\n\n    var position = fieldOption.position || legendOptions.position || viewTheme.defaultLegendPosition;\n    position = this.adjustPosition(position);\n    var items = fieldOption.items || legendOptions.items;\n\n    if (!items) {\n      return;\n    }\n\n    _.each(items, function (item) {\n      if (!_.isPlainObject(item.marker)) {\n        // 直接传入字符串或者回调函数时转换为对象，如 item.marker = 'circle'\n        item.marker = {\n          symbol: item.marker || 'circle',\n          radius: MARKER_SIZE\n        };\n\n        if (_.contains(STROKE_MARKERS, item.marker.symbol)) {\n          // 支持描边 marker 的绘制\n          item.marker.stroke = item.color;\n        } else {\n          item.marker.fill = item.color;\n        }\n      } else {\n        // 用户传入对象 item.marker = { symbol: 'circle', fill: 'red', radius: 3 }\n        item.marker.radius = item.marker.radius || MARKER_SIZE;\n      }\n\n      var symbol = item.marker.symbol;\n\n      if (_.isString(symbol) && symbol.indexOf('hollow') !== -1) {\n        // 支持 hollowCircle 等\n        item.marker.symbol = _.lowerFirst(symbol.substr(6));\n      }\n\n      item.checked = _.isNil(item.checked) ? true : item.checked;\n    });\n\n    var posArray = position.split('-');\n    var maxLength = posArray[0] === 'right' || posArray[0] === 'left' ? panelRange.height : this.viewRange.width;\n\n    var legendCfg = _.deepMix({}, viewTheme.legend[posArray[0]], legendOptions, fieldOption, {\n      maxLength: maxLength,\n      viewTheme: viewTheme,\n      items: items,\n      container: container,\n      canvas: canvas\n    });\n\n    var useHtml = !!legendCfg.useHtml;\n    var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n    legend.on('itemclick', function (ev) {\n      if (legendOptions.onClick) {\n        // 用户自定义图例点击事件\n        legendOptions.onClick(ev);\n      }\n    });\n    this.bindHoverEvent(legend); // 用户自定义 hover 图例项的事件交互\n\n    return legend;\n  };\n  /**\n   * 根据 position 布局图例位置，将图例 moveTo 到对应的位置\n   */\n\n\n  LegendController.prototype.alignLegends = function () {\n    var _this = this;\n\n    var totalRegion = this.getRegion();\n    this.totalRegion = totalRegion;\n    var legendGroup = this.groupLegendByPosition();\n    var i = 0;\n\n    _.each(legendGroup, function (legendItems, position) {\n      var region = totalRegion.subs[i];\n\n      _.each(legendItems, function (legend, index) {\n        var pre = legendItems[index - 1]; // if (!(legend.get('useHtml') && !legend.get('autoPosition'))) {\n\n        _this.alignLegend(legend, pre, region, position); // }\n\n      });\n\n      i++;\n    });\n  };\n  /**\n   * 布局某些方法需要根据view的方法来写\n   * @param legend\n   * @param pre\n   * @param region\n   * @param position\n   */\n\n\n  LegendController.prototype.alignLegend = function (legend, pre, region, position) {\n    var viewTheme = this.theme;\n    var width = this.viewRange.width;\n    var height = this.viewRange.height;\n    var totalRegion = this.totalRegion;\n    var legendGroup = this.groupLegendByPosition();\n    var backPlot = this.viewRange; // 背景 BBox\n\n    var offsetX = legend.get('offsetX') || 0;\n    var offsetY = legend.get('offsetY') || 0;\n    var legendHeight = legend.getHeight();\n    var legendWidth = legend.getWidth();\n    var borderMargin = viewTheme.legend.margin;\n    var innerMargin = viewTheme.legend.legendMargin;\n    var legendNum = legendGroup[position].length;\n    var posArray = position.split('-');\n    var x = 0;\n    var y = 0;\n    var tempoRegion = legendNum > 1 ? totalRegion : region;\n\n    if (posArray[0] === 'left' || posArray[0] === 'right') {\n      height = backPlot.maxY;\n      x = this.getXAlign(posArray[0], width, region, backPlot, legendWidth, borderMargin);\n\n      if (pre) {\n        var preY = pre.get('y');\n        y = preY + pre.getHeight() + innerMargin;\n      } else {\n        y = this.getYAlignVertical(posArray[1], height, tempoRegion, backPlot, 0, borderMargin, this.viewRange.height);\n      }\n    } else if (posArray[0] === 'top' || posArray[0] === 'bottom') {\n      y = this.getYAlignHorizontal(posArray[0], height, region, backPlot, legendHeight, borderMargin);\n\n      if (pre) {\n        var preWidth = pre.getWidth();\n        var preX = pre.get('x');\n        x = preX + preWidth + innerMargin;\n      } else {\n        x = this.getXAlign(posArray[1], width, tempoRegion, backPlot, legendWidth, borderMargin);\n      }\n    }\n\n    legend.moveTo(x + offsetX, y + offsetY);\n  }; // @ts-ignore\n\n\n  LegendController.prototype.getXAlign = function (pos, width, region, backPlot, legendWidth, borderMargin) {\n    var x = pos === 'left' ? backPlot.minX + borderMargin[3] : backPlot.maxX - borderMargin[1] - legendWidth;\n\n    if (pos === 'center') {\n      x = (width - region.totalWidth) / 2;\n    }\n\n    return x;\n  };\n\n  LegendController.prototype.getYAlignHorizontal = function (pos, height, region, backPlot, legendHeight, borderMargin) {\n    var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - borderMargin[2] - legendHeight;\n    return y;\n  };\n\n  LegendController.prototype.getYAlignVertical = function (pos, height, region, backPlot, legendHeight, borderMargin, canvasHeight) {\n    var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - region.totalHeight - borderMargin[2];\n\n    if (pos === 'center') {\n      // y = (canvasHeight - region.totalHeight) / 2;\n      y = backPlot.minY + (backPlot.height - region.totalHeight) / 2;\n    }\n\n    return y;\n  };\n\n  LegendController.prototype.adjustPosition = function (position) {\n    var positionArr = position.split('-');\n\n    if (positionArr.length === 1) {\n      var pos = positionArr[0];\n      return pos === 'left' ? 'left-bottom' : pos === 'right' ? 'right-bottom' : pos === 'top' ? 'top-center' : pos === 'bottom' ? 'bottom-center' : '';\n    }\n\n    return positionArr.slice(0, 2).join('-');\n  };\n\n  LegendController.prototype.bindClickEvent = function (legend, scale, filteredValues, onClick) {\n    var _this = this;\n\n    var view = this.view;\n    var field = scale.field;\n    legend.on('itemclick', function (ev) {\n      if (onClick) {\n        // 用户自定义图例点击交互行为\n        onClick(ev);\n      } else {\n        var item = ev.item;\n        var checked = ev.checked;\n        var isSingeSelected_1 = legend.get('selectedMode') === 'single'; // 图例的选中模式\n\n        var clickedValue_1 = item.dataValue; // import: 需要取该图例项原始的数值\n\n        if (checked) {\n          _.pull(filteredValues, clickedValue_1);\n\n          if (_this.isFieldInView(field, clickedValue_1)) {\n            view.filter(field, function (f) {\n              return isSingeSelected_1 ? f === clickedValue_1 : !_.contains(filteredValues, f);\n            });\n          }\n        } else if (!isSingeSelected_1) {\n          // 未选中状态\n          filteredValues.push(clickedValue_1);\n\n          if (_this.isFieldInView(field, clickedValue_1)) {\n            view.filter(field, function (f) {\n              return !_.contains(filteredValues, f);\n            });\n          }\n        }\n\n        view.set('keepLegend', true); // 图例不重新渲染\n        // view.set('keepPadding', true); // 边框不重新计算\n\n        view.repaint(); // 在动画开启的状态下，图例过滤会触发更新动画，需要设置 view.set('isUpdate', true);\n        // view.set('keepPadding', false);\n\n        view.set('keepLegend', false);\n      }\n    });\n  };\n  /* 图例的 hover 事件 */\n\n\n  LegendController.prototype.bindHoverEvent = function (legend, field) {\n    var onMouseover = legend.get('onMouseover');\n    var onMouseleave = legend.get('onMouseleave');\n    legend.on('itemmouseover', function (ev) {\n      if (onMouseover) {\n        // 由用户自定义 onHover 交互行为\n        onMouseover(ev);\n      }\n    });\n    legend.on('itemmouseleave', function (ev) {\n      if (onMouseleave) {\n        onMouseleave(ev);\n      }\n    });\n  };\n\n  LegendController.prototype.getRegion = function () {\n    var _this = this;\n\n    var theme = this.theme;\n    var innerMargin = theme.legend.legendMargin;\n    var subs = [];\n    var totalWidth = 0;\n    var totalHeight = 0;\n    var legendGroup = this.groupLegendByPosition();\n\n    _.each(legendGroup, function (legendItems) {\n      var subRegion = _this.getSubRegion(legendItems);\n\n      subs.push(subRegion);\n      totalWidth += subRegion.totalWidth + innerMargin;\n      totalHeight += subRegion.totalHeight + innerMargin;\n    });\n\n    return {\n      totalWidth: totalWidth,\n      totalHeight: totalHeight,\n      subs: subs\n    };\n  };\n\n  LegendController.prototype.getSubRegion = function (legends) {\n    var maxWidth = 0;\n    var maxHeight = 0;\n    var totalWidth = 0;\n    var totalHeight = 0;\n\n    _.each(legends, function (legend) {\n      var width = legend.getWidth();\n      var height = legend.getHeight();\n\n      if (maxWidth < width) {\n        maxWidth = width;\n      }\n\n      totalWidth += width;\n\n      if (maxHeight < height) {\n        maxHeight = height;\n      }\n\n      totalHeight += height;\n    });\n\n    return {\n      maxWidth: maxWidth,\n      totalWidth: totalWidth,\n      maxHeight: maxHeight,\n      totalHeight: totalHeight\n    };\n  };\n\n  LegendController.prototype.isFiltered = function (scale, filterVals, scaleValue) {\n    if (!scale.isCategory) {\n      return true;\n    }\n\n    var rst = true;\n\n    _.each(filterVals, function (val) {\n      if (scale.getText(val) === scale.getText(scaleValue)) {\n        rst = false;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  LegendController.prototype.isFieldInView = function (field, value) {\n    var flag = false;\n    var scales = this.view.get('scales');\n    var fieldScale = scales[field];\n\n    if (fieldScale && fieldScale.values) {\n      flag = _.contains(fieldScale.values, value);\n    }\n\n    return flag;\n  };\n\n  LegendController.prototype.getLegendOptions = function () {\n    return _.get(this.view.get('options'), 'legends', {} // 默认为空\n    );\n  };\n  /**\n   * 拿某一个字段上图例的配置，举例 position\n   * 如果 field 上拿不到则使用 全局的，如果全局也没有，那么使用主题配置的默认\n   * @param key\n   * @param filed\n   * @param defaultValue\n   */\n\n\n  LegendController.prototype.getFieldLegendConfig = function (filed, key, defaultValue) {\n    var legendOptions = this.options;\n\n    var fieldOption = _.get(legendOptions, \"fields.\" + filed, {});\n\n    return fieldOption[key] ? fieldOption[key] : legendOptions[key] ? legendOptions[key] : defaultValue;\n  };\n  /**\n   * 连续图例，监听 item filter 事件\n   * @param legend\n   * @param scale\n   */\n\n\n  LegendController.prototype.bindFilterEvent = function (legend, scale) {\n    var _this = this;\n\n    var field = scale.field;\n    legend.on('itemfilter', function (_a) {\n      var range = _a.range;\n      var min = range[0],\n          max = range[1]; // 根据 legend 范围来\n\n      _this.filterShape(field, min, max); // todo heatmap 特殊逻辑\n      // const elements = this.view.getElements();\n      // _.each(elements, (element: Element) => {\n      //   if (element.get('type') === 'heatmap') {\n      //     _.requestAnimationFrame(() => {\n      //       element.drawWithRange(range);\n      //     });\n      //   }\n      // });\n\n    });\n  };\n  /**\n   * 过滤 view 中的 shape，超过范围的隐藏，范围内的显示\n   * @param field 字段\n   * @param min 最小值\n   * @param max 最大值\n   */\n\n\n  LegendController.prototype.filterShape = function (field, min, max) {\n    var _this = this;\n\n    var callback = function callback(record, shape, element, view) {\n      var v = record[field];\n\n      if (_.isNil(v)) {\n        shape.show();\n      } else {\n        var visible = v >= min && v <= max; // shape 带 label，则还需要隐藏 label\n\n        _this.filterLabels(shape, element, visible); // 显示还是隐藏 shape\n\n\n        visible ? shape.show() : shape.hide();\n      }\n    }; // 针对 view 中的每一个 shape 执行 callback\n\n\n    this.view.eachShape(callback);\n  };\n  /**\n   * 根据位置进行图例分类\n   * @param position 图例位置\n   */\n\n\n  LegendController.prototype.groupLegendByPosition = function () {\n    return _.groupBy(this.legends, function (legend) {\n      return legend.get('position');\n    });\n  };\n  /**\n   * 处理 shape 上的 label 显示还是隐藏\n   * @param shape\n   * @param element\n   * @param visible\n   */\n\n\n  LegendController.prototype.filterLabels = function (shape, element, visible) {\n    if (shape.get('gLabel')) {\n      // shape 中缓存了 gLabel Shape\n      shape.get('gLabel').set('visible', visible);\n    } else {\n      /* 从 label 中获取 shape 对应的 label item */\n      var labelOptions = element.get('labelOptions');\n\n      if (!_.isEmpty(_.get(labelOptions, 'fields'))) {\n        var xField_1 = element.getXScale().field;\n        var yField_1 = element.getYScale().field;\n\n        var shapeData_1 = shape.get('origin')._origin;\n\n        var labels = element.get('labels');\n\n        _.each(labels, function (label) {\n          var labelData = label.get('origin') || [];\n\n          if (labelData[xField_1] === shapeData_1[xField_1] && labelData[yField_1] === shapeData_1[yField_1]) {\n            label.set('visible', visible);\n            shape.set('gLabel', label);\n          }\n        });\n      }\n    }\n  };\n  /**\n   * 获取某一个字段的 legendOption；如果不存在字段配置，则使用全局配置\n   * @param field\n   * @param defaultValue\n   */\n\n\n  LegendController.prototype.getFieldLegendOption = function (field, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = {};\n    }\n\n    return _.get(this.getLegendOptions(), \"fields.\" + field, defaultValue);\n  };\n\n  return LegendController;\n}();\n\nexport default LegendController;","import { Axis } from '@antv/component';\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction formatTicks(ticks) {\n  var tmp = [];\n\n  if (ticks.length) {\n    tmp = ticks.slice(0);\n    var first = tmp[0];\n    var last = tmp[tmp.length - 1];\n\n    if (first.value !== 0) {\n      tmp.unshift({\n        value: 0\n      });\n    }\n\n    if (last.value !== 1) {\n      tmp.push({\n        value: 1\n      });\n    }\n  }\n\n  return tmp;\n}\n\nfunction fillAxisTicks(ticks, isLinear, gridCentering) {\n  var result = [];\n\n  if (!ticks.length) {\n    return result;\n  }\n\n  if (ticks.length >= 2 && isLinear && gridCentering) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 0\n    });\n  }\n\n  if (ticks[0].value !== 0) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 0\n    });\n  }\n\n  result = result.concat(ticks);\n\n  if (result[result.length - 1].value !== 1) {\n    result.push({\n      text: '',\n      tickValue: '',\n      value: 1\n    });\n  }\n\n  return result;\n}\n\nfunction getDefaultValueFromPosition(position, v) {\n  if (v === void 0) {\n    v = 0;\n  }\n\n  var val = v;\n\n  if (position === 'middle') {\n    val = 0.5;\n  }\n\n  if (position.indexOf('%') !== -1) {\n    val = parseInt(position, 10) / 100;\n  }\n\n  return val;\n}\n\nvar AxisController =\n/** @class */\nfunction () {\n  function AxisController(cfg) {\n    this.title = null;\n    this.visible = true;\n    this.canvas = null;\n    this.container = null;\n    this.coord = null;\n    this.options = null;\n    this.axes = [];\n    this.theme = null;\n\n    _.mix(this, cfg);\n  }\n\n  AxisController.prototype.createAxis = function (xScale, yScales, viewId) {\n    var _this = this;\n\n    var coord = this.coord;\n    var coordType = coord.type; // theta坐标系默认不绘制坐标轴\n\n    if (coordType !== 'theta' && !(coordType === 'polar' && coord.isTransposed)) {\n      var xAxis_1;\n\n      if (xScale && !this._isHide(xScale.field)) {\n        xAxis_1 = this._drawAxis(coord, xScale, yScales[0], 'x', viewId); // 绘制 x 轴\n      }\n\n      if (!_.isEmpty(yScales) && coordType !== 'helix') {\n        _.each(yScales, function (yScale, index) {\n          if (!_this._isHide(yScale.field)) {\n            _this._drawAxis(coord, yScale, xScale, 'y', viewId, xAxis_1, index);\n          }\n        });\n      }\n    }\n  };\n\n  AxisController.prototype.changeVisible = function (visible) {\n    var axes = this.axes;\n\n    _.each(axes, function (axis) {\n      axis.set('visible', visible);\n    });\n  };\n\n  AxisController.prototype.clear = function () {\n    var axes = this.axes;\n\n    _.each(axes, function (axis) {\n      axis.clear();\n    });\n\n    this.axes = [];\n  }; // 根据字段名获取对应的坐标轴配置\n\n\n  AxisController.prototype._getAxisOptionByField = function (field, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = {};\n    }\n\n    return _.get(this.options, \"fields.\" + field, defaultValue);\n  }; // 对应的坐标轴是否隐藏\n\n\n  AxisController.prototype._isHide = function (field) {\n    return this._getAxisOptionByField(field) === false;\n  };\n\n  AxisController.prototype._getMiddleValue = function (curValue, ticks, index, isLinear) {\n    if (curValue === 0 && !isLinear) {\n      return 0;\n    }\n\n    if (curValue === 1) {\n      return 1;\n    }\n\n    var nextValue = ticks[index + 1].value;\n\n    if (!isLinear && nextValue === 1) {\n      return 1;\n    }\n\n    return (curValue + nextValue) / 2;\n  };\n\n  AxisController.prototype._getLineRange = function (coord, scale, dimType, index) {\n    var start;\n    var end;\n    var isVertical;\n    var field = scale.field;\n    var position = this._getAxisOptionByField(field).position || ''; // 获取用户自己配置的 position\n    // TODO middle & percentage for position\n\n    if (dimType === 'x') {\n      // x轴的坐标轴,底部的横坐标\n      var y = position === 'top' ? 1 : 0;\n      y = getDefaultValueFromPosition(position, y);\n      start = {\n        x: 0,\n        y: y\n      };\n      end = {\n        x: 1,\n        y: y\n      };\n      isVertical = false;\n    } else {\n      // y轴坐标轴\n      if (index) {\n        // 多轴的情况\n        var x = position === 'left' ? 0 : 1;\n        x = getDefaultValueFromPosition(position, x);\n        start = {\n          x: x,\n          y: 0\n        };\n        end = {\n          x: x,\n          y: 1\n        };\n      } else {\n        // 单个y轴，或者第一个y轴\n        var x = position === 'right' ? 1 : 0;\n        x = getDefaultValueFromPosition(position, x);\n        start = {\n          x: x,\n          y: 0\n        };\n        end = {\n          x: x,\n          y: 1\n        };\n      }\n\n      isVertical = true;\n    }\n\n    start = coord.convert(start);\n    end = coord.convert(end);\n    return {\n      start: start,\n      end: end,\n      isVertical: isVertical\n    };\n  };\n\n  AxisController.prototype._getLineCfg = function (coord, scale, dimType, index) {\n    var factor;\n\n    var range = this._getLineRange(coord, scale, dimType, index);\n\n    var start = range.start,\n        end = range.end;\n    var center = coord.center,\n        isTransposed = coord.isTransposed;\n    var isVertical = isTransposed ? !range.isVertical : range.isVertical; // 标识该坐标轴是否是纵坐标\n\n    if (isVertical && start.x > center.x || !isVertical && start.y > center.y) {\n      factor = 1;\n    } else {\n      factor = -1;\n    }\n\n    return {\n      isVertical: isVertical,\n      factor: factor,\n      start: start,\n      end: end\n    };\n  }; // 获取圆弧坐标轴配置项信息\n\n\n  AxisController.prototype._getCircleCfg = function (coord) {\n    var rangeX = coord.x,\n        rangeY = coord.y,\n        isTransposed = coord.isTransposed,\n        center = coord.circleCenter,\n        innerRadius = coord.innerRadius;\n    var isReflectY = rangeY.start > rangeY.end;\n    var start;\n\n    if (isTransposed) {\n      start = {\n        x: isReflectY ? 0 : 1,\n        y: 0\n      };\n    } else {\n      start = {\n        x: 0,\n        y: isReflectY ? 0 : 1\n      };\n    }\n\n    start = coord.convert(start);\n    var startVector = [start.x - center.x, start.y - center.y];\n    var normalVector = [1, 0];\n    var startAngle;\n\n    if (start.y > center.y) {\n      startAngle = vec2.angle(startVector, normalVector);\n    } else {\n      startAngle = vec2.angle(startVector, normalVector) * -1;\n    }\n\n    var endAngle = startAngle + (rangeX.end - rangeX.start);\n    return {\n      startAngle: startAngle,\n      endAngle: endAngle,\n      center: center,\n      radius: Math.sqrt(Math.pow(start.x - center.x, 2) + Math.pow(start.y - center.y, 2)),\n      inner: innerRadius || 0\n    };\n  };\n\n  AxisController.prototype._getRadiusCfg = function (coord) {\n    var startAngle = coord.x.start;\n    var factor = startAngle < 0 ? -1 : 1;\n    var start;\n    var end;\n\n    if (coord.isTransposed) {\n      start = {\n        x: 0,\n        y: 0\n      };\n      end = {\n        x: 1,\n        y: 0\n      };\n    } else {\n      start = {\n        x: 0,\n        y: 0\n      };\n      end = {\n        x: 0,\n        y: 1\n      };\n    }\n\n    return {\n      factor: factor,\n      start: coord.convert(start),\n      end: coord.convert(end)\n    };\n  };\n\n  AxisController.prototype._getHelixCfg = function (coord) {\n    var helixCfg = {};\n    var a = coord.a,\n        startAngle = coord.startAngle,\n        endAngle = coord.endAngle,\n        center = coord.center,\n        y = coord.y;\n    var index = 100;\n    var crp = [];\n\n    for (var i = 0; i <= index; i++) {\n      var point = coord.convert({\n        x: i / 100,\n        y: 0\n      });\n      crp.push(point.x);\n      crp.push(point.y);\n    }\n\n    var axisStart = coord.convert({\n      x: 0,\n      y: 0\n    });\n    return {\n      a: a,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      crp: crp,\n      axisStart: axisStart,\n      center: center,\n      inner: y.start\n    };\n  }; // 确定坐标轴的位置\n\n\n  AxisController.prototype._getAxisPosition = function (coord, dimType, index, field) {\n    if (this._getAxisOptionByField(field).position) {\n      // 用户自己定义了 position\n      return this._getAxisOptionByField(field).position;\n    }\n\n    var position = '';\n    var coordType = coord.type;\n\n    if (coord.isRect) {\n      if (dimType === 'x') {\n        position = 'bottom';\n      } else if (dimType === 'y') {\n        if (index) {\n          position = 'right';\n        } else {\n          position = 'left';\n        }\n      }\n    } else if (coordType === 'helix') {\n      position = 'helix';\n    } else if (dimType === 'x') {\n      position = coord.isTransposed ? 'radius' : 'circle';\n    } else {\n      position = coord.isTransposed ? 'circle' : 'radius';\n    }\n\n    return position;\n  }; // 获取坐标轴构成的配置信息\n\n\n  AxisController.prototype._getAxisDefaultCfg = function (coord, scale, type, position) {\n    var theme = this.theme;\n    var field = scale.field;\n    var cfg = {\n      coord: coord,\n      theme: theme.axis[position]\n    };\n    cfg = _.deepMix({}, theme.axis[position], cfg, this._getAxisOptionByField(field));\n\n    if (cfg.showTitle) {\n      // 展示坐标轴标题\n      var title = _.get(cfg, 'title', {});\n\n      title.text = title.text || scale.alias || field;\n\n      _.deepMix(cfg, {\n        title: title\n      });\n    }\n\n    cfg.ticks = scale.getTicks();\n\n    if (coord.isPolar && !scale.isCategory) {\n      if (type === 'x' && Math.abs(coord.endAngle - coord.startAngle) === Math.PI * 2) {\n        cfg.ticks.pop();\n      }\n    }\n\n    return cfg;\n  }; // 确定坐标轴的配置信息\n\n\n  AxisController.prototype._getAxisCfg = function (coord, scale, verticalScale, dimType, index, viewId) {\n    var _this = this;\n\n    if (index === void 0) {\n      index = '';\n    }\n\n    var position = this._getAxisPosition(coord, dimType, index, scale.field);\n\n    var cfg = this._getAxisDefaultCfg(coord, scale, dimType, position);\n\n    if (cfg.grid && verticalScale) {\n      // 生成 gridPoints\n      var gridPoints_1 = [];\n      var verticalTicks_1 = formatTicks(verticalScale.getTicks()); // 没有垂直的坐标点时不绘制栅格\n\n      if (verticalTicks_1.length) {\n        var ticks_1 = fillAxisTicks(cfg.ticks, scale.isLinear, cfg.gridAlign === 'center');\n\n        _.each(ticks_1, function (tick, idx) {\n          var subPoints = [];\n          var value = tick.value;\n\n          if (cfg.gridAlign === 'center') {\n            value = _this._getMiddleValue(value, ticks_1, idx, scale.isLinear);\n          }\n\n          if (!_.isNil(value)) {\n            var rangeX_1 = coord.x;\n            var rangeY_1 = coord.y;\n\n            _.each(verticalTicks_1, function (verticalTick) {\n              var x = dimType === 'x' ? value : verticalTick.value;\n              var y = dimType === 'x' ? verticalTick.value : value;\n              var point = coord.convert({\n                x: x,\n                y: y\n              });\n\n              if (coord.isPolar) {\n                var center = coord.circleCenter;\n\n                if (rangeY_1.start > rangeY_1.end) {\n                  y = 1 - y;\n                }\n\n                point.flag = rangeX_1.start > rangeX_1.end ? 0 : 1;\n                point.radius = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n              }\n\n              subPoints.push(point);\n            });\n\n            gridPoints_1.push({\n              id: viewId + \"-\" + dimType + index + \"-grid-\" + tick.tickValue,\n              points: subPoints\n            });\n          }\n        });\n      }\n\n      cfg.gridPoints = gridPoints_1;\n    }\n\n    return cfg;\n  };\n\n  AxisController.prototype._drawAxis = function (coord, scale, verticalScale, dimType, viewId, xAxis, index) {\n    var container = this.container;\n    var canvas = this.canvas;\n    var C; // 坐标轴类\n\n    var appendCfg; // 每个坐标轴 start end 等绘制边界的信息\n\n    if (coord.type === 'cartesian') {\n      C = Axis.Line;\n      appendCfg = this._getLineCfg(coord, scale, dimType, index);\n    } else if (coord.type === 'helix' && dimType === 'x') {\n      C = Axis.Helix;\n      appendCfg = this._getHelixCfg(coord);\n    } else if (dimType === 'x') {\n      C = Axis.Circle;\n      appendCfg = this._getCircleCfg(coord);\n    } else {\n      C = Axis.Line;\n      appendCfg = this._getRadiusCfg(coord);\n    }\n\n    var cfg = this._getAxisCfg(coord, scale, verticalScale, dimType, index, viewId);\n\n    cfg = _.mix({}, cfg, appendCfg);\n\n    if (dimType === 'y' && xAxis && xAxis.get('type') === 'circle') {\n      cfg.circle = xAxis;\n    }\n\n    cfg.id = !_.isNil(index) ? viewId + \"-\" + dimType + index : viewId + \"-\" + dimType;\n\n    _.mix(cfg, {\n      canvas: canvas,\n      group: container.addGroup()\n    });\n\n    var axis = new C(cfg);\n    axis.render();\n    this.axes.push(axis);\n    return axis;\n  };\n\n  return AxisController;\n}();\n\nexport default AxisController;","import { Tooltip } from '@antv/component';\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar Vector2 = matrixUtil.vec2;\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path']; // 默认展示 tooltip marker 的几何图形\n\nvar TYPE_SHOW_CROSSHAIRS = ['line', 'area']; // 默认展示十字瞄准线的几何图形\n// TODO FIXME this is HARD CODING\n\nvar IGNORE_TOOLTIP_ITEM_PROPERTIES = ['marker', 'showMarker'];\n\nvar _indexOfArray = function _indexOfArray(items, item) {\n  var rst = -1;\n\n  _.each(items, function (sub, index) {\n    var isEqual = true;\n\n    for (var key in item) {\n      if (item.hasOwnProperty(key) && IGNORE_TOOLTIP_ITEM_PROPERTIES.indexOf(key) === -1) {\n        if (!_.isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n\n  return rst;\n}; // 判断是否有样式\n\n\nvar _hasClass = function _hasClass(dom, className) {\n  var cls = dom.className;\n  return cls && cls.indexOf(className) !== -1;\n};\n\nvar _isParent = function _isParent(dom, cls) {\n  var parent = dom.parentNode;\n  var rst = false;\n\n  while (parent && parent !== document.body) {\n    if (_hasClass(parent, cls)) {\n      rst = true;\n      break;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return rst;\n}; // 去除重复的值, 去除不同图形相同数据，只展示一份即可\n\n\nvar _uniqItems = function _uniqItems(items) {\n  var tmp = [];\n\n  _.each(items, function (item) {\n    var index = _indexOfArray(tmp, item);\n\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n\n  return tmp;\n};\n\nvar TooltipController =\n/** @class */\nfunction () {\n  function TooltipController(cfg) {\n    var _this = this;\n\n    this.timeStamp = 0;\n\n    this.onMouseMove = function (ev) {\n      var group = _this.view.get('panelGroup');\n\n      var lastTimeStamp = _this.timeStamp;\n      var timeStamp = +new Date();\n      var point = {\n        x: ev.x - (group.get('x') || 0),\n        y: ev.y - (group.get('y') || 0)\n      };\n\n      if (timeStamp - lastTimeStamp > 16) {\n        _this.showTooltip(point, _this.view, ev.target);\n\n        _this.timeStamp = timeStamp;\n      }\n    };\n\n    this.onMouseOut = function (ev) {\n      // const tooltip = this.tooltip;\n      // if (!tooltip.get('visible') || !tooltip.get('follow')) {\n      //   return;\n      // }\n      if (ev && !ev.event) {\n        // 如果鼠标 hover 到 tooltipContainer 内容框上不需要 hideTooltip\n        return;\n      }\n\n      _this.hideTooltip();\n    };\n\n    _.assign(this, cfg);\n  }\n\n  TooltipController.prototype.renderTooltip = function () {\n    var _this = this;\n\n    if (this.tooltip) {\n      // tooltip 对象已经创建\n      return;\n    }\n\n    var view = this.view;\n    var theme = this.theme;\n\n    var canvas = this._getCanvas();\n\n    var defaultCfg = this._getDefaultTooltipOptions();\n\n    var options = this.options;\n    options = _.deepMix({\n      panelGroup: view.get('panelGroup'),\n      panelRange: view.get('panelRange'),\n      capture: false,\n      canvas: canvas,\n      frontgroundGroup: view.get('frontgroundGroup'),\n      theme: theme.tooltip,\n      backgroundGroup: view.get('backgroundGroup')\n    }, defaultCfg, options);\n\n    if (options.crosshairs && options.crosshairs.type === 'rect') {\n      options.zIndex = 0; // toolip 背景框不可遮盖住 geom，防止用户配置了 crosshairs\n    }\n\n    options.visible = false;\n    var tooltip;\n\n    if (options.useHtml) {\n      tooltip = new Tooltip.Html(options);\n\n      var triggerEvent_1 = this._getTriggerEvent();\n\n      if (!tooltip.get('enterable') && triggerEvent_1 === 'panel:mousemove') {\n        var tooltipContainer = tooltip.get('container');\n\n        if (tooltipContainer) {\n          tooltipContainer.onmousemove = function (e) {\n            // 避免 tooltip 频繁闪烁\n            var eventObj = _this._normalizeEvent(e);\n\n            view.emit(triggerEvent_1, eventObj);\n          };\n        }\n      }\n    } else {\n      tooltip = new Tooltip.Canvas(options);\n    }\n\n    this.tooltip = tooltip; // 需要保存当前 tooltip 的配置项，否则当用户关闭 tooltip 再手动调用 view.showTooltip() 时会报错\n\n    this.options = options;\n\n    this._bindEvent();\n  };\n\n  TooltipController.prototype._normalizeEvent = function (event) {\n    var view = this.view;\n\n    var canvas = this._getCanvas();\n\n    var point = canvas.getPointByClient(event.clientX, event.clientY);\n    var pixelRatio = canvas.get('pixelRatio');\n    point.x = point.x / pixelRatio;\n    point.y = point.y / pixelRatio;\n    point.view = view;\n    return point;\n  };\n\n  TooltipController.prototype.hideTooltip = function () {\n    var tooltip = this.tooltip;\n\n    if (tooltip.get('visible')) {\n      // 优化，只有 tooltip 处于 visible: true 状态时才隐藏，否则会造成 canvas 的不断重绘\n      var view = this.view;\n\n      var canvas = this._getCanvas();\n\n      this.prePoint = null;\n      tooltip.hide();\n      view.emit('tooltip:hide', {\n        tooltip: tooltip\n      });\n      view.setActive(function () {\n        return false;\n      });\n      canvas.draw();\n    }\n  };\n\n  TooltipController.prototype.showTooltip = function (point, view, target) {\n    var _this = this;\n\n    if (!point) {\n      return;\n    }\n\n    if (!this.tooltip) {\n      this.renderTooltip(); // 如果一开始 tooltip 关闭，用户重新调用的时候需要先生成 tooltip\n    }\n\n    var options = this.options;\n    var markersItems = [];\n    var items = [];\n    var elements = view.getElements();\n    var coord = view.get('coord');\n\n    _.each(elements, function (element) {\n      var type = element.get('type');\n\n      if (element.get('visible') && element.get('tooltipOptions') !== false) {\n        var dataArray = element.get('dataArray');\n\n        if (element.isShareTooltip() || _.contains(['area', 'line', 'path'], type)) {\n          // area、line、path 四种几何标记以及共享 tooltip 的场景使用数据查找策略\n          _.each(dataArray, function (data) {\n            var tmpPoint = element.findPoint(point, data);\n\n            if (tmpPoint) {\n              var subItems = element.getTooltipItems(tmpPoint, options.title);\n\n              _.each(subItems, function (v) {\n                // tslint:disable-next-line: no-shadowed-variable\n                var point = v.point;\n\n                if (!_.isNil(point) && !_.isNil(point.x) && !_.isNil(point.y)) {\n                  // hotfix: make sure there is no null value\n                  var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n                  var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n                  point = coord.applyMatrix(x, y, 1);\n                  v.x = point[0];\n                  v.y = point[1];\n                  v.showMarker = true;\n\n                  var itemMarker = _this._getItemMarker(element, v.color);\n\n                  v.marker = itemMarker;\n\n                  if (_.indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n                    markersItems.push(v);\n                  }\n                }\n              });\n\n              items = items.concat(subItems);\n            }\n          });\n        } else {\n          var shapeContainer = element.get('shapeContainer');\n          var canvas = shapeContainer.get('canvas');\n          var pixelRatio = canvas.get('pixelRatio');\n          var shape = shapeContainer.getShape(point.x * pixelRatio, point.y * pixelRatio);\n\n          if (shape && shape.get('visible') && shape.get('origin')) {\n            items = element.getTooltipItems(shape.get('origin'), options.title);\n          }\n        }\n      }\n    });\n\n    _.each(items, function (item) {\n      // tslint:disable-next-line: no-shadowed-variable\n      var point = item.point;\n      var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n      var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n      point = coord.applyMatrix(x, y, 1);\n      item.x = point[0];\n      item.y = point[1];\n    });\n\n    if (items.length) {\n      var first_1 = items[0]; // bugfix: multiple tooltip items with different titles\n\n      if (!items.every(function (item) {\n        return item.title === first_1.title;\n      })) {\n        var nearestItem_1 = first_1;\n        var nearestDistance_1 = Infinity;\n        items.forEach(function (item) {\n          var distance = Vector2.distance([point.x, point.y], [item.x, item.y]);\n\n          if (distance < nearestDistance_1) {\n            nearestDistance_1 = distance;\n            nearestItem_1 = item;\n          }\n        });\n        items = items.filter(function (item) {\n          return item.title === nearestItem_1.title;\n        });\n        markersItems = markersItems.filter(function (item) {\n          return item.title === nearestItem_1.title;\n        });\n      }\n\n      if (options.shared === false && items.length > 1) {\n        var snapItem_1 = items[0];\n        var min_1 = Math.abs(point.y - snapItem_1.y);\n\n        _.each(items, function (aItem) {\n          if (Math.abs(point.y - aItem.y) <= min_1) {\n            snapItem_1 = aItem;\n            min_1 = Math.abs(point.y - aItem.y);\n          }\n        });\n\n        if (snapItem_1 && !_.isNil(snapItem_1.x) && !_.isNil(snapItem_1.y)) {\n          markersItems = [snapItem_1];\n        }\n\n        items = [snapItem_1];\n      }\n\n      this._setTooltip(point, items, markersItems, target); // 使查找到的数据对应的 shape 处于 active 状态\n      // 应该在每次出现 tooltip 的时候就 active 对应的 shapes\n\n\n      view.setActive(function (obj) {\n        var result = false;\n\n        _.each(items, function (item) {\n          var origin = item.point._origin;\n\n          if (origin === obj) {\n            result = true;\n            return false;\n          }\n        });\n\n        return result;\n      }, false);\n    } else {\n      this.hideTooltip();\n    }\n  };\n\n  TooltipController.prototype.clear = function () {\n    var tooltip = this.tooltip;\n\n    if (tooltip) {\n      tooltip.destroy();\n    }\n\n    this.tooltip = null;\n    this.prePoint = null;\n\n    this._offEvent();\n  };\n\n  TooltipController.prototype._getCanvas = function () {\n    return this.view.get('canvas');\n  };\n\n  TooltipController.prototype._getTriggerEvent = function () {\n    var triggerOn = _.get(this.options, 'triggerOn');\n\n    var eventName;\n\n    if (!triggerOn || triggerOn === 'mousemove') {\n      eventName = 'panel:mousemove';\n    } else if (triggerOn === 'click') {\n      eventName = 'panel:click';\n    } else if (triggerOn === 'none') {\n      eventName = null;\n    }\n\n    return eventName;\n  };\n\n  TooltipController.prototype._getDefaultTooltipOptions = function () {\n    var view = this.view;\n    var options = this.options;\n    var theme = this.theme;\n\n    var defaultCfg = _.mix({}, theme.tooltip);\n\n    var elements = _.filter(view.getElements(), function (element) {\n      return element.get('visible');\n    });\n\n    var shapes = _.uniq(_.map(elements, function (element) {\n      return element.get('type');\n    }));\n\n    var isTransposed = view.get('coord') ? view.get('coord').isTransposed : false;\n    var crosshairsCfg;\n\n    if (view.get('coord') && view.get('coord').type === 'cartesian') {\n      if (shapes[0] === 'interval') {\n        if (options.shape !== false) {\n          var crosshairs = _.mix({}, theme.tooltipCrosshairsRect);\n\n          crosshairs.isTransposed = isTransposed;\n          crosshairsCfg = {\n            zIndex: 0,\n            crosshairs: crosshairs\n          };\n        }\n      } else if (_.indexOf(TYPE_SHOW_CROSSHAIRS, shapes[0]) > -1) {\n        var crosshairs = _.mix({}, theme.tooltipCrosshairsLine);\n\n        crosshairs.isTransposed = isTransposed;\n        crosshairsCfg = {\n          crosshairs: crosshairs\n        };\n      }\n    }\n\n    return _.mix(defaultCfg, crosshairsCfg);\n  };\n\n  TooltipController.prototype._bindEvent = function () {\n    var view = this.view;\n\n    var triggerEvent = this._getTriggerEvent();\n\n    if (triggerEvent) {\n      view.on(triggerEvent, this.onMouseMove);\n      view.on('panel:mouseleave', this.onMouseOut);\n    }\n  };\n\n  TooltipController.prototype._offEvent = function () {\n    var view = this.view;\n\n    var triggerEvent = this._getTriggerEvent();\n\n    if (triggerEvent) {\n      view.off(triggerEvent, this.onMouseMove);\n      view.off('panel:mouseleave', this.onMouseOut);\n    }\n  };\n\n  TooltipController.prototype._setTooltip = function (point, _items, markersItems, target) {\n    var tooltip = this.tooltip;\n    var prePoint = this.prePoint;\n\n    if (!prePoint || prePoint.x !== point.x || prePoint.y !== point.y) {\n      var items = _uniqItems(_items);\n\n      this.prePoint = point;\n      var view = this.view;\n      var theme = this.theme;\n      var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n      var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n\n      if (!tooltip.get('visible')) {\n        view.emit('tooltip:show', {\n          x: x,\n          y: y,\n          tooltip: tooltip\n        });\n      }\n\n      var first = items[0];\n      var title = first.title || first.name;\n\n      if (tooltip.isContentChange(title, items)) {\n        view.emit('tooltip:change', {\n          tooltip: tooltip,\n          x: x,\n          y: y,\n          items: items\n        }); // bugfix: when set the title in the tooltip:change event does not take effect.\n\n        title = items[0].title || items[0].name;\n        tooltip.setContent(title, items);\n\n        if (!_.isEmpty(markersItems)) {\n          if (this.options.showTooltipMarkers === false) {\n            // 不展示 tooltip marker\n            // @ts-ignore\n            tooltip.set('markerItems', markersItems); // 用于 tooltip 辅助线的定位\n          } else {\n            tooltip.setMarkers(markersItems, theme.tooltipMarker);\n          }\n        } else {\n          tooltip.clearMarkers(); // clearMarkers 只会将 markerItems 从 markerGroup 中移除\n          // 所以我们还要将 markerItems 从 tooltip 中移除\n          // 这么做是为了防止上一次设置 marker 时的 markerItems 影响此次 tooltip 辅助线的定位\n          // @ts-ignore\n\n          tooltip.set('markerItems', []);\n        }\n      }\n\n      tooltip.setPosition(x + (view.get('panelGroup').get('x') || 0), y + (view.get('panelGroup').get('y') || 0), target);\n      tooltip.show();\n    }\n  };\n\n  TooltipController.prototype._getItemMarker = function (element, color) {\n    var shapeType = element.get('shapeType') || 'point';\n    var shape = element.getDefaultValue('shape') || 'circle';\n    var shapeObject = getShapeFactory(shapeType);\n    var cfg = {\n      color: color\n    };\n    var marker = shapeObject.getMarkerStyle(shape, cfg);\n    return marker;\n  };\n\n  return TooltipController;\n}();\n\nexport default TooltipController;","import { __assign } from \"tslib\";\n\nvar ShapeStateController =\n/** @class */\nfunction () {\n  function ShapeStateController(cfg) {\n    if (cfg === void 0) {\n      cfg = {\n        view: null\n      };\n    }\n\n    this._states = {};\n    this._stateStack = {};\n    this.view = cfg.view;\n  }\n\n  ShapeStateController.prototype.setState = function (name, exp, draw) {\n    this._stateStack[name] = {\n      exp: exp,\n      draw: draw\n    };\n\n    this._onUpdate();\n  };\n\n  ShapeStateController.prototype.getState = function (name) {\n    return this._states[name];\n  };\n\n  ShapeStateController.prototype.getAllStates = function () {\n    return this._states;\n  };\n\n  ShapeStateController.prototype.clear = function () {\n    this._states = {};\n    this._stateStack = {};\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  };\n\n  ShapeStateController.prototype._onUpdate = function () {\n    var _this = this;\n\n    var stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(function () {\n      for (var name_1 in stateStack) {\n        var state = stateStack[name_1];\n        var exp = state.exp;\n\n        if (!_this._states[name_1] || _this._states[name_1] !== exp) {\n          // update states\n          _this._states[name_1] = exp; // dispatch state event\n\n          _this._triggerEvent(name_1, state);\n        }\n      } // clear stack\n\n\n      _this._stateStack = {};\n    }, 16);\n  };\n\n  ShapeStateController.prototype._triggerEvent = function (name, exp) {\n    this.view.emit(name + \":change\", __assign({\n      name: name\n    }, exp));\n  };\n\n  return ShapeStateController;\n}();\n\nexport default ShapeStateController;","import * as _ from '@antv/util';\n\nfunction isBackgroundShape(view, shape) {\n  var backgroundBkShape = view.get('backgroundGroup').get('backShape');\n  var panelBkShape = view.get('panelGroup').get('backShape');\n\n  if (backgroundBkShape === shape || panelBkShape === shape) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction registerData(eventObj) {\n  if (eventObj.target && eventObj.target.get('origin')) {\n    eventObj.data = eventObj.target.get('origin');\n  }\n}\n\nfunction isSameShape(shape1, shape2) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInView(target, view, canvas) {\n  if (target !== canvas && view.isShapeInView(target)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInPanel(target, panelGroup) {\n  var parent = target;\n\n  while (parent = parent.get('parent')) {\n    if (parent === panelGroup) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar EventController =\n/** @class */\nfunction () {\n  function EventController(cfg) {\n    if (cfg === void 0) {\n      cfg = {\n        view: null,\n        canvas: null\n      };\n    }\n\n    this.view = cfg.view;\n    this.canvas = cfg.canvas;\n    this._panelGroup = this.view.get('panelGroup');\n    this._eventHandlers = [];\n    this._pixelRatio = this.canvas.get('pixelRatio');\n  }\n\n  EventController.prototype._getEventObj = function (ev) {\n    var obj = {\n      x: ev.x / this._pixelRatio,\n      y: ev.y / this._pixelRatio,\n      target: ev.target,\n      event: ev.event\n    };\n    return obj;\n  };\n\n  EventController.prototype._triggerShapeEvent = function (shape, eventName, eventObj) {\n    var shapeName = shape.name;\n\n    if (shapeName && !shape.get('destroyed')) {\n      var view = this.view;\n      var name_1 = shapeName + \":\" + eventName;\n      eventObj.view = view;\n      eventObj.appendInfo = shape.get('appendInfo'); // appendInfo is defined by user\n\n      view.emit(name_1, eventObj);\n    }\n  };\n\n  EventController.prototype._addEvent = function (target, eventType, handler) {\n    target.on(eventType, handler);\n\n    this._eventHandlers.push({\n      target: target,\n      type: eventType,\n      handler: handler\n    });\n  };\n\n  EventController.prototype.bindEvents = function () {\n    var container = this.view.get('container');\n\n    this._addEvent(container, 'mousedown', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'mousemove', _.wrapBehavior(this, '_onMove'));\n\n    this._addEvent(container, 'mouseup', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'click', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'dblclick', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'contextmenu', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'wheel', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchstart', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchmove', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(container, 'touchend', _.wrapBehavior(this, '_onEvents'));\n\n    this._addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, '_onCanvasMove'));\n\n    var canvasDom = this.canvas.get('canvasDOM');\n    this._canvasDomLeaveHandler = _.wrapBehavior(this, '_onCanvasDomLeave');\n    canvasDom.addEventListener('mouseleave', this._canvasDomLeaveHandler);\n  };\n\n  EventController.prototype._onEvents = function (ev) {\n    var eventType = ev.type;\n\n    var eventObj = this._getEventObj(ev);\n\n    var target = ev.target;\n    registerData(eventObj);\n    var isbk = isBackgroundShape(this.view, target);\n\n    if (!isbk) {\n      this._triggerShapeEvent(target, eventType, eventObj);\n    }\n    /*panel event*/\n\n\n    var targetParent = target.get('parent');\n\n    if (targetParent) {\n      // 当调用 view.clear()，target 为 canvas 画布本身，此时 targetParent 为 null\n      var parentName = targetParent.get('name');\n\n      if (parentName && parentName === 'panelGroup') {\n        this.view.emit(\"panel:\" + eventType, eventObj);\n      }\n    }\n\n    this.view.emit(eventType, eventObj);\n  };\n\n  EventController.prototype._onMove = function (ev) {\n    /*dispatch mousemove events*/\n    var eventObj = this._getEventObj(ev);\n\n    var target = ev.target;\n    registerData(eventObj);\n    this.view.emit('mousemove', eventObj);\n    var isbkTarget = isBackgroundShape(this.view, target);\n\n    if (!isbkTarget) {\n      this._triggerShapeEvent(target, 'mousemove', eventObj);\n    }\n\n    var lastShape = this._lastShape;\n    var isbklastShape = isBackgroundShape(this.view, lastShape);\n\n    if (lastShape && !isbklastShape && !isSameShape(lastShape, target)) {\n      var leaveObj = this._getEventObj(ev);\n\n      registerData(leaveObj);\n\n      this._triggerShapeEvent(lastShape, 'mouseleave', eventObj);\n    }\n\n    if (!isbkTarget && !isSameShape(lastShape, target)) {\n      var enterObj = this._getEventObj(ev);\n\n      registerData(enterObj);\n\n      this._triggerShapeEvent(target, 'mouseenter', enterObj);\n    }\n\n    var isTargetInPanel = isInPanel(target, this._panelGroup);\n    var isLastShapeInPanel = lastShape ? isInPanel(lastShape, this._panelGroup) : false;\n\n    if (isTargetInPanel) {\n      if (!isLastShapeInPanel) {\n        this.view.emit('panel:mouseenter', eventObj);\n      } else {\n        this.view.emit('panel:mousemove', eventObj);\n      }\n    } else {\n      if (isLastShapeInPanel) {\n        this.view.emit('panel:mouseleave', eventObj);\n      }\n    }\n\n    this._lastShape = target;\n  };\n\n  EventController.prototype._onCanvasMove = function (ev) {\n    var event = _.isArray(ev) ? ev[0] : ev;\n\n    var eventObj = this._getEventObj(event);\n\n    var canvas = this.canvas;\n    var view = this.view;\n    var target = event.target;\n    var targetInView = isInView(target, view, canvas);\n    var lastTargetInView = this._lastCanvasTarget ? isInView(this._lastCanvasTarget, view, canvas) : false;\n\n    if (target !== this._lastCanvasTarget) {\n      if (lastTargetInView && !targetInView) {\n        this.view.emit('mouseleave', eventObj);\n      } else if (!lastTargetInView && targetInView) {\n        this.view.emit('mouseenter', eventObj);\n      }\n    }\n\n    this._lastCanvasTarget = target;\n  };\n\n  EventController.prototype._onCanvasDomLeave = function (ev) {\n    // 解决padding为0时的panel leave问题\n    var eventObj = this._getEventObj(ev); // ev.event,  g事件的才有。解决移动太快的时候, wrapBehavior 触发的 event === undefined；\n\n\n    eventObj.event = ev;\n    this.view.emit('panel:mouseleave', eventObj);\n  };\n\n  EventController.prototype.clearEvents = function () {\n    var eventHandlers = this._eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      eh.target.off(eh.type, eh.handler);\n    });\n\n    var canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.removeEventListener('mouseleave', this._canvasDomLeaveHandler);\n  };\n\n  return EventController;\n}();\n\nexport default EventController;","import * as _ from '@antv/util';\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n * 2. 清除事件\n * 3. 清除 group\n */\n\nvar Facet =\n/** @class */\nfunction () {\n  function Facet(view, cfg) {\n    this.view = view;\n    this.cfg = cfg;\n    this.init();\n  }\n  /**\n   * 初始化过程\n   */\n\n\n  Facet.prototype.init = function () {\n    // 初始化流程\n    this.container = this._createContainer(); // 生成分面布局信息\n\n    var data = this.view.get('data');\n    this.facets = this.generateFacets(data);\n  }; // 创建容器\n\n\n  Facet.prototype._createContainer = function () {\n    var foregroundGroup = this.view.get('frontgroundGroup');\n    return foregroundGroup.addGroup();\n  };\n  /**\n   * 渲染分面，由上层 view 调用。包括：\n   *  - 分面 view\n   *  - 轴\n   *  - title\n   *\n   *  子类可以复写，添加一些其他组件，比如滚动条等\n   */\n\n\n  Facet.prototype.render = function () {\n    this._renderViews();\n\n    this.renderTitle();\n    this.renderAxis();\n  };\n  /**\n   * 初始化 view\n   */\n\n\n  Facet.prototype._renderViews = function () {\n    // 先清空，再绘制\n    this._clearFacetViews();\n\n    this._createFacetViews();\n  };\n  /**\n   * 创建 分面 view\n   */\n\n\n  Facet.prototype._createFacetViews = function () {\n    var _this = this; // 使用分面数据 创建分面 view\n\n\n    return this.facets.map(function (facet) {\n      return _this.facetToView(facet);\n    });\n  };\n  /**\n   * 从 view 中清除 facetView\n   */\n\n\n  Facet.prototype._clearFacetViews = function () {\n    var _this = this; // 从 view 中移除分面 view\n\n\n    _.each(this.facets, function (facet) {\n      if (facet.view) {\n        _this.view.removeView(facet.view);\n\n        facet.view = undefined;\n      }\n    });\n  };\n  /**\n   * 根据 facet 生成 view，可以给上层自定义使用\n   * @param facet\n   */\n\n\n  Facet.prototype.facetToView = function (facet) {\n    var region = facet.region,\n        data = facet.data;\n    var view = this.view.createView({\n      start: region.start,\n      end: region.end,\n      padding: _.get(facet, 'padding', this.cfg.padding || 0)\n    }); // 设置分面的数据\n\n    view.data(data || []);\n    this.beforeProcessView(view, facet);\n    var eachView = this.cfg.eachView;\n\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    this.afterProcessView(view, facet); // 挂载在 facet 中\n\n    facet.view = view;\n    return view;\n  };\n  /**\n   * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n   * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n   */\n\n\n  Facet.prototype.clear = function () {\n    this._clearFacetViews();\n  };\n  /**\n   * 销毁\n   */\n\n\n  Facet.prototype.destroy = function () {\n    this.clear();\n    if (this.container) this.container.remove();\n    this.view = undefined;\n    this.facets = [];\n    this.container = undefined;\n    this.destroyed = true;\n  }; // override 开始处理 eachView\n\n\n  Facet.prototype.beforeProcessView = function (view, facet) {}; // override 处理 eachView 之后\n\n\n  Facet.prototype.afterProcessView = function (view, facet) {}; // 其他一些提供给子类使用的方法\n\n  /**\n   * 获取这个字段对应的所有值，数组\n   * @protected\n   * @param data 数据\n   * @param field 字段名\n   * @return 字段对应的值\n   */\n\n\n  Facet.prototype.getFieldValues = function (data, field) {\n    var rst = [];\n    var cache = {}; // 去重、去除 Nil 值\n\n    _.each(data, function (d) {\n      var value = d[field];\n\n      if (!_.isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  };\n  /**\n   * 获得每个分面的 region，平分区域\n   * @param rows\n   * @param cols\n   * @param xIndex\n   * @param yIndex\n   */\n\n\n  Facet.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n    var xWidth = 1 / (cols === 0 ? 1 : cols); // x轴方向的每个分面的偏移\n\n    var yWidth = 1 / (rows === 0 ? 1 : rows); // y轴方向的每个分面的偏移\n\n    var start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex\n    };\n    var end = {\n      x: xWidth * (xIndex + 1),\n      y: yWidth * (yIndex + 1)\n    };\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  return Facet;\n}();\n\nexport { Facet };","import * as _ from '@antv/util';\nexport { Facet } from './base'; // 所有的 Facet 类\n\nvar Facets = {};\n/**\n * 根据 type 获取 facet 类\n * @param type\n */\n\nexport var getFacet = function getFacet(type) {\n  return Facets[_.lowerFirst(type)];\n};\n/**\n * 注册一个 Facet 类\n * @param type\n * @param ctor\n */\n\nexport var registerFacet = function registerFacet(type, ctor) {\n  Facets[_.lowerFirst(type)] = ctor;\n};","import { registerViewPrototype } from '../plot/view';\nexport var ELEMENT_MAP = {}; // element 映射\n\n/**\n * 根据类型获取 Element 类\n * @param type\n */\n\nexport var getElement = function getElement(type) {\n  return ELEMENT_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Element 类\n * @param type\n * @param ctor\n */\n\nexport var registerElement = function registerElement(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getElement(type)) {\n    throw new Error(\"Element type '\" + type + \"' existed.\");\n  }\n\n  var t = type.toLowerCase(); // 存储到 map 中\n\n  ELEMENT_MAP[t] = ctor;\n  registerViewPrototype(t, ctor);\n};","/**\n * @description Element 上 tooltip 的辅助类\n */\nimport { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin';\n\nfunction _snapEqual(v1, v2, scale) {\n  var value1 = scale.translate(v1);\n  var value2 = scale.translate(v2);\n\n  if (scale.isCategory) {\n    return value1 === value2;\n  }\n\n  return _.isNumberEqual(value1, value2);\n}\n\nfunction _getScaleName(scale) {\n  return scale.alias || scale.field;\n}\n\nvar TooltipController =\n/** @class */\nfunction () {\n  function TooltipController(element) {\n    this.element = null;\n    this._xDistance = null;\n    this.element = element;\n  }\n  /**\n   * 根据画布坐标在 source 中查找匹配的数据\n   * @param point 画布坐标\n   * @param source 数据源(已排序)\n   */\n\n\n  TooltipController.prototype.findPoint = function (point, source) {\n    if (source.length === 0) return null; // 数据为空\n\n    var element = this.element;\n    var elementType = element.get('type');\n    var xScale = element.getXScale();\n    var yScale = element.getYScale();\n    var xField = xScale.field;\n    var yField = yScale.field;\n    var rst = null;\n\n    if (elementType === 'point' || elementType === 'heatmap') {\n      // 将 point 画布坐标转换为原始数据值\n      var coord = element.get('coord');\n      var invertPoint = coord.invert(point); // 转换成归一化的数据\n\n      var xValue_1 = xScale.invert(invertPoint.x); // 转换为原始值\n\n      var yValue_1 = yScale.invert(invertPoint.y); // 转换为原始值\n      // 根据最小逼近原则查找 point 击中的数据\n\n      var min_1 = Infinity;\n\n      _.each(source, function (obj) {\n        var originData = obj[FIELD_ORIGIN];\n        var distance = Math.pow(originData[xField] - xValue_1, 2) + Math.pow(originData[yField] - yValue_1, 2);\n\n        if (distance < min_1) {\n          min_1 = distance;\n          rst = obj;\n        }\n      });\n\n      return rst;\n    } // 其他 Element 类型按照 x 字段数据进行查找\n\n\n    var first = source[0];\n    var last = source[source.length - 1];\n\n    var xValue = this._getXValueByPoint(point);\n\n    var firstXValue = first[FIELD_ORIGIN][xField];\n    var firstYValue = first[FIELD_ORIGIN][yField];\n    var lastXValue = last[FIELD_ORIGIN][xField];\n\n    var isYArray = yScale.isLinear && _.isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n    // 如果 x 的值是数组\n\n\n    if (_.isArray(firstXValue)) {\n      _.each(source, function (record) {\n        var origin = record[FIELD_ORIGIN]; // xValue 在 origin[xField] 的数值区间内\n\n        if (xScale.translate(origin[xField][0]) <= xValue && xScale.translate(origin[xField][1]) >= xValue) {\n          if (isYArray) {\n            // 层叠直方图场景，x 和 y 都是数组区间\n            if (!_.isArray(rst)) {\n              rst = [];\n            }\n\n            rst.push(record);\n          } else {\n            rst = record;\n            return false;\n          }\n        }\n      });\n\n      if (_.isArray(rst)) {\n        rst = this._filterYValue(rst, point);\n      }\n    } else {\n      var next_1;\n\n      if (!xScale.isLinear && xScale.type !== 'timeCat') {\n        // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n        _.each(source, function (record, index) {\n          var origin = record[FIELD_ORIGIN];\n\n          if (_snapEqual(origin[xField], xValue, xScale)) {\n            if (isYArray) {\n              if (!_.isArray(rst)) {\n                rst = [];\n              }\n\n              rst.push(record);\n            } else {\n              rst = record;\n              return false;\n            }\n          } else if (xScale.translate(origin[xField]) <= xValue) {\n            last = record;\n            next_1 = source[index + 1];\n          }\n        });\n\n        if (_.isArray(rst)) {\n          rst = this._filterYValue(rst, point);\n        }\n      } else {\n        // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n        if (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) {\n          // 不在数据范围内\n          return null;\n        }\n\n        var firstIdx = 0;\n        var lastIdx = source.length - 1;\n        var middleIdx = void 0;\n\n        while (firstIdx <= lastIdx) {\n          middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n          var item = source[middleIdx][FIELD_ORIGIN][xField];\n\n          if (_snapEqual(item, xValue, xScale)) {\n            return source[middleIdx];\n          }\n\n          if (xScale.translate(item) <= xScale.translate(xValue)) {\n            firstIdx = middleIdx + 1;\n            last = source[middleIdx];\n            next_1 = source[middleIdx + 1];\n          } else {\n            if (lastIdx === 0) {\n              last = source[0];\n            }\n\n            lastIdx = middleIdx - 1;\n          }\n        }\n      }\n\n      if (last && next_1) {\n        // 计算最逼近的\n        if (Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) > Math.abs(xScale.translate(next_1[FIELD_ORIGIN][xField]) - xValue)) {\n          last = next_1;\n        }\n      }\n    }\n\n    var distance = this._getXDistance(); // 每个分类间的平均间距\n\n\n    if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n      rst = last;\n    }\n\n    return rst;\n  };\n  /**\n   * 根据数据获取对应的 tooltip items 信息\n   * @param data 数据记录\n   * @param titleField tooltip title 字段名\n   */\n\n\n  TooltipController.prototype.getTooltipItems = function (data, titleField) {\n    var element = this.element;\n    var origin = data[FIELD_ORIGIN];\n\n    var tooltipTitle = this._getTooltipTitle(origin, titleField);\n\n    var tooltipOptions = element.get('tooltipOptions');\n    var defaultColor = element.get('theme').defaultColor;\n\n    var size = this._getSize(data);\n\n    var items = [];\n    var name;\n    var value;\n\n    function addItem(itemName, itemValue) {\n      if (!_.isNil(itemValue) && itemValue !== '') {\n        // 值为 null的时候，忽视\n        var item = {\n          title: tooltipTitle,\n          point: data,\n          name: itemName || tooltipTitle,\n          value: itemValue,\n          color: data.color || defaultColor,\n          marker: true,\n          size: size\n        };\n        items.push(item);\n      }\n    }\n\n    if (tooltipOptions) {\n      var fields = tooltipOptions.fields,\n          callback = tooltipOptions.callback;\n\n      if (callback) {\n        // 用户定义了回调函数\n        var callbackParams = fields.map(function (field) {\n          return data[FIELD_ORIGIN][field];\n        });\n        var cfg = callback.apply(void 0, callbackParams);\n\n        var itemCfg = __assign({\n          point: data,\n          title: tooltipTitle,\n          color: data.color || defaultColor,\n          marker: true,\n          // 默认展示 marker\n          size: size\n        }, cfg);\n\n        items.push(itemCfg);\n      } else {\n        var scales_1 = element.get('scales');\n\n        _.each(fields, function (field) {\n          if (!_.isNil(origin[field])) {\n            // 字段数据为null, undefined 时不显示\n            var scale = scales_1[field];\n            name = _getScaleName(scale);\n            value = scale.getText(origin[field]);\n            addItem(name, value);\n          }\n        });\n      }\n    } else {\n      var valueScale = this._getTooltipValueScale();\n\n      if (!_.isNil(origin[valueScale.field])) {\n        // 字段数据为null ,undefined时不显示\n        value = this._getTooltipValue(origin, valueScale);\n        name = this._getTooltipName(origin);\n        addItem(name, value);\n      }\n    }\n\n    return items;\n  };\n\n  TooltipController.prototype.clear = function () {\n    this._xDistance = null;\n  }; // 返回画布坐标点对应的 x 字段数值\n\n\n  TooltipController.prototype._getXValueByPoint = function (point) {\n    var result = 0;\n    var element = this.element;\n    var coord = element.get('coord');\n    var xScale = element.getXScale();\n    var range = xScale.range;\n    var rangeMax = range[range.length - 1];\n    var rangeMin = range[0];\n    var invertPoint = coord.invert(point);\n    var xValue = invertPoint.x;\n\n    if (element.isInCircle() && xValue > (1 + rangeMax) / 2) {\n      xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理 see view.js#L88\n    }\n\n    result = xScale.invert(xValue);\n\n    if (xScale.isCategory) {\n      // 分类类型，要将字符串类型转换成数字\n      result = xScale.translate(result);\n    }\n\n    return result;\n  };\n\n  TooltipController.prototype._filterYValue = function (arr, point) {\n    var element = this.element;\n    var coord = element.get('coord');\n    var yScale = element.getYScale();\n    var yField = yScale.field;\n    var invertPoint = coord.invert(point);\n    var yValue = yScale.invert(invertPoint.y);\n    var rst = arr[arr.length - 1];\n\n    _.each(arr, function (obj) {\n      var origin = obj[FIELD_ORIGIN];\n\n      if (origin[yField][0] <= yValue && origin[yField][1] >= yValue) {\n        rst = obj;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n\n  TooltipController.prototype._getXDistance = function () {\n    var distance = this._xDistance;\n\n    if (!distance) {\n      var element = this.element;\n      var xScale_1 = element.getXScale();\n\n      if (xScale_1.isCategory) {\n        distance = 1;\n      } else {\n        var values = xScale_1.values; // values 是无序的\n\n        var min_2 = xScale_1.translate(values[0]);\n        var max_1 = min_2;\n\n        _.each(values, function (value) {\n          var numericValue = xScale_1.translate(value);\n\n          if (numericValue < min_2) {\n            min_2 = numericValue;\n          }\n\n          if (numericValue > max_1) {\n            max_1 = numericValue;\n          }\n        });\n\n        var length_1 = values.length; // 应该是除以 length - 1\n\n        distance = (max_1 - min_2) / (length_1 - 1);\n      }\n\n      this._xDistance = distance; // 缓存，防止重复计算\n    }\n\n    return distance;\n  }; // 获取 title 字段对应的度量\n\n\n  TooltipController.prototype._getTooltipTitleScale = function (titleField) {\n    var element = this.element;\n    var scales = element.get('scales');\n\n    if (titleField) {\n      return scales[titleField];\n    }\n\n    var positionAttr = element.getAttr('position');\n    var fields = positionAttr.getFields();\n    return scales[fields[0]];\n  }; // 获取原始数据的 tooltip title 字符串\n\n\n  TooltipController.prototype._getTooltipTitle = function (originData, titleField) {\n    var tooltipTitle = '';\n    var element = this.element;\n\n    var titleScale = this._getTooltipTitleScale(titleField);\n\n    if (titleScale) {\n      var value = originData[titleScale.field];\n      tooltipTitle = titleScale.getText(value);\n    } else if (element.get('type') === 'heatmap') {\n      // 热力图在不存在 title 的时候特殊处理\n      var xScale = element.getXScale();\n      var yScale = element.getYScale();\n      var xValue = xScale.getText(originData[xScale.field]);\n      var yValue = yScale.getText(originData[yScale.field]);\n      tooltipTitle = \"( \" + xValue + \", \" + yValue + \" )\";\n    }\n\n    return tooltipTitle;\n  }; // 获取 tooltip value 值对应的度量\n\n\n  TooltipController.prototype._getTooltipValueScale = function () {\n    var element = this.element;\n    var attrs = element.getAttrsForLegend();\n    var scale;\n\n    _.each(attrs, function (attr) {\n      var tmpScale = attr.getScale(attr.type);\n\n      if (tmpScale && tmpScale.isLinear) {\n        // 如果指定字段是非 position 的，同时是连续的\n        scale = tmpScale;\n        return false;\n      }\n    });\n\n    var xScale = element.getXScale();\n    var yScale = element.getYScale();\n    return scale || yScale || xScale;\n  }; // 根据原始数据以及对应的 value 度量获取 tooltip 对应的 value 值\n\n\n  TooltipController.prototype._getTooltipValue = function (originData, valueScale) {\n    var field = valueScale.field;\n    var value = originData[field];\n\n    if (_.isArray(value)) {\n      var values = value.map(function (eachValue) {\n        return valueScale.getText(eachValue);\n      });\n      return values.join('-');\n    }\n\n    return valueScale.getText(value);\n  }; // 根据原始数据获取 tooltip item 中 name 值\n\n\n  TooltipController.prototype._getTooltipName = function (originData) {\n    var nameScale;\n    var element = this.element;\n    var groupScales = element.getGroupScales();\n\n    if (groupScales.length) {\n      // 如果存在分组类型，取第一个分组类型\n      _.each(groupScales, function (scale) {\n        nameScale = scale;\n        return false;\n      });\n    }\n\n    if (nameScale) {\n      var field = nameScale.field;\n      return nameScale.getText(originData[field]);\n    }\n\n    var valueScale = this._getTooltipValueScale();\n\n    return _getScaleName(valueScale);\n  }; // TODO: 需要改造\n\n\n  TooltipController.prototype._getSize = function (obj) {\n    var element = this.element;\n    var coord = element.get('coord');\n    var size = element.getSize(obj[FIELD_ORIGIN]);\n\n    if (coord.isRect && size) {\n      var dim = coord.isTransposed ? 'y' : 'x';\n\n      if (_.isArray(obj[dim])) {\n        var width = Math.abs(obj[dim][1] - obj[dim][0]);\n        size = size < width ? null : size; // 直方图计算错误\n      }\n    }\n\n    return size;\n  };\n\n  return TooltipController;\n}();\n\nexport default TooltipController;","import { __assign, __extends } from \"tslib\";\nimport { Label } from '@antv/component';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar IGNORE_ARR = ['line', 'point', 'path'];\nvar ORIGIN = '_origin';\n\nfunction avg(arr) {\n  var sum = 0;\n\n  _.each(arr, function (value) {\n    sum += value;\n  });\n\n  return sum / arr.length;\n} // 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n\n\nfunction getCentroid(xs, ys) {\n  if (_.isNumber(xs) && _.isNumber(ys)) {\n    // 普通色块图，xs 和 ys 是数值\n    return [xs, ys];\n  }\n\n  var i = -1;\n  var x = 0;\n  var y = 0;\n  var former;\n  var current = xs.length - 1;\n  var diff;\n  var k = 0;\n\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n\n  k *= 3;\n  return [x / k, y / k];\n}\n\nvar ElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(ElementLabels, _super);\n\n  function ElementLabels(cfg) {\n    var _this = _super.call(this, __assign({\n      labelOptions: null,\n      coord: null,\n      elementType: null,\n      zIndex: 6\n    }, cfg)) || this;\n\n    _this.set('defaultLabelCfg', _this.get('theme').label);\n\n    return _this;\n  }\n\n  ElementLabels.prototype._renderUI = function () {\n    _super.prototype._renderUI.call(this);\n\n    var labelsGroup = this.addGroup({\n      name: 'element-labels-group'\n    });\n    var lineGroup = this.addGroup({\n      name: 'element-labels-line-group'\n    });\n    var labelsRenderer = new Label();\n    labelsRenderer.set('coord', this.get('coord'));\n    labelsRenderer.set('group', labelsGroup);\n    labelsRenderer.set('lineGroup', lineGroup);\n    this.set('labelsRenderer', labelsRenderer);\n    this.set('labelsGroup', labelsGroup);\n    this.set('lineGroup', lineGroup);\n  };\n\n  ElementLabels.prototype.destroy = function () {\n    this.get('labelsRenderer').destroy(); // 清理文本\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ElementLabels.prototype.showLabels = function (points, originShapes) {\n    var labelsRenderer = this.get('labelsRenderer');\n    var items = this.getLabelsItems(points, originShapes);\n    var shapes = [].concat(originShapes);\n    var type = this.get('type');\n    items = this.adjustItems(items, shapes);\n    this.drawLines(items);\n    labelsRenderer.set('items', items.filter(function (item, i) {\n      if (!item) {\n        shapes.splice(i, 1);\n        return false;\n      }\n\n      return true;\n    }));\n\n    if (type) {\n      labelsRenderer.set('shapes', shapes);\n      labelsRenderer.set('type', type);\n      labelsRenderer.set('points', points);\n    }\n\n    labelsRenderer.set('canvas', this.get('canvas'));\n    labelsRenderer.draw();\n  };\n\n  ElementLabels.prototype.adjustItems = function (items, shapes) {\n    _.each(items, function (item) {\n      if (!item) {\n        return;\n      }\n\n      if (item.offsetX) {\n        item.x += item.offsetX;\n      }\n\n      if (item.offsetY) {\n        item.y += item.offsetY;\n      }\n    });\n\n    return items;\n  };\n  /**\n   * drawing lines to labels\n   * @param  {Array} items labels\n   * @param  {Object} labelLine configuration for label lines\n   */\n\n\n  ElementLabels.prototype.drawLines = function (items) {\n    var _this = this;\n\n    _.each(items, function (point) {\n      if (!point) {\n        return;\n      }\n\n      if (point.offset > 0 && point.labelLine) {\n        _this.lineToLabel(point);\n      }\n    });\n  }; // 定义连接线\n\n\n  ElementLabels.prototype.lineToLabel = function (point) {};\n\n  ElementLabels.prototype.setLabelPosition = function (label, point, index, position) {};\n\n  ElementLabels.prototype.transLabelPoint = function (point) {\n    var coord = this.get('coord');\n    var tmpPoint = coord.applyMatrix(point.x, point.y, 1);\n    point.x = tmpPoint[0];\n    point.y = tmpPoint[1];\n  };\n\n  ElementLabels.prototype.getOffsetVector = function (point) {\n    var offset = point.offset || 0;\n    var coord = this.get('coord');\n    var vector;\n\n    if (coord.isTransposed) {\n      // 如果x,y翻转，则偏移x\n      vector = coord.applyMatrix(offset, 0);\n    } else {\n      // 否则，偏转y\n      vector = coord.applyMatrix(0, offset);\n    }\n\n    return vector;\n  }; // 获取默认的偏移量\n\n\n  ElementLabels.prototype.getDefaultOffset = function (point) {\n    var offset = 0;\n    var coord = this.get('coord');\n    var vector = this.getOffsetVector(point);\n\n    if (coord.isTransposed) {\n      // 如果x,y翻转，则偏移x\n      offset = vector[0];\n    } else {\n      // 否则，偏转y\n      offset = vector[1];\n    }\n\n    return offset;\n  }; // 获取文本的偏移位置，x,y\n\n\n  ElementLabels.prototype.getLabelOffset = function (point, index, total) {\n    var offset = this.getDefaultOffset(point);\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var yField = transposed ? 'x' : 'y';\n    var factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n\n    var offsetPoint = {\n      x: 0,\n      y: 0\n    };\n\n    if (index > 0 || total === 1) {\n      // 判断是否小于0\n      offsetPoint[yField] = offset * factor;\n    } else {\n      offsetPoint[yField] = offset * factor * -1;\n    }\n\n    return offsetPoint;\n  };\n  /**\n   * @protected\n   * 获取labels\n   * @param {Array} points points\n   * @param {Array} shapes shapes\n   * @return {Array} label items\n   */\n\n\n  ElementLabels.prototype.getLabelsItems = function (points, shapes) {\n    var _this = this;\n\n    var items = [];\n    var element = this.get('element');\n    var coord = this.get('coord');\n\n    var labelOptions = this._getlabelOptions(points, shapes); // 获取label相关的x，y的值，获取具体的x,y,防止存在数组\n\n\n    _.each(points, function (point, i) {\n      var origin = point[ORIGIN];\n      var label = labelOptions[i];\n\n      if (!label) {\n        items.push(null);\n        return;\n      }\n\n      if (!_.isArray(label.text)) {\n        label.text = [label.text];\n      }\n\n      var total = label.length;\n\n      _.each(label.text, function (sub, subIndex) {\n        if (_.isNil(sub) || sub === '') {\n          items.push(null);\n          return;\n        }\n\n        var obj = _this.getLabelPoint(label, point, subIndex);\n\n        obj = _.mix({}, label, obj);\n\n        if (!obj.textAlign) {\n          obj.textAlign = _this.getLabelAlign(obj, subIndex, total);\n        }\n\n        if (element) {\n          obj.id = element.getShapeId(origin) + \"-glabel-\" + subIndex + \"-\" + obj.text;\n        }\n\n        obj.coord = coord;\n        items.push(obj);\n      });\n    });\n\n    return items;\n  };\n  /**\n   * @protected\n   * 获取文本的位置信息\n   * @param {Array} labelOptions labels\n   * @param {Object} point point\n   * @param {Number} index index\n   * @return {Object} point\n   */\n\n\n  ElementLabels.prototype.getLabelPoint = function (labelOptions, point, index) {\n    var coord = this.get('coord');\n    var total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      var v = value;\n\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个y,取最后一个y\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n\n      return v;\n    }\n\n    var label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: {\n        x: 0,\n        y: 0\n      },\n      color: '#fff'\n    }; // 多边形场景,多用于地图\n\n    if (point && this.get('elementType') === 'polygon') {\n      var centroid = getCentroid(point.x, point.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else {\n      label.x = getDimValue(point.x, index);\n      label.y = getDimValue(point.y, index);\n    } // get nearest point of the shape as the label line start point\n\n\n    if (point && point.nextPoints && (point.shape === 'funnel' || point.shape === 'pyramid')) {\n      var maxX_1 = -Infinity;\n      point.nextPoints.forEach(function (p) {\n        var p1 = coord.convert(p);\n\n        if (p1.x > maxX_1) {\n          maxX_1 = p1.x;\n        }\n      });\n      label.x = (label.x + maxX_1) / 2;\n    } // sharp edge of the pyramid\n\n\n    if (point.shape === 'pyramid' && !point.nextPoints && point.points) {\n      point.points.forEach(function (p) {\n        var p1 = p;\n        p1 = coord.convert(p1);\n\n        if (_.isArray(p1.x) && point.x.indexOf(p1.x) === -1 || _.isNumber(p1.x) && point.x !== p1.x) {\n          label.x = (label.x + p1.x) / 2;\n        }\n      });\n    }\n\n    if (labelOptions.position) {\n      this.setLabelPosition(label, point, index, labelOptions.position);\n    }\n\n    var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = {\n      x: label.x,\n      y: label.y\n    };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  };\n\n  ElementLabels.prototype.getLabelAlign = function (point, index, total) {\n    var align = 'center';\n    var coord = this.get('coord');\n\n    if (coord.isTransposed) {\n      var offset = this.getDefaultOffset(point);\n\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n\n    return align;\n  };\n\n  ElementLabels.prototype._getLabelValue = function (origin, originScales) {\n    var scales = originScales;\n\n    if (!_.isArray(scales)) {\n      scales = [scales];\n    }\n\n    var text = [];\n\n    _.each(scales, function (scale) {\n      var value = origin[scale.field];\n\n      if (_.isArray(value)) {\n        var tmp_1 = [];\n\n        _.each(value, function (subVal) {\n          tmp_1.push(scale.getText(subVal));\n        });\n\n        value = tmp_1;\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (_.isNil(value) || value === '') {\n        text.push(null);\n      } else {\n        text.push(value);\n      }\n    });\n\n    return text;\n  }; // 获取每个label的配置\n\n\n  ElementLabels.prototype._getlabelOptions = function (points, shapes) {\n    var _this = this;\n\n    var elementType = this.get('elementType');\n    var theme = this.get('theme');\n    var labelOptions = this.get('labelOptions');\n    var scales = labelOptions.scales;\n    var cfgs = [];\n\n    _.each(points, function (point, i) {\n      var cfg = {};\n      var origin = point[ORIGIN];\n\n      var originText = _this._getLabelValue(origin, scales);\n\n      if (labelOptions.callback) {\n        // callback 中应使用原始数据，而不是数据字符串\n        var originValues = scales.map(function (scale) {\n          return origin[scale.field];\n        });\n        cfg = labelOptions.callback.apply(labelOptions, originValues);\n      }\n\n      if (_.isNil(cfg)) {\n        cfgs.push(null);\n        return;\n      }\n\n      if (_.isString(cfg.content)) {\n        cfg.text = cfg.content;\n        delete cfg.content;\n      } else if (_.isFunction(cfg.content)) {\n        cfg.text = cfg.content(origin, point, i);\n        delete cfg.content;\n      } else {\n        cfg.text = originText[0]; // 默认展示声明的第一个字段对应的值\n      }\n\n      if (cfg.htmlTemplate) {\n        cfg.useHtml = true;\n        cfg.text = cfg.htmlTemplate(origin, point, i);\n        delete cfg.htmlTemplate;\n      }\n\n      if (cfg.formatter) {\n        cfg.text = cfg.formatter.call(null, cfg.text, point, i);\n        delete cfg.formatter;\n      }\n\n      if (elementType === 'polygon' || cfg.offset < 0 && _.indexOf(IGNORE_ARR, elementType) === -1) {\n        cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.innerLabels, cfg);\n      } else {\n        cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.label, cfg);\n      } // 将 shape 的原始数据存入\n\n\n      cfg.origin = origin; // delete cfg.items;\n\n      cfgs.push(cfg);\n    });\n\n    return cfgs;\n  };\n\n  return ElementLabels;\n}(Group);\n\nexport default ElementLabels;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\n\nvar IntervalElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(IntervalElementLabels, _super);\n\n  function IntervalElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  IntervalElementLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n    var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n\n    switch (position) {\n      case 'right':\n        if (transposed) {\n          point.x -= width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'center';\n        } else {\n          point.x -= width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'left';\n        }\n\n        break;\n\n      case 'left':\n        if (transposed) {\n          point.x -= width;\n          point.y -= height;\n          point.textAlign = point.textAlign || 'center';\n        } else {\n          point.x += width;\n          point.y += height;\n          point.textAlign = point.textAlign || 'right';\n        }\n\n        break;\n\n      case 'bottom':\n        if (transposed) {\n          point.x -= width * 2;\n          point.textAlign = point.textAlign || 'left';\n        } else {\n          point.y += height * 2;\n          point.textAlign = point.textAlign || 'center';\n        }\n\n        break;\n\n      case 'middle':\n        if (transposed) {\n          point.x -= width;\n        } else {\n          point.y += height;\n        }\n\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        if (transposed) {\n          point.textAlign = point.textAlign || 'left';\n        } else {\n          point.textAlign = point.textAlign || 'center';\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return IntervalElementLabels;\n}(ElementLabels);\n\nexport default IntervalElementLabels;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\nimport * as PathUtil from '../../../util/path';\n\nvar PolarElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(PolarElementLabels, _super);\n\n  function PolarElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 获取文本的位置信息\n   * @param {Array} label labels\n   * @param {Object} point point\n   * @param {Number} index index\n   * @return {Object} point\n   */\n\n\n  PolarElementLabels.prototype.getLabelPoint = function (label, point, i) {\n    var index = i;\n    var text = label.text[index];\n    var factor = 1;\n    var arcPoint;\n\n    if (this._isToMiddle(point)) {\n      arcPoint = this._getMiddlePoint(point.points);\n    } else {\n      if (label.text.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n\n      arcPoint = this.getArcPoint(point, index);\n    }\n\n    var offset = this.getDefaultOffset(label);\n    offset = offset * factor;\n    var middleAngle = this.getPointAngle(arcPoint);\n    var isLabelEmit = label.labelEmit;\n    var labelPoint = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n\n    if (!labelPoint) {\n      labelPoint = {\n        text: ''\n      };\n    } else {\n      labelPoint.text = text;\n      labelPoint.angle = middleAngle;\n      labelPoint.color = point.color;\n    }\n\n    if (label.autoRotate || label.autoRotate === undefined) {\n      // 自动旋转文本呢\n      labelPoint.rotate = this.getLabelRotate(middleAngle, offset, isLabelEmit);\n    } else {\n      labelPoint.rotate = label.rotate;\n    }\n\n    labelPoint.start = {\n      x: arcPoint.x,\n      y: arcPoint.y\n    };\n    return labelPoint;\n  };\n\n  PolarElementLabels.prototype.getCirclePoint = function (originAngle, offset, point, isLabelEmit) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var angle = originAngle;\n    var r = PathUtil.getPointRadius(coord, point);\n\n    if (r === 0) {\n      return null;\n    }\n\n    if (coord.isTransposed && r > offset && !isLabelEmit) {\n      var appendAngle = Math.asin(offset / (2 * r));\n      angle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(angle),\n      y: center.y + r * Math.sin(angle),\n      angle: angle,\n      r: r\n    };\n  };\n\n  PolarElementLabels.prototype.getArcPoint = function (point, i) {\n    var index = i;\n    var outerPoint; // 圆弧上的中点\n\n    index = index || 0;\n\n    if (_.isArray(point.x) || _.isArray(point.y)) {\n      outerPoint = {\n        x: _.isArray(point.x) ? point.x[index] : point.x,\n        y: _.isArray(point.y) ? point.y[index] : point.y\n      };\n    } else {\n      outerPoint = point;\n    }\n\n    this.transLabelPoint(outerPoint);\n    return outerPoint;\n  }; // 获取点所在的角度\n\n\n  PolarElementLabels.prototype.getPointAngle = function (point) {\n    var coord = this.get('coord');\n    return PathUtil.getPointAngle(coord, point);\n  };\n  /**\n   * @protected\n   * 获取文本旋转的方向\n   * @param {Number} angle angle\n   * @return {Number} angle\n   */\n\n\n  PolarElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelEmit) {\n    var rotate;\n    rotate = angle * 180 / Math.PI;\n    rotate += 90;\n\n    if (isLabelEmit) {\n      rotate -= 90;\n    }\n\n    if (rotate) {\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      } else if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  }; // override\n\n\n  PolarElementLabels.prototype.getLabelAlign = function (point) {\n    var coord = this.get('coord');\n    var align;\n\n    if (point.labelEmit) {\n      if (point.angle <= Math.PI / 2 && point.angle > -Math.PI / 2) {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    } else if (!coord.isTransposed) {\n      align = 'center';\n    } else {\n      var center = coord.getCenter();\n      var offset = this.getDefaultOffset(point);\n\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        if (offset > 0) {\n          align = 'left';\n        } else {\n          align = 'right';\n        }\n      } else {\n        if (offset > 0) {\n          align = 'right';\n        } else {\n          align = 'left';\n        }\n      }\n    }\n\n    return align;\n  }; // 定义连接线\n\n\n  PolarElementLabels.prototype.lineToLabel = function (point) {}; // 获取中心的位置\n\n\n  PolarElementLabels.prototype._getMiddlePoint = function (points) {\n    var coord = this.get('coord');\n    var count = points.length;\n    var middlePoint = {\n      x: 0,\n      y: 0\n    };\n\n    _.each(points, function (point) {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n    middlePoint = coord.convert(middlePoint);\n    return middlePoint;\n  }; // 是否居中\n\n\n  PolarElementLabels.prototype._isToMiddle = function (point) {\n    return point.x.length > 2;\n  };\n\n  return PolarElementLabels;\n}(ElementLabels);\n\nexport default PolarElementLabels;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as PathUtil from '../../../util/path';\nimport PolarElementLabels from './polar';\n/** label text和line距离 4px */\n\nvar MARGIN = 4;\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nfunction antiCollision(labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  var overlapping = true;\n  var start = plotRange.start;\n  var end = plotRange.end;\n  var startY = Math.min(start.y, end.y);\n  var totalHeight = Math.abs(start.y - end.y);\n  var i;\n  var maxY = 0;\n  var minY = Number.MIN_VALUE;\n  var boxes = labels.map(function (label) {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n\n    if (label.y < minY) {\n      minY = label.y;\n    }\n\n    return {\n      size: lineHeight,\n      targets: [label.y - startY]\n    };\n  });\n  minY -= startY;\n\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach(function (box) {\n      var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size); // box.pos = Math.max(0, target - box.size / 2);\n    }); // detect overlapping and join boxes\n\n    overlapping = false;\n    i = boxes.length;\n\n    while (i--) {\n      if (i > 0) {\n        var previousBox = boxes[i - 1];\n        var box = boxes[i];\n\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n\n          boxes.splice(i, 1); // removing box\n\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0; // step 4: normalize y and adjust x\n\n  boxes.forEach(function (b) {\n    var posInCompositeBox = startY + lineHeight / 2; // middle of the label\n\n    b.targets.forEach(function () {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  }); // (x - cx)^2 + (y - cy)^2 = totalR^2\n\n  labels.forEach(function (label) {\n    var rPow2 = label.r * label.r;\n    var dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      var dx = Math.sqrt(rPow2 - dyPow2);\n\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n  });\n}\n\nvar PieElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(PieElementLabels, _super);\n\n  function PieElementLabels(cfg) {\n    var _this = _super.call(this, __assign({}, cfg)) || this;\n\n    _this.set('defaultLabelCfg', _this.get('theme').thetaLabels);\n\n    return _this;\n  }\n\n  PieElementLabels.prototype.getDefaultOffset = function (point) {\n    return point.offset || 0;\n  };\n  /**\n   * @protected\n   * to avoid overlapping\n   * @param {Array} items labels to be placed\n   * @return {Array} items\n   */\n\n\n  PieElementLabels.prototype.adjustItems = function (originItems) {\n    var items = originItems;\n    var offset = items[0] ? items[0].offset : 0;\n\n    if (offset > 0) {\n      items = this._distribute(items, offset);\n    }\n\n    return _super.prototype.adjustItems.call(this, items);\n  }; // 连接线\n\n\n  PieElementLabels.prototype.lineToLabel = function (label) {\n    var coord = this.get('coord');\n    var r = coord.getRadius();\n    var distance = label.offset;\n    var angle = label.orignAngle || label.angle;\n    var center = coord.getCenter(); // 贴近圆周\n\n    var start = getEndPoint(center, angle, r);\n    var inner = getEndPoint(center, angle, r + distance / 2);\n    var end = {\n      x: label.x - Math.cos(angle) * MARGIN,\n      y: label.y - Math.sin(angle) * MARGIN\n    };\n\n    if (!_.isObject(label.labelLine)) {\n      // labelLine: true\n      label.labelLine = {};\n    }\n\n    label.labelLine.path = [\"M \" + start.x, start.y + \" Q\" + inner.x, inner.y + \" \" + end.x, end.y].join(',');\n  };\n  /**\n   * @protected\n   * get rotation for label\n   * @param {Number} angle angle\n   * @param {Number} offset offset\n   * @return {Number} rotate\n   */\n\n\n  PieElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelLimit) {\n    var rotate;\n\n    if (offset < 0) {\n      rotate = angle * 180 / Math.PI;\n\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      }\n\n      if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  };\n  /**\n   * @protected\n   * get text align for label\n   * @param {Object} point point\n   * @return {String} align\n   */\n\n\n  PieElementLabels.prototype.getLabelAlign = function (point) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var align;\n\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n\n    var offset = this.getDefaultOffset(point);\n\n    if (offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n\n    return align;\n  };\n\n  PieElementLabels.prototype.getArcPoint = function (point) {\n    return point;\n  };\n\n  PieElementLabels.prototype.getPointAngle = function (point) {\n    var coord = this.get('coord');\n    var startPoint = {\n      x: _.isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0]\n    };\n    this.transLabelPoint(startPoint); // 转换到画布坐标，如果坐标系发生改变\n\n    var endPoint = {\n      x: _.isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1]\n    };\n    this.transLabelPoint(endPoint); // 转换到画布坐标，如果坐标系发生改变\n\n    var angle;\n    var startAngle = PathUtil.getPointAngle(coord, startPoint);\n\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      var endAngle = PathUtil.getPointAngle(coord, endPoint);\n\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n\n    return angle;\n  };\n\n  PieElementLabels.prototype.getCirclePoint = function (angle, offset, p) {\n    var coord = this.get('coord');\n    var center = coord.getCenter();\n    var r = coord.getRadius() + offset;\n    var point = getEndPoint(center, angle, r);\n    point.angle = angle;\n    point.r = r;\n    return point;\n  }; // distribute labels\n\n\n  PieElementLabels.prototype._distribute = function (labels, offset) {\n    var coord = this.get('coord');\n    var radius = coord.getRadius();\n    var lineHeight = this.get('defaultLabelCfg').labelHeight;\n    var center = coord.getCenter();\n    var totalR = radius + offset;\n    var totalHeight = totalR * 2 + lineHeight * 2;\n    var plotRange = {\n      start: coord.start,\n      end: coord.end\n    };\n    var element = this.get('element');\n\n    if (element) {\n      var view = element.get('view');\n      plotRange = {\n        start: view.get('panelRange').bl,\n        end: view.get('panelRange').tr\n      };\n    } // step 1: separate labels\n\n\n    var halves = [[], []];\n    labels.forEach(function (label) {\n      if (!label) {\n        return;\n      }\n\n      if (label.textAlign === 'right') {\n        // left\n        halves[0].push(label);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(label);\n      }\n    });\n    halves.forEach(function (half, index) {\n      // step 2: reduce labels\n      var maxLabelsCountForOneSide = totalHeight / lineHeight;\n\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort(function (a, b) {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      } // step 3: distribute position (x and y)\n\n\n      half.sort(function (a, b) {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n      antiCollision(half, lineHeight, plotRange, center, index);\n    });\n    return halves[0].concat(halves[1]);\n  };\n\n  return PieElementLabels;\n}(PolarElementLabels);\n\nexport default PieElementLabels;","var ELEMENT_LABELS_MAP = {};\nexport function getElementLabels(type) {\n  return ELEMENT_LABELS_MAP[type.toLowerCase()];\n}\nexport function registerElementLabels(type, ctor) {\n  if (getElementLabels(type)) {\n    throw new Error(\"ElementLabels type '\" + type + \"' existed.\");\n  }\n\n  ELEMENT_LABELS_MAP[type.toLowerCase()] = ctor;\n}","import * as _ from '@antv/util';\nimport ElementLabels from './components/base';\nimport IntervalElementLabels from './components/interval';\nimport PieElementLabels from './components/pie';\nimport PolarElementLabels from './components/polar';\nimport { getElementLabels, registerElementLabels } from './components/factory';\nexport { getElementLabels, registerElementLabels, ElementLabels };\n\nvar LabelController =\n/** @class */\nfunction () {\n  function LabelController(element) {\n    this.element = null;\n    this.labelsContainer = null;\n    this.element = element;\n  }\n\n  LabelController.prototype._createLabelsContainer = function () {\n    var element = this.element;\n    var elementType = element.get('type');\n    var coord = element.get('coord');\n    var labelOptions = element.get('labelOptions');\n\n    var Ctor = this._getElementLabelsConstructor(labelOptions.labelType, coord.type, elementType);\n\n    var container = element.get('frontgroundGroup');\n\n    var scales = _.map(element.get('labelOptions').fields, function (field) {\n      return element.createScale(field);\n    });\n\n    var labelsContainer = container.addGroup(Ctor, {\n      labelOptions: _.mix({\n        scales: scales\n      }, labelOptions),\n      coord: coord,\n      element: element,\n      elementType: elementType,\n      theme: element.get('theme'),\n      visible: element.get('visible')\n    });\n    this.labelsContainer = labelsContainer;\n  };\n\n  LabelController.prototype.addLabels = function (points, shapes) {\n    this._createLabelsContainer();\n\n    this.labelsContainer.showLabels(points, shapes);\n    var labelsGroup = this.labelsContainer.get('labelsGroup');\n    return labelsGroup.get('children'); // 返回创建的 labels\n  };\n\n  LabelController.prototype.changeVisible = function (visible) {\n    this.labelsContainer && this.labelsContainer.set('visible', visible);\n  };\n\n  LabelController.prototype.clear = function () {\n    var labelsContainer = this.labelsContainer;\n    labelsContainer && !labelsContainer.destroyed && labelsContainer.remove();\n  };\n\n  LabelController.prototype._getElementLabelsConstructor = function (labelType, coordType, elementType) {\n    var type = labelType || 'base';\n\n    if (coordType === 'polar' && type === 'base') {\n      type = 'polar';\n    } else if (coordType === 'theta' && type === 'base') {\n      // pie chart\n      type = 'pie';\n    } else if ((elementType === 'interval' || elementType === 'polygon') && type === 'base') {\n      // bar\n      type = 'interval';\n    }\n\n    return getElementLabels(type);\n  };\n\n  return LabelController;\n}();\n\nexport default LabelController;\nregisterElementLabels('base', ElementLabels);\nregisterElementLabels('interval', IntervalElementLabels);\nregisterElementLabels('pie', PieElementLabels);\nregisterElementLabels('polar', PolarElementLabels);","/**\n * @description Element 上响应 shape 状态的改变\n */\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin'; // 通过 shape 上的原始数据来判断两个 shape 是否相同\n\nfunction _isSameShape(shape1, shape2) {\n  if (_.isNil(shape1) || _.isNil(shape2)) {\n    return false;\n  }\n\n  var shape1Origin = shape1.get('origin');\n  var shape2Origin = shape2.get('origin');\n  return _.isEqual(shape1Origin, shape2Origin);\n}\n\nfunction isChange(preShapes, shapes) {\n  if (!preShapes) {\n    return true;\n  }\n\n  if (preShapes.length !== shapes.length) {\n    return true;\n  }\n\n  var rst = false;\n\n  _.each(shapes, function (shape, index) {\n    if (!_isSameShape(shape, preShapes[index])) {\n      rst = true;\n      return false;\n    }\n  });\n\n  return rst;\n}\n\nfunction getOriginAttrs(modifiedAttrs, originAttrs) {\n  var result = {};\n\n  _.each(modifiedAttrs, function (v, k) {\n    var originValue = originAttrs[k];\n\n    if (_.isArray(originValue)) {\n      originValue = originValue.concat(); // 缓存原来的属性，由于 .attr('matrix') 是数组，所以此处需要深度复制\n    }\n\n    result[k] = originValue;\n  });\n\n  return result;\n}\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(element) {\n    this.element = null;\n    this._activeShapes = null;\n    this._selectedShapes = null;\n    this._inactiveShapes = null;\n    this.element = element;\n  }\n\n  StateController.prototype.bind = function () {\n    var element = this.element;\n    var view = element.get('view');\n    view.on('active:change', _.wrapBehavior(this, '_onActive'));\n    view.on('selected:change', _.wrapBehavior(this, '_onSelected'));\n    view.on('inactive:change', _.wrapBehavior(this, '_onInactive'));\n  };\n\n  StateController.prototype.unbind = function () {\n    var element = this.element;\n    var view = element.get('view');\n    view.off('active:change', _.getWrapBehavior(this, '_onActive'));\n    view.off('selected:change', _.getWrapBehavior(this, '_onSelected'));\n    view.off('inactive:change', _.getWrapBehavior(this, '_onInactive'));\n  };\n\n  StateController.prototype._onActive = function (activeObject) {\n    var _this = this;\n\n    var element = this.element;\n    var activeOptions = element.get('activeOptions');\n\n    if (activeOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var shapeContainer = element.get('shapeContainer');\n    var exp = activeObject.exp,\n        draw = activeObject.draw;\n\n    var activeShapes = this._filterShapes(exp); // 判断是否同上一次 activeShapes 相同，相同则不需要处理\n\n\n    var preActiveShapes = this._activeShapes;\n\n    if (!isChange(preActiveShapes, activeShapes)) {\n      return;\n    }\n\n    if (preActiveShapes) {\n      this._clearActiveShapes();\n    }\n\n    this._clearInactiveShapes(); // active 和 inactive 互斥，故需要清空\n\n\n    activeShapes.forEach(function (activeShape) {\n      if (activeShape.get('animating')) {\n        activeShape.stopAnimate();\n      }\n\n      _this._setShapeActive(activeShape);\n    });\n    this._activeShapes = activeShapes;\n    shapeContainer.sort();\n    draw && this._draw();\n  }; // 清空原先 active 状态的 shapes\n\n\n  StateController.prototype._clearActiveShapes = function () {\n    var shapes = this._activeShapes;\n\n    _.each(shapes, function (shape) {\n      var originAttrs = shape.get('_beforeActiveAttrs');\n      shape.attr(originAttrs);\n      shape.setZIndex(0);\n      shape.set('_beforeActiveAttrs', null);\n    }); // 恢复原来排序\n\n\n    var shapeContainer = this.element.get('shapeContainer');\n    var children = shapeContainer.get('children');\n    children.sort(function (obj1, obj2) {\n      return obj1._INDEX - obj2._INDEX;\n    });\n    this._activeShapes = null;\n  };\n\n  StateController.prototype._setShapeActive = function (shape) {\n    var activeStyle = this._getShapeStyleByState(shape, 'active'); // active 是基于当前 shape 的样式进行变化\n\n\n    var originAttrs = getOriginAttrs(activeStyle, shape.attr());\n    shape.setSilent('_beforeActiveAttrs', originAttrs);\n    shape.attr(activeStyle);\n    shape.setZIndex(1); // 将 activeShapes 图层提前\n  };\n\n  StateController.prototype._onSelected = function (selectedObj) {\n    var _this = this;\n\n    var selectedOptions = this.element.get('selectedOptions');\n\n    if (selectedOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var exp = selectedObj.exp,\n        draw = selectedObj.draw;\n\n    var selectedShapes = this._filterShapes(exp); // 判断是否同上一次 selectedShapes 相同，相同则不需要处理\n\n\n    var preSelectedShapes = this._selectedShapes;\n\n    if (!isChange(preSelectedShapes, selectedShapes)) {\n      return;\n    }\n\n    if (preSelectedShapes) {\n      this._clearSelectedShapes();\n    }\n\n    this._clearInactiveShapes(); // selected 和 inactive 互斥，故需要清空\n\n\n    selectedShapes.forEach(function (shape) {\n      if (shape.get('animating')) {\n        shape.stopAnimate();\n      }\n\n      _this._setShapeSelected(shape);\n    });\n    this._selectedShapes = selectedShapes;\n    draw && this._draw();\n  };\n\n  StateController.prototype._clearSelectedShapes = function () {\n    var shapes = this._selectedShapes;\n\n    _.each(shapes, function (shape) {\n      shape.set('selected', false);\n\n      if (!shape.get('inactive')) {\n        var originAttrs = shape.get('_originAttrs');\n        shape.attr(originAttrs);\n        shape.set('_originAttrs', null);\n      }\n    });\n\n    this._selectedShapes = null;\n  };\n\n  StateController.prototype._setShapeSelected = function (shape) {\n    shape.set('selected', true);\n\n    var selectedStyle = this._getShapeStyleByState(shape, 'selected');\n\n    this._applyShapeStyle(shape, selectedStyle);\n  };\n\n  StateController.prototype._onInactive = function (inactiveObj) {\n    var _this = this;\n\n    var inactiveOptions = this.element.get('inactiveOptions');\n\n    if (inactiveOptions === false) {\n      // element.active(false); 不允许 active\n      return;\n    }\n\n    var exp = inactiveObj.exp,\n        draw = inactiveObj.draw;\n\n    var inactiveShapes = this._filterShapes(exp); // 判断是否同上一次 _inactiveShapes 相同，相同则不需要处理\n\n\n    var preinactiveShapes = this._inactiveShapes;\n\n    if (!isChange(preinactiveShapes, inactiveShapes)) {\n      return;\n    }\n\n    if (preinactiveShapes) {\n      this._clearInactiveShapes();\n    }\n\n    inactiveShapes.forEach(function (shape) {\n      if (shape.get('animating')) {\n        shape.stopAnimate();\n      }\n\n      _this._setShapeInactive(shape);\n    });\n    this._inactiveShapes = inactiveShapes;\n    draw && this._draw();\n  };\n\n  StateController.prototype._clearInactiveShapes = function () {\n    var shapes = this._inactiveShapes;\n\n    _.each(shapes, function (shape) {\n      shape.set('inactive', false);\n\n      if (!shape.get('selected')) {\n        var originAttrs = shape.get('_originAttrs');\n        shape.attr(originAttrs);\n        shape.set('_originAttrs', null);\n      }\n    });\n\n    this._inactiveShapes = null;\n  };\n\n  StateController.prototype._setShapeInactive = function (shape) {\n    shape.set('inactive', true);\n\n    var inactiveStyle = this._getShapeStyleByState(shape, 'inactive');\n\n    this._applyShapeStyle(shape, inactiveStyle);\n  };\n\n  StateController.prototype._applyShapeStyle = function (shape, style) {\n    // 基于 shape 的初始状态\n    var originAttrs = shape.get('_originAttrs');\n\n    if (originAttrs) {\n      shape.attr(originAttrs);\n    }\n\n    originAttrs = getOriginAttrs(style, shape.attr());\n    shape.setSilent('_originAttrs', originAttrs);\n    shape.attr(style);\n  };\n\n  StateController.prototype._filterShapes = function (exp) {\n    var element = this.element;\n    var shapeContainer = element.get('shapeContainer');\n    var shapes = shapeContainer.get('children');\n    return _.filter(shapes, function (shape) {\n      if (shape.get('origin') && shape.get('visible')) {\n        var origin_1 = shape.get('origin'); // line、area、path 这三种 element，shape 的 origin 存储的是整个序列的数据集合\n\n        var data = _.isArray(origin_1) ? origin_1[0][FIELD_ORIGIN] : origin_1[FIELD_ORIGIN];\n        return exp(data);\n      }\n    });\n  };\n\n  StateController.prototype._getShapeStyleByState = function (shape, state) {\n    var element = this.element;\n    var shapeData = shape.get('origin');\n    var shapeName = shapeData.shape || element.getDefaultValue('shape');\n\n    if (_.isArray(shapeName)) {\n      shapeName = shapeName[0];\n    }\n\n    var shapeFactory = element.get('shapeFactory');\n\n    var shapeStyle = _.mix({}, shape.attr(), {\n      origin: shapeData\n    });\n\n    if (state === 'active') {\n      var activeOptions = element.get('activeOptions');\n      var defaultActiveStyle = shapeFactory.getActiveStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultActiveStyle, activeOptions);\n    }\n\n    if (state === 'selected') {\n      var selectedOptions = element.get('selectedOptions');\n      var defaultSelectedStyle = shapeFactory.getSelectedStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultSelectedStyle, selectedOptions);\n    }\n\n    if (state === 'inactive') {\n      var inactiveOptions = element.get('inactiveOptions');\n      var defaultInactiveStyle = shapeFactory.getInactiveStyle(shapeName, shapeStyle) || {};\n      return _.mix(defaultInactiveStyle, inactiveOptions);\n    }\n\n    return shapeStyle;\n  };\n\n  StateController.prototype._draw = function () {\n    var canvas = this.element.get('canvas'); // 防止因为 state 处理是异步的，在 dom 元素移除之后再处理\n\n    if (!canvas) return;\n    var drawTimer = canvas.get('_drawTimer');\n\n    if (drawTimer) {\n      clearTimeout(drawTimer);\n      canvas.set('_drawTimer', null);\n    }\n\n    drawTimer = setTimeout(function () {\n      canvas.draw();\n    }, 16);\n    canvas.set('_drawTimer', drawTimer);\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import * as _ from '@antv/util';\nexport function parseFields(field) {\n  if (_.isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}","import { __assign, __extends } from \"tslib\";\nimport { getAttribute, getAdjust } from '../dependents';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from './shape/base';\nimport Base from '../base';\nimport Global from '../global';\nimport TooltipController from './controller/tooltip';\nimport LabelController from './controller/label';\nimport StateController from './controller/state';\nimport { parseFields } from './util/parse-fields';\nvar GROUP_ATTRS = ['color', 'shape', 'size'];\nexport var FIELD_ORIGIN = '_origin';\n\nvar Element =\n/** @class */\nfunction (_super) {\n  __extends(Element, _super);\n\n  function Element(cfg) {\n    var _this = _super.call(this, __assign({\n      id: null,\n      type: 'base',\n      shapeType: null,\n      coord: null,\n      attrs: {},\n      data: [],\n      scales: {},\n      attrOptions: {},\n      view: null,\n      canvas: null,\n      container: null,\n      shapeContainer: null,\n      generatePoints: false,\n      sortable: false,\n      animate: true,\n      visible: true,\n      shareTooltip: true,\n      activeOptions: null,\n      inactiveOptions: null,\n      selectedOptions: null,\n      labelOptions: null,\n      tooltipOptions: null,\n      adjustOptions: null,\n      styleOptions: null,\n      statOptions: null,\n      animateOptions: null,\n      theme: null,\n      widthRatio: Global.widthRatio\n    }, cfg)) || this; // 设置 theme\n\n\n    var theme = _this.get('theme') || Global.theme;\n\n    _this.set('theme', theme); // 初始化容器，container 容器在 view 中添加 element 的时候创建\n\n\n    _this.get('container') && _this._initContainer(); // 初始化 Element 的辅助控制器对象\n\n    _this._initController();\n\n    return _this;\n  }\n\n  Element.prototype.position = function (cfg) {\n    if (_.isString(cfg)) {\n      this._setAttrOptions('position', {\n        fields: parseFields(cfg)\n      });\n    } else {\n      this._setAttrOptions('position', cfg);\n    }\n\n    return this;\n  };\n\n  Element.prototype.color = function (field, cfg) {\n    this._createAttrOption('color', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.shape = function (field, cfg) {\n    this._createAttrOption('shape', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.size = function (field, cfg) {\n    this._createAttrOption('size', field, cfg);\n\n    return this;\n  };\n\n  Element.prototype.opacity = function (field, callback) {\n    this._createAttrOption('opacity', field, callback);\n\n    return this;\n  };\n\n  Element.prototype.adjust = function (adjustCfg) {\n    var adjusts = adjustCfg;\n\n    if (_.isString(adjustCfg) || _.isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n\n    _.each(adjusts, function (adjust, index) {\n      if (!_.isObject(adjust)) {\n        adjusts[index] = {\n          type: adjust\n        };\n      }\n    });\n\n    this.set('adjustOptions', adjusts);\n    return this;\n  };\n\n  Element.prototype.style = function (field, callback) {\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      this.set('styleOptions', {\n        fields: fields,\n        callback: callback\n      });\n    } else {\n      var fields = field.fields,\n          callback_1 = field.callback,\n          cfg = field.cfg;\n\n      if (fields || callback_1 || cfg) {\n        this.set('styleOptions', field);\n      } else {\n        this.set('styleOptions', {\n          cfg: field\n        });\n      }\n    }\n\n    return this;\n  };\n\n  Element.prototype.tooltip = function (field, cfg) {\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      this.set('tooltipOptions', {\n        fields: fields,\n        callback: cfg\n      });\n    } else {\n      this.set('tooltipOptions', field);\n    }\n\n    return this;\n  };\n\n  Element.prototype.label = function (field, cfg) {\n    var labelOptions = {};\n\n    if (_.isString(field)) {\n      var fields = parseFields(field);\n      labelOptions.fields = fields;\n      labelOptions.callback = cfg;\n      this.set('labelOptions', labelOptions);\n    } else {\n      this.set('labelOptions', field);\n    }\n\n    return this;\n  };\n  /**\n   * element 上的动画配置\n   * @param cfg 动画配置\n   */\n\n\n  Element.prototype.animate = function (cfg) {\n    this.set('animateOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 active 状态下的样式\n   * @param cfg active 的样式，为 false 时表示不允许 active\n   */\n\n\n  Element.prototype.active = function (cfg) {\n    this.set('activeOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 selected 状态下的样式\n   * @param cfg selected 的样式，为 false 时表示不允许 selected\n   */\n\n\n  Element.prototype.selected = function (cfg) {\n    this.set('selectedOptions', cfg);\n    return this;\n  };\n  /**\n   * 配置 element 下 shape 在 inactive 状态下的样式\n   * @param cfg inactive 的样式，为 false 时表示不允许 inactive\n   */\n\n\n  Element.prototype.inactive = function (cfg) {\n    this.set('inactiveOptions', cfg);\n    return this;\n  };\n  /**\n   * 初始化 element，生成 attribute, scale 对象，同时对数据进行处理\n   */\n\n\n  Element.prototype.init = function () {\n    var _this = this; // 将容器应用坐标系的变换\n\n\n    var coord = this.get('coord');\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer.setMatrix(coord.matrix); // 执行统计函数\n\n    var data = this.get('data'); // 原始数据\n    // 生成图形属性对象以及对应的 scales\n\n    this._initAttrs(data); // 创建 tooltip() 方法上声明字段对应的 scale 对象\n\n\n    var tooltipOptions = this.get('tooltipOptions');\n\n    if (tooltipOptions && tooltipOptions.fields) {\n      var fields = tooltipOptions.fields;\n      fields.forEach(function (field) {\n        _this.createScale(field, data); // 创建 tooltip 上对应的度量\n\n      });\n    }\n\n    var dataArray = this._processData(data);\n\n    dataArray = this._adjustData(dataArray);\n    this.set('dataArray', dataArray);\n  };\n\n  Element.prototype.bindStates = function () {\n    if (this.get('view')) {\n      var stateController = new StateController(this);\n      stateController.bind();\n      this.set('stateController', stateController);\n    }\n  };\n\n  Element.prototype.unbindStates = function () {\n    if (this.get('view')) {\n      var stateController = this.get('stateController');\n      stateController && stateController.unbind();\n    }\n  };\n  /**\n   * 进行数据到图形空间的映射同时绘制图形\n   */\n\n\n  Element.prototype.paint = function () {\n    var coord = this.get('coord');\n    var theme = this.get('theme');\n    var dataArray = this.get('dataArray');\n    var mappedArray = [];\n\n    var shapeFactory = this._getShapeFactory();\n\n    shapeFactory.setCoord(coord);\n    shapeFactory.setTheme(theme.shape); // 获取主题\n\n    var shapeContainer = this.get('shapeContainer');\n\n    this._beforeMapping(dataArray);\n\n    for (var i = 0, len = dataArray.length; i < len; i += 1) {\n      var data = dataArray[i];\n      data = this._mapping(data);\n      mappedArray.push(data);\n      this.draw(data, shapeContainer, shapeFactory, i);\n    } // 添加 label\n\n\n    if (this.get('labelOptions')) {\n      var labelController = this.get('labelController');\n      var labels = labelController.addLabels(_.union.apply(_, mappedArray), shapeContainer.get('children'));\n      this.set('labels', labels);\n    }\n\n    if (!this.get('sortable')) {\n      this._sort(mappedArray); // 便于数据的查找，需要对数据进行排序，用于 geom.findPoint()\n\n    } else {\n      this.set('dataArray', mappedArray);\n    }\n  };\n\n  Element.prototype.clear = function () {\n    this.clearInner();\n    this.set('scales', {});\n    this.set('labels', null);\n  };\n\n  Element.prototype.destroy = function () {\n    this.clear();\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.remove();\n    var container = this.get('container');\n    container && container.remove();\n    this.unbindStates();\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * 获取图形属性对应的默认值\n   * @param attrName 图形属性名称\n   */\n\n\n  Element.prototype.getDefaultValue = function (attrName) {\n    var value;\n    var attr = this.getAttr(attrName);\n\n    if (attr && _.isEmpty(attr.scales)) {\n      // 获取映射至常量的值\n      value = attr.values[0];\n    }\n\n    return value;\n  };\n  /**\n   * 隐藏或者展示 Element\n   * @param visible boolean 类型，是否可见\n   * @param stopDraw 可选，boolean 类型，是否结束绘画\n   */\n\n\n  Element.prototype.changeVisible = function (visible, stopDraw) {\n    this.set('visible', visible);\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.set('visible', visible); // should be done in controller\n\n    var labelController = this.get('labelController');\n    labelController && labelController.changeVisible(visible);\n\n    if (!stopDraw && shapeContainer) {\n      var canvas = this.get('canvas');\n      canvas.draw();\n    }\n  };\n  /**\n   * 根据图形属性名称获取对应的图形属性对象\n   * @param name 图形属性名\n   */\n\n\n  Element.prototype.getAttr = function (name) {\n    return this.get('attrs')[name];\n  };\n  /**\n   * 获取同图例相关的图形属性对象\n   */\n\n\n  Element.prototype.getAttrsForLegend = function () {\n    var attrs = _.values(this.get('attrs'));\n\n    return _.filter(attrs, function (attr) {\n      return _.contains(GROUP_ATTRS, attr.type);\n    });\n  };\n  /**\n   * 获取 x 方向上的度量\n   */\n\n\n  Element.prototype.getXScale = function () {\n    return this.getAttr('position').scales[0];\n  };\n  /**\n   * 获取 y 方向上的度量，目前只支持二维\n   */\n\n\n  Element.prototype.getYScale = function () {\n    return this.getAttr('position').scales[1];\n  };\n  /**\n   * 获取 Element 上对应所有的图形对象 shape\n   */\n\n\n  Element.prototype.getShapes = function () {\n    var shapeContainer = this.get('shapeContainer');\n    return shapeContainer.get('children');\n  };\n  /**\n   * 判断 Element 是否位于极坐标系下\n   */\n\n\n  Element.prototype.isInCircle = function () {\n    var coord = this.get('coord');\n    return !!(coord && coord.isPolar);\n  };\n  /**\n   * 为每个 shape 添加额外的信息，用于动画\n   * @param shape shape 实例\n   * @param index 索引值，绘制的顺序，同数据顺序对应\n   */\n\n\n  Element.prototype.appendShapeInfo = function (shape, index) {\n    if (shape) {\n      shape.setSilent('index', index);\n      shape.setSilent('coord', this.get('coord'));\n      shape.setSilent('scales', this.get('scales'));\n\n      if (this.get('animate') && !_.isNil(this.get('animateOptions'))) {\n        shape.setSilent('animateOptions', this.get('animateOptions'));\n      }\n    }\n  };\n  /**\n   * 判断是否发生同 adjustType 对应的调整\n   * @param adjustType adjust 类型\n   */\n\n\n  Element.prototype.hasAdjust = function (adjustType) {\n    var adjustOptions = this.get('adjustOptions');\n    var rst = false;\n\n    _.each(adjustOptions, function (adjustOption) {\n      if (adjustOption.type === adjustType) {\n        rst = true;\n        return false;\n      }\n    });\n\n    return rst;\n  };\n  /**\n   * 获取图形属性对应的值\n   * @param attr 图形属性对象\n   * @param record 数据\n   */\n\n\n  Element.prototype.getAttrValues = function (attr, record) {\n    var scales = attr.scales;\n\n    var params = _.map(scales, function (scale) {\n      var field = scale.field;\n\n      if (scale.type === 'identity') {\n        return scale.values[0];\n      }\n\n      if (scale.isCategory) {\n        return record[field]; // 数据有可能发生过 adjust\n      }\n\n      return record[field];\n    });\n\n    return attr.mapping.apply(attr, params);\n  };\n\n  Element.prototype.getSize = function (obj) {\n    var sizeController = this.get('sizeController');\n\n    if (sizeController) {\n      return sizeController.getSize(obj);\n    }\n  };\n\n  Element.prototype.getNormalizedSize = function (obj) {\n    var sizeController = this.get('sizeController');\n\n    if (sizeController) {\n      return sizeController.getNormalizedSize(obj);\n    }\n  };\n  /**\n   * 获取分组相关的度量\n   */\n\n\n  Element.prototype.getGroupScales = function () {\n    var scales = this.get('groupScales');\n\n    if (!scales) {\n      var attrs = _.values(this.get('attrs')); // 所有的分组 Attribute 实例\n\n\n      var groupAttrs = _.filter(attrs, function (attr) {\n        return _.contains(GROUP_ATTRS, attr.type);\n      }); // 所有的分组 scale\n\n\n      var groupScales = _.map(groupAttrs, function (attr) {\n        return _.filter(attr.scales, function (scale) {\n          return scale.isCategory;\n        });\n      }); // 打平，去重\n\n\n      scales = _.uniq(_.flatten(groupScales));\n      this.set('groupScales', scales);\n    }\n\n    return scales;\n  };\n  /**\n   * 获取图例的字段集合\n   */\n\n\n  Element.prototype.getLegendFields = function () {\n    var fields = [];\n    var attrOptions = this.get('attrOptions'); // 因为会在生成 scale 前调用，所以通过 attrOptions 进行判断\n\n    GROUP_ATTRS.forEach(function (attrName) {\n      var attrOption = attrOptions[attrName];\n\n      var attrFields = _.get(attrOption, 'fields', []);\n\n      fields = fields.concat(attrFields);\n    });\n    return _.uniq(fields);\n  };\n  /**\n   * 是否合并 tooltip\n   */\n\n\n  Element.prototype.isShareTooltip = function () {\n    var isShareTooltip = this.get('shareTooltip');\n\n    if (!this.getYScale()) {\n      // 一维图表不合并 tooltip\n      isShareTooltip = false;\n    }\n\n    return isShareTooltip;\n  };\n  /**\n   * 根据画布坐标在 source 中查找匹配的数据\n   * @param point 画布坐标\n   * @param source 数据源(已排序)\n   */\n\n\n  Element.prototype.findPoint = function (point, source) {\n    var tooltipController = this.get('tooltipController');\n    return tooltipController.findPoint(point, source);\n  };\n  /**\n   * 根据数据获取对应的 tooltip items 信息\n   * @param data 数据记录\n   * @param titleField tooltip title 字段名\n   */\n\n\n  Element.prototype.getTooltipItems = function (data, titleField) {\n    var tooltipController = this.get('tooltipController');\n    return tooltipController.getTooltipItems(data, titleField);\n  };\n  /**\n   * 获取 Y 轴上的最小值\n   */\n\n\n  Element.prototype.getYMinValue = function () {\n    var yScale = this.getYScale();\n    var min = yScale.min,\n        max = yScale.max;\n    var value;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n      value = max;\n    } else {\n      value = 0;\n    }\n\n    return value;\n  };\n  /**\n   * 为每个 shape 生成唯一标识 ID，用于动画\n   * @param dataObj shape 的原始数据\n   */\n\n\n  Element.prototype.getShapeId = function (dataObj) {\n    var id = this.get('id');\n    var keyFields = this.get('keyFields');\n\n    if (keyFields && keyFields.length > 0) {\n      _.each(keyFields, function (key) {\n        id = id + \"-\" + dataObj[key];\n      });\n    } else {\n      var type = this.get('type');\n      var xScale = this.getXScale();\n      var yScale = this.getYScale();\n      var xField = xScale.field || 'x';\n      var yField = yScale.field || 'y';\n      var yVal = dataObj[yField];\n      var xVal = void 0;\n\n      if (xScale.isIdentity) {\n        xVal = xScale.values[0];\n      } else {\n        xVal = dataObj[xField];\n      }\n\n      if (type === 'interval' || type === 'schema') {\n        id = id + \"-\" + xVal;\n      } else if (type === 'line' || type === 'area' || type === 'path') {\n        id = id + \"-\" + type;\n      } else {\n        id = id + \"-\" + xVal + \"-\" + yVal;\n      }\n\n      var groupScales = this.getGroupScales();\n\n      if (!_.isEmpty(groupScales)) {\n        _.each(groupScales, function (groupScale) {\n          // @ts-ignore\n          var field = groupScale.field;\n\n          if (groupScale.type !== 'identity') {\n            id = id + \"-\" + dataObj[field];\n          }\n        });\n      }\n    }\n\n    return id;\n  };\n  /**\n   * 根据画布坐标点获取对应的原始数据\n   * @param point 画布坐标点\n   */\n\n\n  Element.prototype.getOriginDataByPoint = function (point) {\n    var _a;\n\n    var xScale = this.getXScale();\n    var yScale = this.getYScale();\n    var coord = this.get('coord');\n    var invertPoint = coord.invert(point);\n    var xValue = xScale.invert(invertPoint.x);\n    var yValue = yScale.invert(invertPoint.y);\n    var xField = xScale.field;\n    var yField = yScale.field;\n    return _a = {}, _a[xField] = xValue, _a[yField] = yValue, _a;\n  };\n  /**\n   * @protected\n   * 根据数据获取图形的关键点数据\n   * @param obj 数据对象\n   */\n\n\n  Element.prototype.createShapePointsCfg = function (obj) {\n    var xScale = this.getXScale();\n    var yScale = this.getYScale();\n\n    var x = this._normalizeValues(obj[xScale.field], xScale);\n\n    var y; // 存在没有 y 的情况\n\n    if (yScale) {\n      y = this._normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x: x,\n      y: y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined\n    };\n  };\n  /**\n   * @protected\n   * 根据数据生成图形\n   * @param data 需要绘制的数据集合\n   * @param container 图形容器\n   * @param shapeFactory shape 的管理对象\n   * @param index 索引值\n   */\n\n\n  Element.prototype.draw = function (data, container, shapeFactory, index) {\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var obj = data[i];\n      this.drawPoint(obj, container, shapeFactory, index + i);\n    }\n  };\n  /**\n   * @protected\n   * 绘制具体的 shape\n   * @param obj 需要绘制的一套数据\n   * @param container 图形容器\n   * @param shapeFactory  shape 的管理对象\n   * @param index 索引值\n   */\n\n\n  Element.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n    var shape = obj.shape;\n    var cfg = this.getDrawCfg(obj);\n    var geomShape = shapeFactory.drawShape(shape, cfg, container);\n    this.appendShapeInfo(geomShape, index);\n  };\n  /**\n   * 构造绘图图形需要的属性\n   * @param obj 数据\n   */\n\n\n  Element.prototype.getDrawCfg = function (obj) {\n    var cfg = {\n      origin: obj,\n      x: obj.x,\n      y: obj.y,\n      color: obj.color,\n      size: obj.size,\n      shape: obj.shape,\n      isInCircle: this.isInCircle(),\n      opacity: obj.opacity\n    };\n    var styleOptions = this.get('styleOptions');\n\n    if (styleOptions) {\n      cfg.style = this._getStyleCfg(styleOptions, obj[FIELD_ORIGIN]);\n    }\n\n    if (this.get('generatePoints')) {\n      cfg.points = obj.points;\n      cfg.nextPoints = obj.nextPoints;\n    }\n\n    cfg.id = this.getShapeId(obj[FIELD_ORIGIN]);\n    return cfg;\n  };\n\n  Element.prototype.clearInner = function () {\n    // this.clearActivedShapes();\n    // this.clearSelected();\n    var shapeContainer = this.get('shapeContainer');\n    shapeContainer && shapeContainer.clear(); // 由于 Labels 对应的模块需要生成group，所以这个地方需要删除\n\n    var labelController = this.get('labelController');\n    labelController && labelController.clear();\n    this.set('attrs', {});\n    this.set('groupScales', null);\n    var sizeController = this.get('sizeController');\n    sizeController && sizeController.clear();\n    var tooltipController = this.get('tooltipController');\n    tooltipController.clear(); // todo clear other controller\n  }; // 创建图形属性相关的配置项\n\n\n  Element.prototype._createAttrOption = function (attrName, field, cfg) {\n    if (_.isObject(field)) {\n      this._setAttrOptions(attrName, field);\n    } else {\n      var attrCfg = {};\n\n      if (_.isNumber(field)) {\n        // size(3), opacity(0.8)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (_.isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      this._setAttrOptions(attrName, attrCfg);\n    }\n  }; // 初始化容器\n\n\n  Element.prototype._initContainer = function () {\n    var container = this.get('container');\n    var view = this.get('view'); // element 所在的 view\n\n    var viewId = view.get('id');\n    var visible = this.get('visible');\n    var shapeContainer = container.addGroup({\n      viewId: viewId,\n      visible: visible\n    });\n    this.set('shapeContainer', shapeContainer);\n  }; // 初始化 element 相关的控制器\n\n\n  Element.prototype._initController = function () {\n    // tooltipController\n    var tooltipController = new TooltipController(this);\n    this.set('tooltipController', tooltipController); // labelController\n\n    var labelController = new LabelController(this);\n    this.set('labelController', labelController);\n  }; // 存储用户设置的图形属性配置项\n\n\n  Element.prototype._setAttrOptions = function (name, cfg) {\n    var attrOptions = this.get('attrOptions');\n    attrOptions[name] = cfg;\n  }; // 给字段创建度量\n\n\n  Element.prototype.createScale = function (field, data) {\n    var view = this.get('view');\n    var scales = this.get('scales');\n    var scale = scales[field];\n\n    if (!scale) {\n      scale = view._initScale(field, data);\n      scales[field] = scale;\n    }\n\n    return scale;\n  }; // 初始化 Attribute 实例同时生成相关的 scale 度量\n\n\n  Element.prototype._initAttrs = function (data) {\n    var _this = this;\n\n    var attrs = this.get('attrs'); // attribute 实例\n\n    var attrOptions = this.get('attrOptions'); // 传入的配置\n\n    var coord = this.get('coord');\n    var theme = this.get('theme');\n    var geomType = this.get('type'); // 遍历每一个 attrOption，各自创建 Attribute 实例\n\n    _.each(attrOptions, function (option, type) {\n      var attrOption = __assign({}, option);\n\n      var callback = attrOption.callback,\n          values = attrOption.values,\n          _a = attrOption.fields,\n          fields = _a === void 0 ? [] : _a; // 饼图的特殊逻辑，填充 position 上的一维映射\n\n      if (type === 'position' && fields.length === 1 && coord.type === 'theta') {\n        fields.unshift('1');\n      } // 给每一个字段创建 scale\n\n\n      var scales = _.map(fields, function (field) {\n        return _this.createScale(field, data);\n      }); // 饼图需要填充满整个空间\n\n\n      if (coord.type === 'theta' && type === 'position' && scales.length > 1) {\n        var yScale = scales[1];\n        yScale.change({\n          nice: false,\n          min: 0,\n          max: Math.max.apply(null, yScale.values)\n        });\n      }\n\n      attrOption.scales = scales;\n\n      if (_.indexOf(['color', 'size', 'shape', 'opacity'], type) !== -1 && scales.length === 1 && scales[0].isIdentity) {\n        // 用户在图形通道上声明了常量字段 color('red'), size(5)\n        attrOption.values = scales[0].values;\n      } else if (!callback && !values) {\n        // 用户没有指定任何规则，则使用默认的映射规则\n        if (type === 'size') {\n          attrOption.values = theme.sizes;\n        } else if (type === 'shape') {\n          attrOption.values = theme.shapes[geomType] || [];\n        } else if (type === 'opacity') {\n          attrOption.values = theme.opacities;\n        } else if (type === 'color' && scales.length) {\n          // TODO 需要优化\n          var valuesLen = scales[0].values.length;\n\n          if (valuesLen <= 10) {\n            attrOption.values = theme.colors;\n          } else {\n            attrOption.values = theme.colors_20;\n          }\n        }\n      }\n\n      var attrCtor = getAttribute(type);\n      attrs[type] = new attrCtor(attrOption);\n    });\n  }; // 更新发生层叠后的数据对应的度量范围\n\n\n  Element.prototype._updateStackRange = function (field, scale, dataArray) {\n    var view = this.get('view');\n    var scaleDefs = view.get('options').scales;\n\n    var mergeArray = _.flatten(dataArray);\n\n    var min = scale.min;\n    var max = scale.max;\n\n    for (var i = 0, len = mergeArray.length; i < len; i += 1) {\n      var obj = mergeArray[i];\n      var tmpMin = Math.min.apply(null, obj[field]);\n      var tmpMax = Math.max.apply(null, obj[field]);\n\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n\n    var cfg = {};\n\n    if (min < scale.min && !_.get(scaleDefs, [field, 'min'])) {\n      // 用户如果在列定义中定义了 min，则以用户定义的为准\n      cfg.min = min;\n    }\n\n    if (max > scale.max && !_.get(scaleDefs, [field, 'max'])) {\n      // 用户如果在列定义中定义了 max\n      cfg.max = max;\n    }\n\n    if (!_.isEmpty(cfg)) {\n      scale.change(cfg);\n    }\n  }; // 对数据进行分组\n\n\n  Element.prototype._groupData = function (data) {\n    var groupScales = this.getGroupScales();\n    var fields = groupScales.map(function (scale) {\n      return scale.field;\n    });\n    return _.group(data, fields);\n  }; // 数据调整前保存原始数据\n\n\n  Element.prototype._saveOrigin = function (data) {\n    return _.map(data, function (origin) {\n      var _a;\n\n      return __assign(__assign({}, origin), (_a = {}, _a[FIELD_ORIGIN] = origin, _a));\n    });\n  }; // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n\n\n  Element.prototype._numeric = function (data) {\n    var positionAttr = this.getAttr('position');\n    var scales = positionAttr.scales;\n\n    for (var j = 0, len = data.length; j < len; j += 1) {\n      var obj = data[j];\n\n      for (var i = 0; i < Math.min(2, scales.length); i += 1) {\n        var scale = scales[i];\n\n        if (scale.isCategory) {\n          var field = scale.field;\n          obj[field] = scale.translate(obj[field]); // TODO\n        }\n      }\n    }\n  }; // 处理数据：分组、存储原始数据、将分类数据数字化\n\n\n  Element.prototype._processData = function (data) {\n    var _this = this;\n\n    var groupedArray = this._groupData(data);\n\n    return _.map(groupedArray, function (subData) {\n      var tempData = _this._saveOrigin(subData);\n\n      _this._numeric(tempData);\n\n      return tempData;\n    });\n  }; // 进行数据调整\n\n\n  Element.prototype._adjustData = function (dataArray) {\n    var _this = this;\n\n    var adjustOptions = this.get('adjustOptions');\n    var result = dataArray;\n\n    if (adjustOptions) {\n      var theme = this.get('theme');\n      var xScale_1 = this.getXScale();\n      var yScale_1 = this.getYScale();\n      var xField_1 = xScale_1.field;\n      var yField_1 = yScale_1 ? yScale_1.field : null;\n      adjustOptions.forEach(function (adjust) {\n        var adjustCfg = __assign({\n          xField: xField_1,\n          yField: yField_1\n        }, adjust);\n\n        var type = adjust.type;\n\n        if (type === 'dodge') {\n          var adjustNames = [];\n\n          if (xScale_1.isCategory || xScale_1.isIdentity) {\n            adjustNames.push('x');\n          } else if (!yScale_1) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n\n          adjustCfg.adjustNames = adjustNames;\n          adjustCfg.dodgeRatio = _this.get('widthRatio').column;\n        } else if (type === 'stack') {\n          var coord = _this.get('coord');\n\n          if (!yScale_1) {\n            // 一维的情况下获取高度和默认size\n            adjustCfg.height = coord.getHeight();\n            var size = _this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          } // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n\n\n          if (!coord.isTransposed && _.isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n\n        var adjustCtor = getAdjust(type);\n        var adjustInstance = new adjustCtor(adjustCfg);\n        result = adjustInstance.process(result);\n\n        if (type === 'stack' && yScale_1) {\n          _this._updateStackRange(yField_1, yScale_1, result);\n        }\n      });\n    }\n\n    return result;\n  }; // 获取 element 对应 shape 的工厂对象\n\n\n  Element.prototype._getShapeFactory = function () {\n    var shapeFactory = this.get('shapeFactory');\n\n    if (!shapeFactory) {\n      var shapeType = this.get('shapeType');\n      shapeFactory = getShapeFactory(shapeType);\n      this.set('shapeFactory', shapeFactory);\n    }\n\n    return shapeFactory;\n  }; // 生成 shape 的关键点\n\n\n  Element.prototype._generatePoints = function (data) {\n    var shapeFactory = this._getShapeFactory();\n\n    var shapeAttr = this.getAttr('shape');\n\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var obj = data[i];\n      var cfg = this.createShapePointsCfg(obj);\n      var shape = shapeAttr ? this.getAttrValues(shapeAttr, obj) : null;\n      var points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }; // 将数据归一化\n\n\n  Element.prototype._normalizeValues = function (values, scale) {\n    var rst = [];\n\n    if (_.isArray(values)) {\n      for (var i = 0, len = values.length; i < len; i += 1) {\n        var v = values[i];\n        rst.push(scale.scale(v));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n\n    return rst;\n  }; // 将数据映射至图形空间前的操作：排序以及关键点的生成\n\n\n  Element.prototype._beforeMapping = function (dataArray) {\n    var _this = this;\n\n    if (this.get('sortable')) {\n      var xScale_2 = this.getXScale();\n      var field_1 = xScale_2.field;\n\n      _.each(dataArray, function (data) {\n        data.sort(function (v1, v2) {\n          return xScale_2.translate(v1[field_1]) - xScale_2.translate(v2[field_1]); // TODO\n        });\n      });\n    }\n\n    if (this.get('generatePoints')) {\n      _.each(dataArray, function (data) {\n        _this._generatePoints(data);\n      });\n\n      _.each(dataArray, function (data, index) {\n        var nextData = dataArray[index + 1];\n\n        if (nextData) {\n          data[0].nextPoints = nextData[0].points;\n        }\n      });\n    }\n  }; // 将数据映射至图形空间\n\n\n  Element.prototype._mapping = function (data) {\n    var attrs = this.get('attrs');\n    var mappedData = [];\n\n    for (var i = 0, len = data.length; i < len; i += 1) {\n      var record = data[i];\n      var newRecord = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints\n      };\n\n      for (var k in attrs) {\n        if (attrs.hasOwnProperty(k)) {\n          var attr = attrs[k];\n          var names = attr.names;\n          var values = this.getAttrValues(attr, record);\n\n          if (names.length > 1) {\n            // position 之类的生成多个字段的属性\n            for (var j = 0; j < values.length; j += 1) {\n              var val = values[j];\n              var name_1 = names[j];\n              newRecord[name_1] = _.isArray(val) && val.length === 1 ? val[0] : val; // 只有一个值时返回第一个属性值\n            }\n          } else {\n            // newRecord[names[0]] = values.length === 1 ? values[0] : values;\n            // FIXME: 目前只有 color 通道是受 attr 结果统一为数组的影响的，暂时这么调整\n            if (values.length === 1 || names[0] === 'color') {\n              newRecord[names[0]] = values[0];\n            } else {\n              newRecord[names[0]] = values;\n            }\n          }\n        }\n      }\n\n      this._convertPoint(newRecord); // 将 x、y 转换成画布坐标\n\n\n      mappedData.push(newRecord);\n    }\n\n    return mappedData;\n  }; // 将归一化的坐标值转换成画布坐标\n\n\n  Element.prototype._convertPoint = function (mappedRecord) {\n    var x = mappedRecord.x,\n        y = mappedRecord.y;\n\n    if (_.isNil(x) || _.isNil(y)) {\n      return;\n    }\n\n    var rstX;\n    var rstY;\n    var obj;\n    var coord = this.get('coord');\n\n    if (_.isArray(y) && _.isArray(x)) {\n      rstX = [];\n      rstY = [];\n\n      for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coord.convertPoint({\n          x: x[i],\n          y: y[j]\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (_.isArray(y)) {\n      rstY = [];\n      y.forEach(function (yVal) {\n        obj = coord.convertPoint({\n          x: x,\n          y: yVal\n        });\n\n        if (rstX && rstX !== obj.x) {\n          if (!_.isArray(rstX)) {\n            rstX = [rstX];\n          }\n\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n\n        rstY.push(obj.y);\n      });\n    } else if (_.isArray(x)) {\n      rstX = [];\n      x.forEach(function (xVal) {\n        obj = coord.convertPoint({\n          x: xVal,\n          y: y\n        });\n\n        if (rstY && rstY !== obj.y) {\n          if (!_.isArray(rstY)) {\n            rstY = [rstY];\n          }\n\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n\n        rstX.push(obj.x);\n      });\n    } else {\n      var point = coord.convertPoint({\n        x: x,\n        y: y\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n\n    mappedRecord.x = rstX;\n    mappedRecord.y = rstY;\n  }; // 获取 style 配置\n\n\n  Element.prototype._getStyleCfg = function (styleOptions, origin) {\n    var _a = styleOptions.fields,\n        fields = _a === void 0 ? [] : _a,\n        callback = styleOptions.callback,\n        cfg = styleOptions.cfg;\n\n    if (cfg) {\n      // 用户直接配置样式属性\n      return cfg;\n    }\n\n    var params = fields.map(function (field) {\n      return origin[field];\n    });\n    return callback.apply(void 0, params);\n  }; // 对数据进行排序\n\n\n  Element.prototype._sort = function (mappedArray) {\n    var xScale = this.getXScale();\n    var xField = xScale.field;\n\n    _.each(mappedArray, function (itemArr) {\n      itemArr.sort(function (obj1, obj2) {\n        return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n      });\n    });\n\n    this.set('dataArray', mappedArray);\n  };\n\n  return Element;\n}(Base);\n\nexport default Element;","import * as _ from '@antv/util';\nvar EVENT_TYPES = ['start', 'process', 'end', 'reset'];\n\nvar Interaction =\n/** @class */\nfunction () {\n  function Interaction(cfg) {\n    var defaultCfg = this._getDefaultCfg();\n\n    _.assign(this, defaultCfg, cfg);\n\n    this.canvas = this.view.get('canvas');\n    this._eventHandlers = [];\n\n    this._bindEvents();\n  }\n\n  Interaction.prototype._getDefaultCfg = function () {\n    return {\n      startEvent: 'mousedown',\n      processEvent: 'mousemove',\n      endEvent: 'mouseup',\n      resetEvent: 'dblclick'\n    };\n  };\n\n  Interaction.prototype._start = function (ev) {\n    this.preStart(ev);\n    this.start(ev);\n    this.afterStart(ev);\n  };\n\n  Interaction.prototype.preStart = function (ev) {};\n\n  Interaction.prototype.start = function (ev) {};\n\n  Interaction.prototype.afterStart = function (ev) {};\n\n  Interaction.prototype._process = function (ev) {\n    this.preProcess(ev);\n    this.process(ev);\n    this.afterProcess(ev);\n  };\n\n  Interaction.prototype.preProcess = function (ev) {};\n\n  Interaction.prototype.process = function (ev) {};\n\n  Interaction.prototype.afterProcess = function (ev) {};\n\n  Interaction.prototype._end = function (ev) {\n    this.preEnd(ev);\n    this.end(ev);\n    this.afterEnd(ev);\n  };\n\n  Interaction.prototype.preEnd = function (ev) {};\n\n  Interaction.prototype.end = function (ev) {};\n\n  Interaction.prototype.afterEnd = function (ev) {};\n\n  Interaction.prototype._reset = function (ev) {\n    this.preReset(ev);\n    this.reset(ev);\n    this.afterReset(ev);\n  };\n\n  Interaction.prototype.preReset = function (ev) {};\n\n  Interaction.prototype.reset = function (ev) {};\n\n  Interaction.prototype.afterReset = function (ev) {};\n\n  Interaction.prototype._bindEvents = function () {\n    var _this = this;\n\n    _.each(EVENT_TYPES, function (type) {\n      var eventName = _this[type + \"Event\"];\n\n      var handler = _.wrapBehavior(_this, \"_\" + type);\n\n      _this.view.on(eventName, handler);\n\n      _this._eventHandlers.push({\n        type: eventName,\n        handler: handler\n      });\n    });\n  };\n\n  Interaction.prototype._unbindEvents = function () {\n    var _this = this;\n\n    var eventHandlers = this._eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      _this.view.off(eh.type, eh.handler);\n    });\n  };\n\n  Interaction.prototype.destroy = function () {\n    this._unbindEvents();\n\n    this._reset();\n  };\n\n  return Interaction;\n}();\n\nexport default Interaction;","export var INTERACTION_MAP = {};\nexport var getInteraction = function getInteraction(type) {\n  return INTERACTION_MAP[type];\n};\nexport var registerInteraction = function registerInteraction(type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getInteraction(type)) {\n    throw new Error(\"Interaction type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  INTERACTION_MAP[type] = ctor;\n};","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from '../base';\nimport Global from '../global';\nimport Animate from '../animate';\nimport ScaleController from './controller/scale';\nimport CoordController from './controller/coordinate';\nimport AnnController from './controller/annotation';\nimport LegendController from './controller/legend';\nimport AxisController from './controller/axis';\nimport TooltipController from './controller/tooltip';\nimport ShapeStateController from './controller/shape-state';\nimport EventController from './controller/event';\nimport { getTheme } from '../theme';\nimport { getFacet } from '../facet';\nimport { getElement } from '../element';\nimport { getInteraction } from '../interaction';\nimport { BBox } from '@antv/g';\nimport { parsePadding } from '../util'; // 判断极坐标是否是一个整圆\n\nfunction isFullCircle(coord) {\n  if (coord.isPolar) {\n    var startAngle = coord.startAngle,\n        endAngle = coord.endAngle;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n\n  return false;\n}\n\nvar FIELD_ORIGIN = '_origin'; // TODO maintaining options\n\nvar View =\n/** @class */\nfunction (_super) {\n  __extends(View, _super);\n\n  function View(cfg) {\n    var _this = _super.call(this, __assign({\n      animate: Global.animate,\n      widthRatio: Global.widthRatio,\n      canvas: null,\n      container: null,\n      coord: null,\n      elements: [],\n      guideController: null,\n      id: _.uniqueId('view_'),\n      options: {},\n      padding: Global.theme.padding,\n      parent: null,\n      scaleController: null,\n      scales: {},\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: 1,\n        y: 1\n      },\n      width: null,\n      height: null,\n      theme: null,\n      title: null,\n      views: [],\n      visible: true,\n      backgroundStyle: {},\n      interactions: {}\n    }, cfg)) || this;\n\n    _this.init();\n\n    return _this;\n  }\n\n  View.prototype.axis = function (field, cfg) {\n    var options = this.get('options') || {};\n\n    if (field === false) {\n      options.axes = false;\n\n      _.set(options, 'axes', false);\n    } else if (_.isObject(field)) {\n      _.set(options, ['axes', 'fields'], field);\n    } else if (_.isString(field)) {\n      _.set(options, ['axes', 'fields', field], cfg);\n    } else {\n      _.set(options, 'axes', cfg);\n    }\n\n    return this;\n  }; // TODO: 图表标题配置\n\n\n  View.prototype.title = function (options) {};\n\n  View.prototype.tooltip = function (visible, cfg) {\n    var options = this.get('options');\n\n    if (!options.tooltip) {\n      options.tooltip = {};\n    }\n\n    if (visible === false) {\n      options.tooltip = false;\n    } else if (_.isObject(visible)) {\n      _.mix(options.tooltip, visible);\n    } else {\n      _.mix(options.tooltip, cfg);\n    }\n\n    return this;\n  };\n\n  View.prototype.legend = function (field, cfg) {\n    var options = this.get('options');\n\n    if (field === false) {\n      // 整体关闭图例\n      _.set(options, 'legends', false);\n    } else if (_.isObject(field)) {\n      // 全局配置图例\n      _.set(options, 'legends', field);\n    } else if (_.isString(field)) {\n      _.set(options, ['legends', 'fields', field], cfg);\n    } else {\n      _.set(options, 'legends', cfg);\n    }\n\n    return this;\n  }; // 静态标注\n\n\n  View.prototype.annotation = function () {\n    return this.get('annotationController');\n  }; // data\n  // 更新数据\n\n\n  View.prototype.changeData = function (data) {\n    this.emit('beforechangedata');\n    this.set('data', data);\n\n    this._initData();\n\n    this.emit('afterchangedata');\n    this.repaint();\n    return this;\n  }; // 加载数据\n\n\n  View.prototype.data = function (data) {\n    this.set('data', data);\n\n    this._initData();\n\n    return this;\n  };\n\n  View.prototype.scale = function (field, cfg) {\n    var options = this.get('options');\n    var scaleDefs = options.scales;\n\n    if (_.isObject(field)) {\n      _.mix(scaleDefs, field);\n    } else {\n      scaleDefs[field] = cfg;\n    }\n\n    return this;\n  }; // 过滤需要绘制的数据，但是不会改变传入的数据源，如果存在对应的图例，则过滤掉的字段置灰\n\n\n  View.prototype.filter = function (field, condition) {\n    var options = this.get('options');\n\n    if (!options.filters) {\n      options.filters = {};\n    }\n\n    options.filters[field] = condition;\n    return this;\n  };\n\n  View.prototype.coordinate = function (type, cfg) {\n    var coordController = this.get('coordController');\n\n    if (_.isObject(type)) {\n      coordController.reset(type);\n    } else {\n      coordController.reset({\n        type: type,\n        cfg: cfg\n      });\n    }\n\n    return coordController;\n  };\n  /**\n   * 创建新的子 view\n   * @param cfg\n   */\n\n\n  View.prototype.createView = function (cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    } // view 中已有的子 views 数组\n\n\n    var views = this.get('views');\n\n    var newCfg = __assign({\n      theme: this.get('theme'),\n      parent: this,\n      container: this.get('panelGroup'),\n      canvas: this.get('canvas'),\n      animate: this.get('animate')\n    }, cfg); // options 中的配置\n\n\n    newCfg.options = _.mix({}, this._getSharedOptions(), cfg.options);\n    var view = new View(newCfg);\n    view.set('id', _.uniqueId('view_')); // 标识 ID，防止同用户设定的 id 重名\n\n    views.push(view);\n    this.emit('addview', {\n      view: view\n    });\n    return view;\n  };\n  /**\n   * 移除 view\n   * @param view\n   */\n\n\n  View.prototype.removeView = function (view) {\n    var views = this.get('views');\n\n    _.pull(views, view);\n\n    view.destroy();\n  };\n  /**\n   * 分面操作\n   * @param option\n   */\n\n\n  View.prototype.facet = function (option) {\n    // 先销毁掉之前的分面\n    var preFacet = this.get('facet');\n    if (preFacet) preFacet.destroy(); // 创建新的分面\n\n    var type = _.get(option, 'type');\n\n    var ctor = getFacet(type);\n    if (!ctor) throw new Error(\"facet '\" + type + \"' is not exist!\");\n    this.set('facet', new ctor(this, option));\n  };\n  /**\n   * 配置动画参数\n   * @param enable\n   */\n\n\n  View.prototype.animate = function (enable) {\n    var options = this.get('options');\n    options.animate = enable;\n    this.set('animate', enable);\n    return this;\n  };\n\n  View.prototype.render = function (stopDrawing) {\n    this._clearInner();\n\n    this.emit('beforerender');\n\n    this._beforeRender();\n\n    this.emit('beforedraw');\n\n    this._drawGuides();\n\n    this._drawElements(); // 渲染 facet\n\n\n    this._renderFacet(); // TODO children\n\n\n    if (this.get('views').length) {\n      _.each(this.get('views'), function (view) {\n        view.render(stopDrawing);\n      });\n    }\n\n    this._addBackShape();\n\n    this._canvasDraw(stopDrawing);\n\n    this.emit('afterdraw');\n    this.emit('afterrender');\n    this.set('rendered', true);\n    return this;\n  };\n\n  View.prototype.changeVisible = function (visible, stopDrawing) {\n    _.each(this.get('elements'), function (element) {\n      element.changeVisible(visible, true);\n    });\n\n    this.get('container').set('visible', visible);\n    var annotationController = this.get('annotationController');\n    annotationController && annotationController.changeVisible(visible);\n    var axisController = this.get('axisController');\n    axisController && axisController.changeVisible(visible);\n\n    if (!stopDrawing) {\n      this.get('canvas').draw();\n    }\n  };\n\n  View.prototype.isShapeInView = function (shape) {\n    var id = this.get('id');\n    var shapeViewId = shape.get('viewId');\n\n    if (shapeViewId) {\n      return shapeViewId === id;\n    }\n\n    {\n      var container = this.get('container');\n      var parent_1 = shape.get('parent');\n\n      while (parent_1) {\n        if (parent_1 === container) {\n          shape.set('viewId', this.get('id'));\n          return true;\n        }\n\n        parent_1 = parent_1.get('parent');\n      }\n    }\n    return false;\n  };\n\n  View.prototype.isPointInView = function (point) {\n    var viewRange = this.get('viewRange');\n\n    if (point.x > viewRange.minX && point.x < viewRange.maxX && point.y > viewRange.minY && point.y < viewRange.maxY) {\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * 获取 x 轴的度量\n   */\n\n\n  View.prototype.getXScale = function () {\n    var elements = this.get('elements');\n\n    if (elements.length) {\n      return elements[0].getXScale();\n    }\n\n    return null;\n  };\n  /**\n   * 获取 y 轴所有的度量\n   */\n\n\n  View.prototype.getYScales = function () {\n    var elements = this.get('elements');\n    var yScales = [];\n    elements.forEach(function (element) {\n      var yScale = element.getYScale();\n\n      if (yScale && _.indexOf(yScales, yScale) === -1) {\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  };\n  /**\n   * 获取原始数据对应的画布坐标\n   * @param data 原始数据\n   */\n\n\n  View.prototype.getXY = function (data) {\n    var coord = this.get('coord');\n\n    var xScales = this._getScales('x');\n\n    var yScales = this._getScales('y');\n\n    var x;\n    var y;\n\n    for (var field in data) {\n      if (xScales[field]) {\n        x = xScales[field].scale(data[field]);\n      }\n\n      if (yScales[field]) {\n        y = yScales[field].scale(data[field]);\n      }\n    }\n\n    if (!_.isNil(x) && !_.isNil(y)) {\n      return coord.convert({\n        x: x,\n        y: y\n      });\n    }\n\n    return null;\n  };\n  /**\n   * 根据传入的坐标展示该点对应的 tooltip 内容\n   * @param point 画布坐标\n   */\n\n\n  View.prototype.showTooltip = function (point) {\n    var tooltipController = this.get('tooltipController');\n    tooltipController.showTooltip(point, this);\n    return this;\n  };\n  /**\n   * 隐藏 tooltip\n   */\n\n\n  View.prototype.hideTooltip = function () {\n    var tooltipController = this.get('tooltipController');\n    tooltipController.hideTooltip();\n    return this;\n  };\n  /**\n   * 根据传入的画布坐标，获取该处的 tooltip 上的记录信息\n   * @param point 画布坐标点\n   */\n\n\n  View.prototype.getTooltipItems = function (point) {\n    var rst = []; // const elements = this.get('elements');\n\n    var elements = this.getElements();\n\n    _.each(elements, function (element) {\n      var dataArray = element.get('dataArray');\n      var items = [];\n\n      _.each(dataArray, function (data) {\n        var tmpPoint = element.findPoint(point, data);\n\n        if (tmpPoint) {\n          var subItems = element.getTooltipItems(tmpPoint);\n          items = items.concat(subItems);\n        }\n      });\n\n      rst = rst.concat(items);\n    });\n\n    return rst;\n  }; // lifecycle\n\n\n  View.prototype.init = function () {\n    this._initTheme();\n\n    this._initLayers();\n\n    this.initRegion();\n\n    this._initOptions();\n\n    this._initControllers();\n\n    this._bindEvents();\n\n    if (this.get('data')) {\n      this._initData();\n    }\n  };\n\n  View.prototype.destroy = function () {\n    this._clearEvents();\n\n    this.off(); // events\n\n    this.clear(); // UI, models, etc.\n\n    this.clearAllInteractions(); // clearAllInteractions需要在_destroyViewGroups前面，因为某些interaction依赖group\n\n    this._destroyViewGroups();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  View.prototype.clear = function () {\n    this.set('isUpdate', false);\n\n    this._clearInner();\n\n    this._destroyElements();\n\n    return this;\n  };\n  /**\n   * 清空并重绘\n   */\n\n\n  View.prototype.repaint = function () {\n    this.set('isUpdate', true); // 标识符，用于更新动画\n    // this._clearInner();\n\n    this.render();\n    return this;\n  };\n  /* 还有其他的一些 view 数据获取的方法 */\n\n  /**\n   * 深度遍历所有的 shape，执行回调函数\n   * @param fn 回调函数包含参数：record,shape,element,view\n   * @return view 当前视图\n   */\n\n\n  View.prototype.eachShape = function (fn) {\n    var _this = this;\n\n    var views = this.get('views');\n    var canvas = this.get('canvas'); // 先深度遍历 views\n\n    _.each(views, function (view) {\n      view.eachShape(fn);\n    }); // 在遍历当前 view 中的 elements\n\n\n    var elements = this.get('elements');\n\n    _.each(elements, function (element) {\n      // 遍历每一个 shape\n      var shapes = element.getShapes();\n\n      _.each(shapes, function (shape) {\n        var origin = shape.get('origin');\n\n        if (_.isArray(origin)) {\n          var arr = origin.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n          });\n          fn(arr, shape, element, _this);\n        } else {\n          var obj = origin[FIELD_ORIGIN];\n          fn(obj, shape, element, _this);\n        }\n      });\n    });\n\n    canvas.draw();\n    return this;\n  };\n  /**\n   * 获得所有的 element，\n   * @param recursive 是否递归获取，默认为 false\n   */\n\n\n  View.prototype.getElements = function (recursive) {\n    if (recursive === void 0) {\n      recursive = false;\n    }\n\n    var elements = __spreadArrays(this.get('elements'));\n\n    if (recursive) {\n      var views = this.get('views');\n\n      _.each(views, function (view) {\n        elements = elements.concat(view.getElements(recursive));\n      });\n    }\n\n    return elements;\n  };\n  /**\n   * 获取过滤后的值（需要显示的值）\n   * @param field 度量\n   * @return  滤后的值\n   */\n\n\n  View.prototype.getFilteredValues = function (field) {\n    var scale = this.get('scales')[field];\n    var values = scale.values;\n\n    var filters = this._getFilters();\n\n    var rst;\n\n    if (filters && filters[field]) {\n      rst = values.filter(filters[field]);\n    } else {\n      rst = values.slice(0);\n    }\n\n    return rst;\n  };\n  /**\n   * 获取被过滤的值（不需显示的值）\n   * @param field 度量\n   * @return 滤出的值\n   */\n\n\n  View.prototype.getFilteredOutValues = function (field) {\n    var scale = this.get('scales')[field];\n    var values = scale.values;\n\n    var filters = this._getFilters();\n\n    var rst;\n\n    if (filters && filters[field]) {\n      rst = values.filter(function (v) {\n        return !filters[field](v);\n      });\n    } else {\n      rst = [];\n    }\n\n    return rst;\n  };\n  /**\n   * 设置图形active状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setActive = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('active', exp, draw);\n    return this;\n  };\n  /**\n   * 设置图形selected状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setSelected = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('selected', exp, draw);\n    return this;\n  };\n  /**\n   * 设置图形inactive状态量\n   * @param exp 状态量的值\n   * @param draw 是否触发canvas重绘\n   */\n\n\n  View.prototype.setInactive = function (exp, draw) {\n    if (draw === void 0) {\n      draw = true;\n    }\n\n    var shapeStateController = this.get('shapeStateController');\n    shapeStateController.setState('inactive', exp, draw);\n    return this;\n  };\n\n  View.prototype.clearAllInteractions = function () {\n    var interactions = this.get('interactions');\n\n    _.each(interactions, function (interaction, key) {\n      interaction.destroy();\n      delete interactions[key];\n    });\n\n    return this;\n  };\n\n  View.prototype.clearInteraction = function (type) {\n    var interactions = this.get('interactions');\n\n    if (interactions[type]) {\n      interactions[type].destroy();\n      delete interactions[type];\n    }\n\n    return this;\n  };\n\n  View.prototype.interaction = function (type, cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    cfg.view = this;\n    var Ctor = getInteraction(type);\n    var interaction = new Ctor(cfg);\n\n    this._setInteraction(type, interaction);\n\n    return this;\n  }; // private / protected methods\n  // if facet exist, render it.\n\n\n  View.prototype._renderFacet = function () {\n    var facet = this.get('facet');\n    if (facet) facet.render();\n  };\n  /* 获得可以共享给子 view 的配置信息\n   * @private\n   */\n\n\n  View.prototype._getSharedOptions = function () {\n    var options = this.get('options');\n    var scales = options.scales,\n        coord = options.coord,\n        axes = options.axes;\n    return {\n      scales: scales,\n      coord: coord,\n      axes: axes\n    };\n  };\n\n  View.prototype._getFilters = function () {\n    var options = this.get('options');\n    return options.filters;\n  }; // TODO 在 extend 之前，保留 private，如果 Plot 类有调用，再改为 protected\n\n\n  View.prototype._initTheme = function () {\n    var theme = this.get('theme');\n    var viewTheme = {};\n    var newTheme = {};\n\n    if (_.isObject(theme)) {\n      newTheme = theme;\n    } else if (_.isString(theme)) {\n      newTheme = getTheme(theme);\n    }\n\n    _.deepMix(viewTheme, Global.theme, newTheme);\n\n    this.set('theme', viewTheme);\n  };\n\n  View.prototype._bindEvents = function () {\n    var eventController = this.get('eventController');\n    eventController.bindEvents();\n  };\n\n  View.prototype._clearEvents = function () {\n    var eventController = this.get('eventController');\n    eventController.clearEvents();\n  };\n\n  View.prototype._initLayers = function () {\n    var container = this.get('container');\n    var backgroundGroup = container.addGroup({\n      name: 'backgroundGroup',\n      zIndex: 0,\n      viewId: this.get('id')\n    });\n    var panelGroup = container.addGroup({\n      name: 'panelGroup',\n      zIndex: 1,\n      viewId: this.get('id')\n    });\n    var frontgroundGroup = container.addGroup({\n      name: 'frontgroundGroup',\n      zIndex: 2\n    });\n    this.set('frontgroundGroup', frontgroundGroup);\n    this.set('backgroundGroup', backgroundGroup);\n    this.set('panelGroup', panelGroup);\n  }; // 生成 view 以及绘图区域的范围\n\n\n  View.prototype.initRegion = function () {\n    // TODO: AutoPadding 场景\n    var _a = this.get('start'),\n        startX = _a.x,\n        startY = _a.y;\n\n    var _b = this.get('end'),\n        endX = _b.x,\n        endY = _b.y;\n\n    var parent = this.get('parent');\n\n    if (parent) {\n      var _c = parent.get('panelRange'),\n          width = _c.width,\n          height = _c.height,\n          tl = _c.tl; // 判断 start 和 end 是像素值还是 0 - 1 范围的数据\n\n\n      if (endX - startX <= 1) {\n        // 0 -1 返回的数据，将其转换为像素值\n        startX *= width;\n        startY *= height;\n        endX *= width;\n        endY *= height;\n      }\n\n      startX += tl.x;\n      endX += tl.x;\n      startY += tl.y;\n      endY += tl.y;\n    } else if (endX - startX <= 1) {\n      var width = this.get('width');\n      var height = this.get('height');\n      startX *= width;\n      startY *= height;\n      endX *= width;\n      endY *= height;\n    } // else {\n    //   startX = 0;\n    //   startY = 0;\n    //   endX = this.get('width');\n    //   endY = this.get('height');\n    // }\n\n\n    var viewWidth = endX - startX;\n    var viewHeight = endY - startY;\n    this.set('viewRange', new BBox(startX, startY, viewWidth, viewHeight)); // 获取子 view 整体范围（包含坐标轴）\n\n    var padding = parsePadding(this.get('padding'));\n    var top = padding[0],\n        right = padding[1],\n        bottom = padding[2],\n        left = padding[3];\n    var panelRange = new BBox(startX + left, startY + top, viewWidth - left - right, viewHeight - top - bottom);\n    this.set('panelRange', panelRange); // 获取子 view 绘图区域范围，即 elements 绘图范围\n  };\n\n  View.prototype._initData = function () {// now do nothing here.\n  };\n\n  View.prototype._initOptions = function () {\n    var _this = this;\n\n    var options = _.mix({}, this.get('options')); // shadow copy\n\n\n    if (!options.scales) {\n      options.scales = {};\n    }\n\n    if (!options.coord) {\n      options.coord = {};\n    } // animate 默认为 true，只有显示设置为 false 的时候，才为 false\n\n\n    if (!_.isUndefined(options.animate)) {\n      this.set('animate', !!options.animate);\n    } // TODO guides, annotations\n\n\n    if (options.elements && options.elements.length) {\n      _.each(options.elements, function (cfg) {\n        _this._createElement(cfg);\n      });\n    }\n\n    var scaleController = this.get('scaleController');\n\n    if (scaleController) {\n      scaleController.defs = options.scales;\n    }\n\n    var coordController = this.get('coordController');\n\n    if (coordController) {\n      coordController.reset(options.coord);\n    }\n\n    this.set('options', options);\n  };\n\n  View.prototype._drawGuides = function () {\n    if (!this.get('keepLegend')) {\n      this._renderLegend();\n    }\n\n    this._renderAnnotations();\n\n    this._renderAxes();\n\n    this._renderTooltip();\n  };\n\n  View.prototype._renderAxes = function () {\n    var options = this.get('options');\n    var axesOptions = options.axes;\n\n    if (axesOptions === false) {\n      return; // 不渲染\n    }\n\n    var axisController = this.get('axisController'); // 如果直接传入 this.get('backgroundGroup')，当调用 axisController.clear() 时，会将 annotationController 创建的 backgroundGroup 销毁\n\n    axisController.container = this.get('backgroundGroup').addGroup({\n      name: 'axisGroup'\n    });\n    axisController.coord = this.get('coord');\n    axisController.options = _.get(options, 'axes', {});\n    var xScale = this.getXScale();\n    var yScales = this.getYScales();\n    var viewId = this.get('id');\n    axisController.createAxis(xScale, yScales, viewId);\n  };\n\n  View.prototype._renderTooltip = function () {\n    var options = this.get('options'); // 用户没有配置 tooltip 或者未显示关闭，则进行 tooltip 的渲染\n\n    if (_.isNil(options.tooltip) || options.tooltip !== false) {\n      var tooltipController = this.get('tooltipController');\n      tooltipController.options = options.tooltip || {};\n      tooltipController.renderTooltip();\n    }\n  };\n\n  View.prototype._initControllers = function () {\n    var options = this.get('options');\n    var theme = this.get('theme');\n    var canvas = this.get('canvas');\n    var scaleController = new ScaleController(options.scales); // TODO 支持透传图表尺寸等\n\n    this.set('scaleController', scaleController);\n    var coordController = new CoordController(options.coord);\n    this.set('coordController', coordController);\n    var eventController = new EventController({\n      canvas: this.get('canvas'),\n      view: this\n    });\n    this.set('eventController', eventController);\n    var shapeStateController = new ShapeStateController({\n      view: this\n    });\n    this.set('shapeStateController', shapeStateController);\n    var legendController = new LegendController({\n      view: this\n    });\n    this.set('legendController', legendController);\n    var annotationController = new AnnController({\n      theme: this.get('theme'),\n      view: this,\n      frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n      backgroundGroup: this.get('backgroundGroup').addGroup(),\n      // @ts-ignore\n      options: options.annotations || []\n    });\n    this.set('annotationController', annotationController);\n    var axisController = new AxisController({\n      canvas: canvas,\n      theme: theme\n    });\n    this.set('axisController', axisController);\n    var tooltipController = new TooltipController({\n      view: this,\n      theme: theme\n    });\n    this.set('tooltipController', tooltipController);\n  };\n\n  View.prototype._initScale = function (field, data) {\n    if (data === void 0) {\n      data = [];\n    }\n\n    var scales = this.get('scales'); // const parent = this.get('parent');\n\n    var scale = scales[field];\n    var _data = data; // let scale = scales[field];\n    // const filteredData = this.get('filteredData'); // 过滤后的数据\n\n    var legendFields = this._getLegendFields(); // 过滤导致数据为空或者 field 字2段参与了图例生成，都使用全局数据，使图例过滤前后图形映射通道保持一致\n\n\n    if (!_data.length || legendFields.indexOf(field) !== -1) {\n      _data = this.get('data') || [];\n    }\n\n    var scaleController = this.get('scaleController');\n\n    if (!scale) {\n      scale = scaleController.createScale(field, _data); // TODO due with scale syncing, etc.\n\n      scales[field] = scale; // 存储至 scales 变量中\n    }\n\n    return scale;\n  };\n\n  View.prototype._createElement = function (cfg) {\n    var type = cfg.type;\n    var element;\n\n    if (getElement(type)) {\n      var elementCfg = __assign(__assign({}, cfg), {\n        container: this.get('panelGroup').addGroup(),\n        frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n        view: this,\n        canvas: this.get('canvas'),\n        theme: this.get('theme')\n      });\n\n      var ElementCtor = getElement(type);\n      element = new ElementCtor(elementCfg);\n\n      _.each(cfg, function (v, k) {\n        if (element[k]) {\n          element[k](v); // 只支持 options\n        }\n      });\n\n      this._addElement(element);\n    }\n  };\n\n  View.prototype._addElement = function (element) {\n    var elements = this.get('elements');\n    elements.push(element);\n    element.bindStates();\n  };\n\n  View.prototype._drawElements = function () {\n    this.emit('beforedrawelements');\n\n    _.each(this.get('elements'), function (element) {\n      element.paint();\n    });\n\n    this.emit('afterdrawelements');\n  };\n\n  View.prototype._clearElements = function () {\n    _.each(this.get('elements'), function (element) {\n      element.clear();\n    });\n  };\n\n  View.prototype._destroyElements = function () {\n    var elements = this.get('elements');\n\n    while (elements.length > 0) {\n      var element = elements.shift();\n      element.destroy();\n    }\n  };\n\n  View.prototype._clearInner = function () {\n    this.set('scales', {});\n    this.emit('beforeclearinner');\n    var options = this.get('options');\n    options.elements = [];\n\n    this._clearElements(); // clear facet\n\n\n    var facet = this.get('facet');\n    if (facet) facet.clear();\n    var annotationController = this.get('annotationController');\n    annotationController && annotationController.reset();\n    var axisController = this.get('axisController');\n    axisController && axisController.clear();\n    var tooltipController = this.get('tooltipController');\n    tooltipController && tooltipController.clear(); // 当不需要保留图例的时候，需要将图例清空，否则 legend 还会残留\n\n    if (!this.get('keepLegend')) {\n      var legendController = this.get('legendController');\n      legendController && legendController.clear();\n    } // _addBackShape() 在 render() 方法中调用，为了防止重复创建，需要清空\n\n\n    var backgroundGroup = this.get('backgroundGroup');\n    var panelGroup = this.get('panelGroup');\n    backgroundGroup.get('backShape') && backgroundGroup.get('backShape').remove();\n    panelGroup.get('backShape') && panelGroup.get('backShape').remove();\n    this.emit('afterclearinner');\n  };\n\n  View.prototype._beforeRender = function () {\n    _.each(this.get('views'), function (view) {\n      view._beforeRender();\n    });\n\n    this._initView();\n  };\n\n  View.prototype._initView = function () {\n    this._execFilters();\n\n    this._initCoord();\n\n    this.emit('beforeinitelements');\n\n    this._initElements();\n\n    this._adjustScales();\n  };\n\n  View.prototype._initCoord = function () {\n    var panelRange = this.get('panelRange');\n    var coordController = this.get('coordController');\n    var coord = coordController.createCoord(panelRange.bl, panelRange.tr);\n    this.set('coord', coord);\n  };\n\n  View.prototype._getScales = function (dim) {\n    var elements = this.get('elements');\n    return _.reduce(elements, function (result, element) {\n      var scale = dim === 'x' ? element.getXScale() : element.getYScale();\n\n      if (scale && !_.has(result, scale.field)) {\n        result[scale.field] = scale;\n      }\n\n      return result;\n    }, {});\n  };\n\n  View.prototype._initElements = function () {\n    var filteredData = this.get('filteredData');\n    var coord = this.get('coord');\n    var viewId = this.get('id');\n    var options = this.get('options');\n    var animate = this.get('animate');\n    var widthRatio = this.get('widthRatio');\n    var isShareTooltip = options.tooltip && options.tooltip.shared;\n\n    _.each(this.get('elements'), function (element, i) {\n      element.set('data', filteredData);\n      element.set('coord', coord);\n      element.set('id', viewId + \"-element-\" + i);\n      element.set('animate', animate);\n      element.set('widthRatio', _.deepMix({}, widthRatio, element.get('widthRatio')));\n      _.isBoolean(isShareTooltip) && element.set('shareTooltip', isShareTooltip);\n      element.init();\n    });\n  };\n\n  View.prototype._adjustScales = function () {\n    // 调整分类度量的 range 属性\n    this._adjustCategoryScalesRange(); // 特殊逻辑：柱状图数值轴默认从 0 开始\n\n\n    var elements = this.get('elements');\n    var scaleDefs = this.get('scaleController').defs;\n    elements.forEach(function (element) {\n      if (element.get('type') === 'interval') {\n        var yScale = element.getYScale();\n        var field = yScale.field,\n            min = yScale.min,\n            max = yScale.max,\n            type = yScale.type; // 如果用户使用 view.scale() 自己定义了 min，则以用户的为准\n        // time 类型不做调整\n\n        if (!(scaleDefs[field] && scaleDefs[field].min) && type !== 'time') {\n          if (min > 0) {\n            yScale.change({\n              min: 0\n            });\n          } else if (max <= 0) {\n            // 当柱状图全为负值时也需要从 0 开始生长\n            yScale.change({\n              max: 0\n            });\n          }\n        }\n      }\n    });\n  }; // 调整 x y 两个维度分类度量的 range 属性\n\n\n  View.prototype._adjustCategoryScalesRange = function () {\n    var coord = this.get('coord');\n    var xScale = this.getXScale();\n    var yScales = this.getYScales();\n    var widthRatio = this.get('widthRatio');\n    var scales = [];\n    xScale && scales.push(xScale); // 一维图表没有 x 度量\n\n    scales = scales.concat(yScales);\n    var inFullCircle = isFullCircle(coord);\n    var scaleController = this.get('scaleController');\n    var scaleDefs = scaleController.defs;\n    scales.forEach(function (scale) {\n      var field = scale.field,\n          values = scale.values; // 分类或者常量度量，同时用户没有通过 view.scale() 配置 range 属性\n\n      if ((scale.isCategory || scale.isIdentity) && values && !(scaleDefs[field] && scaleDefs[field].range)) {\n        var count = values.length;\n        var range = void 0;\n\n        if (count === 1) {\n          range = [0.5, 1]; // 只有一个分类时,防止计算出现 [ 0.5,0.5 ] 的状态\n        } else {\n          var wr = 1;\n          var offset = 0;\n\n          if (inFullCircle) {\n            if (!coord.isTransposed) {\n              range = [0, 1 - 1 / count];\n            } else {\n              wr = widthRatio.multiplePie;\n              offset = 1 / count * wr;\n              range = [offset / 2, 1 - offset / 2];\n            }\n          } else {\n            offset = 1 / count * 1 / 2; // 两边留下分类空间的一半\n\n            range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n          }\n        }\n\n        scale.range = range;\n      }\n    });\n  }; // 过滤数据\n\n\n  View.prototype._execFilters = function () {\n    var data = this.get('data');\n    var result = this.get('data') || [];\n\n    var filters = this._getFilters();\n\n    if (filters) {\n      result = result.filter(function (obj) {\n        var rst = true;\n\n        _.each(filters, function (callback, field) {\n          if (callback) {\n            rst = callback(obj[field], obj);\n\n            if (!rst) {\n              return false;\n            }\n          }\n        });\n\n        return rst;\n      });\n    }\n\n    this.set('filteredData', result);\n  };\n\n  View.prototype._addBackShape = function () {\n    // TODO：再飞，有没有更好的办法？\n    // add backgroundGroup backShape\n    var backgroundGroup = this.get('backgroundGroup');\n    var viewRange = this.get('viewRange');\n    var backShapeAttrs = {\n      x: viewRange.x,\n      y: viewRange.y,\n      width: viewRange.width,\n      height: viewRange.height,\n      fill: 'rgba(255,255,255,0)'\n    };\n\n    var backgroundStyle = _.mix(this.get('theme').backgroundStyle, this.get('backgroundStyle'));\n\n    var backgroundBackShape = backgroundGroup.addShape('rect', {\n      attrs: _.mix(backShapeAttrs, backgroundStyle),\n      zIndex: -1\n    });\n    backgroundGroup.set('backShape', backgroundBackShape);\n    backgroundGroup.sort(); // add panelGroup backShape\n\n    var panelGroup = this.get('panelGroup');\n    var panelRange = this.get('panelRange');\n    var panelBackShape = panelGroup.addShape('rect', {\n      attrs: {\n        x: panelRange.x,\n        y: panelRange.y,\n        width: panelRange.width,\n        height: panelRange.height,\n        fill: 'rgba(255,255,255,0)'\n      },\n      zIndex: -1\n    });\n    panelGroup.set('backShape', panelBackShape);\n    panelGroup.sort();\n  };\n\n  View.prototype._destroyViewGroups = function () {\n    this.get('frontgroundGroup').remove();\n    this.get('backgroundGroup').remove();\n    this.get('panelGroup').remove();\n    this.set('frontgroundGroup', null);\n    this.set('backgroundGroup', null);\n    this.set('panelGroup', null);\n  };\n\n  View.prototype._canvasDraw = function (stopDrawing) {\n    var canvas = this.get('canvas');\n\n    if (!stopDrawing) {\n      var views = this.get('views'); // sorting\n\n      if (this.get('animate')) {\n        // start animation\n        var isUpdate_1 = this.get('isUpdate');\n\n        _.each(views, function (view) {\n          Animate.execAnimation(view, isUpdate_1);\n        });\n\n        Animate.execAnimation(this, isUpdate_1);\n        canvas.draw();\n      } else {\n        canvas.draw();\n      }\n    }\n  };\n\n  View.prototype._renderLegend = function () {\n    var legendController = this.get('legendController');\n    legendController.render();\n  };\n\n  View.prototype._renderAnnotations = function () {\n    var coord = this.get('coord');\n    var annotationController = this.get('annotationController');\n    annotationController.xScales = this._getScales('x');\n    annotationController.yScales = this._getScales('y');\n    annotationController.render(coord);\n  };\n\n  View.prototype._getLegendFields = function () {\n    var fields = [];\n    var elements = this.get('elements');\n    elements.forEach(function (element) {\n      var elementFields = element.getLegendFields();\n      fields = fields.concat(elementFields);\n    });\n    return _.uniq(fields);\n  }; // interaction相关\n\n\n  View.prototype._setInteraction = function (type, interaction) {\n    var interactions = this.get('interactions');\n\n    if (interactions[type]) {\n      interactions[type].destroy();\n    }\n\n    interactions[type] = interaction;\n  };\n\n  return View;\n}(Base);\n\nexport default View; // TODO mixin element methods\n\nexport var registerViewPrototype = function registerViewPrototype(key, Ctor) {\n  View.prototype[key] = function (cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    cfg.view = this;\n    cfg.theme = this.get('theme');\n    cfg.container = this.get('panelGroup').addGroup();\n    cfg.frontgroundGroup = this.get('frontgroundGroup').addGroup();\n    cfg.canvas = this.get('canvas');\n    var element = new Ctor(cfg);\n\n    this._addElement(element);\n\n    return element;\n  };\n};","import * as _ from '@antv/util';\n/**\n * 解析 padding 格式为标准的上、右、下、左格式\n * @param padding 内边距，可以是数组、数字或者 'auto'\n */\n\nexport function parsePadding(padding) {\n  var top;\n  var left;\n  var right;\n  var bottom;\n\n  if (_.isNumber(padding) || _.isString(padding)) {\n    top = left = right = bottom = padding;\n  } else if (_.isArray(padding)) {\n    top = padding[0];\n    right = !_.isNil(padding[1]) ? padding[1] : padding[0];\n    bottom = !_.isNil(padding[2]) ? padding[2] : padding[0];\n    left = !_.isNil(padding[3]) ? padding[3] : right;\n  }\n\n  return [top, right, bottom, left];\n}","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Global from '../global';\nimport View from './view';\n\nvar Plot =\n/** @class */\nfunction (_super) {\n  __extends(Plot, _super);\n\n  function Plot(cfg) {\n    return _super.call(this, __assign({\n      containerDOM: null,\n      containerId: null,\n      width: Global.width,\n      height: Global.height,\n      pixelRatio: Global.pixelRatio,\n      renderer: Global.renderer,\n      forceFit: false\n    }, cfg)) || this;\n  }\n\n  Plot.prototype.init = function () {\n    this.set('id', _.uniqueId('chart'));\n\n    this._initCanvas();\n\n    this._initEvents();\n\n    _super.prototype.init.call(this);\n  };\n  /**\n   * 修改画布的大小，用于外部做自适应\n   * @param width\n   * @param height\n   * @param autoRender\n   */\n\n\n  Plot.prototype.changeSize = function (width, height, autoRender) {\n    if (autoRender === void 0) {\n      autoRender = true;\n    }\n\n    var canvas = this.get('canvas');\n    canvas.changeSize(width, height); // 设置宽高之后，重新计算 region 大小（viewRange、panelRange）\n\n    this.set('width', width);\n    this.set('height', height);\n    this.initRegion();\n\n    if (autoRender) {\n      // 重新绘制\n      this.render();\n      this.emit('afterchangesize');\n    }\n\n    return this;\n  };\n\n  Plot.prototype.render = function (stopDrawing) {\n    _super.prototype.render.call(this, stopDrawing);\n\n    this.get('canvas').draw();\n    return this;\n  };\n\n  Plot.prototype.destroy = function () {\n    window.removeEventListener('resize', _.getWrapBehavior(this, '_initForceFitEvent'));\n\n    _super.prototype.destroy.call(this);\n  };\n\n  Plot.prototype._initCanvas = function () {\n    var canvas = new Canvas({\n      containerDOM: this.get('containerDOM'),\n      containerId: this.get('containerId'),\n      width: this.get('width'),\n      height: this.get('height'),\n      renderer: this.get('renderer'),\n      pixelRatio: this.get('pixelRatio')\n    });\n    this.set('canvas', canvas);\n    this.set('container', canvas);\n\n    if (this.get('forceFit')) {\n      var container = this._getContainerDOM();\n\n      var width = domUtil.getWidth(container, this.get('width'));\n      this.set('width', width);\n    }\n  };\n\n  Plot.prototype._initEvents = function () {\n    if (this.get('forceFit')) {\n      window.addEventListener('resize', _.wrapBehavior(this, '_initForceFitEvent'));\n    }\n  };\n\n  Plot.prototype._initForceFitEvent = function () {\n    var timer = setTimeout(_.wrapBehavior(this, 'forceFit'), 200);\n    clearTimeout(this.get('resizeTimer'));\n    this.set('resizeTimer', timer);\n  };\n  /**\n   * 自适应宽度\n   * @chainable\n   * @return {Chart} 图表对象\n   */\n\n\n  Plot.prototype.forceFit = function () {\n    if (this.destroyed) {\n      return;\n    }\n\n    var container = this._getContainerDOM();\n\n    var oldWidth = this.get('width');\n    var width = domUtil.getWidth(container, oldWidth);\n\n    if (width !== 0 && width !== oldWidth) {\n      var height = this.get('height');\n      this.changeSize(width, height);\n    }\n\n    return this;\n  };\n\n  Plot.prototype._getContainerDOM = function () {\n    var container = this.get('containerDOM');\n\n    if (!_.isElement(container)) {\n      container = document.getElementById(this.get('containerId'));\n    }\n\n    return container;\n  };\n\n  return Plot;\n}(View);\n\nexport default Plot;","/**\n * 提供绘制 shape 时的一些通用方法\n */\nimport * as _ from '@antv/util';\nexport function splitPoints(obj) {\n  var points = [];\n  var x = obj.x;\n  var y = obj.y;\n  y = _.isArray(y) ? y : [y];\n\n  _.each(y, function (yItem, index) {\n    var point = {\n      x: _.isArray(x) ? x[index] : x,\n      y: yItem\n    };\n    points.push(point);\n  });\n\n  return points;\n} // rename addFillAttrs\n\nexport function setFillStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.fill = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.fillOpacity = opacity;\n  }\n} // rename addStrokeAttrs\n\nexport function setStrokeStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.stroke = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.strokeOpacity = opacity;\n  }\n}","/**\n * @description Area Element shapes\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getSplinePath, getLinePath } from '../util/path';\n\nfunction getLineAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    lineAttrs.lineWidth = cfg.size;\n  }\n\n  return lineAttrs;\n}\n\nfunction getFillAttrs(cfg) {\n  var areaAttrs = cfg.style;\n  setFillStyle(areaAttrs, cfg);\n  return areaAttrs;\n}\n\nfunction getPath(cfg, smooth, shape) {\n  var path = [];\n  var pointsArr = [];\n  var topLinePoints = []; // area 区域上部分\n\n  var bottomLinePoints = []; // area 区域下部分\n\n  var isInCircle = cfg.isInCircle;\n\n  _.each(cfg.points, function (point) {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n\n  bottomLinePoints = bottomLinePoints.reverse();\n  pointsArr.push(topLinePoints, bottomLinePoints);\n\n  _.each(pointsArr, function (pointsData, index) {\n    var subPath = [];\n    var points = shape.parsePoints(pointsData);\n    var p1 = points[0];\n\n    if (isInCircle) {\n      points.push({\n        x: p1.x,\n        y: p1.y\n      });\n    }\n\n    if (smooth) {\n      subPath = getSplinePath(points, false, cfg.constraint);\n    } else {\n      subPath = getLinePath(points, false);\n    }\n\n    if (index > 0) {\n      subPath[0][0] = 'L';\n    }\n\n    path = path.concat(subPath);\n  });\n\n  path.push(['Z']);\n  return path;\n} // TODO: 目前这个 marker 是一个矩形，不适用于 area，有以下几种解决方案：\n// 1. marker 可能需要支持 group，这样就可以恢复到之前矩形上方加一个描边\n// 2. 使用 circle marker\n// get marker style\n\n\nfunction _getMarkerAttr(markerCfg) {\n  return {\n    symbol: function symbol(x, y) {\n      return [['M', x - 5.5, y - 4], ['L', x + 5.5, y - 4], ['L', x + 5.5, y + 4], ['L', x - 5.5, y + 4], ['Z']];\n    },\n    radius: 5,\n    fill: markerCfg.color\n  };\n} // 当只有一个数据时绘制点\n\n\nfunction drawPointShape(shapeObj, cfg, container) {\n  var coord = shapeObj._coord;\n  var point = coord.convertPoint(cfg.points[0][1]);\n  return container.addShape('circle', {\n    attrs: _.mix({\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }, cfg.style)\n  });\n}\n\nvar AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n\n  /**\n   * @override\n   * @protected\n   * 计算点 如果存在多个点，分割成单个的点, 不考虑多个x对应一个y的情况\n   * 单点则补上y0点\n   */\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var x = pointInfo.x;\n    var y = pointInfo.y;\n    var y0 = pointInfo.y0;\n    y = _.isArray(y) ? y : [y0, y];\n    return y.map(function (yItem) {\n      return {\n        x: x,\n        y: yItem\n      };\n    });\n  },\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type);\n    var shapeName = shape.name;\n    var theme = this._theme;\n\n    if (theme && theme.area && theme.area[shapeName]) {\n      var defaultShapeStyle = theme.area[shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = cfg.points.length === 1 && cfg.showSinglePoint ? drawPointShape(this, cfg, container) : shape.draw(cfg, container);\n\n    if (gShape) {\n      gShape.set('origin', cfg.origin);\n      gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttr(markerCfg);\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.area && theme.area[shapeName]) {\n      markerStyle = _.mix({}, theme.area[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n}); // 默认：填充区域图\n\nregisterShape('area', 'area', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var path = getPath(cfg, false, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 填充平滑区域图\n\nregisterShape('area', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var coord = this.getCoord(); // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n    var path = getPath(cfg, true, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 封闭的折线\n\nregisterShape('area', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = getLineAttrs(cfg);\n    var path = getPath(cfg, false, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n}); // 封闭的平滑线\n\nregisterShape('area', 'smoothLine', {\n  draw: function draw(cfg, container) {\n    var attrs = getLineAttrs(cfg);\n    var path = getPath(cfg, true, this);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  }\n});\nexport default AreaShapeFactory;","import * as _ from '@antv/util';\n/**\n * 分割数据，用于处理存在 null、undefined 值的折线图、区域图\n * @param data 需要进行分割的数据\n * @param connectNulls 是否连接空值数据\n * @param field 字段名\n */\n\nexport function splitData(data, connectNulls, field) {\n  if (!data.length) return [];\n  var splitData = [];\n  var tmp = [];\n  var yValue;\n  data.forEach(function (obj) {\n    yValue = obj._origin ? obj._origin[field] : obj[field];\n\n    if (connectNulls) {\n      // 如果忽视 Null 直接连接节点，则将 value = null 的数据过滤掉\n      if (!_.isNil(yValue)) {\n        tmp.push(obj);\n      }\n    } else {\n      if (_.isArray(yValue) && _.isNil(yValue[0]) || _.isNil(yValue)) {\n        if (tmp.length) {\n          splitData.push(tmp);\n          tmp = [];\n        }\n      } else {\n        tmp.push(obj);\n      }\n    }\n  });\n  tmp.length && splitData.push(tmp);\n  return splitData;\n}","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport AreaShapeFactory from './shape/area';\nimport { splitData } from './util/split-data';\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'area',\n      shapeType: 'area',\n      generatePoints: true,\n      sortable: true,\n      connectNulls: false,\n      showSinglePoint: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', AreaShapeFactory);\n\n    return _this;\n  }\n\n  Area.prototype.draw = function (data, container, shapeFactory, index) {\n    var _this = this;\n\n    var cfg = this.getDrawCfg(data[0]);\n    var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n    cfg.origin = data; // path,line,area 等图的origin 是整个序列\n\n    _.each(splitArray, function (subData, splitedIndex) {\n      cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n\n      var points = subData.map(function (obj) {\n        return obj.points;\n      });\n      cfg.points = points;\n      var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n\n      _this.appendShapeInfo(geomShape, index + splitedIndex);\n    });\n  };\n\n  return Area;\n}(Element);\n\nexport default Area;","/**\n * @description 计算 element shape 的 size 辅助类\n */\nimport * as _ from '@antv/util'; // 已经排序后的数据查找距离最小的\n\nfunction findMinDistance(arr, scale) {\n  var count = arr.length;\n  var sourceArr = arr; // 日期类型的 values 经常上文本类型，所以需要转换一下\n\n  if (_.isString(sourceArr[0])) {\n    sourceArr = arr.map(function (v) {\n      return scale.translate(v);\n    });\n  }\n\n  var distance = sourceArr[1] - sourceArr[0];\n\n  for (var i = 2; i < count; i++) {\n    var tmp = sourceArr[i] - sourceArr[i - 1];\n\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n\n  return distance;\n}\n\nvar SizeController =\n/** @class */\nfunction () {\n  function SizeController(element) {\n    this.element = null;\n    this.element = element;\n  }\n  /**\n   * 获取数据对应的实际画布大小\n   * @param record 图形数据\n   */\n\n\n  SizeController.prototype.getSize = function (record) {\n    var size = this._getSizeValue(record);\n\n    if (_.isUndefined(size)) {\n      var defaultSize = this._getDefaultSize();\n\n      return this._toCoordinateSize(defaultSize);\n    }\n\n    return size;\n  };\n  /**\n   * 获取数据对应归一化后的 size 值\n   * @param record 图形数据\n   */\n\n\n  SizeController.prototype.getNormalizedSize = function (record) {\n    var size = this._getSizeValue(record);\n\n    if (_.isUndefined(size)) {\n      return this._getDefaultSize();\n    }\n\n    return this._toNormalizedSize(size);\n  };\n\n  SizeController.prototype.clear = function () {\n    this._defaultSize = null;\n  }; // 根据 size 图形属性对应获取数据映射后的 size 值\n\n\n  SizeController.prototype._getSizeValue = function (record) {\n    var result;\n    var element = this.element;\n    var sizeAttr = element.getAttr('size');\n\n    if (sizeAttr) {\n      result = element.getAttrValues(sizeAttr, record)[0];\n    }\n\n    return result;\n  };\n\n  SizeController.prototype._getDodgeCount = function (dataArray) {\n    var element = this.element;\n    var adjusts = element.get('adjustOptions');\n    var dodgeBy;\n\n    _.each(adjusts, function (adjust) {\n      if (adjust.type === 'dodge') {\n        dodgeBy = adjust.dodgeBy;\n        return false;\n      }\n    });\n\n    if (dodgeBy) {\n      var mergeData = _.flatten(dataArray);\n\n      var values = _.valuesOfKey(mergeData, dodgeBy);\n\n      return values.length;\n    }\n\n    return dataArray.length;\n  }; // 计算默认大小\n\n\n  SizeController.prototype._getDefaultSize = function () {\n    var widthRatio = this.element.get('widthRatio');\n    var defaultSize = this._defaultSize;\n\n    if (!defaultSize) {\n      var element = this.element;\n      var coord = element.get('coord');\n      var xScale = element.getXScale();\n      var xValues = xScale.values;\n      var dataArray = element.get('dataArray');\n      var count = xValues.length;\n\n      if (xScale.isLinear && xValues.length > 1) {\n        // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n        xValues.sort();\n        var interval = findMinDistance(xValues, xScale);\n        count = (xScale.max - xScale.min) / interval;\n\n        if (xValues.length > count) {\n          count = xValues.length;\n        }\n      }\n\n      var range = xScale.range;\n      var normalizedSize = 1 / count;\n      var wr = 1;\n\n      if (element.isInCircle()) {\n        if (coord.isTransposed && count > 1) {\n          // 极坐标下多层环图\n          wr = widthRatio.multiplePie;\n        } else {\n          wr = widthRatio.rose;\n        }\n        /* if (dataArray.length > 1) {\n          normalizedSize *= (range[1] - range[0]);\n        } */\n\n      } else {\n        if (xScale.isLinear) {\n          normalizedSize *= range[1] - range[0];\n        }\n\n        wr = widthRatio.column; // 柱状图要除以2\n      }\n\n      normalizedSize *= wr;\n\n      if (element.hasAdjust('dodge')) {\n        var dodgeCount = this._getDodgeCount(dataArray);\n\n        normalizedSize = normalizedSize / dodgeCount;\n      }\n\n      this._defaultSize = normalizedSize;\n      return normalizedSize;\n    }\n\n    return defaultSize;\n  }; // 获取坐标系 x 轴的长度\n\n\n  SizeController.prototype._getCoordinateWidth = function () {\n    var element = this.element;\n    var coord = element.get('coord');\n\n    if (element.isInCircle() && !coord.isTransposed) {\n      // 极坐标下 width 为弧长\n      return (coord.endAngle - coord.startAngle) * coord.getRadius();\n    }\n\n    var start = coord.convertPoint({\n      x: 0,\n      y: 0\n    });\n    var end = coord.convertPoint({\n      x: 1,\n      y: 0\n    });\n    var width = 0;\n\n    if (start && end) {\n      width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n    }\n\n    return width;\n  }; // 将归一化的数值转换成实际像素大小\n\n\n  SizeController.prototype._toCoordinateSize = function (normalizedSize) {\n    var coordinateWidth = this._getCoordinateWidth();\n\n    return normalizedSize * coordinateWidth;\n  }; // 将实际像素大小进行归一化处理\n\n\n  SizeController.prototype._toNormalizedSize = function (size) {\n    var coordinateWidth = this._getCoordinateWidth();\n\n    return size / coordinateWidth;\n  };\n\n  return SizeController;\n}();\n\nexport default SizeController;","/**\n * @description Box Element shapes\n */\nimport * as _ from '@antv/util';\nimport { setStrokeStyle } from '../util/shape';\nimport { registerShape, registerShapeFactory } from './base';\n\nfunction _parseValue(oldValue) {\n  var value = oldValue;\n\n  if (!_.isArray(oldValue)) {\n    value = [oldValue];\n  }\n\n  var min = value[0]; // 最小值\n\n  var max = value[value.length - 1]; // 最大值\n\n  var min1 = value.length > 1 ? value[1] : min;\n  var max1 = value.length > 3 ? value[3] : max;\n  var median = value.length > 2 ? value[2] : min1;\n  return {\n    min: min,\n    max: max,\n    min1: min1,\n    max1: max1,\n    median: median\n  };\n}\n\nfunction addPoints(from, to) {\n  _.each(from, function (subArr) {\n    to.push({\n      x: subArr[0],\n      y: subArr[1]\n    });\n  });\n}\n\nfunction getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n}\n\nfunction _getBoxPoints(pointX, pointY, width) {\n  var points = [];\n  var pointsArray;\n  var obj;\n  var x = pointX;\n  var y = pointY;\n\n  if (_.isArray(y)) {\n    // position('x*range')\n    // 2维\n    obj = _parseValue(y);\n    pointsArray = [[x - width / 2, obj.max], [x + width / 2, obj.max], [x, obj.max], [x, obj.max1], [x - width / 2, obj.min1], [x - width / 2, obj.max1], [x + width / 2, obj.max1], [x + width / 2, obj.min1], [x, obj.min1], [x, obj.min], [x - width / 2, obj.min], [x + width / 2, obj.min], [x - width / 2, obj.median], [x + width / 2, obj.median]];\n  } else {\n    // position('range*1') 一维图表\n    y = y || 0.5;\n    obj = _parseValue(x);\n    pointsArray = [[obj.min, y - width / 2], [obj.min, y + width / 2], [obj.min, y], [obj.min1, y], [obj.min1, y - width / 2], [obj.min1, y + width / 2], [obj.max1, y + width / 2], [obj.max1, y - width / 2], [obj.max1, y], [obj.max, y], [obj.max, y - width / 2], [obj.max, y + width / 2], [obj.median, y - width / 2], [obj.median, y + width / 2]];\n  }\n\n  addPoints(pointsArray, points);\n  return points;\n}\n\nfunction _getBoxPath(points) {\n  var path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['L', points[6].x, points[6].y], ['L', points[7].x, points[7].y], ['L', points[4].x, points[4].y], ['Z'], ['M', points[8].x, points[8].y], ['L', points[9].x, points[9].y], ['M', points[10].x, points[10].y], ['L', points[11].x, points[11].y], ['M', points[12].x, points[12].y], ['L', points[13].x, points[13].y]];\n  return path;\n}\n\nvar BoxShapeFactory = registerShapeFactory('box', {\n  defaultShapeType: 'box'\n}); // 箱线图\n\nregisterShape('box', 'box', {\n  getPoints: function getPoints(pointInfo) {\n    return _getBoxPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getBoxPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return {\n      symbol: function symbol(x, y, r) {\n        var yValues = [y - 6, y - 3, y, y + 3, y + 6];\n\n        var points = _getBoxPoints(x, yValues, r);\n\n        return [['M', points[0].x + 1, points[0].y], ['L', points[1].x - 1, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['L', points[6].x, points[6].y], ['L', points[7].x, points[7].y], ['L', points[4].x, points[4].y], ['Z'], ['M', points[8].x, points[8].y], ['L', points[9].x, points[9].y], ['M', points[10].x + 1, points[10].y], ['L', points[11].x - 1, points[11].y], ['M', points[12].x, points[12].y], ['L', points[13].x, points[13].y]];\n      },\n      radius: 6,\n      lineWidth: 1,\n      stroke: markerCfg.color\n    };\n  }\n});\nexport default BoxShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport BoxShapeFactory from './shape/box';\n\nvar Box =\n/** @class */\nfunction (_super) {\n  __extends(Box, _super);\n\n  function Box(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'box',\n      shapeType: 'box',\n      generatePoints: true\n    }, cfg)) || this; // 初始化 sizeController\n\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController);\n\n    _this.set('shapeFactory', BoxShapeFactory);\n\n    return _this;\n  }\n\n  Box.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj);\n    return cfg;\n  };\n\n  return Box;\n}(Element);\n\nexport default Box;","/**\n * @description Edge Element shapes\n * @author xinming002@gmail.com\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nvar CORNER_PERCENT = 1 / 3; // 获取图形属性\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n} // 获取Marker的图形属性\n\n\nfunction _getMarkerAttrs(cfg) {\n  var markerStyle = {\n    symbol: 'circle',\n    radius: 4.5\n  };\n  setStrokeStyle(markerStyle, cfg);\n  return markerStyle;\n} // 获取Cubic Bezier路径\n\n\nfunction _getCPath(from, to) {\n  var points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - 1 / 2) + to.y * 1 / 2\n  });\n  points.push({\n    y: from.y * (1 - 1 / 2) + to.y * 1 / 2,\n    x: to.x\n  });\n  points.push(to);\n  var sub = ['C'];\n\n  _.each(points, function (point) {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n} // 获取Quadratic Bezier路径\n\n\nfunction _getQPath(to, center) {\n  var points = [];\n  points.push({\n    x: center.x,\n    y: center.y\n  });\n  points.push(to);\n  var sub = ['Q'];\n\n  _.each(points, function (point) {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n\nfunction _createSmoothPath(from, to) {\n  var sub = _getCPath(from, to);\n\n  var path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction _createArcPath(from, to, center) {\n  var sub = _getQPath(to, center);\n\n  var path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction _createArcWeightPath(points, center) {\n  var arc1 = _getQPath(points[1], center);\n\n  var arc2 = _getQPath(points[3], center);\n\n  var path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\nfunction _createRectPath(from, to) {\n  var points = [];\n  points.push({\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    x: from.x\n  });\n  points.push({\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    x: to.x\n  });\n  points.push(to);\n  var path = [['M', from.x, from.y]];\n\n  _.each(points, function (point) {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nvar EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttrs(markerCfg);\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.edge && theme.edge[shapeName]) {\n      markerStyle = _.mix({}, theme.edge[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n});\nregisterShape('edge', 'line', {\n  draw: function draw(cfg, container) {\n    var isInCircle = cfg.isInCircle;\n    var points = this.parsePoints(cfg.points);\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = getLinePath(points, isInCircle);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n});\nregisterShape('edge', 'vhv', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = _createRectPath(points[0], points[1]);\n\n    path = this.parsePath(path);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n});\nregisterShape('edge', 'smooth', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n\n    var attrCfg = _getAttrs(cfg);\n\n    var path = _createSmoothPath(points[0], points[1]);\n\n    path = this.parsePath(path);\n    var line = container.addShape('path', {\n      attrs: _.mix(attrCfg, {\n        path: path\n      })\n    });\n    return line;\n  }\n}); // 弧线包括:\n// 1. 笛卡尔坐标系下的半圆弧线\n// 2. 极坐标系下以圆心为控制点的二阶曲线\n// 3. 笛卡尔坐标系下带权重的三阶曲线\n// 4. 极坐标系下带权重的以圆心为控制点的二阶曲线\n\nregisterShape('edge', 'arc', {\n  draw: function draw(cfg, container) {\n    var points = cfg.points;\n    var type = points.length > 2 ? 'weight' : 'normal';\n\n    var attrCfg = _getAttrs(cfg);\n\n    var line;\n    var path;\n\n    if (cfg.isInCircle) {\n      var center = {\n        x: 0,\n        y: 1\n      };\n\n      if (type === 'normal') {\n        path = _createArcPath(points[0], points[1], center);\n      } else {\n        attrCfg.fill = attrCfg.stroke;\n        path = _createArcWeightPath(points, center);\n      }\n\n      path = this.parsePath(path);\n      line = container.addShape('path', {\n        attrs: _.mix(attrCfg, {\n          path: path\n        })\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        line = container.addShape('arc', {\n          attrs: _.mix(attrCfg, {\n            x: (points[1].x + points[0].x) / 2,\n            y: points[0].y,\n            r: Math.abs(points[1].x - points[0].x) / 2,\n            startAngle: Math.PI,\n            endAngle: Math.PI * 2\n          })\n        });\n      } else {\n        path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y]];\n\n        var c1 = _getCPath(points[1], points[3]);\n\n        var c2 = _getCPath(points[2], points[0]);\n\n        path.push(c1);\n        path.push(['L', points[3].x, points[3].y]);\n        path.push(['L', points[2].x, points[2].y]);\n        path.push(c2);\n        path.push(['Z']);\n        path = this.parsePath(path);\n        attrCfg.fill = attrCfg.stroke;\n        line = container.addShape('path', {\n          attrs: _.mix(attrCfg, {\n            path: path\n          })\n        });\n      }\n    }\n\n    return line;\n  }\n});\nexport default EdgeShapeFactory;","/**\n * @description 关系图的边\n */\nimport { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport EdgeShapeFactory from './shape/edge';\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'edge',\n      generatePoints: true,\n      shapeType: 'edge',\n      shareTooltip: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', EdgeShapeFactory);\n\n    return _this;\n  }\n\n  return Edge;\n}(Element);\n\nexport default Edge;","import { __assign, __extends } from \"tslib\";\nimport { colorUtil } from '../dependents';\nimport Element from './base';\nimport * as _ from '@antv/util';\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\n\nvar Heatmap =\n/** @class */\nfunction (_super) {\n  __extends(Heatmap, _super);\n\n  function Heatmap(cfg) {\n    return _super.call(this, __assign({\n      type: 'heatmap',\n      shapeType: 'point',\n      paletteCache: {}\n    }, cfg)) || this;\n  }\n\n  Heatmap.prototype._prepareRange = function () {\n    var data = this.get(MAPPED_DATA);\n    var colorAttr = this.getAttr('color');\n    var colorField = colorAttr.scales[0].field;\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[ORIGIN_FIELD][colorField];\n\n      if (value > max) {\n        max = value;\n      }\n\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    var range = [min, max];\n    this.set(VALUE_RANGE, range);\n  };\n\n  Heatmap.prototype._prepareSize = function () {\n    var radius = this.getDefaultValue('size');\n\n    if (!_.isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    var styleOptions = this.get('styleOptions');\n    var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n\n    this.set(HEATMAP_SIZE, {\n      blur: blur,\n      radius: radius\n    });\n  };\n\n  Heatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttr('position');\n    var coord = this.get('coord');\n    var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n    return radius;\n  };\n\n  Heatmap.prototype._colorize = function (img) {\n    var colorAttr = this.getAttr('color');\n    var pixels = img.data;\n    var paletteCache = this.get('paletteCache');\n\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n\n      if (alpha) {\n        var palette = void 0;\n\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        } // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n\n\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n\n  Heatmap.prototype._prepareGreyScaleBlurredCircle = function (r, blur) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n\n    var r2 = r + blur;\n    var ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  Heatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  };\n\n  Heatmap.prototype._getShadowCanvasCtx = function () {\n    var canvas = this.get(SHADOW_CANVAS);\n\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n\n    var viewRange = this.get('view').get('viewRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    return canvas.getContext('2d');\n  };\n\n  Heatmap.prototype._clearShadowCanvasCtx = function () {\n    var ctx = this._getShadowCanvasCtx();\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n\n  Heatmap.prototype._getImageShape = function () {\n    var imageShape = this.get(IMAGE_SHAPE);\n\n    if (imageShape) {\n      return imageShape;\n    }\n\n    var container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  };\n\n  Heatmap.prototype.clear = function () {\n    this._clearShadowCanvasCtx();\n\n    _super.prototype.clear.call(this);\n  };\n\n  Heatmap.prototype.drawWithRange = function (range) {\n    // canvas size\n    var _a = this.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height; // value, range, etc\n    // const valueField = this.getAttr('color').field;\n\n\n    var valueField = this.getAttr('color').scales[0].field;\n    var size = this.get(HEATMAP_SIZE); // prepare shadow canvas context\n\n    this._clearShadowCanvasCtx();\n\n    var ctx = this._getShadowCanvasCtx(); // filter data\n\n\n    var data = this.get(MAPPED_DATA);\n\n    if (range) {\n      data = data.filter(function (row) {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    } // step1. draw points with shadow\n\n\n    var scale = this.get('scales')[valueField];\n\n    for (var i = 0; i < data.length; i++) {\n      var obj = data[i];\n      var cfg = this.getDrawCfg(obj);\n      var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]); // @ts-ignore\n\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    } // step2. convert pixels\n\n\n    var colored = ctx.getImageData(0, 0, width, height);\n\n    this._clearShadowCanvasCtx();\n\n    this._colorize(colored);\n\n    ctx.putImageData(colored, 0, 0);\n    var image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n\n    var imageShape = this._getImageShape();\n\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height,\n      img: image\n    });\n  };\n\n  Heatmap.prototype.draw = function (data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n\n    this._prepareSize();\n\n    var size = this.get(HEATMAP_SIZE);\n\n    this._prepareGreyScaleBlurredCircle(size.radius, size.blur);\n\n    var range = this.get(VALUE_RANGE);\n    this.drawWithRange(range); // super.draw(data, container, shapeFactory, index);\n  };\n\n  return Heatmap;\n}(Element);\n\nexport default Heatmap;","/**\n * 为不同的 element shape 定义对应的 marker symbol\n */\nvar SQRT_3 = Math.sqrt(3); // Line shape 对应的 symbols\n\nexport var LineSymbols = {\n  line: function line(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y]];\n  },\n  smooth: function smooth(x, y, r) {\n    return [['M', x - r, y], ['A', r / 2, r / 2, 0, 1, 1, x, y], ['A', r / 2, r / 2, 0, 1, 0, x + r, y]];\n  },\n  hv: function hv(x, y, r) {\n    return [['M', x - r - 1, y - 2.5], ['L', x, y - 2.5], ['L', x, y + 2.5], ['L', x + r + 1, y + 2.5]];\n  },\n  vh: function vh(x, y, r) {\n    return [['M', x - r - 1, y + 2.5], ['L', x, y + 2.5], ['L', x, y - 2.5], ['L', x + r + 1, y - 2.5]];\n  },\n  hvh: function hvh(x, y, r) {\n    return [['M', x - (r + 1), y + 2.5], ['L', x - r / 2, y + 2.5], ['L', x - r / 2, y - 2.5], ['L', x + r / 2, y - 2.5], ['L', x + r / 2, y + 2.5], ['L', x + r + 1, y + 2.5]];\n  },\n  vhv: function vhv(x, y) {\n    // 宽 13px，高 8px\n    return [['M', x - 5, y + 2.5], ['L', x - 5, y], ['L', x, y], ['L', x, y - 3], ['L', x, y + 3], ['L', x + 6.5, y + 3]];\n  }\n}; // Point shape 对应的 symbols\n\nexport var PointSymbols = {\n  hexagon: function hexagon(x, y, r) {\n    var diffX = r / 2 * SQRT_3;\n    return [['M', x, y - r], ['L', x + diffX, y - r / 2], ['L', x + diffX, y + r / 2], ['L', x, y + r], ['L', x - diffX, y + r / 2], ['L', x - diffX, y - r / 2], ['Z']];\n  },\n  bowtie: function bowtie(x, y, r) {\n    var diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: function cross(x, y, r) {\n    return [['M', x - r, y - r], ['L', x + r, y + r], ['M', x + r, y - r], ['L', x - r, y + r]];\n  },\n  tick: function tick(x, y, r) {\n    return [['M', x - r / 2, y - r], ['L', x + r / 2, y - r], ['M', x, y - r], ['L', x, y + r], ['M', x - r / 2, y + r], ['L', x + r / 2, y + r]];\n  },\n  plus: function plus(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y], ['M', x, y - r], ['L', x, y + r]];\n  },\n  hyphen: function hyphen(x, y, r) {\n    return [['M', x - r, y], ['L', x + r, y]];\n  },\n  line: function line(x, y, r) {\n    return [['M', x, y - r], ['L', x, y + r]];\n  }\n}; // interval 对应的 symbols\n\nexport var IntervalSymbols = {\n  tick: function tick(x, y, r) {\n    return [['M', x - r / 2, y - r], ['L', x + r / 2, y - r], ['M', x, y - r], ['L', x, y + r], ['M', x - r / 2, y + r], ['L', x + r / 2, y + r]];\n  },\n  line: function line(x, y, r) {\n    return [['M', x, y - r], ['L', x, y + r]];\n  }\n};","import { __assign } from \"tslib\";\n/**\n * @description Interval Element shapes\n */\n\nimport * as _ from '@antv/util';\nimport { Marker } from '@antv/g';\nimport { registerShapeFactory, registerShape } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getPointAngle } from '../util/path';\nimport { IntervalSymbols } from '../util/symbol';\n\n_.each(IntervalSymbols, function (func, symbol) {\n  // Interval 中需要用到的 symbol\n  // 使用 Marker 提供的静态方法注册进去\n  // 用户有可能使用动态加载 Element，所以需要注册\n  Marker.symbolsFactory.register(symbol, func);\n}); // 获取填充图形的图形属性\n\n\nfunction _getFillAttrs(cfg) {\n  var attrs = cfg.style;\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 获取描边图形的图形属性\n\n\nfunction _getLineAttrs(cfg) {\n  var attrs = cfg.style;\n  setStrokeStyle(attrs, cfg);\n  return attrs;\n} // 根据数据点生成矩形的四个关键点\n\n\nfunction _getRectPoints(cfg, isPyramid) {\n  if (isPyramid === void 0) {\n    isPyramid = false;\n  }\n\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size; // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMin;\n  var xMax;\n\n  if (_.isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  var points = [{\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMax\n  }];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({\n      x: xMax,\n      y: yMax\n    }, {\n      x: xMax,\n      y: yMin\n    });\n  }\n\n  return points;\n} // 根据矩形关键点绘制 path\n\n\nfunction _getRectPath(points) {\n  var path = [];\n  var firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n\n  for (var i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n\n  path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n\n  path.push(['z']);\n  return path;\n} // 根据数据点生成 Line 的两个关键点\n\n\nfunction _getLinePoints(cfg) {\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0;\n\n  if (_.isArray(y)) {\n    return y.map(function (yItem, idx) {\n      return {\n        x: _.isArray(x) ? x[idx] : x,\n        y: yItem\n      };\n    });\n  }\n\n  return [{\n    x: x,\n    y: y\n  }, {\n    x: x,\n    y: y0\n  }];\n} // 根据数据点生成 tick shape 的 6 个关键点\n\n\nfunction _getTickPoints(cfg) {\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size;\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMax = x + size / 2;\n  var xMin = x - size / 2; // tick 关键点顺序\n  // 0 - 2 - 1\n  //     |\n  // 4 - 3 - 5\n\n  return [{\n    x: xMin,\n    y: yMax\n  }, {\n    x: xMax,\n    y: yMax\n  }, {\n    x: x,\n    y: yMax\n  }, {\n    x: x,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMax,\n    y: yMin\n  }];\n} // 根据 tick 关键点绘制 path\n\n\nfunction _getTickPath(points) {\n  return [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['M', points[4].x, points[4].y], ['L', points[5].x, points[5].y]];\n} // 根据关键点绘制漏斗图的 path\n\n\nfunction _getFunnelPath(cfg, isFunnel) {\n  var path = [];\n  var points = cfg.points,\n      nextPoints = cfg.nextPoints;\n\n  if (!_.isNil(nextPoints)) {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n  } else if (isFunnel) {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n  } else {\n    path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], // [ 'L', points[2].x, points[2].y ],\n    ['Z']);\n  }\n\n  return path;\n}\n\nfunction _getThetaAngle(point, coord) {\n  var startAngle;\n  var endAngle;\n  var startPoint;\n  var endPoint;\n\n  if (!_.isArray(point.x) && _.isArray(point.y)) {\n    // 如果x是一个值，y是数组，将x转成数组\n    point.x = [point.x, point.x];\n  }\n\n  if (_.isArray(point.x)) {\n    startPoint = {\n      x: point.x[0],\n      y: point.y[0]\n    };\n    endPoint = {\n      x: point.x[1],\n      y: point.y[1]\n    };\n    startAngle = getPointAngle(coord, startPoint);\n    endAngle = getPointAngle(coord, endPoint);\n\n    if (endAngle <= startAngle) {\n      // 考虑占比百分百的情形\n      endAngle = endAngle + Math.PI * 2;\n    }\n  } else {\n    endPoint = point;\n    startAngle = coord.startAngle;\n    endAngle = getPointAngle(coord, endPoint);\n  }\n\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nvar IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return _getRectPoints(pointInfo);\n  }\n}); // 默认 rect\n\nregisterShape('interval', 'rect', {\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 描边矩形\n\nregisterShape('interval', 'hollowInterval', {\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 直线柱图\n\nregisterShape('interval', 'line', {\n  getPoints: function getPoints(pointInfo) {\n    return _getLinePoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    attrs.lineWidth = cfg.size || 1;\n\n    var path = _getRectPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'line',\n      radius: 5\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // I 形柱状图\n\nregisterShape('interval', 'tick', {\n  getPoints: function getPoints(pointInfo) {\n    return _getTickPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getLineAttrs(cfg);\n\n    var path = _getTickPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'tick',\n      radius: 5\n    };\n    setStrokeStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 漏斗图\n\nregisterShape('interval', 'funnel', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n    return _getRectPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getFunnelPath(cfg, true);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 金字塔图，即尖底漏斗图\n\nregisterShape('interval', 'pyramid', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n\n    return _getRectPoints(pointInfo, true);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getFunnelPath(cfg, false);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // TODO：top-line 这个 shape 后续是否可以直接由上层业务自己去封装\n// 带顶部描边的柱状图，用于满足业务视觉上对层叠柱状图以及直方图描边的需求\n\nregisterShape('interval', 'top-line', {\n  draw: function draw(cfg, container) {\n    var attrs = _.mix({}, _getFillAttrs(cfg));\n\n    var style = cfg.style,\n        points = cfg.points;\n\n    var rectPath = _getRectPath(points);\n\n    rectPath = this.parsePath(rectPath);\n    delete attrs.stroke; // 不允许为柱子描边\n\n    var rectShape = container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        zIndex: 0,\n        path: rectPath\n      })\n    }); // 绘制 top line\n\n    var topLinePath = [['M', points[1].x, points[1].y], ['L', points[2].x, points[2].y]];\n    container.addShape('path', {\n      zIndex: 1,\n      attrs: {\n        stroke: style.stroke || 'white',\n        lineWidth: style.lineWidth || 1,\n        path: this.parsePath(topLinePath)\n      }\n    });\n    return rectShape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default IntervalShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport IntervalShapeFactory from './shape/interval';\n\nvar Interval =\n/** @class */\nfunction (_super) {\n  __extends(Interval, _super);\n\n  function Interval(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'interval',\n      shapeType: 'interval',\n      generatePoints: true\n    }, cfg)) || this; // 初始化 sizeController\n\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController); // 设置 IntervalShapeFactory\n\n\n    _this.set('shapeFactory', IntervalShapeFactory);\n\n    return _this;\n  }\n\n  Interval.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj); // 获取每条数据对应的 size 归一化后的值\n\n    return cfg;\n  };\n\n  Interval.prototype.isShareTooltip = function () {\n    var isShareTooltip = this.get('shareTooltip');\n    var coord = this.get('coord');\n    var coordType = coord.type;\n\n    if (coordType === 'theta' || coordType === 'polar' && coord.isTransposed) {\n      isShareTooltip = false; // 饼图不合并\n    }\n\n    return isShareTooltip;\n  };\n\n  return Interval;\n}(Element);\n\nexport default Interval;","import * as _ from '@antv/util';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { registerShapeFactory, registerShape } from './base';\n\nfunction _sortValue(oldValue) {\n  var value = oldValue;\n\n  if (!_.isArray(oldValue)) {\n    value = [oldValue];\n  } // 从大到小排序\n\n\n  var sorted = value.sort(function (a, b) {\n    return a < b ? 1 : -1;\n  });\n  var length = sorted.length;\n\n  if (length < 4) {\n    var min = sorted[length - 1];\n\n    for (var i = 0; i < 4 - length; i++) {\n      sorted.push(min);\n    }\n  }\n\n  return sorted;\n}\n\nfunction _getPoints(x, y, width) {\n  var yValues = _sortValue(y);\n\n  var points = [{\n    x: x,\n    y: yValues[0]\n  }, {\n    x: x,\n    y: yValues[1]\n  }, {\n    x: x - width / 2,\n    y: yValues[2]\n  }, {\n    x: x - width / 2,\n    y: yValues[1]\n  }, {\n    x: x + width / 2,\n    y: yValues[1]\n  }, {\n    x: x + width / 2,\n    y: yValues[2]\n  }, {\n    x: x,\n    y: yValues[2]\n  }, {\n    x: x,\n    y: yValues[3]\n  }]; // 按照顺时针连接\n\n  return points;\n}\n\nfunction _getPath(points) {\n  var path = [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['L', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['Z'], ['M', points[6].x, points[6].y], ['L', points[7].x, points[7].y]];\n  return path;\n}\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setFillStyle(lineAttrs, cfg);\n  setStrokeStyle(lineAttrs, cfg);\n  return lineAttrs;\n}\n\nvar KLineShapeFactory = registerShapeFactory('kline', {\n  defaultShapeType: 'kline'\n});\nregisterShape('kline', 'kline', {\n  getPoints: function getPoints(pointInfo) {\n    return _getPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n  },\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg.points);\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: _.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return {\n      symbol: function symbol(x, y, r) {\n        var yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n\n        var points = _getPoints(x, yValues, r);\n\n        return [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['L', points[4].x, points[4].y], ['L', points[5].x, points[5].y], ['Z'], ['M', points[6].x, points[6].y], ['L', points[7].x, points[7].y]];\n      },\n      lineWidth: 1,\n      stroke: markerCfg.color,\n      fill: markerCfg.color,\n      radius: 6\n    };\n  }\n});\nexport default KLineShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport KLineShapeFactory from './shape/k-line';\n\nvar KLine =\n/** @class */\nfunction (_super) {\n  __extends(KLine, _super);\n\n  function KLine(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'kline',\n      shapeType: 'kline',\n      generatePoints: true\n    }, cfg)) || this;\n\n    var sizeController = new SizeController(_this);\n\n    _this.set('sizeController', sizeController);\n\n    _this.set('shapeFactory', KLineShapeFactory);\n\n    return _this;\n  }\n\n  KLine.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    cfg.size = this.getNormalizedSize(obj);\n    return cfg;\n  };\n\n  return KLine;\n}(Element);\n\nexport default KLine;","import { __assign } from \"tslib\";\n/**\n * @description line shapes\n */\n\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nimport { LineSymbols } from '../util/symbol';\nvar DOT_LINEDASH = [1, 1];\nvar DASH_LINEDASH = [5.5, 1]; // 获取图形属性\n\nfunction _getAttrs(cfg) {\n  var lineAttrs = cfg.style;\n  setStrokeStyle(lineAttrs, cfg);\n\n  if (cfg.size) {\n    lineAttrs.lineWidth = cfg.size;\n  }\n\n  return lineAttrs;\n} // 获取 Marker 的图形属性\n\n\nfunction _getMarkerAttrs(cfg) {\n  var markerAttrs = {\n    lineWidth: 2,\n    radius: 6\n  };\n  setStrokeStyle(markerAttrs, cfg);\n  return markerAttrs;\n} // 当只有一个数据时绘制点\n\n\nfunction _drawPointShape(cfg, container) {\n  var point = cfg.points[0];\n  return container.addShape('circle', {\n    attrs: {\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }\n  });\n} // 获取带有上下区间的 path\n\n\nfunction _getRangePath(points, smooth, isInCircle, cfg) {\n  var isStack = cfg.isStack;\n  var topPoints = [];\n  var bottomPoints = [];\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n    var tmp = splitPoints(point);\n    bottomPoints.push(tmp[0]);\n    topPoints.push(tmp[1]);\n  }\n\n  var topPath = _getSinglePath(topPoints, smooth, isInCircle, cfg);\n\n  var bottomPath = _getSinglePath(bottomPoints, smooth, isInCircle, cfg);\n\n  if (isStack) {\n    return topPath;\n  }\n\n  return topPath.concat(bottomPath);\n} // 单条 path\n\n\nfunction _getSinglePath(points, smooth, isInCircle, cfg) {\n  var path;\n\n  if (!smooth) {\n    path = getLinePath(points, false);\n    isInCircle && path.push(['Z']);\n  } else {\n    // 直角坐标系下绘制曲线时限制最大值、最小值\n    var constraint = cfg.constraint;\n    isInCircle && points.length && points.push({\n      x: points[0].x,\n      y: points[0].y\n    });\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n} // get line path\n\n\nfunction _getPath(cfg, smooth) {\n  var points = cfg.points,\n      isInCircle = cfg.isInCircle;\n  var first = points[0];\n  return _.isArray(first.y) ? _getRangePath(points, smooth, isInCircle, cfg) : _getSinglePath(points, smooth, isInCircle, cfg);\n}\n\nfunction _interpPoints(points, fn) {\n  var tmpPoints = [];\n\n  _.each(points, function (point, index) {\n    var nextPoint = points[index + 1];\n    tmpPoints.push(point);\n\n    if (nextPoint) {\n      tmpPoints = tmpPoints.concat(fn(point, nextPoint));\n    }\n  });\n\n  return tmpPoints;\n} // 插值的图形path，不考虑null\n\n\nfunction _getInterPath(points) {\n  var path = points.map(function (point, index) {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n  return path;\n} // 插值的图形\n\n\nfunction _getInterPointShapeCfg(cfg, fn) {\n  var points = _interpPoints(cfg.points, fn);\n\n  return _getInterPath(points);\n}\n\nvar LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type); // 因为覆盖了 ShapeFactotyBase.drawShape 方法，所以记得要应用 shape 主题配置\n\n    var shapeName = shape.name;\n    var theme = this._theme;\n\n    if (theme && theme.line && theme.line[shapeName]) {\n      var defaultShapeStyle = theme.line[shapeName].default;\n      cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n    }\n\n    var gShape = cfg.points.length === 1 && cfg.showSinglePoint ? _drawPointShape(cfg, container) : shape.draw(cfg, container);\n\n    if (gShape) {\n      gShape.setSilent('origin', cfg.origin);\n      gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(type, markerCfg) {\n    var shape = this.getShape(type);\n    var markerStyle;\n\n    if (shape.getMarkerStyle) {\n      markerStyle = shape.getMarkerStyle(markerCfg);\n    } else {\n      markerStyle = _getMarkerAttrs(markerCfg);\n      var symbol = LineSymbols[type];\n\n      if (type === 'dot') {\n        symbol = LineSymbols.line;\n        markerStyle.lineDash = markerStyle.lineDash || DOT_LINEDASH;\n      }\n\n      if (type === 'dash') {\n        symbol = LineSymbols.line;\n        markerStyle.lineDash = markerStyle.lineDash || DASH_LINEDASH;\n      }\n\n      markerStyle.symbol = symbol;\n    }\n\n    var theme = this._theme;\n    var shapeName = shape.name;\n\n    if (theme && theme.line && theme.line[shapeName]) {\n      markerStyle = _.mix({}, theme.line[shapeName].default, markerStyle);\n    }\n\n    return markerStyle;\n  }\n}); // 开始往 LineShapeFactory 注册具体的 shape\n\nregisterShape('line', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 点线 ···\n\nregisterShape('line', 'dot', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({\n        lineDash: DOT_LINEDASH\n      }, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 断线 - - -\n\nregisterShape('line', 'dash', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getPath(cfg, false);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({\n        lineDash: DASH_LINEDASH\n      }, attrs), {\n        path: path\n      })\n    });\n  }\n}); // 平滑曲线\n\nregisterShape('line', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var coord = this.getCoord(); // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n\n    var path = _getPath(cfg, true);\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n}); // step line,\n\nregisterShape('line', 'hv', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      return [{\n        x: nextPoint.x,\n        y: point.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'vh', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      return [{\n        x: point.x,\n        y: nextPoint.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'hvh', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var middleX = (nextPoint.x + point.x) / 2;\n      return [{\n        x: middleX,\n        y: point.y\n      }, {\n        x: middleX,\n        y: nextPoint.y\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nregisterShape('line', 'vhv', {\n  draw: function draw(cfg, container) {\n    var attrs = _getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var middleY = (point.y + nextPoint.y) / 2;\n      return [{\n        x: point.x,\n        y: middleY\n      }, {\n        x: nextPoint.x,\n        y: middleY\n      }];\n    });\n\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  }\n});\nexport default LineShapeFactory;","import { __assign, __extends } from \"tslib\";\n/**\n * @description path，路径图，用于绘制无序的线图\n */\n\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport { splitData } from './util/split-data';\nimport LineShapeFactory from './shape/line';\n\nvar Path =\n/** @class */\nfunction (_super) {\n  __extends(Path, _super);\n\n  function Path(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'path',\n      shapeType: 'line',\n      connectNulls: false,\n      showSinglePoint: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', LineShapeFactory); // 设置 path 对应的 shapeFactory\n\n\n    return _this;\n  }\n  /**\n   * @override\n   * 构造绘制 path 需要的属性\n   * @param obj 数据\n   */\n\n\n  Path.prototype.getDrawCfg = function (obj) {\n    var drawCfg = _super.prototype.getDrawCfg.call(this, obj);\n\n    var isStack = this.hasAdjust('stack');\n    return __assign(__assign({}, drawCfg), {\n      isStack: isStack,\n      showSinglePoint: this.get('showSinglePoint')\n    });\n  };\n\n  Path.prototype.draw = function (data, container, shapeFactory, index) {\n    var _this = this;\n\n    var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n    var cfg = this.getDrawCfg(data[0]);\n    cfg.origin = data; // path,line 等图的 origin 是整个数据序列\n\n    _.each(splitArray, function (subData, splitedIndex) {\n      if (!_.isEmpty(subData)) {\n        cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n\n        cfg.points = subData;\n        var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n\n        _this.appendShapeInfo(geomShape, index + splitedIndex);\n      }\n    });\n  };\n\n  return Path;\n}(Element);\n\nexport default Path;","/**\n * @description Line，有序的线图\n */\nimport { __assign, __extends } from \"tslib\";\nimport Path from './path';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line(cfg) {\n    return _super.call(this, __assign({\n      type: 'line',\n      sortable: true\n    }, cfg)) || this;\n  }\n\n  return Line;\n}(Path);\n\nexport default Line;","import { __assign } from \"tslib\";\n/**\n * Point shape factory\n */\n\nimport { Marker } from '@antv/g';\nimport * as _ from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setStrokeStyle, setFillStyle } from '../util/shape';\nimport { PointSymbols } from '../util/symbol';\n\n_.each(PointSymbols, function (func, symbol) {\n  // point 中需要用到这么些 Marker.symbol\n  // 使用 Marker 提供的静态方法注册进去\n  Marker.symbolsFactory.register(symbol, func);\n});\n\nvar SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangleDown'];\nvar HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\nfunction getFillAttrs(cfg) {\n  var pointAttrs = cfg.style;\n  setFillStyle(pointAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    pointAttrs.radius = cfg.size;\n  }\n\n  return pointAttrs;\n}\n\nfunction getLineAttrs(cfg) {\n  var pointAttrs = cfg.style;\n  setStrokeStyle(pointAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    pointAttrs.radius = cfg.size;\n  }\n\n  return pointAttrs;\n}\n\nfunction getRectPath(cfg) {\n  var x = cfg.points[0].x;\n  var y = cfg.points[0].y;\n  var w = cfg.size[0];\n  var h = cfg.size[1];\n  var path = [['M', x - 0.5 * w, y - 0.5 * h], ['L', x + 0.5 * w, y - 0.5 * h], ['L', x + 0.5 * w, y + 0.5 * h], ['L', x - 0.5 * w, y + 0.5 * h], ['z']];\n  return path;\n}\n\nvar PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollowCircle',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  }\n}); // 用于桑基图的节点\n\nregisterShape('point', 'rect', {\n  draw: function draw(cfg, container) {\n    var rectAttrs = getFillAttrs(cfg);\n    var path = getRectPath(cfg);\n    path = this.parsePath(path);\n    var gShape = container.addShape('path', {\n      attrs: _.mix(rectAttrs, {\n        path: path\n      })\n    });\n    return gShape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'rect',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // 所有的 SHAPES 都注册一下\n\n_.each(SHAPES, function (shape) {\n  registerShape('point', shape, {\n    draw: function draw(cfg, container) {\n      var attrs = getFillAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setFillStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  }); // 添加该 shape 对应的 hollow-shape\n\n  registerShape('point', \"hollow\" + _.upperFirst(shape), {\n    draw: function draw(cfg, container) {\n      var attrs = getLineAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setStrokeStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  });\n}); // 添加 hollowShapes\n\n\n_.each(HOLLOW_SHAPES, function (shape) {\n  registerShape('point', shape, {\n    draw: function draw(cfg, container) {\n      var attrs = getLineAttrs(cfg);\n      return container.addShape('Marker', {\n        attrs: __assign(__assign({}, attrs), {\n          symbol: shape,\n          x: cfg.x,\n          y: cfg.y\n        })\n      });\n    },\n    getMarkerStyle: function getMarkerStyle(markerCfg) {\n      var markerStyle = {\n        symbol: shape,\n        radius: 4.5\n      };\n      setStrokeStyle(markerStyle, markerCfg);\n      return markerStyle;\n    }\n  });\n}); // image\n\n\nregisterShape('point', 'image', {\n  draw: function draw(cfg, container) {\n    cfg.points = this.parsePoints(cfg.points);\n    return container.addShape('image', {\n      attrs: {\n        x: cfg.points[0].x - cfg.size / 2,\n        y: cfg.points[0].y - cfg.size,\n        width: cfg.size,\n        height: cfg.size,\n        img: cfg.shape[1]\n      }\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n}); // path 解析，缓存一下\n\nvar pathMetaParser = _.memoize(function (path) {\n  var segments = pathUtil.parsePathString(path);\n\n  var nums = _.flatten(segments).filter(function (num) {\n    return _.isNumber(num);\n  });\n\n  return {\n    range: Math.max.apply(null, nums) - Math.min.apply(null, nums),\n    segments: segments\n  };\n}); // path\n\n\nregisterShape('point', 'path', {\n  draw: function draw(cfg, container) {\n    var attrs = _.mix({}, getLineAttrs(cfg), getFillAttrs(cfg));\n\n    var path = cfg.shape[1];\n    var size = cfg.size || 10;\n    var pathMeta = pathMetaParser(path);\n    var scale = size / pathMeta.range;\n    var transform = [];\n\n    if (attrs.rotate) {\n      transform.push(['r', attrs.rotate / 180 * Math.PI]);\n      delete attrs.rotate;\n    }\n\n    var shape = container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: pathMeta.segments\n      })\n    });\n    transform.push(['s', scale, scale], ['t', cfg.x, cfg.y]);\n    shape.transform(transform);\n    return shape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default PointShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport PointShapeFactory from './shape/point';\n/**\n * Point 类型的几何图形\n * 绘制散点图\n */\n\nvar Point =\n/** @class */\nfunction (_super) {\n  __extends(Point, _super);\n\n  function Point(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'point',\n      shapeType: 'point',\n      generatePoints: true,\n      shareTooltip: false\n    }, cfg)) || this; // 每一个 Element 对应一个确定的 shapeFactory\n\n\n    _this.set('shapeFactory', PointShapeFactory);\n\n    return _this;\n  } // overwrite\n\n\n  Point.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n    var _this = this;\n\n    var shape = obj.shape;\n    var cfg = this.getDrawCfg(obj);\n\n    if (_.isArray(obj.y)) {\n      var hasStackAdjust_1 = this.hasAdjust('stack');\n\n      _.each(obj.y, function (y, idx) {\n        cfg.y = y;\n        cfg.yIndex = idx;\n\n        if (!hasStackAdjust_1 || idx !== 0) {\n          var geomShape = shapeFactory.drawShape(shape, cfg, container);\n\n          _this.appendShapeInfo(geomShape, index + idx);\n        }\n      });\n    } else if (!_.isNil(obj.y)) {\n      var geomShape = shapeFactory.drawShape(shape, cfg, container);\n      this.appendShapeInfo(geomShape, index);\n    }\n  };\n\n  return Point;\n}(Element);\n\nexport default Point;","import * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\n\nfunction getAttrs(cfg) {\n  var attrs = cfg.style;\n  setFillStyle(attrs, cfg);\n  return attrs;\n}\n\nfunction getHollowAttrs(cfg) {\n  var attrs = cfg.style;\n  setStrokeStyle(attrs, cfg);\n  return attrs;\n}\n\nfunction getPath(points) {\n  var flag = points[0];\n  var i = 1;\n  var path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    var c = points[i];\n\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n\n    i++;\n  }\n\n  if (!_.isEqual(path[path.length - 1], flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n  return path;\n}\n\nfunction getMarkerAttrs(markerCfg) {\n  var markerStyle = {\n    symbol: 'square',\n    radius: 4\n  };\n  setFillStyle(markerStyle, markerCfg);\n  return markerStyle;\n}\n\nvar PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var points = [];\n\n    _.each(pointInfo.x, function (subX, index) {\n      var subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY\n      });\n    });\n\n    return points;\n  }\n});\nregisterShape('polygon', 'polygon', {\n  draw: function draw(cfg, container) {\n    if (!_.isEmpty(cfg.points)) {\n      var attrs = getAttrs(cfg);\n      var path = getPath(cfg.points);\n      path = this.parsePath(path);\n      return container.addShape('path', {\n        attrs: _.mix(attrs, {\n          path: path\n        })\n      });\n    }\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return getMarkerAttrs(markerCfg);\n  }\n});\nregisterShape('polygon', 'hollow', {\n  draw: function draw(cfg, container) {\n    if (!_.isEmpty(cfg.points)) {\n      var attrs = getHollowAttrs(cfg);\n      var path = getPath(cfg.points);\n      path = this.parsePath(path);\n      return container.addShape('path', {\n        attrs: _.mix(attrs, {\n          path: path\n        })\n      });\n    }\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    return getMarkerAttrs(markerCfg);\n  }\n});\nexport default PolygonShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Element from './base';\nimport PolygonShapeFactory from './shape/polygon';\n/**\n * Polygon 多边形\n */\n\nvar Polygon =\n/** @class */\nfunction (_super) {\n  __extends(Polygon, _super);\n\n  function Polygon(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'polygon',\n      shapeType: 'polygon',\n      generatePoints: true,\n      shareTooltip: false\n    }, cfg)) || this;\n\n    _this.set('shapeFactory', PolygonShapeFactory);\n\n    return _this;\n  }\n\n  Polygon.prototype.createShapePointsCfg = function (obj) {\n    var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n\n    var x = cfg.x;\n    var y = cfg.y;\n    var temp;\n\n    if (!(Util.isArray(x) && Util.isArray(y))) {\n      // x y 都是数组时，不做处理\n      var xScale = this.getXScale();\n      var yScale = this.getYScale(); // scale 中保证了 values 都会有，所以去掉之前的逻辑判断\n\n      var xCount = xScale.values.length;\n      var yCount = yScale.values.length;\n      var xOffset = 0.5 * 1 / xCount;\n      var yOffset = 0.5 * 1 / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // 如果x,y都是分类\n        // @ts-ignore\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (Util.isArray(x)) {\n        // x 是数组\n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (Util.isArray(y)) {\n        // y 是数组\n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]]; // @ts-ignore\n\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n\n      cfg.x = x;\n      cfg.y = y;\n    }\n\n    return cfg;\n  };\n\n  return Polygon;\n}(Element);\n\nexport default Polygon;","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setFillStyle } from '../util/shape';\n\nfunction getFillAttrs(cfg) {\n  var textAttrs = cfg.style;\n  setFillStyle(textAttrs, cfg);\n\n  if (_.isNumber(cfg.size)) {\n    // 如果设置了size，则text的字体大小由size决定\n    textAttrs.fontSize = cfg.size;\n  }\n\n  return textAttrs;\n}\n\nvar TextShapeFactory = registerShapeFactory('text', {\n  defaultShapeType: 'text',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return splitPoints(pointInfo);\n  }\n});\nregisterShape('text', 'text', {\n  draw: function draw(cfg, container) {\n    var attrs = getFillAttrs(cfg);\n    var shape = container.addShape('text', {\n      attrs: __assign(__assign({}, attrs), {\n        x: cfg.x,\n        y: cfg.y,\n        text: cfg.text\n      })\n    });\n    return shape;\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'circle',\n      radius: 4.5\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});\nexport default TextShapeFactory;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { FIELD_ORIGIN } from './base';\nimport Point from './point';\nimport TextShapeFactory from './shape/text';\nimport { parseFields } from './util/parse-fields';\n/**\n * Text 类型的几何图形\n */\n\nvar Text =\n/** @class */\nfunction (_super) {\n  __extends(Text, _super);\n\n  function Text(cfg) {\n    var _this = _super.call(this, __assign({\n      type: 'text',\n      shapeType: 'text'\n    }, cfg)) || this; // 每一个 Element 对应一个确定的 shapeFactory\n\n\n    _this.set('shapeFactory', TextShapeFactory);\n\n    return _this;\n  }\n\n  Text.prototype.content = function (field, callback) {\n    if (_.isObject(field)) {\n      this.set('contentOptions', field);\n    } else {\n      var fields = parseFields(field);\n      this.set('contentOptions', {\n        fields: fields,\n        callback: callback\n      });\n    }\n\n    return this;\n  }; // 获取 content 配置\n\n\n  Text.prototype._getContent = function (contentOptions, origin) {\n    var fields = contentOptions.fields || [];\n    var callback = contentOptions.callback;\n\n    if (callback) {\n      // content({ fields: [ 'a', 'b' ], callback(a, b) {} })\n      var params = fields.map(function (field) {\n        return origin[field];\n      });\n      return callback.apply(void 0, params);\n    }\n\n    return origin[fields[0]]; // content({ fields: [ 'a' ] })\n  };\n  /**\n   * @override\n   * @desc 添加content内容,复写cfg.text\n   */\n\n\n  Text.prototype.getDrawCfg = function (obj) {\n    var cfg = _super.prototype.getDrawCfg.call(this, obj);\n\n    var contentOptions = this.get('contentOptions');\n\n    if (contentOptions) {\n      cfg.text = this._getContent(contentOptions, obj[FIELD_ORIGIN]);\n    }\n\n    return cfg;\n  };\n\n  return Text;\n}(Point);\n\nexport default Text;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Facet } from './base';\n/**\n * TODO 暂时欠缺 title、axis 的渲染逻辑\n */\n\nvar Rect =\n/** @class */\nfunction (_super) {\n  __extends(Rect, _super);\n\n  function Rect(view, cfg) {\n    return _super.call(this, view, __assign({\n      /**\n       * 是否默认显示每个分面的title\n       */\n      showTitle: true,\n\n      /**\n       * 是否自动修改坐标轴的信息\n       */\n      autoSetAxis: true,\n\n      /**\n       * View 的内边框\n       */\n      padding: 16\n    }, cfg)) || this;\n  }\n\n  Rect.prototype.generateFacets = function (data) {\n    var _this = this;\n\n    var fields = this.cfg.fields;\n    var columnField = fields[0],\n        rowField = fields[1];\n    var rst = [];\n    var columnValuesLength = 0;\n    var rowValuesLength = 0;\n    var columnValues = [];\n    var rowValues = [];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    } // 获取每个维度对应的frame\n\n\n    columnValues.forEach(function (xVal, xIndex) {\n      rowValues.forEach(function (yVal, yIndex) {\n        var conditions = [{\n          field: columnField,\n          value: xVal,\n          values: columnValues\n        }, {\n          field: rowField,\n          value: yVal,\n          values: rowValues\n        }];\n\n        var facetData = _.filter(data, function (data) {\n          // 过滤出全部满足条件的数据\n          return _.every(conditions, function (condition) {\n            var field = condition.field,\n                value = condition.value;\n            return data[field] === value;\n          });\n        });\n\n        var facet = {\n          type: _this.cfg.type,\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField: columnField,\n          rowField: rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength: columnValuesLength,\n          rowValuesLength: rowValuesLength,\n          data: facetData,\n          region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex)\n        };\n        rst.push(facet);\n      });\n    });\n    return rst;\n  };\n\n  Rect.prototype.renderAxis = function () {// todo\n  };\n\n  Rect.prototype.renderTitle = function () {// todo\n  };\n\n  return Rect;\n}(Facet);\n\nexport { Rect };","import { __spreadArrays } from \"tslib\";\n/**\n * 判断text是否可用, title description\n *\n * @param source\n */\n\nexport function isTextUsable(source) {\n  if (!source) return false;\n  if (source.visible === true && typeof source.text === 'string' && source.text.trim()) return true;\n  return false;\n}\n/**\n * 为字符串添加换行符\n * @param source - 字符串数组 ['a', 'b', 'c']\n * @param breaks - 要添加换行的index\n *\n * @example\n * ```js\n * breakText(['a','b','c'], [1])\n *\n * // a\\nbc\n * ```\n */\n\nexport function breakText(source, breaks) {\n  var result = __spreadArrays(source);\n\n  breaks.forEach(function (pos, index) {\n    result.splice(pos + index, 0, '\\n');\n  });\n  return result.join('');\n}","import * as G from '@antv/g';\nimport * as Util from '@antv/util';\nimport * as Interface from './interface';\nexport { Util };\nexport { G };\nexport { Interface };\nexport { default as Plot } from './plot/plot';\nexport { default as View } from './plot/view';\nimport { Element, getElement, registerElement } from './element';\nimport Area from './element/area';\nimport Box from './element/box';\nimport Edge from './element/edge';\nimport Heatmap from './element/heatmap';\nimport Interval from './element/interval';\nimport Kline from './element/k-line';\nimport Line from './element/line';\nimport Path from './element/path';\nimport Point from './element/point';\nimport Polygon from './element/polygon';\nimport * as Shape from './element/shape/base';\nimport Text from './element/text'; // 注册 element\n\nregisterElement('Line', Line);\nregisterElement('Path', Path);\nregisterElement('Point', Point);\nregisterElement('Interval', Interval);\nregisterElement('Edge', Edge);\nregisterElement('Polygon', Polygon);\nregisterElement('Area', Area);\nregisterElement('Box', Box);\nregisterElement('Kline', Kline);\nregisterElement('Text', Text);\nregisterElement('Heatmap', Heatmap);\nexport { registerElement, getElement, Element };\nexport { registerShape, registerShapeFactory, getShapeFactory } from './element/shape/base';\nexport { Shape };\nimport { Facet, registerFacet } from './facet';\nimport { Rect } from './facet/rect';\nregisterFacet('rect', Rect);\nexport { registerFacet, Facet };\nexport { registerInteraction, getInteraction, Interaction } from './interaction';\nexport { default as Global, setTheme, version } from './global';\nexport { registerTheme, getTheme } from './theme';\nimport Animate from './animate/animate';\nexport { Animate };\nexport { registerScale, getScale, Scale } from '@antv/scale';\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\nexport { getCoordinate, Coordinate } from '@antv/coord';\nexport { getAttribute, Attribute } from '@antv/attr';\nimport * as Option from './plot/interface';\nexport { Option };\nexport { registerElementLabels, getElementLabels, ElementLabels } from './element/controller/label/';","import { __assign } from \"tslib\";\nimport { BBox, Text } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { breakText } from '../util/common';\n/**\n * 图表的文字描述，一般用于生成图表的标题和副标题\n */\n\nvar TextDescription =\n/** @class */\nfunction () {\n  function TextDescription(cfg) {\n    this.position = 'top';\n    this.destroyed = false;\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  TextDescription.prototype.getBBox = function () {\n    var _this = this;\n\n    if (this.shape) {\n      var bbox = this.shape.getBBox();\n\n      if (this.index === 0) {\n        return bbox;\n      }\n\n      var padding_1 = this.plot.theme.description.padding;\n\n      if (_.isArray(padding_1)) {\n        _.each(padding_1, function (it, index) {\n          if (typeof padding_1[index] === 'function') {\n            padding_1[index] = padding_1[index](_this.plot.options.legend.position);\n          }\n        });\n      }\n\n      return new BBox(bbox.maxX, bbox.minY, bbox.width, bbox.height + padding_1[2]);\n    }\n\n    return null;\n  };\n\n  TextDescription.prototype.clear = function () {\n    if (this.shape) {\n      this.shape.attr('text', '');\n    }\n  };\n\n  TextDescription.prototype.destroy = function () {\n    if (this.shape) {\n      this.shape.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  TextDescription.prototype._init = function () {\n    var content = this._textWrapper();\n\n    this.shape = this.container.addShape('text', {\n      attrs: _.mix({\n        x: this.leftMargin,\n        y: this.topMargin,\n        text: content\n      }, this.style)\n    });\n    this.shape.name = this.name;\n  };\n  /**\n   * 当text过长时，默认换行\n   * 1. 注意初始text带换行符的场景\n   */\n\n\n  TextDescription.prototype._textWrapper = function () {\n    var width = this.wrapperWidth;\n    var style = this.style;\n    var textContent = this.text;\n    var tShape = new Text({\n      attrs: __assign({\n        text: '',\n        x: 0,\n        y: 0\n      }, style)\n    });\n    var textArr = textContent.split('\\n');\n    var wrappedTextArr = textArr.map(function (wrappedText) {\n      var text = '';\n      var chars = wrappedText.split('');\n      var breakIndex = [];\n\n      for (var i = 0; i < chars.length; i++) {\n        var item = chars[i];\n        tShape.attr('text', text += item);\n        var currentWidth = tShape.getBBox().width - 1;\n\n        if (currentWidth > width) {\n          // 如果是第一个字符就大于宽度不做任何换行处理\n          if (i === 0) {\n            break;\n          }\n\n          breakIndex.push(i);\n          text = '';\n        }\n      }\n\n      return breakText(chars, breakIndex);\n    });\n    tShape.remove();\n    return wrappedTextArr.join('\\n');\n  };\n\n  return TextDescription;\n}();\n\nexport default TextDescription;","import { isNil } from '@antv/util';\nexport var combineFormatter = function combineFormatter() {\n  var formatters = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    formatters[_i] = arguments[_i];\n  }\n\n  return function (text, item, idx) {\n    return formatters.reduce(function (curText, formatter) {\n      return formatter(curText, item, idx);\n    }, text);\n  };\n};\nexport var getNoopFormatter = function getNoopFormatter() {\n  return function (text, item, idx) {\n    return text;\n  };\n};\nexport var getPrecisionFormatter = function getPrecisionFormatter(precision) {\n  return function (text, item, idx) {\n    var num = Number(text);\n    return isNaN(num) || isNil(precision) ? text : num.toFixed(precision);\n  };\n};\nexport var getSuffixFormatter = function getSuffixFormatter(suffix) {\n  return function (text, item, idx) {\n    return isNil(suffix) ? text : text + \" \" + suffix;\n  };\n};","import { __assign, __rest } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\n\nfunction propertyMapping(source, target, field) {\n  if (source[field]) {\n    target[field] = source[field];\n  }\n}\n\nvar AxisParser =\n/** @class */\nfunction () {\n  function AxisParser(cfg) {\n    this.config = false;\n    this.plot = cfg.plot;\n    this.dim = cfg.dim;\n    this.init();\n  }\n\n  AxisParser.prototype.init = function () {\n    this.config = false;\n    var theme = this.plot.getPlotTheme();\n    this.themeConfig = theme && theme.axis && theme.axis[this.dim];\n\n    if (this._needDraw()) {\n      this._styleParser();\n    }\n  };\n\n  AxisParser.prototype._styleParser = function () {\n    this.config = __assign({}, this.localProps);\n    this._isVisible('line') ? this._lineParser() : this.config.line = null;\n    this._isVisible('grid') ? this._gridParser() : this.config.grid = null;\n    this._isVisible('tickLine') ? this._tickLineParser() : this.config.tickLine = null;\n    this._isVisible('label') ? this._labelParser() : this.config.label = null;\n    this._isVisible('title') ? this._titleParser() : this.config.title = null;\n    propertyMapping(this.localProps, this.config, 'autoHideLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateTitle');\n  };\n\n  AxisParser.prototype._needDraw = function () {\n    /** 如果在图表配置项里没有设置坐标轴整体的visibility则去对应的theme取 */\n    var propos = this.plot.options;\n    var propsConfig = propos[this.dim + \"Axis\"] ? propos[this.dim + \"Axis\"] : {};\n\n    var config = _.deepMix({}, this.themeConfig, propsConfig);\n\n    this.localProps = config;\n\n    if (config.visible) {\n      return true;\n    }\n\n    return false;\n  };\n\n  AxisParser.prototype._lineParser = function () {\n    this.config.line = this.localProps.line;\n\n    if (this.localProps.line.style) {\n      this.config.line = this.localProps.line.style;\n    }\n\n    this.applyThemeConfig('line');\n  };\n\n  AxisParser.prototype._gridParser = function () {\n    var _this = this;\n\n    var gridCfg = this.localProps.grid;\n    var style = gridCfg.style;\n\n    if (_.isFunction(style)) {\n      // @see g2/component/src/axis/base:_renderGrid\n      this.config.grid = function (text, index, count) {\n        var cfg = style(text, index, count);\n        return _.deepMix({}, _.get(_this.themeConfig, \"grid.style\"), cfg);\n      };\n    } else if (style) {\n      this.config.grid = style;\n      this.applyThemeConfig('grid');\n    }\n  };\n\n  AxisParser.prototype._tickLineParser = function () {\n    this.config.tickLine = this.localProps.tickLine;\n\n    if (this.localProps.tickLine.style) {\n      this.config.tickLine = this.localProps.tickLine.style;\n    }\n\n    this.applyThemeConfig('tickLine');\n  };\n\n  AxisParser.prototype._labelParser = function () {\n    var _a = this.localProps.label,\n        style = _a.style,\n        restLabelProps = __rest(_a, [\"style\"]);\n\n    var labelConfig = __assign({}, restLabelProps);\n\n    if (style) {\n      labelConfig.textStyle = this.localProps.label.style;\n    }\n\n    labelConfig.textStyle = _.deepMix({}, _.get(this.themeConfig, 'label.style'), labelConfig.textStyle);\n    var formatter = this.parseFormatter(labelConfig);\n    labelConfig.formatter = formatter;\n    this.config.label = labelConfig;\n  };\n\n  AxisParser.prototype._titleParser = function () {\n    var titleConfig = __assign({}, this.localProps.title);\n\n    var _a = this.localProps.title,\n        visible = _a.visible,\n        style = _a.style,\n        text = _a.text;\n\n    if (!visible) {\n      this.config.showTitle = false;\n    } else {\n      this.config.showTitle = true;\n\n      if (style) {\n        titleConfig.textStyle = style;\n      }\n\n      titleConfig.textStyle = _.deepMix({}, _.get(this.config, 'title.style'), titleConfig.textStyle);\n\n      if (text) {\n        titleConfig.text = text;\n      }\n    }\n\n    this.config.title = titleConfig;\n  };\n\n  AxisParser.prototype._isVisible = function (name) {\n    if (this.localProps[name] && this.localProps[name].visible) {\n      return true;\n    }\n\n    return false;\n  };\n\n  AxisParser.prototype.applyThemeConfig = function (type) {\n    this.config[type] = _.deepMix({}, _.get(this.themeConfig, type + \".style\"), this.config[type]);\n  };\n\n  AxisParser.prototype.parseFormatter = function (labelConfig) {\n    var formatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelConfig.precision), getSuffixFormatter(labelConfig.suffix));\n\n    if (labelConfig.formatter) {\n      formatter = combineFormatter(formatter, labelConfig.formatter);\n    }\n\n    return formatter;\n  };\n\n  return AxisParser;\n}();\n\nexport default AxisParser;","import * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction magnitude(v) {\n  var sum = 0;\n\n  _.each(v, function (value) {\n    sum += value * value;\n  });\n\n  return Math.sqrt(sum);\n}\n\nfunction dotProduct2D(va, vb) {\n  return va.x * vb.y + va.y * vb.x;\n}\n\nfunction angleTo(va, vb) {\n  var magA = magnitude(va);\n  var magB = magnitude(vb);\n  var dot = dotProduct2D(va, vb);\n  var angle = Math.acos(dot / magA / magB);\n  return angle;\n}\n\nfunction crossProduct2D(va, vb) {\n  var magA = magnitude(va);\n  var magB = magnitude(vb);\n  var dot = dotProduct2D(va, vb);\n  var angle = Math.acos(dot / magA / magB);\n  return magA * magB * Math.sin(angle);\n}\n\nfunction crossProduct3D(va, vb) {\n  var ax = va.x,\n      ay = va.y,\n      az = va.z;\n  var bx = vb.x,\n      by = vb.y,\n      bz = vb.z;\n  var x = ay * bz - az * by;\n  var y = az * bx - ax * bz;\n  var z = ax * by - ay * bx;\n  return {\n    x: x,\n    y: y,\n    z: z\n  };\n}\n\nfunction sub2D(va, vb) {\n  return {\n    x: va.x - vb.x,\n    y: va.y - vb.y\n  };\n}\n\nfunction applyMatrix(point, matrix, tag) {\n  if (tag === void 0) {\n    tag = 1;\n  }\n\n  var vector = [point.x, point.y, tag];\n  matrixUtil.vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1]\n  };\n}\n\nfunction isBetween(value, min, max) {\n  return value >= min && value <= max;\n}\n\nvar tolerance = 0.001;\n\nfunction getLineIntersect(p0, p1, p2, p3) {\n  var E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y\n  };\n  var D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y\n  };\n  var D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y\n  };\n  var kross = D0.x * D1.y - D0.y * D1.x;\n  var sqrKross = kross * kross;\n  var sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  var sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  var point = null;\n\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    var s = (E.x * D1.y - E.y * D1.x) / kross;\n    var t = (E.x * D0.y - E.y * D0.x) / kross;\n\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y\n      };\n    }\n  }\n\n  return point;\n}\n\nfunction isPointInPolygon(p, polygon) {\n  /** 射线法 */\n  var inside = false;\n\n  for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i].x;\n    var yi = polygon[i].y;\n    var xj = polygon[j].x;\n    var yj = polygon[j].y;\n    var intersect = yi > p.y !== yj > p.y && p.x <= (xj - xi) * (p.y - yi) / (yj - yi) + xi;\n\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n\n  return inside;\n}\n\nfunction sqr(v) {\n  return v * v;\n}\n\nfunction dist2(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPoints(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPointLine(p, p1, p2) {\n  var l2 = dist2(p1, p2);\n\n  if (l2 === 0) {\n    return dist2(p, p1);\n  }\n\n  var t = ((p.x - p1.x) * (p2.x - p1.x) + (p.y - p1.y) * (p2.y - p1.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  var distSquare = dist2(p, {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  });\n  return Math.sqrt(distSquare);\n} // todo：待优化 https://blog.csdn.net/WilliamSun0122/article/details/77994526\n\n\nfunction minDistBetweenPointPolygon(p, polygon) {\n  var min = Infinity;\n  /** vertice to vertice */\n\n  _.each(polygon, function (v) {\n    var dist = Math.sqrt(dist2(v, p));\n\n    if (min > dist) {\n      min = dist;\n    }\n  });\n  /** vertice to edge */\n\n\n  for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i].x;\n    var yi = polygon[i].y;\n    var xj = polygon[j].x;\n    var yj = polygon[j].y;\n    var dist = distBetweenPointLine(p, {\n      x: xi,\n      y: yi\n    }, {\n      x: xj,\n      y: yj\n    });\n\n    if (min > dist) {\n      min = dist;\n    }\n  }\n\n  return min;\n}\n\nfunction isPolygonIntersection(polyA, polyB) {\n  for (var _i = 0, polyA_1 = polyA; _i < polyA_1.length; _i++) {\n    var p = polyA_1[_i];\n    var inside = isPointInPolygon(p, polyB);\n\n    if (inside) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction minDistBetweenConvexPolygon(polyA, polyB) {\n  if (isPolygonIntersection(polyA, polyB)) {\n    return 0;\n  }\n\n  var minA = Infinity;\n  var minB = Infinity;\n\n  _.each(polyA, function (v) {\n    var localMin = minDistBetweenPointPolygon(v, polyB);\n\n    if (minA > localMin) {\n      minA = localMin;\n    }\n  });\n\n  _.each(polyB, function (v) {\n    var localMin = minDistBetweenPointPolygon(v, polyA);\n\n    if (minB > localMin) {\n      minB = localMin;\n    }\n  });\n\n  return Math.min(minA, minB);\n}\n\nfunction bboxOnRotate(shape) {\n  var bbox = shape.getBBox();\n  var x = bbox.minX;\n  var y = bbox.minY;\n  /*\n   * step1: 获得旋转后的shape包围盒\n   * 将包围盒对齐到原点，apply旋转矩阵\n   * 移回原来的位置\n   */\n\n  var bboxWidth = bbox.tr.x - bbox.tl.x;\n  var bboxHeight = bbox.bl.y - bbox.tl.y; // const matrix = shape.getTotalMatrix();\n\n  var matrix = shape.attr('matrix');\n  var ulMatrix = [matrix[0], matrix[1], 0, matrix[3], matrix[4], 0, 0, 0, 1];\n  var top_left = applyMatrix({\n    x: 0,\n    y: 0\n  }, ulMatrix);\n  top_left.x += x;\n  top_left.y += y;\n  var top_right = applyMatrix({\n    x: bboxWidth,\n    y: 0\n  }, ulMatrix);\n  top_right.x += x;\n  top_right.y += y;\n  var bottom_left = applyMatrix({\n    x: 0,\n    y: bboxHeight\n  }, ulMatrix);\n  bottom_left.x += x;\n  bottom_left.y += y;\n  var bottom_right = applyMatrix({\n    x: bboxWidth,\n    y: bboxHeight\n  }, ulMatrix);\n  bottom_right.x += x;\n  bottom_right.y += y;\n  /** step2：根据旋转后的画布位置重新计算包围盒，以免图形进行旋转后上下颠倒 */\n\n  var points = [top_left, top_right, bottom_left, bottom_right];\n  points.sort(function (a, b) {\n    return a.y - b.y;\n  });\n  var minY = points[0].y;\n  var maxY = points[points.length - 1].y;\n  var tops = [points[0], points[1]];\n  var bottoms = [points[2], points[3]];\n  var topLeft = tops[0].x < tops[1].x ? tops[0] : tops[1];\n  var topRight = tops[0].x < tops[1].x ? tops[1] : tops[0];\n  var bottomLeft = bottoms[0].x < bottoms[1].x ? bottoms[0] : bottoms[1];\n  var bottomRight = bottoms[0].x < bottoms[1].x ? bottoms[1] : bottoms[0];\n  points.sort(function (a, b) {\n    return a.x - b.x;\n  });\n  var minX = points[0].x;\n  var maxX = points[points.length - 1].x;\n  var node = {\n    width: maxX - minX,\n    height: maxY - minY,\n    left: minX,\n    right: maxX,\n    top: minY,\n    bottom: maxY,\n    topLeft: topLeft,\n    topRight: topRight,\n    bottomLeft: bottomLeft,\n    bottomRight: bottomRight,\n    centerX: minX + (maxX - minX) / 2,\n    centerY: minY + (maxY - minY) / 2\n  };\n  return node;\n}\n/**\n * 线简化算法\n */\n\n\nvar THRESHOLD = 2;\n\nfunction lineSimplification(points) {\n  if (points.length < 5) {\n    return points;\n  }\n\n  return DouglasPeucker(points, THRESHOLD);\n} // https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\n\n\nfunction DouglasPeucker(points, threshold) {\n  var result;\n  var max = -Infinity;\n  var index = 0;\n  var endIndex = points.length - 1;\n\n  for (var i = 1; i < endIndex; i++) {\n    var point = points[i];\n    var line = {\n      start: points[0],\n      end: points[endIndex]\n    };\n    var dist = distBetweenPointLine(point, line.start, line.end);\n\n    if (dist > max) {\n      max = dist;\n      index = i;\n    }\n  }\n\n  if (max > threshold) {\n    var list1 = DouglasPeucker(points.slice(0, index + 1), threshold);\n    var list2 = DouglasPeucker(points.slice(index, points.length), threshold);\n    result = list1.concat(list2);\n  } else {\n    result = [points[0], points[points.length - 1]];\n  }\n\n  return result;\n}\n/** 统计的以后迁出去，暂时先放这里 */\n\n\nfunction getMedian(array) {\n  var list = _.clone(array);\n\n  list.sort(function (a, b) {\n    return a - b;\n  });\n  var half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return (list[half - 1] + list[half]) / 2.0;\n}\n\nfunction getMean(array) {\n  var sum = 0;\n\n  _.each(array, function (num) {\n    sum += num;\n  });\n\n  return sum / array.length;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nexport { applyMatrix, isBetween, getLineIntersect, isPointInPolygon, distBetweenPoints, distBetweenPointLine, isPolygonIntersection, minDistBetweenConvexPolygon, bboxOnRotate, dotProduct2D, crossProduct2D, crossProduct3D, sub2D, angleTo, lineSimplification, getMedian, getMean, sturges, dist2 };","import { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getMean, getMedian } from '../util/math';\n\nvar GuideLine =\n/** @class */\nfunction () {\n  function GuideLine(cfg) {\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  GuideLine.prototype._init = function () {\n    var props = this.plot.options;\n    var defaultStyle = this.getDefaultStyle();\n    var baseConfig = {\n      type: 'line',\n      top: true,\n      start: this.cfg.start,\n      end: this.cfg.end\n    };\n    baseConfig.line = _.deepMix({}, defaultStyle.line, {\n      style: this.cfg.lineStyle\n    });\n    baseConfig.text = _.deepMix({}, defaultStyle.text, this.cfg.text);\n\n    if (this.cfg.type) {\n      var stateValue = this._getState(this.cfg.type);\n\n      var minValue = this._getState('min');\n\n      var maxValue = this._getState('max');\n\n      var Scale = getScale('linear'); // 重新组织scale并使用scale的min和max来计算guide point的百分比位置，以避免受nice的影响\n\n      var scale = new Scale(_.mix({}, {\n        min: this.plot.type === 'column' ? 0 : minValue,\n        max: maxValue,\n        nice: true,\n        values: this.values\n      }, this.plot.config.scales[props.yField]));\n      var percent = (1.0 - scale.scale(stateValue)) * 100 + \"%\";\n      var start = ['0%', percent];\n      var end = ['100%', percent];\n      this.config = _.mix({\n        start: start,\n        end: end\n      }, baseConfig);\n    } else {\n      this.config = baseConfig;\n    }\n  };\n\n  GuideLine.prototype._getState = function (type) {\n    this.values = this._extractValues();\n\n    if (type === 'median') {\n      return getMedian(this.values);\n    }\n\n    if (type === 'mean') {\n      return getMean(this.values);\n    }\n\n    if (type === 'max') {\n      return Math.max.apply(Math, this.values);\n    }\n\n    if (type === 'min') {\n      return Math.min.apply(Math, this.values);\n    }\n  };\n\n  GuideLine.prototype._extractValues = function () {\n    var props = this.plot.options;\n    var field = props.yField;\n    var values = [];\n\n    _.each(props.data, function (d) {\n      values.push(d[field]);\n    });\n\n    return values;\n  };\n\n  GuideLine.prototype.getDefaultStyle = function () {\n    this.getDefaultTextAlign();\n    return {\n      line: {\n        style: {\n          lineWidth: 2,\n          stroke: '#333333',\n          opacity: 0.7,\n          lineDash: [0, 0]\n        }\n      },\n      text: {\n        offsetY: -5,\n        style: {\n          fontSize: 14,\n          stroke: 'white',\n          lineWidth: 2,\n          textAlign: this.getDefaultTextAlign()\n        }\n      }\n    };\n  };\n\n  GuideLine.prototype.getDefaultTextAlign = function () {\n    var textConfig = this.cfg.text;\n\n    if (textConfig) {\n      if (!textConfig.position || textConfig.position === 'start') {\n        return 'left';\n      }\n\n      if (textConfig.position === 'center') {\n        return 'center';\n      }\n\n      if (textConfig.position === 'end') {\n        return 'right';\n      }\n    }\n  };\n\n  return GuideLine;\n}();\n\nexport default GuideLine;","import * as _ from '@antv/util'; // import { compare } from '../../base/controller/state';\n// 对axis label和label样式进行缓存\n\nvar labels;\nvar originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var _a = beforeCompare(label, condition),\n        labelData = _a.labelData,\n        con = _a.con;\n\n    if (compare(labelData, con)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelActiveStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var _a = beforeCompare(label, condition),\n        labelData = _a.labelData,\n        con = _a.con;\n\n    if (compare(labelData, con)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelDisableStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllAxisLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  var axes = plot.view.get('axisController').axes;\n\n  _.each(axes, function (axis) {\n    var labelArr = [];\n    var scale = getScale(plot, axis);\n    var labelShapes = axis.get('labelRenderer').get('group').get('children');\n\n    _.each(labelShapes, function (shape) {\n      if (shape.type === 'text') {\n        labelArr.push({\n          shape: shape\n        });\n        originAttrs.push(shape.attr());\n      }\n    });\n\n    if (scale) {\n      // 取到scale values作为原始数据，避免被label format的影响\n      var ticks_1 = scale.ticks,\n          field_1 = scale.field;\n\n      _.each(labelArr, function (label, index) {\n        label.value = ticks_1[index];\n        label.scaleField = field_1;\n        label.type = scale.type;\n      });\n    }\n\n    labels.push.apply(labels, labelArr);\n  });\n} // 获取坐标轴对应的scale\n\n\nfunction getScale(plot, axis) {\n  var props = plot.options;\n  var dim = 'y';\n  var position = axis.get('position');\n\n  if (position === 'bottom' || position === 'top') {\n    dim = 'x';\n  }\n\n  var scaleField = props[dim + \"Field\"];\n  return plot.view.get('scales')[scaleField];\n}\n\nfunction beforeCompare(label, condition) {\n  var _a;\n\n  var labelData = (_a = {}, _a[label.scaleField] = label.value, _a);\n\n  var con = _.clone(condition);\n\n  if (label.type === 'time' && _.isObject(condition) && !_.isFunction(con.exp)) {\n    con.exp = new Date(con.exp).getTime();\n  }\n\n  return {\n    labelData: labelData,\n    con: con\n  };\n}\n\nfunction labelDisableStyle(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n}\n\nfunction labelActiveStyle(style) {\n  return {\n    opacity: 1,\n    fontWeight: 600,\n    fill: 'red'\n  };\n}\n\nfunction compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    var name_1 = condition.name,\n        exp = condition.exp;\n\n    if (!origin[name_1]) {\n      return false;\n    }\n\n    if (_.isFunction(exp)) {\n      return exp(origin[name_1]);\n    }\n\n    return origin[name_1] === exp;\n  }\n\n  return condition(origin);\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\n\nvar LabelParser =\n/** @class */\nfunction () {\n  function LabelParser(cfg) {\n    this.config = {};\n\n    var plot = cfg.plot,\n        rest = __rest(cfg, [\"plot\"]);\n\n    this.plot = plot;\n    this.originConfig = rest;\n    this.init(cfg);\n  }\n\n  LabelParser.prototype.getConfig = function () {\n    return this.config;\n  };\n\n  LabelParser.prototype.init = function (cfg) {\n    var _this = this;\n\n    _.assign(this.config, cfg);\n\n    this.config.callback = function (val) {\n      var restArgs = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        restArgs[_i - 1] = arguments[_i];\n      }\n\n      return _this.parseCallBack.apply(_this, __spreadArrays([val], restArgs));\n    };\n  };\n\n  LabelParser.prototype.parseCallBack = function (val) {\n    var restArgs = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      restArgs[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    var theme = this.plot.getPlotTheme();\n\n    var config = __assign({}, labelProps);\n\n    this.parseOffset(labelProps, config);\n\n    if (labelProps.position) {\n      if (_.isFunction(labelProps.position)) {\n        config.position = labelProps.position(val);\n      } else {\n        config.position = labelProps.position;\n      }\n    }\n\n    this.parseFormatter.apply(this, __spreadArrays([config, val], restArgs));\n\n    if (labelProps.style) {\n      if (_.isFunction(labelProps.style)) {\n        config.textStyle = labelProps.style(val);\n      } else {\n        config.textStyle = labelProps.style;\n      }\n    }\n\n    config.textStyle = _.deepMix({}, _.get(theme, 'label.style'), config.textStyle);\n\n    if (labelProps.autoRotate) {\n      config.autoRotate = labelProps.autoRotate;\n    }\n\n    return config;\n  };\n\n  LabelParser.prototype.parseOffset = function (props, config) {\n    var mapper = ['offset', 'offsetX', 'offsetY'];\n    var count = 0;\n\n    _.each(mapper, function (m) {\n      if (_.has(props, m)) {\n        config[m] = props[m];\n        count++;\n      }\n    }); // 如用户没有设置offset，而label position又为middle时，则默认设置offset为0\n\n\n    if (count === 0 && _.get(props, 'position') === 'middle') {\n      config.offset = 0;\n    }\n  };\n\n  LabelParser.prototype.parseFormatter = function (config) {\n    var values = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      values[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    config.formatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelProps.precision), getSuffixFormatter(labelProps.suffix));\n\n    if (labelProps.formatter) {\n      config.formatter = combineFormatter(config.formatter, labelProps.formatter);\n    }\n  };\n\n  return LabelParser;\n}();\n\nexport default LabelParser;","import { __extends } from \"tslib\";\n/**\n * 可插拔的状态量管理机\n */\n// todo: 后续还需要加入交互互斥的维护机制\n\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\n\nvar StateManager =\n/** @class */\nfunction (_super) {\n  __extends(StateManager, _super);\n\n  function StateManager(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this._states = {};\n    _this._stateStack = {};\n    return _this;\n  }\n\n  StateManager.prototype.setState = function (name, exp) {\n    this._stateStack[name] = exp;\n\n    this._onUpdate();\n  };\n\n  StateManager.prototype.getState = function (name) {\n    return this._states[name];\n  };\n\n  StateManager.prototype.getAllStates = function () {\n    return this._states;\n  };\n\n  StateManager.prototype.clear = function () {\n    this._states = {};\n    this._stateStack = {};\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  };\n\n  StateManager.prototype._onUpdate = function () {\n    var _this = this;\n\n    var stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(function () {\n      // for (const name in stateStack) {\n      _.each(stateStack, function (exp, name) {\n        var state = stateStack[name];\n\n        if (!_this._states[name] || _this._states[name] !== exp) {\n          // update states\n          _this._states[name] = exp; // dispatch state event\n\n          _this._triggerEvent(name, state);\n        }\n      }); // }\n      // clear stack\n\n\n      _this._stateStack = {};\n    }, 16);\n  };\n\n  StateManager.prototype._triggerEvent = function (name, exp) {\n    this.emit(name + \":change\", {\n      name: name,\n      exp: exp\n    });\n  };\n\n  return StateManager;\n}(EventEmitter);\n\nexport default StateManager;","import * as _ from '@antv/util';\nimport { getComponentStateMethod } from '../../components/factory';\nimport { onEvent } from '../../util/event';\nimport StateManager from '../../util/state-manager';\nexport function compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    var name_1 = condition.name,\n        exp = condition.exp;\n\n    if (_.isFunction(exp)) {\n      return exp(origin[name_1]);\n    }\n\n    return origin[name_1] === exp;\n  }\n\n  return condition(origin);\n}\n\nvar StateController =\n/** @class */\nfunction () {\n  function StateController(cfg) {\n    this.shapeContainers = [];\n\n    _.assign(this, cfg);\n  }\n\n  StateController.prototype.createStateManager = function (cfg) {\n    this.stateManager = new StateManager(cfg);\n  };\n\n  StateController.prototype.bindStateManager = function (manager, cfg) {\n    this.stateManager = manager;\n\n    if (cfg.setState) {\n      this._updateStateProcess(cfg.setState);\n    }\n\n    if (cfg.onStateChange) {\n      this._stateChangeProcess(cfg.onStateChange);\n    }\n  };\n\n  StateController.prototype.defaultStates = function (states) {\n    var _this = this;\n\n    _.each(states, function (state, type) {\n      var condition = state.condition,\n          style = state.style,\n          related = state.related;\n\n      _this.setState({\n        type: type,\n        condition: condition,\n        related: related\n      });\n    });\n  };\n\n  StateController.prototype.setState = function (cfg) {\n    var _this = this;\n\n    var type = cfg.type,\n        condition = cfg.condition,\n        related = cfg.related;\n\n    if (!this.shapes) {\n      this.shapes = this._getShapes();\n      this.originAttrs = this._getOriginAttrs();\n    } // this.resetZIndex();\n\n\n    _.each(this.shapes, function (shape, index) {\n      var shapeOrigin = shape.get('origin');\n      var origin = _.isArray(shapeOrigin) ? shapeOrigin[0]._origin : shapeOrigin._origin;\n\n      if (compare(origin, condition)) {\n        var stateStyle = cfg.style ? cfg.style : _this._getDefaultStateStyle(type, shape);\n        var originAttr = _this.originAttrs[index];\n        var attrs = void 0;\n\n        if (_.isFunction(stateStyle)) {\n          attrs = stateStyle(originAttr);\n        } else {\n          attrs = _.mix({}, originAttr, stateStyle);\n        }\n\n        shape.attr(attrs);\n\n        _this.setZIndex(type, shape); // const canvas = this.plot.canvas;\n        // canvas.draw();\n\n      }\n    }); // 组件与图形对状态量的响应不一定同步\n\n\n    if (related) {\n      this._parserRelated(type, related, condition);\n    }\n\n    this.plot.canvas.draw();\n  };\n\n  StateController.prototype._updateStateProcess = function (setStateCfg) {\n    var _this = this;\n\n    _.each(setStateCfg, function (cfg) {\n      var state = cfg.state;\n      var handler;\n\n      if (_.isFunction(state)) {\n        handler = function handler(e) {\n          var s = state(e);\n\n          _this.stateManager.setState(s.name, s.exp);\n        };\n      } else {\n        handler = function handler() {\n          _this.stateManager.setState(state.name, state.exp);\n        };\n      }\n\n      if (cfg.event) {\n        onEvent(_this.plot, _this._eventParser(cfg.event), handler);\n      } else {\n        handler();\n      }\n    });\n  };\n\n  StateController.prototype._stateChangeProcess = function (onChangeCfg) {\n    var _this = this;\n\n    _.each(onChangeCfg, function (cfg) {\n      _this.stateManager.on(cfg.name + \":change\", function (props) {\n        cfg.callback(props, _this.plot);\n      });\n    });\n  };\n\n  StateController.prototype._getShapes = function () {\n    var _this = this;\n\n    var shapes = [];\n    var geoms = this.plot.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapeContainer = geom.get('shapeContainer');\n\n      _this.shapeContainers.push(shapeContainer);\n\n      if (!geom.destroyed) {\n        shapes.push.apply(shapes, geom.getShapes());\n      }\n    });\n\n    return shapes;\n  };\n\n  StateController.prototype._getOriginAttrs = function () {\n    var attrs = [];\n\n    _.each(this.shapes, function (shape) {\n      attrs.push(_.clone(shape.attr()));\n    });\n\n    return attrs;\n  }; // 将g2 geomtry转为plot层geometry\n\n\n  StateController.prototype._eventParser = function (event) {\n    var eventCfg = event.split(':');\n    var eventTarget = this.plot.geometryParser('g2', eventCfg[0]);\n    var eventName = eventCfg[1];\n    return eventTarget + \":\" + eventName;\n  };\n\n  StateController.prototype._getDefaultStateStyle = function (type, shape) {\n    var theme = this.plot.theme;\n    var plotGeomType = this.plot.geometryParser('plot', shape.name);\n    var styleField = plotGeomType + \"Style\";\n\n    if (theme[styleField]) {\n      var style = theme[styleField][type];\n\n      if (_.isFunction(style)) {\n        style = style(shape.attr());\n      }\n\n      return style;\n    }\n\n    return {};\n  };\n\n  StateController.prototype._parserRelated = function (type, related, condition) {\n    var _this = this;\n\n    _.each(related, function (r) {\n      if (_this.plot[r]) {\n        // fixme: 自定义组件\n        // this.plot[r].setState(type, condition);\n        var method = getComponentStateMethod(r, type);\n        method(_this.plot, condition);\n      }\n    });\n  }; // private set\n\n\n  StateController.prototype.setZIndex = function (stateType, shape) {\n    if (stateType === 'active' || stateType === 'selected') {\n      // shape.setZIndex(1);\n      var children = shape.get('parent').get('children');\n      children[children.length - 1].setZIndex(0);\n      shape.setZIndex(1);\n    }\n  };\n\n  StateController.prototype.resetZIndex = function () {\n    _.each(this.shapeContainers, function (container) {\n      var children = container.get('children');\n      children.sort(function (obj1, obj2) {\n        return obj1._INDEX - obj2._INDEX;\n      });\n    });\n  };\n\n  return StateController;\n}();\n\nexport default StateController;","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state'; // 对label和label样式进行缓存\n\nvar labels;\nvar originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var origin = label.get('origin');\n\n    if (compare(origin, condition)) {\n      var originAttr = originAttrs[index];\n\n      var style = _.mix({}, originAttr, {\n        opacity: 1\n      });\n\n      label.attr(style);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n\n  _.each(labels, function (label, index) {\n    var origin = label.get('origin');\n\n    if (compare(origin, condition)) {\n      var originAttr = originAttrs[index];\n      var disableStyle = labelDisableStyle(originAttr);\n      label.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  var geoms = plot.view.get('elements');\n\n  _.each(geoms, function (geom) {\n    var geomLabels = geom.get('labels');\n\n    if (geomLabels) {\n      _.each(geomLabels, function (label) {\n        labels.push(label);\n        originAttrs.push(label.attr());\n      });\n    }\n  });\n}\n\nfunction labelDisableStyle(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","// components parser\nimport AxisParser from './axis/parser';\nimport GuideLine from './guide-line';\nimport LabelParser from './label/parser'; // components state methods\n\nimport axisState from './axis/state';\nimport labelState from './label/state';\nimport tooltipState from './tooltip/state';\nvar COMPONENT_MAPPER = {\n  axis: AxisParser,\n  label: LabelParser,\n  guideLine: GuideLine\n};\nvar STATE_MAPPER = {\n  tooltip: tooltipState,\n  label: labelState,\n  axis: axisState\n};\nexport function getComponent(name, cfg) {\n  var Components = COMPONENT_MAPPER[name];\n  return new Components(cfg).config;\n}\nexport function getComponentStateMethod(name, type) {\n  return STATE_MAPPER[name][type];\n}","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state';\nvar POSITION_MAPPER = ['xField', 'yField', 'angleField'];\n\nfunction onActive(plot, condition) {\n  var props = plot.options; // 获取state condition对应在画布的位置，只有在state condition对应字段为位置映射字段时，tooltip才会对齐进行响应\n\n  if (shouldActive(props, condition)) {\n    var data = props.data;\n\n    _.each(data, function (d) {\n      if (compare(d, condition)) {\n        var point = plot.view.getXY(d); // 调用showTooltip方法\n\n        plot.view.on('tooltip:create', function (e) {\n          processState(condition, e, false);\n        });\n        plot.view.showTooltip(point);\n      }\n    });\n  }\n}\n\nfunction onDisable(plot, condition) {\n  plot.view.on('tooltip:change', function (e) {\n    processState(condition, e, true);\n  });\n}\n\nfunction processState(condition, e, inverse) {\n  var expected = inverse ? false : true;\n\n  var originItems = _.clone(e.items);\n\n  e.items.splice(0);\n\n  _.each(originItems, function (item) {\n    var origin = item.point._origin;\n\n    if (compare(origin, condition) === expected) {\n      e.items.push(item);\n    }\n  });\n}\n\nfunction shouldActive(props, condition) {\n  var fields = getPositionField(props);\n  return !_.isFunction(condition) && fields.indexOf(condition.name);\n}\n\nfunction getPositionField(props) {\n  var fields = [];\n\n  _.each(POSITION_MAPPER, function (v) {\n    if (_.has(props, v)) {\n      fields.push(v);\n    }\n  });\n\n  return fields;\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable\n};","import { __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar BaseInteraction =\n/** @class */\nfunction (_super) {\n  __extends(BaseInteraction, _super);\n\n  function BaseInteraction(cfg, viewLayer, interactionRange, interaction) {\n    var _this = _super.call(this, cfg) || this;\n\n    _this.viewLayer = viewLayer;\n    _this.interactionRange = interactionRange;\n    _this.interactionConfig = interaction;\n\n    _this.render();\n\n    return _this;\n  }\n\n  BaseInteraction.registerInteraction = function (type, ctor) {\n    BaseInteraction.GLOBAL_INTERACTION_MAP[type] = ctor;\n  };\n\n  BaseInteraction.registerPlotInteraction = function (plotType, type, ctor) {\n    if (!BaseInteraction.PLOT_INTERACTION_MAP[plotType]) {\n      BaseInteraction.PLOT_INTERACTION_MAP[plotType] = {};\n    }\n\n    BaseInteraction.PLOT_INTERACTION_MAP[plotType][type] = ctor;\n  };\n\n  BaseInteraction.getInteraction = function (type, plotType) {\n    if (plotType && BaseInteraction.PLOT_INTERACTION_MAP[plotType] && BaseInteraction[plotType][type]) {\n      return BaseInteraction.PLOT_INTERACTION_MAP[plotType][type];\n    }\n\n    return BaseInteraction.GLOBAL_INTERACTION_MAP[type];\n  };\n\n  BaseInteraction.getInteractionRange = function (layerRange, interaction) {\n    return undefined;\n  };\n\n  BaseInteraction.prototype.destroy = function () {\n    this.clear();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  BaseInteraction.prototype.getViewLayer = function () {\n    return this.viewLayer;\n  };\n\n  BaseInteraction.prototype.getRange = function () {\n    return this.interactionRange;\n  };\n\n  BaseInteraction.prototype.getInteractionConfig = function () {\n    return this.interactionConfig;\n  };\n\n  BaseInteraction.prototype.render = function () {};\n\n  BaseInteraction.prototype.clear = function () {};\n\n  BaseInteraction.GLOBAL_INTERACTION_MAP = {};\n  BaseInteraction.PLOT_INTERACTION_MAP = {};\n  return BaseInteraction;\n}(Interaction);\n\nexport default BaseInteraction;","var DEFAULT_STYLE = {\n  trackColor: 'rgba(0,0,0,0)',\n  thumbColor: 'rgba(0,0,0,0.15)',\n  size: 8,\n  lineCap: 'round'\n};\nexport var DEFAULT_THEME = {\n  // 默认样式\n  default: DEFAULT_STYLE,\n  // 鼠标 hover 的样式\n  hover: {\n    thumbColor: 'rgba(0,0,0,0.2)'\n  }\n};","import { __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { DEFAULT_THEME } from './style';\n\nvar ScrollBar =\n/** @class */\nfunction (_super) {\n  __extends(ScrollBar, _super);\n\n  function ScrollBar(scrollBarCfg) {\n    var _this = _super.call(this) || this; // 通过拖拽开始的事件是 mousedown 还是 touchstart 来决定是移动端还是 pc 端\n\n\n    _this._isMobile = false;\n\n    _this._onStartEvent = function (isMobile) {\n      return function (e) {\n        _this._isMobile = isMobile; // 阻止冒泡\n\n        e.event.preventDefault();\n        var event = _this._isMobile ? _.get(e.event, 'touches.0', e) : e;\n        var clientX = event.clientX,\n            clientY = event.clientY; // 将开始的点记录下来\n\n        _this._startPos = _this.isHorizontal ? clientX : clientY;\n\n        _this._bindLaterEvent();\n      };\n    }; // 点击滑道的事件回调,移动滑块位置\n\n\n    _this._onTrackClick = function (e) {\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      var rect = containerDOM.getBoundingClientRect();\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      var offset = _this.isHorizontal ? clientX - rect.left - _this.position.x - _this.thumbLen / 2 : clientY - rect.top - _this.position.y - _this.thumbLen / 2;\n\n      var newOffset = _this._validateRange(offset);\n\n      _this.updateThumbOffset(newOffset);\n    }; // 拖拽滑块的事件回调\n    // 这里是 dom 原生事件，绑定在 dom 元素上的\n\n\n    _this._onMouseMove = function (e) {\n      e.preventDefault();\n      var event = _this._isMobile ? _.get(e, 'touches.0', e) : e;\n      var clientX = event.clientX;\n      var clientY = event.clientY; // 鼠标松开的位置\n\n      var endPos = _this.isHorizontal ? clientX : clientY; // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n\n      var diff = endPos - _this._startPos; // 更新 _startPos\n\n      _this._startPos = endPos;\n\n      _this.updateThumbOffset(_this.thumbOffset + diff);\n    }; // 滑块鼠标松开事件回调\n\n\n    _this._onMouseUp = function (e) {\n      // 松开鼠标时，清除所有事件\n      e.preventDefault();\n\n      _this._clearEvents();\n    };\n\n    _this._onTrackMouseOver = function (e) {\n      var thumbColor = _this.theme.hover.thumbColor;\n\n      _this.thumbShape.attr('stroke', thumbColor);\n\n      _this.get('canvas').draw();\n    };\n\n    _this._onTrackMouseOut = function (e) {\n      var thumbColor = _this.theme.default.thumbColor;\n\n      _this.thumbShape.attr('stroke', thumbColor);\n\n      _this.get('canvas').draw();\n    };\n\n    var _a = scrollBarCfg.isHorizontal,\n        isHorizontal = _a === void 0 ? false : _a,\n        trackLen = scrollBarCfg.trackLen,\n        thumbLen = scrollBarCfg.thumbLen,\n        position = scrollBarCfg.position,\n        _b = scrollBarCfg.minThumbLen,\n        minThumbLen = _b === void 0 ? 20 : _b,\n        _c = scrollBarCfg.thumbOffset,\n        thumbOffset = _c === void 0 ? 0 : _c,\n        theme = scrollBarCfg.theme;\n    _this.isHorizontal = isHorizontal;\n    _this.thumbOffset = thumbOffset;\n    _this.trackLen = trackLen;\n    _this.thumbLen = thumbLen;\n    _this.position = position;\n    _this.minThumbLen = minThumbLen;\n    _this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n\n    _this._initScrollBar();\n\n    return _this;\n  }\n  /**\n   * 当前滑块滑动的位置 0 ~ 1\n   */\n\n\n  ScrollBar.prototype.current = function () {\n    var thumbRate = this.thumbLen / this.trackLen;\n    var offsetRate = this.thumbOffset / this.trackLen;\n    return offsetRate / (1 - thumbRate);\n  };\n  /**\n   * 更新滑道长度\n   * @param newTrackLen 新的滑块长度\n   */\n\n\n  ScrollBar.prototype.updateTrackLen = function (newTrackLen) {\n    // 如果更新后的 trackLen 没改变，无需执行后续逻辑\n    if (this.trackLen === newTrackLen) {\n      return;\n    } // 更新滑道长度的时候，同时按比例更新滑块长度和 offset(增大视窗或者减小视窗的场景))\n\n\n    var thumbRate = this.thumbLen / this.trackLen;\n    var offsetRate = this.thumbOffset / this.trackLen;\n    var newThumbLen = newTrackLen * thumbRate;\n    var newOffset = newTrackLen * offsetRate;\n    this.trackLen = newTrackLen;\n\n    if (this.isHorizontal) {\n      this.trackShape.attr('x2', newTrackLen);\n    } else {\n      this.trackShape.attr('y2', newTrackLen);\n    }\n\n    this.updateThumbLen(newThumbLen);\n    this.updateThumbOffset(newOffset);\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑块长度\n   * @param newThumbLen 新的滑道长度\n   */\n\n\n  ScrollBar.prototype.updateThumbLen = function (newThumbLen) {\n    // 如果更新后的 thumbLen 没改变，无需执行后续逻辑\n    if (this.thumbLen === newThumbLen) {\n      return;\n    }\n\n    this.thumbLen = newThumbLen;\n\n    if (this.isHorizontal) {\n      this.thumbShape.attr('x2', this.thumbOffset + newThumbLen);\n    } else {\n      this.thumbShape.attr('y2', this.thumbOffset + newThumbLen);\n    }\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑块的 offset 值\n   * @param offset\n   */\n\n\n  ScrollBar.prototype.updateThumbOffset = function (offset) {\n    var newOffset = this._validateRange(offset); // 如果更新后的 offset 与原值相同，则不改变\n\n\n    if (this.thumbOffset === newOffset) {\n      return;\n    }\n\n    this.thumbOffset = newOffset;\n\n    if (this.isHorizontal) {\n      this.thumbShape.attr({\n        x1: newOffset,\n        x2: newOffset + this.thumbLen\n      });\n    } else {\n      this.thumbShape.attr({\n        y1: newOffset,\n        y2: newOffset + this.thumbLen\n      });\n    }\n\n    this._renderNewScrollBar();\n  };\n  /**\n   * 更新滑道位置\n   * @param newPos 新的滑块位置\n   */\n\n\n  ScrollBar.prototype.updateScrollBarPos = function (newPos) {\n    if (newPos.x === this.position.x && newPos.y === this.position.y) {\n      return;\n    }\n\n    this.position = newPos;\n    this.scrollBarGroup.move(newPos.x, newPos.y);\n\n    this._renderNewScrollBar();\n  }; // 绘制新的 scrollBar\n\n\n  ScrollBar.prototype._renderNewScrollBar = function () {\n    // 发送事件\n    this.emit('scrollchange', {\n      thumbOffset: this.thumbOffset,\n      ratio: _.clamp(this.thumbOffset / (this.trackLen - this.thumbLen), 0, 1)\n    }); // 渲染\n\n    if (this.get('canvas')) {\n      this.get('canvas').draw();\n    }\n  };\n\n  ScrollBar.prototype.updateTheme = function (theme) {\n    this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n    this.thumbShape.attr('stroke', this.theme.default.thumbColor);\n    this.thumbShape.attr('lineWidth', this.theme.default.size);\n    this.thumbShape.attr('lineCap', this.theme.default.lineCap);\n    this.get('canvas').draw();\n  }; // 初始化 scrollBar\n\n\n  ScrollBar.prototype._initScrollBar = function () {\n    this.scrollBarGroup = this._createScrollBarGroup();\n    this.scrollBarGroup.move(this.position.x, this.position.y); // 绑定事件\n\n    this._bindEvents();\n  }; // 创建 scrollBar 的 group\n\n\n  ScrollBar.prototype._createScrollBarGroup = function () {\n    var group = this.addGroup({\n      className: this.isHorizontal ? 'horizontalBar' : 'verticalBar'\n    });\n    this.trackShape = this._createTrackShape(group);\n    this.thumbShape = this._createThumbShape(group);\n    return group;\n  }; // 创建滑道的 shape\n\n\n  ScrollBar.prototype._createTrackShape = function (group) {\n    var _a = this.theme.default,\n        lineCap = _a.lineCap,\n        trackColor = _a.trackColor,\n        size = _a.size;\n\n    if (this.isHorizontal) {\n      return group.addShape('line', {\n        attrs: {\n          x1: 0,\n          y1: size / 2,\n          x2: this.trackLen,\n          y2: size / 2,\n          lineWidth: size,\n          stroke: trackColor,\n          lineCap: lineCap\n        }\n      });\n    }\n\n    return group.addShape('line', {\n      attrs: {\n        x1: size / 2,\n        y1: 0,\n        x2: size / 2,\n        y2: this.trackLen,\n        lineWidth: size,\n        stroke: trackColor,\n        lineCap: lineCap\n      }\n    });\n  }; // 创建滑块的 shape\n\n\n  ScrollBar.prototype._createThumbShape = function (group) {\n    var _a = this.theme.default,\n        size = _a.size,\n        lineCap = _a.lineCap,\n        thumbColor = _a.thumbColor;\n\n    if (this.isHorizontal) {\n      return group.addShape('line', {\n        attrs: {\n          x1: this.thumbOffset,\n          y1: size / 2,\n          x2: this.thumbOffset + this.thumbLen,\n          y2: size / 2,\n          lineWidth: size,\n          stroke: thumbColor,\n          lineCap: lineCap,\n          cursor: 'default'\n        }\n      });\n    }\n\n    return group.addShape('line', {\n      attrs: {\n        x1: size / 2,\n        y1: this.thumbOffset,\n        x2: size / 2,\n        y2: this.thumbOffset + this.thumbLen,\n        lineWidth: size,\n        stroke: thumbColor,\n        lineCap: lineCap,\n        cursor: 'default'\n      }\n    });\n  }; // 事件绑定\n\n\n  ScrollBar.prototype._bindEvents = function () {\n    this.on('mousedown', this._onStartEvent(false)); // 因为上层交叉表交互 prevent 事件，导致 containerDOM 上的 mouseup 事件没有执行，\n    // 整个拖拽过程没有 cancel 掉。\n\n    this.on('mouseup', this._onMouseUp);\n    this.on('touchstart', this._onStartEvent(true));\n    this.on('touchend', this._onMouseUp);\n    this.trackShape.on('click', this._onTrackClick);\n    this.thumbShape.on('mouseover', this._onTrackMouseOver);\n    this.thumbShape.on('mouseout', this._onTrackMouseOut);\n  };\n\n  ScrollBar.prototype._bindLaterEvent = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var events = [];\n\n    if (this._isMobile) {\n      events = [domUtil.addEventListener(containerDOM, 'touchmove', this._onMouseMove), domUtil.addEventListener(containerDOM, 'touchend', this._onMouseUp), domUtil.addEventListener(containerDOM, 'touchcancel', this._onMouseUp)];\n    } else {\n      events = [domUtil.addEventListener(containerDOM, 'mousemove', this._onMouseMove), domUtil.addEventListener(containerDOM, 'mouseup', this._onMouseUp), // 为了保证划出 canvas containerDom 时还没触发 mouseup\n      domUtil.addEventListener(containerDOM, 'mouseleave', this._onMouseUp)];\n    }\n\n    this._clearEvents = function () {\n      events.forEach(function (e) {\n        e.remove();\n      });\n    };\n  }; // 判断滑块位置是否超出滑道区域\n\n\n  ScrollBar.prototype._validateRange = function (offset) {\n    var newOffset = offset;\n\n    if (offset + this.thumbLen > this.trackLen) {\n      newOffset = this.trackLen - this.thumbLen;\n    } else if (offset + this.thumbLen < this.thumbLen) {\n      newOffset = 0;\n    }\n\n    return newOffset;\n  };\n\n  return ScrollBar;\n}(Group);\n\nexport default ScrollBar;","import { __assign, __extends } from \"tslib\";\nimport { Group, Path } from '@antv/g';\nvar DIR_MAPPER = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction (_super) {\n  __extends(Arrow, _super);\n\n  function Arrow(cfg) {\n    var _this = _super.call(this) || this; // 解构，追加默认值\n\n\n    var _a = cfg.position,\n        position = _a === void 0 ? {\n      x: 0,\n      y: 0\n    } : _a,\n        _b = cfg.width,\n        width = _b === void 0 ? 10 : _b,\n        _c = cfg.height,\n        height = _c === void 0 ? 10 : _c,\n        _d = cfg.direction,\n        direction = _d === void 0 ? 'right' : _d,\n        _e = cfg.shapeAttrs,\n        shapeAttrs = _e === void 0 ? {} : _e;\n    _this.position = position;\n    _this.width = width;\n    _this.height = height;\n    _this.direction = direction;\n    _this.shapeAttrs = shapeAttrs;\n\n    _this._init();\n\n    return _this;\n  }\n\n  Arrow.prototype._init = function () {\n    var _this = this;\n\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    var shape = new Path({\n      attrs: __assign({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.shapeAttrs)\n    });\n    this.add(shape); // rotate\n\n    this.rotate(DIR_MAPPER[this.direction]); // move to\n\n    this.move(this.position.x, this.position.y);\n    shape.on('click', function (e) {\n      e.stopPropagation();\n\n      _this.emit('click', e);\n    });\n  };\n\n  return Arrow;\n}(Group);\n\nexport default Arrow;","import { __assign, __extends } from \"tslib\";\n/**\n * Icon 需求和设计：https://yuque.antfin-inc.com/eva-engine/specs/sh9uyn\n * 使用 icon font\n */\n\nimport { Group } from '@antv/g';\n\nvar Icon =\n/** @class */\nfunction (_super) {\n  __extends(Icon, _super);\n\n  function Icon(cfg) {\n    var _this = _super.call(this, cfg) || this;\n\n    var _a = cfg.position,\n        position = _a === void 0 ? {\n      x: 0,\n      y: 0\n    } : _a,\n        icon = cfg.icon,\n        _b = cfg.text,\n        text = _b === void 0 ? '' : _b,\n        _c = cfg.spacing,\n        spacing = _c === void 0 ? 8 : _c,\n        iconStyle = cfg.iconStyle,\n        textStyle = cfg.textStyle,\n        _d = cfg.interactive,\n        interactive = _d === void 0 ? false : _d;\n    _this.position = position;\n    _this.icon = icon;\n    _this.text = text;\n    _this.spacing = spacing; // todo 默认样式\n\n    _this.iconStyle = __assign({\n      fontFamily: 'iconfont',\n      fontSize: 16,\n      textAlign: 'left',\n      textBaseline: 'top',\n      fill: '#1890ff'\n    }, iconStyle);\n    _this.textStyle = __assign({\n      fontSize: 12,\n      textAlign: 'left',\n      textBaseline: 'middle',\n      fill: '#000'\n    }, textStyle);\n    _this.interactive = interactive; // 渲染\n\n    _this._initIcon();\n\n    if (_this.interactive) {\n      _this._bindEvent();\n    }\n\n    return _this;\n  } // 绘制 icon\n\n\n  Icon.prototype._initIcon = function () {\n    var _a = this.position,\n        x = _a.x,\n        y = _a.y;\n    var icon = String.fromCharCode(parseInt(this.icon, 16)); // icon\n\n    var iconShape = this.addShape('text', {\n      attrs: __assign({\n        x: x,\n        y: y,\n        text: icon\n      }, this.iconStyle)\n    }); // text\n\n    if (this.text) {\n      var iconBBox = iconShape.getBBox();\n      this.addShape('text', {\n        attrs: __assign({\n          x: x + iconBBox.width + this.spacing,\n          y: y + iconBBox.height / 2,\n          text: this.text\n        }, this.textStyle)\n      });\n    } // 背景\n\n\n    var bbox = this.getBBox();\n    this.bg = this.addShape('rect', {\n      attrs: {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height,\n        radius: 2,\n        fill: '#fff'\n      },\n      zIndex: -1\n    });\n    this.sort();\n  };\n  /**\n   * 绑定事件：\n   * 1. hover 加背景\n   * 2. 点击 emit 出去\n   * @private\n   */\n\n\n  Icon.prototype._bindEvent = function () {\n    var _this = this;\n\n    this.on('mouseover', function () {\n      _this.bg.attr('fill', '#F5F5F5');\n\n      _this.get('canvas').draw();\n    });\n    this.on('mouseout', function () {\n      _this.bg.attr('fill', '#fff');\n\n      _this.get('canvas').draw();\n    });\n  };\n\n  return Icon;\n}(Group);\n\nexport default Icon;","export var BACKGROUND_STYLE = {\n  // fill: 'red',\n  opacity: 0\n};\nexport var LINE_STYLE = {\n  stroke: '#C5C5C5',\n  strokeOpacity: 0.85\n};\nexport var AREA_STYLE = {\n  fill: '#CACED4',\n  opacity: 0.85\n};","import { __spreadArrays } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport { Category, Linear } from '@antv/scale';\nimport * as _ from '@antv/util';\n/**\n * 点数组转 path\n * @param points\n */\n\nfunction pointsToPath(points) {\n  return _.map(points, function (p, idx) {\n    var command = idx === 0 ? 'M' : 'L';\n    var x = p[0],\n        y = p[1];\n    return [command, x, y];\n  });\n}\n/**\n * 将点连接成路径 path\n * @param points\n */\n\n\nexport function getLinePath(points) {\n  return pointsToPath(points);\n}\n/**\n * 将点连成平滑的曲线\n * @param points\n */\n\nexport function getSmoothLinePath(points) {\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points);\n  }\n\n  var data = [];\n\n  _.each(points, function (p) {\n    // 当前点和上一个点一样的时候，忽略掉\n    if (!_.isEqual(p, data.slice(data.length - 2))) {\n      data.push(p[0], p[1]);\n    }\n  }); // const constraint = [ // 范围\n  //   [ 0, 0 ],\n  //   [ 1, 1 ],\n  // ];\n\n\n  var path = pathUtil.catmullRom2Bezier(data, false);\n\n  var _a = _.head(points),\n      x = _a[0],\n      y = _a[1];\n\n  path.unshift(['M', x, y]);\n  return path;\n}\n/**\n * 将数据转成 path，利用 scale 的归一化能力\n * @param data\n * @param width\n * @param height\n * @param smooth\n */\n\nexport function dataToPath(data, width, height, smooth) {\n  if (smooth === void 0) {\n    smooth = true;\n  } // 利用 scale 来获取 y 上的映射\n\n\n  var y = new Linear({\n    values: data\n  });\n  var x = new Category({\n    values: _.map(data, function (v, idx) {\n      return idx;\n    })\n  });\n\n  var points = _.map(data, function (v, idx) {\n    return [x.scale(idx) * width, height - y.scale(v) * height];\n  });\n\n  return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n * 线 path 转 area path\n * @param path\n * @param width\n * @param height\n */\n\nexport function linePathToAreaPath(path, width, height) {\n  var areaPath = __spreadArrays(path);\n\n  areaPath.push(['L', width, 0]);\n  areaPath.push(['L', 0, height]);\n  areaPath.push(['Z']);\n  return areaPath;\n}","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\n/**\n * 缩略趋势图\n */\n\nvar Trend =\n/** @class */\nfunction (_super) {\n  __extends(Trend, _super);\n\n  function Trend(cfg) {\n    var _this = _super.call(this) || this;\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 200 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 16 : _d,\n        _e = cfg.smooth,\n        smooth = _e === void 0 ? true : _e,\n        _f = cfg.isArea,\n        isArea = _f === void 0 ? false : _f,\n        _g = cfg.data,\n        data = _g === void 0 ? [] : _g,\n        backgroundStyle = cfg.backgroundStyle,\n        lineStyle = cfg.lineStyle,\n        areaStyle = cfg.areaStyle;\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.data = data;\n    _this.smooth = smooth;\n    _this.isArea = isArea;\n    _this.backgroundStyle = _.assign({}, BACKGROUND_STYLE, backgroundStyle);\n    _this.lineStyle = _.assign({}, LINE_STYLE, lineStyle);\n    _this.areaStyle = _.assign({}, AREA_STYLE, areaStyle);\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 构造\n   * @private\n   */\n\n\n  Trend.prototype._initial = function () {\n    var _a = this,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height,\n        data = _a.data,\n        smooth = _a.smooth,\n        isArea = _a.isArea,\n        backgroundStyle = _a.backgroundStyle,\n        lineStyle = _a.lineStyle,\n        areaStyle = _a.areaStyle; // 背景\n\n\n    this.backgroundShape = this.addShape('rect', {\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, backgroundStyle)\n    });\n    var path = dataToPath(data, width, height, smooth); // 线\n\n    this.lineShape = this.addShape('path', {\n      attrs: __assign({\n        path: path\n      }, lineStyle)\n    }); // area\n    // 在 path 的基础上，增加两个坐标点\n\n    var areaPath = linePathToAreaPath(path, width, height);\n\n    if (isArea) {\n      this.areaShape = this.addShape('path', {\n        attrs: __assign({\n          path: areaPath\n        }, areaStyle)\n      });\n    } // 统一移动到对应的位置\n\n\n    this.move(x, y);\n  };\n\n  return Trend;\n}(Group);\n\nexport default Trend;","/**\n * 一些默认的样式配置\n */\nexport var BACKGROUND_STYLE = {\n  fill: '#416180 ',\n  opacity: 0.05\n};\nexport var FOREGROUND_STYLE = {\n  fill: '#5B8FF9',\n  opacity: 0.15,\n  cursor: 'move'\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n  width: DEFAULT_HANDLER_WIDTH,\n  height: 24\n};\nexport var TEXT_STYLE = {\n  textBaseline: 'middle',\n  fill: '#000',\n  opacity: 0.45\n};\nexport var SLIDER_CHANGE = 'sliderchange';","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar DEFAULT_STYLE = {\n  fill: '#F7F7F7',\n  stroke: '#BFBFBF',\n  radius: 2,\n  opacity: 1,\n  cursor: 'ew-resize',\n  // 高亮的颜色\n  highLightFill: '#FFF'\n};\n\nvar Handler =\n/** @class */\nfunction (_super) {\n  __extends(Handler, _super);\n\n  function Handler(cfg) {\n    var _this = _super.call(this) || this;\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 10 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 24 : _d,\n        _e = cfg.style,\n        style = _e === void 0 ? {} : _e;\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.style = __assign(__assign({}, DEFAULT_STYLE), style);\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 设置位置 x\n   * @param x\n   */\n\n\n  Handler.prototype.setX = function (x) {\n    this.setXY(x, undefined);\n  };\n  /**\n   * 设置位置 y\n   * @param y\n   */\n\n\n  Handler.prototype.setY = function (y) {\n    this.setXY(undefined, y);\n  };\n\n  Handler.prototype.setXY = function (x, y) {\n    if (_.isNumber(x)) {\n      this.x = x;\n    }\n\n    if (_.isNumber(y)) {\n      this.y = y;\n    }\n\n    this._updateXY();\n  };\n  /**\n   * 初始化组件\n   * @private\n   */\n\n\n  Handler.prototype._initial = function () {\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        style = _a.style;\n\n    var fill = style.fill,\n        stroke = style.stroke,\n        radius = style.radius,\n        opacity = style.opacity,\n        cursor = style.cursor; // 按钮框框\n\n    this.background = this.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        stroke: stroke,\n        radius: radius,\n        opacity: opacity,\n        cursor: cursor\n      }\n    }); // 两根竖线\n\n    var x1 = 1 / 3 * width;\n    var x2 = 2 / 3 * width;\n    var y1 = 1 / 4 * height;\n    var y2 = 3 / 4 * height;\n    this.addShape('line', {\n      attrs: {\n        x1: x1,\n        y1: y1,\n        x2: x1,\n        y2: y2,\n        stroke: stroke,\n        cursor: cursor\n      }\n    });\n    this.addShape('line', {\n      attrs: {\n        x1: x2,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        stroke: stroke,\n        cursor: cursor\n      }\n    }); // 移动到对应的位置\n\n    this._updateXY();\n\n    this._bindEvents();\n  };\n\n  Handler.prototype._bindEvents = function () {\n    var _this = this;\n\n    this.on('mouseenter', function () {\n      var highLightFill = _this.style.highLightFill;\n\n      _this.background.attr('fill', highLightFill);\n\n      _this._getCanvas().draw();\n    });\n    this.on('mouseleave', function () {\n      var fill = _this.style.fill;\n\n      _this.background.attr('fill', fill);\n\n      _this._getCanvas().draw();\n    });\n  };\n\n  Handler.prototype._updateXY = function () {\n    this.move(this.x, this.y);\n  };\n  /**\n   * 因为 get('canvas') 因为构建顺序问题，导致不存在，所以采用这种方式拿到 canvas\n   * @private\n   */\n\n\n  Handler.prototype._getCanvas = function () {\n    var t = this;\n\n    while (t.get('parent')) {\n      t = t.get('parent');\n    } // 最顶层的 parent 就是 canvas 实例\n\n\n    return t;\n  };\n\n  return Handler;\n}(Group);\n\nexport default Handler;","/**\n * @file 基于 G 的缩略轴组件（Slider 组件）\n * @author hustcc\n */\nimport { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Trend from '../trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE } from './constant';\nimport Handler from './handler';\n/**\n * 缩略轴组件\n * 设计稿：https://yuque.antfin-inc.com/antv/cfksca/432935?artboard_type=artboard&view=&from=#comment-518267\n */\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  __extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.prevX = 0;\n    _this.prevY = 0;\n\n    _this.onMouseDown = function (handler) {\n      return function (e) {\n        // 1. 记录点击的滑块\n        _this.currentHandler = handler; // 2. 存储当前点击位置\n\n        var event = e.event;\n        event.stopPropagation();\n        event.preventDefault(); // 兼容移动端获取数据\n\n        _this.prevX = _.get(event, 'touches.0.pageX', event.pageX);\n        _this.prevY = _.get(event, 'touches.0.pageY', event.pageY); // 3. 开始滑动的时候，绑定 move 和 up 事件\n\n        var containerDOM = _this.get('canvas').get('containerDOM');\n\n        containerDOM.addEventListener('mousemove', _this.onMouseMove);\n        containerDOM.addEventListener('mouseup', _this.onMouseUp);\n        containerDOM.addEventListener('mouseleave', _this.onMouseUp); // 移动端事件\n\n        containerDOM.addEventListener('touchmove', _this.onMouseMove);\n        containerDOM.addEventListener('touchend', _this.onMouseUp);\n        containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n      };\n    };\n\n    _this.onMouseMove = function (e) {\n      // 滑动过程中，计算偏移，更新滑块，然后 emit 数据出去\n      e.stopPropagation();\n      e.preventDefault();\n\n      var x = _.get(e, 'touches.0.pageX', e.pageX);\n\n      var y = _.get(e, 'touches.0.pageY', e.pageY); // 横向的 slider 只处理 x\n\n\n      var offsetX = x - _this.prevX;\n\n      var offsetXRange = _this.adjustOffsetRange(offsetX / _this.width); // 更新 start end range 范围\n\n\n      _this.updateStartEnd(offsetXRange); // 更新 ui\n\n\n      _this._updateUI();\n\n      _this.prevX = x;\n      _this.prevY = y;\n\n      _this.get('canvas').draw(); // 因为存储的 start、end 可能不一定是按大小存储的，所以排序一下，对外是 end >= start\n\n\n      _this.emit(SLIDER_CHANGE, [_this.start, _this.end].sort());\n    };\n\n    _this.onMouseUp = function () {\n      // 结束之后，取消绑定的事件\n      if (_this.currentHandler) {\n        _this.currentHandler = undefined;\n      }\n\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      if (containerDOM) {\n        containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n        containerDOM.removeEventListener('mouseup', _this.onMouseUp); // 防止滑动到 canvas 外部之后，状态丢失\n\n        containerDOM.removeEventListener('mouseleave', _this.onMouseUp); // 移动端事件\n\n        containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n        containerDOM.removeEventListener('touchend', _this.onMouseUp);\n        containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n      }\n    };\n\n    var _a = cfg.x,\n        x = _a === void 0 ? 0 : _a,\n        _b = cfg.y,\n        y = _b === void 0 ? 0 : _b,\n        _c = cfg.width,\n        width = _c === void 0 ? 100 : _c,\n        _d = cfg.height,\n        height = _d === void 0 ? 16 : _d,\n        trendCfg = cfg.trendCfg,\n        _e = cfg.backgroundStyle,\n        backgroundStyle = _e === void 0 ? {} : _e,\n        _f = cfg.foregroundStyle,\n        foregroundStyle = _f === void 0 ? {} : _f,\n        _g = cfg.handlerStyle,\n        handlerStyle = _g === void 0 ? {} : _g,\n        _h = cfg.textStyle,\n        textStyle = _h === void 0 ? {} : _h,\n        // 缩略轴的初始位置\n    _j = cfg.start,\n        // 缩略轴的初始位置\n    start = _j === void 0 ? 0 : _j,\n        _k = cfg.end,\n        end = _k === void 0 ? 1 : _k,\n        _l = cfg.minText,\n        minText = _l === void 0 ? '' : _l,\n        _m = cfg.maxText,\n        maxText = _m === void 0 ? '' : _m; // position size\n\n    _this.x = x;\n    _this.y = y;\n    _this.width = width;\n    _this.height = height;\n    _this.trendCfg = trendCfg; // style\n\n    _this.backgroundStyle = __assign(__assign({}, BACKGROUND_STYLE), backgroundStyle);\n    _this.foregroundStyle = __assign(__assign({}, FOREGROUND_STYLE), foregroundStyle);\n    _this.handlerStyle = __assign(__assign({}, HANDLER_STYLE), handlerStyle);\n    _this.textStyle = __assign(__assign({}, TEXT_STYLE), textStyle); // 初始信息\n\n    _this.start = start;\n    _this.end = end;\n    _this.minText = minText;\n    _this.maxText = maxText;\n\n    _this._initial();\n\n    return _this;\n  }\n  /**\n   * 更新配置\n   * @param cfg\n   */\n\n\n  Slider.prototype.update = function (cfg) {\n    var x = cfg.x,\n        y = cfg.y,\n        width = cfg.width,\n        height = cfg.height,\n        minText = cfg.minText,\n        maxText = cfg.maxText,\n        start = cfg.start,\n        end = cfg.end; // start、end 只能是 0~1 范围\n\n    this.start = Math.min(1, Math.max(start, 0));\n    this.end = Math.min(1, Math.max(end, 0)); // 如果传了则更新，没有传则不更新\n    // @ts-ignore\n\n    _.assign(this, {\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      minText: minText,\n      maxText: maxText\n    }); // 更新 ui，不自动绘制\n\n\n    this._updateUI();\n  };\n  /**\n   * 初始化组件结构\n   * @private\n   */\n\n\n  Slider.prototype._initial = function () {\n    var width = this.width;\n    var height = this.height; // 趋势图数据\n\n    if (_.size(_.get(this.trendCfg, 'data'))) {\n      this.trendShape = new Trend(__assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, this.trendCfg));\n      this.add(this.trendShape);\n    } // 1. 背景\n\n\n    this.backgroundShape = this.addShape('rect', {\n      attrs: __assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }, this.backgroundStyle)\n    }); // 2. 左右文字\n\n    this.minTextShape = this.addShape('text', {\n      attrs: __assign({\n        // x: 0,\n        y: height / 2,\n        textAlign: 'right',\n        text: this.minText,\n        silent: false\n      }, this.textStyle)\n    });\n    this.maxTextShape = this.addShape('text', {\n      attrs: __assign({\n        // x: 0,\n        y: height / 2,\n        textAlign: 'left',\n        text: this.maxText,\n        silent: false\n      }, this.textStyle)\n    }); // 3. 前景 选中背景框\n\n    this.foregroundShape = this.addShape('rect', {\n      attrs: __assign({\n        // x: 0,\n        y: 0,\n        // width: 0,\n        height: height\n      }, this.foregroundStyle)\n    }); // 滑块相关的大小信息\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', 10);\n\n    var handlerHeight = _.get(this.handlerStyle, 'height', 24); // 4. 左右滑块\n\n\n    this.minHandlerShape = new Handler(__assign({\n      x: 0,\n      y: (height - handlerHeight) / 2,\n      width: width,\n      height: handlerHeight,\n      cursor: 'ew-resize'\n    }, this.handlerStyle));\n    this.add(this.minHandlerShape);\n    this.maxHandlerShape = new Handler(__assign({\n      x: 0,\n      y: (height - handlerHeight) / 2,\n      width: width,\n      height: handlerHeight,\n      cursor: 'ew-resize'\n    }, this.handlerStyle));\n    this.add(this.maxHandlerShape); // 根据 start end 更新 ui 的位置信息\n\n    this._updateUI(); // 移动到对应的位置\n\n\n    this.move(this.x, this.y); // 绑定事件鼠标事件\n\n    this._bindEvents();\n  };\n  /**\n   * 绑定事件：\n   *  - 点击\n   *  - 滑动\n   *  - 拖拽\n   *  - 滚动\n   * @private\n   */\n\n\n  Slider.prototype._bindEvents = function () {\n    // 1. 左滑块的滑动\n    this.minHandlerShape.on('mousedown', this.onMouseDown(this.minHandlerShape));\n    this.minHandlerShape.on('touchstart', this.onMouseDown(this.minHandlerShape)); // 2. 右滑块的滑动\n\n    this.maxHandlerShape.on('mousedown', this.onMouseDown(this.maxHandlerShape));\n    this.maxHandlerShape.on('touchstart', this.onMouseDown(this.maxHandlerShape)); // 3. 前景选中区域\n\n    this.foregroundShape.on('mousedown', this.onMouseDown(this.foregroundShape));\n    this.foregroundShape.on('touchstart', this.onMouseDown(this.foregroundShape));\n  };\n  /**\n   * 调整 offsetRange，因为一些范围的限制\n   * @param offsetRange\n   */\n\n\n  Slider.prototype.adjustOffsetRange = function (offsetRange) {\n    // 针对不同的滑动组件，处理的方式不同\n    switch (this.currentHandler) {\n      case this.minHandlerShape:\n        {\n          var min = 0 - this.start;\n          var max = 1 - this.start;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      case this.maxHandlerShape:\n        {\n          var min = 0 - this.end;\n          var max = 1 - this.end;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      case this.foregroundShape:\n        {\n          var min = 0 - this.start;\n          var max = 1 - this.end;\n          return Math.min(max, Math.max(min, offsetRange));\n        }\n\n      default:\n        return 0;\n    }\n  };\n\n  Slider.prototype.updateStartEnd = function (offsetRange) {\n    // 操作不同的组件，反馈不一样\n    switch (this.currentHandler) {\n      case this.minHandlerShape:\n        this.start += offsetRange;\n        break;\n\n      case this.maxHandlerShape:\n        this.end += offsetRange;\n        break;\n\n      case this.foregroundShape:\n        this.start += offsetRange;\n        this.end += offsetRange;\n        break;\n    }\n  };\n  /**\n   * 根据移动的比例来更新 ui\n   * @private\n   */\n\n\n  Slider.prototype._updateUI = function () {\n    var _this = this;\n\n    var min = this.start * this.width;\n    var max = this.end * this.width; // 1. foreground\n\n    this.foregroundShape.attr('x', min);\n    this.foregroundShape.attr('width', max - min); // 滑块相关的大小信息\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH); // 设置文本\n\n\n    this.minTextShape.attr('text', this.minText);\n    this.maxTextShape.attr('text', this.maxText);\n\n    var _a = this._dodgeText([min, max]),\n        minAttrs = _a[0],\n        maxAttrs = _a[1]; // 2. 左侧滑块和文字位置\n\n\n    this.minHandlerShape.setX(min - handlerWidth / 2); // this.minText.attr('x', min);\n\n    _.each(minAttrs, function (v, k) {\n      return _this.minTextShape.attr(k, v);\n    }); // 3. 右侧滑块和文字位置\n\n\n    this.maxHandlerShape.setX(max - handlerWidth / 2); // this.maxText.attr('x', max);\n\n    _.each(maxAttrs, function (v, k) {\n      return _this.maxTextShape.attr(k, v);\n    });\n  };\n  /**\n   * 调整 text 的位置，自动躲避\n   * 根据位置，调整返回新的位置\n   * @param range\n   */\n\n\n  Slider.prototype._dodgeText = function (range) {\n    var _a, _b;\n\n    var PADDING = 2;\n\n    var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n\n    var minTextShape = this.minTextShape;\n    var maxTextShape = this.maxTextShape;\n    var min = range[0],\n        max = range[1];\n    var sorted = false; // 如果交换了位置，则对应的 min max 也交互\n\n    if (min > max) {\n      _a = [max, min], min = _a[0], max = _a[1];\n      _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n      sorted = true;\n    } // 避让规则，优先显示在两侧，只有显示不下的时候，才显示在中间\n\n\n    var minBBox = minTextShape.getBBox();\n    var maxBBox = maxTextShape.getBBox();\n    var minAttrs = minBBox.width > min - PADDING ? {\n      x: min + handlerWidth / 2 + PADDING,\n      textAlign: 'left'\n    } : {\n      x: min - handlerWidth / 2 - PADDING,\n      textAlign: 'right'\n    };\n    var maxAttrs = maxBBox.width > this.width - max - PADDING ? {\n      x: max - handlerWidth / 2 - PADDING,\n      textAlign: 'right'\n    } : {\n      x: max + handlerWidth / 2 + PADDING,\n      textAlign: 'left'\n    };\n    return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n  };\n\n  return Slider;\n}(Group);\n\nexport default Slider;","/**\n * @file 播放轴组件按钮\n * @author blackganglion\n */\nimport { __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\n\nvar Button =\n/** @class */\nfunction (_super) {\n  __extends(Button, _super);\n\n  function Button(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.config = _.deepMix({}, cfg);\n\n    _this.init();\n\n    return _this;\n  }\n\n  Button.prototype.update = function (cfg) {\n    this.config = _.deepMix({}, this.config, cfg);\n    this.updateElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.init = function () {\n    this.initElement();\n    this.renderMarker();\n  };\n\n  Button.prototype.initElement = function () {\n    this.circle = this.addShape('circle', {\n      attrs: {\n        x: this.config.x,\n        y: this.config.y,\n        r: this.config.r,\n        fill: '#607889'\n      }\n    });\n    this.startMarker = this.addShape('path', {\n      attrs: {\n        path: this.getStartMarkerPath(),\n        fill: '#ffffff'\n      }\n    });\n    this.pauseGroupMarker = new Group();\n    var width = 1 / 4 * this.config.r;\n    var height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseLeftMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x - (1 / 4 + 1 / 8) * this.config.r,\n        y: this.config.y - height / 2,\n        width: width,\n        height: height,\n        fill: '#ffffff'\n      }\n    });\n    this.pauseRightMarker = this.pauseGroupMarker.addShape('rect', {\n      attrs: {\n        x: this.config.x + 1 / 8 * this.config.r,\n        y: this.config.y - height / 2,\n        width: width,\n        height: height,\n        fill: '#ffffff'\n      }\n    });\n    this.add(this.pauseGroupMarker);\n  };\n\n  Button.prototype.updateElement = function () {\n    this.circle.attr('x', this.config.x);\n    this.circle.attr('y', this.config.y);\n    this.circle.attr('r', this.config.r);\n    this.startMarker.attr('path', this.getStartMarkerPath());\n    var width = 1 / 4 * this.config.r;\n    var height = 0.5 * this.config.r * Math.sqrt(3);\n    this.pauseLeftMarker.attr('x', this.config.x - (1 / 4 + 1 / 8) * this.config.r);\n    this.pauseLeftMarker.attr('y', this.config.y - height / 2);\n    this.pauseLeftMarker.attr('width', width);\n    this.pauseLeftMarker.attr('height', height);\n    this.pauseRightMarker.attr('x', this.config.x + 1 / 8 * this.config.r);\n    this.pauseRightMarker.attr('y', this.config.y - height / 2);\n    this.pauseRightMarker.attr('width', width);\n    this.pauseRightMarker.attr('height', height);\n  };\n\n  Button.prototype.renderMarker = function () {\n    if (this.config.isPlay) {\n      this.startMarker.hide();\n      this.pauseGroupMarker.show();\n    } else {\n      this.startMarker.show();\n      this.pauseGroupMarker.hide();\n    }\n  };\n  /** 获取播放键 marker path */\n\n\n  Button.prototype.getStartMarkerPath = function () {\n    var sideLength = 0.5 * this.config.r * Math.sqrt(3);\n    return [['M', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y - sideLength / 2], ['L', this.config.x + sideLength / Math.sqrt(3), this.config.y], ['L', this.config.x - sideLength / Math.sqrt(3) / 2, this.config.y + sideLength / 2]];\n  };\n\n  return Button;\n}(Group);\n\nexport default Button;","import { flatten, groupBy, map } from '@antv/util';\n/**\n * 按照scale字段values中的start和end信息从全部数据中取出对应的部分\n *\n * @param field scale field\n * @param values scale values\n * @param data original data\n * @param range range start & end\n */\n\nexport var getDataByScaleRange = function getDataByScaleRange(field, values, data, _a, vertical) {\n  var start = _a[0],\n      end = _a[1];\n\n  if (vertical === void 0) {\n    vertical = false;\n  }\n\n  var groupedData = groupBy(data, field);\n  var newValues = vertical ? values.slice(values.length - end, values.length - start) : values.slice(start, end);\n  return flatten(map(newValues, function (value) {\n    return groupedData[value] || [];\n  }));\n};","/**\n * @file 基于 G 的播放轴组件\n * @author blackganglion\n */\nimport { __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Button from './button';\nvar TIMELINE_START = 'timelinestart';\nvar TIMELINE_CHANGE = 'timelinechange';\nvar TIMELINE_END = 'timelineend';\nvar PADDING_LEFT = 20;\nvar PADDING_RIGHT = 20;\n/**\n * 参考示例\n * https://www.gapminder.org/tools/#$state$time$value=1870&delay:100;;&chart-type=bubbles\n */\n\nvar TimeLine =\n/** @class */\nfunction (_super) {\n  __extends(TimeLine, _super);\n\n  function TimeLine(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.onTimeSelectMouseMove = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      var x = _.get(e, 'touches.0.pageX', e.pageX);\n\n      var offsetX = x - _this.prevX;\n\n      _this.setTimeSelectX(offsetX);\n\n      _this.prevX = x;\n    };\n\n    _this.onTimeSelectMouseUp = function (e) {\n      _this.syncCurrnentTick();\n\n      _this.emit(TIMELINE_END, null); // 取消事件\n\n\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      if (containerDOM) {\n        containerDOM.removeEventListener('mousemove', _this.onTimeSelectMouseMove);\n        containerDOM.removeEventListener('mouseup', _this.onTimeSelectMouseUp); // 防止滑动到 canvas 外部之后，状态丢失\n\n        containerDOM.removeEventListener('mouseleave', _this.onTimeSelectMouseUp); // 移动端事件\n\n        containerDOM.removeEventListener('touchmove', _this.onTimeSelectMouseMove);\n        containerDOM.removeEventListener('touchend', _this.onTimeSelectMouseUp);\n        containerDOM.removeEventListener('touchcancel', _this.onTimeSelectMouseUp);\n      }\n    };\n\n    _this.onTimeSelectMouseDown = function (e) {\n      var event = e.event;\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (_this.isPlay === false) {\n        _this.emit(TIMELINE_START, null);\n      } else {\n        // 取消播放状态\n        _this.isPlay = false; // 拖动过程中的播放暂停不需要调整 tick 位置，防止偏移\n\n        _this.changePlayStatus(false);\n      }\n\n      _this.prevX = _.get(e, 'touches.0.pageX', event.pageX); // 开始滑动的时候，绑定 move 和 up 事件\n\n      var containerDOM = _this.get('canvas').get('containerDOM');\n\n      containerDOM.addEventListener('mousemove', _this.onTimeSelectMouseMove);\n      containerDOM.addEventListener('mouseup', _this.onTimeSelectMouseUp);\n      containerDOM.addEventListener('mouseleave', _this.onTimeSelectMouseUp); // 移动端事件\n\n      containerDOM.addEventListener('touchmove', _this.onTimeSelectMouseMove);\n      containerDOM.addEventListener('touchend', _this.onTimeSelectMouseUp);\n      containerDOM.addEventListener('touchcancel', _this.onTimeSelectMouseUp);\n    };\n\n    _this.config = _.deepMix({}, {\n      speed: 1,\n      loop: false\n    }, cfg);\n\n    _this.init();\n\n    return _this;\n  } // 更新配置\n\n\n  TimeLine.prototype.update = function (cfg) {\n    this.config = _.deepMix({}, this.config, cfg);\n    var ticks = this.config.ticks;\n    this.currentTick = ticks.includes(this.currentTick) ? this.currentTick : ticks[0];\n    this.renderPlayButton();\n    this.renderTimeLine();\n    this.renderTimeSelect(this.currentTick);\n  };\n\n  TimeLine.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.timeLineButton.off();\n    this.timeSelect.off();\n  };\n\n  TimeLine.prototype.init = function () {\n    var _a = this.config,\n        ticks = _a.ticks,\n        defaultCurrentTick = _a.defaultCurrentTick;\n\n    if (ticks && ticks.length) {\n      this.currentTick = this.config.ticks.includes(defaultCurrentTick) ? defaultCurrentTick : ticks[0];\n      this.renderPlayButton();\n      this.renderTimeLine();\n      this.renderTimeSelect(this.currentTick);\n      this.initEvent();\n    }\n  };\n\n  TimeLine.prototype.renderPlayButton = function () {\n    var _a = this.config,\n        height = _a.height,\n        x = _a.x,\n        y = _a.y;\n    var ratio = 0.8;\n    var r = height / 2 * ratio;\n\n    if (this.timeLineButton) {\n      this.timeLineButton.update({\n        x: x + r,\n        y: y + r + height * (1 - ratio) / 2,\n        r: r\n      });\n    } else {\n      this.timeLineButton = new Button({\n        x: x + r,\n        y: y + r + height * (1 - ratio) / 2,\n        r: r,\n        isPlay: this.isPlay\n      });\n      this.add(this.timeLineButton);\n    }\n  };\n\n  TimeLine.prototype.getTimeLinePath = function () {\n    var _a = this.timeLine,\n        x = _a.x,\n        y = _a.y,\n        width = _a.width,\n        height = _a.height;\n    var r = height / 2;\n\n    if (width > 0) {\n      return \"M\" + x + \", \" + y + (\"A\" + r + \",\" + r + \" 90 0,0 \" + x + \",\" + (y + height)) + (\"L\" + (x + width) + \", \" + (y + height)) + (\"A\" + r + \",\" + r + \" 90 0,0 \" + (x + width) + \",\" + y) + (\"L\" + x + \", \" + y);\n    }\n\n    return [];\n  };\n\n  TimeLine.prototype.renderTimeLine = function () {\n    var _this = this;\n\n    var _a = this.config,\n        width = _a.width,\n        height = _a.height,\n        ticks = _a.ticks,\n        x = _a.x,\n        y = _a.y;\n\n    if (!this.timeLine) {\n      this.timeLine = {};\n    }\n    /** 默认高度是真实高度 15% */\n\n\n    this.timeLine.height = height * 0.15;\n    this.timeLine.x = x + height + PADDING_LEFT;\n    this.timeLine.y = y + (height / 2 - this.timeLine.height / 2);\n    this.timeLine.width = width - this.timeLine.x - PADDING_RIGHT;\n\n    if (this.timeLine && this.timeLine.shape) {\n      this.timeLine.shape.attr('path', this.getTimeLinePath());\n    } else {\n      this.timeLine.shape = this.addShape('path', {\n        attrs: {\n          path: this.getTimeLinePath(),\n          fill: '#607889',\n          opacity: 0.2\n        }\n      });\n    }\n\n    var interval = this.timeLine.width / (ticks.length - 1);\n    this.tickPosList = [];\n\n    if (this.timeLine.textList && this.timeLine.textList.length) {\n      this.timeLine.textList.forEach(function (text) {\n        text.destroy();\n      });\n    }\n\n    var lastX = -Infinity;\n    this.timeLine.textList = ticks.map(function (tick, index) {\n      _this.tickPosList.push(_this.timeLine.x + index * interval);\n\n      var text = _this.addShape('text', {\n        attrs: {\n          x: _this.timeLine.x + index * interval,\n          y: _this.timeLine.y + _this.timeLine.height + 5,\n          text: tick,\n          textAlign: 'center',\n          textBaseline: 'top',\n          fill: '#607889',\n          opacity: 0.35\n        }\n      });\n\n      var bbox = text.getBBox(); // 抽样，标签与标签间距不小于 10\n\n      if (bbox.minX > lastX) {\n        text.show();\n        lastX = bbox.minX + bbox.width + 10;\n      } else {\n        text.hide();\n      }\n\n      return text;\n    });\n  };\n\n  TimeLine.prototype.renderTimeSelect = function (tickValue) {\n    var _a = this.config,\n        ticks = _a.ticks,\n        height = _a.height;\n    var interval = this.timeLine.width / (ticks.length - 1);\n\n    var index = _.findIndex(ticks, function (tick) {\n      return tick === tickValue;\n    });\n\n    var x = this.timeLine.x + index * interval;\n    var y = this.config.y + height / 2;\n    var r = height * 0.15;\n\n    if (this.timeSelect) {\n      this.timeSelect.attr('x', x);\n      this.timeSelect.attr('y', y);\n      this.timeSelect.attr('r', r);\n    } else {\n      this.timeSelect = this.addShape('circle', {\n        attrs: {\n          x: x,\n          y: y,\n          r: r,\n          fill: '#607889'\n        }\n      });\n    }\n\n    if (this.timeSelectText) {\n      this.timeSelectText.attr('x', x);\n      this.timeSelectText.attr('y', y - height * 0.15 - 14);\n      this.timeSelectText.attr('text', this.currentTick);\n    } else {\n      this.timeSelectText = this.addShape('text', {\n        attrs: {\n          x: x,\n          y: y - height * 0.15 - 14,\n          text: this.currentTick,\n          textAlign: 'center',\n          textBaseline: 'top',\n          fill: '#607889'\n        }\n      });\n    }\n  };\n  /** 输入当前圆点位置，输出离哪个 tick 的位置最近 */\n\n\n  TimeLine.prototype.adjustTickIndex = function (timeSelectX) {\n    for (var i = 0; i < this.tickPosList.length - 1; i++) {\n      if (this.tickPosList[i] <= timeSelectX && timeSelectX <= this.tickPosList[i + 1]) {\n        return Math.abs(this.tickPosList[i] - timeSelectX) < Math.abs(timeSelectX - this.tickPosList[i + 1]) ? i : i + 1;\n      }\n    }\n  };\n  /** 拖动或自动播放过程中，设置 TimeSelect 的位置 */\n\n\n  TimeLine.prototype.setTimeSelectX = function (offsetX) {\n    var timeSelectX = this.timeSelect.attr('x') + offsetX; // 防止左右溢出\n\n    if (timeSelectX < this.timeLine.x) {\n      timeSelectX = this.timeLine.x;\n    }\n\n    if (timeSelectX > this.timeLine.x + this.timeLine.width) {\n      timeSelectX = this.timeLine.x + this.timeLine.width; // 正在播放场景\n\n      if (this.isPlay) {\n        // 如果是循环\n        if (this.config.loop) {\n          // 当前滑动点已经处于最后一个 tick 上，才能重置回去，继续循环\n          if (this.timeSelect.attr('x') === this.timeLine.x + this.timeLine.width) {\n            timeSelectX = this.timeLine.x;\n          }\n        } else {\n          this.isPlay = false;\n          this.changePlayStatus();\n        }\n      }\n    }\n\n    this.timeSelect.attr('x', timeSelectX);\n    this.timeSelectText.attr('x', timeSelectX);\n    var index = this.adjustTickIndex(timeSelectX);\n\n    if (this.currentTick !== this.config.ticks[index]) {\n      this.currentTick = this.config.ticks[index];\n      this.timeSelectText.attr('text', this.currentTick);\n      this.emit(TIMELINE_CHANGE, this.currentTick);\n    }\n\n    this.get('canvas').draw();\n  };\n  /** 同步圆点到 currnentTick */\n\n\n  TimeLine.prototype.syncCurrnentTick = function () {\n    var _this = this;\n\n    var ticks = this.config.ticks;\n    var interval = this.timeLine.width / (ticks.length - 1);\n\n    var index = _.findIndex(ticks, function (tick) {\n      return tick === _this.currentTick;\n    });\n\n    var x = this.timeLine.x + index * interval;\n    this.timeSelect.attr('x', x);\n    this.timeSelectText.attr('x', x);\n    this.get('canvas').draw();\n  };\n\n  TimeLine.prototype.startPlay = function () {\n    var _this = this;\n\n    return window.requestAnimationFrame(function () {\n      var _a = _this.config,\n          speed = _a.speed,\n          ticks = _a.ticks;\n      var width = _this.timeLine.width;\n      var tickInterval = width / ticks.length;\n      var offsetX = tickInterval / (speed * 1000 / 60);\n\n      _this.setTimeSelectX(offsetX);\n\n      if (_this.isPlay) {\n        _this.playHandler = _this.startPlay();\n      }\n    });\n  };\n\n  TimeLine.prototype.changePlayStatus = function (isSync) {\n    if (isSync === void 0) {\n      isSync = true;\n    }\n\n    this.timeLineButton.update({\n      isPlay: this.isPlay\n    });\n\n    if (this.isPlay) {\n      // 开始播放\n      this.playHandler = this.startPlay();\n      this.emit(TIMELINE_START, null);\n    } else {\n      // 结束播放\n      if (this.playHandler) {\n        window.cancelAnimationFrame(this.playHandler);\n\n        if (isSync) {\n          this.syncCurrnentTick();\n          this.emit(TIMELINE_END, null);\n        }\n      }\n    }\n\n    this.get('canvas').draw();\n  };\n\n  TimeLine.prototype.initEvent = function () {\n    var _this = this;\n    /** 播放/暂停事件 */\n\n\n    this.timeLineButton.on('click', function () {\n      _this.isPlay = !_this.isPlay;\n\n      _this.changePlayStatus();\n    });\n    /** 播放轴上圆点滑动事件 */\n\n    this.timeSelect.on('mousedown', this.onTimeSelectMouseDown);\n  };\n\n  return TimeLine;\n}(Group);\n\nexport default TimeLine;","import { __assign, __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport { ScrollBar } from '@antv/gui';\nimport { clamp, get, isEqual, map, throttle } from '@antv/util';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\nvar DEFAULT_PADDING = 4;\nvar DEFAULT_SIZE = 8;\nvar DEFAULT_CATEGORY_SIZE = 32;\nvar MIN_THUMB_LENGTH = 8;\nvar SCROLL_BAR_Z_INDEX = 999;\n\nvar getValidScrollBarConfig = function getValidScrollBarConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    type: 'horizontal',\n    categorySize: DEFAULT_CATEGORY_SIZE,\n    width: DEFAULT_SIZE,\n    height: DEFAULT_SIZE,\n    padding: [0, 0, 0, 0]\n  }, cfg); // default padding\n\n\n  if (!cfg.padding) {\n    _cfg.padding = _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  return _cfg;\n};\n\nvar ScrollBarInteraction =\n/** @class */\nfunction (_super) {\n  __extends(ScrollBarInteraction, _super);\n\n  function ScrollBarInteraction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeFn = throttle(_this.onChange.bind(_this), 20, {\n      leading: true\n    });\n    return _this;\n  }\n\n  ScrollBarInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidScrollBarConfig(interaction);\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n\n    if (config.type === 'horizontal') {\n      return new BBox(layerRange.minX, layerRange.maxY - config.height - paddingTop - paddingBottom, layerRange.width, config.height + paddingTop + paddingBottom);\n    } else {\n      return new BBox(layerRange.maxX - config.width - paddingLeft - paddingRight, layerRange.minY, config.width + paddingLeft + paddingRight, layerRange.height);\n    }\n  };\n\n  ScrollBarInteraction.prototype.render = function () {\n    var _this = this;\n\n    var view = this.view;\n    this.ratio = 0;\n    this.thumbOffset = 0;\n    view.on('afterrender', function () {\n      var padding = _this.view.get('padding'); // if we're not in `auto padding` process\n\n\n      if (!isEqual([0, 0, 0, 0], padding)) {\n        if (!_this.trackLen) {\n          _this.measureScrollBar();\n\n          _this.changeViewData(_this.getScrollRange());\n        } else {\n          _this.renderScrollbar();\n        }\n      }\n    });\n  };\n\n  ScrollBarInteraction.prototype.clear = function () {\n    if (this.scrollBar) {\n      this.scrollBar.destroy();\n      this.scrollBar = null;\n    }\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n\n    this.trackLen = null;\n    this.thumbLen = null;\n  };\n\n  ScrollBarInteraction.prototype.renderScrollbar = function () {\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var range = this.getRange();\n    var isHorizontal = config.type !== 'vertical';\n    var panelRange = this.view.get('panelRange');\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingLeft = _a[3];\n    var position = isHorizontal ? {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop\n    } : {\n      x: range.tl.x + paddingLeft,\n      y: panelRange.minY + paddingTop\n    };\n\n    if (!this.scrollBar) {\n      this.container = this.canvas.addGroup();\n      this.scrollBar = new ScrollBar({\n        isHorizontal: isHorizontal,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        position: position,\n        thumbOffset: this.ratio * this.trackLen\n      });\n      this.container.add(this.scrollBar);\n      this.scrollBar.set('zIndex', SCROLL_BAR_Z_INDEX);\n      this.scrollBar.on('scrollchange', this.onChangeFn);\n    } else {\n      this.scrollBar.updateTrackLen(this.trackLen);\n      this.scrollBar.updateThumbLen(this.thumbLen);\n      this.scrollBar.updateScrollBarPos(position);\n      this.scrollBar.updateThumbOffset(this.thumbOffset);\n    }\n  };\n\n  ScrollBarInteraction.prototype.measureScrollBar = function () {\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n    var isHorizontal = config.type !== 'vertical';\n    var panelRange = this.view.get('panelRange');\n    var xScale = this.view.getXScale();\n    var yScales = this.view.getYScales();\n    this.cnt = xScale.values.length;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || []\n    };\n    this.yScalesCfg = map(yScales, function (item) {\n      return {\n        field: item.field,\n        type: item.type,\n        min: item.min,\n        max: item.max,\n        ticks: item.ticks,\n        formatter: item.formatter\n      };\n    });\n    this.step = Math.floor((isHorizontal ? panelRange.width : panelRange.height) / config.categorySize);\n    this.trackLen = isHorizontal ? panelRange.width - paddingLeft - paddingRight : panelRange.height - paddingTop - paddingBottom;\n    this.thumbLen = Math.max(this.trackLen * clamp(this.step / xScale.values.length, 0, 1), MIN_THUMB_LENGTH);\n  };\n\n  ScrollBarInteraction.prototype.getScrollRange = function () {\n    var startIdx = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    var endIdx = Math.min(startIdx + this.step, this.cnt);\n    return [startIdx, endIdx];\n  };\n\n  ScrollBarInteraction.prototype.changeViewData = function (_a) {\n    var _this = this;\n\n    var startIdx = _a[0],\n        endIdx = _a[1];\n    var config = getValidScrollBarConfig(this.getInteractionConfig());\n    var viewLayer = this.getViewLayer();\n    var meta = viewLayer.options.meta;\n    var origData = viewLayer.getData();\n    var newData = getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx], config.type === 'vertical'); // ScrollBar在滚动过程中保持\b\bY轴上scale配置: min/max/ticks\n\n    this.yScalesCfg.forEach(function (cfg) {\n      var metaCfg = get(meta, cfg.field) || {};\n\n      _this.view.scale(cfg.field, __assign(__assign({\n        formatter: cfg.formatter\n      }, metaCfg), {\n        type: cfg.type,\n        min: cfg.min,\n        max: cfg.max\n      }));\n    });\n    this.view.set('data', newData);\n    this.view.repaint();\n  };\n\n  ScrollBarInteraction.prototype.onChange = function (_a) {\n    var ratio = _a.ratio,\n        thumbOffset = _a.thumbOffset;\n    this.ratio = ratio;\n    this.thumbOffset = thumbOffset;\n    var origAnimation = this.view.get('animation');\n    this.view.animate(false);\n    this.changeViewData(this.getScrollRange());\n    this.view.animate(origAnimation);\n  };\n\n  return ScrollBarInteraction;\n}(BaseInteraction);\n\nexport default ScrollBarInteraction;","import { __assign, __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport { Slider } from '@antv/gui';\nimport { clamp, head, last, map, size, throttle } from '@antv/util';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\nvar DEFAULT_PADDING = 4;\nvar DEFAULT_SIZE = 16;\n\nvar getValidSliderConfig = function getValidSliderConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    type: 'horizontal',\n    start: 0,\n    end: 1,\n    width: undefined,\n    height: undefined,\n    padding: [0, 0, 0, 0],\n    backgroundColor: undefined,\n    foregroundColor: undefined\n  }, cfg); // default padding\n\n\n  if (!cfg.padding) {\n    _cfg.padding = _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  } // default size\n\n\n  if (!cfg.height) {\n    _cfg.height = DEFAULT_SIZE;\n  }\n\n  if (!cfg.width) {\n    _cfg.width = DEFAULT_SIZE;\n  } // start & end\n\n\n  var start = clamp(Math.min(_cfg.start, _cfg.end), 0, 1);\n  var end = clamp(Math.max(_cfg.start, _cfg.end), 0, 1);\n  _cfg.start = start;\n  _cfg.end = end;\n  return _cfg;\n};\n\nvar SliderInteraction =\n/** @class */\nfunction (_super) {\n  __extends(SliderInteraction, _super);\n\n  function SliderInteraction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeFn = throttle(_this.onChange.bind(_this), 20, {\n      leading: true\n    });\n    return _this;\n  }\n\n  SliderInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidSliderConfig(interaction);\n\n    var _a = config.padding || [0, 0, 0, 0],\n        paddingTop = _a[0],\n        paddingRight = _a[1],\n        paddingBottom = _a[2],\n        paddingLeft = _a[3];\n\n    if (config.type === 'horizontal') {\n      return new BBox(layerRange.minX, layerRange.maxY - config.height - paddingTop - paddingBottom, layerRange.width, config.height + paddingTop + paddingBottom);\n    } else {\n      return new BBox(layerRange.maxX - config.width - paddingLeft - paddingRight, layerRange.minY, config.width + paddingLeft + paddingRight, layerRange.height);\n    }\n  };\n\n  SliderInteraction.prototype.render = function () {\n    var _this = this; // 设置初始化的 start/end\n\n\n    var config = getValidSliderConfig(this.getInteractionConfig());\n    this.curStart = config.start;\n    this.curEnd = config.end;\n    this.xScaleCfg = undefined; // 等待 view 每次 render 完成后更新 slider 组件\n\n    this.view.on('afterrender', function () {\n      if (!_this.xScaleCfg) {\n        // 初始化配置和数据\n        var xScale = _this.view.getXScale();\n\n        _this.xScaleCfg = {\n          field: xScale.field,\n          values: xScale.values || []\n        }; // 初始化 data\n\n        _this.view.set('data', _this.getSliderData(_this.curStart, _this.curEnd));\n\n        _this.view.repaint();\n      } else {\n        _this.renderSlider();\n      }\n    });\n  };\n\n  SliderInteraction.prototype.clear = function () {\n    if (this.slider) {\n      this.slider.destroy();\n      this.slider = null;\n    }\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  };\n\n  SliderInteraction.prototype.renderSlider = function () {\n    if (!this.slider) {\n      this.container = this.canvas.addGroup();\n      this.slider = new Slider(this.getSliderConfig());\n      this.slider.on('sliderchange', this.onChangeFn);\n      this.container.add(this.slider);\n    } else {\n      this.slider.update(this.getSliderConfig());\n    }\n  };\n\n  SliderInteraction.prototype.getSliderConfig = function () {\n    var view = this.view;\n    var panelRange = view.get('panelRange');\n    var range = this.getRange();\n    var config = getValidSliderConfig(this.getInteractionConfig());\n\n    var _a = config || {},\n        _b = _a.padding,\n        padding = _b === void 0 ? [0, 0, 0, 0] : _b,\n        foregroundColor = _a.foregroundColor,\n        backgroundColor = _a.backgroundColor;\n\n    var paddingTop = padding[0],\n        paddingRight = padding[1],\n        paddingBottom = padding[2],\n        paddingLeft = padding[3];\n\n    var _c = this.getSliderMinMaxText(this.curStart, this.curEnd),\n        minText = _c.minText,\n        maxText = _c.maxText;\n\n    var cfg = {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop,\n      width: panelRange.width - paddingLeft - paddingRight,\n      height: range.height - paddingTop - paddingBottom,\n      start: this.curStart,\n      end: this.curEnd,\n      minText: minText,\n      maxText: maxText,\n      trendCfg: {\n        data: this.getSliderTrendData(),\n        isArea: false,\n        smooth: false\n      },\n      foregroundStyle: {},\n      backgroundStyle: {}\n    };\n\n    if (foregroundColor) {\n      cfg.foregroundStyle.fill = foregroundColor;\n    }\n\n    if (backgroundColor) {\n      cfg.backgroundStyle.fill = backgroundColor;\n    }\n\n    return cfg;\n  };\n\n  SliderInteraction.prototype.getSliderTrendData = function () {\n    var _a = this.getViewLayer().options,\n        data = _a.data,\n        yField = _a.yField;\n    return map(data, function (item) {\n      return item[yField];\n    });\n  };\n\n  SliderInteraction.prototype.getSliderData = function (start, end) {\n    var origData = this.getViewLayer().getData();\n    var length = size(this.xScaleCfg.values);\n    var startIdx = Math.round(start * length);\n    var endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    return getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx]);\n  };\n\n  SliderInteraction.prototype.getSliderMinMaxText = function (start, end) {\n    var _a = this.getViewLayer().options,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        xField = _a.xField;\n    var length = size(data);\n    var startIdx = Math.round(start * length);\n    var endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    var newData = data.slice(startIdx, endIdx);\n    return {\n      minText: head(newData)[xField],\n      maxText: last(newData)[xField]\n    };\n  };\n\n  SliderInteraction.prototype.onChange = function (range) {\n    var view = this.view;\n    var start = clamp(Math.min(range[0], range[1]), 0, 1);\n    var end = clamp(Math.max(range[0], range[1]), 0, 1);\n    var data = this.getSliderData(start, end);\n\n    var _a = this.getSliderMinMaxText(start, end),\n        minText = _a.minText,\n        maxText = _a.maxText;\n\n    this.curStart = start;\n    this.curEnd = end;\n    this.slider.update({\n      start: start,\n      end: end,\n      minText: minText,\n      maxText: maxText\n    });\n    var origAnimation = view.get('animation');\n    view.animate(false);\n    view.changeData(data);\n    view.animate(origAnimation);\n  };\n\n  return SliderInteraction;\n}(BaseInteraction);\n\nexport default SliderInteraction;","import BaseInteraction from './base';\nimport ScrollBarInteraction from './scrollbar';\nimport SliderInteraction from './slider';\nBaseInteraction.registerInteraction('slider', SliderInteraction);\nBaseInteraction.registerInteraction('scrollbar', ScrollBarInteraction);\nexport * from './base';\nexport default BaseInteraction;","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\n/**\n * 处理图表padding的逻辑：\n * 注册参与padding的自定义组件\n */\n\nvar PaddingController =\n/** @class */\nfunction () {\n  function PaddingController(cfg) {\n    this.innerPaddingComponents = [];\n    this.outerPaddingComponents = [];\n    this.plot = cfg.plot;\n  }\n\n  PaddingController.prototype.registerPadding = function (component, type, checkIfExist) {\n    if (type === void 0) {\n      type = 'outer';\n    }\n\n    if (checkIfExist === void 0) {\n      checkIfExist = false;\n    }\n\n    if (type === 'inner') {\n      if (checkIfExist) {\n        if (!this.innerPaddingComponents.find(function (c) {\n          return c == component;\n        })) {\n          this.innerPaddingComponents.push(component);\n        }\n      } else {\n        this.innerPaddingComponents.push(component);\n      }\n    } else {\n      if (checkIfExist) {\n        if (!this.outerPaddingComponents.find(function (c) {\n          return c == component;\n        })) {\n          this.outerPaddingComponents.push(component);\n        }\n      } else {\n        this.outerPaddingComponents.push(component);\n      }\n    }\n  };\n  /**\n   * 清除已经注册的元素\n   */\n\n\n  PaddingController.prototype.clear = function () {\n    this.innerPaddingComponents = []; // 一些组件是在view渲染完成之后渲染初始化的\n    // TODO: afterRender的什么时候清除\n\n    this.outerPaddingComponents = _.filter(this.outerPaddingComponents, function (component) {\n      return component.afterRender;\n    });\n  };\n\n  PaddingController.prototype.clearOuterComponents = function () {\n    _.each(this.outerPaddingComponents, function (component) {\n      if (component.afterRender) {\n        component.destroy();\n      }\n    });\n\n    this.outerPaddingComponents = [];\n  };\n\n  PaddingController.prototype.getPadding = function () {\n    var props = this.plot.options;\n    var padding = props.padding ? props.padding : this.plot.config.theme.padding;\n\n    if (padding === 'auto') {\n      return [0, 0, 0, 0];\n    }\n\n    return padding;\n  };\n  /** view层的padding计算 */\n\n\n  PaddingController.prototype.processAutoPadding = function () {\n    var padding = this._getInnerAutoPadding();\n\n    this.plot.updateConfig({\n      padding: padding\n    });\n    this.plot.render();\n  };\n\n  PaddingController.prototype.processOuterPadding = function () {\n    var viewMinX = this.plot.layerBBox.minX;\n    var viewMaxX = this.plot.layerBBox.maxX;\n    var viewMinY = this.plot.layerBBox.minY;\n    var viewMaxY = this.plot.layerBBox.maxY;\n\n    _.each(this.outerPaddingComponents, function (component) {\n      var position = component.position;\n\n      var _a = component.getBBox(),\n          minX = _a.minX,\n          maxX = _a.maxX,\n          minY = _a.minY,\n          maxY = _a.maxY;\n\n      if (maxY >= viewMinY && maxY <= viewMaxY && position === 'top') {\n        viewMinY = maxY;\n      }\n\n      if (minY >= viewMinY && minY <= viewMaxY && position === 'bottom') {\n        viewMaxY = minY;\n      }\n\n      if (maxX > viewMinX && maxX <= viewMaxX && position === 'left') {\n        viewMinX = maxX;\n      }\n\n      if (minX >= viewMinX && maxX <= viewMaxX && position === 'right') {\n        viewMaxX = minX;\n      }\n    });\n\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  };\n\n  PaddingController.prototype._getInnerAutoPadding = function () {\n    var props = this.plot.options;\n    var view = this.plot.view;\n    var viewRange = view.get('viewRange');\n    var maxX = viewRange.maxX,\n        maxY = viewRange.maxY;\n    var bleeding = this.plot.config.theme.bleeding;\n\n    if (_.isArray(bleeding)) {\n      _.each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](props);\n        }\n      });\n    }\n\n    this.plot.config.theme.legend.margin = bleeding;\n    this.bleeding = _.clone(bleeding); // 参与auto padding的components: axis legend\n\n    var components_bbox = [view.get('panelRange')];\n\n    this._getAxis(view, components_bbox);\n\n    var box = this._mergeBBox(components_bbox);\n\n    this._getLegend(view, components_bbox, box);\n\n    box = this._mergeBBox(components_bbox); // 参与auto padding的自定义组件\n\n    var components = this.innerPaddingComponents;\n\n    _.each(components, function (obj) {\n      var component = obj;\n      var bbox = component.getBBox();\n      components_bbox.push(bbox);\n    });\n\n    box = this._mergeBBox(components_bbox);\n    var minY = box.minY;\n    /** 极坐标下padding计算错误问题 */\n\n    if (minY === viewRange.minY) {\n      minY = 0;\n    }\n\n    var padding = [0 - minY + this.bleeding[0], box.maxX - maxX + this.bleeding[1], box.maxY - maxY + this.bleeding[2], 0 - box.minX + this.bleeding[3]];\n    /** title/description可见时padding计算错误问题 */\n\n    if (_.get(props, 'title.visible') || _.get(props, 'description.visible')) {\n      padding[0] = Math.max(this.bleeding[0], padding[0]);\n    }\n\n    this.adjustAxisPadding(view, padding); // label、annotation等\n\n    var panelPadding = this._getPanel(view, box);\n\n    padding[0] += panelPadding[0];\n    padding[1] += panelPadding[1];\n    padding[2] += panelPadding[2];\n    padding[3] += panelPadding[3];\n    return padding;\n  };\n\n  PaddingController.prototype._getAxis = function (view, bboxes) {\n    var axes = view.get('axisController').axes;\n\n    if (axes.length > 0) {\n      _.each(axes, function (a) {\n        var axis = a;\n        var bbox = axis.get('group').getBBox();\n        bboxes.push(bbox);\n      });\n    }\n  };\n\n  PaddingController.prototype._getLegend = function (view, bboxes, box) {\n    var _this = this;\n\n    var viewRange = view.get('viewRange');\n    var legends = view.get('legendController').legends;\n\n    if (legends.length > 0) {\n      _.each(legends, function (l) {\n        var legend = l;\n\n        _this._adjustLegend(legend, view, box);\n\n        var legendBBox = legend.getBBox();\n        var width = legendBBox.width,\n            height = legendBBox.height;\n        var x = 0;\n        var y = 0;\n        var position = legend.get('position').split('-');\n\n        if (position[0] === 'right') {\n          x = viewRange.maxX;\n          y = legendBBox.minY;\n        }\n\n        if (position[0] === 'left') {\n          x = box.minX - width;\n          y = legendBBox.minY;\n        }\n\n        if (position[0] === 'top') {\n          x = legendBBox.minX;\n          y = -height;\n        }\n\n        if (position[0] === 'bottom') {\n          x = legendBBox.minX;\n          y = viewRange.maxY + height;\n        }\n\n        var bbox = new BBox(x, y, width, height);\n        bboxes.push(bbox);\n\n        var innerPadding = _this._getLegendInnerPadding(legend);\n\n        _this._mergeBleeding(innerPadding);\n      });\n    }\n  };\n\n  PaddingController.prototype._getPanel = function (view, box) {\n    var groups = [];\n    var geoms = view.get('elements');\n\n    _.each(geoms, function (geom) {\n      if (geom.get('labelController')) {\n        var labelContainer = geom.get('labelController').labelsContainer;\n\n        if (labelContainer) {\n          groups.push(labelContainer);\n        }\n      }\n    });\n\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n\n    _.each(groups, function (group) {\n      var children = group.get('children');\n      children.forEach(function (child) {\n        if (child.type === 'group' && child.get('children').length === 0) {\n          return;\n        }\n\n        var bbox = child.getBBox();\n\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      });\n    });\n\n    var panelRange = view.get('panelRange'); //right\n\n    var rightDist = Math.max(maxX - parseFloat(panelRange.maxX), 0);\n\n    if (rightDist > 0) {\n      var ratio = panelRange.width / (panelRange.width + rightDist);\n      rightDist *= ratio;\n    } //left\n\n\n    var leftDist = Math.max(parseFloat(panelRange.minX) - minX, 0);\n\n    if (leftDist > 0) {\n      var ratio = panelRange.width / (panelRange.width + leftDist);\n      leftDist *= ratio;\n    } //top\n\n\n    var topDist = Math.max(parseFloat(panelRange.minY) - minY, 0);\n\n    if (topDist > 0) {\n      var ratio = panelRange.height / (panelRange.height + topDist);\n      topDist *= ratio;\n    } //bottom\n\n\n    var bottomDist = Math.max(maxY - parseFloat(panelRange.maxY), 0);\n\n    if (bottomDist > 0) {\n      var ratio = panelRange.height / (panelRange.height + bottomDist);\n      bottomDist *= ratio;\n    }\n\n    return [topDist, rightDist, bottomDist, leftDist];\n  };\n\n  PaddingController.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n\n    _.each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n\n    return {\n      minX: minX,\n      maxX: maxX,\n      minY: minY,\n      maxY: maxY\n    }; // return new BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  PaddingController.prototype._adjustLegend = function (legend, view, box) {\n    var position = legend.get('position').split('-');\n    var container = legend.get('container');\n    var bbox = container.getBBox();\n\n    var _a = view.get('viewRange'),\n        width = _a.width,\n        height = _a.height,\n        maxX = _a.maxX,\n        minX = _a.minX,\n        maxY = _a.maxY,\n        minY = _a.minY;\n\n    if (position[0] === 'right') {\n      container.move(width, minY);\n    }\n\n    if (position[0] === 'left') {\n      container.move(box.minX - bbox.width, minY);\n    }\n\n    if (position[0] === 'top') {\n      container.move(0, box.minY - bbox.height);\n    }\n\n    if (position[0] === 'bottom') {\n      container.move(0, Math.max(maxY, box.maxY));\n    }\n  };\n\n  PaddingController.prototype._getLegendInnerPadding = function (legend) {\n    var innerPadding = this.plot.theme.legend.innerPadding;\n    var position = legend.get('position').split('-');\n\n    if (position[0] === 'top') {\n      return [innerPadding[0], 0, 0, 0];\n    }\n\n    if (position[0] === 'bottom') {\n      return [0, 0, innerPadding[2], 0];\n    }\n\n    if (position[0] === 'left') {\n      return [0, 0, 0, innerPadding[3]];\n    }\n\n    if (position[0] === 'right') {\n      return [0, innerPadding[1], 0, 0];\n    }\n  };\n\n  PaddingController.prototype._mergeBleeding = function (source) {\n    var target = this.bleeding;\n\n    if (source.length !== target.length) {\n      return;\n    }\n\n    for (var i = 0; i < source.length; i++) {\n      target[i] += source[i];\n    }\n  };\n\n  PaddingController.prototype.adjustAxisPadding = function (view, padding) {\n    // 3.6.x Axis组件的 autoRotate padding 修正\n    var xAxis = view.get('axisController').axes[0];\n\n    if (!xAxis || !xAxis.get('autoRotateLabel') || !xAxis.getOffsetByRotateAngle) {\n      return;\n    }\n\n    var labelRenderer = xAxis.get('labelRenderer');\n    var labels = labelRenderer.getLabels();\n    var curOffset = xAxis.getOffsetByRotateAngle(xAxis.get('autoRotateAngle'));\n    var curTotalWidth = Math.abs(xAxis.get('end').x - xAxis.get('start').x); // 如果只有一项数据, 平均宽度 = 总宽\n\n    var curAvgWidth = curTotalWidth; // 当多项数据时，根据 label 位置计算均宽\n\n    if (labels.length > 1) {\n      curAvgWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n    }\n\n    var newTotalWidth = curTotalWidth - padding[1] - padding[3];\n    var newAvgWidth = curAvgWidth * newTotalWidth / curTotalWidth;\n    var newOffset = xAxis.getOffsetByRotateAngle(xAxis.getAutoRotateAngleByAvgWidth(newAvgWidth));\n\n    if (newOffset > curOffset) {\n      padding[2] += newOffset - curOffset;\n    }\n  };\n\n  return PaddingController;\n}();\n\nexport default PaddingController;","var COLOR = '#5B8FF9';\nexport var COLOR_PLATE_10 = ['#5B8FF9', '#5AD8A6', '#5D7092', '#F6BD16', '#E8684A', '#6DC8EC', '#9270CA', '#FF9D4D', '#269A99', '#FF99C3'];\nexport var COLOR_PLATE_20 = ['#5B8FF9', '#BDD2FD', '#5AD8A6', '#BDEFDB', '#5D7092', '#C2C8D5', '#F6BD16', '#FBE5A2', '#E8684A', '#F6C3B7', '#6DC8EC', '#B6E3F5', '#9270CA', '#D3C6EA', '#FF9D4D', '#FFD8B8', '#269A99', '#AAD8D8', '#FF99C3', '#FFD6E7'];\nimport { some } from '@antv/util';\nexport var DESCRIPTION_BOTTOM_MARGIN = function DESCRIPTION_BOTTOM_MARGIN(legendPosition) {\n  if (legendPosition && legendPosition.split('-')[0] === 'top') {\n    return 12;\n  }\n\n  return 24;\n};\nexport var TOP_BLEEDING = function TOP_BLEEDING(props) {\n  var titleVisible = props.title && props.title.visible;\n  var descriptionVisible = props.description && props.description.visible;\n\n  if (titleVisible || descriptionVisible) {\n    // 由 title/description 的 bottom-padding 负责\n    return 12;\n  }\n\n  return 24;\n};\nexport var BOTTOM_BLEEDING = function BOTTOM_BLEEDING(props) {\n  if (some(props.interactions || [], function (interaction) {\n    return (interaction.type === 'slider' || interaction.type === 'scrollbar') && (interaction.cfg && interaction.cfg.type) !== 'vertical';\n  })) {\n    return 8;\n  }\n\n  return 24;\n};\nexport var DEFAULT_GLOBAL_THEME = {\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  defaultColor: COLOR,\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fill: 'black',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'grey',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0,0,0,0.45)',\n          lineWidth: 0.5,\n          length: 4\n        }\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 0.5\n        }\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        },\n        offset: 16\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.15)'\n        }\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          length: 4,\n          alignWithLabel: true\n        }\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    radius: {\n      label: {\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12\n        }\n      }\n    }\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n    margin: [0, 24, 24, 24]\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: '#595959'\n    },\n    style: {\n      fill: '#595959',\n      stroke: '#ffffff',\n      lineWidth: 2\n    }\n  },\n  tooltip: {\n    'g2-tooltip': {\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.15)'\n    }\n  }\n};","import * as _ from '@antv/util';\nimport { DEFAULT_GLOBAL_THEME } from './default';\nimport { DEFAULT_DARK_THEME } from './dark';\n/** 所有的全局主题 */\n\nvar GLOBAL_THEME_MAP = {\n  default: DEFAULT_GLOBAL_THEME,\n  dark: DEFAULT_DARK_THEME\n};\n/**\n * 注册全局主题\n * @param name\n * @param theme\n */\n\nexport function registerGlobalTheme(name, theme) {\n  var defaultTheme = getGlobalTheme();\n  GLOBAL_THEME_MAP[name.toLowerCase()] = _.deepMix({}, defaultTheme, theme);\n}\n/**\n * 获取默认主题\n * @param name 如果 name 为空，则返回默认的主题，否则返回指定 name 的主题\n */\n\nexport function getGlobalTheme(name) {\n  if (name === void 0) {\n    name = 'default';\n  }\n\n  var theme = GLOBAL_THEME_MAP[name.toLowerCase()];\n\n  if (theme) {\n    return theme;\n  } // 如没有找到，则使用当前全局主题替代\n\n\n  console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\", name);\n  return DEFAULT_GLOBAL_THEME;\n}","import { DESCRIPTION_BOTTOM_MARGIN, TOP_BLEEDING, BOTTOM_BLEEDING } from './default';\nexport var DEFAULT_DARK_THEME = {\n  backgroundStyle: {\n    fill: '#262626'\n  },\n  defaultColor: '#5B8FF9',\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: 'rgba(255,255,255,0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'rgba(255, 255, 255, 0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 1\n        }\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n          length: 4\n        }\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.45)',\n          fontSize: 12\n        }\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom'\n        }\n      }\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0]\n        }\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)'\n        }\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5\n        }\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12\n        },\n        offset: 16\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12\n        }\n      }\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: '#E3E8EC'\n        }\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#BFBFBF'\n        }\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: '#bdc8d3',\n          length: 4,\n          alignWithLabel: true\n        }\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12\n        }\n      },\n      title: {\n        offset: 12,\n        style: {\n          fill: '#767b84',\n          fontSize: 12\n        }\n      }\n    },\n    radius: {\n      label: {\n        offset: 12,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12\n        }\n      }\n    }\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16]\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(255, 255, 255, 0.65)'\n    },\n    style: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n      lineWidth: 1\n    }\n  },\n  tooltip: {\n    'g2-tooltip': {\n      backgroundColor: 'rgba(33,33,33, 0.95)',\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.65)',\n      color: 'rgba(255, 255, 255, 0.65)'\n    }\n  }\n};","/**\n * 所有的 plot theme object，每个图类型只会存在一个 theme\n */\nvar PLOT_THEME_MAP = {};\n/**\n * 注册新的图表主题\n * @param type\n * @param theme\n */\n\nexport function registerTheme(type, theme) {\n  PLOT_THEME_MAP[type.toLowerCase()] = theme;\n}\n/**\n * 根据类型获取主题\n * @param type\n */\n\nexport function getTheme(type) {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}","import * as StyleParser from '../util/style-parser';\nexport function extractAxis(desAxis, axis) {\n  if (!axis) {\n    return desAxis;\n  }\n\n  StyleParser.AxisStyleParser(desAxis, axis);\n  return desAxis;\n}\nexport function processAxisVisible(axisCfg) {\n  if (axisCfg.line && axisCfg.line.visible === false) {\n    axisCfg.line = null;\n  }\n\n  if (axisCfg.grid && axisCfg.grid.visible === false) {\n    axisCfg.grid = null;\n  }\n\n  if (axisCfg.tickLine && axisCfg.tickLine.visible === false) {\n    axisCfg.tickLine = null;\n  }\n\n  if (axisCfg.title && axisCfg.title.visible === false) {\n    axisCfg.title = null;\n  }\n\n  if (axisCfg.label && axisCfg.label.visible === false) {\n    axisCfg.label = null;\n  }\n}","// 存储一些共用部分\nexport var DEFAULT_RESPONSIVE_THEME = {\n  axis: {\n    x: {\n      category: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'textWrapper',\n            option: {\n              lineNumber: 2\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'textAbbreviate',\n            option: {\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      linear: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'nodesResampling',\n            option: {\n              keep: ['end']\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'robustAbbrevaite',\n            option: {\n              unit: 'thousand',\n              decimal: 1,\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      dateTime: {\n        constraints: [{\n          name: 'elementDist'\n        }],\n        rules: {\n          elementDist: [{\n            name: 'datetimeStringAbbrevaite'\n          }, {\n            name: 'nodesResamplingByAbbrevate',\n            option: {\n              keep: ['end']\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 45\n            }\n          }, {\n            name: 'textRotation',\n            option: {\n              degree: 90\n            }\n          }, {\n            name: 'nodesResampling'\n          }, {\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }]\n        }\n      }\n    },\n    y: {\n      linear: {\n        constraints: [{\n          name: 'elementDistVertical'\n        }, {\n          name: 'elementWidth'\n        }],\n        rules: {\n          elementDistVertical: [{\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }],\n          elementWidth: [{\n            name: 'digitsAbbreviate'\n          }, {\n            name: 'textHide'\n          }]\n        }\n      },\n      category: {\n        constraints: [{\n          name: 'elementDistVertical'\n        }, {\n          name: 'elementWidth'\n        }],\n        rules: {\n          elementDistVertical: [{\n            name: 'nodesResampling'\n          }, {\n            name: 'textHide'\n          }],\n          elementWidth: [{\n            name: 'textAbbreviate',\n            option: {\n              abbreviateBy: 'end'\n            }\n          }, {\n            name: 'textHide'\n          }]\n        }\n      }\n    }\n  }\n};","import * as _ from '@antv/util';\nimport { DEFAULT_RESPONSIVE_THEME } from './default';\n/**\n * 所有的响应式主题配置\n */\n\nvar RESPONSIVE_THEME_MAP = {\n  default: DEFAULT_RESPONSIVE_THEME\n};\n/**\n * 添加一个响应式主题配置\n * @param name\n * @param theme\n */\n\nexport function registerResponsiveTheme(name, theme) {\n  RESPONSIVE_THEME_MAP[name.toLowerCase()] = _.deepMix({}, DEFAULT_RESPONSIVE_THEME, theme);\n}\n/**\n * 获取一个响应式主题配置，如果找不到则返回默认\n * @param name\n */\n\nexport function getResponsiveTheme(name) {\n  var theme = RESPONSIVE_THEME_MAP[name.toLowerCase()];\n  return theme ? theme : DEFAULT_RESPONSIVE_THEME;\n}","import * as G2 from '@antv/g2';\nimport * as _ from '@antv/util'; // import Theme from '../../theme';\n\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { processAxisVisible } from '../../util/axis';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\n/**\n * 负责图表theme的管理\n */\n\nvar G2DefaultTheme = G2.Global.theme;\n\nvar ThemeController =\n/** @class */\nfunction () {\n  function ThemeController() {}\n  /**\n   * 获取指定的全局theme\n   * @param theme\n   */\n\n\n  ThemeController.getGlobalTheme = function (theme) {\n    if (_.isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n\n    return _.deepMix({}, getGlobalTheme(), theme);\n  };\n  /**\n   * 通过 theme 和图表类型，获取当前 plot 对应的主题\n   * @param props\n   * @param type\n   */\n\n\n  ThemeController.prototype.getPlotTheme = function (props, type) {\n    var theme = props.theme;\n\n    if (_.isString(theme)) {\n      return _.deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n\n    return _.deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  };\n  /**\n   * 获取转化成 G2 的结构主题\n   * @param props\n   * @param type\n   */\n\n\n  ThemeController.prototype.getTheme = function (props, type) {\n    var plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n\n    var g2Theme = _.deepMix({}, G2DefaultTheme, plotG2Theme); // this._processVisible(g2Theme);\n\n\n    return g2Theme;\n  };\n\n  ThemeController.prototype.getResponsiveTheme = function (type) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  };\n\n  ThemeController.prototype._processVisible = function (theme) {\n    processAxisVisible(theme.axis.left);\n    processAxisVisible(theme.axis.right);\n    processAxisVisible(theme.axis.top);\n    processAxisVisible(theme.axis.bottom);\n    return theme;\n  };\n\n  return ThemeController;\n}();\n\nexport default ThemeController;","import * as _ from '@antv/util';\n/**\n * mutable 的方式修改 axis 配置\n * @param axis\n */\n// function convertToG2Axis(axis: any): void {\n//   if (axis.line && axis.line.style) {\n//     const lineStyle = axis.line.style;\n//     delete axis.line.style;\n//     _.mix(axis.line, lineStyle);\n//   }\n//   if (axis.tickLine) {\n//     const tickLineStyle = axis.tickLine.style;\n//     delete axis.tickLine.style;\n//     _.mix(axis.tickLine, tickLineStyle);\n//   }\n//   if (axis.grid) {\n//     const gridStyle = axis.grid.style;\n//     delete axis.grid.style;\n//     _.mix(axis.grid, gridStyle);\n//   }\n//   if (axis.label) {\n//     if (axis.label.style) {\n//       axis.label.textStyle = axis.label.style;\n//       delete axis.label.style;\n//     }\n//   }\n//   if (axis.title) {\n//     if (axis.title.style) {\n//       axis.title.textStyle = axis.title.style;\n//       delete axis.title.style;\n//     }\n//   }\n// }\n\n/**\n * 将图形主题转换成 g2 theme 格式\n * @param plotTheme\n */\n\nexport function convertToG2Theme(plotTheme) {\n  var g2Theme = _.clone(plotTheme);\n  /** tempo: legend margin设置为0 */\n\n\n  if (!g2Theme.legend) {\n    g2Theme.legend = {};\n  } // g2Theme.legend.margin = [0, 0, 0, 0];\n  // if (g2Theme.axis) {\n  //   if (g2Theme.axis.x) {\n  //     convertToG2Axis(g2Theme.axis.x);\n  //     g2Theme.axis.bottom = {};\n  //     _.deepMix(g2Theme.axis.bottom, g2Theme.axis.x, { position: 'bottom' });\n  //     g2Theme.axis.top = {};\n  //     _.deepMix(g2Theme.axis.top, g2Theme.axis.x, { position: 'top' });\n  //     delete g2Theme.axis.x;\n  //   }\n  //   if (g2Theme.axis.y) {\n  //     convertToG2Axis(g2Theme.axis.y);\n  //     g2Theme.axis.left = {};\n  //     _.deepMix(g2Theme.axis.left, g2Theme.axis.y, { position: 'left' });\n  //     g2Theme.axis.right = {};\n  //     _.deepMix(g2Theme.axis.right, g2Theme.axis.y, { position: 'right' });\n  //     delete g2Theme.axis.y;\n  //   }\n  // }\n\n\n  return g2Theme;\n}","import { __extends } from \"tslib\";\nimport { BBox, Rect } from '@antv/g';\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport TextDescription from '../components/description';\nimport { getComponent } from '../components/factory';\nimport BaseInteraction from '../interaction/index';\nimport { EVENT_MAP, onEvent } from '../util/event';\nimport PaddingController from './controller/padding';\nimport StateController from './controller/state';\nimport ThemeController from './controller/theme';\nimport Layer from './layer';\nimport { isTextUsable } from '../util/common';\nimport { getOverlapArea } from '../util/bbox';\n\nvar ViewLayer =\n/** @class */\nfunction (_super) {\n  __extends(ViewLayer, _super);\n\n  function ViewLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.interactions = [];\n    _this.options = _this.getOptions(props);\n    _this.initialOptions = _.deepMix({}, _this.options);\n    _this.paddingController = new PaddingController({\n      plot: _this\n    });\n    _this.stateController = new StateController({\n      plot: _this\n    });\n    _this.themeController = new ThemeController();\n    return _this;\n  }\n\n  ViewLayer.getDefaultOptions = function (props) {\n    return {\n      renderer: 'canvas',\n      title: {\n        visible: false,\n        text: ''\n      },\n      description: {\n        visible: false,\n        text: ''\n      },\n      padding: 'auto',\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'y'\n        }\n      },\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      label: {\n        visible: false\n      }\n    };\n  };\n\n  ViewLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions(props);\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  ViewLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n  };\n\n  ViewLayer.prototype.init = function () {\n    var _this = this;\n\n    _super.prototype.init.call(this);\n\n    this.theme = this.themeController.getTheme(this.options, this.type);\n    this.config = {\n      scales: {},\n      legends: {},\n      tooltip: {\n        showTitle: true,\n        triggerOn: 'mousemove',\n        inPanel: true,\n        useHtml: true\n      },\n      axes: {\n        fields: {}\n      },\n      coord: {\n        type: 'cartesian'\n      },\n      elements: [],\n      annotations: [],\n      interactions: {},\n      theme: this.theme,\n      panelRange: {},\n      animate: true\n    };\n    this.paddingController.clear();\n    this.drawTitle();\n    this.drawDescription();\n    this.coord();\n    this.scale();\n    this.axis();\n    this.tooltip();\n    this.legend();\n    this.addGeometry();\n    this.annotation();\n    this.animation();\n    this.viewRange = this.getViewRange();\n    this.paddingController.clearOuterComponents();\n    this.view = new G2.View({\n      width: this.width,\n      height: this.height,\n      canvas: this.canvas,\n      container: this.container,\n      padding: this.paddingController.getPadding(),\n      data: this.processData(this.options.data),\n      theme: this.theme,\n      options: this.config,\n      start: {\n        x: this.viewRange.minX,\n        y: this.viewRange.minY\n      },\n      end: {\n        x: this.viewRange.maxX,\n        y: this.viewRange.maxY\n      }\n    });\n    this.applyInteractions();\n    this.view.on('afterrender', function () {\n      _this.afterRender();\n    });\n  };\n\n  ViewLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    if (this.options.padding !== 'auto') {\n      this.parseEvents();\n    }\n  };\n\n  ViewLayer.prototype.afterRender = function () {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    var options = this.options;\n    var padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n\n    if (this.options.renderer === 'canvas') {\n      this.addGeomCliper();\n    }\n    /** autopadding */\n\n\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  };\n  /** 完整生命周期渲染 */\n\n\n  ViewLayer.prototype.render = function () {\n    _super.prototype.render.call(this);\n\n    var data = this.options.data;\n\n    if (!_.isEmpty(data)) {\n      this.view.render();\n    }\n  };\n  /** 销毁 */\n\n\n  ViewLayer.prototype.destroy = function () {\n    this.doDestroy();\n\n    _super.prototype.destroy.call(this);\n  };\n  /** 更新配置项 */\n\n\n  ViewLayer.prototype.updateConfig = function (cfg) {\n    this.doDestroy();\n\n    if (!cfg.padding && this.initialOptions.padding && this.initialOptions.padding === 'auto') {\n      cfg.padding = 'auto';\n    }\n\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  };\n\n  ViewLayer.prototype.changeData = function (data) {\n    this.options.data = this.processData(data);\n    this.view.changeData(this.options.data);\n  }; // plot 不断销毁重建，需要一个api获取最新的plot\n\n\n  ViewLayer.prototype.getPlot = function () {\n    return this.view;\n  }; // 获取对应的G2 Theme\n\n\n  ViewLayer.prototype.getTheme = function () {\n    return this.theme;\n  };\n\n  ViewLayer.prototype.getResponsiveTheme = function () {\n    return this.themeController.getResponsiveTheme(this.type);\n  }; // 获取对应的Plot Theme\n\n\n  ViewLayer.prototype.getPlotTheme = function () {\n    return this.themeController.getPlotTheme(this.options, this.type);\n  }; // 绑定一个外部的stateManager\n\n\n  ViewLayer.prototype.bindStateManager = function (stateManager, cfg) {\n    this.stateController.bindStateManager(stateManager, cfg);\n  }; // 响应状态量更新的快捷方法\n\n\n  ViewLayer.prototype.setActive = function (condition, style) {\n    this.stateController.setState({\n      type: 'active',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setSelected = function (condition, style) {\n    this.stateController.setState({\n      type: 'selected',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setDisable = function (condition, style) {\n    this.stateController.setState({\n      type: 'disable',\n      condition: condition,\n      style: style\n    });\n  };\n\n  ViewLayer.prototype.setNormal = function (condition) {\n    this.stateController.setState({\n      type: 'normal',\n      condition: condition,\n      style: {}\n    });\n  }; // 获取 ViewLayer 的数据项\n\n\n  ViewLayer.prototype.getData = function (start, end) {\n    return this.processData((this.options.data || []).slice(start, end));\n  };\n\n  ViewLayer.prototype.processData = function (data) {\n    return data;\n  };\n\n  ViewLayer.prototype.scale = function () {\n    /** scale meta配置 */\n    // 1. this.config.scales中已有子图形在处理xAxis/yAxis是写入的xField/yField对应的scale信息，这里再检查用户设置的meta，将meta信息合并到默认的scale中\n    // 2. 同时xAxis/yAxis中的type优先级更高，覆盖meta中的type配置\n    var scaleTypes = _.mapValues(this.config.scales, function (scaleConfig) {\n      var type = scaleConfig.type;\n      return type ? {\n        type: type\n      } : {};\n    });\n\n    var scales = _.deepMix({}, this.config.scales, this.options.meta || {}, scaleTypes);\n\n    this.setConfig('scales', scales);\n  };\n\n  ViewLayer.prototype.axis = function () {\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[this.options.yField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  ViewLayer.prototype.tooltip = function () {\n    if (this.options.tooltip.visible === false) {\n      this.setConfig('tooltip', false);\n      return;\n    }\n\n    this.setConfig('tooltip', _.deepMix({}, _.get(this.options, 'tooltip')));\n\n    _.deepMix(this.config.theme.tooltip, this.options.tooltip.style);\n  };\n\n  ViewLayer.prototype.legend = function () {\n    if (this.options.legend.visible === false) {\n      this.setConfig('legends', false);\n      return;\n    }\n\n    var flipOption = _.get(this.options, 'legend.flipPage');\n\n    var clickable = _.get(this.options, 'legend.clickable');\n\n    this.setConfig('legends', {\n      position: _.get(this.options, 'legend.position'),\n      formatter: _.get(this.options, 'legend.formatter'),\n      offsetX: _.get(this.options, 'legend.offsetX'),\n      offsetY: _.get(this.options, 'legend.offsetY'),\n      clickable: _.isUndefined(clickable) ? true : clickable,\n      // wordSpacing: _.get(this.options, 'legend.wordSpacing'),\n      flipPage: flipOption,\n      marker: _.get(this.options, 'legend.marker')\n    });\n  };\n\n  ViewLayer.prototype.annotation = function () {\n    var _this = this;\n\n    var config = [];\n\n    if (this.config.coord.type === 'cartesian' && this.options.guideLine) {\n      _.each(this.options.guideLine, function (line) {\n        var guideLine = getComponent('guideLine', {\n          plot: _this,\n          cfg: line\n        });\n        config.push(guideLine);\n      });\n    }\n\n    this.setConfig('annotations', config);\n  };\n\n  ViewLayer.prototype.animation = function () {\n    if (this.options.animation === false || this.options.padding === 'auto') {\n      this.config.animate = false;\n    }\n  };\n\n  ViewLayer.prototype.applyInteractions = function () {\n    var _this = this;\n\n    var _a = this.options.interactions,\n        interactions = _a === void 0 ? [] : _a;\n\n    if (this.interactions) {\n      this.interactions.forEach(function (inst) {\n        inst.destroy();\n      });\n    }\n\n    this.interactions = [];\n    interactions.forEach(function (interaction) {\n      var Ctor = BaseInteraction.getInteraction(interaction.type, _this.type);\n\n      if (Ctor) {\n        var inst = new Ctor({\n          view: _this.view\n        }, _this, Ctor.getInteractionRange(_this.layerBBox, interaction.cfg), interaction.cfg);\n\n        _this.interactions.push(inst);\n      }\n    });\n  };\n  /** 设置G2 config，带有类型推导 */\n\n\n  ViewLayer.prototype.setConfig = function (key, config) {\n    if (key === 'element') {\n      this.config.elements.push(config);\n      return;\n    }\n\n    if (config === false) {\n      this.config[key] = false;\n      return;\n    }\n\n    _.assign(this.config[key], config);\n  };\n\n  ViewLayer.prototype.parseEvents = function (eventParser) {\n    var _this = this;\n\n    var options = this.options;\n\n    if (options.events) {\n      _super.prototype.parseEvents.call(this, options.events);\n\n      var eventmap_1 = eventParser ? eventParser.EVENT_MAP : EVENT_MAP;\n\n      _.each(options.events, function (e, k) {\n        if (_.isFunction(e)) {\n          var eventName = eventmap_1[k] || k;\n          var handler = e;\n          onEvent(_this, eventName, handler);\n        }\n      });\n    }\n  };\n\n  ViewLayer.prototype.drawTitle = function () {\n    var props = this.options;\n    var range = this.layerBBox;\n\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      var width = this.width;\n      var theme = this.config.theme;\n      var title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: _.mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup(),\n        theme: theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this,\n        name: 'title'\n      });\n      this.title = title;\n      this.paddingController.registerPadding(title, 'outer');\n    }\n  };\n\n  ViewLayer.prototype.drawDescription = function () {\n    var props = this.options;\n    var range = this.layerBBox;\n\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      var width = this.width;\n      var theme = this.config.theme;\n      var topMargin = 0;\n\n      if (this.title) {\n        var titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // 无title的情况下使用title的上padding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      var description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin: topMargin,\n        text: props.description.text,\n        style: _.mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup(),\n        theme: theme,\n        index: 1,\n        plot: this,\n        name: 'description'\n      });\n      this.description = description;\n      this.paddingController.registerPadding(description, 'outer');\n    }\n  };\n  /** 抽取destroy和updateConfig共有代码为_destroy方法 */\n\n\n  ViewLayer.prototype.doDestroy = function () {\n    this.doDestroyInteractions();\n    /** 销毁g2.view实例 */\n\n    if (!this.view.destroyed) {\n      this.view.destroy();\n    }\n  };\n\n  ViewLayer.prototype.doDestroyInteractions = function () {\n    // 移除注册的 interactions\n    if (this.interactions) {\n      this.interactions.forEach(function (inst) {\n        inst.destroy();\n      });\n    }\n\n    this.interactions = [];\n  };\n\n  ViewLayer.prototype.getViewRange = function () {\n    var _this = this; // 有 Range 的 Interaction 参与 ViewMargin 计算\n\n\n    var _a = this.options.interactions,\n        interactions = _a === void 0 ? [] : _a;\n    var layerBBox = this.layerBBox;\n    interactions.forEach(function (interaction) {\n      var Ctor = BaseInteraction.getInteraction(interaction.type, _this.type);\n      var range = Ctor && Ctor.getInteractionRange(layerBBox, interaction.cfg);\n      var position = '';\n\n      if (range) {\n        // 先只考虑 Range 靠边的情况\n        if (range.bottom === layerBBox.bottom && range.top > layerBBox.top) {\n          // margin[2] += range.height;\n          position = 'bottom';\n        } else if (range.right === layerBBox.right && range.left > layerBBox.left) {\n          // margin[1] += range.width;\n          position = 'right';\n        } else if (range.left === layerBBox.left && range.right > layerBBox.right) {\n          // margin[3] += range.width;\n          position = 'left';\n        } else if (range.top === layerBBox.top && range.bottom > layerBBox.bottom) {\n          // margin[0] += range.height;\n          position = 'top';\n        }\n\n        _this.paddingController.registerPadding({\n          getBBox: function getBBox() {\n            return range;\n          },\n          position: position\n        }, 'outer');\n      }\n    });\n    var viewRange = this.paddingController.processOuterPadding();\n    return viewRange;\n  }; // 临时解决scale min & max的图形截取\n\n\n  ViewLayer.prototype.addGeomCliper = function () {\n    var panelRange = this.view.get('panelRange');\n    var cliper = new Rect({\n      attrs: {\n        x: panelRange.minX,\n        y: panelRange.minY,\n        width: panelRange.width,\n        height: panelRange.height\n      }\n    });\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var cliperContainer = geom.get('shapeContainer');\n      var preCliper = cliperContainer.attr('clip');\n\n      if (preCliper) {\n        preCliper.remove();\n      }\n\n      cliperContainer.attr('clip', cliper);\n    }); // 临时解决scale min/max 之外的label\n\n\n    var clipBBox = new BBox(panelRange.x, panelRange.y, panelRange.width, panelRange.height);\n\n    _.each(this.getDataLabShapes(), function (label) {\n      var labelBBox = label.getBBox();\n\n      if (getOverlapArea(clipBBox, labelBBox) <= 0) {\n        label.set('visible', false);\n      }\n    });\n  };\n\n  ViewLayer.prototype.getDataLabShapes = function () {\n    var shapes = [];\n    this.view.get('elements').map(function (element) {\n      var labelController = element.get('labelController');\n      var label = labelController.labelsContainer && labelController.labelsContainer.get('labelsRenderer');\n\n      if (label) {\n        shapes.push.apply(shapes, label.getLabels() || []);\n      }\n    });\n    return shapes;\n  };\n\n  return ViewLayer;\n}(Layer);\n\nexport default ViewLayer;","/**\n * 计算两个矩形之间的堆叠区域面积\n */\nexport function getOverlapArea(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin));\n  return xOverlap * yOverlap;\n}","import { modifyCSS } from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { getGlobalTheme } from '../../theme/global';\nimport ThemeController from './theme';\n/**\n * Canvas controller\n * 1. create G.Canvas, destroy G.Canvas\n * 2. process auto fit container\n * 3. API for G.Canvas\n */\n\nvar CanvasController =\n/** @class */\nfunction () {\n  function CanvasController(cfg) {\n    var _this = this;\n    /**\n     * when the container size changed, trigger it after 300ms.\n     */\n\n\n    this.onResize = _.debounce(function () {\n      if (_this.plot.destroyed) {\n        return;\n      }\n\n      var _a = _this.getCanvasSize(),\n          width = _a.width,\n          height = _a.height;\n      /** height measure不准导致重复 forceFit */\n\n\n      if (_this.width === width\n      /*&& this.height === height*/\n      ) {\n          return;\n        } // got new width, height, re-render the plot\n\n\n      _this.width = width;\n      _this.height = height;\n\n      _this.plot.updateConfig({\n        width: width,\n        height: height\n      });\n\n      _this.plot.render();\n    }, 300);\n    var containerDOM = cfg.containerDOM,\n        plot = cfg.plot;\n    this.containerDOM = containerDOM;\n    this.plot = plot;\n    this.init();\n  }\n  /**\n   * get canvas size from props.\n   * @returns the width, height of canvas\n   */\n\n\n  CanvasController.prototype.getCanvasSize = function () {\n    var theme = getGlobalTheme();\n    var width = this.plot.width ? this.plot.width : theme.width;\n    var height = this.plot.height ? this.plot.height : theme.height; // if forceFit = true, then use the container's size as default.\n\n    if (this.plot.forceFit) {\n      width = this.containerDOM.offsetWidth ? this.containerDOM.offsetWidth : width;\n      height = this.containerDOM.offsetHeight ? this.containerDOM.offsetHeight : height;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  };\n  /**\n   * get the canvas dom\n   * @returns Canvas DOM\n   */\n\n\n  CanvasController.prototype.getCanvasDOM = function () {\n    return this.canvas.get('canvasDOM');\n  };\n  /**\n   * update the plot size\n   */\n\n\n  CanvasController.prototype.updateCanvasSize = function () {\n    var _a = this.getCanvasSize(),\n        width = _a.width,\n        height = _a.height;\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height); // this.plot.updateRange();\n  };\n  /**\n   * 根据主题调整canvas样式\n   */\n\n\n  CanvasController.prototype.updateCanvasTheme = function () {\n    var theme = this.plot.theme;\n    var globalTheme = ThemeController.getGlobalTheme(theme);\n\n    var fill = _.get(globalTheme, 'backgroundStyle.fill');\n\n    if (fill) {\n      this.updateCanvasStyle({\n        backgroundColor: fill\n      });\n    }\n  };\n  /**\n   * update the canvas dom styles\n   * @param styles\n   */\n\n\n  CanvasController.prototype.updateCanvasStyle = function (styles) {\n    modifyCSS(this.getCanvasDOM(), styles);\n  };\n  /**\n   * destroy the plot, remove resize event.\n   */\n\n\n  CanvasController.prototype.destroy = function () {\n    // remove event\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.containerDOM);\n      this.resizeObserver.disconnect();\n      this.containerDOM = null;\n    } // remove G.Canvas\n\n\n    this.canvas.destroy();\n  };\n  /**\n   * when forceFit = true, then bind the event to listen the container size change\n   */\n\n\n  CanvasController.prototype.bindForceFit = function () {\n    var forceFit = this.plot.forceFit; // use ResizeObserver to listen the container size change.\n\n    if (forceFit) {\n      this.resizeObserver = new ResizeObserver(this.onResize);\n      this.resizeObserver.observe(this.containerDOM);\n    }\n  };\n  /**\n   * init life circle\n   */\n\n\n  CanvasController.prototype.init = function () {\n    this.initGCanvas();\n    this.bindForceFit();\n  };\n  /**\n   * init G.Canvas instance\n   */\n\n\n  CanvasController.prototype.initGCanvas = function () {\n    /** 创建canvas */\n    var _a = this.plot,\n        _b = _a.renderer,\n        renderer = _b === void 0 ? 'canvas' : _b,\n        pixelRatio = _a.pixelRatio;\n\n    var _c = this.getCanvasSize(),\n        width = _c.width,\n        height = _c.height;\n\n    this.canvas = new Canvas({\n      containerDOM: this.containerDOM,\n      width: width,\n      height: height,\n      renderer: renderer,\n      pixelRatio: pixelRatio\n    });\n    this.width = width;\n    this.height = height;\n    this.updateCanvasTheme();\n  };\n\n  return CanvasController;\n}();\n\nexport default CanvasController;","import * as _ from '@antv/util';\n\nfunction isSameShape(shape1, shape2) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isPointInBBox(point, bbox) {\n  if (point.x >= bbox.minX && point.x <= bbox.maxX && point.y >= bbox.minY && point.y <= bbox.maxY) {\n    return true;\n  }\n\n  return false;\n}\n\nvar EventController =\n/** @class */\nfunction () {\n  function EventController(cfg) {\n    this.plot = cfg.plot;\n    this.canvas = cfg.canvas;\n    this.pixelRatio = this.canvas.get('pixelRatio');\n    this.eventHandlers = [];\n  }\n\n  EventController.prototype.bindEvents = function () {\n    this.addEvent(this.canvas, 'mousedown', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, 'onMove'));\n    this.addEvent(this.canvas, 'mouseup', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'click', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'dblclick', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'contextmenu', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'wheel', _.wrapBehavior(this, 'onEvents'));\n  };\n\n  EventController.prototype.clearEvents = function () {\n    var eventHandlers = this.eventHandlers;\n\n    _.each(eventHandlers, function (eh) {\n      eh.target.off(eh.type, eh.handler);\n    });\n  };\n\n  EventController.prototype.addEvent = function (target, eventType, handler) {\n    target.on(eventType, handler);\n    this.eventHandlers.push({\n      target: target,\n      type: eventType,\n      handler: handler\n    });\n  };\n\n  EventController.prototype.onEvents = function (ev) {\n    var eventObj = this.getEventObj(ev);\n    var target = ev.target; // 判断是否拾取到view以外的shape\n\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(target.name + \":\" + ev.type, ev);\n    }\n\n    this.plot.emit(\"\" + ev.type, eventObj); // layer事件\n\n    var layers = this.plot.getLayers();\n\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, ev.type);\n    }\n  };\n\n  EventController.prototype.onMove = function (ev) {\n    var target = ev.target;\n    var eventObj = this.getEventObj(ev); // shape的mouseenter, mouseleave和mousemove事件\n\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(target.name + \":\" + ev.type, eventObj); // mouseleave & mouseenter\n\n      if (this.lastShape && !isSameShape(target, this.lastShape)) {\n        if (this.lastShape) {\n          this.plot.emit(this.lastShape.name + \":mouseleave\", eventObj);\n        }\n\n        this.plot.emit(target.name + \":mouseenter\", eventObj);\n      }\n\n      this.lastShape = target;\n    }\n\n    this.plot.emit('mousemove', eventObj); // layer事件\n\n    var layers = this.plot.getLayers();\n\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, 'mousemove');\n    }\n  };\n\n  EventController.prototype.isShapeInView = function (shape) {\n    var groupName = ['frontgroundGroup', 'backgroundGroup', 'panelGroup'];\n    var parent = shape.get('parent');\n\n    while (parent) {\n      var parentName = parent.get('name');\n\n      if (parentName && _.contains(groupName, parentName)) {\n        return true;\n      }\n\n      parent = parent.get('parent');\n    }\n\n    return false;\n  };\n\n  EventController.prototype.getEventObj = function (ev) {\n    var obj = {\n      x: ev.x / this.pixelRatio,\n      y: ev.y / this.pixelRatio,\n      target: ev.target,\n      event: ev.event\n    };\n    return obj;\n  };\n\n  EventController.prototype.onLayerEvent = function (layers, eventObj, eventName) {\n    var _this = this;\n\n    _.each(layers, function (layer) {\n      var bbox = layer.getGlobalBBox();\n\n      if (isPointInBBox({\n        x: eventObj.x,\n        y: eventObj.y\n      }, bbox)) {\n        layer.emit(\"\" + eventName, eventObj);\n        var subLayers = layer.layers;\n\n        if (subLayers.length > 0) {\n          _this.onLayerEvent(subLayers, eventObj, eventName);\n        }\n      }\n    });\n  };\n\n  return EventController;\n}();\n\nexport default EventController;","/** 所有统计图形 */\nvar GLOBAL_PLOT_MAP = {};\nexport function registerPlotType(name, ctr) {\n  GLOBAL_PLOT_MAP[name.toLowerCase()] = ctr;\n}\nexport function getPlotType(name) {\n  return GLOBAL_PLOT_MAP[name.toLowerCase()];\n}","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\nimport CanvasController from './controller/canvas';\nimport EventController from './controller/event';\nimport { getPlotType } from './global';\nimport Layer from './layer';\nimport ViewLayer from './view-layer';\nimport { CANVAS_EVENT_MAP } from '../util/event';\n\nvar BasePlot =\n/** @class */\nfunction (_super) {\n  __extends(BasePlot, _super);\n\n  function BasePlot(container, props) {\n    var _this = _super.call(this) || this;\n\n    _this.containerDOM = typeof container === 'string' ? document.getElementById(container) : container;\n    _this.forceFit = !_.isNil(props.forceFit) ? props.forceFit : _.isNil(props.width) && _.isNil(props.height);\n    _this.renderer = props.renderer || 'canvas';\n    _this.pixelRatio = props.pixelRatio || null;\n    _this.width = props.width;\n    _this.height = props.height;\n    _this.theme = props.theme;\n    _this.canvasController = new CanvasController({\n      containerDOM: _this.containerDOM,\n      plot: _this\n    });\n    /** update layer properties */\n\n    _this.width = _this.canvasController.width;\n    _this.height = _this.canvasController.height;\n    _this.canvas = _this.canvasController.canvas;\n    _this.layers = [];\n    _this.destroyed = false;\n\n    _this.createLayers(props);\n    /** bind events */\n\n\n    _this.eventController = new EventController({\n      plot: _this,\n      canvas: _this.canvasController.canvas\n    });\n\n    _this.eventController.bindEvents();\n\n    _this.parseEvents(props);\n\n    return _this;\n  }\n  /** 生命周期 */\n\n\n  BasePlot.prototype.destroy = function () {\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.canvasController.destroy();\n    this.eventController.clearEvents();\n    this.layers = [];\n    this.destroyed = true;\n  };\n  /**\n   * 重新绘制图形\n   */\n\n\n  BasePlot.prototype.repaint = function () {\n    this.canvasController.canvas.draw();\n  };\n\n  BasePlot.prototype.updateConfig = function (config, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof ViewLayer) {\n          layer.updateConfig(config);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof Layer) {\n        layer.updateConfig(config);\n      }\n    }\n\n    if (config.width) {\n      this.width = config.width;\n    }\n\n    if (config.height) {\n      this.height = config.height;\n    }\n\n    if (config.theme) {\n      this.theme = config.theme;\n    }\n\n    this.canvasController.updateCanvasSize();\n    this.canvasController.updateCanvasTheme();\n  };\n\n  BasePlot.prototype.changeData = function (data, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof ViewLayer) {\n          layer.changeData(data);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof ViewLayer) {\n        layer.changeData(data);\n      }\n    }\n  };\n\n  BasePlot.prototype.getPlotTheme = function () {\n    var layer = this.layers[0];\n    return layer.getPlotTheme();\n  };\n\n  BasePlot.prototype.getData = function () {\n    var layer = this.layers[0];\n    return layer.getData();\n  };\n  /**\n   * 绑定一个外部的stateManager\n   * 先直接传递给各个子 Layer\n   *\n   *  @param stateManager\n   *  @param cfg\n   */\n\n\n  BasePlot.prototype.bindStateManager = function (stateManager, cfg) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.bindStateManager(stateManager, cfg);\n      }\n    });\n  };\n  /**\n   * 响应状态量更新的快捷方法\n   *\n   *  @param condition\n   * @param style\n   */\n\n\n  BasePlot.prototype.setActive = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setActive(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setSelected = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setSelected(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setDisable = function (condition, style) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setDisable(condition, style);\n      }\n    });\n  };\n\n  BasePlot.prototype.setNormal = function (condition) {\n    this.eachLayer(function (layer) {\n      if (layer instanceof ViewLayer) {\n        layer.setNormal(condition);\n      }\n    });\n  };\n  /**\n   * 获取图形下的图层 Layer，默认第一个 Layer\n   * @param idx\n   */\n\n\n  BasePlot.prototype.getLayer = function (idx) {\n    if (idx === void 0) {\n      idx = 0;\n    }\n\n    return this.layers[idx];\n  };\n\n  BasePlot.prototype.getCanvas = function () {\n    return this.canvasController.canvas;\n  };\n\n  BasePlot.prototype.getLayers = function () {\n    return this.layers;\n  };\n\n  BasePlot.prototype.render = function () {\n    this.eachLayer(function (layer) {\n      return layer.render();\n    });\n  };\n\n  BasePlot.prototype.eachLayer = function (cb) {\n    _.each(this.layers, cb);\n  };\n  /**\n   * add children layer\n   * @param layer\n   */\n\n\n  BasePlot.prototype.addLayer = function (layer) {\n    var idx = _.findIndex(this.layers, function (item) {\n      return item === layer;\n    });\n\n    if (idx < 0) {\n      this.layers.push(layer);\n    }\n  };\n\n  BasePlot.prototype.createLayers = function (props) {\n    if (props.layers) {// TODO: combo plot\n    } else if (props.type) {\n      var viewLayerCtr = getPlotType(props.type);\n\n      var viewLayerProps = _.deepMix({}, props, {\n        canvas: this.canvasController.canvas,\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      });\n\n      var viewLayer = new viewLayerCtr(viewLayerProps);\n      this.addLayer(viewLayer);\n    }\n  };\n\n  BasePlot.prototype.parseEvents = function (props) {\n    var _this = this;\n\n    var eventsName = _.keys(CANVAS_EVENT_MAP);\n\n    if (props.events) {\n      _.each(props.events, function (e, k) {\n        if (_.contains(eventsName, k) && _.isFunction(e)) {\n          var eventName = CANVAS_EVENT_MAP[k] || k;\n          var handler = e;\n\n          _this.on(eventName, handler);\n        }\n      });\n    }\n  };\n\n  return BasePlot;\n}(EventEmitter);\n\nexport default BasePlot;","import { assign, deepMix } from '@antv/util';\n\nvar ElementParser =\n/** @class */\nfunction () {\n  function ElementParser(cfg) {\n    assign(this, cfg);\n    this.init();\n  }\n\n  ElementParser.prototype.init = function () {\n    var _a;\n\n    this.config = {\n      type: this.type,\n      position: {\n        fields: this.positionFields\n      },\n      widthRatio: deepMix({}, {\n        column: 3 / 5,\n        rose: 0.9999999,\n        multiplePie: 1 / 1.3\n      }, ((_a = this.plot.options) === null || _a === void 0 ? void 0 : _a.widthRatio) || {}, this.widthRatio || {})\n    };\n  };\n\n  return ElementParser;\n}();\n\nexport default ElementParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar AreaParser =\n/** @class */\nfunction (_super) {\n  __extends(AreaParser, _super);\n\n  function AreaParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.config = {\n      type: 'area',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      connectNulls: props.connectNulls || false\n    };\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n\n    if (this._getColorMappingField() || props.color) {\n      this.parseColor();\n    }\n\n    if (props.areaStyle || props.area && props.area.style) {\n      this.parseStyle();\n    }\n  };\n\n  AreaParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var colorMappingField = this._getColorMappingField();\n\n    if (colorMappingField) {\n      config.fields = colorMappingField;\n    }\n\n    if (_.has(props, 'color')) {\n      var color = props.color;\n\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  AreaParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.areaStyle ? props.areaStyle : props.area.style;\n    var config = {};\n\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  AreaParser.prototype._getColorMappingField = function () {\n    var props = this.plot.options;\n    var colorMapper = ['stackField', 'seriesField'];\n\n    for (var _i = 0, colorMapper_1 = colorMapper; _i < colorMapper_1.length; _i++) {\n      var m = colorMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return AreaParser;\n}(ElementParser);\n\nexport default AreaParser;","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nvar vector2 = matrixUtil.vec2;\n\nfunction _points2path(points, isInCircle) {\n  var path = [];\n\n  if (points.length) {\n    for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n      var item = points[i];\n      var command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point) {\n  var center = coord.getCenter();\n  var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr, coord) {\n  var tmp = [arr[0]];\n\n  for (var i = 1, len = arr.length; i < len; i = i + 2) {\n    var point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1]\n    });\n    tmp.push(point.x, point.y);\n  }\n\n  return tmp;\n}\n\nfunction _convertPolarPath(pre, cur, coord) {\n  var isTransposed = coord.isTransposed,\n      startAngle = coord.startAngle,\n      endAngle = coord.endAngle;\n  var prePoint = {\n    x: pre[1],\n    y: pre[2]\n  };\n  var curPoint = {\n    x: cur[1],\n    y: cur[2]\n  };\n  var rst = [];\n  var xDim = isTransposed ? 'y' : 'x';\n  var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n\n  var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n\n  var convertPoint = coord.convertPoint(curPoint);\n\n  var r = _getPointRadius(coord, convertPoint);\n\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      var middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2\n      };\n      var middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n\n  return rst;\n} // 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\n\n\nfunction _filterFullCirleLine(path) {\n  _.each(path, function (subPath, index) {\n    var cur = subPath;\n\n    if (cur[0].toLowerCase() === 'a') {\n      var pre = path[index - 1];\n      var next = path[index + 1];\n\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport var smoothBezier = function smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, l = points.length; i < l; i++) {\n      var point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    var v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n    var d0 = vector2.distance(point, prevPoint);\n    var d1 = vector2.distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    var v1 = vector2.scale([], v, -d0);\n    var v2 = vector2.scale([], v, d1);\n    var cp0 = vector2.add([], point, v1);\n    var cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}; // 贝塞尔曲线\n\nexport function catmullRom2bezier(crp, z, constraint) {\n  var isLoop = !!z;\n  var pointList = [];\n\n  for (var i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  return d1;\n} // 将点连接成路径 path\n\nexport function getLinePath(points, isInCircle) {\n  return _points2path(points, isInCircle);\n} // get spline： 限定了范围的平滑线\n\nexport function getSplinePath(points, isInCircle, constaint) {\n  var data = [];\n  var first = points[0];\n  var prePoint = null;\n\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n\n  _.each(points, function (point) {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n\n  var constraint = constaint || [// 范围\n  [0, 0], [1, 1]];\n  var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n} // 获取点到圆心的距离\n\nexport function getPointRadius(coord, point) {\n  return _getPointRadius(coord, point);\n} // 获取点到圆心的夹角\n\nexport function getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n  var tmp = [];\n\n  _.each(path, function (subPath) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  return tmp;\n}\nexport function convertPolarPath(coord, path) {\n  var tmp = [];\n  var pre;\n  var cur;\n  var transposed;\n  var equals;\n\n  _.each(path, function (subPath, index) {\n    var action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed; // 是否半径相同，转换成圆弧\n\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n\n        break;\n\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n\n\n  return tmp;\n}","import { __extends } from \"tslib\";\n/** 简化折线点 */\n\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport AreaParser from './main';\nvar G2DefaultTheme = G2.Global.theme;\nG2.registerShape('area', 'miniArea', {\n  draw: function draw(cfg, container) {\n    var path = getPath(cfg, this, false);\n\n    var style = _.deepMix({}, {\n      lineJoin: 'round',\n      lineCap: 'round'\n    }, cfg.style);\n\n    var shape = container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.4\n      },\n      style: style\n    });\n    return shape;\n  }\n});\nG2.registerShape('area', 'miniAreaSmooth', {\n  draw: function draw(cfg, container) {\n    var path = getPath(cfg, this, true);\n    var shape = container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.5\n      }\n    });\n    return shape;\n  }\n});\n\nfunction getPath(cfg, shape, isSmooth) {\n  var constraint = [[0, 0], [1, 1]];\n  var topLinePoints = [];\n  var bottomLinePoints = [];\n\n  _.each(cfg.points, function (point) {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n\n  bottomLinePoints = shape.parsePoints(bottomLinePoints.reverse());\n  topLinePoints = lineSimplification(shape.parsePoints(topLinePoints));\n  var topPath = isSmooth ? getSplinePath(topLinePoints, false, constraint) : getStraightPath(topLinePoints);\n  var bottomPath = getStraightPath(bottomLinePoints);\n  bottomPath[0][0] = 'L';\n  var path = topPath.concat(bottomPath);\n  return path;\n}\n\nfunction getStraightPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n    var flag = i === 0 ? 'M' : 'L';\n    path.push([flag, p.x, p.y]);\n  }\n\n  return path;\n}\n\nfunction parseGradient(color) {\n  return \"l(90) 0:\" + color + \" 1:#ffffff\";\n}\n\nvar MiniAreaParser =\n/** @class */\nfunction (_super) {\n  __extends(MiniAreaParser, _super);\n\n  function MiniAreaParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MiniAreaParser.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.parseShape();\n  };\n\n  MiniAreaParser.prototype.parseShape = function () {\n    var props = this.plot.options;\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['miniAreaSmooth']\n      };\n    } else {\n      this.config.shape = {\n        values: ['miniArea']\n      };\n    }\n  };\n\n  return MiniAreaParser;\n}(AreaParser);\n\nexport default MiniAreaParser;","import AreaParser from './main';\nimport MiniAreaParser from './mini';\nexport default {\n  main: AreaParser,\n  mini: MiniAreaParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\nvar COLOR_MAPPER = ['colorField', 'stackField', 'groupField'];\n\nvar IntervalParser =\n/** @class */\nfunction (_super) {\n  __extends(IntervalParser, _super);\n\n  function IntervalParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  IntervalParser.prototype.init = function () {\n    this.type = 'interval';\n\n    _super.prototype.init.call(this);\n\n    var props = this.plot.options;\n\n    if (this._needParserColor()) {\n      this.parseColor();\n    }\n\n    if (!this.config.color) {\n      this.config.color = {\n        values: ['#5b8ff9']\n      };\n    }\n\n    var sizeProps = this._getSizeProps(props);\n\n    if (sizeProps) {\n      this.parseSize(sizeProps);\n    }\n\n    var styleProps = this._getStyleProps(props);\n\n    if (styleProps) {\n      this.parseStyle(styleProps);\n    }\n  };\n\n  IntervalParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n\n    var colorField = this._getColorMappingField(props);\n\n    var config = {};\n\n    if (colorField) {\n      config.fields = colorField;\n    }\n\n    if (props.color) {\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.values = props.color;\n      } else if (_.isObject(props.color)) {\n        config.fields = colorField;\n\n        config.callback = function (d) {\n          return props.color[d];\n        };\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  IntervalParser.prototype.parseSize = function (sizeProps) {\n    var props = this.plot.options;\n    var config = {};\n\n    if (_.isFunction(props[sizeProps])) {\n      config.fields = [this.config.position.fields];\n      config.callback = props[sizeProps];\n    } else {\n      config.values = [props[sizeProps]];\n    }\n\n    this.config.size = config;\n  };\n\n  IntervalParser.prototype.parseStyle = function (styleProps) {\n    var style = this.plot.options[styleProps];\n    var config = {};\n\n    if (_.isFunction(style)) {\n      config.fields = [this.config.position.fields];\n      config.callback = style;\n    } else {\n      config.cfg = style;\n    }\n\n    this.config.style = config;\n  };\n\n  IntervalParser.prototype._getSizeProps = function (props) {\n    var sizeMapper = ['columnSize', 'barSize'];\n\n    for (var _i = 0, sizeMapper_1 = sizeMapper; _i < sizeMapper_1.length; _i++) {\n      var m = sizeMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  };\n\n  IntervalParser.prototype._getStyleProps = function (props) {\n    var sizeMapper = ['columnStyle', 'barStyle', 'pieStyle', 'ringStyle'];\n\n    for (var _i = 0, sizeMapper_2 = sizeMapper; _i < sizeMapper_2.length; _i++) {\n      var m = sizeMapper_2[_i];\n\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  };\n\n  IntervalParser.prototype._getColorMappingField = function (props) {\n    /**如果有colorFiled或stackField配置项(后者为堆叠interval)，则参与colorMapping的字段为对应值\n     * 如没有特别设定，则一般是callback中的传参，传入位置映射的字段\n     */\n    for (var _i = 0, COLOR_MAPPER_1 = COLOR_MAPPER; _i < COLOR_MAPPER_1.length; _i++) {\n      var m = COLOR_MAPPER_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  IntervalParser.prototype._needParserColor = function () {\n    var props = this.plot.options;\n\n    if (props.color) {\n      return true;\n    }\n\n    for (var _i = 0, COLOR_MAPPER_2 = COLOR_MAPPER; _i < COLOR_MAPPER_2.length; _i++) {\n      var m = COLOR_MAPPER_2[_i];\n\n      if (props[m]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return IntervalParser;\n}(ElementParser);\n\nexport default IntervalParser;","import IntervalParser from './main';\nexport default {\n  main: IntervalParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar LineParser =\n/** @class */\nfunction (_super) {\n  __extends(LineParser, _super);\n\n  function LineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      connectNulls: props.connectNulls\n    };\n\n    if (props.lineSize) {\n      this.parseSize();\n    }\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n\n    if (props.step) {\n      this.config.shape = {\n        values: [props.step]\n      };\n    }\n\n    if (props.seriesField || props.color) {\n      this.parseColor();\n    }\n\n    if (props.lineStyle) {\n      this.parseStyle();\n    }\n  };\n\n  LineParser.prototype.parseSize = function () {\n    var sizeProps = this.plot.options.lineSize;\n    var config = {};\n\n    if (_.isFunction(sizeProps)) {\n      config.callback = sizeProps;\n    } else {\n      config.values = [sizeProps];\n    }\n\n    this.config.size = config;\n  };\n\n  LineParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.seriesField) {\n      config.fields = [props.seriesField];\n    }\n\n    if (_.has(props, 'color')) {\n      var color = props.color;\n\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  LineParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.lineStyle;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  return LineParser;\n}(ElementParser);\n\nexport default LineParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport LineParser from './main';\n\nvar GuideLineParser =\n/** @class */\nfunction (_super) {\n  __extends(GuideLineParser, _super);\n\n  function GuideLineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GuideLineParser.prototype.init = function () {\n    var props = this.plot.options;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      tooltip: false\n    };\n\n    if (this._getColorMappingField() || this._needParseAttribute('color')) {\n      this.parseColor();\n    }\n\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n\n    if (props.line.style) {\n      this.parseStyle();\n    }\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['smooth']\n      };\n    }\n  };\n\n  GuideLineParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.line.size) {\n      config.values = [props.line.size];\n    } else {\n      // line作为辅助图形没有在style里指定size属性的情况下，设置默认值\n      config.values = [2];\n    }\n\n    this.config.size = config;\n  };\n\n  GuideLineParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var colorField = this._getColorMappingField();\n\n    if (colorField) {\n      config.fields = colorField;\n    }\n\n    if (props.line.color) {\n      config.values = [props.line.color];\n    } else {\n      if (!colorField) {\n        colorField = this.config.position.fields;\n      } // line作为辅助图形没有在style里指定color属性的情况下，默认接受主体图形的透传\n\n\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.fields = colorField;\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.fields = colorField;\n        config.values = props.color;\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  GuideLineParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.line.style;\n    var config = {};\n\n    if (_.isFunction(styleProps)) {\n      config.fields = this.config.position.fields;\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  GuideLineParser.prototype._needParseAttribute = function (attr) {\n    var props = this.plot.options;\n    var condition = !props.line || props.line[attr];\n    return condition;\n  };\n\n  GuideLineParser.prototype._getColorMappingField = function () {\n    var props = this.plot.options;\n    var colorMapper = ['stackField', 'seriesField'];\n\n    for (var _i = 0, colorMapper_1 = colorMapper; _i < colorMapper_1.length; _i++) {\n      var m = colorMapper_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return GuideLineParser;\n}(LineParser);\n\nexport default GuideLineParser;","import { __extends } from \"tslib\";\n/** 简化折线点 */\n\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport LineParser from './main';\nvar G2DefaultTheme = G2.Global.theme;\nG2.registerShape('line', 'miniLine', {\n  draw: function draw(cfg, container) {\n    var points = lineSimplification(cfg.points);\n    var path = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var flag = i === 0 ? 'M' : 'L';\n      path.push([flag, p.x, p.y]);\n    }\n\n    var style = _.deepMix({}, {\n      lineJoin: 'round',\n      lineCap: 'round'\n    }, cfg.style);\n\n    var shape = container.addShape('path', {\n      attrs: _.mix({\n        path: path,\n        stroke: cfg.color || G2DefaultTheme.defaultColor,\n        lineWidth: cfg.size || 2\n      }, style)\n    });\n    return shape;\n  }\n});\nG2.registerShape('line', 'miniLineSmooth', {\n  draw: function draw(cfg, container) {\n    var points = lineSimplification(cfg.points);\n    var constraint = [[0, 0], [1, 1]];\n    var path = getSplinePath(points, false, constraint);\n    var shape = container.addShape('path', {\n      attrs: _.mix({\n        path: path,\n        stroke: cfg.color || G2DefaultTheme.defaultColor,\n        lineWidth: cfg.size || 2\n      }, cfg.style)\n    });\n    return shape;\n  }\n});\n\nvar MiniLineParser =\n/** @class */\nfunction (_super) {\n  __extends(MiniLineParser, _super);\n\n  function MiniLineParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MiniLineParser.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.parseShape();\n  };\n\n  MiniLineParser.prototype.parseShape = function () {\n    var props = this.plot.options;\n\n    if (props.smooth) {\n      this.config.shape = {\n        values: ['miniLineSmooth']\n      };\n    } else {\n      this.config.shape = {\n        values: ['miniLine']\n      };\n    }\n  };\n\n  return MiniLineParser;\n}(LineParser);\n\nexport default MiniLineParser;","import GuideLineParser from './guide';\nimport LineParser from './main';\nimport MiniLineParser from './mini';\nexport default {\n  main: LineParser,\n  guide: GuideLineParser,\n  mini: MiniLineParser\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nvar CircleParser =\n/** @class */\nfunction (_super) {\n  __extends(CircleParser, _super);\n\n  function CircleParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CircleParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.style = props.pointStyle;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField]\n      }\n    };\n    this.parseColor();\n    this.parseSize();\n\n    if (props.shape) {\n      this.parseShape(props.shape);\n    }\n\n    if (props.pointStyle) {\n      this.parseStyle();\n    }\n  };\n\n  CircleParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n    var colorField = props.colorField;\n\n    if (colorField) {\n      config.fields = _.isArray(colorField) ? colorField : [colorField];\n    }\n\n    if (props.color) {\n      this._parseColor(props, config);\n    }\n\n    this.config.color = config;\n  };\n\n  CircleParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    if (props.sizeField) {\n      config.fields = [props.sizeField];\n    }\n\n    if (props.pointSize) {\n      config.values = props.pointSize;\n    }\n\n    this.config.size = config;\n  };\n\n  CircleParser.prototype.parseShape = function (shapeName) {\n    var config = {\n      values: [shapeName]\n    };\n    this.config.shape = config;\n  };\n\n  CircleParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.pointStyle;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n    var xField = props.xField,\n        yField = props.yField,\n        colorField = props.colorField;\n\n    if (_.isFunction(styleProps)) {\n      if (colorField) {\n        config.fields = _.isArray(colorField) ? [xField, yField, colorField].concat(colorField) : [xField, yField, colorField];\n      } else {\n        config.fields = [xField, yField];\n      }\n\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  CircleParser.prototype._parseColor = function (props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  };\n\n  return CircleParser;\n}(ElementParser);\n\nexport default CircleParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nfunction getValuesByField(field, data) {\n  var values = [];\n\n  _.each(data, function (d) {\n    var v = d[field];\n    values.push(v);\n  });\n\n  return _.uniq(values);\n}\n\nvar COLOR_MAPPER = ['seriesField', 'stackField'];\n\nvar GuidePointParser =\n/** @class */\nfunction (_super) {\n  __extends(GuidePointParser, _super);\n\n  function GuidePointParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GuidePointParser.prototype.init = function () {\n    var props = this.plot.options;\n    this.style = props.point.style;\n\n    if (!props.xField || !props.yField) {\n      return;\n    }\n\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField]\n      },\n      tooltip: false\n    }; // if (this._needParseAttribute('color')) {\n\n    this.parseColor(); // }\n\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n\n    if (props.point.shape) {\n      this.parseShape(props.point.shape);\n    }\n\n    if (props.point.style) {\n      this.parseStyle();\n    }\n  };\n\n  GuidePointParser.prototype.parseColor = function () {\n    var props = this.plot.options;\n    var config = {};\n\n    var mappingField = this._getColorMappingField(props);\n\n    if (mappingField) {\n      this._parseColorByField(props, config, mappingField);\n    } else {\n      if (props.point && props.point.color) {\n        config.values = [props.point.color];\n      } else if (props.color) {\n        this._parseColor(props, config);\n      }\n    }\n\n    this.config.color = config;\n  };\n\n  GuidePointParser.prototype.parseSize = function () {\n    var props = this.plot.options;\n    var config = {};\n    config.values = [props.point.size];\n    this.config.size = config;\n  };\n\n  GuidePointParser.prototype.parseShape = function (shapeName) {\n    var config = {\n      values: [shapeName]\n    };\n    this.config.shape = config;\n  };\n\n  GuidePointParser.prototype.parseStyle = function () {\n    var props = this.plot.options;\n    var styleProps = props.point && props.point.style;\n    var config = {\n      fields: null,\n      callback: null,\n      cfg: null\n    };\n\n    var field = this._getColorMappingField(props);\n\n    if (_.isFunction(styleProps) && field) {\n      config.fields = [field];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n\n    this.config.style = config;\n  };\n\n  GuidePointParser.prototype._parseColorByField = function (props, config, field) {\n    config.fields = [field];\n\n    if (props.point.color) {\n      var count = getValuesByField(field, props.data).length;\n      var values = [];\n\n      for (var i = 0; i < count; i++) {\n        values.push(props.point.color);\n      }\n\n      config.values = values;\n    } else if (props.color) {\n      this._parseColor(props, config);\n    }\n  };\n\n  GuidePointParser.prototype._parseColor = function (props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  };\n\n  GuidePointParser.prototype._needParseAttribute = function (attr) {\n    var props = this.plot.options;\n\n    var condition = props.point && _.has(props.point, attr);\n\n    return condition; // const condition = !this.style || this.style[attr];\n    // return condition;\n  };\n\n  GuidePointParser.prototype._getColorMappingField = function (props) {\n    for (var _i = 0, COLOR_MAPPER_1 = COLOR_MAPPER; _i < COLOR_MAPPER_1.length; _i++) {\n      var m = COLOR_MAPPER_1[_i];\n\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  };\n\n  return GuidePointParser;\n}(ElementParser);\n\nexport default GuidePointParser;","import Area from './area/index';\nimport Interval from './interval/index';\nimport Line from './line/index';\nimport Point from './point/index';\n/**\n * 将element的配置逻辑拆离出来，并将每类element细分为主体图形、辅助图形、mini图形三种\n * 这样也方便未来更灵活的调用和组装g2的element模块\n */\n\nvar GEOMETRY_MAP = {\n  area: Area,\n  line: Line,\n  point: Point,\n  interval: Interval\n};\nexport function getGeom(name, type, cfg) {\n  var Geom = GEOMETRY_MAP[name][type];\n  return new Geom(cfg).config;\n}","import CircleParser from './circle';\nimport GuidePointParser from './guide';\nexport default {\n  guide: GuidePointParser,\n  circle: CircleParser\n};","import { isNil, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\n\nfunction adjustTimeTickInterval(interval) {\n  var intervals = timeIntervals;\n  var intervalArr = interval.split(' ');\n  var basicInterval = intervals[intervalArr[1]];\n  var intervalCount = parseInt(intervalArr[0], 10);\n  return [basicInterval.format, intervalCount * basicInterval.value];\n}\n\nexport function extractScale(desScale, axisConfig) {\n  if (!axisConfig) {\n    return desScale;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n    desScale.tickCount = axisConfig.tickCount;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n    // fixme: dateTime plot层处理\n    if (axisConfig.type !== 'dateTime') {\n      desScale.type = axisConfig.type;\n    }\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n    if (axisConfig.type === 'time') {\n      desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n    } else {\n      desScale.tickInterval = axisConfig.tickInterval;\n    }\n  }\n\n  if (axisConfig.type === 'time' && axisConfig.mask) {\n    desScale.mask = axisConfig.mask;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n    desScale.min = axisConfig.min;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n    desScale.max = axisConfig.max;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'minLimit')) {\n    desScale.minLimit = axisConfig.minLimit;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'maxLimit')) {\n    desScale.maxLimit = axisConfig.maxLimit;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n    desScale.nice = axisConfig.nice;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n    desScale.formatter = axisConfig.formatter;\n  }\n\n  if (axisConfig.tickMethod) {\n    desScale.tickMethod = axisConfig.tickMethod;\n  }\n}\nexport function trySetScaleMinToZero(desScale, data) {\n  var validData = filter(data, function (v) {\n    return isNumber(v);\n  });\n  var min = Math.min.apply(Math, validData);\n  var max = Math.max.apply(Math, validData);\n\n  if (min > 0) {\n    if (isNil(desScale.min)) {\n      desScale.min = 0;\n    }\n  } else if (max <= 0) {\n    if (isNil(desScale.max)) {\n      desScale.max = 0;\n    }\n  }\n}","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction clipingWithData(shape, animateCfg) {\n  /** 动画初始状态 */\n  var index = shape.get('index');\n  var coord = shape.get('coord');\n  var scales = shape.get('scales');\n  var yScale = scales[animateCfg.yField];\n\n  var shapeData = _.clone(shape.get('origin'));\n\n  var clip = getClip(coord);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n  var label = getLineLabel(animateCfg.plot.view, shapeData[0]._origin[animateCfg.seriesField]);\n\n  if (label && !label.get('destroyed')) {\n    label.set('visible', false);\n  }\n\n  var parent = shape.get('parent');\n  var offsetX = 12;\n  var title;\n\n  if (animateCfg.seriesField) {\n    title = parent.addShape('text', {\n      attrs: {\n        x: coord.start.x + offsetX,\n        y: 0,\n        text: shapeData[0]._origin[animateCfg.seriesField],\n        fill: shape.attr('stroke'),\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle'\n      }\n    });\n  }\n\n  var offsetY = title ? 16 : 0;\n  var marker = parent.addShape('text', {\n    attrs: {\n      x: coord.start.x + offsetX,\n      y: offsetY,\n      text: \"test\" + index,\n      fill: shape.attr('stroke'),\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle'\n    }\n  });\n  /** 动画执行之后 */\n\n  animateCfg.callback = function () {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n      marker.animate({\n        opacity: 0\n      }, 300, function () {\n        marker.remove();\n\n        if (label && !label.get('destroyed')) {\n          label.set('visible', true);\n          animateCfg.plot.canvas.draw();\n        }\n      });\n\n      if (title) {\n        marker.animate({\n          opacity: 0\n        }, 300, function () {\n          marker.remove();\n        });\n      }\n    }\n  };\n  /** 执行动画 */\n\n  /** 准备动画参数 */\n\n\n  var delay = animateCfg.delay;\n\n  if (_.isFunction(delay)) {\n    delay = animateCfg.delay(index);\n  }\n\n  var easing = animateCfg.easing;\n\n  if (_.isFunction(easing)) {\n    easing = animateCfg.easing(index);\n  }\n  /** 动起来 */\n\n\n  var i = 0;\n  clip.animate({\n    width: coord.getWidth()\n  }, animateCfg.duration, easing, animateCfg.callback, delay);\n  marker.animate({\n    onFrame: function onFrame(ratio) {\n      var position = getPositionByRatio(ratio, shapeData, coord, i);\n      if (!position) return;\n      marker.attr('x', position[0] + offsetX);\n      marker.attr('y', position[1] + offsetY);\n      var yText = getDataByPosition(yScale, position[1], coord); // use formatter\n\n      if (yScale.formatter) {\n        yText = yScale.formatter(yText);\n      }\n\n      marker.attr('text', yText);\n    }\n  }, animateCfg.duration, easing, animateCfg.callback, delay);\n\n  if (title) {\n    title.animate({\n      onFrame: function onFrame(ratio) {\n        var position = getPositionByRatio(ratio, shapeData, coord, i);\n        if (!position) return;\n        title.attr('x', position[0] + offsetX);\n        title.attr('y', position[1]);\n      }\n    }, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: 0,\n      height: height\n    }\n  });\n  clip.set('isClip', true);\n  return clip;\n}\n\nfunction getPositionByRatio(ratio, dataPoints, coord, index) {\n  var currentX = coord.start.x + coord.getWidth() * ratio;\n\n  for (var i = 0; i < dataPoints.length - 1; i++) {\n    var current = dataPoints[i];\n    var next = dataPoints[i + 1];\n\n    if (currentX >= current.x && currentX <= next.x) {\n      var m = (next.y - current.y) / (next.x - current.x); // 斜率\n\n      var y = current.y + m * (currentX - current.x);\n      return [currentX, y];\n    }\n  }\n}\n\nfunction getDataByPosition(scale, y, coord) {\n  var yRatio = (y - coord.start.y) / (coord.end.y - coord.start.y);\n  return scale.invert(yRatio).toFixed(2);\n}\n\nfunction getLineLabel(view, name) {\n  var label;\n  var elements = view.get('elements');\n\n  _.each(elements, function (e) {\n    if (e.get('type') === 'line') {\n      if (e.get('labelController')) {\n        var labelContainer = e.get('labelController').labelsContainer;\n\n        if (labelContainer) {\n          var labels = labelContainer.get('labelsRenderer').getLabels();\n\n          _.each(labels, function (l) {\n            if (l.attr('text') === name) {\n              label = l;\n            }\n          });\n        }\n      }\n    }\n  });\n\n  return label;\n}\n\nclipingWithData.animationName = 'clipingWithData';\nAnimate.registerAnimation('appear', 'clipingWithData', clipingWithData);","import * as _ from '@antv/util';\nimport * as MathUtil from '../../math';\n\nvar ShapeNodes =\n/** @class */\nfunction () {\n  function ShapeNodes(cfg) {\n    this.type = 'shape';\n    this.shapes = cfg.shapes;\n    this.nodes = [];\n\n    this._parserNodes();\n\n    this.origion_nodes = _.deepMix([], this.nodes);\n  }\n\n  ShapeNodes.prototype.measure = function (shape) {\n    var node = _.deepMix({}, MathUtil.bboxOnRotate(shape), {\n      shape: shape\n    });\n\n    return node;\n  };\n\n  ShapeNodes.prototype.measureNodes = function () {\n    var _this = this;\n\n    var nodes = [];\n    var shapes = [];\n\n    _.each(this.shapes, function (shape, index) {\n      var node = _.deepMix({}, _this.nodes[index], _this.measure(shape));\n\n      if (node.width !== 0 && node.height !== 0) {\n        nodes.push(node);\n        shapes.push(shape);\n      } // this.nodes[index] = node;\n\n    });\n\n    this.nodes = nodes;\n    this.shapes = shapes;\n  };\n\n  ShapeNodes.prototype.updateShapes = function () {};\n\n  ShapeNodes.prototype._parserNodes = function () {\n    var _this = this;\n\n    _.each(this.shapes, function (shape) {\n      var node = _this.measure(shape);\n\n      _this.nodes.push(node);\n    });\n  };\n\n  return ShapeNodes;\n}();\n\nexport default ShapeNodes;","function ringThickness(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.8\n    };\n  }\n\n  return region.radius * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: ringThickness\n};","import columnWidth from './column-width';\nimport elementCollision from './element-collision';\nimport elementDist from './element-dist';\nimport elementDistVertical from './element-dist-vertical';\nimport elementWidth from './element-width';\nimport minRingThickness from './min-ring-thickness';\nimport ringThickness from './ring-thickness';\nexport var constraintsLib = {\n  elementDist: elementDist,\n  elementDistVertical: elementDistVertical,\n  elementCollision: elementCollision,\n  elementWidth: elementWidth,\n  columnWidth: columnWidth,\n  ringThickness: ringThickness,\n  minRingThickness: minRingThickness\n};\nexport function registerResponsiveConstraint(name, constraint) {\n  // todo: 防止覆盖\n  constraintsLib[name] = constraint;\n}","import * as MathUtil from '../../math';\n\nfunction elementDist(a, b, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      value: 4\n    };\n  }\n\n  var polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n\n  var polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  var dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDist\n};","function elementDistVertical(a, b, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      value: 5\n    };\n  }\n\n  var dist = Math.abs(a.bottom - b.top);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDistVertical\n};","import * as MathUtil from '../../math';\n\nfunction elementCollision(a, b) {\n  var polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n\n  var polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  var dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= 2;\n}\n\nexport default {\n  type: 'group',\n  usage: 'compare',\n  expression: elementCollision\n};","function elementWidth(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.15\n    };\n  }\n\n  return node.width < region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'compare',\n  expression: elementWidth\n};","function columnWidth(node, region, cfg) {\n  if (cfg === void 0) {\n    cfg = {\n      ratio: 0.6\n    };\n  }\n\n  return region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: columnWidth\n};","function minRingThickness(node, region) {\n  var minThicknessPixel = 2;\n  var minThickness = region.coord.radius / minThicknessPixel;\n  return Math.min(minThickness, node.value);\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: minRingThickness\n};","export default function textHide(shape) {\n  shape.attr('text', '');\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function clearOverlapping(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var current = nodes[index];\n  var overlapped = [];\n  /** 找到所有与当前点overlap的node */\n\n  if (!current.shape.get('blank')) {\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var _shape = node.shape;\n\n      if (i !== index && !_shape.get('blank')) {\n        var isOverlap = isNodeOverlap(current, node);\n\n        if (isOverlap) {\n          overlapped.push(node);\n        }\n      }\n    }\n  }\n  /** overlap处理逻辑 */\n\n\n  if (overlapped.length > 0) {\n    overlapped.push(current);\n    overlapped.sort(function (a, b) {\n      return b.top - a.top;\n    });\n    /** 隐藏除最高点以外的node */\n\n    _.each(overlapped, function (node, idx) {\n      if (idx > 0) {\n        var _shape = node.shape;\n        textHide(_shape);\n\n        _shape.set('blank', true);\n      }\n    });\n  }\n}\nexport function isNodeOverlap(nodeA, nodeB) {\n  if (nodeA.bottom < nodeB.top || nodeB.bottom < nodeA.top) {\n    return false;\n  }\n\n  if (nodeA.right < nodeB.left || nodeB.right < nodeA.left) {\n    return false;\n  }\n\n  return true;\n}","var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigitsOptional = \"[1-9]\\\\d?\";\nvar twoDigits = \"\\\\d\\\\d\";\nvar threeDigits = \"\\\\d{3}\";\nvar fourDigits = \"\\\\d{4}\";\nvar word = \"[^\\\\s]+\";\nvar literal = /\\[([^]*?)\\]/gm;\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n\n  return newArr;\n}\n\nvar monthUpdate = function monthUpdate(arrName) {\n  return function (v, i18n) {\n    var lowerCaseArr = i18n[arrName].map(function (v) {\n      return v.toLowerCase();\n    });\n    var index = lowerCaseArr.indexOf(v.toLowerCase());\n\n    if (index > -1) {\n      return index;\n    }\n\n    return null;\n  };\n};\n\nfunction assign(origObj) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n    var obj = args_1[_a];\n\n    for (var key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n\n  return origObj;\n}\n\nvar dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\nvar monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nvar defaultI18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn: function DoFn(dayOfMonth) {\n    return dayOfMonth + [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3 ? 0 : (dayOfMonth - dayOfMonth % 10 !== 10 ? 1 : 0) * dayOfMonth % 10];\n  }\n};\nvar globalI18n = assign({}, defaultI18n);\n\nvar setGlobalDateI18n = function setGlobalDateI18n(i18n) {\n  return globalI18n = assign(globalI18n, i18n);\n};\n\nvar regexEscape = function regexEscape(str) {\n  return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n};\n\nvar pad = function pad(val, len) {\n  if (len === void 0) {\n    len = 2;\n  }\n\n  val = String(val);\n\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n\n  return val;\n};\n\nvar formatFlags = {\n  D: function D(dateObj) {\n    return String(dateObj.getDate());\n  },\n  DD: function DD(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function Do(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function d(dateObj) {\n    return String(dateObj.getDay());\n  },\n  dd: function dd(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function ddd(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function dddd(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function M(dateObj) {\n    return String(dateObj.getMonth() + 1);\n  },\n  MM: function MM(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function MMM(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function MMMM(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function YY(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function YYYY(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function h(dateObj) {\n    return String(dateObj.getHours() % 12 || 12);\n  },\n  hh: function hh(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function H(dateObj) {\n    return String(dateObj.getHours());\n  },\n  HH: function HH(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function m(dateObj) {\n    return String(dateObj.getMinutes());\n  },\n  mm: function mm(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function s(dateObj) {\n    return String(dateObj.getSeconds());\n  },\n  ss: function ss(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function S(dateObj) {\n    return String(Math.round(dateObj.getMilliseconds() / 100));\n  },\n  SS: function SS(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function SSS(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function a(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function A(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function ZZ(dateObj) {\n    var offset = dateObj.getTimezoneOffset();\n    return (offset > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(offset) / 60) * 100 + Math.abs(offset) % 60, 4);\n  }\n};\n\nvar monthParse = function monthParse(v) {\n  return +v - 1;\n};\n\nvar emptyDigits = [null, twoDigitsOptional];\nvar emptyWord = [null, word];\nvar amPm = [\"isPm\", word, function (v, i18n) {\n  var val = v.toLowerCase();\n\n  if (val === i18n.amPm[0]) {\n    return 0;\n  } else if (val === i18n.amPm[1]) {\n    return 1;\n  }\n\n  return null;\n}];\nvar parseFlags = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, function (v) {\n    return parseInt(v, 10);\n  }],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\"year\", twoDigits, function (v) {\n    var now = new Date();\n    var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n    return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n  }],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", function (v) {\n    return +v * 100;\n  }],\n  SS: [\"millisecond\", twoDigits, function (v) {\n    return +v * 10;\n  }],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: [\"timezoneOffset\", \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\", function (v) {\n    var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }]\n}; // Some common format strings\n\nvar globalMasks = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\n\nvar setGlobalDateMasks = function setGlobalDateMasks(masks) {\n  return assign(globalMasks, masks);\n};\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\n\n\nvar format = function format(dateObj, mask, i18n) {\n  if (mask === void 0) {\n    mask = globalMasks[\"default\"];\n  }\n\n  if (i18n === void 0) {\n    i18n = {};\n  }\n\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" || isNaN(dateObj.getTime())) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n  var literals = []; // Make literals inactive by replacing them with @@@\n\n  mask = mask.replace(literal, function ($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n  var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // Apply formatting rules\n\n  mask = mask.replace(token, function ($0) {\n    return formatFlags[$0](dateObj, combinedI18nSettings);\n  }); // Inline literal values back into the formatted value\n\n  return mask.replace(/@@@/g, function () {\n    return literals.shift();\n  });\n};\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\n\n\nfunction parse(dateStr, format, i18n) {\n  if (i18n === void 0) {\n    i18n = {};\n  }\n\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  } // Check to see if the format is actually a mask\n\n\n  format = globalMasks[format] || format; // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n  if (dateStr.length > 1000) {\n    return null;\n  } // Default to the beginning of the year.\n\n\n  var today = new Date();\n  var dateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  var parseInfo = [];\n  var literals = []; // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n\n  var newFormat = format.replace(literal, function ($0, $1) {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  var specifiedFields = {};\n  var requiredFields = {}; // Change every token that we find into the correct regex\n\n  newFormat = regexEscape(newFormat).replace(token, function ($0) {\n    var info = parseFlags[$0];\n    var field = info[0],\n        regex = info[1],\n        requiredField = info[3]; // Check if the person has specified the same field twice. This will lead to confusing results.\n\n    if (specifiedFields[field]) {\n      throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n    }\n\n    specifiedFields[field] = true; // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  }); // Check all the required fields are present\n\n  Object.keys(requiredFields).forEach(function (field) {\n    if (!specifiedFields[field]) {\n      throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n    }\n  }); // Add back all the literals after\n\n  newFormat = newFormat.replace(/@@@/g, function () {\n    return literals.shift();\n  }); // Check if the date string matches the format. If it doesn't return null\n\n  var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n\n  if (!matches) {\n    return null;\n  }\n\n  var combinedI18nSettings = assign(assign({}, globalI18n), i18n); // For each match, call the parser function for that date part\n\n  for (var i = 1; i < matches.length; i++) {\n    var _a = parseInfo[i - 1],\n        field = _a[0],\n        parser = _a[2];\n    var value = parser ? parser(matches[i], combinedI18nSettings) : +matches[i]; // If the parser can't make sense of the value, return null\n\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n  var validateFields = [[\"month\", \"getMonth\"], [\"day\", \"getDate\"], [\"hour\", \"getHours\"], [\"minute\", \"getMinutes\"], [\"second\", \"getSeconds\"]];\n\n  for (var i = 0, len = validateFields.length; i < len; i++) {\n    // Check to make sure the date field is within the allowed range. Javascript dates allows values\n    // outside the allowed range. If the values don't match the value was invalid\n    if (specifiedFields[validateFields[i][0]] && dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n      return null;\n    }\n  }\n\n  if (dateInfo.timezoneOffset == null) {\n    return dateWithoutTZ;\n  }\n\n  return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n}\n\nvar fecha = {\n  format: format,\n  parse: parse,\n  defaultI18n: defaultI18n,\n  setGlobalDateI18n: setGlobalDateI18n,\n  setGlobalDateMasks: setGlobalDateMasks\n};\nexport default fecha;\nexport { assign, format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };","import * as _ from '@antv/util';\nimport fecha from 'fecha';\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = 31 * DAY;\nvar YEAR = 365 * DAY;\nexport default function datetimeStringAbbrevaite(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var campareText;\n\n  if (index === nodes.length - 1) {\n    campareText = nodes[index - 1].shape.get('origin').text;\n  } else {\n    campareText = nodes[index + 1].shape.get('origin').text;\n  }\n\n  var compare = new Date(campareText);\n  /** 获取时间周期和时间间隔 */\n\n  var text = shape.get('origin').text;\n  var current = new Date(text);\n  var startText = nodes[0].shape.get('origin').text;\n  var start = new Date(startText);\n  var endText = nodes[nodes.length - 1].shape.get('origin').text;\n  var end = new Date(endText);\n  var timeDuration = getDateTimeMode(start, end);\n  var timeCycle = getDateTimeMode(current, compare); // time frequency\n  // 如果duration和frequency在同一区间\n\n  if (timeDuration === timeCycle) {\n    if (index !== 0 && index !== nodes.length - 1) {\n      var formatter = sameSectionFormatter(timeDuration);\n      shape.attr('text', fecha.format(current, formatter));\n    }\n\n    return;\n  }\n\n  if (index !== 0) {\n    var previousText = nodes[index - 1].shape.get('origin').text;\n    var previous = new Date(previousText);\n    var isAbbreviate = needAbbrevaite(timeDuration, current, previous);\n\n    if (isAbbreviate) {\n      var formatter = getAbbrevaiteFormatter(timeDuration, timeCycle);\n      shape.attr('text', fecha.format(current, formatter));\n      return;\n    }\n  }\n}\n\nfunction needAbbrevaite(mode, current, previous) {\n  var currentStamp = getTime(current, mode);\n  var previousStamp = getTime(previous, mode);\n\n  if (currentStamp !== previousStamp) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getDateTimeMode(a, b) {\n  var mode;\n  var dist = Math.abs(a - b);\n  var mapper = {\n    minute: [MINUTE, HOUR],\n    hour: [HOUR, DAY],\n    day: [DAY, MONTH],\n    month: [MONTH, YEAR],\n    year: [YEAR, Infinity]\n  };\n\n  _.each(mapper, function (range, key) {\n    if (dist >= range[0] && dist < range[1]) {\n      mode = key;\n    }\n  });\n\n  return mode;\n}\n\nfunction getAbbrevaiteFormatter(duration, cycle) {\n  var times = ['year', 'month', 'day', 'hour', 'minute'];\n  var formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  var startIndex = times.indexOf(duration) + 1;\n  var endIndex = times.indexOf(cycle);\n  var formatter = '';\n\n  for (var i = startIndex; i <= endIndex; i++) {\n    formatter += formatters[i];\n\n    if (i < endIndex) {\n      formatter += '-';\n    }\n  }\n\n  return formatter;\n}\n\nfunction sameSectionFormatter(mode) {\n  var times = ['year', 'month', 'day', 'hour', 'minute'];\n  var formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  var index = times.indexOf(mode);\n  var formatter = formatters[index];\n  return formatter;\n}\n\nfunction getTime(date, mode) {\n  if (mode === 'year') {\n    return date.getFullYear();\n  }\n\n  if (mode === 'month') {\n    return date.getMonth() + 1;\n  }\n\n  if (mode === 'day') {\n    return date.getDay() + 1;\n  }\n\n  if (mode === 'hour') {\n    return date.getHours() + 1;\n  }\n\n  if (mode === 'minute') {\n    return date.getMinutes() + 1;\n  }\n}\n/*tslint:disable*/\n\n\nexport function isTime(string) {\n  var hourminExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/;\n  var hourminSecExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;\n  return hourminExp.test(string) || hourminSecExp.test(string);\n}","import * as _ from '@antv/util';\nimport { getMedian } from '../../math';\nvar unitMapper = {\n  k: {\n    number: 1e3,\n    index: 0\n  },\n  m: {\n    number: 1e6,\n    index: 1\n  },\n  b: {\n    number: 1e9,\n    index: 2\n  },\n  t: {\n    number: 1e12,\n    index: 3\n  }\n}; // https://gist.github.com/MartinMuzatko/1060fe584d17c7b9ca6e\n// https://jburrows.wordpress.com/2014/11/18/abbreviating-numbers/\n\n/*tslint:disable*/\n\nexport default function digitsAbbreviate(shape, option, index, cfg) {\n  if (!_.has(cfg, 'node') || !_.has(cfg.node, 'node')) {\n    return;\n  }\n\n  var nodes = cfg.nodes.nodes;\n  var number = parseFloat(shape.get('origin').text);\n\n  if (number === 0) {\n    return;\n  }\n\n  if (option.formatter) {\n    shape.attr('text', option.formatter(number));\n    return;\n  }\n\n  if (option.unit) {\n    var _a = abbravateDigitsByUnit(option, number),\n        num = _a.num,\n        unitname = _a.unitname;\n\n    shape.attr('text', num + unitname);\n  } else {\n    // 自动换算逻辑\n    // 根据中位数得到换算单位\n    var numbers = extractNumbers(nodes);\n    var median = getMedian(numbers);\n    var unitname = getUnitByNumber(median); //根据数值的interval计算换算后保留的浮点数\n\n    var unitNumber = unitMapper[unitname].number;\n    var interval = getLinearNodesInterval(nodes);\n    var decimal = getDigitsDecimal(interval, unitNumber);\n    var num = abbravateDigitsByUnit({\n      unit: unitname,\n      decimal: decimal\n    }, number).num;\n    shape.attr('text', num + unitname);\n  }\n}\n\nfunction abbravateDigitsByUnit(option, number) {\n  var units = ['k', 'm', 'b', 't'];\n  var num;\n  var unitname;\n\n  if (option.unit === 'auto') {\n    /** auto formatt k-m-b-t */\n    var order = Math.floor(Math.log(number) / Math.log(1000));\n    unitname = units[order - 1];\n    num = (number / Math.pow(1000, order)).toFixed(option.decimal);\n  } else if (option.unit) {\n    var unit = unitMapper[option.unit];\n    unitname = option.unit;\n    num = (number / unit.number).toFixed(option.decimal);\n  }\n\n  return {\n    num: num,\n    unitname: unitname\n  };\n}\n\nfunction getUnitByNumber(number) {\n  var units = ['k', 'm', 'b', 't'];\n  var order = Math.floor(Math.log(number) / Math.log(1000));\n  return units[order - 1];\n}\n\nfunction extractNumbers(nodes) {\n  var numbers = [];\n\n  _.each(nodes, function (node) {\n    var n = node;\n    var number = parseFloat(n.shape.get('origin').text);\n    numbers.push(number);\n  });\n\n  return numbers;\n}\n\nfunction getLinearNodesInterval(nodes) {\n  if (nodes.length >= 2) {\n    var a = parseFloat(nodes[0].shape.get('origin').text);\n    var b = parseFloat(nodes[1].shape.get('origin').text);\n    return Math.abs(a - b);\n  }\n\n  return 0;\n}\n\nfunction getDigitsDecimal(interval, unitNumber) {\n  var unitBit = Math.floor(Math.log10(unitNumber));\n\n  if (interval >= unitNumber) {\n    var remainder = interval % unitNumber;\n\n    if (remainder > 0) {\n      var remainderBit = Math.floor(Math.log10(remainder));\n      return Math.abs(remainderBit - unitBit);\n    }\n  } else {\n    var intervalBit = Math.floor(Math.log10(interval));\n    return Math.abs(intervalBit - unitBit);\n  }\n\n  return 0;\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function nodesResampling(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  /** nodeLength为偶数，则奇数index的shape保留，反之则偶数index的shape保留 */\n\n  var oddKeep = nodes.length % 2 === 0 ? false : true;\n\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n\n  {\n    var isOdd = index % 2 === 0 ? true : false;\n\n    if (!oddKeep && isOdd || oddKeep && !isOdd) {\n      textHide(shape);\n    }\n  }\n}\nexport function isKeep(keepCfg, index, nodes) {\n  /** 允许设置start end 或任意index */\n  var conditions = [];\n\n  _.each(keepCfg, function (cfg) {\n    if (cfg === 'start') {\n      conditions.push(index === 0);\n    } else if (cfg === 'end') {\n      conditions.push(index === nodes.length - 1);\n    } else if (_.isNumber(cfg)) {\n      conditions.push(index === cfg);\n    }\n  });\n\n  for (var _i = 0, conditions_1 = conditions; _i < conditions_1.length; _i++) {\n    var condition = conditions_1[_i];\n\n    if (condition === true) {\n      return true;\n    }\n  }\n\n  return false;\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\nexport default function nodesResamplingByState(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var current = nodes[index];\n\n  if (current.line) {\n    current.line.remove();\n  }\n\n  var data = cfg.plot.initialProps.data;\n  var field = cfg.plot[cfg.plot.type].label.fields[0];\n  var stateNodes = getStateNodes(data, field, nodes);\n  var isState = false;\n\n  _.each(stateNodes, function (node) {\n    // @ts-ignore\n    if (node.shape.get('origin') === current.shape.get('origin')) {\n      isState = true;\n    }\n  });\n\n  if (isState) {\n    if (current.origin_position) {\n      var _a = current.origin_position,\n          x = _a.x,\n          y = _a.y;\n      shape.attr('x', x);\n      shape.attr('y', y);\n    }\n  } else {\n    textHide(shape);\n  }\n}\n\nfunction getStateNodes(data, field, nodes) {\n  var extract_data = [];\n\n  _.each(data, function (d) {\n    extract_data.push(d[field]);\n  });\n\n  extract_data.sort(function (a, b) {\n    return a - b;\n  });\n  var min = extract_data[0];\n  var min_node = getNodeByNumber(nodes, field, min);\n  var max = extract_data[extract_data.length - 1];\n  var max_node = getNodeByNumber(nodes, field, max);\n  var median = getMedian(extract_data);\n  var median_node = getNodeByNumber(nodes, field, median);\n  return {\n    min: min_node,\n    max: max_node,\n    median: median_node\n  };\n}\n\nfunction getMedian(array) {\n  var list = _.clone(array);\n\n  list.sort(function (a, b) {\n    return a - b;\n  });\n  var half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return list[half];\n}\n\nfunction getNodeByNumber(nodes, field, num) {\n  for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n    var node = nodes_1[_i];\n    var d = node.shape.get('origin');\n\n    if (d[field] === num) {\n      return node;\n    }\n  }\n}","export default function textAbbreviate(shape, option) {\n  var abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  var text = shape.attr('text');\n  var abbravateText;\n\n  if (abbreviateBy === 'end') {\n    abbravateText = text[0] + \"...\";\n  }\n\n  if (abbreviateBy === 'start') {\n    abbravateText = \"...\" + text[text.length - 1];\n  }\n\n  if (abbreviateBy === 'middle') {\n    abbravateText = text[0] + \"...\" + text[text.length - 1];\n  }\n\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","import clearOverlapping from './clear-overlapping';\nimport datetimeStringAbbrevaite from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport nodeJitter from './node-jitter';\nimport nodeJitterUpward from './node-jitter-upward';\nimport nodesResampling from './nodes-resampling';\nimport nodesResamplingByAbbrevate from './nodes-resampling-by-abbrevate';\nimport nodesResamplingByChange from './nodes-resampling-by-change';\nimport nodesResamplingByState from './nodes-resampling-by-state';\nimport robustAbbrevaite from './robust-abbrevaite';\nimport textAbbreviate from './text-abbreviate';\nimport textHide from './text-hide';\nimport textRotation from './text-rotation';\nimport textWrapper from './text-wrapper';\nexport var rulesLib = {\n  textWrapper: textWrapper,\n  textRotation: textRotation,\n  textAbbreviate: textAbbreviate,\n  textHide: textHide,\n  digitsAbbreviate: digitsAbbreviate,\n  datetimeStringAbbrevaite: datetimeStringAbbrevaite,\n  robustAbbrevaite: robustAbbrevaite,\n  nodesResampling: nodesResampling,\n  nodesResamplingByAbbrevate: nodesResamplingByAbbrevate,\n  nodesResamplingByChange: nodesResamplingByChange,\n  nodesResamplingByState: nodesResamplingByState,\n  nodeJitter: nodeJitter,\n  nodeJitterUpward: nodeJitterUpward,\n  clearOverlapping: clearOverlapping\n};\nexport function registerResponsiveRule(name, method) {\n  // todo: 防止覆盖\n  rulesLib[name] = method;\n}","export default function textWrapper(shape, option) {\n  var text = shape.attr('text');\n  var step = Math.ceil(text.length / option.lineNumber);\n  var wrapperText = '';\n\n  for (var i = 1; i < option.lineNumber; i++) {\n    var index = step * i;\n    wrapperText = text.slice(0, index) + \"\\n\" + text.slice(index);\n  }\n\n  var fontSize = shape.attr('fontSize');\n  shape.attr({\n    text: wrapperText,\n    lineHeight: fontSize,\n    textAlign: 'center',\n    textBaseline: 'top'\n  });\n}","export default function textRotation(shape, option) {\n  shape.resetMatrix();\n  shape.attr({\n    rotate: 360 - option.degree,\n    textAlign: 'right',\n    textBaseline: 'middle'\n  });\n}","import datetimeStringAbbrevaite, { isTime } from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport textAbbreviate from './text-abbreviate';\nexport default function robustAbbrevaite(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var text = shape.attr('text');\n  /** 判断text类型： 数字、时间、文本 */\n\n  var isnum = /^\\d+$/.test(text);\n\n  if (isnum) {\n    digitsAbbreviate(shape, option, index, nodes);\n  } else if (isTime(text)) {\n    datetimeStringAbbrevaite(shape, option, index, nodes);\n  } else {\n    textAbbreviate(shape, option);\n  }\n}","import { isKeep } from './nodes-resampling';\nimport textHide from './text-hide';\nexport default function nodesResamplingByAbbrevate(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n\n  {\n    var currentText = shape.attr('text');\n    var originText = shape.get('origin').text;\n\n    if (currentText !== originText) {\n      textHide(shape);\n    }\n  }\n}","import * as _ from '@antv/util';\nimport textHide from './text-hide';\n/** 根据变化进行抽样，保留变化较大的点，类似于点简化算法 */\n\nexport default function nodesResamplingByChange(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n  var tolerance = getGlobalTolerance(nodes);\n\n  if (index <= 1) {\n    return;\n  }\n\n  var current = nodes[index]; // const previous = nodes[index-1];\n\n  var previous = findPrevious(index, nodes);\n  var distX = previous.centerX - current.centerX;\n  var distY = previous.centerY - current.centerY;\n  var dist = Math.sqrt(distX * distX + distY * distY);\n\n  if (dist < tolerance) {\n    textHide(shape);\n    shape.set('blank', true);\n  }\n}\n\nfunction findPrevious(index, nodes) {\n  for (var i = index - 1; i > 0; i--) {\n    var node = nodes[i];\n\n    if (!node.shape.get('blank')) {\n      return node;\n    }\n  }\n}\n\nfunction getGlobalTolerance(nodes) {\n  var nodesClone = _.deepMix([], nodes);\n\n  nodesClone.sort(function (a, b) {\n    return b.width - a.width;\n  });\n  return Math.round(nodesClone[0].width);\n}","import { dotProduct2D } from '../../math';\n/** 图形在水平或垂直方向抖开 */\n\nexport default function nodeJitter(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (index === nodes.length - 1) {\n    return;\n  }\n\n  var current = nodes[index];\n  var next = nodes[index + 1];\n\n  var _a = alignDirection(current, next),\n      dir = _a.dir,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var startPoint = shape.get('startPoint');\n\n  if (dir === 'x') {\n    shape.attr('y', startPoint.y + 20);\n  }\n}\n\nfunction alignDirection(nodeA, nodeB) {\n  var dir;\n  /** 计算两个node 中心点向量的角度 */\n\n  var vector = {\n    x: nodeB.centerX - nodeA.centerX,\n    y: nodeB.centerY - nodeA.centerY\n  };\n  var mag = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n  var vector_horizontal = {\n    x: 10,\n    y: 0\n  }; // 水平方向向量\n\n  /*tslint:disable*/\n\n  var mag_horizontal = Math.sqrt(vector_horizontal.x * vector_horizontal.x + vector_horizontal.y * vector_horizontal.y);\n  var dot = dotProduct2D(vector, vector_horizontal);\n  var angle = dot / (mag * mag_horizontal) * 180 / Math.PI;\n  if (angle < 0) angle = 360 - angle;\n  angle = adjustAngle(angle); // 将角度从0-360转换到0-90\n\n  /** 计算两个node在x、y两个方向上的距离 */\n\n  var distX = Math.abs(nodeA.centerX - nodeB.centerX);\n  var distY = Math.abs(nodeA.centerY - nodeB.centerY);\n\n  if (angle > 45) {\n    dir = 'x';\n  } else if (angle < 45) {\n    dir = 'y';\n  }\n\n  return {\n    dir: dir,\n    distX: distX,\n    distY: distY\n  };\n}\n\nfunction adjustAngle(angle) {\n  if (angle > 90 && angle <= 180) {\n    return 180 - angle;\n  }\n\n  if (angle > 180 && angle < 270) {\n    return angle - 180;\n  }\n\n  return 360 - angle;\n}","import * as _ from '@antv/util';\nimport { isNodeOverlap } from './clear-overlapping';\n/** 图形向上抖开并拉线 */\n// todo 允许设置offset和拉线样式\n\nexport default function nodeJitterUpward(shape, option, index, cfg) {\n  var nodes = cfg.nodes.nodes;\n\n  if (index === 0) {\n    return;\n  }\n\n  var current = nodes[index];\n  var previous = nodes[index - 1];\n\n  if (isNodeOverlap(current, previous)) {\n    var element = cfg.plot.plot.get('elements')[0];\n    var y = previous.top - current.height / 2;\n    var offset = 10;\n\n    if (y - offset > cfg.region.top) {\n      // 取到label对应的element-shape\n      var origin_1 = current.shape.get('origin');\n      var shapeId = element.getShapeId(origin_1);\n      var shapes = element.getShapes();\n      var shapeBbox = getShapeById(shapeId, shapes).get('box');\n      var originX = shapeBbox.left + shapeBbox.width / 2;\n      var originY = shapeBbox.top; // 拉线\n\n      var container = element.get('labelController').labelsContainer;\n      var labelLine = container.addShape('path', {\n        attrs: {\n          path: [['M', originX, originY], ['L', current.shape.attr('x'), y]],\n          stroke: '#ccc',\n          lineWidth: 1\n        }\n      });\n      /** 保存labelLine和label初始位置信息 */\n\n      var origin_position = {\n        x: shape.attr('x'),\n        y: shape.attr('y')\n      }; // 更新标签位置，同步更新node\n\n      current.shape.attr('y', y - offset);\n      nodes[index] = cfg.nodes.measure(current.shape);\n      nodes[index].line = labelLine;\n      nodes[index].origin_position = origin_position;\n    }\n  }\n}\n\nfunction getShapeById(shapeId, shapes) {\n  var target;\n\n  _.each(shapes, function (shape) {\n    var s = shape;\n    var id = s.id;\n\n    if (id === shapeId) {\n      target = s;\n    }\n  });\n\n  return target;\n}","import * as _ from '@antv/util';\nimport { constraintsLib } from './constraints/index';\nimport { rulesLib } from './rules/index';\n\nvar Responsive =\n/** @class */\nfunction () {\n  function Responsive(cfg) {\n    this.iterationTime = 10;\n    this.iterationIndex = 0;\n    this.rulesLocker = [];\n    this.constraintIndex = 0;\n\n    _.assign(this, cfg);\n\n    this.currentConstraint = this.constraints[0];\n\n    if (this.rules) {\n      this.iterationTime = this.rules[this.currentConstraint.name].length;\n    }\n\n    this._start();\n\n    this._run();\n\n    this._end();\n  }\n\n  Responsive.prototype._start = function () {\n    if (this.onStart) {\n      this.onStart(this.nodes);\n    }\n  };\n\n  Responsive.prototype._iteration = function () {\n    var nodes;\n\n    if (this.nodes.type === 'shape') {\n      nodes = this.nodes;\n    } else {\n      nodes = this.nodes;\n    }\n\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n\n    if (this.rules) {\n      this._applyRules();\n    }\n\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n\n    if (this.onIteration) {\n      this.onIteration(this.nodes);\n    }\n  };\n\n  Responsive.prototype._end = function () {\n    if (this.onEnd) {\n      this.onEnd(this.nodes);\n    }\n  };\n\n  Responsive.prototype._run = function () {\n    var constraintPassed = this._constraintsTest();\n\n    while (!constraintPassed) {\n      if (this.iterationIndex > this.iterationTime - 1) {\n        break;\n      }\n\n      this._iteration();\n\n      constraintPassed = this._constraintsTest();\n      this.iterationIndex++;\n    }\n\n    if (this.constraintIndex < this.constraints.length - 1) {\n      this.constraintIndex++;\n      this.currentConstraint = this.constraints[this.constraintIndex];\n      this.iterationTime = this.rules ? this.rules[this.currentConstraint.name].length : 1;\n      this.iterationIndex = 0;\n\n      this._run();\n    }\n  };\n\n  Responsive.prototype._constraintsTest = function () {\n    var constraint = constraintsLib[this.currentConstraint.name];\n    var constraintOption = this.currentConstraint.option;\n\n    if (constraint.usage === 'compare') {\n      return this._constraintCompare(constraint, constraintOption);\n    }\n\n    return this._constraintAssignment(constraint, constraintOption);\n  };\n\n  Responsive.prototype._constraintCompare = function (constraint, option) {\n    var type = constraint.type,\n        expression = constraint.expression;\n    var nodes = this.nodes.nodes;\n\n    if (type === 'chain') {\n      return this._chainConstraintCompare(expression, nodes, option);\n    }\n\n    if (type === 'padding') {\n      return this._paddingConstraintCompare(expression, this.region, nodes, option);\n    }\n\n    if (type === 'group') {\n      return this._groupConstraintCompare(expression, nodes, option);\n    }\n  };\n\n  Responsive.prototype._chainConstraintCompare = function (expression, nodes, option) {\n    for (var i = 0; i < nodes.length - 1; i++) {\n      var a = nodes[i];\n      var b = nodes[i + 1];\n\n      if (expression(a, b, option) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._paddingConstraintCompare = function (expression, region, nodes, option) {\n    if (region) {\n      for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n\n        if (expression(node, region, option) === false) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._groupConstraintCompare = function (expression, nodes, option) {\n    for (var i = 0; i < nodes.length; i++) {\n      var a = nodes[i];\n\n      for (var j = 0; j < nodes.length; j++) {\n        if (j !== i) {\n          var b = nodes[j];\n\n          if (expression(a, b, option) === false) {\n            return false;\n          }\n        }\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._constraintAssignment = function (constraint, option) {\n    var type = constraint.type,\n        expression = constraint.expression;\n    var nodes = this.nodes.nodes;\n\n    if (type === 'chain') {\n      return this._chainConstraintAssign(expression, nodes, option);\n    }\n\n    if (type === 'padding') {\n      return this._paddingConstraintAssign(expression, this.region, nodes, option);\n    }\n  };\n\n  Responsive.prototype._chainConstraintAssign = function (expression, nodes, option) {\n    return true;\n  };\n\n  Responsive.prototype._paddingConstraintAssign = function (expression, region, nodes, option) {\n    if (region) {\n      for (var _i = 0, nodes_2 = nodes; _i < nodes_2.length; _i++) {\n        var node = nodes_2[_i];\n        var value = expression(node, region, option);\n        node.value = value;\n      }\n    }\n\n    return true;\n  };\n\n  Responsive.prototype._applyRules = function () {\n    var ruleCfg = this.rules[this.currentConstraint.name][this.iterationIndex]; // if (this.rulesLocker.indexOf(ruleCfg) < 0) {\n\n    var rule = rulesLib[ruleCfg.name];\n    var option = ruleCfg.option ? ruleCfg.option : {};\n    var nodes = this.nodes.nodes;\n\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      /** apply rule上下文 */\n\n      this._applyRule(node.shape, rule, option, i);\n    } // this.rulesLocker.push(ruleCfg);\n    // }\n\n  };\n\n  Responsive.prototype._applyRule = function (shape, rule, option, index) {\n    var cfg = {\n      nodes: this.nodes,\n      region: this.region,\n      plot: this.plot\n    }; // rule(shape, option, index, this);\n\n    rule(shape, option, index, cfg);\n  };\n\n  return Responsive;\n}();\n\nexport default Responsive;","import * as _ from '@antv/util';\n\nvar ApplyResponsive =\n/** @class */\nfunction () {\n  function ApplyResponsive(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  ApplyResponsive.prototype.init = function () {\n    this.type = this.getType();\n\n    if (this.shouldApply()) {\n      this.apply();\n    }\n  };\n\n  return ApplyResponsive;\n}();\n\nexport default ApplyResponsive;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nvar SCALE_MAPPER = {\n  cat: 'category',\n  timeCat: 'category',\n  time: 'dateTime',\n  linear: 'linear'\n};\n\nfunction updateTicks(nodes, axis) {\n  var tickShape = null;\n  axis.get('group').get('children').forEach(function (shape) {\n    if (shape.name === 'axis-ticks') {\n      tickShape = shape;\n      return false;\n    }\n  });\n  var ticks = axis.get('ticks');\n  var tickItems = axis.get('tickItems');\n  var tickTexts = [];\n\n  _.each(ticks, function (tick) {\n    var t = tick;\n    tickTexts.push(t.text);\n  });\n\n  var pathes = [];\n\n  _.each(nodes.nodes, function (node) {\n    var n = node;\n\n    if (n.width > 0 && n.height > 0) {\n      var text = n.shape.get('origin').text;\n      var index = tickTexts.indexOf(text);\n      var tickItem = tickItems[index];\n      pathes.push(['M', tickItem.x1, tickItem.y1], ['L', tickItem.x2, tickItem.y2]);\n    }\n  });\n\n  if (pathes.length === 0) {\n    pathes = [['M', 0, 0]];\n  }\n\n  tickShape.attr('path', pathes);\n}\n\nvar ApplyResponsiveAxis =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveAxis, _super);\n\n  function ApplyResponsiveAxis() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveAxis.prototype.init = function () {\n    this.axisInstance = this.getAxisInstance();\n\n    _super.prototype.init.call(this);\n  };\n\n  ApplyResponsiveAxis.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.axis) {\n      return false;\n    }\n\n    if (this.responsiveTheme.axis[this.dim] && this.type && this.axisInstance && this.axisInstance.get('labelRenderer')) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ApplyResponsiveAxis.prototype.apply = function () {\n    var axis = this.axisInstance;\n    var rawLabels = axis.get('labelRenderer').get('group').get('children');\n    var shapes = [];\n\n    for (var i = 0; i < rawLabels.length - 1; i++) {\n      shapes.push(rawLabels[i]);\n    }\n\n    var shapeNodes = new ShapeNodes({\n      shapes: shapes\n    });\n    var _a = this.responsiveTheme.axis.x[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: shapeNodes,\n      constraints: constraints,\n      region: this.plot.view.get('viewRange'),\n      rules: rules,\n      plot: this.plot,\n      onEnd: function onEnd(nodes) {\n        if (axis.get('tickLine')) {\n          updateTicks(nodes, axis);\n        }\n      }\n    });\n  };\n\n  ApplyResponsiveAxis.prototype.getType = function () {\n    var props = this.plot.options;\n    var axis = this.dim + \"Axis\";\n    var field = this.dim + \"Field\";\n\n    if (props[axis] && props[axis].type && props[axis].type === 'dateTime') {\n      return 'dateTime';\n    }\n\n    var scaleType = this.plot.view.get('scales')[props[field]].type;\n    return SCALE_MAPPER[scaleType];\n  };\n\n  ApplyResponsiveAxis.prototype.getAxisInstance = function () {\n    var axisIndex = this.dim === 'x' ? 0 : 1;\n    var axis = this.plot.view.get('axisController').axes[axisIndex];\n    return axis;\n  };\n\n  return ApplyResponsiveAxis;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveAxis;","import { __extends } from \"tslib\";\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nvar ApplyResponsiveLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLabel, _super);\n\n  function ApplyResponsiveLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLabel.prototype.shouldApply = function () {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ApplyResponsiveLabel.prototype.apply = function () {\n    var labelShapes = this.plot.view.get('elements')[0].get('labels');\n    var nodes = new ShapeNodes({\n      shapes: labelShapes\n    });\n    var _a = this.responsiveTheme.label[this.type],\n        constraints = _a.constraints,\n        rules = _a.rules;\n    new Responsive({\n      nodes: nodes,\n      constraints: constraints,\n      rules: rules,\n      plot: this.plot,\n      region: this.plot.view.get('viewRange')\n    });\n  };\n\n  ApplyResponsiveLabel.prototype.getType = function () {\n    return null;\n  };\n\n  return ApplyResponsiveLabel;\n}(ApplyResponsive);\n\nexport default ApplyResponsiveLabel;","import { __extends } from \"tslib\";\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\n\nvar ApplyResponsiveLineLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveLineLabel, _super);\n\n  function ApplyResponsiveLineLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveLineLabel.prototype.getType = function () {\n    var props = this.plot.options;\n\n    if (props.label && props.label.type) {\n      return props.label.type;\n    }\n\n    return 'point';\n  };\n\n  return ApplyResponsiveLineLabel;\n}(ApplyResponsiveLabel);\n\nexport default function responsivePointLabel(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var applyResponsiveLineLabel = new ApplyResponsiveLineLabel({\n    plot: layer,\n    responsiveTheme: responsiveTheme\n  });\n}","import responsiveAxis from './axis';\nimport responsivePointLabel from './label';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}, {\n  name: 'responsivePointLabel',\n  method: responsivePointLabel\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme */\n\nvar lineTheme = {\n  label: {\n    point: {\n      constraints: [{\n        name: 'elementCollision'\n      }],\n      rules: {\n        elementCollision: [{\n          name: 'nodesResamplingByChange'\n        }, {\n          name: 'clearOverlapping'\n        }]\n      }\n    }\n  }\n};\nregisterResponsiveTheme('line', lineTheme);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport _cloneDeep from '@antv/util/lib/clone';\nimport _each from '@antv/util/lib/each'; // import verticalShatter from '../../../../util/layout/verticalShatter';\n\nvar MARGIN = 10;\n\nvar LineElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(LineElementLabels, _super);\n\n  function LineElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineElementLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    var labelPoints = [];\n\n    _each(shapes, function (shape) {\n      var originData = shape.get('origin');\n\n      var lastPoint = _cloneDeep(originData[originData.length - 1]);\n\n      var bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      labelPoints.push(lastPoint);\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var field = this.get('labelOptions').fields[0];\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _each(labels, function (label) {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      var origin = label.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var color = _this._adjustColor(shapeId, shapes);\n\n      label.attr('fill', color);\n    });\n\n    view.get('canvas').draw();\n  };\n\n  LineElementLabels.prototype._adjustColor = function (shapeId, shapes) {\n    var color;\n\n    _each(shapes, function (shape) {\n      var id = shape.id;\n\n      if (id === shapeId) {\n        color = shape.attr('stroke');\n      }\n    });\n\n    return color;\n  };\n\n  return LineElementLabels;\n}(ElementLabels);\n\nregisterElementLabels('line', LineElementLabels);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\n\nvar LinePointLabels =\n/** @class */\nfunction (_super) {\n  __extends(LinePointLabels, _super);\n\n  function LinePointLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LinePointLabels.prototype.showLabels = function (points, shapes) {\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    var anchorsBBox = renderer.get('items').map(function (item) {\n      return {\n        x: item.start.x - 4,\n        y: item.start.y - 4,\n        width: 8,\n        height: 8\n      };\n    });\n    /*layout(labels, anchorsBBox, view.get('panelRange'), {\n      nsweeps: 10,\n    });*/\n\n    view.get('canvas').draw();\n  };\n\n  return LinePointLabels;\n}(ElementLabels);\n\nregisterElementLabels('point', LinePointLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onLineClick: 'line:click',\n  onLineDoubleclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign, __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar LineActive =\n/** @class */\nfunction (_super) {\n  __extends(LineActive, _super);\n\n  function LineActive(cfg) {\n    return _super.call(this, __assign({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove'\n    }, cfg)) || this;\n  }\n\n  LineActive.prototype.process = function (ev) {\n    var target = ev.target;\n\n    if (target.name === 'line') {\n      var data_1 = ev.data[0]._origin;\n      this.view.setActive(function (obj) {\n        return obj === data_1;\n      });\n    } else {\n      this.view.setActive(function () {\n        return false;\n      });\n    }\n  };\n\n  return LineActive;\n}(Interaction);\n\nexport default LineActive;","import { __assign, __extends } from \"tslib\";\nimport { Interaction } from '@antv/g2';\n\nvar LineSelect =\n/** @class */\nfunction (_super) {\n  __extends(LineSelect, _super);\n\n  function LineSelect(cfg) {\n    return _super.call(this, __assign({\n      endEvent: 'click'\n    }, cfg)) || this;\n  }\n\n  LineSelect.prototype.end = function (ev) {\n    var target = ev.target;\n\n    if (target.name === 'line') {\n      var data_1 = ev.data[0]._origin;\n      this.view.setInactive(function (obj) {\n        return obj !== data_1;\n      }); // TODO： 设置z-index\n    } else {\n      this.view.setInactive(function () {\n        return false;\n      }); // TODO: 重置z-index\n    }\n  };\n\n  return LineSelect;\n}(Interaction);\n\nexport default LineSelect;","import { registerTheme } from '../../theme';\n\nvar LINE_ACTIVE_STYLE = function LINE_ACTIVE_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 1\n  };\n};\n\nvar LINE_DISABLE_STYLE = function LINE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.2\n  };\n};\n\nvar LINE_SELECTED_STYLE = function LINE_SELECTED_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 2\n  };\n};\n\nregisterTheme('line', {\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE\n  },\n  pointStyle: {\n    normal: {},\n    active: {},\n    disable: {},\n    selected: {}\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale, trySetScaleMinToZero } from '../../util/scale';\nimport './animation/clipIn-with-data';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/line-label';\nimport './component/label/point-label';\nimport * as EventParser from './event';\nimport { LineActive, LineSelect } from './interaction/index';\nimport './theme';\nvar GEOM_MAP = {\n  line: 'line',\n  point: 'point'\n};\n\nvar LineLayer =\n/** @class */\nfunction (_super) {\n  __extends(LineLayer, _super);\n\n  function LineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'line';\n    return _this;\n  }\n\n  LineLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      connectNulls: false,\n      smooth: false,\n      lineSize: 2,\n      lineStyle: {\n        lineJoin: 'round',\n        lineCap: 'round'\n      },\n      point: {\n        visible: false,\n        size: 3,\n        shape: 'circle',\n        style: {\n          stroke: '#fff'\n        }\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4\n      }\n    });\n  };\n\n  LineLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  LineLayer.prototype.afterRender = function () {\n    var props = this.options; // 响应式\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  LineLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  LineLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n    trySetScaleMinToZero(scales[props.yField], _.map(props.data, function (item) {\n      return item[props.yField];\n    }));\n\n    _super.prototype.scale.call(this);\n  };\n\n  LineLayer.prototype.coord = function () {};\n\n  LineLayer.prototype.addGeometry = function () {\n    // 配置线\n    this.addLine(); // 配置数据点\n\n    this.addPoint();\n  };\n\n  LineLayer.prototype.addLine = function () {\n    var props = this.options;\n    this.line = getGeom('line', 'main', {\n      plot: this\n    });\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.setConfig('element', this.line);\n  };\n\n  LineLayer.prototype.addPoint = function () {\n    var props = this.options;\n    var defaultConfig = {\n      visible: false\n    };\n\n    if (props.point) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    }\n\n    if (props.point && props.point.visible) {\n      this.point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.point.active = false;\n      this.setConfig('element', this.point);\n    }\n  };\n\n  LineLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false || this.singleLineLabelCheck()) {\n      this.line.label = false;\n      return;\n    }\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n\n\n    if (label.type === 'line') {\n      label.offset = 0;\n    }\n\n    this.line.label = getComponent('label', __assign({\n      plot: this,\n      top: true,\n      labelType: label.type,\n      fields: label.type === 'line' ? [props.seriesField] : [props.yField]\n    }, label));\n  };\n\n  LineLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    } else if (_.has(props, 'animation')) {\n      // 根据动画类型区分图形动画和群组动画\n      if (props.animation.type === 'clipingWithData' && props.padding !== 'auto') {\n        this.line.animate = {\n          appear: {\n            animation: 'clipingWithData',\n            easing: 'easeLinear',\n            duration: 10000,\n            yField: props.yField,\n            seriesField: props.seriesField,\n            plot: this\n          }\n        }; // 如果有数据点的话要追加数据点的动画\n\n        if (props.point && props.point.visible) {\n          this.point.animate = false;\n        }\n      }\n    }\n  };\n\n  LineLayer.prototype.applyInteractions = function () {\n    _super.prototype.applyInteractions.call(this); // 加入默认交互\n\n\n    var interactions = this.view.get('interactions');\n    var lineActive = new LineActive({\n      view: this.view\n    });\n    interactions.lineActive = lineActive;\n    var lineSelect = new LineSelect({\n      view: this.view\n    });\n    interactions.lineSelect = lineSelect;\n  };\n\n  LineLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  LineLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  LineLayer.prototype.singleLineLabelCheck = function () {\n    // 不允许单折线设置尾部跟随label\n    return !this.options.seriesField && this.options.label.type && this.options.label.type === 'line';\n  };\n\n  return LineLayer;\n}(ViewLayer);\n\nexport default LineLayer;\nregisterPlotType('line', LineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport LineLayer from './layer';\n\nvar Line =\n/** @class */\nfunction (_super) {\n  __extends(Line, _super);\n\n  function Line() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Line.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'line';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Line.getDefaultOptions = LineLayer.getDefaultOptions;\n  return Line;\n}(BasePlot);\n\nexport default Line;","import responsiveAxis from './axis';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar AREA_ACTIVE_STYLE = function AREA_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity\n  };\n};\n\nvar AREA_DISABLE_STYLE = function AREA_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar LINE_ACTIVE_STYLE = function LINE_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity\n  };\n};\n\nvar LINE_DISABLE_STYLE = function LINE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar LINE_SELECTED_STYLE = function LINE_SELECTED_STYLE(style) {\n  var lineWidth = style.lineWidth || 1;\n  return {\n    lineWidth: lineWidth + 2\n  };\n};\n\nvar POINT_ACTIVE_STYLE = function POINT_ACTIVE_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1\n  };\n};\n\nvar POINT_SELECTED_STYLE = function POINT_SELECTED_STYLE(style) {\n  var color = style.fill || style.fillStyle;\n  var radius = style.size || style.radius;\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2\n  };\n};\n\nvar POINT_DISABLED_STYLE = function POINT_DISABLED_STYLE(style) {\n  var opacity = style.opacity || style.fillOpacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('area', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: '#333333'\n    }\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE\n  }\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport * as EventParser from './event';\nimport './theme';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point'\n};\n\nvar AreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(AreaLayer, _super);\n\n  function AreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'area';\n    return _this;\n  }\n\n  AreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      smooth: false,\n      areaStyle: {\n        opacity: 0.25,\n        fillOpacity: 1\n      },\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n          lineJoin: 'round',\n          lineCap: 'round'\n        }\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point'\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4\n      }\n    });\n  };\n\n  AreaLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n    /** 响应式图形 */\n\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  AreaLayer.prototype.afterRender = function () {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  AreaLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  AreaLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  AreaLayer.prototype.coord = function () {};\n\n  AreaLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var area = getGeom('area', 'main', {\n      plot: this\n    });\n    this.area = area;\n\n    if (props.label) {\n      this.label();\n    }\n\n    this.adjustArea(area);\n    this.setConfig('element', area);\n    this.addLine();\n    this.addPoint();\n  };\n\n  AreaLayer.prototype.adjustArea = function (area) {\n    return;\n  };\n\n  AreaLayer.prototype.adjustLine = function (line) {\n    return;\n  };\n\n  AreaLayer.prototype.adjustPoint = function (point) {\n    return;\n  };\n\n  AreaLayer.prototype.addLine = function () {\n    var props = this.options;\n\n    var lineConfig = _.deepMix({}, props.line);\n\n    if (lineConfig.visible) {\n      var line = getGeom('line', 'guide', {\n        type: 'line',\n        plot: this,\n        line: lineConfig\n      });\n      this.adjustLine(line);\n      this.setConfig('element', line);\n      this.line = line;\n    }\n  };\n\n  AreaLayer.prototype.addPoint = function () {\n    var props = this.options;\n\n    var pointConfig = _.deepMix({}, props.point);\n\n    if (pointConfig.visible) {\n      var point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.adjustPoint(point);\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  };\n\n  AreaLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  };\n\n  AreaLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      if (this.line) {\n        this.line.label = false;\n      }\n\n      this.area.label = false;\n      return;\n    }\n\n    this.area.label = getComponent('label', {\n      fields: [props.yField],\n      plot: this\n    });\n  };\n\n  AreaLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  AreaLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  return AreaLayer;\n}(ViewLayer);\n\nexport default AreaLayer;\nregisterPlotType('area', AreaLayer);","import { __extends } from \"tslib\";\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { sturges } from '../../util/math';\nimport Area from '../area/layer';\nvar kernels = {\n  epanechnikov: function epanechnikov(dist) {\n    return Math.abs(dist) <= 1 ? 0.75 * (1 - dist * dist) : 0;\n  },\n  gaussian: function gaussian(dist) {\n    return 1 / Math.sqrt(Math.PI * 2) * Math.exp(-0.5 * Math.pow(dist, 2));\n  },\n  uniform: function uniform(dist) {\n    return Math.abs(dist) <= 1 ? 0.5 : 0;\n  },\n  triangle: function triangle(dist) {\n    return Math.abs(dist) <= 1 ? 1 - Math.abs(dist) : 0;\n  },\n  quartic: function quartic(dist) {\n    var v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? 15 / 16 * v * v : 0;\n  },\n  triweight: function triweight(dist) {\n    var v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? 15 / 16 * Math.pow(v, 3) : 0;\n  },\n  cosinus: function cosinus(dist) {\n    var v = Math.PI / 4 * Math.cos(0.5 * Math.PI * dist);\n    return Math.abs(dist) <= 1 ? v : 0;\n  }\n};\n\nvar DensityLayer =\n/** @class */\nfunction (_super) {\n  __extends(DensityLayer, _super);\n\n  function DensityLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'density';\n    return _this;\n  }\n\n  DensityLayer.prototype.init = function () {\n    var originXAxisConfig = this.options.xAxis ? _.clone(this.options.xAxis) : {};\n    this.options.xField = 'value';\n    this.options.yField = 'density';\n    this.options.xAxis = _.deepMix({}, originXAxisConfig, {\n      type: 'linear'\n    });\n    this.options.smooth = true;\n\n    _super.prototype.init.call(this);\n  };\n\n  DensityLayer.prototype.processData = function (originData) {\n    var _this = this;\n\n    var _a = this.options,\n        binField = _a.binField,\n        binWidth = _a.binWidth,\n        binNumber = _a.binNumber,\n        kernel = _a.kernel;\n\n    var _kernel = kernel ? kernel : 'epanechnikov';\n\n    var kernelFunc = kernels[_kernel];\n\n    var originDataCopy = _.clone(originData);\n\n    _.sortBy(originDataCopy, binField); // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n\n\n    var values = _.valuesOfKey(originDataCopy, binField);\n\n    var range = _.getRange(values);\n\n    var rangeWidth = range.max - range.min;\n    var _binNumber = binNumber;\n    var _binWidth = binWidth;\n\n    if (!binNumber && binWidth) {\n      _binNumber = Math.floor(rangeWidth / binWidth);\n    }\n\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    } // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n\n\n    if (!binNumber && !binWidth) {\n      _binNumber = sturges(values);\n      _binWidth = rangeWidth / binNumber;\n    } // 根据binNumber获取samples\n\n\n    var LinearScale = getScale('linear');\n    var scale = new LinearScale({\n      min: range.min,\n      max: range.max,\n      tickCount: _binNumber,\n      nice: false\n    });\n    var samples = scale.getTicks(); // 计算KDE\n\n    var densities = [];\n\n    _.each(samples, function (s) {\n      var density = _this.kernelDensityEstimator(_binWidth, kernelFunc, s, values);\n\n      densities.push({\n        value: s.text,\n        density: density\n      });\n    });\n\n    return densities;\n  };\n\n  DensityLayer.prototype.kernelDensityEstimator = function (binWidth, kernelFunc, x, values) {\n    var sum = 0;\n\n    _.each(values, function (v) {\n      var dist = (x.tickValue - v) / binWidth;\n      sum += kernelFunc(dist);\n    });\n\n    return values.length === 0 ? 0 : sum / values.length;\n  };\n\n  return DensityLayer;\n}(Area);\n\nexport default DensityLayer;\nregisterPlotType('density', DensityLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport DensityLayer from './layer';\n\nvar Density =\n/** @class */\nfunction (_super) {\n  __extends(Density, _super);\n\n  function Density() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Density.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'density';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Density.getDefaultOptions = DensityLayer.getDefaultOptions;\n  return Density;\n}(BasePlot);\n\nexport default Density;","import { __assign } from \"tslib\";\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction parsePoints(shape) {\n  var parsedPoints = [];\n  var coord = shape.get('coord');\n  var points = shape.get('origin').points;\n\n  _.each(points, function (p) {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n\n  return parsedPoints;\n}\n\nvar ConversionTag =\n/** @class */\nfunction () {\n  function ConversionTag(cfg) {\n    // @ts-ignore\n    _.deepMix(this, this.constructor.getDefaultOptions(cfg), cfg);\n\n    this._init();\n  }\n\n  ConversionTag.getDefaultOptions = function (_a) {\n    var transpose = _a.transpose;\n    return {\n      visible: true,\n      size: transpose ? 32 : 80,\n      spacing: transpose ? 8 : 12,\n      offset: transpose ? 32 : 0,\n      arrow: {\n        visible: true,\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)'\n        }\n      },\n      value: {\n        visible: true,\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)'\n        },\n        formatter: function formatter(valueUpper, valueLower) {\n          return (100 * valueLower / valueUpper).toFixed(2) + \"%\";\n        }\n      },\n      animation: _.deepMix({}, Animate.defaultCfg)\n    };\n  };\n\n  ConversionTag.prototype._init = function () {\n    var _this = this;\n\n    var layer = this.view.get('backgroundGroup');\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n  };\n\n  ConversionTag.prototype.draw = function () {\n    var _this = this;\n\n    var transpose = this.transpose;\n    var values = this.view.get('scales')[this.field].values;\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes();\n    var shapeLower, valueLower, shapeUpper, valueUpper;\n\n    if (transpose) {\n      shapes.forEach(function (shapeLower, i) {\n        valueLower = values[i];\n\n        if (i++ > 0) {\n          _this._drawTag(shapeUpper, valueUpper, shapeLower, valueLower);\n        }\n\n        valueUpper = valueLower;\n        shapeUpper = shapeLower;\n      });\n    } else {\n      shapes.forEach(function (shapeUpper, i) {\n        valueUpper = values[i];\n\n        if (i++ > 0) {\n          _this._drawTag(shapeUpper, valueUpper, shapeLower, valueLower);\n        }\n\n        valueLower = valueUpper;\n        shapeLower = shapeUpper;\n      });\n    }\n  };\n\n  ConversionTag.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  ConversionTag.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  ConversionTag.prototype._drawTag = function (shapeUpper, valueUpper, shapeLower, valueLower) {\n    var transpose = this.transpose;\n    var pointUpper = parsePoints(shapeUpper)[transpose ? 3 : 0];\n    var pointLower = parsePoints(shapeLower)[transpose ? 0 : 3];\n\n    this._drawTagArrow(pointUpper, pointLower);\n\n    this._drawTagValue(pointUpper, valueUpper, pointLower, valueLower);\n  };\n\n  ConversionTag.prototype._drawTagArrow = function (pointUpper, pointLower) {\n    var spacing = this.spacing;\n\n    var _a = this,\n        size = _a.size,\n        offset = _a.offset,\n        animation = _a.animation,\n        transpose = _a.transpose;\n\n    var headSize = this.arrow.headSize;\n    var totalHeight = pointLower.y - pointUpper.y;\n    var totalWidth = pointLower.x - pointUpper.x;\n    var points;\n\n    if (transpose) {\n      if ((totalWidth - headSize) / 2 < spacing) {\n        // 当柱间距不足容纳箭头尖与间隔时，画三角并挤占间隔\n        spacing = Math.max(1, (totalWidth - headSize) / 2);\n        points = [[pointUpper.x + spacing, pointUpper.y - offset], [pointUpper.x + spacing, pointUpper.y - offset - size], [pointLower.x - spacing, pointLower.y - offset - size / 2]];\n      } else {\n        // 当柱间距足够时，画完整图形并留出间隔。\n        points = [[pointUpper.x + spacing, pointUpper.y - offset], [pointUpper.x + spacing, pointUpper.y - offset - size], [pointLower.x - spacing - headSize, pointLower.y - offset - size], [pointLower.x - spacing, pointLower.y - offset - size / 2], [pointLower.x - spacing - headSize, pointLower.y - offset]];\n      }\n    } else {\n      if ((totalHeight - headSize) / 2 < spacing) {\n        // 当柱间距不足容纳箭头尖与间隔时，画三角并挤占间隔\n        spacing = Math.max(1, (totalHeight - headSize) / 2);\n        points = [[pointUpper.x + offset, pointUpper.y + spacing], [pointUpper.x + offset + size, pointUpper.y + spacing], [pointLower.x + offset + size / 2, pointLower.y - spacing]];\n      } else {\n        // 当柱间距足够时，画完整图形并留出间隔。\n        points = [[pointUpper.x + offset, pointUpper.y + spacing], [pointUpper.x + offset + size, pointUpper.y + spacing], [pointLower.x + offset + size, pointLower.y - spacing - headSize], [pointLower.x + offset + size / 2, pointLower.y - spacing], [pointLower.x + offset, pointLower.y - spacing - headSize]];\n      }\n    }\n\n    var tagArrow = this.container.addShape('polygon', {\n      name: 'arrow',\n      attrs: __assign(__assign({}, this.arrow.style), {\n        points: points\n      })\n    });\n\n    if (animation !== false) {\n      this._fadeInTagShape(tagArrow);\n    }\n  };\n\n  ConversionTag.prototype._drawTagValue = function (pointUpper, valueUpper, pointLower, valueLower) {\n    var _a = this,\n        size = _a.size,\n        offset = _a.offset,\n        animation = _a.animation,\n        transpose = _a.transpose;\n\n    var text = this.value.formatter(valueUpper, valueLower);\n    var tagValue = this.container.addShape('text', {\n      name: 'value',\n      attrs: __assign(__assign({}, this.value.style), {\n        text: text,\n        x: transpose ? (pointUpper.x + pointLower.x) / 2 : pointUpper.x + offset + size / 2,\n        y: transpose ? pointUpper.y - offset - size / 2 : (pointUpper.y + pointLower.y) / 2,\n        textAlign: 'center',\n        textBaseline: 'middle'\n      })\n    });\n\n    if (transpose) {\n      var totalWidth = pointLower.x - pointUpper.x;\n      var textWidth = tagValue.getBBox().width;\n\n      if (textWidth > totalWidth) {\n        var cWidth = textWidth / text.length;\n        var cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n        var textAdjusted = text.slice(0, cEnd) + \"...\";\n        tagValue.attr('text', textAdjusted);\n      }\n    }\n\n    if (animation !== false) {\n      this._fadeInTagShape(tagValue);\n    }\n  };\n\n  ConversionTag.prototype._fadeInTagShape = function (shape) {\n    var animation = this.animation;\n    var opacity = shape.attr('opacity');\n    shape.attr('opacity', 0);\n\n    var duration = _.get(animation, 'appear', Animate.defaultCfg.appear).duration;\n\n    shape.animate({\n      opacity: opacity\n    }, duration);\n  };\n\n  return ConversionTag;\n}();\n\nexport default ConversionTag;","import { __extends } from \"tslib\";\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\n\nvar ApplyResponsiveColumnLabel =\n/** @class */\nfunction (_super) {\n  __extends(ApplyResponsiveColumnLabel, _super);\n\n  function ApplyResponsiveColumnLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ApplyResponsiveColumnLabel.prototype.getType = function () {\n    if (this.plot.column.label) {\n      if (!this.plot.column.label.position || this.plot.column.label.position === 'top') {\n        return 'top';\n      }\n    }\n\n    return 'inner';\n  };\n\n  return ApplyResponsiveColumnLabel;\n}(ApplyResponsiveLabel);\n\nexport default function responsivePointLabel(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var applyResponsiveColumnLabel = new ApplyResponsiveColumnLabel({\n    plot: layer,\n    responsiveTheme: responsiveTheme\n  });\n}","import responsiveAxis from './axis';\nimport responsiveLabel from './label';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}, {\n  name: 'responsiveLabel',\n  method: responsiveLabel\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","export function rgb2arr(str) {\n  var arr = [];\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\nexport function toHex(value) {\n  var v;\n  v = Math.round(value);\n  v = v.toString(16);\n\n  if (v.length === 1) {\n    v = \"0\" + value;\n  }\n\n  return v;\n}\nexport function arr2rgb(arr) {\n  return \"#\" + (toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]));\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme */\n\nvar columnTheme = {\n  label: {\n    top: {\n      constraints: [{\n        name: 'elementCollision'\n      }],\n      rules: {\n        elementCollision: [{\n          name: 'nodeJitterUpward'\n        }, {\n          name: 'nodesResamplingByState',\n          option: {\n            keep: ['min', 'max', 'median']\n          }\n        }, {\n          name: 'textHide'\n        }]\n      }\n    }\n  }\n};\nregisterResponsiveTheme('column', columnTheme);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar TOP_MARGIN = 20;\n\nvar ColumnLabels =\n/** @class */\nfunction (_super) {\n  __extends(ColumnLabels, _super);\n\n  function ColumnLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ColumnLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var negative = point0.y < point1.y;\n    var width = (point0.x - point1.x) / 2;\n    var height = (point0.y - point1.y) / 2;\n\n    switch (position) {\n      case 'right':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'left';\n        break;\n\n      case 'left':\n        point.x += width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'right';\n        break;\n\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'middle':\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  ColumnLabels.prototype.adjustOffset = function (points, shapes) {\n    var renderer = this.get('labelsRenderer');\n    var items = renderer.get('items');\n    var labels = renderer.get('group').get('children');\n    var coord = this.get('coord');\n\n    _.each(items, function (item, idx) {\n      var label = labels[idx];\n      var point0 = coord.convertPoint(points[idx].points[0]);\n      var point1 = coord.convertPoint(points[idx].points[2]);\n      var negative = point0.y < point1.y;\n\n      if (negative) {\n        item.y += item.offset * 2;\n        label.attr('textBaseline', 'top');\n        label.attr('y', label.attr('y') + item.offset * 2);\n      }\n    });\n  };\n\n  ColumnLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    this.adjustOffset(points, shapes);\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  ColumnLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  ColumnLabels.prototype.adjustPosition = function (label, shape, item) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height && item.position !== 'top') {\n      var yPosition = shapeRange.minY - TOP_MARGIN;\n      label.attr('y', yPosition);\n    }\n  };\n\n  ColumnLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      // 非 shape 范围内的 label 需要考虑主题背景\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  ColumnLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return ColumnLabels;\n}(ElementLabels);\n\nexport { ColumnLabels };\nregisterElementLabels('columnLabel', ColumnLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar COLUMN_ACTIVE_STYLE = function COLUMN_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar COLUMN_DISABLE_STYLE = function COLUMN_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5,\n    fillOpacity: opacity * 0.5\n  };\n};\n\nregisterTheme('column', {\n  columnStyle: {\n    normal: {},\n    active: COLUMN_ACTIVE_STYLE,\n    disable: COLUMN_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport ConversionTag from '../../components/conversion-tag';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/column-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'column'\n};\n\nvar BaseColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(BaseColumnLayer, _super);\n\n  function BaseColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'column';\n    return _this;\n  }\n\n  BaseColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false\n        },\n        title: {\n          visible: true\n        }\n      },\n      yAxis: {\n        title: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        grid: {\n          visible: true\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: false,\n        position: 'top',\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      },\n      conversionTag: {\n        visible: false\n      }\n    });\n  };\n\n  BaseColumnLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  BaseColumnLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n    /** 响应式图形 */\n\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  BaseColumnLayer.prototype.afterRender = function () {\n    var props = this.options;\n    /** 响应式 */\n\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    if (props.conversionTag.visible) {\n      this.conversionTag = new ConversionTag(__assign({\n        view: this.view,\n        field: props.yField,\n        transpose: true,\n        animation: props.animation === false ? false : true\n      }, props.conversionTag));\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  BaseColumnLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BaseColumnLayer.prototype.processData = function (originData) {\n    var xField = this.options.xField;\n    var processedData = [];\n\n    _.each(originData, function (data) {\n      var d = _.clone(data);\n\n      d[xField] = d[xField].toString();\n      processedData.push(d);\n    });\n\n    return processedData;\n  };\n\n  BaseColumnLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[options.yField] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BaseColumnLayer.prototype.coord = function () {};\n\n  BaseColumnLayer.prototype.adjustColumn = function (column) {\n    return;\n  };\n\n  BaseColumnLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var column = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this\n    });\n\n    if (options.conversionTag.visible) {\n      column.widthRatio.column = 2 / 5;\n    }\n\n    if (options.label) {\n      column.label = this.extractLabel();\n    }\n\n    this.adjustColumn(column);\n    this.column = column;\n    this.setConfig('element', column);\n  };\n\n  BaseColumnLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    if (this.options.animation === false) {\n      /** 关闭动画 */\n      this.column.animate = false;\n    }\n  };\n\n  BaseColumnLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BaseColumnLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'columnLabel',\n      fields: [this.options.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  BaseColumnLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  BaseColumnLayer.prototype.getLabelOptionsByPosition = function (position) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n        style: {\n          textBaseline: 'middle'\n        }\n      };\n    }\n\n    if (position === 'top') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom'\n        }\n      };\n    }\n\n    if (position === 'bottom') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom'\n        }\n      };\n    }\n\n    return {\n      offset: 0\n    };\n  };\n\n  return BaseColumnLayer;\n}(ViewLayer);\n\nexport default BaseColumnLayer;\nregisterPlotType('column', BaseColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ColumnLayer from './layer';\n\nvar Column =\n/** @class */\nfunction (_super) {\n  __extends(Column, _super);\n\n  function Column() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Column.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'column';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Column.getDefaultOptions = ColumnLayer.getDefaultOptions;\n  return Column;\n}(BasePlot);\n\nexport default Column;","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar TOP_MARGIN = 20;\n\nvar ScatterLabels =\n/** @class */\nfunction (_super) {\n  __extends(ScatterLabels, _super);\n\n  function ScatterLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ScatterLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var size = originPoint.size;\n    var p = originPoint.points[0];\n    var coord = this.get('coord');\n    var width = size;\n    var height = size;\n\n    switch (position) {\n      case 'right':\n        point.x += width * 2;\n        point.textAlign = point.textAlign || 'left';\n        break;\n\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || 'right';\n        break;\n\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'top';\n        break;\n\n      case 'middle':\n        point.textBaseline = 'middle';\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.y -= height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'bottom';\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  ScatterLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  ScatterLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  ScatterLabels.prototype.adjustPosition = function (label, shape, item) {\n    var originData = shape.get('origin')._origin;\n\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height || shapeRange.width <= labelRange.width && item.position === 'middle') {\n      label.attr('text', '');\n    }\n  };\n\n  ScatterLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n    } else if (labelRange.maxY < shapeRange.minY) {\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  ScatterLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return ScatterLabels;\n}(ElementLabels);\n\nexport { ScatterLabels };\nregisterElementLabels('scatterLabel', ScatterLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign } from \"tslib\";\nimport { each, isArray, isFunction, deepMix } from '@antv/util';\nimport { BBox } from '@antv/g';\n\nvar Quadrant =\n/** @class */\nfunction () {\n  function Quadrant(cfg) {\n    this.xBaseline = 0;\n    this.yBaseline = 0;\n    this.quadrantGroups = [];\n    this.regionData = [];\n    this.lineData = [];\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  Quadrant.prototype.init = function () {\n    var _this = this;\n\n    var _a = this.options,\n        xBaseline = _a.xBaseline,\n        yBaseline = _a.yBaseline;\n    var coord = this.view.get('coord'); // TODO: xBaseline和yBaseline支持百分比\n    // 根据xBaseline和yBaseline分割象限\n\n    var scales = this.view.get('scales');\n    var xScale = scales[this.options.plotOptions.xField];\n    var yScale = scales[this.options.plotOptions.yField]; // 先进行x方向的分割\n\n    var xRegion;\n\n    if (xBaseline > xScale.min && xBaseline < xScale.max) {\n      var ratio = (xBaseline - xScale.min) / (xScale.max - xScale.min);\n      xRegion = [new BBox(coord.start.x, coord.end.y, coord.width * ratio, coord.height), new BBox(coord.start.x + coord.width * ratio, coord.end.y, coord.width * (1 - ratio), coord.height)];\n      var verticalLineData = {\n        start: {\n          x: coord.start.x + coord.width * ratio,\n          y: coord.end.y\n        },\n        end: {\n          x: coord.start.x + coord.width * ratio,\n          y: coord.start.y\n        }\n      };\n      this.lineData.push(verticalLineData);\n    } else {\n      xRegion = new BBox(coord.start.x, coord.start.y, coord.width, coord.height);\n    } // 再进行y方向的分割\n\n\n    if (yBaseline > yScale.min && yBaseline < yScale.max) {\n      var ratio_1 = (yBaseline - yScale.min) / (yScale.max - yScale.min);\n      var horizontalLineData = {\n        start: {\n          x: coord.start.x,\n          y: coord.end.y + coord.height * ratio_1\n        },\n        end: {\n          x: coord.end.x,\n          y: coord.end.y + coord.height * ratio_1\n        }\n      };\n      this.lineData.push(horizontalLineData);\n      each(xRegion, function (region, index) {\n        var lastName = ['left', 'right'];\n        var upper = {\n          name: xRegion.length > 1 ? \"top-\" + lastName[index] : 'top',\n          bbox: new BBox(region.minX, region.minY, region.width, region.height * ratio_1)\n        };\n\n        _this.regionData.push(upper);\n\n        var lower = {\n          name: xRegion.length > 1 ? \"bottom-\" + lastName[index] : 'bottom',\n          bbox: new BBox(region.minX, region.minY + region.height * ratio_1, region.width, region.height * (1 - ratio_1))\n        };\n\n        _this.regionData.push(lower);\n      });\n    } else if (xRegion.length === 2) {\n      var left = {\n        name: 'left',\n        bbox: xRegion[0]\n      };\n      this.regionData.push(left);\n      var right = {\n        name: 'right',\n        bbox: xRegion[1]\n      };\n      this.regionData.push(right);\n    } // 创建container\n\n\n    this.container = this.view.get('backgroundGroup').addGroup();\n  };\n\n  Quadrant.prototype.render = function () {\n    var _this = this;\n\n    if (this.regionData.length > 0) {\n      var defaultStyle_1 = this.getDefaultStyle();\n      var regionStyle_1 = this.getRegionStyle(this.regionData);\n      each(this.regionData, function (d, index) {\n        var group = _this.container.addGroup();\n\n        var rect = group.addShape('rect', {\n          attrs: __assign({\n            x: d.bbox.minX,\n            y: d.bbox.minY,\n            width: d.bbox.width,\n            height: d.bbox.height\n          }, regionStyle_1[index]),\n          name: 'quadrant'\n        });\n\n        if (_this.options.label && _this.options.label.text) {\n          var labelOptions = deepMix({}, defaultStyle_1.label, _this.options.label);\n\n          var labelCfg = _this.getLabelConfig(d, labelOptions, index);\n\n          var label = group.addShape('text', {\n            attrs: __assign({}, labelCfg)\n          });\n        }\n\n        rect.setSilent('data', d);\n\n        _this.quadrantGroups.push(group);\n      }); //绘制象限辅助线\n\n      var lineStyle_1 = deepMix({}, defaultStyle_1.line, this.options.lineStyle);\n      each(this.lineData, function (d) {\n        _this.container.addShape('path', {\n          attrs: __assign({\n            path: [['M', d.start.x, d.start.y], ['L', d.end.x, d.end.y]]\n          }, lineStyle_1)\n        });\n      });\n      this.view.get('canvas').draw();\n    }\n  };\n\n  Quadrant.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  Quadrant.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  Quadrant.prototype.getDefaultStyle = function () {\n    return {\n      line: {\n        stroke: '#9ba29a',\n        lineWidth: 1\n      },\n      region_2: [{\n        fill: '#000000',\n        opacity: 0.05\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }],\n      region_4: [{\n        fill: '#000000',\n        opacity: 0.05\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }, {\n        fill: '#ffffff',\n        opacity: 0\n      }, {\n        fill: '#000000',\n        opacity: 0.05\n      }],\n      label: {\n        position: 'outter-inner',\n        offset: 10,\n        style: {\n          fontSize: 14,\n          fill: '#ccc'\n        }\n      }\n    };\n  };\n\n  Quadrant.prototype.getRegionStyle = function (regionData) {\n    var regionNum = regionData.length;\n    var defaultStyle = this.getDefaultStyle();\n    var style;\n\n    if (regionNum === 2) {\n      style = defaultStyle.region_2;\n    } else {\n      style = defaultStyle.region_4;\n    }\n\n    if (this.options.regionStyle) {\n      var regionStyle_2 = this.options.regionStyle;\n\n      if (isArray(regionStyle_2)) {\n        style = style.map(function (s, index) {\n          if (regionStyle_2.length >= index) {\n            return regionStyle_2[index];\n          }\n\n          return s;\n        });\n      } else if (isFunction(regionStyle_2)) {\n        each(regionData, function (d, index) {\n          style[index] = regionStyle_2(d);\n        });\n      }\n    }\n\n    return style;\n  };\n\n  Quadrant.prototype.getLabelConfig = function (region, labelOptions, index) {\n    var x = 0;\n    var y = 0;\n    var style = {};\n    var text = labelOptions.text;\n\n    if (isFunction(text)) {\n      text = text(region);\n    } else if (isArray(text)) {\n      text = text[index];\n    }\n\n    var position = labelOptions.position;\n    var pos = position.split('-');\n    var dim = region.name.split('-'); // x方向\n\n    if (dim[1] === 'left') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n\n      if (pos[0] === 'outter') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n    } else if (dim[1] === 'right') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n\n      if (pos[0] === 'outter') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n    } // y方向\n\n\n    if (dim[0] === 'top') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n\n      if (pos[1] === 'outter') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n    } else if (dim[0] === 'bottom') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n\n      if (pos[1] === 'outter') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n    }\n\n    style = deepMix({}, labelOptions.style, style);\n    style.lineHeight = style.fontSize;\n    return __assign({\n      x: x,\n      y: y,\n      text: text\n    }, style);\n  };\n\n  return Quadrant;\n}();\n\nexport default Quadrant;","// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nexport function points(data, x, y, sort) {\n  data = data.filter(function (d) {\n    var u = x(d),\n        v = y(d);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nexport function visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d),\n        dy = +y(d);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}","import { visitPoints } from \"./points\"; // Given a dataset, x- and y-accessors, the mean center of the y values, and a predict function,\n// return the coefficient of determination, or R squared.\n\nexport function determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}","// Returns the angle of a line in degrees.\nexport function angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nexport function midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}","import { angle, midpoint } from \"./geometry\"; // Given a start point, an end point, and a prediciton function,\n// returns a smooth line.\n\nexport function interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n    ;\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}","// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nexport function ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}","// Returns the medium value of an array of numbers.\nexport function median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n// Adapted from science.js by Jason Davies\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/loess.js\nimport { median } from \"./utils/median\";\nimport { ols } from \"./utils/ols\";\nimport { points } from \"./utils/points\";\nvar maxiters = 2,\n    epsilon = 1e-12;\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx);\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  return logarithmic;\n}","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}","import { __assign } from \"tslib\";\nimport { each, deepMix, minBy, maxBy } from '@antv/util';\nimport { getScale } from '@antv/scale';\nimport { regressionLinear, regressionExp, regressionLoess, regressionLog, regressionPoly, regressionPow, regressionQuad } from 'd3-regression';\nimport { getSplinePath } from '../../../util/path';\nvar REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad\n};\n\nfunction se95(p, n) {\n  return Math.sqrt(p * (1 - p) / n) * 1.96;\n}\n\nvar Quadrant =\n/** @class */\nfunction () {\n  function Quadrant(cfg) {\n    var defaultOptions = {\n      type: 'linear',\n      style: {\n        stroke: '#9ba29a',\n        lineWidth: 2,\n        opacity: 0.5,\n        lineJoin: 'round',\n        lineCap: 'round'\n      },\n      showConfidence: false,\n      confidenceStyle: {\n        fill: '#ccc',\n        opacity: 0.1\n      }\n    };\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.init();\n  }\n\n  Quadrant.prototype.init = function () {\n    // 处理数据\n    var _a = this.options.plotOptions,\n        xField = _a.xField,\n        yField = _a.yField,\n        data = _a.data;\n    var reg = REGRESSION_MAP[this.options.type]().x(function (d) {\n      return d[xField];\n    }).y(function (d) {\n      return d[yField];\n    });\n    this.data = this.processData(reg(data)); // 创建container\n\n    this.container = this.view.get('backgroundGroup').addGroup();\n  };\n\n  Quadrant.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var xscale_view = scales[this.options.plotOptions.xField];\n    var yscale_view = scales[this.options.plotOptions.yField];\n    var coord = this.view.get('coord');\n    var trendlineData = this.data.trendlineData; // 创建图形绘制的scale\n\n    var LinearScale = getScale('linear');\n    var xRange = this.adjustScale(xscale_view, trendlineData, 'x');\n    var xScale = new LinearScale({\n      min: xRange.min,\n      max: xRange.max,\n      nice: xscale_view.nice\n    });\n    var yRange = this.adjustScale(yscale_view, trendlineData, 'y');\n    var yScale = new LinearScale({\n      min: yRange.min,\n      max: yRange.max,\n      nice: yscale_view.nice\n    }); // 绘制置信区间曲线\n\n    if (this.options.showConfidence) {\n      var confidencePath = this.getConfidencePath(xScale, yScale, coord);\n      this.container.addShape('path', {\n        attrs: __assign({\n          path: confidencePath\n        }, this.options.confidenceStyle)\n      });\n    } // 绘制trendline\n\n\n    var points = this.getTrendlinePoints(xScale, yScale, coord);\n    var constraint = [[0, 0], [1, 1]];\n    var path = getSplinePath(points, false, constraint);\n    this.shape = this.container.addShape('path', {\n      attrs: __assign({\n        path: path\n      }, this.options.style)\n    });\n  };\n\n  Quadrant.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  Quadrant.prototype.destroy = function () {\n    if (this.container) {\n      this.container.destroy();\n    }\n  };\n\n  Quadrant.prototype.processData = function (data) {\n    var trendline = [];\n    var confidence = [];\n    each(data, function (d) {\n      trendline.push({\n        x: d[0],\n        y: d[1]\n      });\n      var conf = se95(data.rSquared, d[1]);\n      confidence.push({\n        x: d[0],\n        y0: d[1] - conf,\n        y1: d[1] + conf\n      });\n    });\n    return {\n      trendlineData: trendline,\n      confidenceData: confidence\n    };\n  };\n\n  Quadrant.prototype.getTrendlinePoints = function (xScale, yScale, coord) {\n    var points = [];\n    each(this.data.trendlineData, function (d) {\n      var xRatio = xScale.scale(d.x);\n      var yRatio = yScale.scale(d.y);\n      var x = coord.start.x + coord.width * xRatio;\n      var y = coord.start.y - coord.height * yRatio;\n      points.push({\n        x: x,\n        y: y\n      });\n    });\n    return points;\n  };\n\n  Quadrant.prototype.getConfidencePath = function (xScale, yScale, coord) {\n    var upperPoints = [];\n    var lowerPoints = [];\n    var path = [];\n    each(this.data.confidenceData, function (d) {\n      var xRatio = xScale.scale(d.x);\n      var y0Ratio = yScale.scale(d.y0);\n      var y1Ratio = yScale.scale(d.y1);\n      var x = coord.start.x + coord.width * xRatio;\n      var y0 = coord.start.y - coord.height * y0Ratio;\n      var y1 = coord.start.y - coord.height * y1Ratio;\n      upperPoints.push({\n        x: x,\n        y: y0\n      });\n      lowerPoints.push({\n        x: x,\n        y: y1\n      });\n    });\n\n    for (var i = 0; i < upperPoints.length; i++) {\n      var flag = i === 0 ? 'M' : 'L';\n      var p = upperPoints[i];\n\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push([flag, p.x, p.y]);\n      }\n    }\n\n    for (var j = lowerPoints.length - 1; j > 0; j--) {\n      var p = lowerPoints[j];\n\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push(['L', p.x, p.y]);\n      }\n    }\n\n    return path;\n  };\n\n  Quadrant.prototype.adjustScale = function (viewScale, trendlineData, dim) {\n    // 处理用户自行配置min max的情况\n    var min = viewScale.min,\n        max = viewScale.max;\n    var _a = this.options.plotOptions,\n        data = _a.data,\n        xField = _a.xField,\n        yField = _a.yField;\n    var field = dim === 'x' ? xField : yField;\n    var dataMin = minBy(data, field)[field];\n    var dataMax = maxBy(data, field)[field];\n    var minRatio = (min - dataMin) / (dataMax - dataMin);\n    var maxRatio = (max - dataMax) / (dataMax - dataMin);\n    var trendMin = minBy(trendlineData, dim)[dim];\n    var trendMax = maxBy(trendlineData, dim)[dim];\n    return {\n      min: trendMin + minRatio * (trendMax - trendMin),\n      max: trendMax + maxRatio * (trendMax - trendMin)\n    };\n  };\n\n  return Quadrant;\n}();\n\nexport default Quadrant;","import _slicedToArray from \"C:\\\\Users\\\\jey\\\\Desktop\\\\system-antd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nimport linear from \"./linear\";\nimport quad from \"./quadratic\"; // Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nexport default function () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport Quadrant from './components/quadrant';\nimport Trendline from './components/trendline';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './components/label/scatter-label';\nvar G2_GEOM_MAP = {\n  scatter: 'point'\n};\nvar PLOT_GEOM_MAP = {\n  point: 'point'\n};\n\nvar ScatterLayer =\n/** @class */\nfunction (_super) {\n  __extends(ScatterLayer, _super);\n\n  function ScatterLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'scatter';\n    return _this;\n  }\n\n  ScatterLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      pointSize: 4,\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 0.4,\n        opacity: 0.65\n      },\n      xAxis: {\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        }\n      },\n      yAxis: {\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        }\n      },\n      tooltip: {\n        visible: true,\n        // false 会造成 tooltip 只能显示一条数据，true 会造成 tooltip 在空白区域也会显示\n        shared: null,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: false,\n        position: 'top'\n      },\n      shape: 'circle'\n    });\n  };\n\n  ScatterLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    if (this.options.quadrant && this.options.quadrant.visible && !this.quadrant) {\n      if (this.quadrant) {\n        this.quadrant.destroy();\n      }\n\n      this.quadrant = new Quadrant(__assign({\n        view: this.view,\n        plotOptions: this.options\n      }, this.options.quadrant));\n      this.quadrant.render();\n    }\n\n    if (this.options.trendline && this.options.trendline.visible) {\n      this.trendline = new Trendline(__assign({\n        view: this.view,\n        plotOptions: this.options\n      }, this.options.trendline));\n      this.trendline.render();\n    }\n  };\n\n  ScatterLayer.prototype.destroy = function () {\n    if (this.quadrant) {\n      this.quadrant.destroy();\n      this.quadrant = null;\n    }\n\n    if (this.trendline) {\n      this.trendline.destroy();\n      this.trendline = null;\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ScatterLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  ScatterLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  ScatterLayer.prototype.coord = function () {};\n\n  ScatterLayer.prototype.annotation = function () {};\n\n  ScatterLayer.prototype.addGeometry = function () {\n    var points = getGeom('point', 'circle', {\n      plot: this\n    });\n    this.points = points;\n\n    if (this.options.label && this.options.label.visible) {\n      this.points.label = this.extractLabel();\n    }\n\n    if (this.options.tooltip && this.options.tooltip.visible) {\n      this.points.tooltip = this.extractTooltip();\n      this.setConfig('tooltip', __assign({\n        showTitle: false\n      }, this.options.tooltip));\n    }\n\n    this.setConfig('element', points);\n  };\n\n  ScatterLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.points.animate = false;\n    }\n  };\n\n  ScatterLayer.prototype.parseEvents = function (eventParser) {\n    // 气泡图继承散点图时，会存在 eventParser\n    _super.prototype.parseEvents.call(this, eventParser || EventParser);\n  };\n\n  ScatterLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.yField],\n      position: 'right',\n      offset: 0\n    }, label));\n    return labelConfig;\n  };\n\n  ScatterLayer.prototype.extractTooltip = function () {\n    var props = this.options;\n    return {\n      fields: [props.xField, props.yField]\n    };\n  };\n\n  return ScatterLayer;\n}(ViewLayer);\n\nexport default ScatterLayer;\nregisterPlotType('scatter', ScatterLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport '../scatter/components/label/scatter-label';\nimport * as EventParser from '../scatter/event';\nimport ScatterLayer from '../scatter/layer';\n\nvar BubbleLayer =\n/** @class */\nfunction (_super) {\n  __extends(BubbleLayer, _super);\n\n  function BubbleLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bubble';\n    return _this;\n  }\n\n  BubbleLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      pointSize: [8, 58],\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 1,\n        opacity: 0.5\n      },\n      label: {\n        position: 'middle'\n      }\n    });\n  };\n\n  BubbleLayer.prototype.legend = function () {\n    var _a;\n\n    _super.prototype.legend.call(this);\n    /** 取消气泡大小图例 */\n\n\n    this.setConfig('legends', {\n      fields: (_a = {}, _a[this.options.sizeField] = false, _a)\n    });\n  };\n\n  BubbleLayer.prototype.parseEvents = function () {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return BubbleLayer;\n}(ScatterLayer);\n\nexport default BubbleLayer;\nregisterPlotType('bubble', BubbleLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BubbleLayer from './layer';\n\nvar Bubble =\n/** @class */\nfunction (_super) {\n  __extends(Bubble, _super);\n\n  function Bubble() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bubble.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bubble';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bubble.getDefaultOptions = BubbleLayer.getDefaultOptions;\n  return Bubble;\n}(BasePlot);\n\nexport default Bubble;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ScatterLayer from './layer';\n\nvar Scatter =\n/** @class */\nfunction (_super) {\n  __extends(Scatter, _super);\n\n  function Scatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Scatter.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'scatter';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Scatter.getDefaultOptions = ScatterLayer.getDefaultOptions;\n  return Scatter;\n}(BasePlot);\n\nexport default Scatter;","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseColumnLayer from '../column/layer';\n\nvar GroupColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(GroupColumnLayer, _super);\n\n  function GroupColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'groupColumn';\n    return _this;\n  }\n\n  GroupColumnLayer.getDefaultOptions = function () {\n    return deepMix({}, _super.getDefaultOptions.call(this), {\n      yAxis: {\n        title: {\n          visible: true\n        }\n      }\n    });\n  };\n\n  GroupColumnLayer.prototype.getResponsiveTheme = function () {\n    return this.themeController.getResponsiveTheme('column');\n  };\n\n  GroupColumnLayer.prototype.addGeometry = function () {\n    _super.prototype.addGeometry.call(this);\n  };\n\n  GroupColumnLayer.prototype.adjustColumn = function (column) {\n    column.adjust = [{\n      type: 'dodge',\n      marginRatio: 0.1\n    }];\n  };\n\n  return GroupColumnLayer;\n}(BaseColumnLayer);\n\nexport default GroupColumnLayer;\nregisterPlotType('groupColumn', GroupColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GroupColumnLayer from './layer';\n\nvar GroupColumn =\n/** @class */\nfunction (_super) {\n  __extends(GroupColumn, _super);\n\n  function GroupColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'groupColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  GroupColumn.getDefaultOptions = GroupColumnLayer.getDefaultOptions;\n  return GroupColumn;\n}(BasePlot);\n\nexport default GroupColumn;","/**\n * 区域连接组件，用于堆叠柱状图和堆叠条形图\n */\nimport { Shapes, Rect } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { compare } from '../base/controller/state';\n\nfunction parsePoints(shape) {\n  var parsedPoints = [];\n  var coord = shape.get('coord');\n  var points = shape.get('origin').points;\n\n  _.each(points, function (p) {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n\n  return parsedPoints;\n}\n\nfunction getDefaultStyle() {\n  return {\n    areaStyle: {\n      opacity: 0.2\n    },\n    lineStyle: {\n      lineWidth: 2,\n      opacity: 0.1\n    }\n  };\n}\n\nvar ConnectedArea =\n/** @class */\nfunction () {\n  function ConnectedArea(cfg) {\n    this.areas = [];\n    this.lines = [];\n    this._areaStyle = {};\n    this._lineStyle = {};\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  ConnectedArea.prototype.draw = function () {\n    var _this = this;\n\n    var groupedShapes = this._getGroupedShapes();\n\n    _.each(groupedShapes, function (shapes, name) {\n      if (shapes.length > 0) {\n        _this._drawConnection(shapes, name);\n      }\n    });\n\n    if (this.triggerOn) {\n      this._addInteraction();\n    } else if (this.animation) {\n      // 如果定义了triggerOn的方式，则组件是响应交互的，初始化为不可见状态，因此无需动画\n      this._initialAnimation();\n    }\n  };\n\n  ConnectedArea.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n\n    this.areas = [];\n    this.lines = [];\n  };\n\n  ConnectedArea.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  ConnectedArea.prototype.setState = function (state, condition) {\n    if (state === 'active') {\n      this._onActive(condition);\n    }\n\n    if (state === 'disabled') {\n      this._onDisabled(condition);\n    }\n\n    if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  };\n\n  ConnectedArea.prototype._init = function () {\n    var _this = this;\n\n    var layer = this.view.get('backgroundGroup');\n    this.container = layer.addGroup();\n    var panelRange = this.view.get('panelRange');\n    var clipShape = new Rect({\n      attrs: {\n        width: panelRange.width,\n        height: panelRange.height,\n        x: panelRange.minX,\n        y: panelRange.minY\n      }\n    });\n    this.container.attr('clip', clipShape);\n    this.draw();\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n  };\n\n  ConnectedArea.prototype._getGroupedShapes = function () {\n    var _this = this; // 根据堆叠字段对shape进行分组\n\n\n    var values = this.view.get('scales')[this.field].values;\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes(); // 创建分组\n\n    var groups = {};\n\n    _.each(values, function (v) {\n      groups[v] = [];\n    }); // 执行分组\n\n\n    _.each(shapes, function (shape) {\n      var origin = shape.get('origin')._origin;\n\n      var key = origin[_this.field];\n      groups[key].push(shape);\n    });\n\n    return groups;\n  };\n\n  ConnectedArea.prototype._drawConnection = function (shapes, name) {\n    // tslint:disable-next-line: prefer-for-of\n    var originColor = shapes[0].attr('fill');\n    this._areaStyle[name] = this._getShapeStyle(originColor, 'area');\n    this._lineStyle[name] = this._getShapeStyle(originColor, 'line');\n\n    for (var i = 0; i < shapes.length - 1; i++) {\n      var current = parsePoints(shapes[i]);\n      var next = parsePoints(shapes[i + 1]);\n\n      var areaStyle = _.mix({}, this._areaStyle[name]);\n\n      var lineStyle = _.mix({}, this._lineStyle[name]);\n\n      if (this.triggerOn) {\n        areaStyle.opacity = 0;\n        lineStyle.opacity = 0;\n      }\n\n      var area = this.container.addShape('path', {\n        attrs: _.mix({}, areaStyle, {\n          path: [['M', current[2].x, current[2].y], ['L', next[1].x, next[1].y], ['L', next[0].x, next[0].y], ['L', current[3].x, current[3].y]]\n        }),\n        name: 'connectedArea'\n      });\n      var line = this.container.addShape('path', {\n        attrs: _.mix({}, lineStyle, {\n          path: [['M', current[2].x, current[2].y], ['L', next[1].x, next[1].y]]\n        }),\n        name: 'connectedArea'\n      }); // 在辅助图形上记录数据，用以交互和响应状态量\n\n      var originData = shapes[i].get('origin')._origin;\n\n      area.set('data', originData);\n      line.set('data', originData);\n      this.areas.push(area);\n      this.lines.push(line);\n    }\n  };\n\n  ConnectedArea.prototype._getShapeStyle = function (originColor, shapeType) {\n    var styleName = shapeType + \"Style\"; // 如果用户自己指定了样式，则不采用默认颜色映射\n\n    if (this[styleName]) {\n      return this[styleName];\n    }\n\n    var defaultStyle = getDefaultStyle()[styleName];\n    var mappedStyle = {\n      fill: originColor\n    };\n\n    if (shapeType === 'line') {\n      mappedStyle = {\n        stroke: originColor\n      };\n    }\n\n    return _.mix(defaultStyle, mappedStyle);\n  };\n\n  ConnectedArea.prototype._addInteraction = function () {\n    var _this = this;\n\n    var eventName = this.triggerOn;\n    this.view.on(\"interval:\" + eventName, function (e) {\n      var origin = e.target.get('origin')._origin[_this.field];\n\n      _this.setState('active', {\n        name: _this.field,\n        exp: origin\n      });\n\n      _this.setState('disabled', {\n        name: _this.field,\n        exp: function exp(d) {\n          return d !== origin;\n        }\n      });\n\n      _this.view.get('canvas').draw();\n    }); // 当鼠标移动到其他区域时取消显示\n\n    this.view.on('mousemove', function (e) {\n      if (e.target.name !== 'interval') {\n        _this.setState('disabled', {\n          name: _this.field,\n          exp: function exp() {\n            return true;\n          }\n        });\n      }\n    });\n  };\n\n  ConnectedArea.prototype._initialAnimation = function () {\n    // clipIn动画\n    var _a = this.view.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height;\n\n    var clipRect = new Shapes.Rect({\n      attrs: {\n        x: start.x,\n        y: end.y,\n        width: 0,\n        height: height\n      }\n    });\n    this.container.attr('clip', clipRect);\n    this.container.setSilent('animating', true);\n    clipRect.animate({\n      width: width\n    }, 600, 'easeQuadOut', function () {}, 400);\n  };\n\n  ConnectedArea.prototype._onActive = function (condition) {\n    var _this = this;\n\n    _.each(this.areas, function (area) {\n      var shapeData = area.get('data');\n      var styleField = shapeData[_this.field];\n\n      if (compare(shapeData, condition)) {\n        var opacity = _this._areaStyle[styleField].opacity || 1; // area.attr('opacity',this._areaStyle[styleField].opacity || 1);\n\n        area.stopAnimate();\n        area.animate({\n          opacity: opacity\n        }, 400, 'easeQuadOut');\n      }\n    });\n\n    _.each(this.lines, function (line) {\n      var shapeData = line.get('data');\n      var styleField = shapeData[_this.field];\n\n      if (compare(shapeData, condition)) {\n        var opacity = _this._lineStyle[styleField].opacity || 1; // line.attr('opacity',this._lineStyle[styleField].opacity || 1);\n\n        line.stopAnimate();\n        line.animate({\n          opacity: opacity\n        }, 400, 'easeQuadOut');\n      }\n    });\n  };\n\n  ConnectedArea.prototype._onDisabled = function (condition) {\n    _.each(this.areas, function (area) {\n      var shapeData = area.get('data');\n\n      if (compare(shapeData, condition)) {\n        // area.attr('opacity',0);\n        area.stopAnimate();\n        area.animate({\n          opacity: 0\n        }, 400, 'easeQuadOut');\n      }\n    });\n\n    _.each(this.lines, function (line) {\n      var shapeData = line.get('data');\n\n      if (compare(shapeData, condition)) {\n        // line.attr('opacity',0);\n        line.stopAnimate();\n        line.animate({\n          opacity: 0\n        }, 400, 'easeQuadOut');\n      }\n    });\n  };\n\n  ConnectedArea.prototype._onSelected = function (condition) {\n    this._onActive(condition);\n  };\n\n  return ConnectedArea;\n}();\n\nexport default ConnectedArea;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\n\nvar StackColumnLabels =\n/** @class */\nfunction (_super) {\n  __extends(StackColumnLabels, _super);\n\n  function StackColumnLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackColumnLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.height <= labelRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return StackColumnLabels;\n}(ColumnLabels);\n\nregisterElementLabels('stackColumnLabel', StackColumnLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ConnectedArea from '../../components/connected-area';\nimport { getComponent } from '../../components/factory';\nimport BaseColumnLayer from '../column/layer';\nimport './component/label/stack-column-label';\n\nvar StackColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackColumnLayer, _super);\n\n  function StackColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackColum';\n    return _this;\n  }\n\n  StackColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      legend: {\n        visible: true,\n        position: 'right-top'\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter'\n      }\n    });\n  };\n\n  StackColumnLayer.prototype.init = function () {\n    if (this.options.connectedArea.visible) {\n      this.options.tooltip.crosshairs = null;\n    }\n\n    _super.prototype.init.call(this);\n  };\n\n  StackColumnLayer.prototype.afterRender = function () {\n    var props = this.options; // 绘制区域连接组件\n\n    if (props.connectedArea.visible) {\n      this.connectedArea = new ConnectedArea(__assign({\n        view: this.view,\n        field: props.stackField,\n        animation: props.animation === false ? false : true\n      }, props.connectedArea));\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  StackColumnLayer.prototype.adjustColumn = function (column) {\n    column.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackColumnLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'stackColumnLabel',\n      fields: [props.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  return StackColumnLayer;\n}(BaseColumnLayer);\n\nexport default StackColumnLayer;\nregisterPlotType('stackColumn', StackColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackColumnLayer from './layer';\n\nvar StackColumn =\n/** @class */\nfunction (_super) {\n  __extends(StackColumn, _super);\n\n  function StackColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackColumn.getDefaultOptions = StackColumnLayer.getDefaultOptions;\n  return StackColumn;\n}(BasePlot);\n\nexport default StackColumn;","import { __assign } from \"tslib\";\nimport { groupBy, mapValues, map, flatten, isNumber, reduce, each } from '@antv/util';\nexport var transformDataPercentage = function transformDataPercentage(data, groupField, measures) {\n  // 按照groupBy字段计算各个group的总和\n  var chain = groupBy(data, groupField);\n  chain = mapValues(chain, function (items) {\n    return map(items, function (item) {\n      return map(measures, function (field) {\n        return item[field];\n      });\n    });\n  });\n  chain = mapValues(chain, flatten);\n  chain = mapValues(chain, function (vals) {\n    return map(vals, function (val) {\n      // @ts-ignore\n      var v = Number.parseFloat(val);\n\n      if (!isNumber(v) || isNaN(v)) {\n        return 0;\n      }\n\n      return v;\n    });\n  }); // @ts-ignore\n\n  var groupTotals = mapValues(chain, function (vals) {\n    return reduce(vals, function (sum, val) {\n      return sum + val;\n    }, 0);\n  }); // 覆盖measures字段的值为对于的百分比\n\n  var newData = map(data, function (item) {\n    var rst = __assign(__assign({}, item), {\n      _origin: item,\n      total: groupTotals[item[groupField]]\n    });\n\n    each(measures, function (field) {\n      // @ts-ignore\n      rst[field] = item[field] / groupTotals[item[groupField]];\n    });\n    return rst;\n  }); // 检查精度，确保总和为1\n\n  each(groupBy(newData, groupField), function (items) {\n    var sum = 0;\n    each(items, function (item, itemIdx) {\n      each(measures, function (field, fieldIdx) {\n        // @ts-ignore\n        if (sum + item[field] >= 1 || itemIdx === items.length - 1 && fieldIdx === measures.length - 1) {\n          item[field] = 1 - sum;\n        } // @ts-ignore\n\n\n        sum += item[field];\n      });\n    });\n  }); // @ts-ignore\n\n  return newData;\n};","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackColumn from '../stack-column/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackColumnLayer, _super);\n\n  function PercentageStackColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackColumn';\n    return _this;\n  }\n\n  PercentageStackColumnLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      label: {\n        visible: true,\n        position: 'middle',\n        offset: 0\n      },\n      yAxis: {\n        visible: true,\n        tick: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        },\n        title: {\n          visible: true\n        },\n        label: {\n          visible: false\n        }\n      }\n    });\n  };\n\n  PercentageStackColumnLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    return transformDataPercentage(originData || [], xField, [yField]);\n  };\n\n  PercentageStackColumnLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var yField = this.options.yField;\n    metaConfig[yField] = {\n      tickCount: 6,\n      alias: yField + \" (%)\",\n      min: 0,\n      max: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = metaConfig;\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackColumnLayer;\n}(StackColumn);\n\nexport default PercentageStackColumnLayer;\nregisterPlotType('percentageStackColumn', PercentageStackColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackColumnLayer from './layer';\n\nvar PercentageStackColumn =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackColumn, _super);\n\n  function PercentageStackColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackColumn.getDefaultOptions = PercentageStackColumnLayer.getDefaultOptions;\n  return PercentageStackColumn;\n}(BasePlot);\n\nexport default PercentageStackColumn;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { sturges } from '../../util/math';\nimport Column from '../column/layer';\n\nvar HistogramLayer =\n/** @class */\nfunction (_super) {\n  __extends(HistogramLayer, _super);\n\n  function HistogramLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'histogram';\n    return _this;\n  }\n\n  HistogramLayer.prototype.init = function () {\n    this.options.xField = 'range';\n    this.options.yField = 'count';\n\n    _super.prototype.init.call(this);\n  };\n\n  HistogramLayer.prototype.processData = function (originData) {\n    var _this = this;\n\n    var _a = this.options,\n        binField = _a.binField,\n        binWidth = _a.binWidth,\n        binNumber = _a.binNumber;\n\n    var originData_copy = _.clone(originData); // 根据binField value对源数据进行排序\n\n\n    _.sortBy(originData_copy, binField); // 获取源数据binField values的range\n\n\n    var values = _.valuesOfKey(originData_copy, binField);\n\n    var range = _.getRange(values);\n\n    var rangeWidth = range.max - range.min; // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n\n    var _binWidth = binWidth;\n\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    } // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n\n\n    if (!binWidth && !binNumber) {\n      var _defaultBinNumber = sturges(values);\n\n      _binWidth = rangeWidth / _defaultBinNumber;\n    }\n\n    var bins = {};\n\n    _.each(originData_copy, function (data) {\n      var value = data[binField];\n\n      var bin = _this.getBin(value, _binWidth);\n\n      var binName = bin[0] + \"-\" + bin[1];\n\n      if (!_.hasKey(bins, binName)) {\n        bins[binName] = {\n          name: binName,\n          range: bin,\n          count: 0,\n          data: []\n        };\n      }\n\n      bins[binName].data.push(data);\n      bins[binName].count += 1;\n    }); // 将分箱数据转换为plotData\n\n\n    var plotData = [];\n\n    _.each(bins, function (bin) {\n      plotData.push(bin);\n    });\n\n    return plotData;\n  };\n\n  HistogramLayer.prototype.scale = function () {\n    _super.prototype.scale.call(this); // fixme: 类型定义\n\n\n    var range = this.config.scales.range;\n    range.nice = false;\n    range.type = 'linear';\n  };\n\n  HistogramLayer.prototype.getBin = function (value, binWidth) {\n    var index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n  };\n\n  return HistogramLayer;\n}(Column);\n\nexport default HistogramLayer;\nregisterPlotType('histogram', HistogramLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport HistogramLayer from './layer';\n\nvar Histogram =\n/** @class */\nfunction (_super) {\n  __extends(Histogram, _super);\n\n  function Histogram() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Histogram.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'histogram';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Histogram.getDefaultOptions = HistogramLayer.getDefaultOptions;\n  return Histogram;\n}(BasePlot);\n\nexport default Histogram;","import responsiveAxis from './axis';\nvar preRenderResponsive = [];\nvar afterRenderResponsive = [{\n  name: 'responsiveAxis',\n  method: responsiveAxis\n}];\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive\n};","import ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nexport default function responsiveAxis(layer) {\n  var responsiveTheme = layer.getResponsiveTheme();\n  var canvas = layer.canvas; // x-axis\n\n  var x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'x'\n  }); // y-axis\n\n  var y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme: responsiveTheme,\n    dim: 'y'\n  });\n  canvas.draw();\n}","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nvar RIGHT_MARGIN = 20;\n\nvar BarLabels =\n/** @class */\nfunction (_super) {\n  __extends(BarLabels, _super);\n\n  function BarLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // TODO: 先实现功能，待抽象  position这里去掉在条形图场景下不必要的逻辑，位置计算调整\n\n\n  BarLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n    var position = originPosition;\n\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n\n    var coord = this.get('coord');\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var negative = point0.x > point1.x;\n    var width = (point0.x - point1.x) / 2 * -1;\n    var height = (point0.y - point1.y) / 2 * -1;\n\n    switch (position) {\n      case 'bottom':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'top':\n        point.x -= width;\n        point.y -= height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n\n      case 'middle':\n        point.x -= width;\n        point.textAlign = point.textAlign || 'center';\n        break;\n\n      case 'right':\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n\n      default:\n        break;\n    }\n  }; // 针对负数值的label调整\n\n\n  BarLabels.prototype.adjustOffset = function (points, shapes) {\n    var renderer = this.get('labelsRenderer');\n    var items = renderer.get('items');\n    var labels = renderer.get('group').get('children');\n    var coord = this.get('coord');\n\n    _.each(items, function (item, idx) {\n      var label = labels[idx];\n      var point0 = coord.convertPoint(points[idx].points[0]);\n      var point1 = coord.convertPoint(points[idx].points[2]);\n      var negative = point0.x > point1.x;\n\n      if (negative && item.offset) {\n        item.x -= item.offset * 2;\n        label.attr('x', label.attr('x') - item.offset * 2);\n      }\n    });\n  };\n\n  BarLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    this.adjustOffset(points, shapes);\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    var _a = this.get('labelOptions'),\n        adjustColor = _a.adjustColor,\n        adjustPosition = _a.adjustPosition;\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape, item);\n      }\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  BarLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  BarLabels.prototype.adjustPosition = function (label, shape, item) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.width <= labelRange.width && item.position !== 'right') {\n      var xPosition = shapeRange.maxX + RIGHT_MARGIN;\n      label.attr('x', xPosition);\n    }\n  };\n\n  BarLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minX >= shapeRange.minX && labelRange.maxX <= shapeRange.maxX) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n\n      var reflect = this._mappingColor(colorBand, gray);\n\n      label.attr('fill', reflect);\n\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      var theme = this.get('theme');\n\n      var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n      label.attr('fill', labelTextColor);\n    }\n  };\n\n  BarLabels.prototype._mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  return BarLabels;\n}(ElementLabels);\n\nexport { BarLabels };\nregisterElementLabels('barLabel', BarLabels);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onBarClick: 'interval:click',\n  onBarDblclick: 'interval:dblclick',\n  onBarMousemove: 'interval:mousemove',\n  onBarMouseenter: 'interval:mouseenter',\n  onBarMouseleave: 'interval:mouseleave',\n  onBarMousedown: 'interval:mousedown',\n  onBarMouseup: 'interval:mouseup',\n  onBarContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar BAR_ACTIVE_STYLE = function BAR_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar BAR_DISABLE_STYLE = function BAR_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('bar', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport ConversionTag from '../../components/conversion-tag';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './component/label/bar-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  bar: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'bar'\n};\n\nvar BaseBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(BaseBarLayer, _super);\n\n  function BaseBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bar';\n    return _this;\n  }\n\n  BaseBarLayer.getDefaultOptions = function () {\n    var cfg = {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false\n        },\n        title: {\n          visible: true\n        },\n        label: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      },\n      label: {\n        visible: true,\n        position: 'left',\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      },\n      conversionTag: {\n        visible: false\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  BaseBarLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    var props = this.options;\n    /** 响应式图形 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  BaseBarLayer.prototype.afterRender = function () {\n    var props = this.options;\n    /** 响应式 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n\n    if (props.conversionTag.visible) {\n      this.conversionTag = new ConversionTag(__assign({\n        view: this.view,\n        field: props.xField,\n        animation: props.animation === false ? false : true\n      }, props.conversionTag));\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  BaseBarLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BaseBarLayer.prototype.processData = function (originData) {\n    var inputData = originData ? originData.slice().reverse() : originData;\n    var yField = this.options.yField;\n    var processedData = [];\n\n    _.each(inputData, function (data) {\n      var d = _.clone(data);\n\n      d[yField] = d[yField].toString();\n      processedData.push(d);\n    });\n\n    return processedData;\n  };\n\n  BaseBarLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.yField] = {\n      type: 'cat'\n    };\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BaseBarLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  BaseBarLayer.prototype.adjustBar = function (bar) {\n    return;\n  };\n\n  BaseBarLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n\n    if (props.conversionTag.visible) {\n      bar.widthRatio.column = 1 / 3;\n    }\n\n    if (props.label) {\n      bar.label = this.extractLabel();\n    }\n\n    this.adjustBar(bar);\n    this.bar = bar;\n    this.setConfig('element', bar);\n  };\n\n  BaseBarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.bar.animate = false;\n    }\n  };\n\n  BaseBarLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n\n    var label = _.deepMix({}, defaultOptions, this.options.label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'barLabel',\n      fields: [props.xField]\n    }, label));\n    return labelConfig;\n  };\n\n  BaseBarLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BaseBarLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  BaseBarLayer.prototype.getLabelOptionsByPosition = function (position) {\n    if (position === 'middle') {\n      return {\n        offset: 0\n      };\n    }\n\n    if (position === 'left') {\n      return {\n        offset: 7,\n        style: {\n          stroke: null,\n          lineWidth: 0\n        }\n      };\n    }\n\n    if (position === 'right') {\n      return {\n        offset: 4\n      };\n    }\n  };\n\n  return BaseBarLayer;\n}(ViewLayer);\n\nexport default BaseBarLayer;\nregisterPlotType('bar', BaseBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BarLayer from './layer';\n\nvar Bar =\n/** @class */\nfunction (_super) {\n  __extends(Bar, _super);\n\n  function Bar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bar.getDefaultOptions = BarLayer.getDefaultOptions;\n  return Bar;\n}(BasePlot);\n\nexport default Bar;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { BarLabels } from '../../../bar/component/label/bar-label';\n\nvar StackBarLabels =\n/** @class */\nfunction (_super) {\n  __extends(StackBarLabels, _super);\n\n  function StackBarLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBarLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (shapeRange.width <= labelRange.width) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return StackBarLabels;\n}(BarLabels);\n\nregisterElementLabels('stackBarLabel', StackBarLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getComponent } from '../../components/factory';\nimport BaseBarLayer from '../bar/layer';\nimport './component/label/stack-bar-label';\n\nvar StackBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackBarLayer, _super);\n\n  function StackBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackBar';\n    return _this;\n  }\n\n  StackBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      }\n    });\n  };\n\n  StackBarLayer.prototype.adjustBar = function (bar) {\n    bar.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackBarLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'stackBarLabel',\n      fields: [props.xField]\n    }, label));\n    return labelConfig;\n  };\n\n  return StackBarLayer;\n}(BaseBarLayer);\n\nexport default StackBarLayer;\nregisterPlotType('stackBar', StackBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackBarLayer from './layer';\n\nvar StackBar =\n/** @class */\nfunction (_super) {\n  __extends(StackBar, _super);\n\n  function StackBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackBar.getDefaultOptions = StackBarLayer.getDefaultOptions;\n  return StackBar;\n}(BasePlot);\n\nexport default StackBar;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackBar from '../stack-bar/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackBarLayer, _super);\n\n  function PercentageStackBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackBar';\n    return _this;\n  }\n\n  PercentageStackBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: false\n        },\n        title: {\n          visible: true,\n          formatter: function formatter(v) {\n            return v + \" (%)\";\n          }\n        },\n        label: {\n          visible: false,\n          formatter: function formatter(v) {\n            var reg = /%/gi;\n            return v.replace(reg, '');\n          }\n        }\n      }\n    });\n  };\n\n  PercentageStackBarLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n\n    var processData = _super.prototype.processData.call(this, originData);\n\n    return transformDataPercentage(processData, yField, [xField]);\n  };\n\n  PercentageStackBarLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var xField = this.options.xField;\n    metaConfig[xField] = {\n      tickCount: 6,\n      alias: xField + \" (%)\",\n      min: 0,\n      max: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = metaConfig;\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackBarLayer;\n}(StackBar);\n\nexport default PercentageStackBarLayer;\nregisterPlotType('percentageStackBar', PercentageStackBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackBarLayer from './layer';\n\nvar PercentageStackBar =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackBar, _super);\n\n  function PercentageStackBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackBar.getDefaultOptions = PercentageStackBarLayer.getDefaultOptions;\n  return PercentageStackBar;\n}(BasePlot);\n\nexport default PercentageStackBar;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseBarLayer from '../bar/layer';\n\nvar GroupBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(GroupBarLayer, _super);\n\n  function GroupBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'groupBar';\n    return _this;\n  }\n\n  GroupBarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: true\n        }\n      },\n      yAxis: {\n        visible: true,\n        title: {\n          visible: false\n        }\n      },\n      label: {\n        visible: true,\n        position: 'right',\n        offset: 8,\n        adjustColor: true\n      },\n      legend: {\n        visible: true,\n        position: 'right-top'\n      }\n    });\n  };\n\n  GroupBarLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var names = _.valuesOfKey(this.options.data, this.options.groupField);\n\n    this.view.on('tooltip:change', function (e) {\n      var items = e.items;\n\n      var origin_items = _.clone(items);\n\n      for (var i = 0; i < names.length; i++) {\n        var name_1 = names[i];\n\n        for (var j = 0; j < origin_items.length; j++) {\n          var item = origin_items[j];\n\n          if (item.name === name_1) {\n            e.items[i] = item;\n          }\n        }\n      }\n    });\n  };\n\n  GroupBarLayer.prototype.scale = function () {\n    var defaultMeta = {};\n    defaultMeta[this.options.groupField] = {\n      values: _.valuesOfKey(this.options.data, this.options.groupField)\n    };\n\n    if (!this.options.meta) {\n      this.options.meta = defaultMeta;\n    } else {\n      this.options.meta = _.deepMix({}, this.options.meta, defaultMeta);\n    }\n\n    _super.prototype.scale.call(this);\n  };\n\n  GroupBarLayer.prototype.adjustBar = function (bar) {\n    bar.adjust = [{\n      type: 'dodge',\n      marginRatio: 0.1\n    }];\n  };\n\n  return GroupBarLayer;\n}(BaseBarLayer);\n\nexport default GroupBarLayer;\nregisterPlotType('groupBar', GroupBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GroupBarLayer from './layer';\n\nvar GroupBar =\n/** @class */\nfunction (_super) {\n  __extends(GroupBar, _super);\n\n  function GroupBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'groupBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  GroupBar.getDefaultOptions = GroupBarLayer.getDefaultOptions;\n  return GroupBar;\n}(BasePlot);\n\nexport default GroupBar;","import { each, deepMix, clone } from '@antv/util';\nimport { rgb2arr } from '../../../util/color';\nvar DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  var reflect;\n  each(band, function (b) {\n    var map = b;\n\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nvar RangeBarLabel =\n/** @class */\nfunction () {\n  function RangeBarLabel(cfg) {\n    this.destroyed = false;\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    var defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n\n    if (!this.options.leftStyle) {\n      this.options.leftStyle = this.options.style;\n    }\n\n    if (!this.options.rightStyle) {\n      this.options.rightStyle = this.options.style;\n    }\n\n    this.init();\n  }\n\n  RangeBarLabel.prototype.init = function () {\n    var _this = this;\n\n    var geomContainer = this.view.get('elements')[0].get('container');\n    this.container = geomContainer.addGroup();\n    this.view.on('beforerender', function () {\n      _this.clear();\n\n      _this.plot.canvas.draw();\n    });\n  };\n\n  RangeBarLabel.prototype.render = function () {\n    var _this = this;\n\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes();\n    each(shapes, function (shape) {\n      var positions = _this.getPosition(shape);\n\n      var values = _this.getValue(shape);\n\n      var textAlign = _this.getTextAlign();\n\n      var labels = [];\n      each(positions, function (pos, i) {\n        var style = i === 0 ? _this.options.leftStyle : _this.options.rightStyle;\n\n        var color = _this.getTextColor(shape, i);\n\n        if (_this.options.position === 'inner' && _this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n\n        var formatter = _this.options.formatter;\n        var content = formatter ? formatter(values[i]) : values[i];\n\n        var label = _this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: textAlign[i],\n            textBaseline: 'middle'\n          })\n        });\n\n        labels.push(label);\n\n        _this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n\n      _this.adjustPosition(labels[0], labels[1], shape);\n    });\n    var labelCtr = geometry.get('labelController');\n    labelCtr.labelsContainer = this.container;\n    this.plot.canvas.draw();\n  };\n\n  RangeBarLabel.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  };\n\n  RangeBarLabel.prototype.show = function () {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  };\n\n  RangeBarLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  RangeBarLabel.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  RangeBarLabel.prototype.getBBox = function () {};\n\n  RangeBarLabel.prototype.getDefaultOptions = function () {\n    var theme = this.plot.theme;\n    var labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true\n    };\n  };\n\n  RangeBarLabel.prototype.getPosition = function (shape) {\n    var origin = shape.get('origin');\n    var minX = origin.x[0];\n    var maxX = origin.x[1];\n    var _a = this.options,\n        offsetX = _a.offsetX,\n        offsetY = _a.offsetY;\n    var y = origin.y[0];\n    var x1, x2;\n\n    if (this.options.position === 'outer') {\n      x1 = minX - offsetX;\n      x2 = maxX + offsetX;\n    } else {\n      x1 = minX + offsetX;\n      x2 = maxX - offsetX;\n    }\n\n    return [{\n      x: x1,\n      y: y\n    }, {\n      x: x2,\n      y: y\n    }];\n  };\n\n  RangeBarLabel.prototype.getValue = function (shape) {\n    var xField = this.plot.options.xField;\n    return shape.get('origin')._origin[xField];\n  };\n\n  RangeBarLabel.prototype.getTextAlign = function () {\n    if (this.options.position === 'outer') {\n      return ['right', 'left'];\n    } else {\n      return ['left', 'right'];\n    }\n  };\n\n  RangeBarLabel.prototype.getTextColor = function (shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n      var reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n\n    var defaultColor = index === 0 ? this.options.leftStyle.fill : this.options.rightStyle.fill;\n    return defaultColor;\n  };\n\n  RangeBarLabel.prototype.doAnimation = function (label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate({\n      fillOpacity: 1,\n      strokeOpacity: 1\n    }, 800, 'easeLinear', 500);\n  };\n\n  RangeBarLabel.prototype.adjustPosition = function (la, lb, shape) {\n    var origin = shape.get('origin');\n    var shapeMinX = origin.x[0];\n    var shapeMaxX = origin.x[1];\n    var shapeWidth = Math.abs(shapeMaxX - shapeMinX);\n    var panelRange = this.view.get('panelRange');\n    var boxes = [la.getBBox(), lb.getBBox()];\n    var ax = la.attr('x');\n    var bx = lb.attr('x');\n\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      var totalLength = boxes[0].width + boxes[1].width;\n      var isOverlap = boxes[0].maxX - boxes[1].minX > 2;\n      var isTooShort = totalLength > shapeWidth;\n\n      if (isOverlap || isTooShort) {\n        ax = shapeMinX - this.options.offsetX;\n        la.attr('fill', this.options.leftStyle.fill);\n        la.attr('textAlign', 'right');\n        boxes[0] = la.getBBox();\n        bx = shapeMaxX + this.options.offsetX;\n        lb.attr('fill', this.options.rightStyle.fill);\n        lb.attr('textAlign', 'left');\n        boxes[1] = lb.getBBox();\n      }\n    }\n\n    if (boxes[0].minX < panelRange.minX) {\n      ax = panelRange.minX + DEFAULT_OFFSET;\n      la.attr('textAlign', 'left');\n    }\n\n    la.attr('x', ax);\n    lb.attr('x', bx);\n    this.plot.canvas.draw();\n  };\n\n  return RangeBarLabel;\n}();\n\nexport default RangeBarLabel;","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util'; // 记录之前的状态\n\nvar shapeCache;\n\nfunction clipInFromCenter(shape, animateCfg) {\n  var bbox = shape.getBBox();\n  var centerX = bbox.minX + bbox.width / 2;\n  var cliper = new G.Rect({\n    attrs: {\n      x: centerX,\n      y: bbox.minY,\n      width: 0,\n      height: bbox.height\n    }\n  });\n  shape.attr('clip', cliper);\n  cliper.animate({\n    width: bbox.width,\n    x: bbox.minX\n  }, animateCfg.duration, animateCfg.easing, function () {\n    shape.attr('clip', null);\n  }, animateCfg.delay);\n}\n\nclipInFromCenter.animationName = 'clipInFromCenter';\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenter(shape, animateCfg) {\n  var fromPath = getShapeFromCache(shape).attr('path');\n\n  var toPath = _.clone(shape.attr('path'));\n\n  shape.attr('path', fromPath);\n  shape.animate({\n    path: toPath\n  }, animateCfg.duration, animateCfg.easing, animateCfg.callback, 100);\n}\n\nfunction getShapeFromCache(shape) {\n  var id = shape.id;\n  var target;\n\n  _.each(shapeCache, function (s) {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n\n  return target;\n}\n\nupdateFromCenter.animationName = 'updateFromCenter';\nAnimate.registerAnimation('appear', 'clipInFromCenter', clipInFromCenter);\nAnimate.registerAnimation('update', 'updateFromCenter', updateFromCenter);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseBarLayer from '../bar/layer';\nimport RangeBarLabel from './component/label';\nimport { setShapeCache } from './animation';\n\nvar RangeBarLayer =\n/** @class */\nfunction (_super) {\n  __extends(RangeBarLayer, _super);\n\n  function RangeBarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'rangeBar';\n    return _this;\n  }\n\n  RangeBarLayer.getDefaultOptions = function () {\n    return _.deepMix(_super.getDefaultOptions.call(this), {\n      label: {\n        visible: true,\n        position: 'outer'\n      },\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      }\n    }, {});\n  };\n\n  RangeBarLayer.prototype.afterRender = function () {\n    if (this.options.label && this.options.label.visible) {\n      var label = new RangeBarLabel(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.label));\n      label.render();\n    } // 为更新动画缓存shape\n\n\n    var shapeCaches = [];\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapes = geom.getShapes();\n\n      _.each(shapes, function (shape) {\n        shapeCaches.push(shape);\n      });\n    });\n\n    setShapeCache(shapeCaches);\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  RangeBarLayer.prototype.extractLabel = function () {};\n\n  RangeBarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    this.bar.animate = {\n      appear: {\n        animation: 'clipInFromCenter',\n        duration: 600\n      },\n      update: {\n        animation: 'updateFromCenter',\n        duration: 600\n      }\n    };\n  };\n\n  return RangeBarLayer;\n}(BaseBarLayer);\n\nexport default RangeBarLayer;\nregisterPlotType('rangeBar', RangeBarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RangeBarLayer from './layer';\n\nvar RangeBar =\n/** @class */\nfunction (_super) {\n  __extends(RangeBar, _super);\n\n  function RangeBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RangeBar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'rangeBar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  RangeBar.getDefaultOptions = RangeBarLayer.getDefaultOptions;\n  return RangeBar;\n}(BasePlot);\n\nexport default RangeBar;","import { each, deepMix, clone } from '@antv/util';\nimport { rgb2arr } from '../../../util/color';\nvar DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  var reflect;\n  each(band, function (b) {\n    var map = b;\n\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nvar RangeColumnLabel =\n/** @class */\nfunction () {\n  function RangeColumnLabel(cfg) {\n    this.destroyed = false;\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    var defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n\n    if (!this.options.topStyle) {\n      this.options.topStyle = this.options.style;\n    }\n\n    if (!this.options.bottomStyle) {\n      this.options.bottomStyle = this.options.style;\n    }\n\n    this.init();\n  }\n\n  RangeColumnLabel.prototype.init = function () {\n    var _this = this;\n\n    var geomContainer = this.view.get('elements')[0].get('container');\n    this.container = geomContainer.addGroup();\n    this.view.on('beforerender', function () {\n      _this.clear();\n\n      _this.plot.canvas.draw();\n    });\n  };\n\n  RangeColumnLabel.prototype.render = function () {\n    var _this = this;\n\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes();\n    each(shapes, function (shape) {\n      var positions = _this.getPosition(shape);\n\n      var values = _this.getValue(shape);\n\n      var textBaeline = _this.getTextBaseline();\n\n      var labels = [];\n      each(positions, function (pos, i) {\n        var style = i === 1 ? _this.options.topStyle : _this.options.bottomStyle;\n\n        var color = _this.getTextColor(shape, i);\n\n        if (_this.options.position === 'inner' && _this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n\n        var formatter = _this.options.formatter;\n        var content = formatter ? formatter(values[i]) : values[i];\n\n        var label = _this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: 'center',\n            textBaseline: textBaeline[i]\n          })\n        });\n\n        labels.push(label);\n\n        _this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n\n      _this.adjustPosition(labels[0], labels[1], shape);\n    });\n    var labelCtr = geometry.get('labelController');\n    labelCtr.labelsContainer = this.container;\n    this.plot.canvas.draw();\n  };\n\n  RangeColumnLabel.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  };\n\n  RangeColumnLabel.prototype.show = function () {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  };\n\n  RangeColumnLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  RangeColumnLabel.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  RangeColumnLabel.prototype.getBBox = function () {};\n\n  RangeColumnLabel.prototype.getDefaultOptions = function () {\n    var theme = this.plot.theme;\n    var labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: 0,\n      offsetY: DEFAULT_OFFSET,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true\n    };\n  };\n\n  RangeColumnLabel.prototype.getPosition = function (shape) {\n    var origin = shape.get('origin');\n    var minY = origin.y[1];\n    var maxY = origin.y[0];\n    var _a = this.options,\n        offsetX = _a.offsetX,\n        offsetY = _a.offsetY;\n    var x = origin.x;\n    var y1, y2;\n\n    if (this.options.position === 'outer') {\n      y1 = minY - offsetY;\n      y2 = maxY + offsetY;\n    } else {\n      y1 = minY + offsetY;\n      y2 = maxY - offsetY;\n    }\n\n    return [{\n      x: x,\n      y: y2\n    }, {\n      x: x,\n      y: y1\n    }];\n  };\n\n  RangeColumnLabel.prototype.getValue = function (shape) {\n    var yField = this.plot.options.yField;\n    return shape.get('origin')._origin[yField];\n  };\n\n  RangeColumnLabel.prototype.getTextBaseline = function () {\n    if (this.options.position === 'outer') {\n      return ['top', 'bottom'];\n    } else {\n      return ['bottom', 'top'];\n    }\n  };\n\n  RangeColumnLabel.prototype.getTextColor = function (shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n      var reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n\n    var defaultColor = index === 1 ? this.options.topStyle.fill : this.options.bottomStyle.fill;\n    return defaultColor;\n  };\n\n  RangeColumnLabel.prototype.doAnimation = function (label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate({\n      fillOpacity: 1,\n      strokeOpacity: 1\n    }, 800, 'easeLinear', 500);\n  };\n\n  RangeColumnLabel.prototype.adjustPosition = function (la, lb, shape) {\n    var origin = shape.get('origin');\n    var shapeMinY = origin.y[1];\n    var shapeMaxY = origin.y[0];\n    var shapeHeight = Math.abs(shapeMaxY - shapeMinY);\n    var panelRange = this.view.get('panelRange');\n    var boxes = [la.getBBox(), lb.getBBox()];\n    var ay = la.attr('y');\n    var by = lb.attr('y');\n\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      var totalLength = boxes[0].height + boxes[1].height;\n      var isOverlap = boxes[1].maxY - boxes[0].minY > 2;\n      var isTooShort = totalLength > shapeHeight;\n\n      if (isOverlap || isTooShort) {\n        by = shapeMinY - this.options.offsetY;\n        lb.attr('fill', this.options.topStyle.fill);\n        lb.attr('textBaseline', 'bottom');\n        ay = shapeMaxY + this.options.offsetY;\n        la.attr('fill', this.options.bottomStyle.fill);\n        la.attr('textBaseline', 'top');\n        boxes[0] = la.getBBox();\n        boxes[1] = lb.getBBox();\n      }\n    } // fixme: textBaseline 取不准bbox\n\n\n    if (boxes[0].maxY > panelRange.maxY - DEFAULT_OFFSET) {\n      ay = panelRange.maxY - DEFAULT_OFFSET / 2;\n      la.attr('textBaseline', 'bottom');\n    }\n\n    la.attr('y', ay);\n    lb.attr('y', by);\n    this.plot.canvas.draw();\n  };\n\n  return RangeColumnLabel;\n}();\n\nexport default RangeColumnLabel;","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util'; // 记录之前的状态\n\nvar shapeCache;\n\nfunction clipInFromCenterVertical(shape, animateCfg) {\n  var bbox = shape.getBBox();\n  var centerY = bbox.minY + bbox.height / 2;\n  var cliper = new G.Rect({\n    attrs: {\n      x: bbox.minX,\n      y: centerY,\n      width: bbox.width,\n      height: 0\n    }\n  });\n  shape.attr('clip', cliper);\n  cliper.animate({\n    height: bbox.height,\n    y: bbox.minY\n  }, animateCfg.duration, animateCfg.easing, function () {\n    shape.attr('clip', null);\n  }, animateCfg.delay);\n}\n\nclipInFromCenterVertical.animationName = 'clipInFromCenterVertical';\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenterVertical(shape, animateCfg) {\n  var fromPath = getShapeFromCache(shape).attr('path');\n\n  var toPath = _.clone(shape.attr('path'));\n\n  shape.attr('path', fromPath);\n  shape.animate({\n    path: toPath\n  }, animateCfg.duration, animateCfg.easing, animateCfg.callback, 100);\n}\n\nfunction getShapeFromCache(shape) {\n  var id = shape.id;\n  var target;\n\n  _.each(shapeCache, function (s) {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n\n  return target;\n}\n\nupdateFromCenterVertical.animationName = 'updateFromCenterVertical';\nAnimate.registerAnimation('appear', 'clipInFromCenterVertical', clipInFromCenterVertical);\nAnimate.registerAnimation('update', 'updateFromCenterVertical', updateFromCenterVertical);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport BaseColumnLayer from '../column/layer';\nimport RangeColumnLabel from './component/label';\nimport { setShapeCache } from './animation';\n\nvar RangeColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(RangeColumnLayer, _super);\n\n  function RangeColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'rangeColumn';\n    return _this;\n  }\n\n  RangeColumnLayer.getDefaultOptions = function () {\n    return _.deepMix(_super.getDefaultOptions.call(this), {\n      label: {\n        visible: true,\n        position: 'outer'\n      }\n    }, {});\n  };\n\n  RangeColumnLayer.prototype.afterRender = function () {\n    if (this.options.label && this.options.label.visible) {\n      var label = new RangeColumnLabel(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.label));\n      label.render();\n    } // 为更新动画缓存shape\n\n\n    var shapeCaches = [];\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapes = geom.getShapes();\n\n      _.each(shapes, function (shape) {\n        shapeCaches.push(shape);\n      });\n    });\n\n    setShapeCache(shapeCaches);\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  RangeColumnLayer.prototype.extractLabel = function () {};\n\n  RangeColumnLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    this.column.animate = {\n      appear: {\n        animation: 'clipInFromCenterVertical',\n        duration: 600\n      },\n      update: {\n        animation: 'updateFromCenterVertical',\n        duration: 600\n      }\n    };\n  };\n\n  return RangeColumnLayer;\n}(BaseColumnLayer);\n\nexport default RangeColumnLayer;\nregisterPlotType('rangeColumn', RangeColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RangeColumnLayer from './layer';\n\nvar RangeColumn =\n/** @class */\nfunction (_super) {\n  __extends(RangeColumn, _super);\n\n  function RangeColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RangeColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'rangeColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  RangeColumn.getDefaultOptions = RangeColumnLayer.getDefaultOptions;\n  return RangeColumn;\n}(BasePlot);\n\nexport default RangeColumn;","import { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar ANCHOR_OFFSET = 0; // 锚点偏移量\n\nvar INFLECTION_OFFSET = 15; // 拐点偏移量\n\nvar DEFAULT_COLOR = '#CCC';\nvar LABEL1_OFFSETY = 2;\nvar LABEL2_OFFSETY = -2;\nvar ADJUSTOFFSET = 15;\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nfunction getDefaultCfg() {\n  return {\n    text: {\n      fill: 'rgba(0, 0, 0, 0.65)',\n      fontSize: 12\n    },\n    lineWidth: 0.5,\n    lineStroke: 'rgba(0, 0, 0, 0.45)',\n\n    /** distance between label and edge */\n    sidePadding: 20,\n    lineHeight: 32\n  };\n}\n\nvar SpiderLabel =\n/** @class */\nfunction () {\n  function SpiderLabel(cfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.offsetX = cfg.offsetX;\n    this.offsetY = cfg.offsetY;\n    this.config = _.assign(getDefaultCfg(), _.pick(cfg.style, ['lineStroke', 'lineWidth']));\n\n    if (cfg.style) {\n      this.config.text = _.mix(this.config.text, cfg.style);\n    }\n\n    this._adjustConfig(this.config);\n\n    this._init();\n  }\n\n  SpiderLabel.prototype.draw = function () {\n    var _this = this;\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    /** 如果有formatter则事先处理数据 */\n\n\n    var data = _.clone(this.view.get('filteredData'));\n\n    this.halves = [[], []];\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    var shapes = this.view.get('elements')[0].getShapes();\n    var coord = this.view.get('coord');\n    var angleField = this.fields[0];\n    var scale = this.view.get('scales')[angleField];\n    var center = coord.center,\n        startAngle = coord.startAngle;\n    var radius = coord.getRadius();\n\n    var _a = this.view.get('panelRange'),\n        width = _a.width,\n        height = _a.height;\n\n    this.width = width;\n    this.height = height;\n    var angle = startAngle;\n\n    var _loop_1 = function _loop_1(idx) {\n      var d = data[idx]; // 计算每个切片的middle angle\n\n      var angleValue = scale.scale(d[angleField]);\n      var targetAngle = angle + Math.PI * 2 * angleValue;\n      var middleAngle = angle + (targetAngle - angle) / 2;\n      angle = targetAngle; // 根据middle angle计算锚点和拐点距离\n\n      var anchorPoint = getEndPoint(center, middleAngle, radius + ANCHOR_OFFSET);\n      var inflectionPoint = getEndPoint(center, middleAngle, radius + INFLECTION_OFFSET); // 获取对应shape的color\n\n      var color = DEFAULT_COLOR;\n\n      if (this_1.fields.length === 2) {\n        var colorField = this_1.fields[1];\n        var colorScale = this_1.view.get('scales')[colorField];\n        var colorIndex = colorScale.scale(d[colorField]);\n        var shapeIndex = Math.floor(colorIndex * (shapes.length - 1));\n        color = shapes[shapeIndex].attr('fill');\n      } // 组装label数据\n\n\n      var label = {\n        _anchor: anchorPoint,\n        _inflection: inflectionPoint,\n        _data: d,\n        x: inflectionPoint.x,\n        y: inflectionPoint.y,\n        r: radius + INFLECTION_OFFSET,\n        fill: color,\n        textGroup: null,\n        _side: null\n      }; // 创建label文本\n\n      var texts = [];\n\n      _.each(this_1.fields, function (f) {\n        texts.push(d[f]);\n      });\n\n      if (this_1.formatter) {\n        var formatted = this_1.formatter(d[angleField], {\n          _origin: d,\n          color: color\n        }, idx);\n\n        if (_.isString(formatted)) {\n          formatted = [formatted];\n        }\n\n        texts = formatted;\n      }\n\n      var textGroup = new Group();\n      var textAttrs = {\n        x: 0,\n        y: 0,\n        fontSize: this_1.config.text.fontSize,\n        lineHeight: this_1.config.text.fontSize,\n        fontWeight: this_1.config.text.fontWeight,\n        fill: this_1.config.text.fill\n      }; // label1:下部label\n\n      var lowerText = d[angleField];\n\n      if (this_1.formatter) {\n        lowerText = texts[0];\n      }\n\n      var lowerTextAttrs = _.clone(textAttrs);\n\n      if (texts.length === 2) {\n        lowerTextAttrs.fontWeight = 700;\n      }\n\n      var lowerTextShape = textGroup.addShape('text', {\n        attrs: _.mix({\n          textBaseline: texts.length === 2 ? 'top' : 'middle',\n          text: lowerText\n        }, lowerTextAttrs),\n        data: d,\n        offsetY: texts.length === 2 ? LABEL1_OFFSETY : 0,\n        name: 'label'\n      });\n      lowerTextShape.name = 'label'; // 用于事件标记 shapeName\n\n      /** label2:上部label */\n\n      if (texts.length === 2) {\n        var topTextShape = textGroup.addShape('text', {\n          attrs: _.mix({\n            textBaseline: 'bottom',\n            text: texts[1]\n          }, textAttrs),\n          data: d,\n          offsetY: LABEL2_OFFSETY,\n          name: 'label'\n        });\n        topTextShape.name = 'label'; // 用于事件标记 shapeName\n      }\n\n      label.textGroup = textGroup;\n      /** 将label分组 */\n\n      if (anchorPoint.x < center.x) {\n        label._side = 'left';\n        this_1.halves[0].push(label);\n      } else {\n        label._side = 'right';\n        this_1.halves[1].push(label);\n      }\n    };\n\n    var this_1 = this; // tslint:disable-next-line: prefer-for-of\n\n    for (var idx = 0; idx < data.length; idx++) {\n      _loop_1(idx);\n    }\n    /** 绘制label */\n\n\n    var _drawnLabels = [];\n    var maxCountForOneSide = Math.floor(height / this.config.lineHeight);\n\n    _.each(this.halves, function (half) {\n      if (half.length > maxCountForOneSide) {\n        half.splice(maxCountForOneSide, half.length - maxCountForOneSide);\n      }\n\n      half.sort(function (a, b) {\n        return a.y - b.y;\n      });\n\n      _this._antiCollision(half);\n    });\n\n    this.view.get('canvas').draw();\n  };\n\n  SpiderLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  SpiderLabel.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  SpiderLabel.prototype._antiCollision = function (half) {\n    var _this = this;\n\n    var coord = this.view.get('coord');\n    var canvasHeight = coord.getHeight();\n    var center = coord.center;\n    var radius = coord.getRadius();\n    var startY = center.y - radius - INFLECTION_OFFSET - this.config.lineHeight;\n    var overlapping = true;\n    var totalH = canvasHeight;\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var maxLabelWidth = 0;\n    var boxes = half.map(function (label) {\n      var labelY = label.y;\n\n      if (labelY > maxY) {\n        maxY = labelY;\n      }\n\n      if (labelY < minY) {\n        minY = labelY;\n      }\n\n      var textGroup = label.textGroup;\n      var labelWidth = textGroup.getBBox().width;\n\n      if (labelWidth >= maxLabelWidth) {\n        maxLabelWidth = labelWidth;\n      }\n\n      return {\n        size: _this.config.lineHeight,\n        targets: [labelY - startY]\n      };\n    });\n\n    if (maxY - startY > totalH) {\n      totalH = maxY - startY;\n    }\n\n    var iteratorBoxed = function iteratorBoxed(items) {\n      items.forEach(function (box) {\n        var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n        box.pos = Math.min(Math.max(minY, target - box.size / 2), totalH - box.size);\n      });\n    };\n\n    while (overlapping) {\n      iteratorBoxed(boxes); // detect overlapping and join boxes\n\n      overlapping = false;\n      i = boxes.length;\n\n      while (i--) {\n        if (i > 0) {\n          var previousBox = boxes[i - 1];\n          var box = boxes[i];\n\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n            if (previousBox.pos + previousBox.size > totalH) {\n              previousBox.pos = totalH - previousBox.size;\n            }\n\n            boxes.splice(i, 1); // removing box\n\n            overlapping = true;\n          }\n        }\n      }\n    }\n\n    i = 0;\n    boxes.forEach(function (b) {\n      var posInCompositeBox = startY; // middle of the label\n\n      b.targets.forEach(function () {\n        half[i].y = b.pos + posInCompositeBox + _this.config.lineHeight / 2;\n        posInCompositeBox += _this.config.lineHeight;\n        i++;\n      });\n    });\n    var drawnLabels = [];\n    half.forEach(function (label) {\n      var textGroup = _this._drawLabel(label);\n\n      _this.container.add(textGroup);\n\n      _this._drawLabelLine(label, maxLabelWidth);\n\n      drawnLabels.push(textGroup);\n    });\n  };\n\n  SpiderLabel.prototype._drawLabel = function (label) {\n    var coord = this.view.get('coord');\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    var width = this.width;\n    var y = label.y,\n        textGroup = label.textGroup;\n    var children = textGroup.get('children');\n    var x_dir = label._side === 'left' ? 1 : -1;\n    var textAttrs = {\n      textAlign: label._side === 'left' ? 'right' : 'left',\n      x: label._side === 'left' ? center.x - radius - this.config.sidePadding : center.x + radius + this.config.sidePadding\n    };\n\n    if (this.offsetX) {\n      textAttrs.x += this.offsetX * x_dir;\n    }\n\n    children.forEach(function (child) {\n      var offsetY = child.get('offsetY');\n      var yPosition = y + offsetY;\n      child.attr(textAttrs);\n      child.attr('y', yPosition);\n    });\n    return textGroup;\n  };\n\n  SpiderLabel.prototype._drawLabelLine = function (label, maxLabelWidth) {\n    var _anchor = [label._anchor.x, label._anchor.y];\n    var _inflection = [label._inflection.x, label._inflection.y];\n    var fill = label.fill,\n        y = label.y,\n        textGroup = label.textGroup;\n    if (!textGroup) return;\n    var lastPoint = [label._side === 'left' ? textGroup.getBBox().maxX + 4 : textGroup.getBBox().minX - 4, y];\n    var points = [_anchor, _inflection, lastPoint];\n\n    if (_inflection[1] !== y) {\n      // 展示全部文本文本位置做过调整\n      if (_inflection[1] < y) {\n        // 文本被调整下去了，则添加拐点连接线\n        var point1 = _inflection;\n        var leftPoint = lastPoint[0] + maxLabelWidth + ADJUSTOFFSET;\n        var rightPoint = lastPoint[0] - maxLabelWidth - ADJUSTOFFSET;\n        var point2 = [label._side === 'left' ? leftPoint : rightPoint, _inflection[1]];\n        var point3 = [label._side === 'left' ? lastPoint[0] + maxLabelWidth : lastPoint[0] - maxLabelWidth, lastPoint[1]];\n        points = [_anchor, point1, point2, point3, lastPoint];\n\n        if (label._side === 'right' && point2[0] < point1[0] || label._side === 'left' && point2[0] > point1[0]) {\n          points = [_anchor, point3, lastPoint];\n        }\n      } else {\n        points = [_anchor, [_inflection[0], y], lastPoint];\n      }\n    }\n\n    var path = [];\n\n    for (var i = 0; i < points.length; i++) {\n      var p = points[i];\n      var starter = 'L';\n\n      if (i === 0) {\n        starter = 'M';\n      }\n\n      path.push([starter, p[0], p[1]]);\n    }\n\n    this.container.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: this.config.lineWidth,\n        stroke: this.config.lineStroke\n      }\n    }); // 绘制锚点\n    // this.container.addShape('circle', {\n    //   attrs: {\n    //     x: _anchor[0],\n    //     y: _anchor[1],\n    //     r: this.config.anchorSize,\n    //     fill,\n    //   },\n    // });\n  };\n\n  SpiderLabel.prototype._adjustConfig = function (config) {\n    if (config.text.fontSize) {\n      config.lineHeight = config.text.fontSize * 3;\n    }\n  };\n\n  return SpiderLabel;\n}();\n\nexport default SpiderLabel;","export function getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n/** 获取矩形中点 */\n\nexport function getCenter(box) {\n  return {\n    x: box.x + box.width / 2,\n    y: box.y + box.height / 2\n  };\n}\nexport function getOverlapArea(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin));\n  return xOverlap * yOverlap;\n}\n/**\n * 计算两个矩形之间的堆叠情况\n * @return xOverlap x方向重叠大小\n * @return yOverlap y方向重叠大小\n */\n\nexport function getOverlapInfo(a, b, margin) {\n  if (margin === void 0) {\n    margin = 0;\n  }\n\n  var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n  var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)); // 添加 sign\n\n  if (xOverlap && a.x < b.x) {\n    xOverlap = -xOverlap;\n  }\n\n  if (yOverlap && a.y < b.y) {\n    yOverlap = -yOverlap;\n  } // 重叠\n\n\n  if (a.x === b.x && a.width === b.width) {\n    xOverlap = b.width;\n  }\n\n  if (a.y === b.y && a.height === b.height) {\n    yOverlap = b.height;\n  }\n\n  return {\n    xOverlap: xOverlap,\n    yOverlap: yOverlap\n  };\n}\n/**\n * 粗略地判断是否在panel内部\n * @param panel\n * @param shape\n */\n\nexport function inPanel(panel, shape) {\n  return panel.x < shape.x && panel.x + panel.width > shape.x + shape.width && panel.y < shape.y && panel.y + panel.height > shape.y + shape.height;\n}\n/**\n * 判断两个数值 是否接近\n * - 解决精度问题（由于无法确定精度上限，根据具体场景可传入 精度 参数）\n */\n\nexport var near = function near(x, y, e) {\n  if (e === void 0) {\n    e = Math.pow(Number.EPSILON, 0.5);\n  }\n\n  return [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < e;\n};","import { __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nvar canvas = document.createElement('canvas');\nvar ctx = canvas.getContext('2d');\n/**\n * 计算文本在画布中的宽度\n */\n\nexport var measureTextWidth = _.memoize(function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n\n  var fontSize = font.fontSize,\n      fontFamily = font.fontFamily,\n      fontWeight = font.fontWeight,\n      fontStyle = font.fontStyle,\n      fontVariant = font.fontVariant;\n  ctx.font = [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ');\n  return ctx.measureText(_.isString(text) ? text : '').width;\n}, function (text, font) {\n  return font ? __spreadArrays([text], _.values(font)).join('') : text;\n});\n/**\n * 获取文本的 ... 文本。\n * 算法（减少每次 measureText 的长度，measureText 的性能跟字符串时间相关）：\n * 1. 先通过 STEP 逐步计算，找到最后一个小于 maxWidth 的字符串\n * 2. 然后对最后这个字符串二分计算\n * @param text 需要计算的文本, 由于历史原因 除了支持string，还支持空值,number和数组等\n * @param maxWidth\n * @param font\n * TODO 后续更新省略算法\n */\n\nexport var getEllipsisText = function getEllipsisText(text, maxWidth, font, priority) {\n  var STEP = 16; // 每次 16，调参工程师\n\n  var DOT_WIDTH = measureTextWidth('...', font);\n  var leftText;\n\n  if (!_.isString(text)) {\n    leftText = _.toString(text);\n  } else {\n    leftText = text;\n  }\n\n  var leftWidth = maxWidth;\n  var r = []; // 最终的分段字符串\n\n  var currentText;\n  var currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  } // 首先通过 step 计算，找出最大的未超出长度的\n\n\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, STEP); // 计算宽度\n\n    currentWidth = measureTextWidth(currentText, font); // 超出剩余宽度，则停止\n\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText); // 没有超出，则计算剩余宽度\n\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP); // 字符串整体没有超出\n\n    if (!leftText) {\n      return r.join('');\n    }\n  } // 最下的最后一个 STEP，使用 1 递增（用二分效果更高）\n\n\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, 1); // 计算宽度\n\n    currentWidth = measureTextWidth(currentText, font); // 超出剩余宽度，则停止\n\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText); // 没有超出，则计算剩余宽度\n\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return r.join('') + \"...\";\n};","import { __assign, __extends } from \"tslib\";\nimport { getElementLabels } from '@antv/g2';\nimport { getOverlapArea, getEndPoint, near } from './utils';\nimport { getEllipsisText } from './utils/text';\nvar PieElementLabels = getElementLabels('pie');\n/**\n * @desc eva-pie 所有自定义 pie-label 的基类\n */\n\nvar default_1 =\n/** @class */\nfunction (_super) {\n  __extends(default_1, _super);\n\n  function default_1() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  default_1.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var view = this.get('element').get('view');\n    var coord = this.get('coord');\n    var panel = view.get('panelRange'); // 调整\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children'); // 注入data数据\n\n    var data = view.get('filteredData');\n    var fields = this.getLabelOptions().fields;\n    var angleField = fields[0];\n    var colorField = fields[1];\n    var scale = view.get('scales')[angleField];\n    labels.forEach(function (label, idx) {\n      var dataItem = data[idx];\n      var percentage = scale.scale(dataItem[angleField]);\n      label.attr('data', {\n        value: dataItem[angleField],\n        name: dataItem[colorField],\n        percent: percentage\n      });\n    });\n    var items = renderer.get('items') || []; // 处理 label anchors\n\n    this.anchors = [];\n    var anchorRadius = coord.getRadius() + this.getOffsetOfLabel();\n    this.anchorRadius = anchorRadius;\n    labels.forEach(function (label, idx) {\n      var item = items[idx];\n      var point = getEndPoint(coord.getCenter(), item.angle, anchorRadius);\n\n      _this.anchors.push(__assign(__assign(__assign({}, item), point), {\n        id: label.id\n      }));\n    });\n    var labelLines = renderer.get('lineGroup').get('children') || [];\n    this.adjustPosition(labels, items, coord, panel);\n    this.adjustTexts(labels, items, coord, panel); // should adjust overlap before asjustLines\n\n    this.adjustOverlap(labels, panel);\n    this.adjustLines(labels, items, labelLines, coord, panel);\n    view.get('canvas').draw();\n  };\n  /** 调整 label texts */\n\n\n  default_1.prototype.adjustTexts = function (labels, items, coord, panel) {\n    var _this = this;\n\n    labels.forEach(function (label) {\n      var anchor = items.find(function (v) {\n        return v.id === label.id;\n      });\n\n      _this.adjustLabelText(label, anchor, coord, panel);\n    });\n  };\n\n  default_1.prototype.adjustItems = function (originItems) {\n    // could not extends super\n    return originItems;\n  };\n  /** 调整 label text */\n\n\n  default_1.prototype.adjustLabelText = function (label, item, coord, panel) {\n    var box = label.getBBox();\n    var textAlign = item.textAlign;\n    var maxWidth = textAlign === 'right' ? box.maxX - panel.minX : panel.maxX - box.minX;\n\n    if (maxWidth < box.width) {\n      var font_1 = {\n        fontFamily: label.attr('fontFamily'),\n        fontSize: label.attr('fontSize'),\n        fontVariant: label.attr('fontVariant'),\n        fontWeight: label.attr('fontWeight'),\n        fontStyle: label.attr('fontStyle')\n      };\n      var originText = label.attr('text');\n      var data = label.attr('data');\n      /** label 优先级: 数值 - 百分比 - 分类名(先通过正则的方式处理) */\n\n      var priority_1 = ['[\\\\d,.]*', '[\\\\d.]*%', data.name];\n      var EllipsisTextArr = originText.split('\\n').map(function (t) {\n        return getEllipsisText(t, maxWidth - 2, font_1, priority_1);\n      });\n      label.attr('text', EllipsisTextArr.join('\\n'));\n    }\n  };\n  /** 处理标签遮挡问题 */\n\n\n  default_1.prototype.adjustOverlap = function (labels, panel) {\n    var _this = this; // 由于 sort 会改变 labels 顺序，因此这里需要浅拷贝\n\n\n    var adjustLabels = labels.slice();\n\n    if (this.getLabelOptions().allowOverlap) {\n      return;\n    }\n\n    adjustLabels.sort(function (labelA, labelB) {\n      var labelAValue = labelA.attr('data').value;\n      var labelBValue = labelB.attr('data').value;\n\n      if (labelAValue > labelBValue) {\n        return -1;\n      }\n\n      return 1;\n    }); // clearOverlap;\n\n    for (var i = 1; i < adjustLabels.length; i++) {\n      var label = adjustLabels[i];\n      var overlapArea = 0;\n\n      for (var j = i - 1; j >= 0; j--) {\n        var prev = adjustLabels[j]; // fix: start draw point.x is error when textAlign is right\n\n        var prevBox = prev.getBBox();\n        var currBox = label.getBBox(); // if the previous one is invisible, skip\n\n        if (prev.get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n\n          if (!near(overlapArea, 0)) {\n            label.set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n\n    adjustLabels.forEach(function (label) {\n      return _this.checkInPanel(label, panel);\n    });\n  };\n  /**\n   * 超出panel边界的标签默认隐藏\n   */\n\n\n  default_1.prototype.checkInPanel = function (label, panel) {\n    var box = label.getBBox(); //  横向溢出 暂不隐藏\n\n    if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n      label.set('visible', false);\n    }\n  };\n\n  default_1.prototype.getLabelOptions = function () {\n    return this.get('labelOptions');\n  };\n\n  return default_1;\n}(PieElementLabels);\n\nexport default default_1;","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport { clone, isString } from '@antv/util';\nimport { getEndPoint, getOverlapInfo } from './utils';\nimport BaseLabel from './base-label';\nimport { distBetweenPoints } from '../../../../util/math';\nexport function percent2Number(value) {\n  var percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n/**\n * @desc 饼图 inner-label 布局\n * @done\n */\n\nvar InnerLabel =\n/** @class */\nfunction (_super) {\n  __extends(InnerLabel, _super);\n\n  function InnerLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  InnerLabel.prototype.adjustPosition = function (labels, items, coord) {\n    var _this = this;\n\n    var center = coord.getCenter();\n    var radius = coord.getRadius();\n    var offset = this.getOffsetOfLabel();\n    var r = radius + offset;\n    labels.forEach(function (label, idx) {\n      var anchor = items.find(function (i) {\n        return i.id === label.id;\n      });\n\n      var _a = getEndPoint(center, anchor.angle, r),\n          newX = _a.x,\n          newY = _a.y;\n\n      label.attr('x', newX);\n      label.attr('y', newY);\n      label.attr('textBaseline', 'middle');\n\n      if (idx > 0) {\n        var prevLabel = labels[idx - 1];\n\n        _this.resolveCollision(label, prevLabel, anchor, coord);\n      }\n    });\n  };\n  /** @override inner布局不需要拉线 */\n\n\n  InnerLabel.prototype.adjustLines = function (labels, items, labelLines, coord) {\n    labelLines.forEach(function (l) {\n      return l.set('visible', false);\n    });\n  };\n  /** @override */\n\n\n  InnerLabel.prototype.adjustLabelText = function () {};\n  /** @override 不能大于0 */\n\n\n  InnerLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    var radius = this.get('coord').getRadius();\n\n    if (isString(offset)) {\n      offset = radius * percent2Number(offset);\n    }\n\n    return offset > 0 ? 0 : offset;\n  };\n  /** label 碰撞调整 */\n\n\n  InnerLabel.prototype.resolveCollision = function (label, prev, anchor, coord) {\n    var angle = anchor.angle;\n    var box = label.getBBox();\n    var prevBBox = prev.getBBox();\n    var pos = {\n      x: (box.minX + box.maxX) / 2,\n      y: (box.minY + box.maxY) / 2\n    }; // 两种调整方案\n\n    /** 先偏移 x 方向 -> 再计算 y 位置 */\n\n    var pos1 = clone(pos);\n    /** 先偏移 y 方向 -> 再计算 x 位置 */\n\n    var pos2 = clone(pos); // check overlap\n\n    if (prev.id !== label.id) {\n      var _a = getOverlapInfo(box, prevBBox),\n          xOverlap = _a.xOverlap,\n          yOverlap = _a.yOverlap;\n\n      if (xOverlap) {\n        pos1.x = pos.x + xOverlap;\n        pos1.y = pos.y + Math.tan(angle) * xOverlap;\n      }\n\n      if (yOverlap) {\n        // fix issue-460\n        var yMover = yOverlap;\n        var center = coord.getCenter();\n\n        if (pos.y < center.y) {\n          // 上方label优先往上偏移\n          yMover = yMover < 0 ? yMover : prevBBox.minY - box.maxY;\n        } else {\n          // 下方label优先往下偏移\n          yMover = yMover > 0 ? yMover : prevBBox.maxY - box.minY;\n        }\n\n        pos2.y = pos.y + yMover;\n        pos2.x = pos.x + yMover / Math.tan(angle);\n      }\n\n      var dist1 = distBetweenPoints(pos, pos1);\n      var dist2 = distBetweenPoints(pos, pos2);\n      var actualPos = dist1 < dist2 ? pos1 : pos2; // 取偏移距离最小的\n\n      label.attr('x', actualPos.x);\n      label.attr('y', actualPos.y);\n    }\n  };\n\n  return InnerLabel;\n}(BaseLabel);\n\nregisterElementLabels('inner', InnerLabel);","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BaseLabel from './base-label';\nimport { percent2Number } from './inner-label'; // 默认label和element的偏移 16px\n\nexport var DEFAULT_OFFSET = 16;\n/** label text和line距离 4px */\n\nexport var CROOK_DISTANCE = 4;\n/**\n * @desc 环绕型 躲避 label 布局(类椭圆 - 优先顺时针偏移)\n */\n\nvar OuterPieLabel =\n/** @class */\nfunction (_super) {\n  __extends(OuterPieLabel, _super);\n\n  function OuterPieLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  OuterPieLabel.prototype.adjustPosition = function (labels, items, coord, panel) {\n    var _this = this;\n\n    this._adjustLabelPosition(labels, coord, panel);\n\n    var leftHalf = _.filter(labels, function (l) {\n      return _.find(_this.anchors, function (a) {\n        return a.id === l.id;\n      }).textAlign === 'right';\n    });\n\n    var rightHalf = _.filter(labels, function (l) {\n      return _.find(_this.anchors, function (a) {\n        return a.id === l.id;\n      }).textAlign === 'left';\n    });\n\n    [rightHalf, leftHalf].forEach(function (half, isLeft) {\n      _this._antiCollision(half, coord, panel, !isLeft);\n    });\n  };\n  /** @override */\n\n\n  OuterPieLabel.prototype.adjustLines = function (labels, labelItems, labelLines, coord, panel) {\n    var _this = this;\n\n    var labelOptions = this.getLabelOptions();\n\n    _.each(labels, function (label, idx) {\n      var labelLine = labelLines[idx]; // 由于布局调整，修改的只是shape 所以取用使用shape(labelItem is read-only)\n\n      var path = _this._getLinePath(label, coord, panel);\n\n      labelLine.attr('path', path);\n\n      if (labelOptions.line) {\n        for (var attr in labelOptions.line) {\n          labelLine.attr(attr, labelOptions.line[attr]);\n        }\n      }\n\n      labelLine.set('visible', label.get('visible'));\n    });\n  };\n  /** override */\n\n\n  OuterPieLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.getLabelOptions();\n    var offset = labelOptions.offset;\n\n    if (_.isString(offset)) {\n      offset = percent2Number(offset);\n    }\n\n    return offset === undefined ? DEFAULT_OFFSET : offset < CROOK_DISTANCE * 2 ? offset / 2 : offset - CROOK_DISTANCE;\n  };\n  /** labels 碰撞处理（重点算法） */\n\n\n  OuterPieLabel.prototype._antiCollision = function (labels, coord, plotRange, isRight) {\n    var _this = this;\n\n    var labelHeight = this.getLabelHeight();\n    var totalR = this.anchorRadius;\n    var center = coord.getCenter();\n    var totalHeight = Math.min(plotRange.height, Math.max(totalR * 2 + labelHeight * 2, labels.length * labelHeight));\n    var maxLabelsCount = Math.floor(totalHeight / labelHeight); // fix-bug, maxLabelsCount 之后的labels 在非 allowOverlap 不显示（避免出现尾部label展示，而前置label不展示）\n\n    if (!this.get('labelOptions').allowOverlap) {\n      labels.slice(maxLabelsCount).forEach(function (label) {\n        label.set('visible', false);\n      });\n    }\n\n    labels.splice(maxLabelsCount, labels.length - maxLabelsCount); // sort by y DESC\n\n    labels.sort(function (a, b) {\n      return a.getBBox().y - b.getBBox().y;\n    }); // adjust y position of labels to avoid overlapping\n\n    var overlapping = true;\n    var i;\n    var maxY = center.y + totalHeight / 2;\n    var minY = center.y - totalHeight / 2;\n    var boxes = labels.map(function (label) {\n      var labelBox = label.getBBox();\n\n      if (labelBox.maxY > maxY) {\n        maxY = Math.min(plotRange.maxY, labelBox.maxY);\n      }\n\n      if (labelBox.minY < minY) {\n        minY = Math.max(plotRange.minY, labelBox.minY);\n      }\n\n      return {\n        text: label.attr('text'),\n        size: labelHeight,\n        pos: labelBox.y,\n        targets: []\n      };\n    });\n    var j = 0;\n\n    while (j < boxes.length) {\n      if (j === boxes.length - 1) {\n        boxes[j].targets[0] = maxY;\n      } else {\n        boxes[j].targets[0] = boxes[j + 1].pos - boxes[j + 1].size / 2;\n      }\n\n      j++;\n    }\n\n    while (overlapping) {\n      boxes.forEach(function (box) {\n        var target = _.last(box.targets);\n\n        box.pos = Math.max(minY, Math.min(box.pos, target - box.size));\n      }); // detect overlapping and join boxes\n\n      overlapping = false;\n      i = boxes.length;\n\n      while (i--) {\n        if (i > 0) {\n          var previousBox = boxes[i - 1];\n          var box = boxes[i];\n\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets); // overflow, shift up\n\n            var target = _.last(previousBox.targets);\n\n            if (previousBox.pos + previousBox.size > target) {\n              previousBox.pos = target - previousBox.size;\n            }\n\n            boxes.splice(i, 1); // removing box\n\n            overlapping = true;\n          } else {\n            // 换掉最后一个\n            previousBox.targets.splice(-1, 1, box.pos);\n          }\n        }\n      }\n    }\n\n    i = 0; // step 4: normalize y and adjust x\n\n    boxes.forEach(function (b) {\n      var posInCompositeBox = labelHeight / 2; // middle of the label\n\n      b.targets.forEach(function () {\n        labels[i].attr('y', b.pos + posInCompositeBox);\n        posInCompositeBox += labelHeight;\n        i++;\n      });\n    }); // 调整 x 位置在椭圆轨道上\n\n    var topLabels = [];\n    var bottomLabels = [];\n    labels.forEach(function (label) {\n      var anchor = _this.anchors.find(function (a) {\n        return a.id === label.id;\n      });\n\n      if (anchor.angle >= 0 && anchor.angle <= Math.PI) {\n        bottomLabels.push(label);\n      } else {\n        topLabels.push(label);\n      }\n    });\n    [topLabels, bottomLabels].forEach(function (adjustLabels, isBottom) {\n      if (!adjustLabels.length) {\n        return;\n      }\n\n      var ry = isBottom ? _.last(adjustLabels).getBBox().maxY - center.y : center.y - _.head(adjustLabels).getBBox().minY;\n      ry = Math.max(totalR, ry);\n\n      var offset = _this.getOffsetOfLabel();\n\n      var distance = _this.getCrookDistance();\n\n      var maxLabelWidth = Math.max.apply(0, _.map(labels, function (label) {\n        return label.getBBox().width;\n      })) + offset + distance;\n      var rx = Math.max(totalR, Math.min((ry + totalR) / 2, center.x - (plotRange.minX + maxLabelWidth)));\n      var rxPow2 = rx * rx;\n      var ryPow2 = ry * ry;\n      adjustLabels.forEach(function (label) {\n        var box = label.getBBox();\n        var boxCenter = {\n          x: box.minX + box.width / 2,\n          y: box.minY + box.height / 2\n        };\n        var dyPow2 = Math.pow(boxCenter.y - center.y, 2);\n\n        var anchor = _this.anchors.find(function (a) {\n          return a.id === label.id;\n        });\n\n        var endPoint = getEndPoint(center, anchor.angle, coord.getRadius());\n        var distance_offset = (isRight ? 1 : -1) * distance * 2;\n\n        if (dyPow2 > ryPow2) {\n          console.warn('异常(一般不会出现)', label.attr('text'));\n          label.attr('x', endPoint.x + distance_offset);\n        } else {\n          // (x - cx)^2 / rx ^ 2 + (y - cy)^2 / ry ^ 2 = 1\n          // 避免 label的 拉线 在 element 上\n          var xPos = center.x + (isRight ? 1 : -1) * Math.sqrt((1 - dyPow2 / ryPow2) * rxPow2);\n\n          if (center.x === endPoint.x && boxCenter.y === endPoint.y || center.y === endPoint.y && xPos === endPoint.x) {\n            xPos = endPoint.x;\n          } else {\n            var k1 = (center.y - endPoint.y) / (center.x - endPoint.x);\n            var k2 = (boxCenter.y - endPoint.y) / (xPos - endPoint.x);\n            var theta = Math.atan((k1 - k2) / (1 + k1 * k2));\n\n            if (Math.cos(theta) > 0 && (!isRight ? xPos > endPoint.x : xPos < endPoint.x)) {\n              xPos = endPoint.x;\n            }\n          }\n\n          label.attr('x', xPos + distance_offset);\n        }\n      });\n    });\n  }; // label shape position\n\n\n  OuterPieLabel.prototype._adjustLabelPosition = function (labels, coord, panel) {\n    var _this = this;\n\n    var distance = this.getCrookDistance();\n    labels.forEach(function (l) {\n      var anchor = _this.anchors.find(function (a) {\n        return a.id === l.id;\n      });\n\n      var isRight = anchor.textAlign === 'left';\n      l.attr('x', anchor.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', anchor.y); // 统一垂直居中\n\n      l.attr('textBaseline', 'middle');\n    });\n  };\n  /** 获取label leader-line, 默认 not smooth */\n\n\n  OuterPieLabel.prototype._getLinePath = function (label, coord, panel) {\n    var labelOptions = this.getLabelOptions();\n    var smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    var anchor = this.anchors.find(function (a) {\n      return a.id === label.id;\n    });\n    var angle = anchor.angle;\n    var center = coord.getCenter();\n    var distance = this.getCrookDistance();\n    var start = getEndPoint(center, angle, coord.getRadius());\n    var breakAt = getEndPoint(center, angle, coord.getRadius() + 4);\n    var left2right = start.x - anchor.x <= 0;\n    var labelPosition = {\n      x: label.attr('x') + (left2right ? -distance : distance),\n      y: label.attr('y')\n    };\n    var smoothPath = ['C', // 1st control point (of the curve)\n    labelPosition.x + ( // 4 gives the connector a little horizontal bend\n    left2right ? -4 : 4), labelPosition.y, 2 * breakAt.x - start.x, 2 * breakAt.y - start.y, breakAt.x, breakAt.y];\n    var straightPath = ['L',\n    /** pointy break */\n    breakAt.x, breakAt.y];\n    var linePath = smooth ? smoothPath : straightPath;\n    var path = ['M', labelPosition.x, labelPosition.y].concat(linePath).concat('L', start.x, start.y);\n    return path.join(',');\n  };\n\n  OuterPieLabel.prototype.getCrookDistance = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  };\n  /** 获取label height */\n\n\n  OuterPieLabel.prototype.getLabelHeight = function () {\n    var labelOptions = this.get('labelOptions');\n\n    if (!labelOptions.labelHeight) {\n      var renderer = this.get('labelsRenderer');\n      var labels = renderer.get('group').get('children');\n      return _.head(labels) ? _.head(labels).getBBox().height : 14;\n    }\n\n    return labelOptions.labelHeight;\n  }; // tslint:disable\n\n\n  OuterPieLabel.prototype.getDefaultOffset = function (point) {\n    var offset = _super.prototype.getDefaultOffset.call(this, point);\n\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  };\n\n  return OuterPieLabel;\n}(BaseLabel);\n\nregisterElementLabels('outer', OuterPieLabel);","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BasePieLabel from './base-label';\nimport { DEFAULT_OFFSET, CROOK_DISTANCE } from './outer-label';\n\nvar OuterCenterPieLabel =\n/** @class */\nfunction (_super) {\n  __extends(OuterCenterPieLabel, _super);\n\n  function OuterCenterPieLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  OuterCenterPieLabel.prototype.adjustPosition = function (labels, items, coord, panel) {\n    this._adjustLabelPosition(labels, items, coord, panel);\n  };\n  /** @override */\n\n\n  OuterCenterPieLabel.prototype.adjustLines = function (labels, labelItems, labelLines, coord, panel) {\n    var _this = this;\n\n    _.each(labels, function (label, idx) {\n      var labelLine = labelLines[idx];\n\n      var path = _this._getLinePath(label, coord, panel);\n\n      labelLine.attr('path', path);\n      labelLine.set('visible', label.get('visible'));\n    });\n  };\n  /** @override */\n\n\n  OuterCenterPieLabel.prototype.getOffsetOfLabel = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  }; // label shape position\n\n\n  OuterCenterPieLabel.prototype._adjustLabelPosition = function (labels, items, coord, panel) {\n    var _this = this;\n\n    var center = coord.getCenter();\n    var r = coord.getRadius();\n    var distance = this.getCrookDistance();\n    labels.forEach(function (l, idx) {\n      var item = items[idx];\n\n      var offset = _this.getOffsetOfLabel();\n\n      var pos = getEndPoint(center, item.angle, r + offset);\n      var isRight = item.textAlign === 'left';\n      l.attr('x', pos.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', pos.y);\n    });\n  }; // 获取label leader-line\n\n\n  OuterCenterPieLabel.prototype._getLinePath = function (label, coord, panel) {\n    var labelOptions = this.getLabelOptions();\n    var smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    var anchor = this.anchors.find(function (a) {\n      return a.id === label.id;\n    });\n    var angle = anchor.angle;\n    var center = coord.getCenter();\n    var r = coord.getRadius();\n    var start = getEndPoint(center, angle, r); // because shape is adjusted, so we should getAttrbutes by shape\n\n    var offset = this.getOffsetOfLabel();\n    var isRight = anchor.textAlign === 'left';\n    var breakAt = getEndPoint(center, angle, r + offset);\n    var distance = this.getCrookDistance() * (isRight ? 1 : -1);\n    var end = {\n      x: label.attr('x') - distance,\n      y: label.attr('y')\n    };\n    var path = '';\n    path = [\"M \" + start.x, start.y + \" Q\" + breakAt.x, breakAt.y + \" \" + end.x, end.y].join(',');\n\n    if (smooth === false) {\n      // normal path rule, draw path is \"M -> L -> H\"\n      path = [\"M \" + start.x, start.y + \" L\" + breakAt.x, breakAt.y + \" H\" + end.x].join(',');\n    }\n\n    return path;\n  };\n  /** @override */\n  // tslint:disable\n\n\n  OuterCenterPieLabel.prototype.getDefaultOffset = function (point) {\n    var offset = _super.prototype.getDefaultOffset.call(this, point);\n\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  };\n\n  OuterCenterPieLabel.prototype.getCrookDistance = function () {\n    var labelOptions = this.get('labelOptions');\n    var offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  };\n\n  return OuterCenterPieLabel;\n}(BasePieLabel);\n\nregisterElementLabels('outer-center', OuterCenterPieLabel);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onPieClick: 'interval:click',\n  onPieDblclick: 'interval:dblclick',\n  onPieMousemove: 'interval:mousemove',\n  onPieMouseenter: 'interval:mouseenter',\n  onPieMouseleave: 'interval:mouseleave',\n  onPieMousedown: 'interval:mousedown',\n  onPieMouseup: 'interval:mouseup',\n  onPieContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { registerTheme } from '../../theme';\n\nvar PIE_ACTIVE_STYLE = function PIE_ACTIVE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nvar PIE_DISABLE_STYLE = function PIE_DISABLE_STYLE(style) {\n  var opacity = style.opacity || 1;\n  return {\n    opacity: opacity * 0.5\n  };\n};\n\nregisterTheme('pie', {\n  columnStyle: {\n    normal: {},\n    active: PIE_ACTIVE_STYLE,\n    disable: PIE_DISABLE_STYLE,\n    selected: {\n      lineWidth: 1,\n      stroke: 'black'\n    }\n  }\n});","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport SpiderLabel from './component/label/spider-label';\nimport './component/label/outer-label';\nimport './component/label/inner-label';\nimport './component/label/outer-center-label';\nimport * as EventParser from './event';\nimport './theme';\nvar G2_GEOM_MAP = {\n  pie: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  pie: 'column'\n};\n\nvar PieLayer =\n/** @class */\nfunction (_super) {\n  __extends(PieLayer, _super);\n\n  function PieLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'pie';\n    return _this;\n  }\n\n  PieLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: false,\n        allowOverlap: false,\n        line: {\n          smooth: true\n        }\n      },\n      legend: {\n        visible: true,\n        position: 'right-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null\n      },\n      pieStyle: {\n        stroke: 'white',\n        lineWidth: 1\n      }\n    });\n  };\n\n  PieLayer.prototype.getOptions = function (props) {\n    // @ts-ignore\n    var defaultOptions = this.constructor.getDefaultOptions();\n\n    var options = _.deepMix({}, _super.prototype.getOptions.call(this, props), defaultOptions, props);\n\n    return options;\n  };\n\n  PieLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var props = this.options;\n    /** 蜘蛛布局label */\n\n    if (props.label && props.label.visible) {\n      var labelConfig = props.label;\n\n      if (labelConfig.type === 'spider') {\n        var spiderLabel = new SpiderLabel({\n          view: this.view,\n          fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField],\n          style: labelConfig.style ? labelConfig.style : {},\n          formatter: props.label.formatter ? props.label.formatter : false,\n          offsetX: props.label.offsetX,\n          offsetY: props.label.offsetY\n        });\n        this.spiderLabel = spiderLabel;\n      }\n    }\n  };\n\n  PieLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  PieLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    scales[props.angleField] = {};\n    scales[props.colorField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n\n  PieLayer.prototype.processData = function (data) {\n    var key = this.options.angleField;\n    return data.map(function (item) {\n      var _a;\n\n      return __assign(__assign({}, item), (_a = {}, _a[key] = typeof item[key] === 'string' ? Number.parseFloat(item[key]) : item[key], _a));\n    });\n  };\n\n  PieLayer.prototype.axis = function () {};\n\n  PieLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        // @ts-ignore 业务定制,不开放配置\n        innerRadius: props.innerRadius || 0\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  PieLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var pie = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [props.angleField]\n    });\n    pie.adjust = [{\n      type: 'stack'\n    }];\n    this.pie = pie;\n\n    if (props.label) {\n      this.label();\n    }\n\n    if (props.tooltip && props.tooltip.visible) {\n      this.tooltip();\n    }\n\n    this.setConfig('element', pie);\n  };\n\n  PieLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.pie.animate = false;\n    }\n  };\n\n  PieLayer.prototype.annotation = function () {};\n\n  PieLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  PieLayer.prototype.tooltip = function () {\n    var _this = this;\n\n    _super.prototype.tooltip.call(this);\n\n    var props = this.options;\n\n    if (props.tooltip.htmlContent) {\n      var customHtmlContent_1 = props.tooltip.htmlContent;\n      this.setConfig('tooltip', __assign(__assign({}, this.options.tooltip), {\n        htmlContent: function htmlContent(title, items) {\n          if (items && items.length) {\n            var angleField_1 = _this.options.angleField;\n\n            var filteredSum_1 = _this.getFilteredSum();\n\n            return customHtmlContent_1(title, items.map(function (item) {\n              var value = _.get(item, \"point._origin.\" + angleField_1);\n\n              var percent = value / filteredSum_1;\n              return __assign(__assign({}, item), {\n                percent: percent\n              });\n            }));\n          }\n\n          return '<div></div>';\n        }\n      }));\n    }\n  };\n\n  PieLayer.prototype.getFilteredSum = function () {\n    var angleField = this.options.angleField;\n    var filteredData = this.view.get('filteredData') || [];\n    return filteredData.reduce(function (pre, filteredDataItem) {\n      return pre + filteredDataItem[angleField];\n    }, 0);\n  };\n\n  PieLayer.prototype.label = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    var labelConfig = __assign({}, props.label);\n\n    labelConfig = this.adjustLabelDefaultOptions(this.options);\n\n    if (!this.showLabel()) {\n      this.pie.label = false;\n      return;\n    }\n\n    if (labelConfig.type === 'inner') {\n      // @ts-ignore\n      labelConfig.labelLine = false;\n    } else {\n      // @ts-ignore\n      labelConfig.labelLine = labelConfig && labelConfig.line ? labelConfig.line : true;\n    }\n\n    if (labelConfig.formatter) {\n      var customFormatter_1 = labelConfig.formatter;\n\n      labelConfig.formatter = function (text, item, index) {\n        var angleField = _this.options.angleField;\n\n        var filteredSum = _this.getFilteredSum();\n\n        var percent = item._origin[angleField] / filteredSum;\n        return customFormatter_1(text, __assign(__assign({}, item), {\n          percent: percent\n        }), index);\n      };\n    } // 此处做个 hack 操作, 防止g2 controller层找不到未注册的inner,outter,和spider Label\n\n\n    var labelType = labelConfig.type;\n\n    if (['spider'].indexOf(labelType) !== -1) {\n      labelType = null;\n    }\n\n    this.pie.label = getComponent('label', __assign({\n      plot: this,\n      labelType: labelType,\n      fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField]\n    }, labelConfig));\n  };\n\n  PieLayer.prototype.showLabel = function () {\n    var props = this.options;\n    return props.label && props.label.visible === true && props.label.type !== 'spider';\n  };\n  /** 调整 label 默认 options */\n\n\n  PieLayer.prototype.adjustLabelDefaultOptions = function (options) {\n    var labelConfig = __assign({}, options.label);\n\n    if (labelConfig && labelConfig.type === 'inner') {\n      labelConfig = _.deepMix({}, {\n        offset: -1 / 3 * 100 + \"%\",\n        style: {\n          textAlign: 'center'\n        }\n      }, labelConfig);\n    }\n\n    if (labelConfig && labelConfig.type === 'outer') {\n      labelConfig = _.deepMix({}, {\n        offset: 20\n      }, labelConfig);\n    }\n\n    return labelConfig;\n  };\n\n  return PieLayer;\n}(ViewLayer);\n\nexport default PieLayer;\nregisterPlotType('pie', PieLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PieLayer from './layer';\n\nvar Pie =\n/** @class */\nfunction (_super) {\n  __extends(Pie, _super);\n\n  function Pie() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Pie.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'pie';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Pie.getDefaultOptions = PieLayer.getDefaultOptions;\n  return Pie;\n}(BasePlot);\n\nexport default Pie;","import * as _ from '@antv/util';\n\nvar VariableNodes =\n/** @class */\nfunction () {\n  function VariableNodes(cfg) {\n    this.type = 'variable';\n\n    _.assign(this, cfg);\n  }\n\n  VariableNodes.prototype.normalize = function () {};\n\n  return VariableNodes;\n}();\n\nexport default VariableNodes;","import responsiveRing from './geometry';\nvar preRenderResponsive = [{\n  name: 'responsiveRing',\n  method: responsiveRing\n}];\nvar afterRenderResponsive = [];\nexport default {\n  preRender: preRenderResponsive\n};","import { getCoordinate } from '@antv/coord';\nimport VariableNodes from '../../../util/responsive/node/variable-node';\nimport Responsive from '../../../util/responsive/responsive';\nexport default function responsiveRing(layer) {\n  var props = layer.options;\n  var responsiveTheme = layer.getResponsiveTheme();\n  var padding = props.padding;\n  var radius = props.radius ? props.radius : 1;\n  var width = layer.width,\n      height = layer.height;\n  /** 创建坐标系 */\n\n  var polar = getCoordinate('polar');\n  var coord = new polar({\n    radius: radius,\n    start: {\n      x: padding[3],\n      y: padding[0]\n    },\n    end: {\n      x: width - padding[1],\n      y: height - padding[2]\n    }\n  });\n  var region = {\n    radius: radius,\n    coord: coord\n  };\n  var nodes = new VariableNodes({\n    nodes: [{\n      name: 'innerRadius',\n      value: 0\n    }]\n  });\n  var constraints = responsiveTheme.ring.constraints;\n  new Responsive({\n    nodes: nodes,\n    constraints: constraints,\n    region: region,\n    plot: layer,\n    onEnd: function onEnd() {\n      props.innerRadius = nodes.nodes[0].value;\n    }\n  });\n}","import { registerResponsiveTheme } from '../../../util/responsive/theme';\n/** 组装theme\n * 其实这个应该是扩展自pie的，anyway，先这样写\n */\n\nvar ringTheme = {\n  ring: {\n    constraints: [{\n      name: 'ringThickness'\n    }, {\n      name: 'minRingThickness'\n    }]\n  }\n};\nregisterResponsiveTheme('ring', ringTheme);","/*tslint:disable*/\nvar containerStyle = \"color:#8c8c8c;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\";\nvar nameStyle = 'font-weight:300;';\nvar valueStyle = 'font-size:32px;font-weight:bold;color:#4D4D4D';\n\nfunction getSingleDataTemplate(value, classId, size) {\n  var domStyle = containerStyle + \"width:\" + size + \"px;\";\n  return \"<div class=\\\"ring-guide-html \" + classId + \"\\\" style=\" + domStyle + \"><span class=\\\"ring-guide-value\\\" style=\" + valueStyle + \">\" + value + \"</span></div>\";\n}\n\nfunction getTwoDataTemplate(name, value, classId, size) {\n  var domStyle = containerStyle + \"width:\" + size + \"px;\";\n  return \"<div class=\\\"ring-guide-html \" + classId + \"\\\" style=\" + domStyle + \"><span class=\\\"ring-guide-name\\\" style=\" + nameStyle + \">\" + name + \"</span><br/><span class=\\\"ring-guide-value\\\" style=\" + valueStyle + \">\" + value + \"</span></div>\";\n}\n\nexport { getSingleDataTemplate, getTwoDataTemplate };","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRingClick: 'interval:click',\n  onRingDblclick: 'interval:dblclick',\n  onRingMousemove: 'interval:mousemove',\n  onRingMouseenter: 'interval:mouseenter',\n  onRingMouseleave: 'interval:mouseleave',\n  onRingMousedown: 'interval:mousedown',\n  onRingMouseup: 'interval:mouseup',\n  onRingContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport PieLayer from '../pie/layer';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport * as statisticTemplate from './component/statistic-template';\nimport * as EventParser from './event';\nvar G2_GEOM_MAP = {\n  ring: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'ring'\n};\n\nvar RingLayer =\n/** @class */\nfunction (_super) {\n  __extends(RingLayer, _super);\n\n  function RingLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'ring';\n    return _this;\n  }\n\n  RingLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      radius: 0.8,\n      innerRadius: 0.64,\n      statistic: {\n        visible: true,\n        triggerOn: 'mouseenter',\n        triggerOff: 'mouseleave'\n      }\n    });\n  };\n\n  RingLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  RingLayer.prototype.beforeInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    RingLayer.centralId++;\n    this.statisticClass = \"statisticClassId\" + RingLayer.centralId;\n    var props = this.options;\n    /** 响应式图形 */\n\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  };\n\n  RingLayer.prototype.afterInit = function () {\n    var _this = this;\n\n    _super.prototype.afterInit.call(this);\n    /** 处理环图中心文本响应交互的问题 */\n\n\n    if (this.statistic && this.statistic.visible && this.statistic.triggerOn) {\n      var triggerOnEvent = this.statistic.triggerOn;\n      this.view.on(\"interval:\" + triggerOnEvent, _.debounce(function (e) {\n        var displayData = _this.parseStatisticData(e.data._origin);\n\n        var htmlString = _this.getStatisticHtmlString(displayData);\n\n        document.getElementsByClassName(_this.statisticClass)[0].innerHTML = htmlString;\n      }, 150));\n      var triggerOffEvent = this.statistic.triggerOff ? this.statistic.triggerOff : 'mouseleave';\n      this.view.on(\"interval:\" + triggerOffEvent, _.debounce(function (e) {\n        var totalValue = _this.getTotalValue();\n\n        var displayData = _this.parseStatisticData(totalValue);\n\n        var htmlString = _this.getStatisticHtmlString(displayData);\n\n        document.getElementsByClassName(_this.statisticClass)[0].innerHTML = htmlString;\n      }, 150));\n    }\n  };\n\n  RingLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  RingLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RingLayer.prototype.annotation = function () {\n    var annotationConfigs = [];\n    var props = this.options;\n\n    if (props.statistic && props.statistic.visible) {\n      var statistic = this.drawStatistic(props.statistic);\n      annotationConfigs.push(statistic);\n      this.statistic = statistic;\n    }\n\n    this.setConfig('annotations', annotationConfigs);\n  };\n\n  RingLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RingLayer.prototype.drawStatistic = function (config) {\n    var statistic = _.deepMix({}, {\n      type: 'html',\n      top: true,\n      position: ['50%', '50%'],\n      triggerOn: 'mouseenter'\n    }, config);\n    /** 中心文本内容 */\n\n\n    var displayData;\n\n    if (config.content) {\n      displayData = config.content;\n    } else {\n      /** 用户没有指定文本内容时，默认显示总计 */\n      var data = this.getTotalValue();\n      displayData = this.parseStatisticData(data);\n    }\n    /** 中心文本显示 */\n\n\n    var htmlString;\n\n    if (config.htmlContent) {\n      htmlString = config.htmlContent(displayData);\n    } else {\n      htmlString = this.getStatisticTemplate(displayData);\n    }\n\n    statistic.html = htmlString;\n    /** 是否响应状态量 */\n\n    if (statistic.triggerOn) {\n      this.setConfig('tooltip', false);\n    }\n\n    return statistic;\n  };\n  /** 获取总计数据 */\n\n\n  RingLayer.prototype.getTotalValue = function () {\n    var _a;\n\n    var props = this.options;\n    var total = 0;\n\n    _.each(props.data, function (item) {\n      if (typeof item[props.angleField] === 'number') {\n        total += item[props.angleField];\n      }\n    });\n\n    var data = (_a = {}, _a[props.angleField] = total, _a[props.colorField] = '总计', _a);\n    return data;\n  };\n\n  RingLayer.prototype.parseStatisticData = function (data) {\n    var props = this.options;\n    var angleField = props.angleField;\n    return props.colorField ? {\n      name: data[props.colorField],\n      value: data[angleField]\n    } : data[angleField];\n  };\n\n  RingLayer.prototype.getStatisticTemplate = function (displayData) {\n    var size = this.getStatisticSize();\n    var htmlString;\n    /** 如果文本内容为string或单条数据 */\n\n    if (_.isString(displayData)) {\n      htmlString = statisticTemplate.getSingleDataTemplate(displayData, this.statisticClass, size);\n    } else if (_.isObject(displayData) && _.keys(displayData).length === 2) {\n      /** 如果文本内容为两条数据 */\n      var content = displayData;\n      htmlString = statisticTemplate.getTwoDataTemplate(content.name, content.value, this.statisticClass, size);\n    }\n    /** 更为复杂的文本要求用户自行制定html模板 */\n\n\n    return htmlString;\n  };\n  /** 获取中心文本的htmlString */\n\n\n  RingLayer.prototype.getStatisticHtmlString = function (_displayData) {\n    var triggerOnConfig = this.statistic.triggerOn;\n    var htmlString;\n\n    if (_.isString(triggerOnConfig)) {\n      htmlString = this.getStatisticTemplate(_displayData);\n    }\n\n    if (_.isFunction(triggerOnConfig)) {\n      htmlString = triggerOnConfig(_displayData);\n      htmlString = \"<div class=\\\"ring-guide-html \" + this.statisticClass + \"\\\">\" + htmlString + \"</div>\";\n    }\n\n    return htmlString;\n  };\n\n  RingLayer.prototype.applyResponsive = function (stage) {\n    var _this = this;\n\n    var methods = responsiveMethods[stage];\n\n    _.each(methods, function (r) {\n      var responsive = r;\n      responsive.method(_this);\n    });\n  };\n\n  RingLayer.prototype.getStatisticSize = function () {\n    return this.width * this.options.radius;\n  };\n  /** @override 调整 label 默认 options */\n\n\n  RingLayer.prototype.adjustLabelDefaultOptions = function (options) {\n    var labelConfig = __assign({}, options.label);\n\n    if (labelConfig && labelConfig.type === 'inner') {\n      var labelStyleConfig = labelConfig.style || {};\n\n      if (!labelStyleConfig.textAlign) {\n        labelStyleConfig.textAlign = 'center';\n      }\n\n      labelConfig.style = labelStyleConfig;\n\n      if (!labelConfig.offset) {\n        labelConfig.offset = (options.innerRadius - 1) / 2 * 100 + \"%\";\n      }\n    }\n\n    return labelConfig;\n  };\n\n  RingLayer.centralId = 0;\n  return RingLayer;\n}(PieLayer);\n\nexport default RingLayer;\nregisterPlotType('ring', RingLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RingLayer from './layer';\n\nvar Ring =\n/** @class */\nfunction (_super) {\n  __extends(Ring, _super);\n\n  function Ring() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Ring.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'ring';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Ring.getDefaultOptions = RingLayer.getDefaultOptions;\n  return Ring;\n}(BasePlot);\n\nexport default Ring;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point'\n};\n\nvar RadarLayer =\n/** @class */\nfunction (_super) {\n  __extends(RadarLayer, _super);\n\n  function RadarLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'radar';\n    return _this;\n  }\n\n  RadarLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      smooth: false,\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1\n        }\n      },\n      area: {\n        visible: true,\n        style: {\n          opacity: 0.25\n        }\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n        style: {\n          opacity: 1\n        }\n      },\n      angleAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0]\n          }\n        },\n        label: {\n          visible: true,\n          offset: 8\n        },\n        title: {\n          visible: false\n        }\n      },\n      radiusAxis: {\n        min: 0,\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        gridType: 'line',\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0]\n          }\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false\n        }\n      },\n      label: {\n        visible: false,\n        type: 'point'\n      },\n      legend: {\n        visible: true,\n        position: 'left-top'\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: null\n      }\n    });\n  };\n\n  RadarLayer.prototype.init = function () {\n    var props = this.options;\n    props.xField = props.angleField;\n    props.yField = props.radiusField;\n\n    _super.prototype.init.call(this);\n  };\n\n  RadarLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  };\n\n  RadarLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  RadarLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.angleField] = {};\n\n    if (_.has(props, 'angleAxis')) {\n      extractScale(scales[props.angleField], props.angleAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.radiusField] = {};\n\n    if (_.has(props, 'radiusAxis')) {\n      extractScale(scales[props.radiusField], props.radiusAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  RadarLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RadarLayer.prototype.axis = function () {\n    var props = this.options;\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'angle'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'radius'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[props.angleField] = xAxis_parser;\n    axesConfig.fields[props.radiusField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  RadarLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    /** 配置面积 */\n\n    if (props.area.visible) {\n      var area = getGeom('area', 'main', {\n        plot: this\n      });\n      this.setConfig('element', area);\n      this.area = area;\n    }\n    /** 配置线 */\n\n\n    if (props.line && props.line.visible) {\n      var line = getGeom('line', 'guide', {\n        plot: this\n      });\n      this.setConfig('element', line);\n      this.line = line;\n    }\n    /** 配置点 */\n\n\n    if (props.point && props.point.visible) {\n      var point = getGeom('point', 'guide', {\n        plot: this\n      });\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  };\n\n  RadarLayer.prototype.label = function () {};\n\n  RadarLayer.prototype.annotation = function () {};\n\n  RadarLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      // 关闭动画\n      if (this.area) this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  };\n\n  RadarLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return RadarLayer;\n}(ViewLayer);\n\nexport default RadarLayer;\nregisterPlotType('radar', RadarLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RadarLayer from './layer';\n\nvar Radar =\n/** @class */\nfunction (_super) {\n  __extends(Radar, _super);\n\n  function Radar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Radar.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'radar';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Radar.getDefaultOptions = RadarLayer.getDefaultOptions;\n  return Radar;\n}(BasePlot);\n\nexport default Radar;","import { Circle } from '@antv/g';\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\nvar ShapeUtil = {\n  splitPoints: function splitPoints(obj) {\n    var points = [];\n    var x = obj.x;\n    var y = obj.y;\n    y = _.isArray(y) ? y : [y];\n\n    _.each(y, function (yItem, index) {\n      var point = {\n        x: _.isArray(x) ? x[index] : x,\n        y: yItem\n      };\n      points.push(point);\n    });\n\n    return points;\n  },\n  addFillAttrs: function addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n      attrs.fill = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n  addStrokeAttrs: function addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n      attrs.stroke = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n  }\n};\nvar ValueUtil = {\n  lerp: function lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n  }\n};\n\nvar getFillAttrs = function getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addFillAttrs(attrs, cfg);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n\n  return attrs;\n};\n\nvar getLineAttrs = function getLineAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.hollowInterval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addStrokeAttrs(attrs, cfg);\n  return attrs;\n};\n/**\n * 用贝塞尔曲线模拟正弦波\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} 正弦片段曲线\n */\n\n\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n  if (stage === 0) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2, amplitude / 2], [x + 1 / 2 * waveLength / Math.PI, amplitude], [x + waveLength / 4, amplitude]];\n  }\n\n  if (stage === 1) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2), amplitude], [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1), amplitude / 2], [x + waveLength / 4, 0]];\n  }\n\n  if (stage === 2) {\n    return [[x + 1 / 2 * waveLength / Math.PI / 2, -amplitude / 2], [x + 1 / 2 * waveLength / Math.PI, -amplitude], [x + waveLength / 4, -amplitude]];\n  }\n\n  return [[x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 2), -amplitude], [x + 1 / 2 * waveLength / Math.PI / 2 * (Math.PI - 1), -amplitude / 2], [x + waveLength / 4, 0]];\n}\n/**\n * 获取水波路径\n * @param  {number} radius          半径\n * @param  {number} waterLevel      水位\n * @param  {number} waveLength      波长\n * @param  {number} phase           相位\n * @param  {number} amplitude       震幅\n * @param  {number} cx              圆心x\n * @param  {number} cy              圆心y\n * @return {Array}  path            路径\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\n\n\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n  var curves = Math.ceil(2 * radius / waveLength * 4) * 2;\n  var path = [];\n  var _phase = phase; // map phase to [-Math.PI * 2, 0]\n\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n\n  _phase = _phase / Math.PI / 2 * waveLength;\n  var left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n\n  path.push(['M', left, waterLevel]);\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n\n  var waveRight = 0;\n\n  for (var c = 0; c < curves; ++c) {\n    var stage = c % 4;\n    var pos = getWaterWavePositions(c * waveLength / 4, stage, waveLength, amplitude);\n    path.push(['C', pos[0][0] + left, -pos[0][1] + waterLevel, pos[1][0] + left, -pos[1][1] + waterLevel, pos[2][0] + left, -pos[2][1] + waterLevel]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n\n\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['L', left, waterLevel]);\n  return path;\n}\n/**\n * 添加水波\n * @param {number} x           中心x\n * @param {number} y           中心y\n * @param {number} level       水位等级 0～1\n * @param {number} waveCount   水波数\n * @param {number} colors      色值\n * @param {number} group       图组\n * @param {number} clip        用于剪切的图形\n * @param {number} radius      绘制图形的高度\n */\n\n\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n  var bbox = clip.getBBox();\n  var width = bbox.maxX - bbox.minX;\n  var height = bbox.maxY - bbox.minY;\n  var duration = 5000;\n\n  for (var i = 0; i < waveCount; i++) {\n    var factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n    var wave = group.addShape('path', {\n      attrs: {\n        path: getWaterWavePath(radius, bbox.minY + height * level, width / 4, 0, width / ValueUtil.lerp(56, 64, factor), x, y),\n        fill: color,\n        clip: clip,\n        opacity: ValueUtil.lerp(0.6, 0.3, factor)\n      }\n    }); // FIXME wave animation error in svg\n\n    if (Global.renderer === 'canvas') {\n      wave.animate({\n        transform: [['t', width / 2, 0]],\n        repeat: true\n      }, ValueUtil.lerp(duration, 0.7 * duration, factor));\n    }\n  }\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw: function draw(cfg, container) {\n    var cy = 0.5;\n    var sumX = 0;\n    var minX = Infinity;\n\n    _.each(cfg.points, function (p) {\n      if (p.x < minX) {\n        minX = p.x;\n      }\n\n      sumX += p.x;\n    });\n\n    var cx = sumX / cfg.points.length;\n    var cp = this.parsePoint({\n      x: cx,\n      y: cy\n    });\n    var minP = this.parsePoint({\n      x: minX,\n      y: 0.5\n    });\n    var xWidth = cp.x - minP.x;\n    var radius = Math.min(xWidth, minP.y);\n    var fill = getFillAttrs(cfg).fill;\n    var clipCircle = new Circle({\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        r: radius\n      }\n    });\n    var waves = container.addGroup({\n      name: 'waves',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        clip: clipCircle\n      }\n    });\n    addWaterWave(cp.x, cp.y, 1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n    3, fill, waves, clipCircle, radius * 4);\n    return container.addShape('circle', {\n      name: 'wrap',\n      attrs: _.mix(getLineAttrs(cfg), {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n        fill: 'transparent'\n      })\n    });\n  }\n});","import { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction liquidMoveIn(shape, animateCfg) {\n  var container = shape.get('parent');\n  var box = container.getBBox();\n  var factor = Math.min(Math.max(0, _.get(animateCfg, 'factor', 0.5)), 1);\n\n  var delay = _.get(animateCfg, 'delay', 0);\n\n  var duration = _.get(animateCfg, 'duration', 800);\n\n  var callback = animateCfg.callback;\n  var originX = (box.minX + box.maxX) / 2;\n  var originY = box.maxY;\n  var wrap = container.find(function (shape) {\n    return shape.get('name') == 'wrap';\n  });\n  var wrapTargetOpacity = wrap.attr('opacity');\n  wrap.attr('opacity', 0);\n  wrap.animate({\n    opacity: wrapTargetOpacity\n  }, duration * factor, 'easeLinear', null, delay);\n  var waves = container.find(function (shape) {\n    return shape.get('name') == 'waves';\n  });\n\n  var wavesTargetMatrix = _.clone(waves.attr('matrix'));\n\n  waves.attr('transform', [['t', -originX, -originY], ['s', 1, 0], ['t', originX, originY]]);\n  waves.animate({\n    matrix: wavesTargetMatrix\n  }, duration, animateCfg.easing, function () {\n    return callback && callback(container, wrap, waves);\n  }, delay);\n}\n\nliquidMoveIn.animationName = 'liquidMoveIn';\nAnimate.registerAnimation('appear', 'liquidMoveIn', liquidMoveIn);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { BBox } from '@antv/g';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/liquid';\nimport './animation/liquid-move-in';\nimport { rgb2arr } from '../../util/color';\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'liquid'\n};\n\nvar LiquidLayer =\n/** @class */\nfunction (_super) {\n  __extends(LiquidLayer, _super);\n\n  function LiquidLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'liquid';\n    _this.shouldFadeInAnnotation = true;\n    return _this;\n  }\n\n  LiquidLayer.getDefaultOptions = function () {\n    var cfg = {\n      animation: {\n        factor: 0.4,\n        easing: 'easeExpOut',\n        duration: 800\n      },\n      liquidStyle: {\n        lineWidth: 2\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  LiquidLayer.prototype.beforeInit = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        value = _a.value;\n\n    if (!_.isNumber(min)) {\n      throw new Error('The min value of Liquid is required, and the type of min must be Number.');\n    }\n\n    if (!_.isNumber(max)) {\n      throw new Error('The max value of Liquid is required, and the type of max must be Number.');\n    }\n\n    if (!_.isNumber(value)) {\n      throw new Error('The value of Liquid is required, and the type of value must be Number.');\n    }\n  };\n\n  LiquidLayer.prototype.init = function () {\n    this.options.data = [{}];\n\n    _super.prototype.init.call(this);\n  };\n\n  LiquidLayer.prototype.coord = function () {};\n\n  LiquidLayer.prototype.scale = function () {\n    var props = this.options;\n    var min = props.min,\n        max = props.max;\n    var scales = {\n      value: {}\n    };\n    extractScale(scales.value, {\n      min: Math.min(min, max),\n      max: Math.max(min, max)\n    }); // @ts-ignore\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  LiquidLayer.prototype.axis = function () {\n    this.setConfig('axes', false);\n  };\n\n  LiquidLayer.prototype.adjustLiquid = function (liquid) {\n    var props = this.options;\n    liquid.shape = {\n      values: ['liquid-fill-gauge']\n    };\n    liquid.tooltip = false;\n    var liquidStyle = props.liquidStyle;\n    if (_.isFunction(liquidStyle)) liquidStyle = liquidStyle();\n\n    if (liquidStyle) {\n      liquid.style = liquidStyle;\n    }\n  };\n\n  LiquidLayer.prototype.addGeometry = function () {\n    var liquid = getGeom('interval', 'main', {\n      positionFields: ['_', 'value'],\n      plot: this\n    });\n    this.adjustLiquid(liquid);\n    this.liquid = liquid;\n    this.setConfig('element', liquid);\n  };\n\n  LiquidLayer.prototype.animation = function () {\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.liquid.animate = false;\n    } else {\n      var factor = _.get(props, 'animation.factor');\n\n      var easing = _.get(props, 'animation.easing');\n\n      var duration = _.get(props, 'animation.duration');\n\n      this.liquid.animate = {\n        appear: {\n          animation: 'liquidMoveIn',\n          factor: factor,\n          easing: easing,\n          duration: duration\n        }\n      };\n    }\n  };\n\n  LiquidLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  LiquidLayer.prototype.annotation = function () {\n    var annotationConfigs = [];\n    var statisticConfig = this.extractStatistic();\n    annotationConfigs.push(statisticConfig);\n    this.setConfig('annotations', annotationConfigs);\n  };\n\n  LiquidLayer.prototype.extractStatistic = function () {\n    var props = this.options;\n    var statistic = props.statistic || {};\n    var content;\n\n    if (_.isFunction(statistic.formatter)) {\n      content = statistic.formatter(props.value);\n    } else {\n      content = \"\" + props.value;\n    }\n\n    var fontSize;\n    var shadowBlur;\n\n    if (content) {\n      var contentWidth = void 0;\n\n      if (props.width < props.height) {\n        contentWidth = props.width * 0.8;\n      } else {\n        contentWidth = props.height;\n      }\n\n      fontSize = 0.8 * contentWidth / content.length;\n      shadowBlur = Math.max(1, Math.ceil(0.025 * fontSize));\n    }\n\n    var opacity;\n\n    if (statistic.visible === false) {\n      opacity = 0;\n    }\n\n    var statisticConfig = _.deepMix({\n      style: {\n        fontSize: fontSize,\n        shadowBlur: shadowBlur\n      }\n    }, statistic, {\n      top: true,\n      content: content,\n      type: 'text',\n      position: ['_', 'median'],\n      style: {\n        opacity: opacity,\n        fill: 'transparent',\n        shadowColor: 'transparent',\n        textAlign: 'center'\n      }\n    });\n\n    delete statisticConfig.visible;\n    delete statisticConfig.formatter;\n    delete statisticConfig.adjustColor;\n    return statisticConfig;\n  };\n\n  LiquidLayer.prototype.afterRender = function () {\n    this.fadeInAnnotation();\n    var options = this.options;\n    var padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n\n\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  };\n\n  LiquidLayer.prototype.processData = function (data) {\n    var props = this.options;\n    return [{\n      _: '_',\n      value: props.value\n    }];\n  };\n\n  LiquidLayer.prototype.changeValue = function (value) {\n    var props = this.options;\n    props.value = value;\n    this.changeData([]);\n  };\n\n  LiquidLayer.prototype.fadeInAnnotation = function () {\n    var _this = this;\n\n    var props = this.options;\n    var animation = props.animation || {};\n    var annotations = this.view.annotation().annotations;\n    var annotationEl = annotations[0].get('el');\n    var colorStyle = this.calcAnnotationColorStyle();\n\n    if (this.shouldFadeInAnnotation) {\n      annotationEl.animate(colorStyle, animation.duration * Math.min(1, 1.5 * animation.factor), null, function () {\n        _this.shouldFadeInAnnotation = false;\n      });\n    } else {\n      _.forIn(colorStyle, function (v, k) {\n        return annotationEl.attr(k, v);\n      });\n    }\n  };\n\n  LiquidLayer.prototype.calcAnnotationColorStyle = function () {\n    var props = this.options;\n    var lightColorStyle = {\n      fill: '#f6f6f6',\n      shadowColor: 'black'\n    };\n    var darkColorStyle = {\n      fill: '#303030',\n      shadowColor: 'white'\n    };\n\n    if (_.get(props, 'statistic.adjustColor') === false) {\n      return {\n        fill: _.get(props, 'statistic.style.fill', darkColorStyle.fill),\n        shadowColor: _.get(props, 'statistic.style.shadowColor', darkColorStyle.shadowColor)\n      };\n    }\n\n    var min = props.min,\n        max = props.max;\n    var value = props.value;\n    min = Math.min(min, max);\n    max = Math.max(min, max);\n    var percent;\n\n    if (min == max) {\n      percent = 1;\n    } else {\n      percent = (value - min) / (max - min);\n    }\n\n    if (percent > 0.55) {\n      var waves = this.view.get('elements')[0].get('container').find(function (shape) {\n        return shape.get('name') == 'waves';\n      });\n      var wave = waves.getChildByIndex(0);\n      var waveColor = wave.attr('fill');\n      var waveOpacity = 0.8;\n      var rgb = rgb2arr(waveColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / waveOpacity;\n      return gray < 156 ? lightColorStyle : darkColorStyle;\n    }\n\n    return darkColorStyle;\n  };\n\n  LiquidLayer.prototype.updateConfig = function (cfg) {\n    _super.prototype.updateConfig.call(this, cfg);\n\n    this.shouldFadeInAnnotation = true;\n  };\n\n  LiquidLayer.prototype.getViewRange = function () {\n    var viewRange = _super.prototype.getViewRange.call(this);\n\n    var liquidStyle = this.options.liquidStyle;\n    var strokeWidth = liquidStyle.lineWidth ? liquidStyle.lineWidth : 2;\n    var minX = viewRange.minX,\n        minY = viewRange.minY,\n        width = viewRange.width,\n        height = viewRange.height;\n    var size = Math.min(width, height) - strokeWidth * 2;\n    var cx = minX + width / 2;\n    var cy = minY + height / 2;\n    var x = cx - size / 2;\n    var y = cy - size / 2;\n    return new BBox(x, y, size, size);\n  };\n\n  return LiquidLayer;\n}(ViewLayer);\n\nexport default LiquidLayer;\nregisterPlotType('liquid', LiquidLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport LiquidLayer from './layer';\n\nvar Liquid =\n/** @class */\nfunction (_super) {\n  __extends(Liquid, _super);\n\n  function Liquid() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Liquid.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'liquid';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Liquid.prototype.changeValue = function (value, all) {\n    if (all === void 0) {\n      all = false;\n    }\n\n    if (all) {\n      this.eachLayer(function (layer) {\n        if (layer instanceof LiquidLayer) {\n          layer.changeValue(value);\n        }\n      });\n    } else {\n      var layer = this.layers[0];\n\n      if (layer instanceof LiquidLayer) {\n        layer.changeValue(value);\n      }\n    }\n  };\n\n  Liquid.getDefaultOptions = LiquidLayer.getDefaultOptions;\n  return Liquid;\n}(BasePlot);\n\nexport default Liquid;","import { registerShape } from '@antv/g2';\nvar POINTER_RADIUS = 10;\nvar POINTER_LINE_WIDTH = 4;\nregisterShape('point', 'pointer', {\n  draw: function draw(cfg, group) {\n    var point = cfg.points[0];\n    var center = this.parsePoint({\n      x: 0,\n      y: 0\n    });\n    var target = this.parsePoint({\n      x: point.x,\n      y: 0.5\n    });\n    var dir_vec = {\n      x: center.x - target.x,\n      y: center.y - target.y\n    }; //normalize\n\n    var length = Math.sqrt(dir_vec.x * dir_vec.x + dir_vec.y * dir_vec.y);\n    dir_vec.x *= 1 / length;\n    dir_vec.y *= 1 / length; //rotate dir_vector by -90 and scale\n\n    var angle1 = -Math.PI / 2;\n    var x_1 = Math.cos(angle1) * dir_vec.x - Math.sin(angle1) * dir_vec.y;\n    var y_1 = Math.sin(angle1) * dir_vec.x + Math.cos(angle1) * dir_vec.y; //rotate dir_vector by 90 and scale\n\n    var angle2 = Math.PI / 2;\n    var x_2 = Math.cos(angle2) * dir_vec.x - Math.sin(angle2) * dir_vec.y;\n    var y_2 = Math.sin(angle2) * dir_vec.x + Math.cos(angle2) * dir_vec.y; // startx\n\n    var angle = Math.atan2(dir_vec.y, dir_vec.x);\n    var offset = POINTER_LINE_WIDTH / 2 - POINTER_RADIUS;\n    var startX = center.x + Math.cos(angle) * offset;\n    var startY = center.y + Math.sin(angle) * offset; //polygon vertex\n\n    var path = [['M', target.x + x_1 * 1, target.y + y_1 * 1], ['L', startX + x_1 * 3, startY + y_1 * 3], ['L', startX + x_2 * 3, startY + y_2 * 3], ['L', target.x + x_2 * 1, target.y + y_2 * 1], ['Z']];\n    group.addShape('circle', {\n      attrs: {\n        x: center.x,\n        y: center.y,\n        r: POINTER_RADIUS,\n        lineWidth: POINTER_LINE_WIDTH,\n        stroke: cfg.color\n      }\n    });\n    var tick = group.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color\n      }\n    });\n    return tick;\n  }\n});","import { registerTheme } from '../../theme';\nregisterTheme('gauge', {\n  stripWidth: 30,\n  stripBackColor: '#ddd',\n  tickInterval: 20,\n  tickLabelPos: 'inner',\n  tickLabelSize: 16,\n  tickLabelColor: '#aaa',\n  tickLineColor: '#aaa',\n  subTickCount: 4,\n  labelPos: ['50%', '80%'],\n  labelColor: '#666',\n  labelSize: 30\n});","import { __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/pointer';\nimport './theme';\nvar GAP = 1;\nvar RADIUS = 0.9;\n\nvar GaugeLayer =\n/** @class */\nfunction (_super) {\n  __extends(GaugeLayer, _super);\n\n  function GaugeLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'gauge';\n    return _this;\n  }\n\n  GaugeLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      startAngle: -7 / 6,\n      endAngle: 1 / 6,\n      range: [0, 25, 50, 75, 100],\n      gaugeStyle: {\n        tickLineColor: 'rgba(0,0,0,0)',\n        pointerColor: '#bfbfbf',\n        statisticPos: ['50%', '100%']\n      }\n    });\n  };\n\n  GaugeLayer.prototype.init = function () {\n    var _a = this.options,\n        value = _a.value,\n        range = _a.range;\n    var rangeSorted = range.map(function (d) {\n      return +d;\n    }).sort(function (a, b) {\n      return a - b;\n    });\n    var _b = this.options,\n        _c = _b.min,\n        min = _c === void 0 ? rangeSorted[0] : _c,\n        _d = _b.max,\n        max = _d === void 0 ? rangeSorted[rangeSorted.length - 1] : _d,\n        _e = _b.format,\n        format = _e === void 0 ? function (d) {\n      return \"\" + d;\n    } : _e;\n    var valueText = format(value);\n    var styleMix = this.getStyleMix();\n    this.options.styleMix = styleMix;\n    this.options.data = [{\n      value: value || 0\n    }];\n    this.options.valueText = valueText;\n    this.options.min = min;\n    this.options.max = max;\n    this.options.format = format;\n\n    _super.prototype.init.call(this);\n  };\n\n  GaugeLayer.prototype.geometryParser = function (dim, type) {\n    throw new Error('Method not implemented.');\n  };\n\n  GaugeLayer.prototype.getStyleMix = function () {\n    var _a = this.options.gaugeStyle,\n        gaugeStyle = _a === void 0 ? {} : _a;\n\n    var _b = this,\n        width = _b.width,\n        height = _b.height;\n\n    var size = Math.max(width, height) / 20;\n    var defaultStyle = Object.assign({}, this.theme, {\n      stripWidth: size,\n      tickLabelSize: size / 2,\n      statisticSize: size * 1.5\n    });\n    return Object.assign(defaultStyle, gaugeStyle);\n  };\n\n  GaugeLayer.prototype.scale = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        format = _a.format,\n        styleMix = _a.styleMix;\n    var scales = {\n      value: {}\n    };\n    extractScale(scales.value, {\n      min: min,\n      max: max,\n      minLimit: min,\n      maxLimit: max,\n      nice: true,\n      formatter: format,\n      // 自定义 tick step\n      tickInterval: styleMix.tickInterval\n    }); // @ts-ignore\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  GaugeLayer.prototype.coord = function () {\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: 0.9,\n        startAngle: this.options.startAngle * Math.PI,\n        endAngle: this.options.endAngle * Math.PI\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  GaugeLayer.prototype.axis = function () {\n    var styleMix = this.options.styleMix;\n    var offset = typeof styleMix.tickLabelPos === 'number' ? -styleMix.tickLabelPos : styleMix.tickLabelPos === 'outer' ? 0.8 : -0.8;\n    var axesConfig = {\n      fields: {\n        value: {},\n        1: {}\n      }\n    };\n    axesConfig.fields.value = {\n      line: null,\n      label: {\n        offset: offset * (styleMix.stripWidth / 1.8 + styleMix.tickLabelSize / 1.5),\n        textStyle: {\n          fontSize: styleMix.tickLabelSize,\n          fill: styleMix.tickLabelColor,\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }\n      },\n      tickLine: {\n        length: offset * (styleMix.stripWidth + 4),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 2,\n        // 由于tickline的zindex在annotation之上，所以使用lineDash实现offset\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 4))]\n      },\n      subTickCount: styleMix.subTickCount,\n      subTickLine: {\n        length: offset * (styleMix.stripWidth + 1),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 1,\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 1))]\n      },\n      labelAutoRotate: true\n    };\n    axesConfig.fields['1'] = false;\n    this.setConfig('axes', axesConfig);\n  };\n\n  GaugeLayer.prototype.addGeometry = function () {\n    var styleMix = this.options.styleMix;\n    var pointerColor = styleMix.pointerColor || this.config.theme.defaultColor;\n    var pointer = {\n      type: 'point',\n      position: {\n        fields: ['value', '1']\n      },\n      shape: {\n        values: ['pointer']\n      },\n      color: {\n        values: [pointerColor]\n      },\n      animate: false\n    };\n    this.setConfig('element', pointer);\n  };\n\n  GaugeLayer.prototype.annotation = function () {\n    var _a = this.options,\n        min = _a.min,\n        max = _a.max,\n        statistic = _a.statistic,\n        range = _a.range,\n        styleMix = _a.styleMix;\n    var annotationConfigs = []; // @ts-ignore\n\n    if (statistic !== false) {\n      var statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n\n    var arcSize = 1; // 0.965;\n\n    var strips = this.renderArcs(range, arcSize, styleMix);\n    var allArcs = annotationConfigs.concat(strips);\n    this.setConfig('annotations', allArcs);\n  };\n\n  GaugeLayer.prototype.renderArcs = function (range, arcSize, styleMix) {\n    var _this = this;\n\n    var colors = styleMix.colors || this.config.theme.colors;\n\n    var rangeArray = function rangeArray(d) {\n      return __spreadArrays(Array(d).fill(0).map(function (data, i) {\n        return i;\n      }));\n    };\n\n    var count = range.length - 1;\n    var Arcs = [];\n    var Bks = [];\n    var countArray = rangeArray(count);\n\n    _.each(countArray, function (index) {\n      var gap = index === countArray.length - 1 ? 0 : _this.calGapAngle();\n      var arc = {\n        type: 'arc',\n        start: [range[index], arcSize],\n        end: [range[index + 1] - gap, arcSize],\n        style: {\n          stroke: colors[index % colors.length],\n          lineWidth: styleMix.stripWidth\n        }\n      };\n\n      var base = _.deepMix({}, arc, {\n        style: {\n          stroke: styleMix.stripBackColor\n        }\n      });\n\n      Bks.push(base);\n      Arcs.push(arc);\n    }); // 如果range不以0为起始\n\n\n    if (range[0] !== 0) {\n      Bks.push({\n        type: 'arc',\n        start: [0, arcSize],\n        end: [range[0] - this.calGapAngle(), arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth\n        }\n      });\n    } // 如果range不以100为结束\n\n\n    if (range[range.length - 1] !== 100) {\n      Bks.push({\n        type: 'arc',\n        start: [range[range.length - 1] + this.calGapAngle(), arcSize],\n        end: [100, arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth\n        }\n      });\n    }\n\n    return Bks.concat(Arcs);\n  };\n\n  GaugeLayer.prototype.statisticHtml = function () {\n    var _a = this.options,\n        value = _a.value,\n        format = _a.format;\n    var statistic = this.options.statistic;\n    var formatted = format(value);\n\n    if (typeof statistic === 'boolean' && statistic === true) {\n      return value !== null ? formatted : '--';\n    }\n\n    if (typeof statistic === 'string') {\n      return statistic;\n    }\n\n    if (typeof statistic === 'function') {\n      return statistic(value, formatted);\n    }\n\n    return null;\n  };\n\n  GaugeLayer.prototype.renderStatistic = function () {\n    var _a = this.options,\n        statistic = _a.statistic,\n        styleMix = _a.styleMix;\n    var statisticHtml = this.statisticHtml();\n\n    if (typeof statistic !== 'function') {\n      var text = {\n        type: 'text',\n        content: statisticHtml,\n        top: true,\n        position: styleMix.statisticPos,\n        style: {\n          fill: styleMix.statisticColor,\n          fontSize: styleMix.statisticSize,\n          textAlign: 'center'\n        }\n      };\n      return text;\n    }\n\n    if (typeof statistic === 'function') {\n      var html = {\n        type: 'html',\n        zIndex: 10,\n        position: styleMix.statisticPos,\n        html: statisticHtml\n      };\n      return html;\n    }\n  };\n\n  GaugeLayer.prototype.calGapAngle = function () {\n    var ratio = Math.abs(this.options.startAngle - this.options.endAngle) / Math.PI * 100;\n    var radius = this.width / 2 * RADIUS;\n    return GAP / radius * ratio;\n  };\n\n  return GaugeLayer;\n}(ViewLayer);\n\nexport default GaugeLayer;\nregisterPlotType('gauge', GaugeLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport GaugeLayer from './layer';\n\nvar Gauge =\n/** @class */\nfunction (_super) {\n  __extends(Gauge, _super);\n\n  function Gauge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Gauge.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'gauge';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Gauge.getDefaultOptions = GaugeLayer.getDefaultOptions;\n  return Gauge;\n}(BasePlot);\n\nexport default Gauge;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport AreaLayer from './layer';\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Area.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'area';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Area.getDefaultOptions = AreaLayer.getDefaultOptions;\n  return Area;\n}(BasePlot);\n\nexport default Area;","import { __assign, __extends } from \"tslib\";\nimport { Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { each, mix, has, clone } from '@antv/util';\nvar DEFAULT_SIZE = 12;\nvar TOLERANCE = 0.01;\nvar MAX_ITERATION = 100;\nvar MIN_HEIGHT = 12;\n\nfunction getRange(points) {\n  var maxHeight = -Infinity;\n  var min = Infinity;\n  var max = -Infinity;\n  each(points, function (p) {\n    min = Math.min(p.x, min);\n    max = Math.max(p.x, max);\n    var height = Math.abs(p.y[0] - p.y[1]);\n    maxHeight = Math.max(maxHeight, height);\n  });\n  return {\n    xRange: [min, max],\n    maxHeight: maxHeight\n  };\n}\n\nfunction interpolateY(x, points, index) {\n  var leftPoint = points[0];\n  var rightPoint = points[points.length - 1];\n  each(points, function (p) {\n    if (p.x === x) {\n      return p.y[index];\n    }\n\n    if (p.x < x && p.x > leftPoint.x) {\n      leftPoint = p;\n    }\n\n    if (p.x > x && p.x < rightPoint.x) {\n      rightPoint = p;\n    }\n  });\n  var t = (x - leftPoint.x) / (rightPoint.x - leftPoint.x);\n  return leftPoint.y[index] * (1 - t) + rightPoint.y[index] * t;\n}\n\nfunction getXIndex(data, x) {\n  // tslint:disable-next-line: prefer-for-of\n  var i;\n\n  for (i = 0; i < data.length; i++) {\n    var d = data[i];\n\n    if (d.x === x || d.x > x) {\n      break;\n    }\n  }\n\n  return i;\n}\n\nvar AreaLabel =\n/** @class */\nfunction (_super) {\n  __extends(AreaLabel, _super);\n\n  function AreaLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.scaleFactor = [];\n    return _this;\n  }\n\n  AreaLabel.prototype.showLabels = function (points, shapes) {\n    var _this = this; // 获取堆叠字段\n\n\n    var plot = this.get('labelOptions').plot;\n    var stackField = plot.options.stackField;\n\n    if (stackField) {\n      // 根据stackField将point分组\n      var groupedPoints = this._groupPoints(points, stackField);\n\n      var labelPoints_1 = [];\n      each(groupedPoints, function (pointArray, name) {\n        var labelPoint = _this._drawLabel(pointArray, name);\n\n        if (labelPoint) {\n          labelPoints_1.push(mix({}, pointArray[0], labelPoint));\n\n          _this.scaleFactor.push(labelPoint.scaleFactor);\n        }\n      });\n\n      _super.prototype.showLabels.call(this, labelPoints_1, shapes);\n\n      var labelOptions = this.get('labelOptions');\n\n      if (labelOptions.autoScale) {\n        this._adjuestLabelSize();\n      }\n    } else {\n      _super.prototype.showLabels.call(this, points, shapes);\n    }\n  };\n\n  AreaLabel.prototype._groupPoints = function (points, field) {\n    var groupedPoints = {};\n    each(points, function (p) {\n      var value = p._origin[field];\n\n      if (!has(groupedPoints, value)) {\n        groupedPoints[value] = [];\n      }\n\n      groupedPoints[value].push(p);\n    });\n    return groupedPoints;\n  };\n\n  AreaLabel.prototype._drawLabel = function (points, name) {\n    var _a = getRange(points),\n        xRange = _a.xRange,\n        maxHeight = _a.maxHeight; // 根据area宽度在x方向各点间做插值\n\n\n    var resolution = xRange[1] - xRange[0];\n\n    var interpolatedPoints = this._getInterpolatedPoints(xRange[0], resolution, points); // 获取label的bbox\n\n\n    var bbox = this._getLabelBbox(name);\n\n    var fitOption = {\n      xRange: xRange,\n      aspect: bbox.width / bbox.height,\n      data: interpolatedPoints,\n      justTest: true\n    };\n\n    var height = this._bisection(MIN_HEIGHT, maxHeight, this._testFit, fitOption, TOLERANCE, MAX_ITERATION);\n\n    if (height === null) {\n      return;\n    }\n\n    fitOption.justTest = false;\n\n    var fit = this._testFit(fitOption);\n\n    fit.x = fit.x;\n    fit.y = fit.y0 + (fit.y1 - fit.y0) / 2;\n    fit.scaleFactor = height / bbox.height * 0.4;\n    return fit;\n  };\n\n  AreaLabel.prototype._getInterpolatedPoints = function (minX, resolution, points) {\n    var interpolatedPoints = [];\n    var step = 2;\n\n    for (var i = minX; i < resolution; i += step) {\n      var y0 = interpolateY(i, points, 0);\n      var y1 = interpolateY(i, points, 1);\n      interpolatedPoints.push({\n        x: i,\n        y: [y0, y1]\n      });\n    }\n\n    return interpolatedPoints;\n  };\n\n  AreaLabel.prototype._bisection = function (min, max, test, testOption, tolerance, maxIteration) {\n    for (var i = 0; i < maxIteration; i++) {\n      var middle = (min + max) / 2;\n      var options = testOption;\n      options.height = middle;\n      options.width = middle * options.aspect;\n      var passesTest = test(options);\n      var withinTolerance = (max - min) / 2 < tolerance;\n\n      if (passesTest && withinTolerance) {\n        return middle;\n      }\n\n      if (passesTest) {\n        min = middle;\n      } else {\n        max = middle;\n      }\n    }\n\n    return null;\n  };\n\n  AreaLabel.prototype._testFit = function (option) {\n    var xRange = option.xRange,\n        width = option.width,\n        height = option.height,\n        data = option.data,\n        justTest = option.justTest;\n\n    for (var i = 0; i < data.length; i++) {\n      var d = data[i];\n      var x0 = d.x;\n      var x1 = x0 + width;\n\n      if (x1 > xRange[1]) {\n        break;\n      }\n\n      var x1_index = getXIndex(data, x1);\n      var ceiling = -Infinity;\n      var ceilingFloor = null; // 保存ceiling时对应的bottom位置，ceil和floor不一定是一对坐标\n\n      var floor = Infinity;\n\n      for (var j = i; j < x1_index; j++) {\n        var top_1 = data[j].y[1];\n        var bottom = data[j].y[0];\n\n        if (bottom < floor) {\n          floor = bottom;\n        }\n\n        if (top_1 > ceiling) {\n          ceiling = top_1;\n          ceilingFloor = bottom;\n        }\n\n        if (floor - ceiling < height) {\n          break;\n        }\n      }\n\n      if (floor - ceiling >= height) {\n        if (justTest) {\n          return true;\n        }\n\n        return {\n          x: x0,\n          y0: ceiling,\n          y1: ceilingFloor,\n          width: width,\n          height: height\n        };\n      }\n    }\n\n    return false;\n  };\n\n  AreaLabel.prototype._getLabelBbox = function (text) {\n    var plot = this.get('labelOptions').plot;\n    var labelStyle = clone(plot.theme.label.textStyle);\n    labelStyle.fontSize = DEFAULT_SIZE;\n    var tShape = new Text({\n      attrs: __assign({\n        text: text,\n        x: 0,\n        y: 0\n      }, labelStyle)\n    });\n    return tShape.getBBox();\n  };\n\n  AreaLabel.prototype._adjuestLabelSize = function () {\n    var _this = this;\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    each(labels, function (label, index) {\n      var scaleFactor = _this.scaleFactor[index];\n      label.attr('fontSize', DEFAULT_SIZE);\n      label.transform([['t', -label.attr('x'), -label.attr('y')], ['s', scaleFactor, scaleFactor], ['t', label.attr('x'), label.attr('y')]]);\n    });\n    view.get('canvas').draw();\n  };\n\n  return AreaLabel;\n}(ElementLabels);\n\nregisterElementLabels('area', AreaLabel);","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { deepMix, each } from '@antv/util';\nvar MARGIN = 10;\n\nvar AreaLineElementLabels =\n/** @class */\nfunction (_super) {\n  __extends(AreaLineElementLabels, _super);\n\n  function AreaLineElementLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AreaLineElementLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    var labelPoints = [];\n    each(shapes, function (shape) {\n      var originData = shape.get('origin');\n      var lastPoint = deepMix({}, originData[originData.length - 1]);\n      var bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      lastPoint.y = lastPoint.y[1];\n      labelPoints.push(lastPoint);\n    });\n\n    _super.prototype.showLabels.call(this, labelPoints, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    each(labels, function (label) {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      var origin = label.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var color = _this._adjustColor(shapeId, shapes);\n\n      label.attr('fill', color);\n    });\n    view.get('canvas').draw();\n  };\n\n  AreaLineElementLabels.prototype._adjustColor = function (shapeId, shapes) {\n    var color;\n    each(shapes, function (shape) {\n      var id = shape.id;\n\n      if (id === shapeId) {\n        color = shape.attr('fill');\n      }\n    });\n    return color;\n  };\n\n  return AreaLineElementLabels;\n}(ElementLabels);\n\nregisterElementLabels('areaLine', AreaLineElementLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getComponent } from '../../components/factory';\nimport BaseArea from '../area/layer';\nimport './component/label/area-label';\nimport './component/label/line-label';\n\nvar StackAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(StackAreaLayer, _super);\n\n  function StackAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'stackArea';\n    return _this;\n  }\n\n  StackAreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      label: {\n        visible: false,\n        type: 'area'\n      }\n    });\n  };\n\n  StackAreaLayer.prototype.label = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      this.area.label = false;\n      return;\n    }\n\n    var labelType = this.getLabelType(label);\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n\n    if (labelType === 'areaLine' || labelType === 'area') {\n      label.offset = 0;\n    }\n\n    if (labelType === 'area') {\n      label.style = _.deepMix({}, label.style, {\n        lineWidth: 0,\n        stroke: 'rgba(0,0,0,0)'\n      });\n    }\n\n    this.area.label = getComponent('label', __assign({\n      fields: [this.getLabelField(labelType, props)],\n      labelType: labelType,\n      plot: this\n    }, label));\n  };\n\n  StackAreaLayer.prototype.adjustArea = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.adjustLine = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.adjustPoint = function (ele) {\n    ele.adjust = [{\n      type: 'stack'\n    }];\n  };\n\n  StackAreaLayer.prototype.getLabelField = function (type, props) {\n    var mapper = {\n      point: props.yField,\n      areaLine: props.stackField,\n      area: props.stackField\n    };\n    return mapper[type];\n  };\n\n  StackAreaLayer.prototype.getLabelType = function (labelProps) {\n    if (labelProps.type === 'line') {\n      return 'areaLine';\n    }\n\n    return labelProps.type;\n  };\n\n  return StackAreaLayer;\n}(BaseArea);\n\nexport default StackAreaLayer;\nregisterPlotType('stackArea', StackAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport StackAreaLayer from './layer';\n\nvar StackArea =\n/** @class */\nfunction (_super) {\n  __extends(StackArea, _super);\n\n  function StackArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'stackArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StackArea.getDefaultOptions = StackAreaLayer.getDefaultOptions;\n  return StackArea;\n}(BasePlot);\n\nexport default StackArea;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport StackArea from '../stack-area/layer';\nimport { transformDataPercentage } from '../../util/data';\n\nvar PercentageStackAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackAreaLayer, _super);\n\n  function PercentageStackAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'percentageStackArea';\n    return _this;\n  }\n\n  PercentageStackAreaLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      yAxis: {\n        visible: true,\n        label: {\n          visible: true,\n          formatter: function formatter(v) {\n            var reg = /%/gi;\n            return v.replace(reg, '');\n          }\n        }\n      }\n    });\n  };\n\n  PercentageStackAreaLayer.prototype.processData = function (originData) {\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    return transformDataPercentage(originData, xField, [yField]);\n  };\n\n  PercentageStackAreaLayer.prototype.scale = function () {\n    var metaConfig = {};\n    var yField = this.options.yField;\n    metaConfig[this.options.yField] = {\n      tickCount: 6,\n      alias: yField + \" (%)\",\n      min: 0,\n      max: 1,\n      formatter: function formatter(v) {\n        var formattedValue = (v * 100).toFixed(1);\n        return formattedValue + \"%\";\n      }\n    };\n    this.options.meta = _.deepMix({}, metaConfig, this.options.meta);\n\n    _super.prototype.scale.call(this);\n  };\n\n  return PercentageStackAreaLayer;\n}(StackArea);\n\nexport default PercentageStackAreaLayer;\nregisterPlotType('percentageStackArea', PercentageStackAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport PercentageStackAreaLayer from './layer';\n\nvar PercentageStackArea =\n/** @class */\nfunction (_super) {\n  __extends(PercentageStackArea, _super);\n\n  function PercentageStackArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PercentageStackArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'percentageStackArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  PercentageStackArea.getDefaultOptions = PercentageStackAreaLayer.getDefaultOptions;\n  return PercentageStackArea;\n}(BasePlot);\n\nexport default PercentageStackArea;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { rgb2arr } from '../../../../util/color';\n\nfunction avg(arr) {\n  var sum = 0;\n\n  _.each(arr, function (value) {\n    sum += value;\n  });\n\n  return sum / arr.length;\n}\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nvar FunnelLabel =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLabel, _super);\n\n  function FunnelLabel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FunnelLabel.prototype.setLabelPosition = function (point, originPoint, index) {\n    var coord = this.get('coord');\n    var transposed = coord.isTransposed;\n    var point0 = coord.convertPoint(originPoint.points[0]);\n    var point1 = coord.convertPoint(originPoint.points[2]);\n    var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n    var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n\n    if (transposed) {\n      point.x -= width;\n    } else {\n      point.y += height;\n    }\n\n    point.textAlign = 'center';\n    point.textBaseline = 'middle';\n  };\n\n  FunnelLabel.prototype.getLabelPoint = function (labelOptions, point, index) {\n    var total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      var v = value;\n\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个值,取最后一个值\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n\n      return v;\n    }\n\n    var label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: {\n        x: 0,\n        y: 0\n      },\n      color: '#fff'\n    };\n    label.x = getDimValue(point.x, index);\n    label.y = getDimValue(point.y, index);\n    this.setLabelPosition(label, point, index);\n    var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = {\n      x: label.x,\n      y: label.y\n    };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  };\n\n  FunnelLabel.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var adjustColor = _this.get('labelOptions').adjustColor;\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  FunnelLabel.prototype.adjustColor = function (label, shape) {\n    var shapeColor = shape.attr('fill');\n    var shapeOpacity = _.isNumber(shape.attr('opacity')) ? Math.min(Math.max(0, shape.attr('opacity')), 1) : 1;\n    var rgb = rgb2arr(shapeColor);\n    var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    var fill = gray < 156 ? '#f6f6f6' : '#303030';\n    label.attr('fill', fill);\n    var coord = this.get('coord');\n    var shapeBBox = shape.getBBox();\n\n    var _a = coord.invertMatrix(shapeBBox.x, shapeBBox.y, 1),\n        shapeStartX = _a[0],\n        shapeStartY = _a[1];\n\n    var _b = coord.invertMatrix(shapeBBox.width, shapeBBox.height, 0),\n        shapeSizeX = _b[0],\n        shapeSizeY = _b[1];\n\n    var _c = [shapeStartX + shapeSizeX, shapeStartY + shapeSizeY],\n        shapeEndX = _c[0],\n        shapeEndY = _c[1];\n    var shapeMinX = Math.min(shapeStartX, shapeEndX);\n    var shapeMaxX = Math.max(shapeStartX, shapeEndX);\n    var shapeMinY = Math.min(shapeStartY, shapeEndY);\n    var shapeMaxY = Math.max(shapeStartY, shapeEndY);\n    var compare = shape.get('__compare__');\n\n    if (compare) {\n      var yValues = compare.yValues;\n      label.attr({\n        x: compare.transpose ? (shapeMinX + shapeMaxX) / 2 : lerp(shapeMinX, shapeMaxX, yValues[0] / (yValues[0] + yValues[1])),\n        y: compare.transpose ? lerp(shapeMinY, shapeMaxY, yValues[0] / (yValues[0] + yValues[1])) : (shapeMinY + shapeMaxY) / 2\n      });\n    }\n\n    var labelBBox = label.getBBox();\n    var shapeContainsLabel = labelBBox.minX >= shapeMinX && labelBBox.maxX <= shapeMaxX && labelBBox.minY >= shapeMinY && labelBBox.maxY <= shapeMaxY;\n    label.set('visible', shapeContainsLabel);\n  };\n\n  FunnelLabel.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  return FunnelLabel;\n}(ElementLabels);\n\nexport { FunnelLabel };\nregisterElementLabels('funnelLabel', FunnelLabel);","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  var _a = animateCfg || {},\n      _b = _a.duration,\n      duration = _b === void 0 ? 200 : _b,\n      easing = _a.easing,\n      callback = _a.callback,\n      reverse = _a.reverse;\n\n  var box = shape.getBBox();\n  var originX = reverse ? box.maxX : box.minX;\n  var originY = (box.minY + box.maxY) / 2;\n  var shapeIndex = shape.get('index');\n  var clip = getClip(coord);\n\n  var clipTargetMatrix = _.clone(clip.attr('matrix'));\n\n  clip.attr('transform', [['t', -originX, -originY], ['s', 0, 1], ['t', originX, originY]]);\n  var shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('clip', clip);\n  clip.animate({\n    matrix: clipTargetMatrix\n  }, duration, easing, function () {\n    clip.remove();\n    shape.attr('clip', null);\n  }, shapeIndex * duration);\n  shape.animate({\n    fillOpacity: shapeTargetFillOpacity\n  }, duration, easing, null, shapeIndex * duration);\n  callback && setTimeout(function () {\n    return callback(shape);\n  }, duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInX';\nAnimate.registerAnimation('appear', 'funnelScaleInX', funnelScaleInY);","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  var _a = animateCfg || {},\n      _b = _a.duration,\n      duration = _b === void 0 ? 200 : _b,\n      easing = _a.easing,\n      callback = _a.callback,\n      reverse = _a.reverse;\n\n  var box = shape.getBBox();\n  var originX = (box.minX + box.maxX) / 2;\n  var originY = reverse ? box.minY : box.maxY;\n  var shapeIndex = shape.get('index');\n  var clip = getClip(coord);\n\n  var clipTargetMatrix = _.clone(clip.attr('matrix'));\n\n  clip.attr('transform', [['t', -originX, -originY], ['s', 1, 0], ['t', originX, originY]]);\n  var shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n  shape.attr('clip', clip);\n  clip.animate({\n    matrix: clipTargetMatrix\n  }, duration, easing, function () {\n    clip.remove();\n    shape.attr('clip', null);\n  }, shapeIndex * duration);\n  shape.animate({\n    fillOpacity: shapeTargetFillOpacity\n  }, duration, easing, null, shapeIndex * duration);\n  callback && setTimeout(function () {\n    return callback(shape);\n  }, duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  var start = coord.start,\n      end = coord.end,\n      width = coord.width,\n      height = coord.height;\n  var clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height\n    }\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInY';\nAnimate.registerAnimation('appear', 'funnelScaleInY', funnelScaleInY);","import { registerTheme } from '../../theme';\nregisterTheme('funnel', {});","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n} // 获取填充图形的图形属性\n\n\nfunction _getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval.rect.default;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 根据矩形关键点绘制 path\n\n\nfunction _getRectPath(points, _a) {\n  var reverse = _a.reverse,\n      ratioUpper = _a.ratioUpper,\n      ratioLower = _a.ratioLower;\n  var path = [];\n  var firstPoint = points[0];\n  var originX = (points[1].x + points[2].x) / 2;\n  var factorTop = 1.2;\n  var factorBottom = 0.6;\n\n  if (reverse) {\n    var tmp = ratioLower;\n    ratioLower = ratioUpper;\n    ratioUpper = tmp;\n  }\n\n  var firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n  path.push(['M', firstPointX, firstPoint.y]);\n\n  for (var i = 1, len = points.length; i < len; i++) {\n    var pointX = points[i].x;\n\n    switch (i) {\n      case 1:\n      case 2:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n        break;\n\n      case 3:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n        break;\n    }\n\n    path.push(['L', pointX, points[i].y]);\n  }\n\n  path.push(['L', firstPointX, firstPoint.y]); // 需要闭合\n\n  path.push(['z']);\n  return path;\n}\n\nregisterShape('interval', 'funnel-dynamic-rect', {\n  draw: function draw(cfg, container) {\n    var attrs = _getFillAttrs(cfg);\n\n    var path = _getRectPath(cfg.points, _.get(cfg, 'origin._origin.__custom__'));\n\n    path = this.parsePath(path);\n    return container.addShape('path', {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    });\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var isInCircle = markerCfg.isInCircle;\n    var markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape'; // 获取填充图形的图形属性\n\nfunction _getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval.rect.default;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  setFillStyle(attrs, cfg);\n  return attrs;\n} // 根据数据点生成矩形的四个关键点\n\n\nfunction _getRectPoints(cfg, isPyramid) {\n  if (isPyramid === void 0) {\n    isPyramid = false;\n  }\n\n  var x = cfg.x,\n      y = cfg.y,\n      y0 = cfg.y0,\n      size = cfg.size; // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n\n  var yMin;\n  var yMax;\n\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  var xMin;\n  var xMax;\n\n  if (_.isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  var points = [{\n    x: xMin,\n    y: yMin\n  }, {\n    x: xMin,\n    y: yMax\n  }];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({\n      x: xMax,\n      y: yMax\n    }, {\n      x: xMax,\n      y: yMin\n    });\n  }\n\n  return points;\n} // 根据关键点绘制漏斗图的 path\n\n\nfunction _getFunnelPath(cfg, compare) {\n  var path = [];\n  var points = cfg.points,\n      nextPoints = cfg.nextPoints;\n\n  if (compare) {\n    // 对比漏斗\n    var yValues = compare.yValues,\n        yValuesMax = compare.yValuesMax,\n        yValuesNext = compare.yValuesNext;\n    var originY = (points[0].y + points[1].y) / 2;\n    var yValueTotal_1 = yValues[0] + yValues[1];\n    var yRatios = yValues.map(function (yValue) {\n      return yValue / yValueTotal_1 / 0.5;\n    });\n    var yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\n    var spacing = 0.001;\n\n    if (!_.isNil(nextPoints)) {\n      var yValueTotalNext_1 = yValuesNext[0] + yValuesNext[1];\n      var yRatiosNext = yValuesNext.map(function (yValueNext) {\n        return yValueNext / yValueTotalNext_1 / 0.5;\n      });\n      path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing], ['L', points[1].x, yOffset + originY - spacing], ['L', nextPoints[1].x, yOffset + originY - spacing], ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing], ['Z']);\n      path.push(['M', points[0].x, yOffset + originY + spacing], ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing], ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing], ['L', nextPoints[0].x, yOffset + originY + spacing], ['Z']);\n    } else {\n      path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY], ['L', points[1].x, yOffset + originY], ['L', points[2].x, yOffset + originY], ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY], ['Z']);\n      path.push(['M', points[0].x, yOffset + 0.002 + originY], ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY], ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY], ['L', points[3].x, yOffset + 0.002 + originY], ['Z']);\n    }\n  } else {\n    // 标准漏斗\n    if (!_.isNil(nextPoints)) {\n      path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n    } else {\n      path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n    }\n  }\n\n  return path;\n}\n\nregisterShape('interval', 'funnel-basic-rect', {\n  getPoints: function getPoints(pointInfo) {\n    pointInfo.size = pointInfo.size * 1.8; // 调整面积\n\n    return _getRectPoints(pointInfo);\n  },\n  draw: function draw(cfg, container) {\n    var _a;\n\n    var attrs = _getFillAttrs(cfg);\n\n    var compare = _.get(cfg, 'origin._origin.__compare__');\n\n    var path = _getFunnelPath(cfg, compare);\n\n    path = this.parsePath(path);\n    return container.addShape('path', (_a = {\n      attrs: __assign(__assign({}, attrs), {\n        path: path\n      })\n    }, _a['__compare__'] = compare, _a));\n  },\n  getMarkerStyle: function getMarkerStyle(markerCfg) {\n    var markerStyle = {\n      symbol: 'square',\n      radius: 4\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  }\n});","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport LabelParser from '../../../../components/label/parser';\nimport { getPrecisionFormatter, getSuffixFormatter, combineFormatter, getNoopFormatter } from '../../../../util/formatter';\n\nvar FunnelLabelParser =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLabelParser, _super);\n\n  function FunnelLabelParser() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FunnelLabelParser.prototype.parseFormatter = function (config) {\n    var _this = this;\n\n    var values = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      values[_i - 1] = arguments[_i];\n    }\n\n    var labelProps = this.originConfig;\n    var preformatter = combineFormatter(getNoopFormatter(), getPrecisionFormatter(labelProps.precision), getSuffixFormatter(labelProps.suffix));\n    var plotProps = this.plot.options;\n\n    config.formatter = function (xValue, item, idx) {\n      var proc = function proc(yValue, yValueTop) {\n        var yValueFormatted = preformatter(yValue, item, idx);\n\n        if (_.isFunction(labelProps.formatter)) {\n          return labelProps.formatter(xValue, item, idx, yValue, yValueTop);\n        } else {\n          return xValue + \" \" + yValueFormatted;\n        }\n      };\n\n      if (plotProps.compareField) {\n        var yValues_1 = _.get(item, \"_origin.__compare__.yValues\");\n\n        var yValuesTop_1 = _.get(_this.plot.getData(), \"0.__compare__.yValues\");\n\n        if (plotProps.transpose) {\n          _.set(config, 'textStyle.lineHeight', _.get(config, 'textStyle.fontSize', 12));\n        }\n\n        return [0, 1].map(function (i) {\n          var yValue = yValues_1[i];\n          var yValueTop = yValuesTop_1[i];\n          return proc(yValue, yValueTop);\n        }).join(plotProps.transpose ? '\\n\\n' : '    ');\n      } else {\n        var yValue = _.get(item, \"_origin.\" + plotProps.yField);\n\n        var yValueTop = _.get(_this.plot.getData(), \"0.\" + plotProps.yField);\n\n        return proc(yValue, yValueTop);\n      }\n    };\n  };\n\n  return FunnelLabelParser;\n}(LabelParser);\n\nexport default FunnelLabelParser;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as domUtil from '@antv/dom-util';\nimport { Animate } from '@antv/g2';\nimport TooltipTheme from '@antv/component/lib/tooltip/theme';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport './theme';\nimport './component/label/funnel-label';\nimport './animation/funnel-scale-in-x';\nimport './animation/funnel-scale-in-y';\nimport './geometry/shape/funnel-basic-rect';\nimport './geometry/shape/funnel-dynamic-rect';\nimport FunnelLabelParser from './component/label/funnel-label-parser';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'funnel'\n};\n\nvar FunnelLayer =\n/** @class */\nfunction (_super) {\n  __extends(FunnelLayer, _super);\n\n  function FunnelLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.type = 'funnel';\n    _this.legendsListenerAttached = false;\n    _this.shouldShowLabels = false;\n    _this.shouldResetPercentages = true;\n    _this.shouldResetCompareTexts = true;\n\n    _this._onLegendContainerMouseDown = function (e) {\n      var props = _this.options;\n\n      if (e.target.name == 'legend-item') {\n        _this.refreshPercentages();\n\n        if (props.dynamicHeight) {\n          var data = _this._findCheckedDataByMouseDownLegendItem(e.target);\n\n          _this._genCustomFieldForDynamicHeight(data);\n        }\n\n        if (props.compareField) {\n          var data = _this._findCheckedDataByMouseDownLegendItem(e.target);\n\n          _this._updateDataForCompare(data);\n\n          _this.refreshCompareTexts();\n        }\n      }\n    };\n\n    _this.adjustProps(_this.options);\n\n    if (props.dynamicHeight) {\n      _this._genCustomFieldForDynamicHeight(_this.getData());\n    }\n\n    if (props.compareField) {\n      _this.options.data = _this._reduceDataForCompare(_this.getData());\n    }\n\n    return _this;\n  }\n\n  FunnelLayer.getDefaultOptions = function (props) {\n    var cfg = {\n      label: {\n        visible: true,\n        adjustColor: true,\n        formatter: props && (props.compareField || props.transpose) ? function (xValue, item, idx, yValue, yValueTop) {\n          return \"\" + yValue;\n        } : function (xValue, item, idx, yValue, yValueTop) {\n          return xValue + \" \" + yValue;\n        }\n      },\n      percentage: {\n        visible: true,\n        offsetX: props.transpose ? 0 : 40,\n        offsetY: props.transpose ? 40 : 0,\n        spacing: 4,\n        line: {\n          visible: true,\n          style: {\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)'\n          }\n        },\n        text: {\n          content: '转化率',\n          style: {\n            fill: 'rgba(0, 0, 0, 0.65)'\n          }\n        },\n        value: {\n          visible: true,\n          style: {\n            fill: 'black'\n          },\n          formatter: function formatter(yValueUpper, yValueLower) {\n            return (100 * yValueLower / yValueUpper).toFixed(2) + \"%\";\n          }\n        }\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showTitle: false,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            stroke: null\n          }\n        }\n      },\n      animation: _.deepMix({}, Animate.defaultCfg, {\n        appear: {\n          duration: 800\n        }\n      }),\n      dynamicHeight: false,\n      compareText: {\n        visible: true,\n        offsetX: -16,\n        offsetY: -16,\n        style: {\n          fill: 'black'\n        }\n      }\n    };\n    return _.deepMix({}, _super.getDefaultOptions.call(this), cfg);\n  };\n\n  FunnelLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      actions: props.transpose ? props.dynamicHeight ? [['transpose'], ['scale', 1, -1]] : [['scale', 1, -1]] : props.dynamicHeight ? [] : [['transpose'], ['scale', 1, -1]]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  FunnelLayer.prototype.axis = function () {\n    this.setConfig('axes', false);\n  };\n\n  FunnelLayer.prototype.adjustFunnel = function (funnel) {\n    var props = this.options;\n    funnel.shape = {\n      values: [props.dynamicHeight ? 'funnel-dynamic-rect' : 'funnel-basic-rect']\n    };\n    funnel.color = {\n      fields: [props.xField],\n      values: props.color && (Array.isArray(props.color) ? props.color : [props.color])\n    };\n\n    if (_.isFunction(props.funnelStyle)) {\n      // @ts-ignore\n      funnel.style = {\n        callback: props.funnelStyle\n      };\n    } else {\n      // @ts-ignore\n      funnel.style = {\n        cfg: props.funnelStyle\n      };\n    }\n\n    funnel.adjust = [{\n      type: props.dynamicHeight ? 'stack' : 'symmetric'\n    }];\n  };\n\n  FunnelLayer.prototype.tooltip = function () {\n    var props = this.options;\n\n    if (props.compareField) {\n      _.deepMix(props.tooltip, {\n        htmlContent: function htmlContent(title, items) {\n          var clss, el, color, elMarker;\n          clss = 'g2-tooltip';\n          el = domUtil.createDom(\"<div class=\\\"\" + clss + \"\\\"></div>\");\n          domUtil.modifyCSS(el, TooltipTheme[clss]);\n          var elRoot = el;\n\n          if (title) {\n            clss = 'g2-tooltip-title';\n            el = domUtil.createDom(\"<div class=\\\"\" + clss + \"\\\"></div>\");\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            elRoot.appendChild(el);\n            var elTitle = el;\n            clss = 'g2-tooltip-marker';\n            el = domUtil.createDom(\"<span class=\\\"\" + clss + \"\\\"></span>\");\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            domUtil.modifyCSS(el, {\n              width: '10px',\n              height: '10px'\n            });\n            elTitle.appendChild(el);\n            elMarker = el;\n            el = domUtil.createDom(\"<span>\" + title + \"</span>\");\n            elTitle.appendChild(el);\n          }\n\n          if (items) {\n            clss = 'g2-tooltip-list';\n            el = domUtil.createDom(\"<ul class=\\\"\" + clss + \"\\\"></ul>\");\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            elRoot.appendChild(el);\n            var elList_1 = el;\n            items.reduce(function (pairs, item) {\n              if (!color) {\n                color = item.color;\n              }\n\n              var compareValues = _.get(item, 'point._origin.__compare__.compareValues');\n\n              var yValues = _.get(item, 'point._origin.__compare__.yValues');\n\n              yValues.forEach(function (yValue, i) {\n                return pairs.push([compareValues[i], yValue]);\n              });\n              return pairs;\n            }, []).forEach(function (_a, index) {\n              var compareValue = _a[0],\n                  yValue = _a[1];\n              clss = 'g2-tooltip-list-item';\n              el = domUtil.createDom(\"<li class=\\\"\" + clss + \"\\\" data-index=\" + index + \"></li>\");\n              domUtil.modifyCSS(el, TooltipTheme[clss]);\n              elList_1.appendChild(el);\n              var elListItem = el;\n              el = domUtil.createDom(\"<span>\" + compareValue + \"</span>\");\n              elListItem.appendChild(el);\n              clss = 'g2-tooltip-value';\n              el = domUtil.createDom(\"<span class=\\\"\" + clss + \"\\\">\" + yValue + \"</span>\");\n              domUtil.modifyCSS(el, TooltipTheme[clss]);\n              elListItem.appendChild(el);\n            });\n          }\n\n          if (color && elMarker) {\n            domUtil.modifyCSS(elMarker, {\n              backgroundColor: color\n            });\n          }\n\n          return elRoot;\n        }\n      });\n    }\n\n    _super.prototype.tooltip.call(this);\n  };\n\n  FunnelLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var funnel = getGeom('interval', 'main', {\n      positionFields: [props.dynamicHeight ? '_' : props.xField, props.yField],\n      plot: this\n    });\n\n    if (props.label) {\n      funnel.label = this.extractLabel();\n    }\n\n    this.adjustFunnel(funnel);\n    this.funnel = funnel;\n    this.setConfig('element', funnel);\n  };\n\n  FunnelLayer.prototype.animation = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.funnel.animate = false;\n      this.shouldShowLabels = true;\n    } else {\n      var appearDuration = _.get(props, 'animation.appear.duration');\n\n      var appearDurationEach_1 = appearDuration / (this.getData().length || 1);\n\n      if (this.animationAppearTimeoutHandler) {\n        clearTimeout(this.animationAppearTimeoutHandler);\n        delete this.animationAppearTimeoutHandler;\n      }\n\n      this.animationAppearTimeoutHandler = setTimeout(function () {\n        _this._teardownAnimationMask();\n\n        _this.shouldShowLabels = true;\n\n        _this.fadeInPercentages(appearDurationEach_1);\n\n        if (props.compareField) {\n          _this.fadeInCompareTexts(appearDurationEach_1);\n        }\n\n        delete _this.animationAppearTimeoutHandler;\n      }, appearDuration);\n      this.funnel.animate = _.deepMix({}, props.animation, {\n        appear: {\n          animation: props.transpose ? 'funnelScaleInX' : 'funnelScaleInY',\n          duration: appearDurationEach_1,\n          reverse: props.dynamicHeight && !props.transpose,\n          callback: function callback(shape) {\n            _this.shouldShowLabels = true;\n\n            _this.showLabels(shape);\n          }\n        }\n      });\n    }\n  };\n\n  FunnelLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  FunnelLayer.prototype.afterRender = function () {\n    var props = this.options;\n    this.resetPercentages();\n\n    if (props.compareField) {\n      this.resetCompareTexts();\n    }\n\n    if (props.padding == 'auto') {\n      var percentageContainer = this._findPercentageContainer();\n\n      if (percentageContainer) {\n        this.paddingController.registerPadding(percentageContainer, 'inner', true);\n      }\n\n      var compareTextContainer = this._findCompareTextContainer();\n\n      if (compareTextContainer) {\n        this.paddingController.registerPadding(compareTextContainer, 'inner', true);\n      }\n    }\n\n    _super.prototype.afterRender.call(this);\n\n    if (this.animationAppearTimeoutHandler) {\n      this._setupAnimationMask();\n\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    this.showLabels();\n\n    if (props.animation === false) {\n      this.fadeInPercentages();\n\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    if (!this.legendsListenerAttached) {\n      this.legendsListenerAttached = true;\n      var legendContainer = this.view.get('legendController').container;\n      legendContainer.on('mousedown', this._onLegendContainerMouseDown);\n    }\n  };\n\n  FunnelLayer.prototype.updateConfig = function (cfg) {\n    cfg = this.adjustProps(cfg);\n\n    _super.prototype.updateConfig.call(this, cfg);\n\n    this.legendsListenerAttached = false;\n    this.shouldShowLabels = false;\n  };\n\n  FunnelLayer.prototype.changeData = function (data) {\n    var props = this.options;\n\n    if (props.animation !== false) {\n      this.shouldResetPercentages = false;\n      this.shouldResetCompareTexts = false;\n    }\n\n    if (props.dynamicHeight) {\n      var checkedData = this._findCheckedDataInNewData(data);\n\n      this._genCustomFieldForDynamicHeight(checkedData);\n    }\n\n    if (props.compareField) {\n      data = this._reduceDataForCompare(data);\n\n      var checkedData = this._findCheckedDataInNewData(data);\n\n      this._updateDataForCompare(checkedData);\n    }\n\n    _super.prototype.changeData.call(this, data);\n\n    this.refreshPercentages();\n\n    if (props.compareField) {\n      this.refreshCompareTexts();\n    }\n\n    this._refreshAnimationMaskForPercentageRefresh();\n  };\n\n  FunnelLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = new FunnelLabelParser(_.deepMix({\n      textStyle: {\n        stroke: null\n      }\n    }, label, {\n      plot: this,\n      labelType: 'funnelLabel',\n      position: 'middle',\n      textStyle: {\n        opacity: 0\n      },\n      fields: [props.xField, props.yField]\n    })).getConfig();\n    return labelConfig;\n  };\n\n  FunnelLayer.prototype.showLabels = function (shape) {\n    if (!this.shouldShowLabels) return;\n    this.view.get('elements').forEach(function (element) {\n      var labelsContainer = element.get('labelController').labelsContainer;\n\n      if (labelsContainer) {\n        labelsContainer.get('labelsRenderer').get('group').get('children').forEach(function (label) {\n          if (shape) {\n            if (element.getShapeId(label.get('origin')) == shape.id) {\n              label.attr('opacity', 1);\n            }\n          } else {\n            label.attr('opacity', 1);\n          }\n        });\n      }\n    });\n  };\n\n  FunnelLayer.prototype.adjustProps = function (props) {\n    if (props.compareField) {\n      props.dynamicHeight = false;\n    }\n\n    if (props.dynamicHeight) {\n      _.set(props, \"meta.\" + props.yField + \".nice\", false);\n\n      _.set(props, 'tooltip.shared', false);\n    }\n\n    return props;\n  };\n\n  FunnelLayer.prototype.resetPercentages = function () {\n    var _this = this;\n\n    if (!this.shouldResetPercentages) return;\n    var props = this.options;\n\n    var _a = props.percentage || {},\n        offsetX = _a.offsetX,\n        offsetY = _a.offsetY,\n        spacing = _a.spacing,\n        _b = _a.line,\n        percentageLine = _b === void 0 ? {} : _b,\n        _c = _a.text,\n        percentageText = _c === void 0 ? {} : _c,\n        _d = _a.value,\n        percentageValue = _d === void 0 ? {} : _d;\n\n    var adjustTimestamp = Date.now();\n\n    var container = this._findPercentageContainer(true);\n\n    var coord = this.view.get('coord');\n    var i = 0;\n    var datumUpper;\n    this.view.eachShape(function (datumLower, shape) {\n      if (i++ > 0) {\n        var _a = shape.getBBox(),\n            minX = _a.minX,\n            maxX = _a.maxX,\n            maxY = _a.maxY,\n            minY = _a.minY;\n\n        var _b = coord.invertMatrix(props.transpose ? minX : maxX, props.transpose ? props.compareField ? minY : maxY : props.dynamicHeight ? minY : maxY, 1),\n            x1 = _b[0],\n            y1 = _b[1];\n\n        var _c = _this._findPercentageMembersInContainerByShape(container, shape, true),\n            line_1 = _c.line,\n            text_1 = _c.text,\n            value_1 = _c.value;\n\n        var eachProcs_1 = [function (x, y, line, text, value) {\n          if (line) {\n            line.attr(_.deepMix({}, percentageLine.style, {\n              x1: x,\n              y1: y,\n              x2: props.transpose ? x + offsetX : x - offsetX,\n              y2: y - offsetY,\n              opacity: 0\n            }));\n            line.set('adjustTimestamp', adjustTimestamp);\n          }\n\n          var textWidth = 0;\n          var valueWidth = 0;\n\n          var textProc = function textProc() {\n            if (text) {\n              text.attr(_.deepMix({}, percentageText.style, {\n                x: props.transpose ? x + offsetX : x - offsetX - spacing - valueWidth - spacing,\n                y: props.transpose ? y - offsetY - spacing : y - offsetY,\n                opacity: 0,\n                text: percentageText.content,\n                textAlign: props.transpose ? 'left' : 'right',\n                textBaseline: props.transpose ? 'bottom' : 'middle'\n              }));\n              text.set('adjustTimestamp', adjustTimestamp);\n              textWidth = text.getBBox().width;\n            }\n          };\n\n          var valueProc = function valueProc() {\n            if (value) {\n              value.attr(_.deepMix({}, percentageValue.style, {\n                x: props.transpose ? x + offsetX + textWidth + spacing : x - offsetX - spacing,\n                y: props.transpose ? y - offsetY - spacing : y - offsetY,\n                opacity: 0,\n                text: _.isFunction(percentageValue.formatter) ? props.compareField ? percentageValue.formatter(_.get(datumUpper, '__compare__.yValues.0'), _.get(datumLower, '__compare__.yValues.0')) : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField]) : '',\n                textAlign: props.transpose ? 'left' : 'right',\n                textBaseline: props.transpose ? 'bottom' : 'middle'\n              }));\n              value.set('adjustTimestamp', adjustTimestamp);\n              valueWidth = value.getBBox().width;\n            }\n          };\n\n          if (props.transpose) {\n            textProc();\n            valueProc();\n          } else {\n            valueProc();\n            textProc();\n          }\n        }, function (x, y, line, text, value) {\n          if (line) {\n            line.attr(_.deepMix({}, percentageLine.style, {\n              x1: x,\n              y1: y,\n              x2: x + offsetX,\n              y2: props.transpose ? props.compareField ? y + offsetY : y - offsetY : y + offsetY,\n              opacity: 0\n            }));\n            line.set('adjustTimestamp', adjustTimestamp);\n          }\n\n          var textWidth = 0;\n\n          if (text) {\n            text.attr(_.deepMix({}, percentageText.style, {\n              x: props.transpose ? x + offsetX : x + offsetX + spacing,\n              y: props.transpose ? props.compareField ? y + offsetY + spacing : y - offsetY - spacing : y + offsetY,\n              opacity: 0,\n              text: percentageText.content,\n              textAlign: 'left',\n              textBaseline: props.transpose ? props.compareField ? 'top' : 'bottom' : 'middle'\n            }));\n            text.set('adjustTimestamp', adjustTimestamp);\n            textWidth = text.getBBox().width;\n          }\n\n          if (value) {\n            value.attr(_.deepMix({}, percentageValue.style, {\n              x: props.transpose ? x + offsetX + textWidth + spacing : x + offsetX + spacing + textWidth + spacing,\n              y: props.transpose ? props.compareField ? y + offsetY + spacing : y - offsetY - spacing : y + offsetY,\n              opacity: 0,\n              text: _.isFunction(percentageValue.formatter) ? props.compareField ? percentageValue.formatter(_.get(datumUpper, \"__compare__.yValues.1\"), _.get(datumLower, \"__compare__.yValues.1\")) : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField]) : '',\n              textAlign: 'left',\n              textBaseline: props.transpose ? props.compareField ? 'top' : 'bottom' : 'middle'\n            }));\n            value.set('adjustTimestamp', adjustTimestamp);\n          }\n        }];\n\n        if (props.compareField) {\n          var _d = coord.invertMatrix(minX, maxY, 1),\n              x0 = _d[0],\n              y0 = _d[1];\n\n          [[x0, y0], [x1, y1]].forEach(function (_a, i) {\n            var x = _a[0],\n                y = _a[1];\n            return eachProcs_1[i](x, y, line_1 && line_1[i], text_1 && text_1[i], value_1 && value_1[i]);\n          });\n        } else {\n          eachProcs_1[1](x1, y1, line_1, text_1, value_1);\n        }\n      }\n\n      datumUpper = datumLower;\n    });\n    container.get('children').forEach(function (child) {\n      if (child.get('adjustTimestamp') != adjustTimestamp) {\n        child.attr({\n          opacity: 0\n        });\n        container.set(child.get('id'), null);\n        setTimeout(function () {\n          return child.remove();\n        });\n      }\n    });\n  };\n\n  FunnelLayer.prototype.fadeInPercentages = function (duration, callback) {\n    var _this = this;\n\n    var props = this.options;\n\n    var container = this._findPercentageContainer();\n\n    var eachProc = function eachProc(i) {\n      var lastBBox = {\n        minX: Infinity,\n        maxX: -Infinity,\n        minY: Infinity,\n        maxY: -Infinity\n      };\n\n      _this.view.eachShape(function (datum, shape) {\n        var members = _this._findPercentageMembersInContainerByShape(container, shape);\n\n        var currBBox = {\n          minX: Infinity,\n          maxX: -Infinity,\n          minY: Infinity,\n          maxY: -Infinity\n        };\n\n        var eachCalc = function eachCalc(member) {\n          if (member && member.get('type') == 'text') {\n            var _a = member.getBBox(),\n                minX = _a.minX,\n                maxX = _a.maxX,\n                minY = _a.minY,\n                maxY = _a.maxY;\n\n            if (minX < currBBox.minX) currBBox.minX = minX;\n            if (maxX > currBBox.maxX) currBBox.maxX = maxX;\n            if (minY < currBBox.minY) currBBox.minY = minY;\n            if (maxY > currBBox.maxY) currBBox.maxY = maxY;\n          }\n        };\n\n        _.each(members, function (member) {\n          return _.isArray(member) ? eachCalc(member[i]) : eachCalc(member);\n        });\n\n        if (currBBox.minX > lastBBox.maxX || currBBox.maxX < lastBBox.minX || currBBox.minY > lastBBox.maxY || currBBox.maxY < lastBBox.minY) {\n          var eachShow_1 = function eachShow_1(member) {\n            if (member) {\n              var attrs = {\n                opacity: 1\n              };\n              duration ? member.animate(attrs, duration) : member.attr(attrs);\n            }\n          };\n\n          _.each(members, function (member) {\n            return _.isArray(member) ? eachShow_1(member[i]) : eachShow_1(member);\n          });\n\n          _.assign(lastBBox, currBBox);\n        }\n      });\n    };\n\n    props.compareField ? [0, 1].forEach(eachProc) : eachProc();\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.fadeOutPercentages = function (duration, callback) {\n    var _this = this;\n\n    var container = this._findPercentageContainer();\n\n    this.view.eachShape(function (datum, shape) {\n      var members = _this._findPercentageMembersInContainerByShape(container, shape);\n\n      var eachProc = function eachProc(member) {\n        if (member) {\n          var attrs = {\n            opacity: 0\n          };\n          duration ? member.animate(attrs, duration) : member.attr(attrs);\n        }\n      };\n\n      _.each(members, function (member) {\n        return _.isArray(member) ? member.forEach(eachProc) : eachProc(member);\n      });\n    });\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.refreshPercentages = function (callback) {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var _a = this._calcRefreshFadeDurations(),\n          fadeOutDuration = _a.fadeOutDuration,\n          fadeInDuration_1 = _a.fadeInDuration;\n\n      this.shouldResetPercentages = false;\n      this.fadeOutPercentages(fadeOutDuration, function () {\n        _this.shouldResetPercentages = true;\n\n        _this.resetPercentages();\n\n        _this.fadeInPercentages(fadeInDuration_1, callback);\n      });\n    }\n  };\n\n  FunnelLayer.prototype._calcRefreshFadeDurations = function () {\n    var props = this.options;\n\n    var updateDuration = _.get(props, 'animation.update.duration');\n\n    var enterDuration = _.get(props, 'animation.enter.duration');\n\n    var fadeInDuration = Math.min(enterDuration, updateDuration) * 0.6;\n    var fadeOutDuration = Math.max(enterDuration, updateDuration) * 1.2;\n    return {\n      fadeInDuration: fadeInDuration,\n      fadeOutDuration: fadeOutDuration\n    };\n  };\n\n  FunnelLayer.prototype._findPercentageContainer = function (createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var percentageContainer;\n\n    if (this.view) {\n      var elements = this.view.get('elements');\n      elements.find(function (element) {\n        return percentageContainer = element.get('percentageContainer');\n      });\n\n      if (!percentageContainer && createIfNotFound) {\n        if (elements.length) {\n          var element = elements[0];\n          percentageContainer = element.get('container').addGroup();\n          element.set('percentageContainer', percentageContainer);\n        }\n      }\n    }\n\n    return percentageContainer;\n  };\n\n  FunnelLayer.prototype._findPercentageMembersInContainerByShape = function (container, shape, createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var props = this.options;\n\n    var _a = props.percentage || {},\n        visible = _a.visible,\n        _b = _a.line,\n        percentageLine = _b === void 0 ? {} : _b,\n        _c = _a.text,\n        percentageText = _c === void 0 ? {} : _c,\n        _d = _a.value,\n        percentageValue = _d === void 0 ? {} : _d;\n\n    var members = {\n      line: undefined,\n      text: undefined,\n      value: undefined\n    };\n\n    if (visible === false || !container) {\n      return members;\n    }\n\n    if (percentageLine.visible !== false) {\n      var find = function find(i) {\n        var lineId = \"_percentage-line-\" + shape.id + \"-\" + i;\n        var line = container.get(lineId);\n\n        if (!line && createIfNotFound) {\n          line = container.addShape('line', {\n            id: lineId\n          });\n          container.set(lineId, line);\n        }\n\n        return line;\n      };\n\n      var line = props.compareField ? [0, 1].map(find) : find(0);\n      members.line = line;\n    }\n\n    if (percentageText.visible !== false) {\n      var find = function find(i) {\n        var textId = \"_percentage-text-\" + shape.id + \"-\" + i;\n        var text = container.get(textId);\n\n        if (!text && createIfNotFound) {\n          text = container.addShape('text', {\n            id: textId\n          });\n          container.set(textId, text);\n        }\n\n        return text;\n      };\n\n      var text = props.compareField ? [0, 1].map(find) : find(0);\n      members.text = text;\n    }\n\n    if (percentageValue.visible !== false) {\n      var find = function find(i) {\n        var valueId = \"_percentage-value-\" + shape.id + \"-\" + i;\n        var value = container.get(valueId);\n\n        if (!value && createIfNotFound) {\n          value = container.addShape('text', {\n            id: valueId\n          });\n          container.set(valueId, value);\n        }\n\n        return value;\n      };\n\n      var value = props.compareField ? [0, 1].map(find) : find(0);\n      members.value = value;\n    }\n\n    return members;\n  };\n\n  FunnelLayer.prototype._genCustomFieldForDynamicHeight = function (data) {\n    var props = this.options;\n    var total = data.reduce(function (total, datum) {\n      return total + datum[props.yField];\n    }, 0);\n    var ratioUpper = 1;\n    data.forEach(function (datum, index) {\n      var value = datum[props.yField];\n      var share = value / total;\n      var ratioLower = ratioUpper - share;\n      datum['__custom__'] = {\n        datumIndex: index,\n        dataLength: data.length,\n        ratioUpper: ratioUpper,\n        ratioLower: ratioLower,\n        reverse: props.transpose\n      };\n      ratioUpper = ratioLower;\n    });\n  };\n\n  FunnelLayer.prototype.resetCompareTexts = function () {\n    if (!this.shouldResetCompareTexts) return;\n    var props = this.options;\n    var shapeParentBBox;\n    var compare;\n\n    var targetDatum = this._findCheckedData(this.getData())[0];\n\n    this.view.eachShape(function (datum, shape) {\n      if (datum == targetDatum) {\n        shapeParentBBox = shape.get('parent').getBBox();\n        compare = _.get(datum, '__compare__');\n      }\n    });\n\n    if (shapeParentBBox && compare && _.get(props, 'compareText.visible') !== false) {\n      var coord = this.view.get('coord');\n\n      var container_1 = this._findCompareTextContainer(true);\n\n      var yValuesMax_1 = compare.yValuesMax,\n          compareValues_1 = compare.compareValues;\n      var pStart = coord.invertMatrix(shapeParentBBox.minX, shapeParentBBox.minY, 1);\n      var pEnd = coord.invertMatrix(shapeParentBBox.maxX, shapeParentBBox.maxY, 1);\n      var minX_1 = Math.min(pStart[0], pEnd[0]);\n      var maxX_1 = Math.max(pStart[0], pEnd[0]);\n      var minY_1 = Math.min(pStart[1], pEnd[1]);\n      var maxY_1 = Math.max(pStart[1], pEnd[1]);\n      var compareTexts_1 = container_1.get('children');\n      [0, 1].forEach(function (i) {\n        var compareText = compareTexts_1[i];\n\n        if (!compareText) {\n          compareText = container_1.addShape('text');\n        }\n\n        compareText.attr(_.deepMix({}, _.get(props, 'compareText.style'), {\n          text: props.transpose ? compareValues_1[i] : i ? \"  \" + compareValues_1[i] : compareValues_1[i] + \"  \",\n          x: props.transpose ? minX_1 + _.get(props, 'compareText.offsetX') : lerp(minX_1, maxX_1, yValuesMax_1[0] / (yValuesMax_1[0] + yValuesMax_1[1])),\n          y: props.transpose ? lerp(minY_1, maxY_1, yValuesMax_1[0] / (yValuesMax_1[0] + yValuesMax_1[1])) + (i ? 8 : -8) : minY_1 + _.get(props, 'compareText.offsetY'),\n          opacity: 0,\n          textAlign: props.transpose ? 'right' : i ? 'left' : 'right',\n          textBaseline: props.transpose ? i ? 'top' : 'bottom' : 'bottom'\n        }));\n      });\n    }\n  };\n\n  FunnelLayer.prototype.fadeInCompareTexts = function (duration, callback) {\n    var container = this._findCompareTextContainer();\n\n    if (container) {\n      var compareTexts_2 = container.get('children');\n      [0, 1].forEach(function (i) {\n        var compareText = compareTexts_2[i];\n\n        if (compareText) {\n          var attrs = {\n            opacity: 1\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.fadeOutCompareTexts = function (duration, callback) {\n    var container = this._findCompareTextContainer();\n\n    if (container) {\n      var compareTexts_3 = container.get('children');\n      [0, 1].forEach(function (i) {\n        var compareText = compareTexts_3[i];\n\n        if (compareText) {\n          var attrs = {\n            opacity: 0\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  };\n\n  FunnelLayer.prototype.refreshCompareTexts = function (callback) {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var _a = this._calcRefreshFadeDurations(),\n          fadeInDuration_2 = _a.fadeInDuration,\n          fadeOutDuration = _a.fadeOutDuration;\n\n      this.shouldResetCompareTexts = false;\n      this.fadeOutCompareTexts(fadeOutDuration, function () {\n        _this.shouldResetCompareTexts = true;\n\n        _this.resetCompareTexts();\n\n        _this.fadeInCompareTexts(fadeInDuration_2, callback);\n      });\n    }\n  };\n\n  FunnelLayer.prototype._findCompareTextContainer = function (createIfNotFound) {\n    if (createIfNotFound === void 0) {\n      createIfNotFound = false;\n    }\n\n    var compareTextContainer;\n\n    if (this.view) {\n      var elements = this.view.get('elements');\n      elements.find(function (element) {\n        return compareTextContainer = element.get('compareTextContainer');\n      });\n\n      if (!compareTextContainer && createIfNotFound) {\n        if (elements.length) {\n          var element = elements[0];\n          compareTextContainer = element.get('container').addGroup();\n          element.set('compareTextContainer', compareTextContainer);\n        }\n      }\n    }\n\n    return compareTextContainer;\n  };\n\n  FunnelLayer.prototype._reduceDataForCompare = function (data) {\n    var props = this.options;\n    var compareValueFirstVisited;\n    var yValuesMax = [-Infinity, -Infinity];\n    data = data.reduce(function (newData, datum) {\n      var _a;\n\n      var xValue = datum[props.xField];\n      var yValue = datum[props.yField];\n      var compareValue = datum[props.compareField];\n      if (!compareValueFirstVisited) compareValueFirstVisited = compareValue;\n      var newDatum = newData.find(function (newDatum) {\n        return newDatum[props.xField] == xValue;\n      });\n\n      if (!newDatum) {\n        newDatum = (_a = {}, _a[props.xField] = xValue, _a[props.yField] = 0, _a['__compare__'] = {\n          compareValues: [],\n          yValues: [],\n          yValuesMax: [],\n          yValuesNext: undefined,\n          transpose: props.transpose\n        }, _a);\n        newData.push(newDatum);\n      }\n\n      var idx = compareValue == compareValueFirstVisited ? 0 : 1;\n      newDatum['__compare__'].yValues[idx] = yValue;\n\n      if (yValuesMax[idx] < yValue) {\n        yValuesMax[idx] = yValue;\n      }\n\n      newDatum['__compare__'].compareValues[idx] = compareValue;\n      return newData;\n    }, []);\n    data.forEach(function (datum, index) {\n      datum[props.yField] = _.get(datum, '__compare__.yValues', []).reduce(function (yTotal, yValue) {\n        return yTotal += yValue;\n      }, 0);\n\n      _.set(datum, '__compare__.yValuesMax', yValuesMax);\n\n      _.set(datum, '__compare__.yValuesNext', _.get(data, index + 1 + \".__compare__.yValues\"));\n    });\n    return data;\n  };\n\n  FunnelLayer.prototype._updateDataForCompare = function (data) {\n    var yValuesMax = [-Infinity, -Infinity];\n    data.forEach(function (datum) {\n      var yValues = _.get(datum, '__compare__.yValues');\n\n      [0, 1].forEach(function (i) {\n        if (yValues[i] > yValuesMax[i]) {\n          yValuesMax[i] = yValues[i];\n        }\n      });\n    });\n    data.forEach(function (datum, index) {\n      _.set(datum, '__compare__.yValuesMax', yValuesMax);\n\n      _.set(datum, '__compare__.yValuesNext', _.get(data, index + 1 + \".__compare__.yValues\"));\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedData = function (data) {\n    var props = this.options;\n    var legendValues = this.view.get('canvas').findAll(function (shape) {\n      return shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    return data.filter(function (datum) {\n      return _.contains(legendValues, datum[props.xField]);\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedDataInNewData = function (newData) {\n    var props = this.options;\n    var legendValues = this.view.get('canvas').findAll(function (shape) {\n      return shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    var oldData = this.getData();\n    var uncheckedValues = oldData.map(function (oldDatum) {\n      return oldDatum[props.xField];\n    }).filter(function (xValue) {\n      return !_.contains(legendValues, xValue);\n    });\n    return newData.filter(function (newDatum) {\n      return !_.contains(uncheckedValues, newDatum[props.xField]);\n    });\n  };\n\n  FunnelLayer.prototype._findCheckedDataByMouseDownLegendItem = function (legendItem) {\n    var props = this.options;\n    var legendItemOrigin = legendItem.get('origin');\n    var brotherValues = legendItem.get('parent').get('parent').findAll(function (shape) {\n      return shape != legendItem && shape.name == 'legend-item' && shape.get('parent').get('checked');\n    }).map(function (shape) {\n      return shape.get('origin').value;\n    });\n    var data = [];\n    this.getData().forEach(function (datum) {\n      var xValue = datum[props.xField];\n\n      if (legendItemOrigin.value == xValue && !legendItem.get('parent').get('checked') || _.contains(brotherValues, xValue)) {\n        data.push(datum);\n      }\n    });\n    return data;\n  };\n\n  FunnelLayer.prototype._setupAnimationMask = function () {\n    var canvas = this.view.get('canvas');\n    var animationMask = canvas.get('animation-mask');\n\n    if (!animationMask) {\n      animationMask = canvas.addShape('rect');\n      canvas.set('animation-mask', animationMask);\n    }\n\n    animationMask.attr({\n      x: 0,\n      y: 0,\n      fill: 'transparent',\n      width: canvas.get('width'),\n      height: canvas.get('height')\n    });\n  };\n\n  FunnelLayer.prototype._teardownAnimationMask = function () {\n    var canvas = this.view.get('canvas');\n    var animationMask = canvas.get('animation-mask');\n\n    if (animationMask) {\n      animationMask.attr({\n        x: -canvas.get('width')\n      });\n    }\n  };\n\n  FunnelLayer.prototype._refreshAnimationMaskForPercentageRefresh = function () {\n    var _this = this;\n\n    var props = this.options;\n\n    if (props.animation !== false) {\n      var _a = this._calcRefreshFadeDurations(),\n          fadeOutDuration = _a.fadeOutDuration,\n          fadeInDuration = _a.fadeInDuration;\n\n      this._setupAnimationMask();\n\n      setTimeout(function () {\n        return _this._teardownAnimationMask();\n      }, fadeOutDuration + fadeInDuration);\n    }\n  };\n\n  return FunnelLayer;\n}(ViewLayer);\n\nexport default FunnelLayer;\nregisterPlotType('funnel', FunnelLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport FunnelLayer from './layer';\n\nvar Funnel =\n/** @class */\nfunction (_super) {\n  __extends(Funnel, _super);\n\n  function Funnel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Funnel.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'funnel';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Funnel.getDefaultOptions = FunnelLayer.getDefaultOptions;\n  return Funnel;\n}(BasePlot);\n\nexport default Funnel;","import { __assign, __extends } from \"tslib\";\nimport { registerElement, Element } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport * as colorUtil from '../../util/color';\nvar GAUSS_COEF = 0.3989422804014327;\nvar ZERO = 1.0 / 255.0 / 16.0;\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\n\nvar LinearHeatmap =\n/** @class */\nfunction (_super) {\n  __extends(LinearHeatmap, _super);\n\n  function LinearHeatmap(cfg) {\n    return _super.call(this, __assign({\n      type: 'linearHeatmap',\n      shapeType: 'point',\n      paletteCache: {}\n    }, cfg)) || this;\n  }\n\n  LinearHeatmap.prototype._prepareRange = function () {\n    var data = this.get(MAPPED_DATA);\n    var colorAttr = this.getAttr('color');\n    var colorField = colorAttr.scales[0].field;\n    var min = Infinity;\n    var max = -Infinity;\n    data.forEach(function (row) {\n      var value = row[ORIGIN_FIELD][colorField];\n\n      if (value > max) {\n        max = value;\n      }\n\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    var range = [min, max];\n    this.set(VALUE_RANGE, range);\n  };\n\n  LinearHeatmap.prototype._prepareSize = function () {\n    var radius;\n\n    if (this.get('radius')) {\n      radius = this.get('radius');\n    } else {\n      radius = this.getDefaultValue('size');\n\n      if (!_.isNumber(radius)) {\n        radius = this.getDefaultSize();\n      }\n    }\n\n    var styleOptions = this.get('styleOptions');\n    var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n\n    this.set(HEATMAP_SIZE, {\n      blur: blur,\n      radius: radius\n    });\n  };\n\n  LinearHeatmap.prototype.getDefaultSize = function () {\n    var position = this.getAttr('position');\n    var coord = this.get('coord');\n    var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n    return radius;\n  };\n\n  LinearHeatmap.prototype._colorize = function (img) {\n    var colorAttr = this.getAttr('color');\n    var pixels = img.data;\n    var paletteCache = this.get('paletteCache');\n\n    for (var i = 3; i < pixels.length; i += 4) {\n      var alpha = pixels[i]; // get gradient color from opacity value\n\n      if (alpha) {\n        var palette = void 0;\n\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        } // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n\n\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  };\n\n  LinearHeatmap.prototype._prepareGreyScaleBlurredCircle = function (r) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n\n    var intensity = this.get('intensity') ? this.get('intensity') : 2;\n    var circleRadius = Math.sqrt(-2.0 * Math.log(ZERO / r / intensity / GAUSS_COEF)) / 3.0 * r;\n    var blur = circleRadius - r;\n    var r2 = circleRadius + blur;\n    var ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  };\n\n  LinearHeatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n    var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  };\n\n  LinearHeatmap.prototype._getShadowCanvasCtx = function () {\n    var canvas = this.get(SHADOW_CANVAS);\n\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n\n    var viewRange = this.get('view').get('panelRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    var context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'lighter';\n    return context;\n  };\n\n  LinearHeatmap.prototype._clearShadowCanvasCtx = function () {\n    var ctx = this._getShadowCanvasCtx();\n\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  };\n\n  LinearHeatmap.prototype._getImageShape = function () {\n    var imageShape = this.get(IMAGE_SHAPE);\n\n    if (imageShape) {\n      return imageShape;\n    }\n\n    var container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  };\n\n  LinearHeatmap.prototype.clear = function () {\n    this._clearShadowCanvasCtx();\n\n    _super.prototype.clear.call(this);\n  };\n\n  LinearHeatmap.prototype.drawWithRange = function (range) {\n    // canvas size\n    var _a = this.get('coord'),\n        start = _a.start,\n        end = _a.end,\n        width = _a.width,\n        height = _a.height; // value, range, etc\n    // const valueField = this.getAttr('color').field;\n\n\n    var valueField = this.getAttr('color').scales[0].field;\n    var size = this.get(HEATMAP_SIZE); // prepare shadow canvas context\n\n    this._clearShadowCanvasCtx();\n\n    var ctx = this._getShadowCanvasCtx(); // filter data\n\n\n    var data = this.get(MAPPED_DATA);\n\n    if (range) {\n      data = data.filter(function (row) {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    } // step1. draw points with shadow\n\n\n    var scale = this.get('scales')[valueField];\n\n    for (var i = 0; i < data.length; i++) {\n      var obj = data[i];\n      var cfg = this.getDrawCfg(obj);\n      var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]); // @ts-ignore\n\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    } // step2. convert pixels\n\n\n    var colored = ctx.getImageData(0, 0, width, height);\n\n    this._clearShadowCanvasCtx();\n\n    this._colorize(colored);\n\n    ctx.putImageData(colored, 0, 0);\n    var image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n\n    var imageShape = this._getImageShape();\n\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width: width,\n      height: height,\n      img: image\n    });\n  };\n\n  LinearHeatmap.prototype.draw = function (data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n\n    this._prepareSize();\n\n    var size = this.get(HEATMAP_SIZE);\n\n    this._prepareGreyScaleBlurredCircle(size.radius);\n\n    var range = this.get(VALUE_RANGE);\n    this.drawWithRange(range);\n  };\n\n  return LinearHeatmap;\n}(Element);\n\nregisterElement('linearHeatmap', LinearHeatmap);","import { __assign } from \"tslib\";\nimport { each, isArray, deepMix, clone } from '@antv/util';\nimport { Group, BBox } from '@antv/g';\nvar LABEL_MARGIN = 4;\nvar ACTIVE_OPACITY = 1;\nvar DEACTIVE_OPACITY = 0.4;\n\nvar HeatmapLegend =\n/** @class */\nfunction () {\n  function HeatmapLegend(cfg) {\n    this.destroyed = false;\n    this.dataSlides = {};\n    var defaultOptions = this.getDefaultOptions();\n\n    if (cfg.plot.options.theme && cfg.plot.options.theme === 'dark') {\n      defaultOptions = this.getDarkOptions();\n    }\n\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  HeatmapLegend.prototype.init = function () {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  };\n\n  HeatmapLegend.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    var color = this.options.plot.options.color;\n\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n\n    this.legendLayout();\n    this.addInteraction();\n  };\n\n  HeatmapLegend.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  };\n\n  HeatmapLegend.prototype.show = function () {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  };\n\n  HeatmapLegend.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  HeatmapLegend.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  HeatmapLegend.prototype.getBBox = function () {\n    var origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  };\n\n  HeatmapLegend.prototype.renderVertical = function (min, max, colors) {\n    var _this = this;\n\n    var gridWidth = this.width;\n    var gridHeight = this.height / colors.length;\n    var gridLineContainer = new Group();\n    var gridColors = clone(colors).reverse();\n    var valueStep = (max - min) / colors.length; // 绘制色彩格子\n\n    each(gridColors, function (c, i) {\n      var y = gridHeight * i; // 记录每个grid代表的区间信息用于legend交互\n\n      var appendInfo = {\n        to: max - valueStep * i,\n        from: max - valueStep * (i + 1)\n      };\n\n      var rect = _this.container.addShape('rect', {\n        attrs: {\n          x: 0,\n          y: y,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: ACTIVE_OPACITY,\n          cursor: 'pointer'\n        },\n        name: 'grid'\n      });\n\n      rect.set('info', appendInfo);\n\n      var dataSlide = _this.getDataSlide(appendInfo);\n\n      _this.dataSlides[appendInfo.from + \"-\" + appendInfo.to] = {\n        mode: 'active',\n        data: dataSlide\n      };\n      var line = gridLineContainer.addShape('path', {\n        attrs: __assign({\n          path: [['M', 0, y + gridHeight], ['L', gridWidth, y + gridHeight]]\n        }, _this.options.gridlineStyle)\n      });\n    }); // 绘制两边的label\n\n    var textMax = this.container.addShape('text', {\n      attrs: __assign({\n        text: max,\n        x: gridWidth / 2,\n        y: -LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'bottom'\n      }, this.options.text.style)\n    });\n    var textMin = this.container.addShape('text', {\n      attrs: __assign({\n        text: min,\n        x: gridWidth / 2,\n        y: this.height + LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'top'\n      }, this.options.text.style)\n    }); // 绘制包围线\n\n    var path = gridLineContainer.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, 0], ['L', this.width, 0], ['L', this.width, this.height], ['L', 0, this.height], ['L', 0, 0]]\n      }, this.options.gridlineStyle)\n    });\n    this.container.add(gridLineContainer);\n  };\n\n  HeatmapLegend.prototype.renderHorizontal = function (min, max, colors) {\n    var _this = this;\n\n    var gridWidth = this.width / colors.length;\n    var gridHeight = this.height;\n    var gridLineContainer = new Group();\n    var valueStep = (max - min) / colors.length; // 绘制色彩格子\n\n    each(colors, function (c, i) {\n      var x = gridWidth * i; // 记录每个grid代表的区间信息用于legend交互\n\n      var appendInfo = {\n        from: valueStep * i,\n        to: valueStep * (i + 1)\n      };\n\n      var rect = _this.container.addShape('rect', {\n        attrs: {\n          x: x,\n          y: 0,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: 0.8,\n          cursor: 'pointer'\n        },\n        name: 'grid'\n      });\n\n      rect.set('info', appendInfo);\n      var line = gridLineContainer.addShape('path', {\n        attrs: __assign({\n          path: [['M', x + gridWidth, 0], ['L', x + gridWidth, gridHeight]]\n        }, _this.options.gridlineStyle)\n      });\n    }); // 绘制两边的label\n\n    this.container.addShape('text', {\n      attrs: __assign(__assign({\n        text: min,\n        x: -LABEL_MARGIN,\n        y: gridHeight / 2\n      }, this.options.text.style), {\n        textAlign: 'right',\n        textBaseline: 'middle'\n      })\n    });\n    this.container.addShape('text', {\n      attrs: __assign({\n        text: max,\n        x: this.width + LABEL_MARGIN,\n        y: gridHeight / 2,\n        textAlign: 'left',\n        textBaseline: 'middle'\n      }, this.options.text.style)\n    }); // 绘制包围线\n\n    gridLineContainer.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, 0], ['L', this.width, 0], ['L', this.width, this.height], ['L', 0, this.height], ['L', 0, 0]]\n      }, this.options.gridlineStyle)\n    });\n    this.container.add(gridLineContainer);\n  };\n\n  HeatmapLegend.prototype.getLayout = function () {\n    var positions = this.options.position.split('-');\n    this.position = positions[0];\n\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n\n    return 'horizontal';\n  };\n\n  HeatmapLegend.prototype.getDefaultWidth = function () {\n    if (this.layout === 'horizontal') {\n      var width = this.options.plot.options.width;\n      return width * 0.5;\n    }\n\n    return 10;\n  };\n\n  HeatmapLegend.prototype.getDefaultHeight = function () {\n    if (this.layout === 'vertical') {\n      var height = this.options.plot.options.height;\n      return height * 0.5;\n    }\n\n    return 10;\n  };\n\n  HeatmapLegend.prototype.legendLayout = function () {\n    var _this = this;\n\n    var bleeding = this.options.plot.getPlotTheme().bleeding;\n\n    if (isArray(bleeding)) {\n      each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](_this.options.plot.options);\n        }\n      });\n    }\n\n    var bbox = this.container.getBBox();\n    var x = 0;\n    var y = 0;\n    var positions = this.options.position.split('-');\n    var plotWidth = this.options.plot.width;\n    var plotHeight = this.options.plot.height; // 先确定x\n\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      x = (plotWidth - bbox.width) / 2;\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    } // 再确定y\n\n\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      y = (plotHeight - bbox.height) / 2;\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.container.translate(x, y);\n  };\n\n  HeatmapLegend.prototype.getDefaultOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.45)'\n      }\n    };\n  };\n\n  HeatmapLegend.prototype.getDarkOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(255, 255, 255, 0.45)'\n        }\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(255, 255, 255, 0.25)'\n      }\n    };\n  };\n\n  HeatmapLegend.prototype.addInteraction = function () {\n    var _this = this;\n\n    var _a = this.options.plot.options,\n        colorField = _a.colorField,\n        data = _a.data;\n    this.container.on('click', function (ev) {\n      var target = ev.target;\n\n      if (target.get('name') === 'grid') {\n        var appendInfo = target.get('info');\n        var targetInfo = appendInfo.from + \"-\" + appendInfo.to;\n        var relativeData = _this.dataSlides[targetInfo];\n\n        if (relativeData.mode === 'active') {\n          relativeData.mode = 'deactive';\n          target.stopAnimate();\n          target.animate({\n            opacity: DEACTIVE_OPACITY\n          }, 200);\n        } else {\n          relativeData.mode = 'active';\n          target.stopAnimate();\n          target.animate({\n            opacity: ACTIVE_OPACITY\n          }, 200);\n        }\n\n        var filteredData = _this.getFilteredData();\n\n        if (filteredData.length > 0) {\n          _this.view.set('data', filteredData);\n\n          _this.view.scale(colorField, {\n            min: _this.colorScale.min,\n            max: _this.colorScale.max,\n            nice: _this.colorScale.nice\n          });\n\n          _this.view.render();\n        }\n      }\n    });\n  };\n\n  HeatmapLegend.prototype.getFilteredData = function () {\n    var filteredData = [];\n    each(this.dataSlides, function (s) {\n      if (s.mode == 'active') {\n        filteredData.push.apply(filteredData, s.data);\n      }\n    });\n    return filteredData;\n  }; //预先对数据进行分组\n\n\n  HeatmapLegend.prototype.getDataSlide = function (range) {\n    var slide = [];\n    var _a = this.options.plot.options,\n        colorField = _a.colorField,\n        data = _a.data;\n    each(data, function (d) {\n      var value = d[colorField];\n\n      if (value >= range.from && value < range.to) {\n        slide.push(d);\n      }\n    });\n    return slide;\n  };\n\n  HeatmapLegend.prototype.getTopPosition = function (bleeding) {\n    if (this.options.plot.description) {\n      var bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      var bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n\n    return bleeding[0];\n  };\n\n  return HeatmapLegend;\n}();\n\nexport default HeatmapLegend;","import { __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar HeatmapBackground =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapBackground, _super);\n\n  function HeatmapBackground(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.options = cfg;\n    _this.view = _this.options.view;\n\n    _this.init();\n\n    return _this;\n  }\n\n  HeatmapBackground.prototype.init = function () {\n    var coord = this.view.get('coord');\n    this.width = coord.width;\n    this.height = coord.height;\n    this.x = coord.start.x;\n    this.y = coord.end.y;\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n    this.container.setZIndex(-100);\n  };\n\n  HeatmapBackground.prototype.render = function () {\n    if (this.options.type === 'color') {\n      this.renderColorBackground();\n    } else if (this.options.type === 'image') {\n      this.renderImageBackground();\n    } else if (this.options.callback) {\n      var callbackCfg = {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        container: this.container\n      };\n      this.options.callback(callbackCfg);\n    }\n  };\n\n  HeatmapBackground.prototype.renderColorBackground = function () {\n    this.container.addShape('rect', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        fill: this.options.value\n      }\n    });\n  };\n\n  HeatmapBackground.prototype.renderImageBackground = function () {\n    this.container.addShape('image', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        img: this.options.src\n      }\n    });\n  };\n\n  HeatmapBackground.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n      this.emit('background:clear');\n    }\n  };\n\n  HeatmapBackground.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove(); // 使用callback定制的html background需要自己监听销毁事件自行销毁\n\n      this.emit('background:destroy');\n    }\n  };\n\n  return HeatmapBackground;\n}(EventEmitter);\n\nexport default HeatmapBackground;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport '../../geoms/heatmap/linear';\nimport HeatmapLegend from './components/legend';\nimport HeatmapBackground from './components/background';\nimport '../scatter/components/label/scatter-label';\n\nvar HeatmapLayer =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapLayer, _super);\n\n  function HeatmapLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'heatmap';\n    _this.count = 0;\n    return _this;\n  }\n\n  HeatmapLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: true,\n          offset: 12\n        }\n      },\n      tooltip: {\n        visible: true,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            lineWidth: 2\n          }\n        }\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      color: ['rgba(33,102,172,0)', 'rgb(103,169,207)', 'rgb(209,229,240)', 'rgb(253,219,199)', 'rgb(239,138,98)', 'rgb(178,24,43)']\n    });\n  };\n\n  HeatmapLayer.prototype.afterRender = function () {\n    if (this.options.legend && this.options.legend.visible) {\n      this.heatmapLegend = new HeatmapLegend(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.legend));\n      this.heatmapLegend.render();\n      this.paddingController.registerPadding(this.heatmapLegend, 'outer');\n    }\n\n    if (this.options.background && this.options.padding !== 'auto') {\n      this.background = new HeatmapBackground(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.background));\n      this.background.render();\n    }\n\n    _super.prototype.afterRender.call(this);\n\n    this.count += 1;\n  };\n\n  HeatmapLayer.prototype.destroy = function () {\n    if (this.heatmapLegend) {\n      this.heatmapLegend.destroy();\n      this.heatmapLegend = null;\n    }\n\n    if (this.background) {\n      this.background.destroy();\n      this.background = null;\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HeatmapLayer.prototype.scale = function () {\n    var props = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[props.xField] = {};\n\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[props.yField] = {};\n\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  HeatmapLayer.prototype.coord = function () {};\n\n  HeatmapLayer.prototype.geometryParser = function (dim, type) {\n    return 'heatmap';\n  };\n\n  HeatmapLayer.prototype.addGeometry = function () {\n    var config = {\n      type: 'linearHeatmap',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      }\n    };\n\n    if (this.options.radius) {\n      config.radius = this.options.radius;\n    }\n\n    if (this.options.intensity) {\n      config.intensity = this.options.intensity;\n    }\n\n    this.setConfig('element', config);\n    this.addPoint();\n  };\n\n  HeatmapLayer.prototype.addPoint = function () {\n    var props = this.options;\n    var defaultConfig = {\n      visible: false,\n      size: 0\n    };\n\n    if (props.point && props.point.visible) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    } else {\n      props.point = defaultConfig;\n    }\n\n    var point = getGeom('point', 'guide', {\n      plot: this\n    });\n    point.active = false;\n    point.label = this.extractLabel();\n    this.setConfig('element', point);\n  };\n\n  HeatmapLayer.prototype.extractLabel = function () {\n    var props = this.options;\n    var label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.xField, props.yField],\n      position: 'middle',\n      offset: 0\n    }, label));\n    return labelConfig;\n  };\n\n  HeatmapLayer.prototype.legend = function () {\n    this.setConfig('legends', false);\n  };\n\n  HeatmapLayer.prototype.animation = function () {};\n\n  return HeatmapLayer;\n}(ViewLayer);\n\nexport default HeatmapLayer;\nregisterPlotType('heatmap', HeatmapLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport HeatmapLayer from './layer';\n\nvar Heatmap =\n/** @class */\nfunction (_super) {\n  __extends(Heatmap, _super);\n\n  function Heatmap() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Heatmap.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'heatmap';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Heatmap.getDefaultOptions = HeatmapLayer.getDefaultOptions;\n  return Heatmap;\n}(BasePlot);\n\nexport default Heatmap;","import { __assign } from \"tslib\";\nimport { each, isArray, deepMix } from '@antv/util';\nimport { BBox } from '@antv/g';\nvar LABEL_MARGIN = 4;\n\nvar MatrixLegend =\n/** @class */\nfunction () {\n  function MatrixLegend(cfg) {\n    this.destroyed = false;\n    this.dataSlides = {};\n    var defaultOptions = this.getDefaultOptions();\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  MatrixLegend.prototype.init = function () {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    var plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  };\n\n  MatrixLegend.prototype.render = function () {\n    var scales = this.view.get('scales');\n    var colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    var color = this.options.plot.options.color;\n\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n\n    this.legendLayout();\n    this.addInteraction();\n  };\n\n  MatrixLegend.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  };\n\n  MatrixLegend.prototype.show = function () {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  };\n\n  MatrixLegend.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  MatrixLegend.prototype.destroy = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  MatrixLegend.prototype.getBBox = function () {\n    var origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  };\n\n  MatrixLegend.prototype.renderVertical = function (min, max, colors) {\n    var _this = this;\n\n    var valueStep = (max - min) / (colors.length - 1);\n    var colorStep = 1 / (colors.length - 1);\n    var tickStep = this.height / (colors.length - 1);\n    var gradientColor = 'l(90)';\n    each(colors, function (c, index) {\n      var stepNum = colorStep * index;\n      gradientColor += stepNum + \":\" + c + \" \";\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor\n      }\n    }); // draw tick and label\n\n    each(colors, function (c, index) {\n      // tick\n      var step = tickStep * index;\n\n      _this.container.addShape('path', {\n        attrs: __assign({\n          path: [['M', 0, step], ['L', _this.width, step]]\n        }, _this.options.ticklineStyle)\n      }); // value\n\n\n      var value = Math.round(valueStep * index);\n\n      _this.container.addShape('text', {\n        attrs: __assign({\n          text: value,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          x: _this.width + LABEL_MARGIN,\n          y: step\n        }, _this.options.text.style)\n      });\n    }); //anchor\n\n    var tri_width = 10;\n    var tri_height = 14;\n    var tri_path = [['M', -tri_width, -tri_height / 2], ['L', 0, 0], ['L', -tri_width, tri_height / 2], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: __assign({\n        path: tri_path\n      }, this.options.anchorStyle)\n    });\n    this.anchor.set('visible', false);\n  };\n\n  MatrixLegend.prototype.renderHorizontal = function (min, max, colors) {\n    var _this = this;\n\n    var valueStep = (max - min) / (colors.length - 1);\n    var colorStep = 1 / (colors.length - 1);\n    var tickStep = this.width / (colors.length - 1);\n    var gradientColor = 'l(0)';\n    each(colors, function (c, index) {\n      var stepNum = colorStep * index;\n      gradientColor += stepNum + \":\" + c + \" \";\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor\n      }\n    }); // draw tick and label\n\n    each(colors, function (c, index) {\n      // tick\n      var step = tickStep * index;\n\n      _this.container.addShape('path', {\n        attrs: __assign({\n          path: [['M', step, 0], ['L', step, _this.height]]\n        }, _this.options.ticklineStyle)\n      }); // value\n\n\n      var value = Math.round(valueStep * index);\n\n      _this.container.addShape('text', {\n        attrs: __assign({\n          text: value,\n          textAlign: 'center',\n          textBaseline: 'top',\n          x: step,\n          y: _this.height + LABEL_MARGIN\n        }, _this.options.text.style)\n      });\n    }); //anchor\n\n    var tri_width = 14;\n    var tri_height = 10;\n    var tri_path = [['M', 0, 0], ['L', -tri_width / 2, -tri_height], ['L', tri_width / 2, -tri_height], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: __assign({\n        path: tri_path\n      }, this.options.anchorStyle)\n    });\n    this.anchor.set('visible', false);\n  };\n\n  MatrixLegend.prototype.getLayout = function () {\n    var positions = this.options.position.split('-');\n    this.position = positions[0];\n\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n\n    return 'horizontal';\n  };\n\n  MatrixLegend.prototype.getDefaultWidth = function () {\n    if (this.layout === 'horizontal') {\n      var width = this.view.get('panelRange').width;\n      return width;\n    }\n\n    return 10;\n  };\n\n  MatrixLegend.prototype.getDefaultHeight = function () {\n    if (this.layout === 'vertical') {\n      var height = this.view.get('panelRange').height;\n      return height;\n    }\n\n    return 10;\n  };\n\n  MatrixLegend.prototype.legendLayout = function () {\n    var _this = this;\n\n    var panelRange = this.view.get('panelRange');\n    var bleeding = this.options.plot.getPlotTheme().bleeding;\n\n    if (isArray(bleeding)) {\n      each(bleeding, function (it, index) {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](_this.options.plot.options);\n        }\n      });\n    }\n\n    var bbox = this.container.getBBox();\n    var x = 0;\n    var y = 0;\n    var positions = this.options.position.split('-');\n    var plotWidth = this.options.plot.width;\n    var plotHeight = this.options.plot.height; // 先确定x\n\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.width === panelRange.width) {\n        x = panelRange.x;\n      } else {\n        x = (plotWidth - bbox.width) / 2;\n      }\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    } // 再确定y\n\n\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.height === panelRange.height) {\n        y = panelRange.y;\n      } else {\n        //用户自行设定\n        y = (plotHeight - bbox.height) / 2;\n      }\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.container.translate(x, y);\n  };\n\n  MatrixLegend.prototype.getDefaultOptions = function () {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)'\n        }\n      },\n      ticklineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.8)'\n      },\n      anchorStyle: {\n        fill: 'rgba(0,0,0,0.5)'\n      },\n      triggerOn: 'mousemove'\n    };\n  };\n\n  MatrixLegend.prototype.addInteraction = function () {\n    var _this = this;\n\n    var geomType;\n\n    if (this.options.plot.options.shapeType === 'rect') {\n      geomType = 'polygon';\n    } else {\n      geomType = 'point';\n    }\n\n    var eventName = geomType + \":\" + this.options.triggerOn;\n    var labelEventName = \"label:\" + this.options.triggerOn;\n    var field = this.options.plot.options.colorField;\n    var _a = this.colorScale,\n        min = _a.min,\n        max = _a.max;\n    this.view.on(eventName, function (ev) {\n      var value = ev.data._origin[field];\n      var ratio = (value - min) / (max - min);\n\n      _this.moveAnchor(ratio);\n    });\n    this.view.on(labelEventName, function (ev) {\n      var value = ev.data[field];\n      var ratio = (value - min) / (max - min);\n\n      _this.moveAnchor(ratio);\n    });\n    this.options.plot.canvas.on('mouseleave', function (ev) {\n      _this.anchor.set('visible', false);\n    });\n  };\n\n  MatrixLegend.prototype.moveAnchor = function (ratio) {\n    this.anchor.set('visible', true);\n\n    if (this.layout === 'vertical') {\n      var pos = this.height * ratio;\n      var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[7] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate({\n        matrix: ulMatrix\n      }, 400, 'easeLinear');\n    } else {\n      var pos = this.width * ratio;\n      var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[6] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate({\n        matrix: ulMatrix\n      }, 400, 'easeLinear');\n    }\n  };\n\n  MatrixLegend.prototype.getTopPosition = function (bleeding) {\n    if (this.options.plot.description) {\n      var bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      var bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n\n    return bleeding[0];\n  };\n\n  return MatrixLegend;\n}();\n\nexport default MatrixLegend;","import { registerShape } from '@antv/g2';\nexport function getRectPath(cx, cy, width, height, size) {\n  var w = width * size;\n  var h = height * size;\n  var path = [['M', cx - w / 2, cy + h / 2], ['Q', cx - w / 2, cy, cx - w / 2, cy - h / 2], ['Q', cx, cy - h / 2, cx + w / 2, cy - h / 2], ['Q', cx + w / 2, cy, cx + w / 2, cy + h / 2], ['Q', cx, cy + h / 2, cx - w / 2, cy + h / 2], ['Z']];\n  return path;\n}\nexport function getCirclePath(x, y, size) {\n  var path = [['M', x, y], ['m', -size, 0], ['a', size, size, 0, 1, 0, size * 2, 0], ['a', size, size, 0, 1, 0, -(size * 2), 0], ['Z']];\n  return path;\n}\nexport function getCircleCurve(x, y, size) {\n  // 计算四个角和中点\n  var path = [['M', x - size, y], ['Q', x - size, y - size, x, y - size], ['Q', x + size, y - size, x + size, y], ['Q', x + size, y + size, x, y + size], ['Q', x - size, y + size, x - size, y], ['Z']];\n  return path;\n}\nregisterShape('polygon', 'rect', {\n  draw: function draw(cfg, container) {\n    var points = this.parsePoints(cfg.points);\n    var width = points[2].x - points[0].x;\n    var height = points[0].y - points[1].y;\n    var centerX = points[0].x + width / 2;\n    var centerY = points[1].y + height / 2;\n    /*\n        const path = [\n          ['M', centerX - w / 2, centerY + h / 2],\n          ['L', centerX - w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY + h / 2],\n          ['Z'],\n        ];\n        */\n\n    var path = getRectPath(centerX, centerY, width, height, cfg.origin.size);\n    return container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n        opacity: 1\n      }\n    });\n  }\n});\nregisterShape('point', 'curvePoint', {\n  draw: function draw(cfg, container) {\n    var path = getCirclePath(cfg.x, cfg.y, cfg.size);\n    return container.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n        opacity: 1\n      }\n    });\n  }\n});","import { __extends } from \"tslib\";\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../util/color';\n\nvar MatrixLabels =\n/** @class */\nfunction (_super) {\n  __extends(MatrixLabels, _super);\n\n  function MatrixLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MatrixLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var items = renderer.get('items');\n    var view = this.get('element').get('view');\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var item = items[index];\n      var origin = l.get('origin');\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this._getShape(shapeId, shapes);\n\n      var _a = _this.get('labelOptions'),\n          adjustColor = _a.adjustColor,\n          adjustPosition = _a.adjustPosition;\n\n      if (adjustColor) {\n        _this.adjustColor(l, shape);\n      }\n\n      if (adjustPosition) {\n        _this.adjustPosition(l, shape);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  MatrixLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  MatrixLabels.prototype.adjustColor = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      var shapeColor = shape.attr('fill');\n      var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      var rgb = rgb2arr(shapeColor);\n      var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      var colorBand = [{\n        from: 0,\n        to: 85,\n        color: 'white'\n      }, {\n        from: 85,\n        to: 170,\n        color: '#F6F6F6'\n      }, {\n        from: 170,\n        to: 255,\n        color: 'black'\n      }];\n      var reflect = this.mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n    }\n  };\n\n  MatrixLabels.prototype.mappingColor = function (band, gray) {\n    var reflect;\n\n    _.each(band, function (b) {\n      var map = b;\n\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n\n    return reflect;\n  };\n\n  MatrixLabels.prototype.adjustPosition = function (label, shape) {\n    var labelRange = label.getBBox();\n    var shapeRange = shape.getBBox();\n\n    if (labelRange.width > shapeRange.width || labelRange.height > shapeRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  };\n\n  return MatrixLabels;\n}(ElementLabels);\n\nexport { MatrixLabels };\nregisterElementLabels('matrixLabel', MatrixLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport MatrixLegend from './component/legend';\nimport { getRectPath, getCirclePath, getCircleCurve } from './shape';\nimport './component/label';\nimport './component/legend';\n\nvar MatrixLayer =\n/** @class */\nfunction (_super) {\n  __extends(MatrixLayer, _super);\n\n  function MatrixLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'matrix';\n    _this.gridSize = [];\n    return _this;\n  }\n\n  MatrixLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      forceSquare: false,\n      shapeType: 'rect',\n      legend: {\n        visible: true,\n        position: 'right-center'\n      },\n      tooltip: {\n        shared: false,\n        crosshairs: false\n      },\n      xAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        line: {\n          visible: false\n        },\n        autoRotateLabel: true\n      },\n      yAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n          align: 'center'\n        },\n        tickLine: {\n          visible: true\n        },\n        autoRotateLabel: true\n      },\n      color: ['#9ae3d5', '#66cdbb', '#e7a744', '#f1e066', '#f27664', '#e7c1a2'],\n      label: {\n        visible: true,\n        adjustColor: true,\n        adjustPosition: true,\n        offset: 0,\n        style: {\n          stroke: 'rgba(255,255,255,0)',\n          lineWidth: 0\n        }\n      }\n    });\n  };\n\n  MatrixLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    if (this.options.forceSquare) {\n      var panelRange = this.view.get('panelRange');\n      var _a = this.options,\n          xField = _a.xField,\n          yField = _a.yField,\n          data = _a.data;\n\n      var xCount = _.valuesOfKey(data, xField).length;\n\n      var yCount = _.valuesOfKey(data, yField).length;\n\n      var rangeSize = Math.min(panelRange.width, panelRange.height);\n      var count = Math.max(xCount, yCount);\n      var gridSize = rangeSize / count;\n      var width = gridSize * xCount;\n      var height = gridSize * yCount;\n      this.view.set('panelRange', new BBox(panelRange.x, panelRange.y, width, height));\n    }\n  };\n\n  MatrixLayer.prototype.afterRender = function () {\n    if (this.options.legend && this.options.legend.visible) {\n      this.matrixLegend = new MatrixLegend(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.legend));\n      this.matrixLegend.render();\n      this.paddingController.registerPadding(this.matrixLegend, 'outer');\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  MatrixLayer.prototype.changeShape = function (type) {\n    if (this.options.shapeType === type) {\n      return;\n    }\n\n    this.options.shapeType = type;\n\n    if (type === 'rect') {\n      var geom = this.view.get('elements')[0];\n      var shapes = geom.getShapes();\n      this.circleToRect(shapes);\n    } else if (type === 'circle') {\n      var geom = this.view.get('elements')[0];\n      var shapes = geom.getShapes();\n      this.rectToCircle(shapes);\n    }\n  };\n\n  MatrixLayer.prototype.mappingSize = function (field) {\n    if (this.options.sizeField && this.options.sizeField === field) {\n      return;\n    } // 创建scale\n\n\n    var values = _.valuesOfKey(this.options.data, field);\n\n    var min = Math.min.apply(Math, values);\n    var max = Math.max.apply(Math, values);\n    var LinearScale = getScale('linear');\n    var scale = new LinearScale({\n      min: min,\n      max: max\n    });\n    var geom = this.view.get('elements')[0];\n    var shapes = geom.getShapes();\n\n    if (this.options.shapeType === 'rect') {\n      this.rectSizeMapping(shapes, scale, field);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleSizeMapping(shapes, scale, field);\n    }\n  };\n\n  MatrixLayer.prototype.disableMappingSize = function () {\n    var geom = this.view.get('elements')[0];\n    var shapes = geom.getShapes();\n\n    if (this.options.shapeType === 'rect') {\n      this.rectDisableSizeMapping(shapes);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleDisableSizeMapping(shapes);\n    }\n  };\n\n  MatrixLayer.prototype.geometryParser = function () {\n    return '';\n  };\n\n  MatrixLayer.prototype.coord = function () {};\n\n  MatrixLayer.prototype.legend = function () {\n    this.setConfig('legends', false);\n  };\n\n  MatrixLayer.prototype.addGeometry = function () {\n    this.gridSize = this.getGridSize();\n\n    if (this.options.shapeType === 'rect') {\n      var rect = this.addRect();\n      this.setConfig('element', rect);\n    } else {\n      var circle = this.addCircle();\n      this.setConfig('element', circle);\n    }\n  };\n\n  MatrixLayer.prototype.addRect = function () {\n    // 如果用户设置了size，将size数值转换为[0,1]区间\n    var size = [0.3, 0.9];\n\n    if (this.options.shapeSize) {\n      size[0] = this.options.shapeSize[0] / this.gridSize[0];\n      size[1] = this.options.shapeSize[1] / this.gridSize[1];\n    }\n\n    var rect = {\n      type: 'polygon',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      },\n      shape: {\n        values: ['rect']\n      },\n      label: this.extractLabel()\n    };\n\n    if (this.options.sizeField) {\n      rect.size = {\n        fields: [this.options.sizeField],\n        values: size\n      };\n    } else {\n      rect.size = {\n        values: [1]\n      };\n    }\n\n    return rect;\n  };\n\n  MatrixLayer.prototype.addCircle = function () {\n    var size = [0.3, 0.9];\n\n    if (this.options.shapeSize) {\n      size = this.options.shapeSize;\n    } else {\n      size[0] = this.gridSize[0] * size[0] * 0.5;\n      size[1] = this.gridSize[1] * size[1] * 0.5;\n    }\n\n    var circle = {\n      type: 'point',\n      position: {\n        fields: [this.options.xField, this.options.yField]\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color\n      },\n      shape: {\n        values: ['curvePoint']\n      },\n      label: this.extractLabel()\n    };\n\n    if (this.options.sizeField) {\n      circle.size = {\n        fields: [this.options.sizeField],\n        values: size\n      };\n    } else {\n      circle.size = {\n        values: [Math.min(this.gridSize[0], this.gridSize[1]) * 0.5 * 0.9]\n      };\n    }\n\n    return circle;\n  };\n\n  MatrixLayer.prototype.extractLabel = function () {\n    var labelOptions = this.options.label; // 不显示label的情况\n\n    if (!labelOptions.visible) {\n      return false;\n    }\n\n    if (!this.options.sizeField && !this.options.colorField) {\n      return false;\n    }\n\n    var label = getComponent('label', __assign({\n      plot: this,\n      top: true,\n      labelType: 'matrixLabel',\n      fields: this.options.colorField ? [this.options.colorField] : [this.options.sizeField]\n    }, labelOptions));\n    return label;\n  };\n\n  MatrixLayer.prototype.getGridSize = function () {\n    if (this.options.padding === 'auto') {\n      return [0, 0];\n    } else {\n      var viewRange = this.getViewRange();\n      var _a = this.options,\n          padding = _a.padding,\n          xField = _a.xField,\n          yField = _a.yField,\n          data = _a.data;\n      var width = viewRange.width - padding[1] - padding[3];\n      var height = viewRange.height - padding[0] - padding[2];\n\n      var xCount = _.valuesOfKey(data, xField).length;\n\n      var yCount = _.valuesOfKey(data, yField).length;\n\n      return [width / xCount, height / yCount];\n    }\n  };\n\n  MatrixLayer.prototype.circleToRect = function (shapes) {\n    var _this = this;\n\n    var gridSize = this.gridSize;\n\n    _.each(shapes, function (shape) {\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y,\n          size = _a.size;\n\n      var sizeRatio = size * 2 / Math.min(gridSize[0], gridSize[1]);\n\n      if (!_this.options.sizeField) {\n        sizeRatio = 1;\n      }\n\n      var curvePath = getCircleCurve(x, y, size);\n      var rectPath = getRectPath(x, y, gridSize[0], gridSize[1], sizeRatio);\n      shape.stopAnimate();\n      shape.attr('path', curvePath);\n      shape.animate({\n        path: rectPath\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.rectToCircle = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var coord = shape.get('coord');\n      var points = shape.get('origin').points;\n      var ps = [];\n\n      _.each(points, function (p) {\n        ps.push(coord.convertPoint(p));\n      });\n\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var offsetRatio = _this.options.sizeField ? 1 : 0.9;\n      var curvePath = getCircleCurve(centerX, centerY, Math.min(width, height) / 2 * offsetRatio);\n      var circlePath = getCirclePath(centerX, centerY, Math.min(width, height) / 2 * offsetRatio);\n      shape.stopAnimate();\n      shape.animate({\n        path: curvePath\n      }, 500, 'easeLinear', function () {\n        shape.attr('path', circlePath);\n      });\n    });\n  };\n\n  MatrixLayer.prototype.rectSizeMapping = function (shapes, scale, field) {\n    _.each(shapes, function (shape) {\n      var data = shape.get('origin')._origin;\n\n      var ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      shape.get('origin').size = ratio;\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var path = getRectPath(centerX, centerY, width, height, ratio);\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.circleSizeMapping = function (shapes, scale, field) {\n    _.each(shapes, function (shape) {\n      var data = shape.get('origin')._origin;\n\n      var ratio = 0.3 + scale.scale(data[field]) * 0.6;\n\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y,\n          size = _a.size;\n\n      var path = getCirclePath(x, y, size * ratio);\n      shape.get('origin').size = size * ratio;\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.circleDisableSizeMapping = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var _a = shape.get('origin'),\n          x = _a.x,\n          y = _a.y;\n\n      var size = Math.min(_this.gridSize[0], _this.gridSize[1]) * 0.9;\n      shape.get('origin').size = size / 2;\n      var path = getCirclePath(x, y, size / 2);\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  MatrixLayer.prototype.rectDisableSizeMapping = function (shapes) {\n    var _this = this;\n\n    _.each(shapes, function (shape) {\n      var bbox = shape.getBBox();\n      var width = bbox.width;\n      var height = bbox.height;\n      var centerX = bbox.minX + width / 2;\n      var centerY = bbox.minY + height / 2;\n      var path = getRectPath(centerX, centerY, _this.gridSize[0], _this.gridSize[1], 1);\n      shape.get('origin').size = 1;\n      shape.stopAnimate();\n      shape.animate({\n        path: path\n      }, 500, 'easeLinear');\n    });\n  };\n\n  return MatrixLayer;\n}(ViewLayer);\n\nexport default MatrixLayer;\nregisterPlotType('matrix', MatrixLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport MatrixLayer from './layer';\n\nvar Matrix =\n/** @class */\nfunction (_super) {\n  __extends(Matrix, _super);\n\n  function Matrix() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Matrix.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'matrix';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Matrix.prototype.changeShape = function (type) {\n    var layer = this.layers[0];\n    layer.changeShape(type);\n  };\n\n  Matrix.prototype.mappingSize = function (field) {\n    var layer = this.layers[0];\n    layer.mappingSize(field);\n  };\n\n  Matrix.prototype.disableMappingSize = function () {\n    var layer = this.layers[0];\n    layer.disableMappingSize();\n  };\n\n  Matrix.getDefaultOptions = MatrixLayer.getDefaultOptions;\n  return Matrix;\n}(BasePlot);\n\nexport default Matrix;","import { __assign } from \"tslib\";\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction getRectPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n\n    if (point) {\n      var action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  var first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['Z']);\n  return path;\n}\n\nvar ShapeUtil = {\n  addFillAttrs: function addFillAttrs(attrs, cfg) {\n    if (cfg.color) {\n      attrs.fill = cfg.color;\n    }\n\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  }\n};\n\nfunction getFillAttrs(cfg) {\n  var defaultAttrs = Global.theme.shape.interval;\n\n  var attrs = _.mix({}, defaultAttrs, cfg.style);\n\n  ShapeUtil.addFillAttrs(attrs, cfg);\n\n  if (cfg.color) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n\n  return attrs;\n} // @ts-ignore\n\n\nregisterShape('interval', 'waterfall', {\n  draw: function draw(cfg, container) {\n    var fillAttrs = getFillAttrs(cfg);\n    var rectPath = getRectPath(cfg.points);\n    rectPath = this.parsePath(rectPath); // 1. 区域\n\n    var interval = container.addShape('path', {\n      attrs: _.mix(fillAttrs, {\n        path: rectPath\n      })\n    });\n\n    var leaderLine = _.get(cfg.style, 'leaderLine');\n\n    if (leaderLine && leaderLine.visible) {\n      var lineStyle = leaderLine.style || {}; // 2. 虚线连线\n\n      if (cfg.nextPoints) {\n        var linkPath = [['M', cfg.points[2].x, cfg.points[2].y], ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y]];\n        linkPath = this.parsePath(linkPath);\n        var path = container.addShape('path', {\n          attrs: __assign({\n            path: linkPath,\n            stroke: '#d3d3d3',\n            lineDash: [4, 2],\n            lineWidth: 1\n          }, lineStyle)\n        });\n        path.name = 'leader-line';\n      }\n    }\n\n    return interval;\n  }\n});","import { __extends } from \"tslib\";\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\nimport { VALUE_FIELD } from '../../layer';\n\nvar WaterfallLabels =\n/** @class */\nfunction (_super) {\n  __extends(WaterfallLabels, _super);\n\n  function WaterfallLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  WaterfallLabels.prototype.adjustPosition = function (label, shape, item) {\n    var MARGIN = 2;\n    var shapeBox = shape.getBBox();\n    var origin = label.get('origin');\n    var yField = item.fields[0];\n    var values = origin[VALUE_FIELD];\n    var diff = origin[yField];\n    var value = _.isArray(values) ? values[1] : values;\n    var yPos = (shapeBox.minY + shapeBox.maxY) / 2;\n    var textBaseline = 'bottom';\n\n    if (diff < 0) {\n      yPos = shapeBox.maxY + MARGIN;\n      textBaseline = 'top';\n    } else {\n      yPos = shapeBox.minY - MARGIN;\n    }\n\n    label.attr('y', yPos);\n    label.attr('text', value);\n    label.attr('textBaseline', textBaseline);\n  };\n\n  return WaterfallLabels;\n}(ColumnLabels);\n\nregisterElementLabels('waterfall', WaterfallLabels);","import { __assign } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { VALUE_FIELD, IS_TOTAL } from '../../layer';\n\nfunction getDefaultCfg() {\n  return {\n    fill: '#fff',\n    fontSize: 12,\n    lineHeight: 12,\n    stroke: 'rgba(0, 0, 0, 0.45)'\n  };\n}\n\nvar DiffLabel =\n/** @class */\nfunction () {\n  function DiffLabel(cfg) {\n    this.textAttrs = {};\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.textAttrs = _.mix(getDefaultCfg(), cfg.style);\n\n    this._init();\n  }\n  /** 绘制辅助labels */\n\n\n  DiffLabel.prototype.draw = function () {\n    var _this = this;\n\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    var data = _.clone(this.view.get('data'));\n\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    var shapes = this.view.get('elements')[0].getShapes().filter(function (s) {\n      return s.name === 'interval';\n    });\n    var labelsGroup = new Group();\n\n    _.each(shapes, function (shape, idx) {\n      if (!shape.get('origin')) return;\n\n      var _origin = shape.get('origin')._origin;\n\n      var shapeBox = shape.getBBox();\n      var values = _origin[VALUE_FIELD];\n      var diff = values;\n\n      if (_.isArray(values)) {\n        diff = values[1] - values[0];\n      }\n\n      diff = diff > 0 ? \"+\" + diff : diff;\n      /** is total, total do not need `+` sign */\n\n      if (_origin[IS_TOTAL]) {\n        diff = values[0] - values[1];\n      }\n\n      var formattedText = diff;\n\n      if (_this.formatter) {\n        var color = shapes[idx].attr('fill');\n        formattedText = _this.formatter(\"\" + diff, {\n          _origin: data[idx],\n          color: color\n        }, idx);\n      }\n\n      var text = labelsGroup.addShape('text', {\n        attrs: __assign({\n          text: formattedText,\n          textBaseline: 'middle',\n          textAlign: 'center',\n          x: (shapeBox.minX + shapeBox.maxX) / 2,\n          y: (shapeBox.minY + shapeBox.maxY) / 2\n        }, _this.textAttrs)\n      });\n\n      if (text.getBBox().height > shapeBox.height) {\n        text.set('visible', false);\n      }\n    });\n\n    this.container.add(labelsGroup);\n    this.view.get('canvas').draw();\n  };\n\n  DiffLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  DiffLabel.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  return DiffLabel;\n}();\n\nexport default DiffLabel;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport './geometry/shape/waterfall';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './component/label/waterfall-label';\nimport DiffLabel from './component/label/diff-label';\nvar G2_GEOM_MAP = {\n  waterfall: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'waterfall'\n};\nexport var VALUE_FIELD = '$$value$$';\nexport var IS_TOTAL = '$$total$$';\nvar INDEX_FIELD = '$$index$$';\n\nvar WaterfallLayer =\n/** @class */\nfunction (_super) {\n  __extends(WaterfallLayer, _super);\n\n  function WaterfallLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'watarfall';\n    return _this;\n  }\n\n  WaterfallLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      legend: {\n        visible: false,\n        position: 'bottom'\n      },\n      label: {\n        visible: true,\n        adjustPosition: true\n      },\n\n      /** 差值 label */\n      diffLabel: {\n        visible: true\n      },\n\n      /** 迁移线 */\n      leaderLine: {\n        visible: true\n      },\n\n      /** 显示总计 */\n      showTotal: {\n        visible: true,\n        label: '总计值'\n      },\n      waterfallStyle: {\n        /** 默认无描边 */\n        lineWidth: 0\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect'\n        }\n      }\n    });\n  };\n\n  WaterfallLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props);\n\n    this.adjustLegendOptions(options);\n    this.adjustMeta(options);\n    return options;\n  };\n\n  WaterfallLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var options = this.options;\n\n    if (options.diffLabel && options.diffLabel.visible) {\n      this.diffLabel = new DiffLabel({\n        view: this.view,\n        fields: [options.xField, options.yField, VALUE_FIELD],\n        formatter: options.diffLabel.formatter,\n        style: options.diffLabel.style\n      });\n    } else if (this.diffLabel) {\n      this.diffLabel.clear();\n      this.diffLabel = null;\n    }\n  };\n\n  WaterfallLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var options = this.options;\n    this.view.on('tooltip:change', function (e) {\n      var items = e.items;\n\n      for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n\n        var _origin = _.get(item.point, '_origin', {}); // 改变 tooltip 显示的name和value\n\n\n        item.name = _origin[options.xField];\n        item.value = _origin[options.yField];\n\n        if (!item.value && _origin[IS_TOTAL]) {\n          var values = _origin[VALUE_FIELD];\n          item.value = values[0] - values[1];\n        }\n\n        e.items[i] = item;\n      }\n    });\n  };\n\n  WaterfallLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  WaterfallLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var waterfall = {\n      type: 'interval',\n      position: {\n        fields: [options.xField, VALUE_FIELD]\n      },\n      shape: {\n        values: ['waterfall']\n      }\n    };\n\n    if (options.label) {\n      waterfall.label = this.extractLabel();\n    }\n\n    waterfall.style = this._parseStyle();\n    waterfall.color = this._parseColor();\n    this.waterfall = waterfall;\n    this.setConfig('element', waterfall);\n  };\n\n  WaterfallLayer.prototype.processData = function (originData) {\n    var _a;\n\n    var plotData = [];\n    var xField = this.options.xField;\n    var yField = this.options.yField;\n\n    _.map(originData, function (dataItem, idx) {\n      var _a;\n\n      var value = dataItem[yField];\n\n      if (idx > 0) {\n        var prevValue = plotData[idx - 1][VALUE_FIELD];\n\n        if (_.isArray(prevValue)) {\n          value = [prevValue[1], dataItem[yField] + prevValue[1]];\n        } else {\n          value = [prevValue, dataItem[yField] + prevValue];\n        }\n      }\n\n      plotData.push(__assign(__assign({}, dataItem), (_a = {}, _a[VALUE_FIELD] = value, _a[INDEX_FIELD] = idx, _a)));\n    });\n\n    if (this.options.showTotal && this.options.showTotal.visible) {\n      var values = _.map(originData, function (o) {\n        return o[yField];\n      });\n\n      var totalValue = _.reduce(values, function (p, n) {\n        return p + n;\n      }, 0);\n\n      plotData.push((_a = {}, _a[xField] = this.options.showTotal.label, _a[yField] = null, _a[VALUE_FIELD] = [totalValue, 0], _a[INDEX_FIELD] = plotData.length, _a[IS_TOTAL] = true, _a));\n    }\n\n    return plotData;\n  };\n\n  WaterfallLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n\n\n    scales[VALUE_FIELD] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[VALUE_FIELD], options.yAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n  /** @override */\n\n\n  WaterfallLayer.prototype.axis = function () {\n    var xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x'\n    });\n    var yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y'\n    });\n    var axesConfig = {\n      fields: {}\n    };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[VALUE_FIELD] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n\n    this.setConfig('axes', axesConfig);\n  };\n\n  WaterfallLayer.prototype.coord = function () {};\n\n  WaterfallLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  WaterfallLayer.prototype.extractLabel = function () {\n    var options = this.options;\n\n    var label = _.deepMix({}, options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'waterfall',\n      fields: [options.yField]\n    }, label));\n    return labelConfig;\n  };\n  /** 牵引线的样式注入到style中 */\n\n\n  WaterfallLayer.prototype._parseStyle = function () {\n    var style = this.options.waterfallStyle;\n    var leaderLine = this.options.leaderLine;\n    var config = {};\n\n    if (_.isFunction(style)) {\n      config.callback = function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return Object.assign({}, style.apply(void 0, args), {\n          leaderLine: leaderLine\n        });\n      };\n    } else {\n      config.cfg = __assign(__assign({}, style), {\n        leaderLine: leaderLine\n      });\n    }\n\n    return config;\n  };\n\n  WaterfallLayer.prototype._parseColor = function () {\n    var _this = this;\n\n    var options = this.options;\n    var _a = this.options,\n        xField = _a.xField,\n        yField = _a.yField;\n    var config = {\n      fields: [xField, yField, VALUE_FIELD, INDEX_FIELD]\n    };\n\n    if (_.isFunction(options.color)) {\n      config.callback = options.color;\n    } else {\n      var risingColor_1 = '#f4664a';\n      var fallingColor_1 = '#30bf78';\n      var totalColor_1 = 'rgba(0, 0, 0, 0.25)';\n\n      if (_.isString(options.color)) {\n        risingColor_1 = fallingColor_1 = totalColor_1 = options.color;\n      } else if (_.isObject(options.color)) {\n        var _b = options.color,\n            rising = _b.rising,\n            falling = _b.falling,\n            total = _b.total;\n        risingColor_1 = rising;\n        fallingColor_1 = falling;\n        totalColor_1 = total;\n      }\n\n      config.callback = function (type, value, values, index) {\n        if (index === _this.options.data.length) {\n          return totalColor_1 || (values[0] >= 0 ? risingColor_1 : fallingColor_1);\n        }\n\n        return (_.isArray(values) ? values[1] - values[0] : values) >= 0 ? risingColor_1 : fallingColor_1;\n      };\n    }\n\n    return config;\n  };\n  /** 复写 legend 配置, 瀑布图默认无legend */\n\n\n  WaterfallLayer.prototype.adjustLegendOptions = function (options) {\n    var legendOptions = options.legend;\n\n    if (legendOptions) {\n      legendOptions.visible = false;\n    }\n  };\n  /** 复写 meta 配置 */\n\n\n  WaterfallLayer.prototype.adjustMeta = function (options) {\n    var metaOptions = options.meta;\n\n    if (metaOptions) {\n      var valueFieldMeta = metaOptions ? metaOptions[options.yField] : {};\n      valueFieldMeta.alias = valueFieldMeta.alias || options.yField;\n      options.meta[VALUE_FIELD] = valueFieldMeta;\n    }\n  };\n\n  return WaterfallLayer;\n}(ViewLayer);\n\nexport default WaterfallLayer;\nregisterPlotType('waterfall', WaterfallLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport WaterfallLayer from './layer';\n\nvar Waterfall =\n/** @class */\nfunction (_super) {\n  __extends(Waterfall, _super);\n\n  function Waterfall() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Waterfall.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'waterfall';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Waterfall.getDefaultOptions = WaterfallLayer.getDefaultOptions;\n  return Waterfall;\n}(BasePlot);\n\nexport default Waterfall;","import { each } from '@antv/util';\nexport function dice(root, x0, y0, x1, y1) {\n  var width = x1 - x0;\n  var children = root.children,\n      value = root.value;\n  children.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var k = width / value;\n  var node_x = x0;\n  each(children, function (c) {\n    c.y0 = y0;\n    c.y1 = y1;\n    c.x0 = node_x;\n    node_x += c.value * k;\n    c.x1 = c.x0 + c.value * k;\n  });\n}","import { each } from '@antv/util';\nexport function slice(root, x0, y0, x1, y1) {\n  var height = y1 - y0;\n  var children = root.children,\n      value = root.value;\n  children.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var k = height / value;\n  var node_y = y0;\n  each(children, function (c) {\n    c.x0 = x0;\n    c.x1 = x1;\n    c.y0 = node_y;\n    node_y += c.value * k;\n    c.y1 = c.y0 + c.value * k;\n  });\n}","import { dice } from './dice';\nimport { slice } from './slice'; //reference: https://github.com/d3/d3-hierarchy/blob/master/src/treemap/squarify.js\n// 黄金分割\n\nvar ratio = (1 + Math.sqrt(5)) / 2;\nexport default function squarify(root, x0, y0, x1, y1) {\n  var children = root.children;\n  var value = root.value;\n  children.sort(function (a, b) {\n    return b.value - a.value;\n  });\n  var rows = [];\n  var sumValue, maxValue, minValue;\n  var alpha, beta;\n  var newRatio, minRatio;\n  var nodeValue;\n  var i = 0,\n      j = 0; // todo: 剔除empty node\n\n  while (i < children.length) {\n    var width = x1 - x0;\n    var height = y1 - y0;\n    sumValue = children[j++].value;\n    maxValue = sumValue;\n    minValue = sumValue;\n    alpha = Math.max(height / width, width / height) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    for (; j < children.length; j++) {\n      nodeValue = children[j].value;\n      sumValue += nodeValue;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n\n      if (newRatio > minRatio) {\n        sumValue -= nodeValue;\n        break;\n      }\n\n      minRatio = newRatio;\n    }\n\n    var row = {\n      value: sumValue,\n      dice: width < height,\n      children: children.slice(i, j)\n    };\n    rows.push(row);\n\n    if (row.dice) {\n      var h = value ? height * sumValue / value : height;\n      dice(row, x0, y0, x1, y0 + h);\n\n      if (value) {\n        y0 += h;\n      }\n    } else {\n      var w = value ? width * sumValue / value : width;\n      slice(row, x0, y0, x0 + w, y1);\n\n      if (value) {\n        x0 += w;\n      }\n    }\n\n    value -= sumValue;\n    i = j;\n  }\n\n  return rows;\n}","import { __assign, __extends } from \"tslib\";\nimport EventEmitter from '@antv/event-emitter';\n\nvar BaseComponent =\n/** @class */\nfunction (_super) {\n  __extends(BaseComponent, _super);\n\n  function BaseComponent(config) {\n    var _this = _super.call(this) || this;\n\n    _this.container = config.container;\n    _this.destroyed = false;\n    _this.group = _this.container.addGroup();\n    _this.config = config;\n\n    _this.init(config);\n\n    return _this;\n  }\n\n  BaseComponent.prototype.getGroup = function () {\n    return this.group;\n  };\n\n  BaseComponent.prototype.getBBox = function () {\n    return this.getGroup().getBBox();\n  };\n\n  BaseComponent.prototype.render = function () {\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  };\n\n  BaseComponent.prototype.update = function (config) {\n    this.config = __assign(__assign({}, this.config), config);\n    this.init(__assign(__assign({}, this.config), {\n      config: config\n    }));\n    this.group.clear();\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  };\n\n  BaseComponent.prototype.destroy = function () {\n    this.group.remove(true);\n    this.destroyed = true;\n  };\n\n  BaseComponent.prototype.getCanvas = function () {\n    return this.container.get('canvas');\n  };\n\n  BaseComponent.prototype.init = function (config) {};\n\n  BaseComponent.prototype.renderInner = function (group) {};\n\n  return BaseComponent;\n}(EventEmitter);\n\nexport default BaseComponent;","import { __assign, __extends } from \"tslib\";\nimport BaseComponent from './base';\nimport { Rect } from '@antv/g';\n\nvar Breadcrumb =\n/** @class */\nfunction (_super) {\n  __extends(Breadcrumb, _super);\n\n  function Breadcrumb() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.listeners = [];\n\n    _this.onItemGroupToggleActive = function (itemGroup, active) {\n      return function () {\n        var rectShape = itemGroup.get('children').find(function (item) {\n          return item.get('class') === 'item-background';\n        });\n\n        if (rectShape) {\n          rectShape.attr(active ? _this.itemActiveBackgroundStyle : _this.itemBackgroundStyle);\n        }\n\n        _this.getCanvas().draw();\n      };\n    };\n\n    return _this;\n  }\n\n  Breadcrumb.prototype.destroy = function () {\n    this.offEvents();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  Breadcrumb.prototype.init = function (config) {\n    this.x = config.x;\n    this.y = config.y;\n    this.items = config.items || [];\n    this.itemPadding = config.itemPadding || [2, 8, 2, 8];\n    this.backgroundStyle = __assign({\n      lineWidth: 1,\n      stroke: '#ffffff'\n    }, config.backgroundStyle || {});\n    this.itemBackgroundStyle = __assign({\n      fill: '#fff'\n    }, config.itemBackgroundStyle || {});\n    this.itemActiveBackgroundStyle = __assign({\n      fill: '#ccc',\n      opacity: 0.2\n    }, config.itemActiveBackgroundStyle || {});\n    this.separator = config.separator || '/';\n    this.separatorStyle = __assign({\n      textBaseline: 'top',\n      fill: '#000',\n      opacity: 0.45\n    }, config.separatorStyle || {});\n    this.itemWidth = config.itemWidth;\n    this.itemHeight = config.itemHeight;\n    this.maxItemWidth = config.maxItemWidth;\n    this.textStyle = __assign({\n      textBaseline: 'top',\n      fill: '#000',\n      opacity: 0.45\n    }, config.textStyle || {});\n  };\n\n  Breadcrumb.prototype.renderInner = function (group) {\n    var startX = 0;\n    var startY = 0;\n    this.offEvents();\n    this.renderItems(group, startX, startY); //this.bindEvents(group);\n\n    this.group.move(this.x, this.y);\n  };\n\n  Breadcrumb.prototype.renderItems = function (group, startX, startY) {\n    var _this = this;\n\n    var _a = this.itemPadding,\n        topPadding = _a[0],\n        rightPadding = _a[1],\n        bottomPadding = _a[2],\n        leftPadding = _a[3];\n    var itemHeight; // background\n\n    var backgroundRect = group.addShape('rect', {\n      class: 'breadcrumb-background',\n      attrs: __assign({\n        x: startX,\n        y: startY,\n        width: 1,\n        height: 1\n      }, this.backgroundStyle)\n    });\n    this.items.forEach(function (item, idx) {\n      // item group\n      var itemGroup = group.addGroup({\n        id: \"item-group-\" + item.key,\n        // data: item.key,\n        data: item,\n        class: 'item-group',\n        attrs: {\n          cursor: 'pointer'\n        }\n      }); // background rect\n\n      var rectShape = itemGroup.addShape('rect', {\n        id: \"item-background-\" + item.key,\n        class: 'item-background',\n        attrs: __assign(__assign({\n          x: startX,\n          y: startY,\n          width: leftPadding + rightPadding,\n          height: topPadding + bottomPadding\n        }, _this.itemBackgroundStyle), {\n          cursor: 'pointer'\n        })\n      });\n      rectShape.name = 'breadcrumb'; // text shape\n\n      var textShape = itemGroup.addShape('text', {\n        id: \"item-text-\" + item.key,\n        class: 'item-text',\n        attrs: __assign(__assign({\n          x: startX + leftPadding,\n          y: startY + topPadding,\n          text: item.text\n        }, _this.textStyle), {\n          cursor: 'pointer'\n        })\n      });\n      textShape.name = 'breadcrumb';\n      var textShapeBBox = textShape.getBBox();\n      itemHeight = _this.itemHeight || textShapeBBox.height;\n      var itemWidth = _this.itemWidth || textShapeBBox.width;\n\n      if (_this.maxItemWidth) {\n        itemWidth = Math.min(itemWidth, _this.maxItemWidth);\n      } // update background rect\n\n\n      var backgroundRectAttr = {\n        x: startX,\n        y: startY,\n        width: itemWidth + leftPadding + rightPadding,\n        height: itemHeight + topPadding + bottomPadding\n      };\n      rectShape.attr('width', backgroundRectAttr.width);\n      rectShape.attr('height', backgroundRectAttr.height); // clip\n\n      itemGroup.attr('clip', new Rect({\n        attrs: backgroundRectAttr\n      }));\n      startX += backgroundRectAttr.width; // separator\n\n      if (idx !== _this.items.length - 1) {\n        var sepShape = group.addShape('text', {\n          attrs: __assign({\n            x: startX,\n            y: startY + topPadding,\n            text: _this.separator\n          }, _this.separatorStyle),\n          class: 'separator'\n        });\n        startX += sepShape.getBBox().width;\n      }\n    }); // update background\n\n    backgroundRect.attr({\n      width: startX,\n      height: itemHeight + topPadding + bottomPadding\n    });\n  };\n\n  Breadcrumb.prototype.bindEvents = function (group) {\n    var _this = this;\n\n    var items = this.items;\n    var itemGroups = group.get('children').filter(function (item) {\n      return item.get('class') === 'item-group';\n    });\n\n    var callback = function callback(event, itemGroup, emitEventName) {\n      return function () {\n        var key = itemGroup.get('data');\n        var item = items.find(function (val) {\n          return val.key === key;\n        });\n\n        _this.emit(emitEventName, {\n          item: item\n        });\n      };\n    };\n\n    itemGroups.forEach(function (itemGroup) {\n      var clickCallback = callback('click', itemGroup, 'onItemClick');\n      var dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\n\n      var mouseEnterCallback = _this.onItemGroupToggleActive(itemGroup, true);\n\n      var mouseLeaveCallback = _this.onItemGroupToggleActive(itemGroup, false);\n\n      itemGroup.on('click', clickCallback);\n      itemGroup.on('dblclick', dblclickCallback);\n      itemGroup.on('mouseenter', mouseEnterCallback);\n      itemGroup.on('mouseleave', mouseLeaveCallback);\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'click',\n        callback: clickCallback\n      });\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'dblclick',\n        callback: dblclickCallback\n      });\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'mouseenter',\n        callback: mouseEnterCallback\n      });\n\n      _this.listeners.push({\n        target: itemGroup,\n        event: 'mouseleave',\n        callback: mouseLeaveCallback\n      });\n    });\n  };\n\n  Breadcrumb.prototype.offEvents = function () {\n    if (this.listeners) {\n      this.listeners.forEach(function (_a) {\n        var target = _a.target,\n            event = _a.event,\n            callback = _a.callback;\n        target.off(event, callback);\n      });\n    }\n\n    this.listeners = [];\n  };\n\n  return Breadcrumb;\n}(BaseComponent);\n\nexport default Breadcrumb;","import { each, clone, deepMix } from '@antv/util';\nimport { Rect } from '@antv/g';\nvar ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nvar duration = 400;\nvar easing = 'easeQuadInOut';\nexport function drillingDown(target, view, callback) {\n  var rect = getRect(target);\n  var range = getRange(view);\n  var xRatio = range.width / rect.width;\n  var yRatio = range.height / rect.height;\n  var offsetX = (range.minX - rect.minX) * xRatio;\n  var offsetY = (range.minY - rect.minY) * yRatio;\n  var transform = {\n    transform: [['s', xRatio, yRatio], ['t', offsetX, offsetY]]\n  };\n  var geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  var tem_cliper = new Rect({\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height\n    }\n  });\n  var tem_container = view.get('container').addGroup();\n  tem_container.set('zIndex', -100);\n  tem_container.attr('clip', tem_cliper);\n  var tem_shapes = getTemShapes(geometry, tem_container);\n  geometry.get('container').set('visible', false);\n  view.get('canvas').draw();\n  callback();\n  window.setTimeout(function () {\n    each(tem_shapes, function (shape, index) {\n      if (index === 0) {\n        shape.animate(transform, duration, easing, function () {\n          tem_container.remove();\n          view.get('canvas').draw();\n        });\n      } else {\n        shape.animate(transform, duration);\n      }\n    });\n    geometry = view.get('elements')[0];\n    hideLabel(geometry);\n    var shapes = geometry.getShapes();\n    each(shapes, function (shape) {\n      shape.attr('opacity', 0);\n      shape.animate({\n        opacity: 1\n      }, duration, easing);\n    });\n    var container = geometry.get('container');\n    container.stopAnimate();\n    container.set('visible', true);\n    container.attr('matrix', clone(ulMatrix));\n    container.transform([['s', rect.width / range.width, rect.height / range.height], ['t', rect.minX, rect.minY]]);\n    var matrix = clone(ulMatrix);\n    geometry.get('container').animate({\n      matrix: matrix\n    }, duration, easing, function () {\n      showLabel(geometry);\n    });\n    view.get('canvas').draw();\n  }, 16);\n}\n\nfunction getTemShapes(geometry, container) {\n  var shapes = geometry.getShapes();\n  var tem_shapes = [];\n  each(shapes, function (shape) {\n    var s = container.addShape('path', {\n      attrs: deepMix({}, shape.attrs, {\n        capture: false\n      })\n    });\n    tem_shapes.push(s);\n  });\n  return tem_shapes;\n}\n\nexport function rollingUp(name, view, callback) {\n  var geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  var container = geometry.get('container');\n  container.attr('matrix', clone(ulMatrix));\n  var tem_container = view.get('container').addGroup();\n  tem_container.set('zIndex', -100);\n  var tem_shapes = getTemShapes(geometry, tem_container);\n  container.set('visible', false);\n  view.get('canvas').draw();\n  callback();\n  geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  container = geometry.get('container');\n  var shape = findShapeByName(geometry.getShapes(), name); //根据name获得上一级shape\n\n  var rect = getRect(shape);\n  var range = getRange(view);\n  var cliper = new Rect({\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height\n    }\n  });\n  var containerParent = container.get('parent');\n\n  if (!containerParent.attr('clip')) {\n    containerParent.attr('clip', cliper);\n  }\n\n  shrinkTemp(tem_container, tem_shapes, rect, range);\n  var xRatio = range.width / rect.width;\n  var yRatio = range.height / rect.height;\n  var offsetX = (range.minX - rect.minX) * xRatio;\n  var offsetY = (range.minY - rect.minY) * yRatio;\n  container.transform([['s', xRatio, yRatio], ['t', offsetX, offsetY]]);\n  container.set('visible', true);\n  container.animate({\n    matrix: ulMatrix\n  }, duration, easing, function () {\n    showLabel(geometry);\n  });\n}\n\nfunction findShapeByName(shapes, n) {\n  var shape;\n  each(shapes, function (s) {\n    var name = s.get('origin')._origin.name;\n\n    if (name === n) {\n      shape = s;\n    }\n  });\n  return shape;\n}\n\nfunction getRange(view) {\n  var viewRange = view.get('viewRange');\n  var range = {\n    minX: viewRange.minX,\n    minY: viewRange.minY,\n    centerX: (viewRange.maxX - viewRange.minX) / 2,\n    centerY: (viewRange.maxY - viewRange.minY) / 2,\n    width: viewRange.width,\n    height: viewRange.height\n  };\n  return range;\n}\n\nfunction getRect(shape) {\n  var path = shape.attr('path');\n  var x0 = path[0][1];\n  var y1 = path[0][2];\n  var x1 = path[1][1];\n  var y0 = path[2][2];\n  var rect = {\n    minX: x0,\n    minY: y0,\n    centerX: (x1 - x0) / 2,\n    centerY: (y1 - y0) / 2,\n    width: Math.abs(x1 - x0),\n    height: Math.abs(y1 - y0)\n  };\n  return rect;\n}\n\nfunction shrinkTemp(container, shapes, rect, range) {\n  var xRatio = rect.width / range.width;\n  var yRatio = rect.height / range.height;\n  var transform = {\n    transform: [['s', xRatio, yRatio], ['t', rect.minX, rect.minY]]\n  };\n  container.animate(transform, duration, easing, function () {\n    container.remove();\n  });\n  each(shapes, function (shape) {\n    shape.animate({\n      opacity: 0\n    }, duration, easing);\n  });\n}\n\nfunction hideLabel(geometry) {\n  var labelContainer = geometry.get('labelController').labelsContainer;\n  labelContainer.set('visible', false);\n}\n\nfunction showLabel(geometry) {\n  var labelContainer = geometry.get('labelController').labelsContainer;\n  labelContainer.set('visible', true);\n}","import { __assign, __extends } from \"tslib\";\nimport Breadcrumb from '../../../components/breadcrumb';\nimport BaseInteraction from '../../../interaction/base';\nimport { BBox, Rect } from '@antv/g';\nimport { each, hasKey, isFunction, clone } from '@antv/util';\nimport { drillingDown, rollingUp } from './animation';\nvar DEFAULT_ITEM_WIDTH = 100;\nvar DEFAULT_ITEM_HEIGHT = 30;\nvar PADDING_TOP = 10;\n\nvar getValidBreadcrumbConfig = function getValidBreadcrumbConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    x: 0,\n    y: 0,\n    startNode: {\n      name: 'root'\n    },\n    itemWidth: DEFAULT_ITEM_WIDTH,\n    itemHeight: DEFAULT_ITEM_HEIGHT,\n    padding: [0, 0, 0, 0]\n  }, cfg);\n\n  return _cfg;\n};\n\nvar DrillDownInteraction =\n/** @class */\nfunction (_super) {\n  __extends(DrillDownInteraction, _super);\n\n  function DrillDownInteraction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DrillDownInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidBreadcrumbConfig(interaction);\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingBottom = _a[1];\n    return new BBox(layerRange.minX, layerRange.maxY - config.itemHeight - paddingTop - paddingBottom, layerRange.width, config.itemHeight + paddingTop + paddingBottom);\n  };\n\n  DrillDownInteraction.prototype.start = function (ev) {\n    var _this = this;\n\n    var data = ev.data._origin;\n\n    if (data.children) {\n      this.parentNode = {\n        shape: ev.target,\n        data: {\n          name: clone(this.currentNode.name),\n          value: clone(this.currentNode.value)\n        },\n        depth: clone(this.currentDepth)\n      };\n      this.currentDepth++;\n      drillingDown(ev.target, this.view, function () {\n        _this.update(data);\n      });\n    }\n  };\n\n  DrillDownInteraction.prototype.update = function (data) {\n    if (!hasKey(this.cache, data.name)) {\n      this.cache[data.name] = data;\n    }\n\n    var tempoData = this.plot.getTreemapData(data, data.depth);\n    this.view.changeData(tempoData);\n    this.adjustScale(this.currentDepth);\n    this.currentNode = data;\n    this.render();\n  };\n\n  DrillDownInteraction.prototype.render = function () {\n    if (this.breadcrumb) {\n      var items = this.getItems();\n      this.breadcrumb.update({\n        items: items\n      });\n      this.layout();\n    } else {\n      this.initGeometry();\n      this.cache = {};\n      this.saveOriginMapping();\n      this.container = this.container = this.canvas.addGroup();\n\n      if (!this.startNode) {\n        this.startNode = {\n          name: 'root'\n        };\n      }\n\n      if (this.startNode.name === 'root') {\n        this.startNodeName = hasKey(this.plot.options.data, 'name') ? this.plot.options.data.name : 'root';\n        this.currentNode = this.plot.options.data;\n        this.currentDepth = 1;\n      } else {\n        this.startNodeName = this.startNode.name;\n        this.currentNode = this.startNode;\n      }\n\n      this.y = this.view.get('viewRange').maxY + PADDING_TOP;\n      this.breadcrumb = new Breadcrumb({\n        container: this.container,\n        x: 0,\n        y: this.y,\n        items: this.getItems()\n      });\n      this.breadcrumb.render();\n      this.layout();\n    }\n\n    this.onInteraction();\n  };\n\n  DrillDownInteraction.prototype.clear = function () {};\n\n  DrillDownInteraction.prototype.layout = function () {\n    var currentWidth = this.container.getBBox().width;\n    var x = (this.plot.width - currentWidth) / 2;\n    this.breadcrumb.update({\n      x: x,\n      y: this.y\n    });\n  };\n\n  DrillDownInteraction.prototype.getItems = function () {\n    var items = [];\n\n    if (this.currentNode.name && this.currentNode.name === this.startNodeName) {\n      var rootItem = this.getRootItem();\n      items.push(rootItem);\n    } else {\n      items = [];\n      var parents = [];\n      this.findParent(this.currentNode, parents);\n      items.push(this.getRootItem());\n      each(parents, function (p, index) {\n        items.push({\n          key: String(index + 2),\n          text: p.name,\n          data: p\n        });\n      });\n      items.push({\n        key: String(parents.length + 2),\n        text: this.currentNode.name,\n        data: this.currentNode\n      });\n    }\n\n    return items;\n  };\n\n  DrillDownInteraction.prototype.findParent = function (data, parents) {\n    if (data.parent) {\n      if (hasKey(this.cache, data.parent.name)) {\n        parents.push(this.cache[data.parent.name]);\n      } else {\n        parents.push(data.parent);\n      }\n\n      this.findParent(data.parent, parents);\n    } else {\n      return;\n    }\n  };\n\n  DrillDownInteraction.prototype.onInteraction = function () {\n    var _this = this;\n\n    this.container.on('click', function (ev) {\n      var targetParent = ev.target.get('parent');\n\n      if (targetParent && targetParent.get('class') === 'item-group') {\n        var data_1 = targetParent.get('data');\n\n        if (data_1.data) {\n          if (data_1.text === _this.startNodeName) {\n            var targetDepth = 1; //只有前后depth相邻才执行上卷动画，否则直接更新\n\n            if (_this.currentDepth - 1 === targetDepth) {\n              rollingUp(_this.currentNode.name, _this.view, function () {\n                _this.updateRoot(data_1);\n              });\n            } else {\n              _this.updateRoot(data_1);\n            }\n\n            _this.currentDepth = 1;\n          } else if (_this.currentNode === data_1.data) {\n            return;\n          } else {\n            var previousDepth = clone(_this.currentDepth);\n            _this.currentDepth = parseInt(data_1.key);\n\n            if (previousDepth - 1 === _this.currentDepth) {\n              rollingUp(_this.currentNode.name, _this.view, function () {\n                _this.update(data_1.data);\n              });\n            } else {\n              _this.update(data_1.data);\n            }\n          }\n        }\n      }\n    });\n  };\n\n  DrillDownInteraction.prototype.getRootItem = function () {\n    var rootData = this.plot.options.data;\n    var rootName = hasKey(rootData, 'name') ? rootData.name : 'root';\n    return {\n      key: '1',\n      text: rootName,\n      data: this.plot.rootData\n    };\n  };\n\n  DrillDownInteraction.prototype.saveOriginMapping = function () {\n    var _a = this.plot.options,\n        colorField = _a.colorField,\n        colors = _a.colors;\n    var mappingInfo = {\n      field: colorField,\n      values: colors\n    };\n    this.originMapping = mappingInfo;\n  };\n\n  DrillDownInteraction.prototype.adjustScale = function (index) {\n    var view = this.view; // 根据当前层级确定mapping配置项\n\n    if (hasKey(this.mapping, String(index))) {\n      var mappingCfg = clone(this.mapping[index]);\n\n      if (mappingCfg.values && isFunction(mappingCfg.values)) {\n        var values = mappingCfg.values(this.parentNode, this.currentNode);\n        mappingCfg.values = values;\n      }\n\n      this.view.get('elements')[0].color(mappingCfg.field, mappingCfg.values);\n    } else {\n      var mappingCfg = clone(this.originMapping);\n      this.view.get('elements')[0].color(mappingCfg.field, mappingCfg.values);\n    }\n\n    view.render();\n  };\n\n  DrillDownInteraction.prototype.initGeometry = function () {\n    this.geometry = this.view.get('elements')[0];\n    var viewRange = this.view.get('viewRange');\n    var container = this.geometry.get('container');\n    var cliper = new Rect({\n      attrs: {\n        x: viewRange.minX,\n        y: viewRange.minY,\n        width: viewRange.width,\n        height: viewRange.height\n      }\n    });\n    container.attr('clip', cliper);\n  };\n\n  DrillDownInteraction.prototype.updateRoot = function (data) {\n    this.view.changeData(data.data);\n    this.adjustScale(1);\n    this.currentNode = this.plot.options.data;\n    this.render();\n  };\n\n  return DrillDownInteraction;\n}(BaseInteraction);\n\nexport default DrillDownInteraction;\nBaseInteraction.registerInteraction('drilldown', DrillDownInteraction);","import DrillDownInteraction from './drillDown';\nexport var INTERACTION_MAP = {\n  drilldown: DrillDownInteraction\n};","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRectClick: 'polygon:click',\n  onRectDblclick: 'polygon:dblclick',\n  onRectMousemove: 'polygon:mousemove',\n  onRectMouseenter: 'polygon:mouseenter',\n  onRectMouseleave: 'polygon:mouseleave',\n  onRectMousedown: 'polygon:mousedown',\n  onRectMouseup: 'polygon:mouseup',\n  onRectContextmenu: 'polygon:contextmenu',\n  test: 'breadcrumb:click'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { breakText } from '../../../util/common';\nvar LEAF_LABEL_OFFSET = 4;\nvar MIN_FONTSIZE = 8;\n\nfunction isLeaf(data, maxLevel) {\n  return !data.children || data.depth >= maxLevel;\n}\n\nfunction textWrapper(label, width) {\n  var fontSize = label.attr('fontSize');\n  var textContent = label.attr('text');\n  var tShape = new Text({\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize: fontSize\n    }\n  });\n  var textArr = textContent.split('\\n');\n  var wrappedTextArr = textArr.map(function (wrappedText) {\n    var text = '';\n    var chars = wrappedText.split('');\n    var breakIndex = [];\n\n    for (var i = 0; i < chars.length; i++) {\n      var item = chars[i];\n      tShape.attr('text', text += item);\n      var currentWidth = tShape.getBBox().width - 1;\n\n      if (currentWidth > width) {\n        // 如果是第一个字符就大于宽度不做任何换行处理\n        if (i === 0) {\n          break;\n        }\n\n        breakIndex.push(i);\n        text = '';\n      }\n    }\n\n    return breakText(chars, breakIndex);\n  });\n  tShape.remove();\n  return wrappedTextArr.join('\\n');\n}\n\nfunction textAbbreviate(text, fontSize, width) {\n  var tailShape = new Text({\n    attrs: {\n      text: '...',\n      x: 0,\n      y: 0,\n      fontSize: fontSize\n    }\n  });\n  var tailWidth = tailShape.getBBox().width;\n  var tShape = new Text({\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize: fontSize\n    }\n  });\n  var t = '';\n  var abbreviateWidth = width - tailWidth;\n\n  for (var i = 0; i < text.length; i++) {\n    var item = text[i];\n    tShape.attr('text', t += item);\n    var currentWidth = tShape.getBBox().width;\n\n    if (currentWidth >= abbreviateWidth) {\n      var string = t.substr(0, t.length - 1);\n\n      if (string.length > 0) {\n        return string + '...';\n      }\n    }\n  }\n\n  return t;\n}\n\nvar TreemapLabels =\n/** @class */\nfunction (_super) {\n  __extends(TreemapLabels, _super);\n\n  function TreemapLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TreemapLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n    var maxLevel = this.get('labelOptions').maxLevel;\n\n    _.each(labels, function (label, index) {\n      var l = label;\n      var data = label.get('origin');\n      var origin = l.get('origin');\n      var isLeafNode = isLeaf(data, maxLevel);\n\n      var shapeId = _this.get('element').getShapeId(origin);\n\n      var shape = _this.getShape(shapeId, shapes);\n\n      var shapeBbox = shape.getBBox();\n\n      if (!isLeafNode && data.showLabel) {\n        var x = shapeBbox.x + shapeBbox.width / 2;\n        var y = shapeBbox.y + 4;\n        label.attr('x', x);\n        label.attr('y', y);\n        label.attr('textBaseline', 'top');\n        label.attr('fontWeight', 600);\n        var wrapperWidth = shapeBbox.width - LEAF_LABEL_OFFSET * 2;\n\n        if (label.getBBox().width > wrapperWidth) {\n          var text = textAbbreviate(label.attr('text'), label.attr('fontSize'), wrapperWidth);\n          label.attr('text', text);\n        }\n      } else {\n        _this.leafText(shapeBbox, label);\n      }\n    });\n\n    view.get('canvas').draw();\n  };\n\n  TreemapLabels.prototype.getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  TreemapLabels.prototype.leafText = function (bbox, label) {\n    var labelBBox = label.getBBox();\n\n    var labelText = _.clone(label.attr('text'));\n\n    var sizeOffset = label.get('origin').depth === 1 ? 0 : 2;\n    var fontSize = Math.max(label.attr('fontSize') - sizeOffset, MIN_FONTSIZE);\n    var centerX = bbox.x + bbox.width / 2;\n    var centerY = bbox.y + bbox.height / 2;\n    label.attr({\n      x: centerX,\n      y: centerY,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      lineHeight: fontSize,\n      fontSize: fontSize\n    });\n    var wrapperWidth = bbox.width - LEAF_LABEL_OFFSET * 2;\n\n    if (labelBBox.width > bbox.width && labelBBox.height > bbox.height) {\n      label.attr('text', '');\n      return;\n    } else if (wrapperWidth < fontSize) {\n      label.attr('text', '');\n      return;\n    }\n\n    if (labelBBox.width > bbox.width) {\n      var wrappedText = textWrapper(label, wrapperWidth);\n      label.attr({\n        lineHeight: label.attr('fontSize'),\n        text: wrappedText\n      });\n      var tem_bbox = label.getBBox();\n\n      if (tem_bbox.height > bbox.height) {\n        var text = textAbbreviate(labelText, fontSize, wrapperWidth);\n        label.attr('text', text);\n      }\n    }\n  };\n\n  return TreemapLabels;\n}(ElementLabels);\n\nexport { TreemapLabels };\nregisterElementLabels('treemapLabel', TreemapLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport squarify from './layout/squarify';\nimport { INTERACTION_MAP } from './interaction';\nimport * as EventParser from './event';\nimport './components/label';\nvar PARENT_NODE_OFFSET = 4;\nvar BLOCK_MARGIN = 4;\n\nvar TreemapLayer =\n/** @class */\nfunction (_super) {\n  __extends(TreemapLayer, _super);\n\n  function TreemapLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'line';\n    return _this;\n  }\n\n  TreemapLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      maxLevel: 2,\n      padding: [0, 0, 0, 0],\n      tooltip: {\n        visible: false\n      },\n      legend: {\n        visible: false\n      },\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      xField: 'x',\n      yField: 'y',\n      label: {\n        visible: true,\n        adjustPosition: true,\n        style: {\n          stroke: 'rgba(0,0,0,0)',\n          lineWidth: 0,\n          fontSize: 12\n        }\n      },\n      meta: {\n        x: {\n          nice: false\n        },\n        y: {\n          nice: false\n        }\n      }\n    });\n  };\n\n  TreemapLayer.prototype.beforeInit = function () {\n    var _this = this;\n\n    var interactions = this.options.interactions;\n\n    if (interactions) {\n      _.each(interactions, function (interaction) {\n        if (interaction.type === 'drilldown') {\n          _this.isDrilldown = true;\n          _this.options.maxLevel = 1;\n        }\n      });\n    }\n  };\n\n  TreemapLayer.prototype.geometryParser = function (dim, type) {\n    return 'polygon';\n  };\n\n  TreemapLayer.prototype.getTreemapData = function (data, level) {\n    var viewRange = this.getViewRange();\n    var root = squarify(data, viewRange.x, viewRange.y, viewRange.width, viewRange.height);\n    this.recursive(root, 1);\n    var treemapData = [];\n    this.getAllNodes(root, treemapData, level);\n    treemapData.sort(function (a, b) {\n      return a.depth - b.depth;\n    });\n    this.options.xField = 'x';\n    this.options.yField = 'y';\n    return treemapData;\n  };\n\n  TreemapLayer.prototype.processData = function () {\n    return this.rootData;\n  };\n\n  TreemapLayer.prototype.beforInit = function () {\n    _super.prototype.beforeInit.call(this);\n\n    var data = this.options.data;\n    var treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n  };\n\n  TreemapLayer.prototype.coord = function () {};\n\n  TreemapLayer.prototype.addGeometry = function () {\n    var _this = this;\n\n    var _a = this.options,\n        data = _a.data,\n        colorField = _a.colorField,\n        color = _a.color;\n    var treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n    var maxLevel = this.options.maxLevel;\n    this.rect = {\n      type: 'polygon',\n      position: {\n        fields: ['x', 'y']\n      },\n      color: {\n        fields: [colorField],\n        values: color\n      },\n      style: {\n        fields: ['depth'],\n        callback: function callback(d) {\n          var defaultStyle = {\n            lineWidth: 1,\n            stroke: 'rgba(0,0,0,0.3)',\n            opacity: d / maxLevel\n          };\n\n          if (d === 1) {\n            defaultStyle = {\n              lineWidth: 1,\n              stroke: 'black',\n              opacity: d / maxLevel\n            };\n          }\n\n          return _.deepMix({}, defaultStyle, _this.options.rectStyle);\n        }\n      },\n      label: this.extractLabel(),\n      tooltip: {\n        fields: ['name', 'value']\n      }\n    };\n    this.setConfig('element', this.rect);\n  };\n\n  TreemapLayer.prototype.applyInteractions = function () {\n    var _this = this;\n\n    var interactionCfg = this.options.interactions;\n    var interactions = this.view.get('interactions');\n\n    _.each(interactionCfg, function (inter) {\n      var Ctr = INTERACTION_MAP[inter.type];\n\n      if (Ctr) {\n        var interaction = new Ctr(_.deepMix({}, {\n          view: _this.view,\n          plot: _this,\n          startEvent: 'polygon:click'\n        }, inter.cfg));\n        interactions[inter.type] = interaction;\n      }\n    });\n  };\n\n  TreemapLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    if (this.isDrilldown) {\n      this.rect.animate = false;\n    }\n  };\n\n  TreemapLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  TreemapLayer.prototype.extractLabel = function () {\n    var labelOptions = this.options.label; // 不显示label的情况\n\n    if (!labelOptions.visible) {\n      return false;\n    }\n\n    var label = getComponent('label', __assign({\n      labelType: 'treemapLabel',\n      plot: this,\n      top: true,\n      fields: ['name'],\n      maxLevel: this.options.maxLevel\n    }, labelOptions));\n    return label;\n  };\n\n  TreemapLayer.prototype.recursive = function (rows, depth) {\n    var _this = this;\n\n    var colorField = this.options.colorField;\n\n    _.each(rows, function (r) {\n      _.each(r.children, function (c) {\n        c.depth = depth;\n        if (depth > 1) c.parent = r;\n\n        if (!_.hasKey(c, colorField)) {\n          c[colorField] = r[colorField];\n        }\n\n        c.showLabel = true;\n\n        var leaf = _this.isLeaf(c);\n\n        if (!leaf) {\n          var cliperHeight = Math.abs(c.y1 - c.y0);\n\n          var labelHeight = _this.getLabelHeight();\n\n          var parentLabelOffset = cliperHeight / 2 > labelHeight ? labelHeight : BLOCK_MARGIN;\n          c.showLabel = parentLabelOffset === BLOCK_MARGIN ? false : true;\n          var c_rows = squarify(c, c.x0 + BLOCK_MARGIN, c.y0 + parentLabelOffset, c.x1 - BLOCK_MARGIN, c.y1 - BLOCK_MARGIN);\n\n          _this.fillColorField(c_rows, colorField, c[colorField]);\n\n          _this.recursive(c_rows, c.depth + 1);\n        }\n      });\n    });\n  };\n\n  TreemapLayer.prototype.getAllNodes = function (data, nodes, level) {\n    var _this = this;\n\n    var max = level ? level : this.options.maxLevel;\n    var viewRange = this.getViewRange();\n\n    _.each(data, function (d) {\n      if (_.hasKey(d, 'x0') && d.depth <= max) {\n        nodes.push(__assign(__assign({}, d), {\n          x: [d.x0, d.x1, d.x1, d.x0],\n          y: [viewRange.height - d.y1, viewRange.height - d.y1, viewRange.height - d.y0, viewRange.height - d.y0]\n        }));\n      }\n\n      if (_.hasKey(d, 'children')) {\n        _this.getAllNodes(d.children, nodes);\n      }\n    });\n  };\n\n  TreemapLayer.prototype.fillColorField = function (rows, fieldName, value) {\n    _.each(rows, function (r) {\n      if (!_.hasKey(r, fieldName)) {\n        r[fieldName] = value;\n      }\n    });\n  };\n\n  TreemapLayer.prototype.getLabelHeight = function () {\n    var label = this.options.label;\n    var fontSize = this.getTheme().label.textStyle.fontSize;\n    var size = 0;\n\n    if (label && label.visible) {\n      var labelStyle = label.style;\n      size = labelStyle && labelStyle.fontSize ? labelStyle.fontSize : fontSize;\n    }\n\n    return size + PARENT_NODE_OFFSET * 2;\n  };\n\n  TreemapLayer.prototype.isLeaf = function (data) {\n    return !data.children || data.children.length === 0;\n  };\n\n  return TreemapLayer;\n}(ViewLayer);\n\nexport default TreemapLayer;\nregisterPlotType('treemap', TreemapLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TreemapLayer from './layer';\n\nvar Treemap =\n/** @class */\nfunction (_super) {\n  __extends(Treemap, _super);\n\n  function Treemap() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Treemap.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'treemap';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Treemap.getDefaultOptions = TreemapLayer.getDefaultOptions;\n  return Treemap;\n}(BasePlot);\n\nexport default Treemap;","import { __extends } from \"tslib\";\nimport LineLayer from '../line/layer';\nimport { registerPlotType } from '../../base/global';\nimport * as _ from '@antv/util';\n\nvar StepLineLayer =\n/** @class */\nfunction (_super) {\n  __extends(StepLineLayer, _super);\n\n  function StepLineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'step-line'; // 覆写父类的 type\n\n    return _this;\n  }\n\n  StepLineLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      step: 'hv'\n    });\n  };\n\n  return StepLineLayer;\n}(LineLayer);\n\nexport { StepLineLayer };\nregisterPlotType('step-line', StepLineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { StepLineLayer } from './layer';\nimport BasePlot from '../../base/plot';\n\nvar StepLine =\n/** @class */\nfunction (_super) {\n  __extends(StepLine, _super);\n\n  function StepLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * 复写父类方法\n   * @param props\n   */\n\n\n  StepLine.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'step-line';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  StepLine.getDefaultOptions = StepLineLayer.getDefaultOptions;\n  return StepLine;\n}(BasePlot);\n\nexport default StepLine;","import { __extends } from \"tslib\";\n/**\n * Create By Bruce Too\n * On 2020-01-09\n */\n\nimport * as _ from '@antv/util';\nimport HtmlTooltip from '@antv/component/lib/tooltip/html';\n\nvar WordCloudTooltips =\n/** @class */\nfunction (_super) {\n  __extends(WordCloudTooltips, _super);\n\n  function WordCloudTooltips(cfg) {\n    var _this = this;\n\n    var newCfg = _.deepMix({}, {\n      itemTpl: \"<div data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"g2-tooltip-marker\\\"></span>\\n        {name}<span class=\\\"g2-tooltip-value\\\">{value}</span></div>\"\n    }, cfg);\n\n    _this = _super.call(this, newCfg) || this;\n    return _this;\n  }\n\n  WordCloudTooltips.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    this.set('visible', true);\n  };\n\n  WordCloudTooltips.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    this.set('visible', false);\n  };\n\n  return WordCloudTooltips;\n}(HtmlTooltip);\n\nexport default WordCloudTooltips;","/* eslint-disable */\n// @ts-nocheck\n// TODO rewrite with typescript @brucetoo\n\n/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n'use strict'; // setImmediate\n\nif (!window.setImmediate) {\n  window.setImmediate = function setupSetImmediate() {\n    return window.msSetImmediate || window.webkitSetImmediate || window.mozSetImmediate || window.oSetImmediate || function setupSetZeroTimeout() {\n      if (!window.postMessage || !window.addEventListener) {\n        return null;\n      }\n\n      var callbacks = [undefined];\n      var message = 'zero-timeout-message'; // Like setTimeout, but only takes a function argument.  There's\n      // no time argument (always zero) and no arguments (you have to\n      // use a closure).\n\n      var setZeroTimeout = function setZeroTimeout(callback) {\n        var id = callbacks.length;\n        callbacks.push(callback);\n        window.postMessage(message + id.toString(36), '*');\n        return id;\n      };\n\n      window.addEventListener('message', function setZeroTimeoutMessage(evt) {\n        // Skipping checking event source, retarded IE confused this window\n        // object with another in the presence of iframe\n        if (typeof evt.data !== 'string' || evt.data.substr(0, message.length) !== message\n        /* ||\n        evt.source !== window */\n        ) {\n            return;\n          }\n\n        evt.stopImmediatePropagation();\n        var id = parseInt(evt.data.substr(message.length), 36);\n\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id]();\n        callbacks[id] = undefined;\n      }, true);\n      /* specify clearImmediate() here since we need the scope */\n\n      window.clearImmediate = function clearZeroTimeout(id) {\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id] = undefined;\n      };\n\n      return setZeroTimeout;\n    }() || // fallback\n    function setImmediateFallback(fn) {\n      window.setTimeout(fn, 0);\n    };\n  }();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = function setupClearImmediate() {\n    return window.msClearImmediate || window.webkitClearImmediate || window.mozClearImmediate || window.oClearImmediate || // \"clearZeroTimeout\" is implement on the previous block ||\n    // fallback\n    function clearImmediateFallback(timer) {\n      window.clearTimeout(timer);\n    };\n  }();\n} // Check if WordCloud can run on this browser\n\n\nvar isSupported = function isSupported() {\n  var canvas = document.createElement('canvas');\n\n  if (!canvas || !canvas.getContext) {\n    return false;\n  }\n\n  var ctx = canvas.getContext('2d');\n\n  if (!ctx.getImageData) {\n    return false;\n  }\n\n  if (!ctx.fillText) {\n    return false;\n  }\n\n  if (!Array.prototype.some) {\n    return false;\n  }\n\n  if (!Array.prototype.push) {\n    return false;\n  }\n\n  return true;\n}(); // Find out if the browser impose minium font size by\n// drawing small texts on a canvas and measure it's width.\n\n\nvar minFontSize = function getMinFontSize() {\n  if (!isSupported) {\n    return;\n  }\n\n  var ctx = document.createElement('canvas').getContext('2d'); // start from 20\n\n  var size = 20; // two sizes to measure\n\n  var hanWidth, mWidth;\n\n  while (size) {\n    ctx.font = size.toString(10) + 'px sans-serif';\n\n    if (ctx.measureText(\"\\uFF37\").width === hanWidth && ctx.measureText('m').width === mWidth) {\n      return size + 1;\n    }\n\n    hanWidth = ctx.measureText(\"\\uFF37\").width;\n    mWidth = ctx.measureText('m').width;\n    size--;\n  }\n\n  return 0;\n}(); // Based on http://jsfromhell.com/array/shuffle\n\n\nvar shuffleArray = function shuffleArray(arr) {\n  for (var j, x, i = arr.length; i; j = Math.floor(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x) {}\n\n  return arr;\n};\n\nvar WordCloud = function WordCloud(elements, options) {\n  if (!isSupported) {\n    return;\n  }\n\n  if (!Array.isArray(elements)) {\n    elements = [elements];\n  }\n\n  elements.forEach(function (el, i) {\n    if (typeof el === 'string') {\n      elements[i] = document.getElementById(el);\n\n      if (!elements[i]) {\n        throw 'The element id specified is not found.';\n      }\n    } else if (!el.tagName && !el.appendChild) {\n      throw 'You must pass valid HTML elements, or ID of the element.';\n    }\n  });\n  /* Default values to be overwritten by options object */\n\n  var settings = {\n    data: [],\n    fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' + '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n    fontWeight: 'normal',\n    color: 'random-dark',\n    minFontSize: minFontSize,\n    maxFontSize: 60,\n    clearCanvas: true,\n    backgroundColor: '#fff',\n    gridSize: 8,\n    drawOutOfBound: false,\n    origin: null,\n    drawMask: false,\n    maskColor: 'rgba(255,0,0,0.3)',\n    maskGapWidth: 0.3,\n    wait: 0,\n    abortThreshold: 0,\n    abort: function noop() {},\n    minRotation: -Math.PI / 2,\n    maxRotation: Math.PI / 2,\n    rotateRatio: 0.5,\n    rotationSteps: 1,\n    shuffle: true,\n    shape: 'circle',\n    ellipticity: 1,\n    active: true,\n    animatable: true,\n    selected: -1,\n    shadowColor: '#333',\n    shadowBlur: 10,\n    classes: null,\n    onWordCloudHover: null,\n    onWordCloudClick: null\n  };\n  var interactionItems = [];\n\n  if (options) {\n    for (var key in options) {\n      if (key === 'wordStyle') {\n        for (var fontKey in options[key]) {\n          if (fontKey in settings) {\n            settings[fontKey] = options[key][fontKey];\n          }\n        }\n      } else {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n  }\n\n  if (settings.minFontSize < minFontSize) {\n    // can't less than browse's min font size\n    settings.minFontSize = minFontSize;\n  }\n\n  if (settings.minFontSize > settings.maxFontSize) {\n    console.error('minSize cant bigger than maxSize');\n    return;\n  }\n\n  var maxWeight = 0;\n\n  for (var i = 0; i < settings.data.length; i++) {\n    if (maxWeight < settings.data[i].weight) {\n      maxWeight = settings.data[i].weight;\n    }\n  }\n\n  var getRealFontSize = function getRealFontSize(weight) {\n    return Math.min(Math.max(settings.minFontSize, settings.maxFontSize * weight / maxWeight), settings.maxFontSize);\n  };\n\n  var isCardioid = false;\n  /* Convert shape into a function */\n\n  if (typeof settings.shape !== 'function') {\n    switch (settings.shape) {\n      case 'circle':\n      /* falls through */\n\n      default:\n        // 'circle' is the default and a shortcut in the code loop.\n        settings.shape = 'circle';\n        break;\n\n      case 'cardioid':\n        // https://baike.baidu.com/item/%E5%BF%83%E8%84%8F%E7%BA%BF/10323843?fromtitle=%E5%BF%83%E5%BD%A2%E7%BA%BF&fromid=10018818\n        settings.shape = function shapeCardioid(theta) {\n          return 1 - Math.sin(theta);\n        };\n\n        isCardioid = true;\n        break;\n\n      /*\n      To work out an X-gon, one has to calculate \"m\",\n      where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n      http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n      2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n      Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n      where t' equals to mod(t, 2PI/X);\n      */\n\n      case 'diamond':\n        settings.shape = function shapeSquare(theta) {\n          var thetaPrime = theta % (2 * Math.PI / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'square':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n        // +0+..+2*PI\n        settings.shape = function shapeSquare(theta) {\n          var thetaPrime = (theta + Math.PI / 4) % (2 * Math.PI / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle-forward':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n        // %29%29%2C+t+%3D+0+..+2*PI\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = theta % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle-backward':\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = (theta + Math.PI) % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle':\n      case 'triangle-up':\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = (theta + Math.PI * 3 / 2) % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'triangle-down':\n        settings.shape = function shapeTriangle(theta) {\n          var thetaPrime = (theta + Math.PI * 5 / 2) % (2 * Math.PI / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'pentagon':\n        settings.shape = function shapePentagon(theta) {\n          var thetaPrime = (theta + 0.955) % (2 * Math.PI / 5);\n          return 1 / (Math.cos(thetaPrime) + 0.726543 * Math.sin(thetaPrime));\n        };\n\n        break;\n\n      case 'star':\n        settings.shape = function shapeStar(theta) {\n          var thetaPrime = (theta + 0.955) % (2 * Math.PI / 10);\n\n          if ((theta + 0.955) % (2 * Math.PI / 5) - 2 * Math.PI / 10 >= 0) {\n            return 1 / (Math.cos(2 * Math.PI / 10 - thetaPrime) + 3.07768 * Math.sin(2 * Math.PI / 10 - thetaPrime));\n          } else {\n            return 1 / (Math.cos(thetaPrime) + 3.07768 * Math.sin(thetaPrime));\n          }\n        };\n\n        break;\n    }\n  }\n  /* Make sure gridSize is a whole number and is not smaller than 4px */\n\n\n  settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n  /* shorthand */\n\n  var g = settings.gridSize;\n  var maskRectWidth = g - settings.maskGapWidth;\n  /* normalize rotation settings */\n\n  var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n  var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n  var rotationSteps = settings.rotationSteps;\n  /* information/object available to all functions, set when start() */\n\n  var grid, // 2d array containing filling information\n  ngx, ngy, // width and height of the grid\n  center, // position of the center of the cloud\n  maxRadius;\n  /* timestamp for measuring each putWord() action */\n\n  var escapeTime;\n  /* function for getting the color of the text */\n\n  var getTextColor;\n\n  function random_hsl_color(min, max) {\n    return 'hsl(' + (Math.random() * 360).toFixed() + ',' + (Math.random() * 30 + 70).toFixed() + '%,' + (Math.random() * (max - min) + min).toFixed() + '%)';\n  }\n\n  switch (settings.color) {\n    case 'random-dark':\n      getTextColor = function getRandomDarkColor() {\n        return random_hsl_color(10, 50);\n      };\n\n      break;\n\n    case 'random-light':\n      getTextColor = function getRandomLightColor() {\n        return random_hsl_color(50, 90);\n      };\n\n      break;\n\n    default:\n      if (typeof settings.color === 'function') {\n        getTextColor = settings.color;\n      }\n\n      break;\n  }\n  /* function for getting the classes of the text */\n\n\n  var getTextClasses = null;\n\n  if (typeof settings.classes === 'function') {\n    getTextClasses = settings.classes;\n  }\n  /* Interactive */\n\n\n  var interactive = false;\n  var infoGrid = [];\n  var hovered;\n\n  var getInfoGridFromMouseTouchEvent = function getInfoGridFromMouseTouchEvent(evt) {\n    var canvas = evt.currentTarget;\n    var rect = canvas.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    /** Detect if touches are available */\n\n    if (evt.touches) {\n      clientX = evt.touches[0].clientX;\n      clientY = evt.touches[0].clientY;\n    } else {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    }\n\n    var eventX = clientX - rect.left;\n    var eventY = clientY - rect.top;\n    var x = Math.floor(eventX * (canvas.width / rect.width || 1) / g);\n    var y = Math.floor(eventY * (canvas.height / rect.height || 1) / g);\n    return infoGrid && infoGrid[x] && infoGrid[x][y];\n  };\n\n  var defaultHoverAction = function defaultHoverAction(item, dimension, evt, start) {\n    if (item) {\n      start(item.id);\n    } else {\n      start(-1);\n    }\n  };\n\n  var wordcloudhover = function wordcloudhover(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (hovered === info) {\n      return;\n    }\n\n    if (!info) {\n      settings.onWordCloudHover(undefined, undefined, evt, start);\n\n      if (settings.active) {\n        defaultHoverAction(undefined, undefined, evt, start);\n      }\n\n      return;\n    }\n\n    settings.onWordCloudHover(info.item, info.dimension, evt, start);\n\n    if (settings.active) {\n      defaultHoverAction(info.item, info.dimension, evt, start);\n    }\n\n    hovered = info;\n  };\n\n  var wordcloudclick = function wordcloudclick(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (!info) {\n      return;\n    }\n\n    settings.onWordCloudClick(info.item, info.dimension, evt);\n    evt.preventDefault();\n  };\n  /* Get points on the grid for a given radius away from the center */\n\n\n  var pointsAtRadius = [];\n\n  var getPointsAtRadius = function getPointsAtRadius(radius) {\n    if (pointsAtRadius[radius]) {\n      return pointsAtRadius[radius];\n    } // Look for these number of points on each radius\n\n\n    var T = radius * 8; // Getting all the points at this radius\n\n    var t = T;\n    var points = [];\n\n    if (radius === 0) {\n      points.push([center[0], center[1], 0]);\n    }\n\n    while (t--) {\n      // distort the radius to put the cloud in shape\n      var rx = 1;\n\n      if (settings.shape !== 'circle') {\n        rx = settings.shape(t / T * 2 * Math.PI); // 0 to 1\n      } // Push [x, y, t]; t is used solely for getTextColor()\n\n\n      points.push([center[0] + radius * rx * Math.cos(-t / T * 2 * Math.PI), center[1] + radius * rx * Math.sin(-t / T * 2 * Math.PI) * settings.ellipticity, t / T * 2 * Math.PI]);\n    }\n\n    pointsAtRadius[radius] = points;\n    return points;\n  };\n  /* Return true if we had spent too much time */\n\n\n  var exceedTime = function exceedTime() {\n    return settings.abortThreshold > 0 && new Date().getTime() - escapeTime > settings.abortThreshold;\n  };\n  /* Get the deg of rotation according to settings, and luck. */\n\n\n  var getRotateDeg = function getRotateDeg() {\n    if (settings.rotateRatio === 0) {\n      return 0;\n    }\n\n    if (Math.random() > settings.rotateRatio) {\n      return 0;\n    }\n\n    if (rotationRange === 0) {\n      return minRotation;\n    } // return minRotation + Math.round(Math.random() * rotationRange / rotationSteps) * rotationSteps;\n\n\n    if (rotationSteps > 0) {\n      // Min rotation + zero or more steps * span of one step\n      return minRotation + Math.floor(Math.random() * rotationSteps) * rotationRange / rotationSteps;\n    } else {\n      return minRotation + Math.random() * rotationRange;\n    }\n  };\n\n  var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n    // calculate the acutal font size\n    // fontSize === 0 means wants the text skipped,\n    // and size < minSize means we cannot draw the text\n    var debug = false;\n    var fontSize = getRealFontSize(weight);\n\n    if (fontSize <= 0) {\n      return false;\n    } // Scale factor here is to make sure fillText is not limited by\n    // the minium font size set by browser.\n    // It will always be 1 or 2n.\n\n\n    var mu = 1;\n\n    if (fontSize < minFontSize) {\n      mu = function calculateScaleFactor() {\n        var mu = 2;\n\n        while (mu * fontSize < minFontSize) {\n          mu += 2;\n        }\n\n        return mu;\n      }();\n    }\n\n    var fcanvas = document.createElement('canvas');\n    var fctx = fcanvas.getContext('2d', {\n      willReadFrequently: true\n    });\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily; // Estimate the dimension of the text with measureText().\n\n    var fw = fctx.measureText(word).width / mu;\n    var fh = Math.max(fontSize * mu, fctx.measureText('m').width, fctx.measureText(\"\\uFF37\").width) / mu; // Create a boundary box that is larger than our estimates,\n    // so text don't get cut of (it sill might)\n\n    var boxWidth = fw + fh * 2;\n    var boxHeight = fh * 3;\n    var fgw = Math.ceil(boxWidth / g);\n    var fgh = Math.ceil(boxHeight / g);\n    boxWidth = fgw * g;\n    boxHeight = fgh * g; // Calculate the proper offsets to make the text centered at\n    // the preferred position.\n    // This is simply half of the width.\n\n    var fillTextOffsetX = -fw / 2; // Instead of moving the box to the exact middle of the preferred\n    // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n    // vertical centered.\n\n    var fillTextOffsetY = -fh * 0.4; // Calculate the actual dimension of the canvas, considering the rotation.\n\n    var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) + boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n    var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) + boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n    var width = cgw * g;\n    var height = cgh * g;\n    fcanvas.setAttribute('width', width);\n    fcanvas.setAttribute('height', height);\n\n    if (debug) {\n      // Attach fcanvas to the DOM\n      document.body.appendChild(fcanvas); // Save it's state so that we could restore and draw the grid correctly.\n\n      fctx.save();\n    } // Scale the canvas with |mu|.\n\n\n    fctx.scale(1 / mu, 1 / mu);\n    fctx.translate(width * mu / 2, height * mu / 2);\n    fctx.rotate(-rotateDeg); // Once the width/height is set, ctx info will be reset.\n    // Set it again here.\n\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily; // Fill the text into the fcanvas.\n    // XXX: We cannot because textBaseline = 'top' here because\n    // Firefox and Chrome uses different default line-height for canvas.\n    // Please read https://bugzil.la/737852#c6.\n    // Here, we use textBaseline = 'middle' and draw the text at exactly\n    // 0.5 * fontSize lower.\n\n    fctx.fillStyle = '#000';\n    fctx.textBaseline = 'middle';\n    fctx.fillText(word, fillTextOffsetX * mu, (fillTextOffsetY + fontSize * 0.5) * mu); // Get the pixels of the text\n\n    var imageData;\n\n    try {\n      imageData = fctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      // data not long type\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    if (debug) {\n      // Draw the box of the original estimation\n      fctx.strokeRect(fillTextOffsetX * mu, fillTextOffsetY, fw * mu, fh * mu);\n      fctx.restore();\n    } // Read the pixels and save the information to the occupied array\n\n\n    var occupied = [];\n    var gx = cgw,\n        gy,\n        x,\n        y;\n    var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n\n    while (gx--) {\n      gy = cgh;\n\n      while (gy--) {\n        y = g;\n\n        singleGridLoop: {\n          while (y--) {\n            x = g;\n\n            while (x--) {\n              if (imageData[((gy * g + y) * width + (gx * g + x)) * 4 + 3]) {\n                occupied.push([gx, gy]);\n\n                if (gx < bounds[3]) {\n                  bounds[3] = gx;\n                }\n\n                if (gx > bounds[1]) {\n                  bounds[1] = gx;\n                }\n\n                if (gy < bounds[0]) {\n                  bounds[0] = gy;\n                }\n\n                if (gy > bounds[2]) {\n                  bounds[2] = gy;\n                }\n\n                if (debug) {\n                  fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                  fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                }\n\n                break singleGridLoop;\n              }\n            }\n          }\n\n          if (debug) {\n            fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n            fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n          }\n        }\n      }\n    }\n\n    if (debug) {\n      // real bounds\n      fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n      fctx.fillRect(bounds[3] * g, bounds[0] * g, (bounds[1] - bounds[3] + 1) * g, (bounds[2] - bounds[0] + 1) * g);\n    } // Return information needed to create the text on the real canvas\n\n\n    return {\n      mu: mu,\n      occupied: occupied,\n      bounds: bounds,\n      gw: cgw,\n      gh: cgh,\n      fillTextOffsetX: fillTextOffsetX,\n      fillTextOffsetY: fillTextOffsetY,\n      fillTextWidth: fw,\n      fillTextHeight: fh,\n      fontSize: fontSize\n    };\n  };\n  /* Determine if there is room available in the given dimension */\n\n\n  var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n    // Go through the occupied points,\n    // return false if the space is not available.\n    var i = occupied.length;\n\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        if (!settings.drawOutOfBound) {\n          return false;\n        }\n\n        continue;\n      }\n\n      if (!grid[px][py]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /* Actually draw the text on the grid */\n\n\n  var drawText = function drawText(gx, gy, info, word, weight, distance, theta, rotateDeg, attributes, id, refresh) {\n    var fontSize = info.fontSize;\n    var color = settings.color;\n    var classes = settings.classes;\n\n    if (!refresh) {\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n    } else {\n      var find = getInteractionItemById(id);\n      color = find ? find.color : settings.color;\n    }\n\n    var dimension;\n    var bounds = info.bounds;\n    dimension = {\n      x: (gx + bounds[3]) * g,\n      y: (gy + bounds[0]) * g,\n      w: (bounds[1] - bounds[3] + 1) * g,\n      h: (bounds[2] - bounds[0] + 1) * g\n    };\n    elements.forEach(function (el) {\n      if (el.getContext) {\n        var ctx = el.getContext('2d');\n        var mu = info.mu; // Save the current state before messing it\n\n        ctx.save();\n        var font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n        ctx.scale(1 / mu, 1 / mu);\n        ctx.font = font;\n        ctx.fillStyle = color; // Translate the canvas position to the origin coordinate of where\n        // the text should be put.\n\n        var transX = (gx + info.gw / 2) * g * mu;\n        var transY = (gy + info.gh / 2) * g * mu;\n        ctx.translate(transX, transY);\n\n        if (rotateDeg !== 0) {\n          ctx.rotate(-rotateDeg);\n        } // Finally, fill the text.\n        // XXX: We cannot because textBaseline = 'top' here because\n        // Firefox and Chrome uses different default line-height for canvas.\n        // Please read https://bugzil.la/737852#c6.\n        // Here, we use textBaseline = 'middle' and draw the text at exactly\n        // 0.5 * fontSize lower.\n\n\n        ctx.textBaseline = 'middle';\n\n        if (settings.selected === id) {\n          ctx.shadowColor = settings.shadowColor;\n          ctx.shadowBlur = settings.shadowBlur;\n        }\n\n        ctx.fillText(word, info.fillTextOffsetX * mu, (info.fillTextOffsetY + fontSize * 0.5) * mu); // The below box is always matches how <span>s are positioned\n        // ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n        //   info.fillTextWidth, info.fillTextHeight);\n\n        if (!refresh) {\n          interactionItems.push({\n            gx: gx,\n            gy: gy,\n            info: info,\n            word: word,\n            weight: weight,\n            distance: distance,\n            theta: theta,\n            rotateDeg: rotateDeg,\n            attributes: attributes,\n            id: id,\n            color: color\n          });\n        } // Restore the state.\n\n\n        ctx.restore();\n      } else {\n        // drawText on DIV element\n        var span = document.createElement('span');\n        var transformRule = '';\n        transformRule = 'rotate(' + -rotateDeg / Math.PI * 180 + 'deg) ';\n\n        if (info.mu !== 1) {\n          transformRule += 'translateX(-' + info.fillTextWidth / 4 + 'px) ' + 'scale(' + 1 / info.mu + ')';\n        }\n\n        var styleRules = {\n          position: 'absolute',\n          display: 'block',\n          font: settings.fontWeight + ' ' + fontSize * info.mu + 'px ' + settings.fontFamily,\n          left: (gx + info.gw / 2) * g + info.fillTextOffsetX + 'px',\n          top: (gy + info.gh / 2) * g + info.fillTextOffsetY + 'px',\n          width: info.fillTextWidth + 'px',\n          height: info.fillTextHeight + 'px',\n          lineHeight: fontSize + 'px',\n          whiteSpace: 'nowrap',\n          transform: transformRule,\n          webkitTransform: transformRule,\n          msTransform: transformRule,\n          transformOrigin: '50% 40%',\n          webkitTransformOrigin: '50% 40%',\n          msTransformOrigin: '50% 40%'\n        };\n\n        if (color) {\n          styleRules.color = color;\n        }\n\n        span.textContent = word;\n\n        for (var cssProp in styleRules) {\n          span.style[cssProp] = styleRules[cssProp];\n        }\n\n        if (attributes) {\n          for (var attribute in attributes) {\n            span.setAttribute(attribute, attributes[attribute]);\n          }\n        }\n\n        if (classes) {\n          span.className += classes;\n        }\n\n        el.appendChild(span);\n      }\n    });\n  };\n  /* Help function to updateGrid */\n\n\n  var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n    if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n      return;\n    }\n\n    grid[x][y] = false;\n\n    if (drawMask) {\n      var ctx = elements[0].getContext('2d');\n      ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n    }\n\n    if (interactive) {\n      infoGrid[x][y] = {\n        item: item,\n        dimension: dimension\n      };\n    }\n  };\n  /* Update the filling information of the given space with occupied points.\n     Draw the mask on the canvas if necessary. */\n\n\n  var updateGrid = function updateGrid(gx, gy, gw, gh, info) {\n    var occupied = info.occupied;\n    var drawMask = settings.drawMask;\n    var ctx;\n\n    if (drawMask) {\n      ctx = elements[0].getContext('2d');\n      ctx.save();\n      ctx.fillStyle = settings.maskColor;\n    }\n\n    var dimension;\n\n    if (interactive) {\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g\n      };\n    }\n\n    var i = occupied.length;\n\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        continue;\n      } // save item's color from info\n\n\n      var find = getInteractionItemById(info.item.id);\n\n      if (find) {\n        info.item.color = find.color;\n      }\n\n      fillGridAt(px, py, drawMask, dimension, info.item);\n    }\n\n    if (drawMask) {\n      ctx.restore();\n    }\n  };\n\n  var tryToPutWordAtPoint = function tryToPutWordAtPoint(gxy, info, word, weight, distance, rotateDeg, attributes, id) {\n    var gx = Math.floor(gxy[0] - info.gw / 2);\n    var gy = Math.floor(gxy[1] - info.gh / 2);\n    var gw = info.gw;\n    var gh = info.gh; // If we cannot fit the text at this position, return false\n    // and go to the next position.\n\n    if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n      return false;\n    } // Actually put the text on the canvas\n\n\n    drawText(gx, gy, info, word, weight, distance, gxy[2], rotateDeg, attributes, id, false); // Mark the spaces on the grid as filled\n\n    updateGrid(gx, gy, gw, gh, info);\n    return {\n      gx: gx,\n      gy: gy,\n      rot: rotateDeg,\n      info: info\n    };\n  };\n  /* putWord() processes each item on the list,\n     calculate it's size and determine it's position, and actually\n     put it on the canvas. */\n\n\n  var putWord = function putWord(item) {\n    var word, weight, attributes, id;\n\n    if (Array.isArray(item)) {\n      word = item[0];\n      weight = item[1];\n    } else {\n      word = item.word;\n      weight = item.weight;\n      attributes = item.attributes;\n      id = item.id;\n    }\n\n    var rotateDeg = getRotateDeg(); // get info needed to put the text onto the canvas\n\n    var info = getTextInfo(word, weight, rotateDeg);\n\n    if (info) {\n      info['item'] = item;\n    } // not getting the info means we shouldn't be drawing this one.\n\n\n    if (!info) {\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    } // If drawOutOfBound is set to false,\n    // skip the loop if we have already know the bounding box of\n    // word is larger than the canvas.\n\n\n    if (!settings.drawOutOfBound) {\n      var bounds = info.bounds;\n\n      if (bounds[1] - bounds[3] + 1 > ngx || bounds[2] - bounds[0] + 1 > ngy) {\n        return false;\n      }\n    } // Determine the position to put the text by\n    // start looking for the nearest points\n\n\n    var r = maxRadius + 1;\n\n    while (r--) {\n      var points = getPointsAtRadius(maxRadius - r);\n\n      if (settings.shuffle) {\n        points = [].concat(points);\n        shuffleArray(points);\n      } // Try to fit the words by looking at each point.\n      // array.some() will stop and return true\n      // when putWordAtPoint() returns true.\n\n\n      for (var i = 0; i < points.length; i++) {\n        var res = tryToPutWordAtPoint(points[i], info, word, weight, maxRadius - r, rotateDeg, attributes, id);\n\n        if (res) {\n          return res;\n        }\n      } // var drawn = points.some(tryToPutWordAtPoint);\n      // if (drawn) {\n      //   // leave putWord() and return true\n      //   return true;\n      // }\n\n    } // we tried all distances but text won't fit, return null\n\n\n    return null;\n  };\n  /* Send DOM event to all elements. Will stop sending event and return\n     if the previous one is canceled (for cancelable events). */\n\n\n  var sendEvent = function sendEvent(type, cancelable, detail) {\n    if (cancelable) {\n      return !elements.some(function (el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        return !el.dispatchEvent(evt);\n      }, this);\n    } else {\n      elements.forEach(function (el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        el.dispatchEvent(evt);\n      }, this);\n    }\n  };\n\n  var getInteractionItemById = function getInteractionItemById(id) {\n    for (var i = 0; i < interactionItems.length; i++) {\n      var find = interactionItems[i];\n\n      if (interactionItems[i].id === id) {\n        return find;\n      }\n    }\n\n    return undefined;\n  };\n  /* Start drawing on a canvas */\n\n\n  var start = function start(selected) {\n    if (selected !== undefined) {\n      // re-refresh canvas with selected\n      // work in canvas only for now\n      if (settings.selected !== selected && elements[0].getContext) {\n        settings.selected = selected;\n        var ctx = elements[0].getContext('2d'); // draw background\n\n        ctx.fillStyle = settings.backgroundColor;\n        ctx.clearRect(0, 0, elements[0].width, elements[0].height);\n        ctx.fillRect(0, 0, elements[0].width, elements[0].height); // draw text\n\n        for (var i_1 = 0; i_1 < interactionItems.length; i_1++) {\n          var find = interactionItems[i_1];\n          drawText(find.gx, find.gy, find.info, find.word, find.weight, find.distance, find.theta, find.rotateDeg, find.attributes, find.id, true);\n        }\n      }\n\n      return;\n    } // For dimensions, clearCanvas etc.,\n    // we only care about the first element.\n\n\n    var canvas = elements[0];\n\n    if (canvas.getContext) {\n      ngx = Math.ceil(canvas.width / g);\n      ngy = Math.ceil(canvas.height / g);\n    } else {\n      var rect = canvas.getBoundingClientRect();\n      ngx = Math.ceil(rect.width / g);\n      ngy = Math.ceil(rect.height / g);\n    } // Sending a wordcloudstart event which cause the previous loop to stop.\n    // Do nothing if the event is canceled.\n\n\n    if (!sendEvent('wordcloudstart', true)) {\n      return;\n    } // Determine the center of the word cloud\n\n\n    center = settings.origin ? [settings.origin[0] / g, settings.origin[1] / g] : [ngx / 2, ngy / (isCardioid ? 4 : 2)]; // Maxium radius to look for space\n\n    maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n    /* Clear the canvas only if the clearCanvas is set,\n       if not, update the grid to the current canvas state */\n\n    grid = [];\n    var gx, gy, i;\n\n    if (!canvas.getContext || settings.clearCanvas) {\n      elements.forEach(function (el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          ctx.fillStyle = settings.backgroundColor;\n          ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n        } else {\n          el.textContent = '';\n          el.style.backgroundColor = settings.backgroundColor;\n          el.style.position = 'relative';\n        }\n      });\n      /* fill the grid with empty state */\n\n      gx = ngx;\n\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n\n        while (gy--) {\n          grid[gx][gy] = true;\n        }\n      }\n    } else {\n      /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n      var bctx = document.createElement('canvas').getContext('2d');\n      bctx.fillStyle = settings.backgroundColor;\n      bctx.fillRect(0, 0, 1, 1);\n      var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n      /* Read back the pixels of the canvas we got to tell which part of the\n         canvas is empty.\n         (no clearCanvas only works with a canvas, not divs) */\n\n      var imageData = canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n      gx = ngx;\n      var x, y;\n\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n\n        while (gy--) {\n          y = g;\n\n          singleGridLoop: while (y--) {\n            x = g;\n\n            while (x--) {\n              i = 4;\n\n              while (i--) {\n                if (imageData[((gy * g + y) * ngx * g + (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                  grid[gx][gy] = false;\n                  break singleGridLoop;\n                }\n              }\n            }\n          }\n\n          if (grid[gx][gy] !== false) {\n            grid[gx][gy] = true;\n          }\n        }\n      }\n\n      imageData = bctx = bgPixel = undefined;\n    } // fill the infoGrid with empty state if we need it\n\n\n    if (settings.onWordCloudHover || settings.onWordCloudClick) {\n      interactive = true;\n      /* fill the grid with empty state */\n\n      gx = ngx + 1;\n\n      while (gx--) {\n        infoGrid[gx] = [];\n      }\n\n      if (settings.onWordCloudHover) {\n        canvas.addEventListener('mousemove', wordcloudhover);\n      }\n\n      if (settings.onWordCloudClick) {\n        canvas.addEventListener('click', wordcloudclick);\n        canvas.addEventListener('touchstart', wordcloudclick);\n        canvas.addEventListener('touchend', function (e) {\n          e.preventDefault();\n        });\n        canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n      }\n\n      canvas.addEventListener('wordcloudstart', function stopInteraction() {\n        canvas.removeEventListener('wordcloudstart', stopInteraction);\n        canvas.removeEventListener('mousemove', wordcloudhover);\n        canvas.removeEventListener('click', wordcloudclick);\n        hovered = undefined;\n      });\n    }\n\n    if (!settings.animatable) {\n      if (options.maskImage) {\n        /** 修复颜色透明，还留有 maskImage 的情况 */\n        elements.forEach(function (el) {\n          if (el.getContext) {\n            var ctx = el.getContext('2d');\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n            ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          }\n        });\n      }\n\n      for (var i_2 = 0; i_2 < settings.data.length; i_2++) {\n        putWord(settings.data[i_2]);\n      }\n    } else {\n      i = 0;\n      var loopingFunction, stoppingFunction;\n\n      if (settings.wait !== 0) {\n        loopingFunction = window.setTimeout;\n        stoppingFunction = window.clearTimeout;\n      } else {\n        loopingFunction = window.setImmediate;\n        stoppingFunction = window.clearImmediate;\n      }\n\n      var addEventListener = function addEventListener(type, listener) {\n        elements.forEach(function (el) {\n          el.addEventListener(type, listener);\n        }, this);\n      };\n\n      var removeEventListener = function removeEventListener(type, listener) {\n        elements.forEach(function (el) {\n          el.removeEventListener(type, listener);\n        }, this);\n      };\n\n      var anotherWordCloudStart = function anotherWordCloudStart() {\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        stoppingFunction(timer);\n      };\n\n      addEventListener('wordcloudstart', anotherWordCloudStart);\n      var timer = loopingFunction(function loop() {\n        if (i >= settings.data.length) {\n          stoppingFunction(timer);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n          return;\n        }\n\n        escapeTime = new Date().getTime();\n        var drawn = putWord(settings.data[i]);\n        var canceled = !sendEvent('wordclouddrawn', true, {\n          item: settings.data[i],\n          drawn: drawn\n        });\n\n        if (exceedTime() || canceled) {\n          stoppingFunction(timer);\n          settings.abort();\n          sendEvent('wordcloudabort', false);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n          return;\n        }\n\n        i++;\n        timer = loopingFunction(loop, settings.wait);\n      }, settings.wait);\n    }\n  }; // All set, start the drawing\n\n\n  start();\n};\n\nWordCloud.isSupported = isSupported;\nWordCloud.minFontSize = minFontSize;\nexport default WordCloud;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Layer from '../../base/layer';\nimport WordCloudTooltips from './word-cloud-tooltips';\nimport WordCloud from './wordcloud2';\n\nvar WordCloudLayer =\n/** @class */\nfunction (_super) {\n  __extends(WordCloudLayer, _super);\n\n  function WordCloudLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._toolTipsAction = function (item, dimension, evt, start) {\n      if (dimension) {\n        _this._toolTips.setContent('', [// @ts-ignore\n        {\n          color: item.color || 'red',\n          name: item.word,\n          value: item.weight\n        }]); // @ts-ignore\n        // NOTE evt.layerX is relative x in canvas, absolute x is dimension.x\n\n\n        _this._toolTips.setPosition(evt.layerX, evt.layerY);\n\n        _this._toolTips.show();\n      } else {\n        _this._toolTips.hide();\n      }\n\n      _this._configHoverAction && _this._configHoverAction(item, dimension, evt, start);\n    };\n\n    _this._configHoverAction = props.onWordCloudHover;\n    _this._enableToolTips = _.get(props, 'tooltip.visible', true);\n    _this.options = _.deepMix({}, {\n      width: 400,\n      height: 400,\n      enableToolTips: true\n    }, props, // replace use config's hover action if needed, and trigger later\n    {\n      onWordCloudHover: _this._enableToolTips ? _this._toolTipsAction : _this._configHoverAction\n    });\n    return _this;\n  }\n\n  WordCloudLayer.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this._initToolTips();\n  };\n\n  WordCloudLayer.prototype.render = function () {\n    _super.prototype.render.call(this);\n\n    this._render();\n  };\n\n  WordCloudLayer.prototype._initToolTips = function () {\n    this._toolTips = new WordCloudTooltips(__assign(__assign({}, this.options.tooltip), {\n      showTitle: false,\n      visible: true,\n      canvas: this.canvas,\n      follow: true,\n      inPanel: false\n    }));\n  };\n\n  WordCloudLayer.prototype._render = function () {\n    this._targetCanvas = this.canvas.get('el');\n\n    if (this.options.maskImage) {\n      this._handleMaskImage();\n    } else {\n      // mask image not exist\n      this._start();\n    }\n  };\n\n  WordCloudLayer.prototype._handleMaskImage = function () {\n    var _this = this;\n\n    var image = new Image();\n    image.src = this.options.maskImage + '?' + new Date().getTime();\n    image.crossOrigin = 'Anonymous';\n\n    image.onload = function () {\n      if (image.naturalHeight + image.naturalWidth === 0 || image.width + image.height === 0) {\n        _this._start();\n      } else {\n        // handle no-zero image silhouette\n        _this._startWithMaskImage(image);\n      }\n    };\n\n    image.onerror = function () {\n      console.error('image %s load failed !!!', _this.options.maskImage); // load image error, ignore this mask\n\n      _this._start();\n    };\n  };\n\n  WordCloudLayer.prototype._start = function () {\n    this._handleG2PlotConfig();\n\n    WordCloud(this._targetCanvas, this.options);\n  };\n\n  WordCloudLayer.prototype._handleG2PlotConfig = function () {\n    var fontSize = this.options.wordStyle.fontSize || [10, 60];\n    var rotation = this.options.wordStyle.rotation || [-Math.PI / 2, Math.PI / 2];\n    var active, shadowColor, shadowBlur;\n\n    if (this.options.wordStyle.active) {\n      active = true;\n      shadowColor = this.options.wordStyle.active.shadowColor || '#333';\n      shadowBlur = this.options.wordStyle.active.shadowBlur || 10;\n    } else {\n      active = false;\n    }\n\n    this.options = _.deepMix({}, this.options, {\n      minFontSize: fontSize[0],\n      maxFontSize: fontSize[1],\n      minRotation: rotation[0],\n      maxRotation: rotation[1],\n      active: active,\n      shadowColor: shadowColor,\n      shadowBlur: shadowBlur\n    });\n  };\n\n  WordCloudLayer.prototype._startWithMaskImage = function (image) {\n    var _a = this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(image)),\n        maskImageCanvas = _a.maskImageCanvas,\n        maskImageContext = _a.maskImageContext;\n    /* Determine bgPixel by creating\n     another canvas and fill the specified background color. */\n\n\n    var bctx = document.createElement('canvas').getContext('2d');\n    bctx.fillStyle = this.options.backgroundColor || '#fff';\n    bctx.fillRect(0, 0, 1, 1);\n    var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n    var imageData = maskImageContext.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    var newImageData = maskImageContext.createImageData(imageData);\n\n    for (var i = 0; i < imageData.data.length; i += 4) {\n      if (imageData.data[i + 3] > 128) {\n        // keep this area's data the same as pixel color\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = bgPixel[3];\n      } else {\n        // This color must not be the same as the bgPixel.\n        // check wordcloud2.js#1192 's condition\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = 254; // just for not same as the bg color\n      }\n    }\n\n    maskImageContext.putImageData(newImageData, 0, 0);\n\n    var targetCtx = this._targetCanvas.getContext('2d');\n\n    targetCtx.drawImage(maskImageCanvas, 0, 0);\n    this.options = _.deepMix({}, this.options, {\n      clearCanvas: false\n    });\n\n    this._start();\n  };\n\n  WordCloudLayer.prototype._scaleMaskImageCanvas = function (maskImageCanvas) {\n    var maskCanvasScaled = document.createElement('canvas'); // get real canvas determined by pixelRatio\n\n    maskCanvasScaled.width = this.canvas.get('widthCanvas');\n    maskCanvasScaled.height = this.canvas.get('heightCanvas');\n    var ctx = maskCanvasScaled.getContext('2d'); // keep scale smooth\n\n    ctx.imageSmoothingEnabled = true; // ctx.mozImageSmoothingEnabled = true;\n    // ctx.webkitImageSmoothingEnabled = true;\n    // ctx.msImageSmoothingEnabled = true;\n\n    ctx.drawImage(maskImageCanvas, 0, 0, maskImageCanvas.width, maskImageCanvas.height, 0, 0, maskCanvasScaled.width, maskCanvasScaled.height);\n    return {\n      maskImageCanvas: maskCanvasScaled,\n      maskImageContext: ctx\n    };\n  };\n\n  WordCloudLayer.prototype._transformWhite2BlackPixels = function (image) {\n    var maskImageCanvas = document.createElement('canvas');\n    maskImageCanvas.width = image.width;\n    maskImageCanvas.height = image.height;\n    var ctx = maskImageCanvas.getContext('2d');\n    ctx.drawImage(image, 0, 0, image.width, image.height);\n    var imageData = ctx.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    var SINGLE_COMPONENT_SIZE = 4;\n    var BLACK_PIXEL = 0;\n    var FULL_PIXEL = 255; // R - G - B - A\n\n    for (var i = 0; i < imageData.data.length; i += SINGLE_COMPONENT_SIZE) {\n      var rgb = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      var alpha = imageData.data[i + 3];\n\n      if (alpha < 128 || rgb > 250 * 3) {\n        // white area(not to draw)\n        imageData.data[i] = FULL_PIXEL;\n        imageData.data[i + 1] = FULL_PIXEL;\n        imageData.data[i + 2] = FULL_PIXEL;\n        imageData.data[i + 3] = BLACK_PIXEL;\n      } else {\n        // black area wait to draw(image black silhouette)\n        imageData.data[i] = BLACK_PIXEL;\n        imageData.data[i + 1] = BLACK_PIXEL;\n        imageData.data[i + 2] = BLACK_PIXEL;\n        imageData.data[i + 3] = FULL_PIXEL;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return maskImageCanvas;\n  };\n\n  return WordCloudLayer;\n}(Layer);\n\nexport default WordCloudLayer;","import { __extends } from \"tslib\";\n/**\n * Create By Bruce Too\n * On 2019-12-25\n */\n\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport WordCloudLayer from './layer';\nimport { registerPlotType } from '../../base/global';\n\nvar WordCloud =\n/** @class */\nfunction (_super) {\n  __extends(WordCloud, _super);\n\n  function WordCloud(container, props) {\n    var _this = this; // only canvas works for now\n\n\n    props.renderer = 'canvas';\n    _this = _super.call(this, container, props) || this;\n    return _this;\n  }\n\n  WordCloud.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'wordCloud';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  return WordCloud;\n}(BasePlot);\n\nexport default WordCloud;\nregisterPlotType('wordCloud', WordCloudLayer);","import { rgb2arr } from '../../../../../util/color';\nimport * as _ from '@antv/util';\nexport function mappingColor(band, gray) {\n  var reflect;\n\n  _.each(band, function (b) {\n    var map = b;\n\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n\n  return reflect;\n}\n/** 自动调整label颜色 */\n\nexport function autoAdjustColor(label, shape) {\n  var labelRange = label.getBBox();\n  var shapeRange = shape.getBBox();\n\n  if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n    var shapeColor = shape.attr('fill');\n    var shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n    var rgb = rgb2arr(shapeColor);\n    var gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    var colorBand = [{\n      from: 0,\n      to: 85,\n      color: 'white'\n    }, {\n      from: 85,\n      to: 170,\n      color: '#F6F6F6'\n    }, {\n      from: 170,\n      to: 255,\n      color: 'black'\n    }];\n    var reflect = mappingColor(colorBand, gray);\n    label.attr('fill', reflect);\n\n    if (reflect !== 'black') {\n      label.attr('stroke', null);\n      label.attr('lineWidth', 0);\n    } else {\n      label.attr('stroke', 'white');\n      label.attr('lineWidth', 2);\n    }\n  } else if (labelRange.maxY < shapeRange.minY) {\n    // 非 shape 范围内的 label 需要考虑主题背景\n    var theme = this.get('theme');\n\n    var labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n\n    label.attr('fill', labelTextColor);\n  }\n}","import { __extends } from \"tslib\";\nimport { registerElementLabels, getElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from '../../../pie/component/label/utils';\nimport { distBetweenPoints } from '../../../../util/math';\nimport { autoAdjustColor } from './utils';\nvar PolarElementLabels = getElementLabels('polar');\n\nvar RoseLabels =\n/** @class */\nfunction (_super) {\n  __extends(RoseLabels, _super);\n\n  function RoseLabels() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RoseLabels.prototype.showLabels = function (points, shapes) {\n    var _this = this;\n\n    _super.prototype.showLabels.call(this, points, shapes);\n\n    var renderer = this.get('labelsRenderer');\n    var labels = renderer.get('group').get('children');\n    var view = this.get('element').get('view');\n\n    var _a = this.get('labelOptions'),\n        fields = _a.fields,\n        offset = _a.offset,\n        adjustColor = _a.adjustColor,\n        type = _a.type;\n\n    var _b = view.get('coord'),\n        center = _b.center,\n        startAngle = _b.startAngle;\n\n    var categoryField = fields[0];\n    var adjustField = fields[2];\n    var scale = view.get('scales')[categoryField];\n\n    if (!adjustField) {\n      labels.forEach(function (label) {\n        var origin = label.get('origin');\n\n        var shapeId = _this.get('element').getShapeId(origin);\n\n        var shape = _this._getShape(shapeId, shapes);\n\n        var angleValue = scale.scale(origin[categoryField]);\n        var angle = startAngle + Math.PI * 2 * angleValue;\n        var anchor = shape.get('origin');\n        var r = distBetweenPoints(center, anchor) + offset;\n        var labelAnchor = getEndPoint(center, angle, r);\n        label.attr('x', labelAnchor.x);\n        label.attr('y', labelAnchor.y);\n        label.attr('textBaseline', 'middle');\n\n        _this.adjustTextAlign(label, shape);\n\n        if (adjustColor && type === 'inner') {\n          autoAdjustColor(label, shape);\n        }\n      });\n    }\n\n    view.get('canvas').draw();\n  };\n\n  RoseLabels.prototype._getShape = function (shapeId, shapes) {\n    var target;\n\n    _.each(shapes, function (shape) {\n      var s = shape;\n      var id = s.id;\n\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n\n    return target;\n  };\n\n  RoseLabels.prototype.adjustTextAlign = function (label, shape) {\n    var box = label.getBBox();\n    var labelAnchor = {\n      x: box.x + box.width / 2,\n      y: box.y + box.height / 2\n    };\n    var anchor = shape.get('origin');\n    var autoRotate = this.get('labelOptions').autoRotate;\n    label.attr('textAlign', 'center');\n\n    if (!autoRotate) {\n      if (labelAnchor.x > anchor.x) {\n        label.attr('textAlign', 'left');\n      } else if (labelAnchor.x < anchor.x) {\n        label.attr('textAlign', 'right');\n      }\n    }\n  };\n\n  return RoseLabels;\n}(PolarElementLabels);\n\nexport { RoseLabels };\nregisterElementLabels('roseLabel', RoseLabels);","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport * as EventParser from '../column/event';\nimport './component/label/rose-label';\nvar G2_GEOM_MAP = {\n  rose: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  rose: 'column'\n};\n\nvar RoseLayer =\n/** @class */\nfunction (_super) {\n  __extends(RoseLayer, _super);\n\n  function RoseLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'rose';\n    return _this;\n  }\n\n  RoseLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      innerRadius: 0,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: true,\n        adjustColor: false\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center'\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null\n      },\n      columnStyle: {\n        stroke: 'white',\n        lineWidth: 1\n      },\n      xAxis: {\n        autoRotateLabel: true,\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineWidth: 0.5\n          }\n        },\n        label: {\n          offset: 5\n        }\n      },\n      yAxis: {\n        visible: false\n      }\n    });\n  };\n\n  RoseLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props); // @ts-ignore\n\n\n    var defaultOptions = this.constructor.getDefaultOptions();\n    var columnStyle = props.sectorStyle;\n    var xField = props.categoryField;\n    var yField = props.radiusField;\n    return _.deepMix({}, options, defaultOptions, {\n      columnStyle: columnStyle,\n      xField: xField,\n      yField: yField\n    }, props);\n  };\n\n  RoseLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  RoseLayer.prototype.scale = function () {\n    // super.scale();\n    var props = this.options;\n    var scales = {};\n    scales[props.radiusField] = {};\n    scales[props.categoryField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n  /** 不显示坐标轴 */\n\n\n  RoseLayer.prototype.axis = function () {\n    _super.prototype.axis.call(this);\n\n    var options = this.options;\n\n    if (!options.stackField && !options.groupField) {\n      this.setConfig('axes', false);\n    }\n  };\n\n  RoseLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'polar',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius || 0\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RoseLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    this.adjustColorFieldMapping();\n    this.adjustLegendOptions();\n    var rose = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [options.categoryField, options.radiusField],\n      widthRatio: {\n        rose: 1\n      }\n    });\n    rose.label = this.extractLabel();\n    rose.adjust = this.adjustRoseAdjust();\n    this.rose = rose;\n    this.setConfig('element', rose);\n  };\n\n  RoseLayer.prototype.adjustColorFieldMapping = function () {\n    var options = this.options;\n\n    if (options.stackField || options.groupField) {\n      this.options.colorField = null;\n    }\n  };\n\n  RoseLayer.prototype.adjustRoseAdjust = function () {\n    if (this.options.stackField) {\n      return [{\n        type: 'stack'\n      }];\n    } else if (this.options.groupField) {\n      return [{\n        type: 'dodge',\n        marginRatio: 0\n      }];\n    }\n\n    return null;\n  };\n\n  RoseLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    var props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.rose.animate = false;\n    }\n  };\n\n  RoseLayer.prototype.annotation = function () {};\n\n  RoseLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RoseLayer.prototype.extractLabel = function () {\n    var options = this.options;\n\n    if (!options.label || !options.label.visible) {\n      return false;\n    }\n\n    var label = _.deepMix({}, options.label);\n\n    this.adjustLabelOptions(label);\n    var fields = [options.categoryField, options.radiusField];\n\n    if (options.stackField || options.groupField) {\n      fields.push(options.stackField || options.groupField);\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'roseLabel',\n      fields: fields\n    }, label));\n    return labelConfig;\n  };\n\n  RoseLayer.prototype.adjustLabelOptions = function (labelOptions) {\n    var radiusField = this.options.radiusField;\n\n    if (labelOptions) {\n      var offset = labelOptions.offset,\n          type = labelOptions.type,\n          formatter = labelOptions.formatter;\n\n      if (type === 'inner') {\n        labelOptions.offset = offset < 0 ? offset : -10;\n      } else if (type === 'outer') {\n        labelOptions.offset = offset >= 0 ? offset : 10;\n      }\n\n      if (!formatter) {\n        // 默认显示 数值\n        labelOptions.formatter = function (text, item) {\n          return \"\" + item._origin[radiusField];\n        };\n      }\n    }\n  };\n\n  RoseLayer.prototype.adjustLegendOptions = function () {\n    var options = this.options;\n    var legendOptions = options.legend;\n\n    if (legendOptions) {\n      if (!options.stackField && !options.groupField) {\n        legendOptions.clickable = false;\n      }\n    }\n  };\n\n  return RoseLayer;\n}(ViewLayer);\n\nexport default RoseLayer;\nregisterPlotType('rose', RoseLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RoseLayer from './layer';\n\nvar Rose =\n/** @class */\nfunction (_super) {\n  __extends(Rose, _super);\n\n  function Rose() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Rose.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'rose';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Rose.getDefaultOptions = RoseLayer.getDefaultOptions;\n  return Rose;\n}(BasePlot);\n\nexport default Rose;","import { __assign } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\n\nvar BulletRect =\n/** @class */\nfunction () {\n  function BulletRect(view, cfg) {\n    this.view = view;\n    this.cfg = cfg;\n\n    this._init();\n  }\n  /** 绘制辅助labels */\n\n\n  BulletRect.prototype.draw = function () {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    this.container = this.view.get('panelGroup').addGroup();\n    this.container.set('name', 'rectGroups');\n    this.container.setZIndex(-100);\n    var shapes = this.view.get('elements')[0].get('shapeContainer').get('children');\n\n    for (var i = 0; i < this.cfg.ranges.length; i += 1) {\n      var shapeBox = shapes[i].getBBox();\n\n      var widthRatio = shapeBox.width / shapes[i].get('origin')._origin[this.cfg.yField];\n\n      this.drawRect(shapeBox, this.cfg.ranges[i] || [0, 1], widthRatio);\n    }\n\n    this.view.get('canvas').draw();\n  };\n\n  BulletRect.prototype.drawRect = function (box, ranges, widthRatio) {\n    var options = this.cfg;\n    var rangeColors = options.rangeColors;\n    var xPos = box.minX;\n    var yPos = box.minY - box.height * (options.rangeSize - 1) / 2;\n    var rect;\n\n    for (var i = 1; i < ranges.length; i += 1) {\n      var width = (ranges[i] - ranges[i - 1]) * options.rangeMax * widthRatio;\n      rect = this.container.addShape('rect', {\n        attrs: {\n          width: width,\n          height: box.height * options.rangeSize,\n          x: xPos,\n          y: yPos,\n          fill: rangeColors[(i - 1) % rangeColors.length],\n          fillOpacity: 0.25\n        }\n      }).set('zIndex', -1);\n      xPos += width;\n      rect.name = 'bullet-rect';\n    }\n\n    if (options.axis && options.axis.visible) {\n      var tickInterval = options.rangeMax / (options.axis.tickCount - 1);\n      var rangeBox = new BBox(box.x, yPos, xPos, box.height * options.rangeSize);\n      this.drawBulletTicks(rangeBox, tickInterval, widthRatio);\n    }\n  };\n  /** 添加 ticks  */\n\n\n  BulletRect.prototype.drawBulletTicks = function (box, tickInterval, widthRatio) {\n    var options = this.cfg;\n    var ticksStyle = options.axis.style;\n    var tickCount = options.axis.tickCount;\n    var tickPosition = options.axis.position;\n    var tickOffset = _.get(ticksStyle, 'lineHeight', 0) - ticksStyle.fontSize / 2;\n\n    for (var tickIdx = 0; tickIdx < tickCount; tickIdx += 1) {\n      var x = box.minX + tickInterval * tickIdx * widthRatio;\n      var tickText = \"\" + tickInterval * tickIdx;\n\n      if (options.axis.formatter) {\n        tickText = options.axis.formatter(tickText, tickIdx);\n      }\n\n      var tickShape = this.container.addShape('text', {\n        attrs: __assign({\n          x: x,\n          y: tickPosition === 'before' ? box.minY - tickOffset : box.maxY + tickOffset,\n          text: \"\" + tickText\n        }, ticksStyle)\n      });\n      tickShape.name = 'tick';\n\n      if (options.axis.tickLine && options.axis.tickLine.visible) {\n        var tickLineCfg = options.axis.tickLine;\n\n        if (tickIdx > 0 && tickIdx !== tickCount - 1) {\n          this.container.addShape('path', {\n            attrs: __assign({\n              path: [['M', x, box.minY], ['L', x, box.maxY]]\n            }, tickLineCfg)\n          }).set('zIndex', -1);\n        }\n      }\n    }\n  };\n\n  BulletRect.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  BulletRect.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  BulletRect.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  return BulletRect;\n}();\n\nexport default BulletRect;","import { __assign } from \"tslib\";\n\nvar BulletTarget =\n/** @class */\nfunction () {\n  function BulletTarget(view, cfg) {\n    this.view = view;\n    this.cfg = cfg;\n\n    this._init();\n  }\n  /** 绘制辅助labels */\n\n\n  BulletTarget.prototype.draw = function () {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    this.container.set('name', 'targetGroups');\n    var shapes = this.view.get('elements')[0].get('shapeContainer').get('children');\n\n    for (var i = 0; i < this.cfg.targets.length; i += 1) {\n      var shapeBox = shapes[i].getBBox();\n\n      var widthRatio = shapeBox.width / shapes[i].get('origin')._origin[this.cfg.yField];\n\n      this.drawTarget(shapeBox, this.cfg.targets[i], widthRatio);\n    }\n\n    this.view.get('canvas').draw();\n  };\n\n  BulletTarget.prototype.drawTarget = function (box, targets, widthRatio) {\n    var _this = this;\n\n    var options = this.cfg;\n    var colors = options.markerColors;\n    /** 添加目标值 */\n\n    targets.forEach(function (target, i) {\n      var markerStyle = options.markerStyle;\n\n      var targetRect = _this.container.addShape('rect', {\n        attrs: __assign(__assign({\n          width: markerStyle.width,\n          height: box.height * options.markerSize - markerStyle.width / 2,\n          x: box.minX + target * widthRatio,\n          y: box.minY - box.height * (options.markerSize - 1) / 2\n        }, markerStyle), {\n          fill: colors[i % colors.length] || markerStyle.fill\n        })\n      });\n\n      targetRect.name = 'bullet-target';\n    });\n  };\n\n  BulletTarget.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  BulletTarget.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n  };\n\n  BulletTarget.prototype._init = function () {\n    var _this = this;\n\n    this.view.on('beforerender', function () {\n      _this.clear();\n    });\n    this.view.on('afterrender', function () {\n      _this.draw();\n    });\n  };\n\n  return BulletTarget;\n}();\n\nexport default BulletTarget;","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as EventParser from './event';\nimport ViewLayer from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { registerPlotType } from '../../base/global';\nimport BulletRect from './component/bulletRect';\nimport BulletTarget from './component/bulletTarget';\nimport '../bar/component/label/bar-label';\nvar G2_GEOM_MAP = {\n  bullet: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'bullet'\n};\nexport var STACK_FIELD = '$$stackField$$';\nexport var X_FIELD = '$$xField$$';\nexport var Y_FIELD = '$$yField$$';\n\nvar BulletLayer =\n/** @class */\nfunction (_super) {\n  __extends(BulletLayer, _super);\n\n  function BulletLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'bullet';\n    return _this;\n  }\n\n  BulletLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      data: [],\n      stackField: STACK_FIELD,\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      rangeColors: ['rgba(91, 143, 249, 0.45)'],\n      measureSize: 12,\n      rangeSize: 2,\n      markerSize: 2,\n      markerColors: [],\n      markerStyle: {\n        width: 2,\n        fill: '#5B8FF9',\n        lineWidth: 0\n      },\n      axis: {\n        visible: false,\n        position: 'before',\n        tickCount: 6,\n        formatter: function formatter(text, idx) {\n          return \"\" + idx;\n        },\n        style: {\n          fill: 'rgba(0, 0, 0, 0.25)',\n          textBaseline: 'middle',\n          textAlign: 'center',\n          fontSize: 12,\n          lineHeight: 16\n        },\n        tickLine: {\n          visible: true,\n          lineWidth: 1,\n          stroke: '#FFF',\n          lineDash: [4, 2]\n        }\n      },\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false\n        },\n        tickLine: {\n          visible: false\n        },\n        label: {\n          visible: true\n        }\n      },\n      yAxis: {\n        visible: false\n      },\n      tooltip: {\n        visible: false,\n        trigger: 'item',\n        crosshairs: false\n      },\n      label: {\n        visible: true,\n        offset: 4,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.45)',\n          stroke: '#fff',\n          lineWidth: 1\n        }\n      }\n    });\n  };\n\n  BulletLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置y-scale */\n\n    scales[options.yField] = {};\n\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n    /** 配置x-scale */\n\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n\n    this.setConfig('scales', scales);\n\n    _super.prototype.scale.call(this);\n  };\n\n  BulletLayer.prototype.getOptions = function (props) {\n    var options = _super.prototype.getOptions.call(this, props);\n\n    this.adjustOptions(options);\n    return options;\n  };\n\n  BulletLayer.prototype.afterInit = function () {\n    _super.prototype.afterInit.call(this);\n\n    var options = this.options;\n    var ranges = options.data.map(function (d) {\n      return d.ranges;\n    });\n    var targets = options.data.map(function (d) {\n      return d.targets;\n    });\n    this.bulletRect = new BulletRect(this.view, {\n      ranges: ranges,\n      rangeMax: options.rangeMax,\n      yField: options.yField,\n      rangeSize: options.rangeSize,\n      rangeColors: options.rangeColors || [],\n      axis: options.axis\n    });\n    this.bulletTarget = new BulletTarget(this.view, {\n      targets: targets,\n      yField: options.yField,\n      markerSize: options.markerSize,\n      markerColors: options.markerColors || [],\n      markerStyle: options.markerStyle\n    });\n  };\n\n  BulletLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  BulletLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n  /** 自定义子弹图图例 */\n\n\n  BulletLayer.prototype.legend = function () {\n    var options = this.options;\n    var markerColor = options.markerStyle.fill;\n    var measureColors = options.measureColors || this.theme.colors;\n    var items = [{\n      value: '实际进度',\n      marker: {\n        symbol: 'square',\n        fill: measureColors[0]\n      }\n    }, {\n      value: '目标值',\n      marker: {\n        symbol: 'line',\n        stroke: markerColor,\n        lineWidth: 2\n      }\n    }];\n\n    var legendOptions = __assign(__assign({\n      custom: true,\n      items: items\n    }, options.legend), {\n      clickable: false\n    });\n\n    this.setConfig('legends', legendOptions);\n  };\n\n  BulletLayer.prototype.addGeometry = function () {\n    var options = this.options;\n    var bullet = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this\n    });\n    bullet.adjust = [{\n      type: 'stack'\n    }];\n\n    if (options.label) {\n      bullet.label = this.extractLabel();\n    }\n\n    this.bullet = bullet;\n    this.setConfig('element', bullet);\n  };\n\n  BulletLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  BulletLayer.prototype.extractLabel = function () {\n    var options = this.options;\n\n    var label = _.deepMix({}, options.label);\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    var labelConfig = getComponent('label', __assign({\n      plot: this,\n      labelType: 'barLabel',\n      fields: [options.yField]\n    }, label));\n    return labelConfig;\n  };\n\n  BulletLayer.prototype.adjustOptions = function (options) {\n    options.barSize = options.measureSize || 12;\n    this.adjustYAxisOptions(options);\n  };\n\n  BulletLayer.prototype.adjustYAxisOptions = function (options) {\n    var values = [];\n    options.data.forEach(function (d) {\n      return values.push(d.measures.reduce(function (a, b) {\n        return a + b;\n      }, 0));\n    });\n    values.push(options.rangeMax);\n    options.yAxis.maxLimit = Math.max.apply([], values);\n  };\n\n  BulletLayer.prototype.processData = function (dataOptions) {\n    var options = this.options;\n    var data = [];\n    dataOptions.forEach(function (dataItem, dataIdx) {\n      var _a;\n\n      for (var valueIdx = 0; valueIdx < dataItem.measures.length; valueIdx += 1) {\n        var value = dataItem.measures[valueIdx];\n        var xField = dataItem.title || \"\" + dataIdx;\n        data.push((_a = {}, _a[options.xField] = xField, _a[options.yField] = value, _a[options.stackField] = \"\" + valueIdx, _a));\n      }\n    });\n    return data;\n  };\n\n  return BulletLayer;\n}(ViewLayer);\n\nexport default BulletLayer;\nregisterPlotType('bullet', BulletLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport BulletLayer from './layer';\n\nvar Bullet =\n/** @class */\nfunction (_super) {\n  __extends(Bullet, _super);\n\n  function Bullet() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Bullet.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'bullet';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Bullet.getDefaultOptions = BulletLayer.getDefaultOptions;\n  return Bullet;\n}(BasePlot);\n\nexport default Bullet;","import { round } from './round';\nimport { dice } from '../../treemap/layout/dice';\nimport { each } from '@antv/util';\n/** reference: https://github.com/d3/d3-hierarchy/blob/master/src/partition.js */\n\nexport default function patition(root) {\n  calculateDepth(root);\n  var dx = 1;\n  var dy = 1;\n  var isRound = false; // const n = root.height + 1;\n\n  var n = 1;\n  root.x0 = 0;\n  root.y0 = 0;\n  root.x1 = dx;\n  root.y1 = dy / n;\n  loopChildren(root, positionNode(dy, n));\n\n  if (isRound) {\n    loopChildren(root, round);\n  }\n\n  return root;\n}\n\nfunction positionNode(dy, n) {\n  return function (node) {\n    if (node.children) {\n      dice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n    }\n\n    var x0 = node.x0,\n        y0 = node.y0,\n        x1 = node.x1,\n        y1 = node.y1;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n  };\n}\n\nfunction loopChildren(root, callback) {\n  var nodes = [root];\n  var node = root;\n\n  while (node = nodes.pop()) {\n    callback(node);\n    var children = node.children;\n\n    if (children) {\n      for (var i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n}\n\nfunction calculateDepth(root) {\n  root.x0 = 0;\n  root.x1 = 1;\n  var children = root.children;\n\n  if (children) {\n    each(children, function (n) {\n      n.parent = root;\n      n.depth = root.depth + 1;\n      calculateDepth(n);\n    });\n  }\n}","import { __assign, __extends } from \"tslib\";\nimport Breadcrumb from '../../../components/breadcrumb';\nimport BaseInteraction from '../../../interaction/base';\nimport { BBox, Rect } from '@antv/g';\nimport { each, hasKey, clone } from '@antv/util';\nvar DEFAULT_ITEM_WIDTH = 100;\nvar DEFAULT_ITEM_HEIGHT = 30;\nvar PADDING_TOP = 10;\n\nvar getValidBreadcrumbConfig = function getValidBreadcrumbConfig(cfg) {\n  if (cfg === void 0) {\n    cfg = {};\n  }\n\n  var _cfg = __assign({\n    x: 0,\n    y: 0,\n    startNode: {\n      name: 'root'\n    },\n    itemWidth: DEFAULT_ITEM_WIDTH,\n    itemHeight: DEFAULT_ITEM_HEIGHT,\n    padding: [0, 0, 0, 0]\n  }, cfg);\n\n  return _cfg;\n};\n\nvar DrillDownInteraction =\n/** @class */\nfunction (_super) {\n  __extends(DrillDownInteraction, _super);\n\n  function DrillDownInteraction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DrillDownInteraction.getInteractionRange = function (layerRange, interaction) {\n    var config = getValidBreadcrumbConfig(interaction);\n    var _a = config.padding,\n        paddingTop = _a[0],\n        paddingBottom = _a[1];\n    return new BBox(layerRange.minX, layerRange.maxY - config.itemHeight - paddingTop - paddingBottom, layerRange.width, config.itemHeight + paddingTop + paddingBottom);\n  };\n\n  DrillDownInteraction.prototype.start = function (ev) {\n    var data = ev.data._origin;\n\n    if (data.children) {\n      this.parentNode = {\n        shape: ev.target,\n        data: {\n          name: clone(this.currentNode.name),\n          value: clone(this.currentNode.value)\n        },\n        depth: clone(this.currentDepth)\n      };\n      this.currentDepth++; //drillingDown(ev.target, this.view, () => {\n\n      this.update(data); //});\n    }\n  };\n\n  DrillDownInteraction.prototype.update = function (data) {\n    if (!hasKey(this.cache, data.name)) {\n      this.cache[data.name] = data;\n    }\n\n    var tempoData = this.plot.getSunburstData(data, this.plot.options.maxLevel);\n    this.view.changeData(tempoData);\n    this.currentNode = data;\n    this.render();\n  };\n\n  DrillDownInteraction.prototype.render = function () {\n    if (this.breadcrumb) {\n      var items = this.getItems();\n      this.breadcrumb.update({\n        items: items\n      });\n      this.layout();\n    } else {\n      this.initGeometry();\n      this.cache = {};\n      this.saveOriginMapping();\n      this.container = this.container = this.plot.canvas.addGroup();\n\n      if (!this.startNode) {\n        this.startNode = {\n          name: 'root'\n        };\n      }\n\n      if (this.startNode.name === 'root') {\n        this.startNodeName = hasKey(this.plot.options.data, 'name') ? this.plot.options.data.name : 'root';\n        this.currentNode = this.plot.options.data;\n        this.currentDepth = 1;\n      } else {\n        this.startNodeName = this.startNode.name;\n        this.currentNode = this.startNode;\n      }\n\n      this.y = this.view.get('viewRange').maxY + PADDING_TOP;\n      this.breadcrumb = new Breadcrumb({\n        container: this.container,\n        x: 0,\n        y: this.y,\n        items: this.getItems()\n      });\n      this.breadcrumb.render();\n      this.layout();\n    }\n\n    this.onInteraction();\n  };\n\n  DrillDownInteraction.prototype.clear = function () {};\n\n  DrillDownInteraction.prototype.layout = function () {\n    var currentWidth = this.container.getBBox().width;\n    var x = (this.plot.width - currentWidth) / 2;\n    this.breadcrumb.update({\n      x: x,\n      y: this.y\n    });\n  };\n\n  DrillDownInteraction.prototype.getItems = function () {\n    var items = [];\n\n    if (this.currentNode.name && this.currentNode.name === this.startNodeName) {\n      var rootItem = this.getRootItem();\n      items.push(rootItem);\n    } else {\n      items = [];\n      var parents = [];\n      this.findParent(this.currentNode, parents);\n      parents.reverse(); //items.push(this.getRootItem());\n\n      each(parents, function (p, index) {\n        items.push({\n          key: String(index + 1),\n          text: p.name,\n          data: p\n        });\n      });\n      items.push({\n        key: String(parents.length + 2),\n        text: this.currentNode.name,\n        data: this.currentNode\n      });\n    }\n\n    return items;\n  };\n\n  DrillDownInteraction.prototype.findParent = function (data, parents) {\n    if (data.parent) {\n      if (hasKey(this.cache, data.parent.name)) {\n        parents.push(this.cache[data.parent.name]);\n      } else {\n        parents.push(data.parent);\n      }\n\n      this.findParent(data.parent, parents);\n    } else {\n      return;\n    }\n  };\n\n  DrillDownInteraction.prototype.onInteraction = function () {\n    var _this = this;\n\n    this.container.on('click', function (ev) {\n      var targetParent = ev.target.get('parent');\n\n      if (targetParent && targetParent.get('class') === 'item-group') {\n        var data = targetParent.get('data');\n\n        if (data.data) {\n          if (data.text === _this.startNodeName) {\n            var targetDepth = 1; //只有前后depth相邻才执行上卷动画，否则直接更新\n\n            if (_this.currentDepth - 1 === targetDepth) {\n              //rollingUp(this.currentNode.name, this.view, () => {\n              _this.updateRoot(data); //});\n\n            } else {\n              _this.updateRoot(data);\n            }\n\n            _this.currentDepth = 1;\n          } else if (_this.currentNode === data.data) {\n            return;\n          } else {\n            var previousDepth = clone(_this.currentDepth);\n            _this.currentDepth = parseInt(data.key);\n\n            if (previousDepth - 1 === _this.currentDepth) {\n              //rollingUp(this.currentNode.name, this.view, () => {\n              _this.update(data.data); //});\n\n            } else {\n              _this.update(data.data);\n            }\n          }\n        }\n      }\n    });\n  };\n\n  DrillDownInteraction.prototype.getRootItem = function () {\n    var rootData = this.plot.options.data;\n    var rootName = hasKey(rootData, 'name') ? rootData.name : 'root';\n    return {\n      key: '1',\n      text: rootName,\n      data: this.plot.rootData\n    };\n  };\n\n  DrillDownInteraction.prototype.saveOriginMapping = function () {\n    var _a = this.plot.options,\n        colorField = _a.colorField,\n        colors = _a.colors;\n    var mappingInfo = {\n      field: colorField,\n      values: colors\n    };\n    this.originMapping = mappingInfo;\n  };\n\n  DrillDownInteraction.prototype.initGeometry = function () {\n    this.geometry = this.view.get('elements')[0];\n    var viewRange = this.view.get('viewRange');\n    var container = this.geometry.get('container');\n    var cliper = new Rect({\n      attrs: {\n        x: viewRange.minX,\n        y: viewRange.minY,\n        width: viewRange.width,\n        height: viewRange.height\n      }\n    });\n    container.attr('clip', cliper);\n  };\n\n  DrillDownInteraction.prototype.updateRoot = function (data) {\n    var tempoData = this.plot.getSunburstData(data.data, this.plot.options.maxLevel);\n    this.view.changeData(tempoData);\n    this.currentNode = this.plot.options.data;\n    this.render();\n  };\n\n  return DrillDownInteraction;\n}(BaseInteraction);\n\nexport default DrillDownInteraction;\nBaseInteraction.registerInteraction('drilldown', DrillDownInteraction);","import DrillDownInteraction from './drillDown';\nexport var INTERACTION_MAP = {\n  drilldown: DrillDownInteraction\n};","import { each, deepMix, clone } from '@antv/util';\n\nfunction getPointAngle(coord, point) {\n  var center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\nvar RangeBarLabel =\n/** @class */\nfunction () {\n  function RangeBarLabel(cfg) {\n    this.destroyed = false;\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    var defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    this.init();\n  }\n\n  RangeBarLabel.prototype.init = function () {\n    var _this = this;\n\n    var geomContainer = this.view.get('elements')[0].get('container');\n    this.container = geomContainer.addGroup();\n    this.view.on('beforerender', function () {\n      _this.clear();\n\n      _this.plot.canvas.draw();\n    });\n  };\n\n  RangeBarLabel.prototype.render = function () {\n    var _this = this;\n\n    var geometry = this.view.get('elements')[0];\n    var shapes = geometry.getShapes();\n    each(shapes, function (shape) {\n      var style = _this.options.style;\n\n      var position = _this.getPosition(shape);\n\n      var value = _this.getValue(shape);\n\n      var formatter = _this.options.formatter;\n      var content = formatter ? formatter(value) : value;\n\n      var rotate = _this.getRotate(position.angle);\n\n      _this.container.addShape('text', {\n        attrs: deepMix({}, style, {\n          x: position.x,\n          y: position.y,\n          text: content,\n          textAlign: 'center',\n          textBaseline: 'middle',\n          rotate: rotate\n        })\n      });\n    });\n    var labelCtr = geometry.get('labelController');\n    labelCtr.labelsContainer = this.container;\n    this.plot.canvas.draw();\n  };\n\n  RangeBarLabel.prototype.hide = function () {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  };\n\n  RangeBarLabel.prototype.show = function () {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  };\n\n  RangeBarLabel.prototype.clear = function () {\n    if (this.container) {\n      this.container.clear();\n    }\n  };\n\n  RangeBarLabel.prototype.destory = function () {\n    if (this.container) {\n      this.container.remove();\n    }\n\n    this.destroyed = true;\n  };\n\n  RangeBarLabel.prototype.getBBox = function () {};\n\n  RangeBarLabel.prototype.getDefaultOptions = function () {\n    var theme = this.plot.theme;\n    var labelStyle = clone(theme.label.style);\n\n    if (!labelStyle.fontSize) {\n      labelStyle.fontSize = 11;\n    }\n\n    labelStyle.lineHeight = labelStyle.fontSize;\n    labelStyle.stroke = null;\n    return {\n      position: 'outer',\n      offsetX: 0,\n      offsetY: 0,\n      style: labelStyle,\n      adjustColor: true,\n      adjustPosition: true\n    };\n  };\n\n  RangeBarLabel.prototype.getPosition = function (shape) {\n    var coord = shape.get('coord');\n\n    var data = shape.get('origin')._origin;\n\n    var point;\n    var angle;\n\n    if (data.depth >= 1) {\n      var points = shape.get('origin').points;\n      var x = (points[0].x + points[1].x + points[2].x + points[3].x) / 4;\n      var y = (points[0].y + points[1].y + points[2].y + points[3].y) / 4;\n      point = coord.convertPoint({\n        x: x,\n        y: y\n      });\n      angle = getPointAngle(coord, {\n        x: point.x,\n        y: point.y\n      });\n    } else {\n      var bbox = shape.getBBox();\n      var x = bbox.minX + bbox.width / 2;\n      var y = bbox.minY + bbox.height / 2;\n      point = {\n        x: x,\n        y: y\n      };\n      angle = 0;\n    }\n\n    return {\n      x: point.x,\n      y: point.y,\n      angle: angle\n    };\n  };\n\n  RangeBarLabel.prototype.getValue = function (shape) {\n    var colorField = this.plot.options.colorField;\n\n    var text = shape.get('origin')._origin[colorField];\n\n    if (this.plot.options.label && this.plot.options.label.field) {\n      text = shape.get('origin')._origin[this.plot.options.label.field];\n    }\n\n    var values = String(text).split(' ');\n\n    if (values.length > 1) {\n      return values.join('\\n');\n    }\n\n    return values[0];\n  };\n\n  RangeBarLabel.prototype.getRotate = function (angle) {\n    var rotate = angle * 180 / Math.PI;\n\n    if (rotate) {\n      if (rotate > 90) {\n        rotate = rotate - 180;\n      } else if (rotate < -90) {\n        rotate = rotate + 180;\n      }\n    }\n\n    return rotate / 180 * Math.PI;\n  };\n\n  return RangeBarLabel;\n}();\n\nexport default RangeBarLabel;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onSunburstClick: 'polygon:click',\n  onSunburstDblclick: 'polygon:dblclick',\n  onSunburstMousemove: 'polygon:mousemove',\n  onSunburstMouseenter: 'polygon:mouseenter',\n  onSunburstMouseleave: 'polygon:mouseleave',\n  onSunburstMousedown: 'polygon:mousedown',\n  onSunburstMouseup: 'polygon:mouseup',\n  onSunburstContextmenu: 'polygon:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport ViewLayer from '../../base/view-layer';\nimport patition from './layout/partition';\nimport { INTERACTION_MAP } from './interaction';\nimport SunburstLabel from './components/label';\nimport * as EventParser from './event';\n\nvar SunburstLayer =\n/** @class */\nfunction (_super) {\n  __extends(SunburstLayer, _super);\n\n  function SunburstLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'sunburst';\n    return _this;\n  }\n\n  SunburstLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      radius: 0.8,\n      innerRadius: 0,\n      maxLevel: Infinity,\n      padding: [0, 0, 0, 0],\n      tooltip: {\n        showTitle: false,\n        visible: true,\n        shared: false,\n        crosshairs: false\n      },\n      legend: {\n        visible: false\n      },\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      label: {\n        visible: true\n      },\n      xField: 'x',\n      yField: 'y',\n      meta: {\n        x: {\n          nice: false\n        },\n        y: {\n          nice: false\n        }\n      }\n    });\n  };\n\n  SunburstLayer.prototype.beforeInit = function () {\n    var _this = this;\n\n    _super.prototype.beforeInit.call(this);\n\n    var data = this.options.data;\n    var sunburstData = this.getSunburstData(data);\n    this.rootData = sunburstData;\n    this.adjustLinearScale(sunburstData);\n    var interactions = this.options.interactions;\n\n    if (interactions) {\n      _.each(interactions, function (interaction) {\n        if (interaction.type === 'drilldown') {\n          _this.isDrilldown = true;\n        }\n      });\n    }\n  };\n\n  SunburstLayer.prototype.geometryParser = function (dim, type) {\n    return 'polygon';\n  };\n\n  SunburstLayer.prototype.getSunburstData = function (data, level) {\n    data.depth = 0;\n    var root = patition(data);\n    var sunBurstData = [];\n    this.getAllNodes(root.children, sunBurstData, level);\n    sunBurstData.push(__assign(__assign({}, root), {\n      x: [root.x0, root.x1, root.x1, root.x0, root.x1],\n      y: [root.y1, root.y1, root.y0, root.y0, root.y0]\n    }));\n    sunBurstData.sort(function (a, b) {\n      return a.depth - b.depth;\n    });\n    this.options.xField = 'x';\n    this.options.yField = 'y';\n    return sunBurstData;\n  };\n\n  SunburstLayer.prototype.processData = function () {\n    return this.rootData;\n  };\n\n  SunburstLayer.prototype.coord = function () {\n    var props = this.options;\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  SunburstLayer.prototype.addGeometry = function () {\n    var _this = this;\n\n    var _a = this.options,\n        data = _a.data,\n        colorField = _a.colorField,\n        color = _a.color;\n    var sunburstData = this.getSunburstData(data);\n    this.rootData = sunburstData;\n    this.rect = {\n      type: 'polygon',\n      position: {\n        fields: ['x', 'y']\n      },\n      color: this.getColorConfig(sunburstData),\n      tooltip: {\n        fields: ['name']\n      },\n      label: false,\n      style: {\n        fields: ['name', 'value', 'depth'],\n        callback: function callback(name, value, depth) {\n          var defaultStyle = _this.adjustStyleByDepth(depth);\n\n          if (_.isFunction(_this.options.sunburstStyle)) {\n            return _this.options.sunburstStyle(name, value, depth);\n          }\n\n          return _.deepMix({}, defaultStyle, _this.options.sunburstStyle);\n        }\n      }\n    };\n    this.setConfig('element', this.rect);\n  };\n\n  SunburstLayer.prototype.animation = function () {\n    _super.prototype.animation.call(this);\n\n    if (this.isDrilldown) {\n      this.rect.animate = false;\n    }\n  };\n\n  SunburstLayer.prototype.applyInteractions = function () {\n    var _this = this;\n\n    var interactionCfg = this.options.interactions;\n    var interactions = this.view.get('interactions');\n\n    _.each(interactionCfg, function (inter) {\n      var Ctr = INTERACTION_MAP[inter.type];\n\n      if (Ctr) {\n        var interaction = new Ctr(_.deepMix({}, {\n          view: _this.view,\n          plot: _this,\n          startEvent: 'polygon:click'\n        }, inter.cfg));\n        interactions[inter.type] = interaction;\n      }\n    });\n  };\n\n  SunburstLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  SunburstLayer.prototype.afterRender = function () {\n    if (this.options.label && this.options.label.visible) {\n      var label = new SunburstLabel(__assign({\n        view: this.view,\n        plot: this\n      }, this.options.label));\n      label.render();\n    }\n\n    _super.prototype.afterRender.call(this);\n  };\n\n  SunburstLayer.prototype.getAllNodes = function (data, nodes, level) {\n    var _this = this;\n\n    var max = level ? level : this.options.maxLevel;\n\n    _.each(data, function (d) {\n      if (_.hasKey(d, 'x0') && d.depth <= max) {\n        nodes.push(__assign(__assign({}, d), {\n          y: [d.x0, d.x1, d.x1, d.x0],\n          x: [d.y1, d.y1, d.y0, d.y0]\n        }));\n      }\n\n      if (_.hasKey(d, 'children')) {\n        _this.getAllNodes(d.children, nodes);\n      }\n    });\n  };\n\n  SunburstLayer.prototype.getColorConfig = function (data) {\n    var _a = this.options,\n        colorField = _a.colorField,\n        colors = _a.colors;\n\n    if (_.isFunction(colors)) {\n      return {\n        fields: [colorField],\n        callback: colors\n      };\n    }\n\n    if (_.isString(data[0][colorField])) {\n      var uniqueValues_1 = [];\n      var uniqueColors_1;\n\n      _.each(data, function (d) {\n        var value = d[colorField];\n\n        if (!_.has(value, uniqueValues_1)) {\n          uniqueValues_1.push(value);\n        }\n      });\n\n      if (colors) {\n        uniqueColors_1 = colors;\n      } else {\n        var theme = this.getTheme();\n        uniqueColors_1 = uniqueValues_1.length >= 8 ? theme.colors_20 : theme.colors;\n      } // zip\n\n\n      var mappingData_1 = {};\n\n      _.each(uniqueValues_1, function (v, i) {\n        var index = i <= uniqueValues_1.length - 1 ? i : i - uniqueValues_1.length;\n        var color = uniqueColors_1[index];\n        mappingData_1[v] = color;\n      });\n\n      return {\n        fields: [colorField],\n        callback: function callback(v) {\n          return mappingData_1[v];\n        }\n      };\n    } else {\n      return {\n        fields: [colorField],\n        values: colors\n      };\n    }\n  };\n\n  SunburstLayer.prototype.adjustLinearScale = function (data) {\n    var _a = this.options,\n        colorField = _a.colorField,\n        meta = _a.meta;\n\n    if (_.isNumber(data[0][colorField])) {\n      var min_1 = Infinity;\n      var max_1 = -Infinity;\n\n      _.each(data, function (d) {\n        var value = d[colorField];\n        min_1 = Math.min(value, min_1);\n        max_1 = Math.max(value, max_1);\n      });\n\n      var origin_meta = meta[colorField];\n      meta[colorField] = _.deepMix({}, origin_meta, {\n        min: min_1,\n        max: max_1\n      });\n    }\n  };\n\n  SunburstLayer.prototype.adjustStyleByDepth = function (depth) {\n    if (depth > 0) {\n      return {\n        stroke: '#ffffff',\n        lineWidth: 1\n      };\n    }\n\n    return {};\n  };\n\n  return SunburstLayer;\n}(ViewLayer);\n\nexport default SunburstLayer;\nregisterPlotType('sunburst', SunburstLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport SunburstLayer from './layer';\n\nvar Sunburst =\n/** @class */\nfunction (_super) {\n  __extends(Sunburst, _super);\n\n  function Sunburst() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Sunburst.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'sunburst';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Sunburst.getDefaultOptions = SunburstLayer.getDefaultOptions;\n  return Sunburst;\n}(BasePlot);\n\nexport default Sunburst;","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { getComponent } from '../components/factory';\nimport '../geoms/line/mini';\n\nvar TinyLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyLayer, _super);\n\n  function TinyLayer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyLayer.getDefaultOptions = function () {\n    return _.deepMix({}, _super.getDefaultOptions.call(this), {\n      title: {\n        visible: false\n      },\n      description: {\n        visible: false\n      },\n      padding: [0, 0, 0, 0],\n      legend: {\n        visible: false\n      },\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      tooltip: {\n        visible: false\n      }\n    });\n  };\n\n  TinyLayer.prototype.coord = function () {};\n\n  TinyLayer.prototype.addGeometry = function () {};\n\n  TinyLayer.prototype.annotation = function () {\n    var _this = this;\n\n    var props = this.options;\n    var config = [];\n    var defaultGuidelineCfg = {\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#66d6a8'\n        }\n      }\n    };\n\n    _.each(props.guideLine, function (line) {\n      var guideLine = getComponent('guideLine', {\n        plot: _this,\n        cfg: _.deepMix({}, defaultGuidelineCfg, line)\n      });\n      config.push(guideLine);\n    });\n\n    this.setConfig('annotations', config);\n  };\n\n  return TinyLayer;\n}(ViewLayer);\n\nexport default TinyLayer;","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\n\nvar Marker =\n/** @class */\nfunction () {\n  function Marker(cfg) {\n    _.assign(this, cfg);\n\n    this.init();\n  }\n\n  Marker.prototype.destroy = function () {\n    if (this.shape) {\n      this.shape.destroy();\n    }\n  };\n\n  Marker.prototype.update = function (cfg, duration, easing) {\n    var updateCfg = {};\n\n    _.assign(this, cfg);\n\n    this.coord = this.view.get('coord');\n\n    if (cfg.value) {\n      var x = this.coord.convert({\n        x: 0,\n        y: this.value\n      }).x;\n      var matrix = [1, 0, 0, 0, 1, 0, x, 0, 1];\n      updateCfg.matrix = matrix;\n    }\n\n    if (cfg.style) {\n      var origin_attr = this.shape.attrs;\n\n      var attrs = _.deepMix({}, origin_attr, cfg.style);\n\n      updateCfg = _.deepMix({}, attrs, updateCfg);\n    }\n\n    this.shape.stopAnimate();\n    this.shape.animate(updateCfg, duration, easing);\n  };\n\n  Marker.prototype.init = function () {\n    this.coord = this.view.get('coord');\n    this.container = this.view.get('container');\n    var x = this.coord.convert({\n      x: 0,\n      y: this.value\n    }).x; // progress坐标系是转置坐标系\n\n    var y0 = this.coord.center.y - this.progressSize / 2 - 2;\n    var y1 = this.coord.center.y + this.progressSize / 2 + 2;\n\n    var style = _.deepMix({}, {\n      stroke: 'grey',\n      lineWidth: 1\n    }, this.style);\n\n    this.shape = this.container.addShape('path', {\n      attrs: __assign({\n        path: [['M', 0, y0], ['L', 0, y1]]\n      }, style),\n      name: 'progress-marker'\n    });\n    this.shape.move(x, 0);\n    this.canvas.draw();\n  };\n\n  return Marker;\n}();\n\nexport default Marker;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onProgressClick: 'interval:click',\n  onProgressDblclick: 'interval:dblclick',\n  onProgressMousemove: 'interval:mousemove',\n  onProgressMousedown: 'interval:mousedown',\n  onProgressMouseup: 'interval:mouseup',\n  onProgressMouseenter: 'progress:mouseenter',\n  onProgressMouseleave: 'progress:mouseleave',\n  onProgressContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport Marker from './component/marker';\nimport * as EventParser from './event';\nvar G2_GEOM_MAP = {\n  progress: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'progress'\n};\nvar DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nvar ProgressLayer =\n/** @class */\nfunction (_super) {\n  __extends(ProgressLayer, _super);\n\n  function ProgressLayer() {\n    /**\n     * 将进度条配置项转为堆叠条形图配置项\n     */\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'progress';\n    _this.isEntered = false;\n    return _this;\n  }\n\n  ProgressLayer.prototype.processProps = function () {\n    var props = this.options;\n    props.data = this.processData();\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barSize: props.size ? props.size : this.getSize(),\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR\n    };\n    props = _.mix(props, cfg);\n  };\n\n  ProgressLayer.prototype.init = function () {\n    this.processProps();\n\n    _super.prototype.init.call(this);\n  };\n\n  ProgressLayer.prototype.beforeInit = function () {\n    var percent = this.options.percent;\n\n    if (!_.isNumber(percent)) {\n      throw new Error('Percent value is required, and the type of percent must be Number.');\n    }\n  };\n\n  ProgressLayer.prototype.update = function (cfg) {\n    var props = this.options;\n\n    if (_.hasKey(cfg, 'percent')) {\n      props.percent = cfg.percent;\n      this.changeData(this.processData());\n    }\n\n    if (cfg.style) {\n      this.styleUpdateAnimation(cfg.style);\n      this.updateColorConfigByStyle(cfg.style);\n    }\n\n    if (cfg.color) {\n      var style = void 0;\n\n      if (_.isArray(cfg.color)) {\n        this.options.color = cfg.color;\n        style = [{\n          fill: cfg.color[0]\n        }, {\n          fill: cfg.color[1]\n        }];\n      } else {\n        this.options.color[0] = cfg.color;\n        style = {\n          fill: cfg.color\n        };\n      }\n\n      this.styleUpdateAnimation(style);\n    }\n\n    if (cfg.marker) {\n      this.updateMarkers(cfg.marker);\n      this.options.marker = cfg.marker;\n    }\n  };\n\n  ProgressLayer.prototype.destroy = function () {\n    if (this.markers && this.markers.length > 0) {\n      _.each(this.markers, function (marker) {\n        marker.destroy();\n      });\n\n      this.markers = [];\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ProgressLayer.prototype.afterRender = function () {\n    var _this = this;\n\n    if (this.options.marker && !this.markers) {\n      this.markers = [];\n\n      _.each(this.options.marker, function (cfg) {\n        var markerCfg = _.mix({\n          canvas: _this.canvas,\n          view: _this.view,\n          progressSize: _this.options.barSize\n        }, cfg);\n\n        var marker = new Marker(markerCfg);\n\n        _this.markers.push(marker);\n      });\n    }\n\n    var progressContainer = this.view.get('elements')[0].get('container');\n    var bbox = progressContainer.getBBox();\n    var rect = progressContainer.addShape('rect', {\n      attrs: {\n        width: bbox.width,\n        height: bbox.height,\n        x: bbox.minX,\n        y: bbox.minY,\n        fill: 'rgba(0,0,0,0)'\n      }\n    });\n    this.canvas.draw();\n    rect.on('mouseenter', function (ev) {\n      _this.isEntered = true;\n\n      _this.view.emit('progress:mouseenter', ev);\n    });\n    rect.on('mouseleave', function (ev) {\n      _this.isEntered = false;\n\n      _this.view.emit('progress:mouseleave', ev);\n    });\n    var canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.addEventListener('mouseleave', function (ev) {\n      if (_this.isEntered) {\n        _this.view.emit('progress:mouseleave', ev);\n\n        _this.isEntered = false;\n      }\n    });\n  };\n\n  ProgressLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  ProgressLayer.prototype.coord = function () {\n    var coordConfig = {\n      actions: [['transpose']]\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  ProgressLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n    bar.adjust = [{\n      type: 'stack'\n    }];\n\n    if (_.has(props, 'animation')) {\n      bar.animate = props.animation;\n    }\n\n    this.setConfig('element', bar);\n  };\n\n  ProgressLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  ProgressLayer.prototype.parseColorProps = function (props) {\n    var colorOption;\n\n    if (props.color) {\n      if (_.isFunction(props.color)) {\n        colorOption = props.color(props.percent);\n      } else {\n        colorOption = props.color;\n      }\n\n      if (_.isString(colorOption)) {\n        var color = _.clone(DEFAULT_COLOR);\n\n        color[0] = colorOption;\n        return color;\n      } else {\n        return colorOption;\n      }\n    }\n\n    return props.color;\n  };\n\n  ProgressLayer.prototype.processData = function () {\n    var props = this.options;\n    var data = [{\n      type: 'current',\n      value: props.percent\n    }, {\n      type: 'rest',\n      value: 1.0 - props.percent\n    }];\n    return data;\n  };\n\n  ProgressLayer.prototype.updateMarkers = function (markerCfg) {\n    var markerLength = markerCfg.length;\n    var animationOptions = this.getUpdateAnimationOptions(); // marker diff\n\n    _.each(this.markers, function (marker, index) {\n      if (index > markerLength - 1) {\n        marker.destroy();\n      } else {\n        marker.update(markerCfg[index], animationOptions.duration, animationOptions.easing);\n      }\n    }); // add new markers\n\n\n    if (this.markers.length < markerLength) {\n      var startIndex = this.markers.length;\n\n      for (var i = startIndex; i < markerLength; i++) {\n        var cfg = _.deepMix({}, {\n          canvas: this.canvas,\n          view: this.view,\n          progressSize: this.options.barSize\n        }, markerCfg[i]);\n\n        var marker = new Marker(cfg);\n        this.markers.push(marker);\n      }\n    }\n  };\n\n  ProgressLayer.prototype.getSize = function () {\n    var height = this.height;\n\n    if (height >= 50) {\n      return 10;\n    }\n\n    return 4;\n  };\n\n  ProgressLayer.prototype.styleUpdateAnimation = function (style) {\n    // style更新动画接受用户animation配置的透传\n    var _a = this.getUpdateAnimationOptions(),\n        duration = _a.duration,\n        easing = _a.easing; // get geometry shapes\n\n\n    var progressShapes = [];\n    var view = this.view;\n    var geometry = view.get('elements');\n\n    _.each(geometry, function (geom) {\n      if (geom.get('shapeType') === 'interval') {\n        var shapes = geom.getShapes();\n        progressShapes.push.apply(progressShapes, shapes);\n      }\n    });\n\n    if (_.isArray(style)) {\n      _.each(style, function (s, index) {\n        progressShapes[index].animate(s, duration, easing);\n      });\n    } else {\n      progressShapes[0].animate(style, duration, easing);\n    }\n  };\n\n  ProgressLayer.prototype.getUpdateAnimationOptions = function () {\n    var duration = 450;\n    var easing = 'easeQuadInOut';\n    var animationOptions = this.options.animation;\n\n    if (animationOptions && animationOptions.update) {\n      if (animationOptions.update.duration) {\n        duration = animationOptions.update.duration;\n      }\n\n      if (animationOptions.update.easing) {\n        easing = animationOptions.update.easing;\n      }\n    }\n\n    return {\n      duration: duration,\n      easing: easing\n    };\n  };\n\n  ProgressLayer.prototype.updateColorConfigByStyle = function (style) {\n    var _this = this;\n\n    if (_.isArray(style)) {\n      _.each(style, function (s, index) {\n        if (s.fill) {\n          _this.options.color[index] = s.fill;\n        }\n      });\n    } else if (style.fill) {\n      this.options.color[0] = style.fill;\n    }\n  };\n\n  return ProgressLayer;\n}(TinyLayer);\n\nexport default ProgressLayer;\nregisterPlotType('progress', ProgressLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport ProgressLayer from './layer';\n\nvar Progress =\n/** @class */\nfunction (_super) {\n  __extends(Progress, _super);\n\n  function Progress() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Progress.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'progress';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  Progress.prototype.update = function (value, style) {\n    var layer = this.layers[0];\n    layer.update(value, style);\n  };\n\n  Progress.getDefaultOptions = ProgressLayer.getDefaultOptions;\n  return Progress;\n}(BasePlot);\n\nexport default Progress;","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util'; // 记录之前的状态\n\nvar preShapeInfo = {};\n/** 更新动画 */\n\nfunction progressUpdate(shape, animateCfg, coord) {\n  var path = shape.attr('path');\n  var clip;\n  var uniform = {};\n  var index = shape.get('index');\n\n  var _a = getAngle(shape, coord),\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n\n  if (preShapeInfo[shape.id]) {\n    var _b = getShapeInfo(shape),\n        preStart = _b.preStart,\n        preEnd = _b.preEnd,\n        prePath = _b.prePath;\n\n    var anchor = getAnchor(preStart, startAngle);\n    var direction_1 = getDirection(preStart, preEnd, startAngle, endAngle);\n\n    if (direction_1 === 'antiClockWise') {\n      shape.attr('path', prePath);\n    }\n\n    if (anchor === 'start') {\n      clip = createClip(coord, startAngle, preEnd);\n      uniform.endAngle = endAngle;\n    } else {\n      clip = createClip(coord, preStart, endAngle);\n      uniform.startAngle = startAngle;\n    }\n\n    shape.attr('clip', clip);\n    shape.setSilent('animating', true);\n\n    animateCfg.callback = function () {\n      if (shape && !shape.get('destroyed')) {\n        shape.attr('clip', null);\n        shape.setSilent('cacheShape', null);\n        shape.setSilent('animating', false);\n        clip.remove();\n\n        if (direction_1 === 'antiClockWise') {\n          shape.attr('path', path);\n        }\n      }\n    };\n    /** 执行动画 */\n\n    /** 准备动画参数 */\n\n\n    var delay = animateCfg.delay;\n\n    if (_.isFunction(delay)) {\n      delay = animateCfg.delay(index);\n    }\n\n    var easing = animateCfg.easing;\n\n    if (_.isFunction(easing)) {\n      easing = animateCfg.easing(index);\n    }\n    /** 动起来 */\n\n\n    clip.animate(uniform, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n\n  setShapeInfo(shape, startAngle, endAngle);\n}\n\nexport function setShapeInfo(shape, start, end) {\n  if (!preShapeInfo[shape.id]) {\n    preShapeInfo[shape.id] = {};\n  }\n\n  preShapeInfo[shape.id].preStart = start;\n  preShapeInfo[shape.id].preEnd = end;\n  preShapeInfo[shape.id].prePath = shape.attr('path');\n}\n\nfunction getShapeInfo(shape) {\n  return preShapeInfo[shape.id] || null;\n}\n/**\n * 获取动画锚点(固定不变的端点)是头部还是尾部\n * 锚点会决定clip的生成和动画\n */\n\n\nfunction getAnchor(preStart, startAngle) {\n  if (preStart === startAngle) {\n    return 'start';\n  }\n\n  return 'end';\n}\n/**\n * 获取动画方向是顺时针还是逆时针\n * 动画方向决定在shape在动画开始前是否采用前一帧的path\n */\n\n\nfunction getDirection(preStart, preEnd, startAngle, endAngle) {\n  if (preStart < startAngle || preEnd > endAngle) {\n    return 'antiClockWise';\n  }\n\n  return 'clockWise';\n}\n\nfunction createClip(coord, from, to) {\n  var margin = 200;\n  var center = coord.getCenter();\n  var radius = coord.getRadius();\n  var clip = new G.Shapes.Fan({\n    attrs: {\n      x: center.x,\n      y: center.y,\n      rs: 0,\n      re: radius + margin,\n      startAngle: from,\n      endAngle: to\n    }\n  });\n  return clip;\n}\n\nexport function getAngle(shape, coord) {\n  var points = shape.points || shape.get('origin').points;\n  var box = getPointsBox(points);\n  var endAngle;\n  var startAngle;\n  var coordStartAngle = coord.startAngle;\n  var coordEndAngle = coord.endAngle;\n  var diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}\n\nfunction getPointsBox(points) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  var minX = points[0].x;\n  var maxX = points[0].x;\n  var minY = points[0].y;\n  var maxY = points[0].y;\n\n  _.each(points, function (point) {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX: minX,\n    maxX: maxX,\n    minY: minY,\n    maxY: maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2\n  };\n}\n\nAnimate.registerAnimation('update', 'groupProgress', progressUpdate);","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onRingProgressClick: 'interval:click',\n  onRingProgressDblclick: 'interval:dblclick',\n  onRingProgressMousemove: 'interval:mousemove',\n  onRingProgressMousedown: 'interval:mousedown',\n  onRingProgressMouseup: 'interval:mouseup',\n  onRingProgressMouseenter: 'interval:mouseenter',\n  onRingProgressMouseleave: 'interval:mouseleave',\n  onRingProgressContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport ProgressLayer from '../progress/layer';\nimport { getAngle, setShapeInfo } from './animation/index';\nimport * as EventParser from './event';\nvar DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nvar RingProgressLayer =\n/** @class */\nfunction (_super) {\n  __extends(RingProgressLayer, _super);\n\n  function RingProgressLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'ringProgrsss';\n    return _this;\n  }\n\n  RingProgressLayer.prototype.processProps = function () {\n    var props = this.options;\n    props.data = this.processData();\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR\n    };\n    props = _.mix(props, cfg);\n  };\n\n  RingProgressLayer.prototype.afterRender = function () {\n    _super.prototype.afterRender.call(this);\n\n    var coord = this.view.get('coord'); // 缓存图形\n\n    var geoms = this.view.get('elements');\n\n    _.each(geoms, function (geom) {\n      var shapes = geom.getShapes();\n\n      _.each(shapes, function (shape) {\n        var _a = getAngle(shape, coord),\n            startAngle = _a.startAngle,\n            endAngle = _a.endAngle;\n\n        setShapeInfo(shape, startAngle, endAngle);\n      });\n    });\n  };\n\n  RingProgressLayer.prototype.coord = function () {\n    var coordConfig = {\n      type: 'theta',\n      cfg: {\n        radius: 1.0,\n        innerRadius: this.getThickness(this.options.size)\n      }\n    };\n    this.setConfig('coord', coordConfig);\n  };\n\n  RingProgressLayer.prototype.annotation = function () {};\n\n  RingProgressLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    this.ring = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this\n    });\n    this.ring.adjust = [{\n      type: 'stack'\n    }];\n    this.setConfig('element', this.ring);\n  };\n\n  RingProgressLayer.prototype.animation = function () {\n    this.ring.animate = {\n      appear: {\n        duration: 1000\n      },\n      update: {\n        easing: 'easeLinear',\n        animation: 'groupProgress',\n        duration: 1000\n      }\n    };\n  };\n\n  RingProgressLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  RingProgressLayer.prototype.getThickness = function (value) {\n    var width = this.width;\n    var height = this.height;\n    var size = Math.min(width, height);\n\n    if (value) {\n      return 1.0 - value / size;\n    }\n\n    if (size >= 60) {\n      return 1.0 - 20 / size;\n    }\n\n    return 1.0 - 10 / size;\n  };\n\n  return RingProgressLayer;\n}(ProgressLayer);\n\nexport default RingProgressLayer;\nregisterPlotType('ringProgress', RingProgressLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport RingProgressLayer from './layer';\n\nvar RingProgress =\n/** @class */\nfunction (_super) {\n  __extends(RingProgress, _super);\n\n  function RingProgress() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RingProgress.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'ringProgress';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  RingProgress.prototype.update = function (value) {\n    var layer = this.layers[0];\n    layer.update(value);\n  };\n\n  RingProgress.getDefaultOptions = RingProgressLayer.getDefaultOptions;\n  return RingProgress;\n}(BasePlot);\n\nexport default RingProgress;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnContextmenu: 'interval:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar WIDTH_RATIO = 0.6;\nvar G2_GEOM_MAP = {\n  column: 'interval'\n};\nvar PLOT_GEOM_MAP = {\n  interval: 'column'\n};\n\nvar TinyColumnLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyColumnLayer, _super);\n\n  function TinyColumnLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyColumn';\n    return _this;\n  }\n\n  TinyColumnLayer.prototype.init = function () {\n    this.processProps();\n\n    _super.prototype.init.call(this);\n  };\n\n  TinyColumnLayer.prototype.geometryParser = function (dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n\n    return PLOT_GEOM_MAP[type];\n  };\n\n  TinyColumnLayer.prototype.scale = function () {\n    var options = this.options;\n    var scales = {};\n    /** 配置x-scale */\n\n    scales[options.xField] = {\n      type: 'cat'\n    };\n    this.setConfig('scales', scales);\n  };\n\n  TinyColumnLayer.prototype.addGeometry = function () {\n    var props = this.options;\n    var column = getGeom('interval', 'main', {\n      positionFields: [props.xField, props.yField],\n      plot: this\n    });\n    this.setConfig('element', column);\n  };\n\n  TinyColumnLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  TinyColumnLayer.prototype.processProps = function () {\n    var props = this.options;\n    var cfg = {\n      padding: [0, 0, 0, 0],\n      columnSize: this.getSize()\n    };\n    props = _.mix(props, cfg);\n  };\n\n  TinyColumnLayer.prototype.getSize = function () {\n    var props = this.options;\n    var columnNumber = this.getColumnNum(props.data, props.xField);\n    var width = this.width;\n    return width / columnNumber * WIDTH_RATIO;\n  };\n\n  TinyColumnLayer.prototype.getColumnNum = function (data, field) {\n    var values = [];\n\n    _.each(data, function (d) {\n      var v = d[field];\n\n      if (values.indexOf(v) < 0) {\n        values.push(v);\n      }\n    });\n\n    return values.length;\n  };\n\n  return TinyColumnLayer;\n}(TinyLayer);\n\nexport default TinyColumnLayer;\nregisterPlotType('tinyColumn', TinyColumnLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyColumnLayer from './layer';\n\nvar TinyColumn =\n/** @class */\nfunction (_super) {\n  __extends(TinyColumn, _super);\n\n  function TinyColumn() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyColumn.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyColumn';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyColumn.getDefaultOptions = TinyColumnLayer.getDefaultOptions;\n  return TinyColumn;\n}(BasePlot);\n\nexport default TinyColumn;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  area: 'area',\n  line: 'line'\n};\n\nvar TinyAreaLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyAreaLayer, _super);\n\n  function TinyAreaLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyArea';\n    return _this;\n  }\n\n  TinyAreaLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  TinyAreaLayer.prototype.addGeometry = function () {\n    this.area = getGeom('area', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.area);\n    this.line = getGeom('line', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.line);\n  };\n\n  TinyAreaLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return TinyAreaLayer;\n}(TinyLayer);\n\nexport default TinyAreaLayer;\nregisterPlotType('tinyArea', TinyAreaLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyAreaLayer from './layer';\n\nvar TinyArea =\n/** @class */\nfunction (_super) {\n  __extends(TinyArea, _super);\n\n  function TinyArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyArea.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyArea';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyArea.getDefaultOptions = TinyAreaLayer.getDefaultOptions;\n  return TinyArea;\n}(BasePlot);\n\nexport default TinyArea;","import * as _ from '@antv/util';\nimport { EVENT_MAP, onEvent } from '../../util/event';\nvar SHAPE_EVENT_MAP = {\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu'\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };","import { __extends } from \"tslib\";\nimport { registerPlotType } from '../../base/global';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer from '../tiny-layer';\nimport * as EventParser from './event';\nvar GEOM_MAP = {\n  line: 'line'\n};\n\nvar TinyLineLayer =\n/** @class */\nfunction (_super) {\n  __extends(TinyLineLayer, _super);\n\n  function TinyLineLayer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'tinyLine';\n    return _this;\n  }\n\n  TinyLineLayer.prototype.geometryParser = function (dim, type) {\n    return GEOM_MAP[type];\n  };\n\n  TinyLineLayer.prototype.addGeometry = function () {\n    this.line = getGeom('line', 'mini', {\n      plot: this\n    });\n    this.setConfig('element', this.line);\n  };\n\n  TinyLineLayer.prototype.parseEvents = function (eventParser) {\n    _super.prototype.parseEvents.call(this, EventParser);\n  };\n\n  return TinyLineLayer;\n}(TinyLayer);\n\nexport default TinyLineLayer;\nregisterPlotType('tinyLine', TinyLineLayer);","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport BasePlot from '../../base/plot';\nimport TinyLineLayer from './layer';\n\nvar TinyLine =\n/** @class */\nfunction (_super) {\n  __extends(TinyLine, _super);\n\n  function TinyLine() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TinyLine.prototype.createLayers = function (props) {\n    var layerProps = _.deepMix({}, props);\n\n    layerProps.type = 'tinyLine';\n\n    _super.prototype.createLayers.call(this, layerProps);\n  };\n\n  TinyLine.getDefaultOptions = TinyLineLayer.getDefaultOptions;\n  return TinyLine;\n}(BasePlot);\n\nexport default TinyLine;","import { __extends } from \"tslib\";\nimport Plot from '../base/plot';\nimport { deepMix } from '@antv/util';\n\nvar ComboPlot =\n/** @class */\nfunction (_super) {\n  __extends(ComboPlot, _super);\n\n  function ComboPlot() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ComboPlot.prototype.getDefaultOptions = function () {\n    return {};\n  };\n\n  ComboPlot.prototype.getGlobalOptions = function (props) {\n    return {\n      xAxis: props.xAxis,\n      yAxis: props.yAxis,\n      theme: props.theme,\n      legend: props.legend\n    };\n  };\n\n  ComboPlot.prototype.createComboLayers = function () {\n    this.globalOptions = deepMix({}, this.getDefaultOptions(), this.getGlobalOptions(this.options));\n  };\n\n  return ComboPlot;\n}(Plot);\n\nexport default ComboPlot;","import * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nvar SINGLE_TYPE = ['line', 'area', 'column', 'bar', 'bubble', 'scatter'];\nexport function getColorConfig(type, props, count) {\n  if (props.color) {\n    return {\n      single: false,\n      color: props.color\n    };\n  }\n\n  var isSingle = isSingleGraph(type, props);\n  var colors = getGlobalTheme().colors;\n\n  if (isSingle && !props.color) {\n    return {\n      single: true,\n      color: colors[count]\n    };\n  }\n}\n/** 判断是不是单图元类型的图表：单折线图、基础柱状图、散点图、基础面积图等 */\n\nexport function isSingleGraph(type, props) {\n  if (_.contains(SINGLE_TYPE, type)) {\n    if (type === 'line' && _.has(props, 'seriesField')) {\n      return false;\n    }\n\n    if (type === 'column' && _.has(props, 'colorField')) {\n      return false;\n    }\n\n    return true;\n  }\n\n  return false;\n}","import { Legend } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nexport function getLegendData(viewLayer, props) {\n  var legendItems = [];\n  var view = viewLayer.view;\n  var geometry = view.get('elements')[0];\n  var colorAttr = geometry.getAttr('color'); // color和shape决定cat legend的生成，暂时先不考虑shape\n\n  var markerCfg = {\n    isInCircle: geometry.isInCircle(),\n    color: colorAttr.values[0]\n  };\n  var marker = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), markerCfg);\n  /** 处理default不生成图例的场景 */\n\n  if (colorAttr.scales.length === 0) {\n    legendItems.push({\n      value: props.name,\n      checked: true,\n      marker: marker,\n      isSingle: true,\n      layer: viewLayer\n    });\n  } else {\n    /** 正常生成图例 */\n    var values = colorAttr.scales[0].values;\n\n    _.each(values, function (v, index) {\n      var markerColor = colorAttr.values[index];\n      var markerValue = v;\n      var cfg = {\n        isInCircle: geometry.isInCircle(),\n        color: markerColor\n      };\n      var markerItem = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), cfg);\n      legendItems.push({\n        field: colorAttr.scales[0].field,\n        value: markerValue,\n        checked: true,\n        marker: markerItem,\n        isSingle: false,\n        layer: viewLayer\n      });\n    });\n  }\n\n  return legendItems;\n}\nexport function mergeLegendData(items) {\n  return items;\n}\nexport function createLegend(items, width, height, canvas, position) {\n  var legendTheme = getGlobalTheme().legend;\n  var positions = position.split('-');\n  var layout = 'horizontal';\n\n  if (positions[0] === 'left' || positions[0] === 'right') {\n    layout = 'vertical';\n  }\n\n  var legendCfg = {\n    type: 'category-legend',\n    items: items,\n    maxSize: width,\n    container: canvas.addGroup(),\n    layout: layout,\n    textStyle: {\n      fill: '#8C8C8C',\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n      lineHeight: 20\n    },\n    titleDistance: 10,\n    autoWrap: true,\n    itemMarginBottom: 4,\n    backgroundPadding: 0,\n    maxLength: width\n  };\n  var legend = new Legend.CanvasCategory(legendCfg);\n  legendLayout(width, height, legend, position);\n  addLegendInteraction(legend);\n  /** return legend as a padding component */\n\n  var bbox = legend.get('itemsGroup').getBBox();\n  var paddingBbox; // merge legend inner padding\n\n  var innerPadding = legendTheme.innerPadding;\n\n  if (positions[0] === 'left') {\n    paddingBbox = new BBox(legend.get('x') + innerPadding[3], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'right') {\n    paddingBbox = new BBox(legend.get('x') - innerPadding[1], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'top') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') + innerPadding[0], bbox.width, bbox.height);\n  } else if (positions[0] === 'bottom') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') - innerPadding[2], bbox.width, bbox.height);\n  }\n\n  return {\n    position: positions[0],\n    component: legend,\n    getBBox: function getBBox() {\n      return paddingBbox;\n    }\n  };\n}\n\nfunction addLegendInteraction(legend) {\n  var filteredValue = [];\n  legend.on('itemclick', function (ev) {\n    var item = ev.item,\n        checked = ev.checked; // 如果是单图例模式\n\n    if (item.isSingle) {\n      if (!checked) {\n        item.layer.hide();\n      } else {\n        item.layer.show();\n      }\n    } else {\n      // 正常的图例筛选数据逻辑\n      var view = item.layer.view;\n\n      if (!checked) {\n        filteredValue.push(item.value);\n        view.filter(item.field, function (f) {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n        var filteredData = view.get('filteredData');\n\n        if (filteredData.length === 0) {\n          item.layer.hide();\n        } else if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      } else {\n        _.pull(filteredValue, item.value);\n\n        view.filter(item.value, function (f) {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n\n        if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      }\n    }\n  });\n}\n\nfunction legendLayout(width, height, legend, position) {\n  console.log(position);\n  var bleeding = getGlobalTheme().bleeding;\n\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, function (it, index) {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n\n  var bbox = legend.get('itemsGroup').getBBox();\n  var x = 0;\n  var y = 0;\n  var positions = position.split('-'); // 先确定x\n\n  if (positions[0] === 'left') {\n    x = bleeding[3];\n  } else if (positions[0] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } else if (positions[1] === 'center') {\n    x = (width - bbox.width) / 2;\n  } else if (positions[1] === 'left') {\n    x = bleeding[3];\n  } else if (positions[1] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } // 再确定y\n\n\n  if (positions[0] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  } else if (positions[0] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'center') {\n    y = (height - bbox.height) / 2;\n  } else if (positions[1] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  }\n\n  legend.moveTo(x, y);\n  legend.draw();\n}","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\nexport function getOverlappingPadding(layer, components) {\n  var bleeding = getGlobalTheme().bleeding;\n\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, function (it, index) {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n\n  var viewMinX = layer.layerBBox.minX;\n  var viewMaxX = layer.layerBBox.maxX;\n\n  var viewMinY = _.clone(layer.layerBBox.minY);\n\n  var viewMaxY = layer.layerBBox.maxY;\n\n  _.each(components, function (component) {\n    var position = component.position;\n\n    var _a = component.getBBox(),\n        minX = _a.minX,\n        maxX = _a.maxX,\n        minY = _a.minY,\n        maxY = _a.maxY;\n\n    if (maxY > viewMinY && maxY < viewMaxY && position === 'top') {\n      viewMinY = maxY;\n    }\n\n    if (minY > viewMinY && minY < viewMaxY && position === 'bottom') {\n      viewMaxY = minY;\n    }\n\n    if (maxX > viewMinX && maxX < viewMaxX && position === 'left') {\n      viewMinX = maxX;\n    }\n\n    if (minX > viewMinX && maxX < viewMaxX && position === 'right') {\n      viewMaxX = minX;\n    }\n  });\n\n  var range = new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  var top_padding = range.minY - layer.layerBBox.minY;\n\n  if (top_padding === 0) {\n    top_padding = bleeding[0];\n  }\n\n  var right_padding = layer.layerBBox.maxX - range.maxX;\n  var bottom_padding = layer.layerBBox.maxY - range.maxY;\n  var left_padding = range.minX - layer.layerBBox.minX;\n  return [top_padding, right_padding, bottom_padding, left_padding];\n}","import { __assign } from \"tslib\";\nimport { Axis } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme';\nimport { isSingleGraph } from './adjustColorConfig';\nimport { getOverlappingPadding } from './padding';\nimport { getComponent } from '../../components/factory';\nvar AXIS_GAP = 4;\nexport function getAxisData(viewLayer, props, globalOptions) {\n  var view = viewLayer.view;\n  var scales = view.get('scales');\n  var scalesInfo = [];\n  var singleGraph = isSingleGraph(viewLayer.type, props); // get xscale info\n\n  if (props.xField) {\n    var xscale = scales[props.xField];\n    var scaleInfo = {\n      dim: 'x',\n      scale: xscale,\n      originalData: props.data\n    };\n    scalesInfo.push(scaleInfo);\n  } // get yscale info\n\n\n  if (props.yField) {\n    var yscale = scales[props.yField];\n    var scaleInfo = {\n      dim: 'y',\n      scale: yscale,\n      originalData: props.data,\n      color: singleGraph && globalOptions.yAxis.colorMapping ? props.color : null,\n      layer: viewLayer\n    };\n    scalesInfo.push(scaleInfo);\n  }\n\n  return scalesInfo;\n}\nexport function mergeAxisScale(axisInfo, dim, axisOptions) {\n  if (dim === 'x') {\n    var xAxisInfo = axisInfo.filter(function (axis) {\n      if (axis.dim === 'x') {\n        return axis;\n      }\n    });\n    return mergeXAxis(xAxisInfo);\n  } else {\n    var yAxisInfo = axisInfo.filter(function (axis) {\n      if (axis.dim === 'y') {\n        return axis;\n      }\n    });\n    return mergeYAxis(yAxisInfo, axisOptions.synchroTick);\n  }\n}\n\nfunction mergeXAxis(axisInfo) {\n  // 判断是否能够合并度量\n  var isSameScale = sameScaleTest(axisInfo);\n\n  if (!isSameScale) {\n    return [axisInfo[0].scale];\n  }\n\n  if (axisInfo[0].scale.type === 'cat') {\n    return getCatScale(axisInfo);\n  } else {\n    return getLinearScale(axisInfo, 5);\n  }\n}\n\nfunction mergeYAxis(axisInfo, synchroTick) {\n  var isSameScale = sameScaleTest(axisInfo); // 默认全部采用左轴的tickCount，具体标度对齐逻辑留待以后优化\n\n  var tickCount = axisInfo[0].scale.tickCount;\n  var LinearScale = getScale('linear');\n\n  if (!isSameScale) {\n    return axisInfo.map(function (axis) {\n      var scale = axis.scale;\n      var values = calValues(scale, tickCount);\n\n      if (synchroTick) {\n        var linearScale = new LinearScale({\n          min: scale.min,\n          max: scale.max,\n          ticks: values,\n          tickCount: tickCount,\n          color: axis.color\n        });\n        linearScale.layer = axis.layer;\n        return linearScale;\n      } else {\n        scale.layer = axis.layer;\n        scale.color = axis.color;\n        return scale;\n      }\n    });\n  } else {\n    return getLinearScale(axisInfo, tickCount);\n  }\n}\n\nfunction getLinearScale(axisInfo, tickCount) {\n  var scaleMin = axisInfo[0].scale.min;\n  var scaleMax = axisInfo[0].scale.max;\n\n  for (var _i = 0, axisInfo_1 = axisInfo; _i < axisInfo_1.length; _i++) {\n    var axis = axisInfo_1[_i];\n    scaleMin = Math.min(scaleMin, axis.scale.min);\n    scaleMax = Math.max(scaleMax, axis.scale.max);\n  }\n\n  var LinearScale = getScale('linear');\n  var scale = new LinearScale({\n    min: scaleMin,\n    max: scaleMax,\n    tickCount: tickCount\n  });\n  return scale;\n}\n\nfunction getCatScale(axisInfo) {\n  var scaleValues = [];\n\n  for (var _i = 0, axisInfo_2 = axisInfo; _i < axisInfo_2.length; _i++) {\n    var axis = axisInfo_2[_i];\n    scaleValues.push.apply(scaleValues, axis.scale.values);\n  } // todo: time cat 重新排序\n\n\n  var CatScale = getScale('cat');\n  var scale = new CatScale({\n    values: _.uniq(scaleValues)\n  });\n  return scale;\n}\n\nfunction sameScaleTest(axisInfo) {\n  var sampleDataSource = axisInfo[0].originalData;\n  var sampleField = axisInfo[0].scale.field;\n\n  for (var _i = 0, axisInfo_3 = axisInfo; _i < axisInfo_3.length; _i++) {\n    var axis = axisInfo_3[_i];\n    var data = axis.originalData;\n    var field = axis.scale.field; // 判断数据源和scale字段\n\n    if (data !== sampleDataSource || field !== sampleField) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function createAxis(scale, dim, canvas, cfg, globalOptions) {\n  var theme = getTheme(globalOptions);\n  var isVertical = dim === 'x' ? false : true;\n  var group;\n\n  if (scale.layer) {\n    group = scale.layer.container.addGroup();\n  } else {\n    group = canvas.addGroup();\n  }\n\n  var ticks = getAxisTicks(scale, dim);\n  var parser = getComponent('axis', {\n    dim: dim,\n    plot: {\n      options: globalOptions,\n      getPlotTheme: function getPlotTheme() {\n        return getGlobalTheme();\n      }\n    }\n  });\n  var defaultStyle = theme.axis && theme.axis[dim] ? toAxisStyle(theme.axis[dim]) : {};\n\n  if (scale.color) {\n    defaultStyle = adjustColorStyle(scale.color, parser);\n  }\n\n  var axisConfig = _.deepMix({}, parser, {\n    type: 'line',\n    group: group,\n    canvas: canvas,\n    start: cfg.start,\n    end: cfg.end,\n    isVertical: isVertical,\n    factor: cfg.factor,\n    ticks: ticks,\n    label: function label(text) {\n      return {\n        text: text,\n        textStyle: parser.label.textStyle\n      };\n    }\n  }, defaultStyle);\n\n  var axis = new Axis.Line(axisConfig);\n  axis.layer = scale.layer;\n  axis.render();\n  return axis;\n}\n\nfunction getAxisTicks(scale, dim) {\n  var tickValues = [];\n  var ticks = scale.ticks,\n      range = scale.range;\n  var step = (range[1] - range[0]) / (ticks.length - 1);\n\n  _.each(ticks, function (tick, index) {\n    var value = dim === 'y' ? 1.0 - (range[0] + step * index) : range[0] + step * index;\n    tickValues.push({\n      text: tick,\n      value: value\n    });\n  });\n\n  return tickValues;\n}\n\nfunction calValues(scale, tickCount) {\n  var values = [];\n  var min = scale.min,\n      max = scale.max;\n  var step = (max - min) / tickCount;\n\n  for (var i = 0; i < tickCount; i++) {\n    var value = min + step * i;\n    values.push(value);\n  }\n\n  return values;\n}\n\nexport function axesLayout(globalOptions, axisInfo, padding, layer, width, height, canvas) {\n  var bleeding = getGlobalTheme().bleeding; // merge padding and bleeding by zero value\n\n  _.each(padding, function (p, index) {\n    if (p === 0) {\n      padding[index] = bleeding[index];\n    }\n  });\n\n  var paddingComponents = []; // 创建axis\n\n  var axes = [];\n  var xAxisScale;\n  var xAxis;\n  var xAxisHeight = 0;\n\n  if (globalOptions.xAxis.visible) {\n    xAxisScale = mergeAxisScale(axisInfo, 'x');\n    xAxis = createAxis(xAxisScale[0], 'x', canvas, {\n      start: {\n        x: 0,\n        y: 0\n      },\n      end: {\n        x: width,\n        y: 0\n      },\n      factor: 1\n    }, globalOptions);\n    xAxisHeight += xAxis.get('group').getBBox().height;\n  }\n\n  if (globalOptions.yAxis.visible) {\n    var yAxisScale = mergeAxisScale(axisInfo, 'y', globalOptions.yAxis);\n\n    _.each(yAxisScale, function (scale, index) {\n      var factor = index === 0 ? -1 : 1;\n      var axis = createAxis(scale, 'y', canvas, {\n        start: {\n          x: 0,\n          y: padding[0]\n        },\n        end: {\n          x: 0,\n          y: height - xAxisHeight - padding[2]\n        },\n        factor: factor\n      }, globalOptions);\n\n      if (index === 0) {\n        axis.get('group').translate(padding[3], 0);\n      }\n\n      axes.push(axis);\n    });\n\n    axisLayout(axes, paddingComponents, width, padding);\n  }\n\n  if (globalOptions.xAxis.visible) {\n    var axisPadding = getOverlappingPadding(layer, paddingComponents);\n    var ypos_1 = axes.length === 0 ? height - xAxisHeight - padding[2] : axes[0].get('group').getBBox().maxY;\n    xAxis.destroy();\n    xAxis = createAxis(xAxisScale[0], 'x', canvas, {\n      start: {\n        x: axisPadding[3],\n        y: ypos_1\n      },\n      end: {\n        x: width - axisPadding[1],\n        y: ypos_1\n      },\n      factor: 1\n    }, globalOptions);\n    paddingComponents.push({\n      position: 'bottom',\n      component: xAxis,\n      getBBox: function getBBox() {\n        var container = xAxis.get('group');\n        var bbox = container.getBBox();\n        return new BBox(bbox.minX, bbox.minY + ypos_1, bbox.width, bbox.height);\n      }\n    });\n  }\n\n  return paddingComponents;\n}\n\nfunction axisLayout(axes, paddingComponents, width, padding) {\n  // 先处理最左边的\n  var leftAxis = axes[0];\n  var leftContainer = leftAxis.get('group');\n  var leftBbox = leftContainer.getBBox();\n  leftContainer.translate(leftBbox.width, 0);\n  paddingComponents.push({\n    position: 'left',\n    component: leftAxis,\n    getBBox: function getBBox() {\n      var matrix = leftContainer.attr('matrix');\n      return new BBox(leftBbox.minX + matrix[6], leftBbox.minY, leftBbox.width, leftBbox.height);\n    }\n  });\n  var temp_width = padding[1];\n\n  var _loop_1 = function _loop_1(i) {\n    var axis = axes[i];\n    var container = axis.get('group');\n    var bbox = container.getBBox();\n    container.translate(width - temp_width - bbox.width, 0);\n    temp_width += bbox.width + AXIS_GAP;\n    var component = {\n      position: 'right',\n      component: axis,\n      getBBox: function getBBox() {\n        var matrix = container.attr('matrix');\n        return new BBox(bbox.minX + matrix[6], bbox.minX, bbox.width, bbox.height);\n      }\n    };\n    paddingComponents.push(component);\n  }; // 处理右边的\n\n\n  for (var i = axes.length - 1; i > 0; i--) {\n    _loop_1(i);\n  }\n}\n\nfunction adjustColorStyle(color, options) {\n  return {\n    line: options.line ? {\n      stroke: color,\n      lineWidth: 1\n    } : null,\n    tickLine: options.tickLine ? {\n      stroke: color,\n      lineWidth: 1,\n      length: 5\n    } : null,\n    label: options.label ? {\n      textStyle: {\n        fill: color\n      }\n    } : null\n  };\n}\n\nexport function drawYGrid(axis, coord, container, globalOptions) {\n  var theme = getTheme(globalOptions);\n  var gridCfg = globalOptions.yAxis.grid;\n  var defaultStyle = theme.axis.y.grid.style;\n\n  var style = _.deepMix({}, defaultStyle, gridCfg.style);\n\n  var gridGroup = container.addGroup();\n  var labelItems = axis.get('labelItems');\n\n  _.each(labelItems, function (item, index) {\n    if (index > 0) {\n      gridGroup.addShape('path', {\n        attrs: __assign({\n          path: [['M', coord.start.x, item.point.y], ['L', coord.end.x, item.point.y]]\n        }, style)\n      });\n    }\n  });\n}\n\nfunction toAxisStyle(theme) {\n  var style = {};\n\n  _.each(theme, function (t, key) {\n    if (_.hasKey(t, 'style')) {\n      style[key] = t.style;\n    }\n  });\n\n  return style;\n}\n\nfunction getTheme(options) {\n  var theme = getGlobalTheme();\n\n  if (options.theme) {\n    if (_.isString(options.theme)) {\n      theme = getGlobalTheme(options.theme);\n    } else if (_.isObject(options.theme)) {\n      theme = options.theme;\n    }\n  }\n\n  return theme;\n}","import { each, contains, isArray, isObject, indexOf, isNil, has, keys } from '@antv/util';\nimport { Tooltip } from '@antv/component';\nimport { getShapeFactory } from '@antv/g2';\nimport { getGlobalTheme } from '../../theme/global';\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path', 'areaStack'];\nexport function showTooltip(canvas, layers, tooltipCfg) {\n  var tooltip = renderTooltip(layers[0], canvas);\n  canvas.on('mousemove', function (ev) {\n    var tooltipItems = [];\n    var point = {\n      x: ev.x / 2,\n      y: ev.y / 2\n    };\n    each(layers, function (layer) {\n      var view = layer.view;\n\n      if (view && layer.visibility) {\n        var coord_1 = view.get('coord');\n        var geoms = view.get('elements');\n        each(geoms, function (geom) {\n          var type = geom.get('type');\n          var dataArray = geom.get('dataArray');\n\n          if (contains(['area', 'line', 'path', 'interval'], type)) {\n            var items = getTooltipItems(point, geom, type, dataArray, coord_1);\n            tooltipItems.push.apply(tooltipItems, items);\n          } else {\n            var shapeContainer = geom.get('shapeContainer');\n            var shapes = getShapeByX(shapeContainer, point.x);\n            each(shapes, function (shape) {\n              if (shape.get('visible') && shape.get('origin')) {\n                var items = geom.getTooltipItems(shape.get('origin'), null);\n                tooltipItems.push.apply(tooltipItems, items);\n              }\n            });\n          }\n        });\n      }\n    });\n    adjustItems(tooltipItems, ev.target, tooltipCfg);\n\n    if (tooltipItems.length > 0) {\n      tooltip.setContent('', getUniqueItems(tooltipItems));\n      tooltip.setPosition(point.x, point.y, ev.target);\n      tooltip.show();\n    } else if (tooltip.get('visible')) {\n      tooltip.hide();\n    }\n  });\n  return tooltip;\n}\n\nfunction getTooltipItems(point, geom, type, dataArray, coord) {\n  var items = [];\n  each(dataArray, function (data) {\n    var tmpPoint = geom.findPoint(point, data);\n\n    if (tmpPoint) {\n      var subItems = geom.getTooltipItems(tmpPoint, null);\n      each(subItems, function (v) {\n        // tslint:disable-next-line: no-shadowed-variable\n        var point = v.point;\n\n        if (!isNil(point) && !isNil(point.x) && !isNil(point.y)) {\n          var x = isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n          var y = isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n          point = coord.applyMatrix(x, y, 1);\n          v.x = point[0];\n          v.y = point[1];\n          v.showMarker = true;\n          var itemMarker = getItemMarker(geom, v.color);\n          itemMarker.radius = 40;\n          v.marker = itemMarker;\n\n          if (indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n            items.push(v);\n          }\n        }\n      });\n      items.push.apply(items, subItems);\n    }\n  });\n  return items;\n}\n\nfunction renderTooltip(layer, canvas) {\n  var tooltipTheme = getGlobalTheme().tooltip;\n  var options = {\n    panelGroup: layer.view.get('panelGroup'),\n    panelRange: layer.view.get('panelRange'),\n    capture: false,\n    canvas: canvas,\n    frontgroundGroup: layer.view.get('frontgroundGroup'),\n    theme: tooltipTheme,\n    backgroundGroup: layer.view.get('backgroundGroup')\n  };\n  return new Tooltip.Html(options);\n}\n\nfunction getItemMarker(geom, color) {\n  var shapeType = geom.get('shapeType') || 'point';\n  var shape = geom.getDefaultValue('shape') || 'circle';\n  var shapeObject = getShapeFactory(shapeType);\n  var cfg = {\n    color: color\n  };\n  var marker = shapeObject.getMarkerStyle(shape, cfg);\n  return marker;\n}\n\nfunction getUniqueItems(items) {\n  var tmp = [];\n  each(items, function (item) {\n    var index = indexOfArray(tmp, item);\n\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n  return tmp;\n}\n\nfunction indexOfArray(items, item) {\n  var rst = -1;\n  each(items, function (sub, index) {\n    var isEqual = true;\n\n    for (var key in item) {\n      if (has(item, key)) {\n        if (!isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n  return rst;\n}\n\nfunction adjustItems(items, target, cfg) {\n  if (target.get('origin')) {\n    var data_1;\n\n    if (isArray(target.get('origin'))) {\n      data_1 = getDataByTitle(items[0].title, target.get('origin')).data;\n    } else {\n      data_1 = target.get('origin')._origin;\n    }\n\n    each(items, function (item) {\n      if (item.point._origin !== data_1) {\n        item.color = '#ccc';\n      }\n    });\n  }\n\n  if (cfg.sort) {\n    items.sort(function (a, b) {\n      return parseFloat(b.value) - parseFloat(a.value);\n    });\n  }\n}\n\nfunction getDataByTitle(title, data) {\n  for (var i in data) {\n    var d = data[i]._origin;\n    var ks = keys(d);\n\n    for (var j in ks) {\n      var key = ks[j];\n\n      if (d[key] === title) {\n        return {\n          data: d,\n          key: key\n        };\n      }\n    }\n  }\n}\n\nfunction getShapeByX(container, x) {\n  var shapes = [];\n  var children = container.get('children');\n  each(children, function (c) {\n    var bbox = c.getBBox();\n\n    if (bbox.minX < x && bbox.maxX > x) {\n      shapes.push(c);\n    }\n  });\n  return shapes;\n}","import { __extends } from \"tslib\";\nimport ComboPlot from './base';\nimport * as _ from '@antv/util';\nimport { getPlotType } from '../base/global';\nimport Layer from '../base/layer';\nimport '../plots/index';\nimport * as ComboUtil from './util';\nimport { getOverlappingPadding } from './util/padding';\nimport { getGlobalTheme } from '../theme/global';\n\nvar OverlappedComboPlot =\n/** @class */\nfunction (_super) {\n  __extends(OverlappedComboPlot, _super);\n\n  function OverlappedComboPlot(container, props) {\n    var _this = _super.call(this, container, props) || this;\n\n    _this.options = props;\n    return _this;\n  }\n\n  OverlappedComboPlot.prototype.getDefaultOptions = function () {\n    return {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        }\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true\n        },\n        line: {\n          visible: true\n        },\n        tickLine: {\n          visible: true\n        },\n        label: {\n          visible: true\n        },\n        title: {\n          visible: false,\n          offset: 12\n        },\n        colorMapping: true,\n        synchroTick: true\n      },\n      label: {\n        visible: false\n      },\n      tooltip: {\n        visible: true,\n        sort: true\n      },\n      legend: {\n        visible: true,\n        position: 'top-left'\n      }\n    };\n  };\n\n  OverlappedComboPlot.prototype.createComboLayers = function () {\n    var _this = this;\n\n    _super.prototype.createComboLayers.call(this);\n\n    this.legendInfo = [];\n    this.axisInfo = [];\n    this.paddingComponents = [];\n    this.globalComponents = [];\n    this.singleGeomCount = 0;\n    this.backLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height\n    });\n\n    if (this.options.layers.length > 0) {\n      /** create layers */\n      _.each(this.options.layers, function (layerCfg) {\n        var _a, _b;\n\n        var overlapConfig = _this.getOverlappedConfig(layerCfg);\n\n        var viewLayerCtr = getPlotType(layerCfg.type);\n\n        var viewLayerProps = _.deepMix({}, layerCfg, {\n          canvas: _this.canvas,\n          x: 0,\n          y: 0,\n          width: _this.width,\n          height: _this.height\n        }, overlapConfig);\n\n        var viewLayer = new viewLayerCtr(viewLayerProps);\n        viewLayer.hide();\n        viewLayer.render();\n\n        (_a = _this.axisInfo).push.apply(_a, ComboUtil.getAxisData(viewLayer, viewLayerProps, _this.globalOptions));\n\n        (_b = _this.legendInfo).push.apply(_b, ComboUtil.getLegendData(viewLayer, viewLayerProps));\n\n        _this.addLayer(viewLayer);\n      });\n    }\n    /** add top layer for legend & tooltip */\n\n\n    this.topLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height\n    });\n  };\n  /** 图层叠加时的layer config */\n\n\n  OverlappedComboPlot.prototype.getOverlappedConfig = function (layerCfg) {\n    var colorCfg = ComboUtil.getColorConfig(layerCfg.type, layerCfg, this.singleGeomCount);\n\n    if (colorCfg && colorCfg.single) {\n      this.singleGeomCount++;\n    }\n\n    return _.deepMix({}, {\n      xAxis: {\n        visible: false\n      },\n      yAxis: {\n        visible: false\n      },\n      legend: {\n        visible: false\n      },\n      tooltip: {\n        visible: false\n      },\n      padding: [0, 0, 0, 0],\n      color: colorCfg ? colorCfg.color : null\n    });\n  };\n\n  OverlappedComboPlot.prototype.overlappingLegend = function () {\n    var legendItems = ComboUtil.mergeLegendData(this.legendInfo);\n    this.legendContainer = this.topLayer.container.addGroup();\n    return ComboUtil.createLegend(legendItems, this.width, this.height, this.getCanvas(), this.globalOptions.legend.position);\n  };\n\n  OverlappedComboPlot.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    this.doDestroy();\n    this.createComboLayers();\n    var bleeding = getGlobalTheme().bleeding;\n\n    if (this.globalOptions.legend.visible) {\n      var legend = this.overlappingLegend();\n      this.globalComponents.push({\n        type: 'legend',\n        component: legend.component\n      });\n      this.paddingComponents.push(legend);\n    } // 先获取legend的padding\n\n\n    var legendPadding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    var axisComponents = ComboUtil.axesLayout(this.globalOptions, this.axisInfo, legendPadding, this.layers[0], this.width, this.height, this.getCanvas());\n\n    (_a = this.paddingComponents).push.apply(_a, axisComponents);\n\n    _.each(axisComponents, function (axis) {\n      _this.globalComponents.push({\n        type: 'axis',\n        component: axis.component\n      });\n    }); // 计算padding\n\n\n    var padding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n\n    if (!this.globalOptions.xAxis.visible) {\n      padding[2] += bleeding[2];\n    } // 更新layers\n\n\n    _.each(this.layers, function (layer) {\n      layer.updateConfig({\n        padding: padding\n      });\n      layer.show();\n      layer.render();\n      layer.view.get('backgroundGroup').get('backShape').remove();\n      layer.view.get('panelGroup').get('backShape').remove();\n    }); //补画坐标轴grid\n\n\n    if (this.globalOptions.yAxis.grid.visible) {\n      var leftAxis = axisComponents[0].component;\n      var containerLayer = this.layers[0];\n      var coord = containerLayer.view.get('coord');\n      var container = containerLayer.view.get('backgroundGroup');\n      ComboUtil.drawYGrid(leftAxis, coord, container, this.globalOptions);\n    }\n\n    if (this.globalOptions.tooltip.visible) {\n      var tooltip = ComboUtil.showTooltip(this.canvas, this.layers, this.globalOptions.tooltip);\n      this.globalComponents.push({\n        type: 'tooltip',\n        component: tooltip\n      });\n    }\n  };\n\n  OverlappedComboPlot.prototype.doDestroy = function () {\n    this.clearComponents();\n    this.eachLayer(function (layer) {\n      layer.destroy();\n    });\n    this.layers = [];\n  };\n\n  OverlappedComboPlot.prototype.clearComponents = function () {\n    _.each(this.globalComponents, function (c) {\n      if (c.type === 'legend' || c.type === 'tooltip') {\n        c.component.destroy();\n      }\n\n      if (c.type === 'axis') {\n        c.component.clear();\n      }\n    });\n\n    this.paddingComponents = [];\n    this.globalComponents = [];\n  };\n\n  return OverlappedComboPlot;\n}(ComboPlot);\n\nexport default OverlappedComboPlot;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Column, Ring, Liquid } from '@antv/g2plot';\r\nimport { Card, Icon, Button } from 'antd';\r\nimport http from 'utils/getFetch';\r\nimport './index.less';\r\n\r\nclass DataStat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tabList: [],\r\n      commonNavs: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n    setTimeout(() => {\r\n      this.renderColumnPlot();\r\n      this.renderRingPlot();\r\n      this.renderLiquidPlot();\r\n    }, 200);\r\n  }\r\n\r\n  getData = () => {\r\n    http.post('sys/stat').then(res => {\r\n      this.setState({\r\n        tabList: res.tabList,\r\n        commonNavs: res.commonNavs\r\n      });\r\n    });\r\n  }\r\n\r\n  renderColumnPlot = () => {\r\n    const data = [\r\n      { year: '2016 年', sales: 100 },\r\n      { year: '2017 年', sales: 121 },\r\n      { year: '2018 年', sales: 110 },\r\n      { year: '2019 年', sales: 145 },\r\n      { year: '2020 年', sales: 90 },\r\n    ];\r\n    \r\n    this.columnPlot = new Column('c1', {\r\n      data,\r\n      forceFit: true,\r\n      padding: 'auto',\r\n      xField: 'year',\r\n      yField: 'sales',\r\n      colorField: 'year',\r\n      barSize: 40,\r\n      meta: {\r\n        year: {\r\n          alias: '年份',\r\n        },\r\n        sales: {\r\n          alias: '销售额(万)',\r\n        },\r\n      },\r\n    });\r\n    \r\n    this.columnPlot.render();\r\n  }\r\n\r\n  renderRingPlot = () => {\r\n    const data = [\r\n      {\r\n        type: '集团',\r\n        value: 100,\r\n      },\r\n      {\r\n        type: '开发',\r\n        value: 80,\r\n      },\r\n      {\r\n        type: '运营',\r\n        value: 60,\r\n      },\r\n      {\r\n        type: '销售',\r\n        value: 20,\r\n      }\r\n    ];\r\n\r\n    this.ringPlot = new Ring('c2', {\r\n      forceFit: true,\r\n      radius: 1,\r\n      innerRadius: 0.6,\r\n      padding: [0,0,0,0],\r\n      data,\r\n      angleField: 'value',\r\n      colorField: 'type',\r\n    });\r\n    \r\n    this.ringPlot.render();\r\n  }\r\n\r\n  renderLiquidPlot = () => {\r\n    this.liquidPlot = new Liquid('c3', {\r\n      forceFit: true,\r\n      statistic: 'normal',\r\n      min: 0,\r\n      max: 1000,\r\n      value: 420,\r\n      showValue: true,\r\n    });\r\n    this.liquidPlot.render();\r\n  }\r\n\r\n  render() {\r\n    const { tabList, commonNavs } = this.state;\r\n\r\n    return (\r\n      <div className=\"page-stat\">\r\n        <div className=\"stat-tabs\">\r\n          {tabList.map((item, i) => (\r\n            <div className={`stat-tab tab${i + 1}`} key={i}>\r\n              <div className=\"stat-title\">{item.name}</div>\r\n              <div className=\"stat-number\">{item.value}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"stat-cards\">\r\n          <Card\r\n            className=\"card-l\"\r\n            size=\"small\"\r\n            title=\"常用功能导航\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body common-navs\">\r\n              {commonNavs.map((item, i) => (\r\n                <div className=\"common-nav\" key={i}>\r\n                  <Link to=\"/\">\r\n                    <Button className=\"nav-icon\" size=\"large\" shape=\"circle\" icon={item.icon} />\r\n                  </Link>\r\n                  <span className=\"nav-name\">{item.name}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n          <Card\r\n            className=\"card-r\"\r\n            size=\"small\"\r\n            title=\"今日待办\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body\">\r\n              <div id=\"c3\"></div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n        <div className=\"stat-cards\">\r\n          <Card\r\n            className=\"card-l\"\r\n            size=\"small\"\r\n            title=\"出入境人数\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body\">\r\n              <div id=\"c1\"></div>\r\n            </div>\r\n          </Card>\r\n          <Card\r\n            className=\"card-r\"\r\n            size=\"small\"\r\n            title=\"各层机关人数\"\r\n            extra={<Link to=\"/\"><Icon type=\"more\" /></Link>}\r\n          >\r\n            <div className=\"card-body\">\r\n              <div id=\"c2\"></div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DataStat;\r\n","var isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nexport default isArrayLike;","import isArrayLike from './is-array-like';\n\nvar contains = function contains(arr, value) {\n  if (!isArrayLike(arr)) {\n    return false;\n  }\n\n  return arr.indexOf(value) > -1;\n};\n\nexport default contains;","import isArrayLike from './is-array-like';\n\nvar filter = function filter(arr, func) {\n  if (!isArrayLike(arr)) {\n    return arr;\n  }\n\n  var result = [];\n\n  for (var index = 0; index < arr.length; index++) {\n    var value = arr[index];\n\n    if (func(value, index)) {\n      result.push(value);\n    }\n  }\n\n  return result;\n};\n\nexport default filter;","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\n\nvar difference = function difference(arr, values) {\n  if (values === void 0) {\n    values = [];\n  }\n\n  return filter(arr, function (value) {\n    return !contains(values, value);\n  });\n};\n\nexport default difference;","var toString = {}.toString;\n\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nexport default isType;","/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nimport isType from './is-type';\nexport default (function (value) {\n  return isType(value, 'Function');\n});","// isFinite,\nvar isNil = function isNil(value) {\n  /**\n   * isNil(null) => true\n   * isNil() => true\n   */\n  return value === null || value === undefined;\n};\n\nexport default isNil;","import isType from './is-type';\nexport default (function (value) {\n  return Array.isArray ? Array.isArray(value) : isType(value, 'Array');\n});","export default (function (value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n});","import isArray from './is-array';\nimport isObject from './is-object';\n\nfunction each(elements, func) {\n  if (!elements) {\n    return;\n  }\n\n  var rst;\n\n  if (isArray(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (isObject(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport default each;","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) {\n  return Object.keys(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(key);\n    }\n  });\n  return result;\n};\nexport default keys;","import isNil from './is-nil';\nimport keys from './keys';\n\nfunction isMatch(obj, attrs) {\n  var _keys = keys(attrs);\n\n  var length = _keys.length;\n  if (isNil(obj)) return !length;\n\n  for (var i = 0; i < length; i += 1) {\n    var key = _keys[i];\n\n    if (attrs[key] !== obj[key] || !(key in obj)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isMatch;","var isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nexport default isObjectLike;","import isObjectLike from './is-object-like';\nimport isType from './is-type';\n\nvar isPlainObject = function isPlainObject(value) {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   * isObjectLike(Object.create(null)) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n};\n\nexport default isPlainObject;","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nfunction find(arr, predicate) {\n  if (!isArray(arr)) return null;\n\n  var _predicate;\n\n  if (isFunction(predicate)) {\n    _predicate = predicate;\n  }\n\n  if (isPlainObject(predicate)) {\n    _predicate = function _predicate(a) {\n      return isMatch(a, predicate);\n    };\n  }\n\n  if (_predicate) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (_predicate(arr[i])) {\n        return arr[i];\n      }\n    }\n  }\n\n  return null;\n}\n\nexport default find;","function findIndex(arr, predicate, fromIndex) {\n  if (fromIndex === void 0) {\n    fromIndex = 0;\n  }\n\n  for (var i = fromIndex; i < arr.length; i++) {\n    if (predicate(arr[i], i)) {\n      // 找到终止循环\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","import isNil from './is-nil';\nimport isArray from './is-array';\n\nvar firstValue = function firstValue(data, name) {\n  var rst = null;\n\n  for (var i = 0; i < data.length; i++) {\n    var obj = data[i];\n    var value = obj[name];\n\n    if (!isNil(value)) {\n      if (isArray(value)) {\n        rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n      } else {\n        rst = value;\n      }\n\n      break;\n    }\n  }\n\n  return rst;\n};\n\nexport default firstValue;","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\n\nvar flatten = function flatten(arr) {\n  if (!isArray(arr)) {\n    return [];\n  }\n\n  var rst = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    rst = rst.concat(arr[i]);\n  }\n\n  return rst;\n};\n\nexport default flatten;","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\n\nvar flattenDeep = function flattenDeep(arr, result) {\n  if (result === void 0) {\n    result = [];\n  }\n\n  if (!isArray(arr)) {\n    result.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], result);\n    }\n  }\n\n  return result;\n};\n\nexport default flattenDeep;","import isArray from './is-array';\n\nvar getRange = function getRange(values) {\n  // 存在 NaN 时，min,max 判定会出问题\n  var filterValues = values.filter(function (v) {\n    return !isNaN(v);\n  });\n\n  if (!filterValues.length) {\n    // 如果没有数值则直接返回0\n    return {\n      min: 0,\n      max: 0\n    };\n  }\n\n  if (isArray(values[0])) {\n    var tmp = [];\n\n    for (var i = 0; i < values.length; i++) {\n      tmp = tmp.concat(values[i]);\n    }\n\n    filterValues = tmp;\n  }\n\n  var max = Math.max.apply(null, filterValues);\n  var min = Math.min.apply(null, filterValues);\n  return {\n    min: min,\n    max: max\n  };\n};\n\nexport default getRange;","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\n\nvar pull = function pull(arr) {\n  var values = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    values[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var fromIndex = -1;\n\n    while ((fromIndex = indexOf.call(arr, value)) > -1) {\n      splice.call(arr, fromIndex, 1);\n    }\n  }\n\n  return arr;\n};\n\nexport default pull;","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\n\nvar pullAt = function pullAt(arr, indexes) {\n  if (!isArrayLike(arr)) {\n    return [];\n  }\n\n  var length = arr ? indexes.length : 0;\n  var last = length - 1;\n\n  while (length--) {\n    var previous = void 0;\n    var index = indexes[length];\n\n    if (length === last || index !== previous) {\n      previous = index;\n      splice.call(arr, index, 1);\n    }\n  }\n\n  return arr;\n};\n\nexport default pullAt;","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nvar reduce = function reduce(arr, fn, init) {\n  if (!isArray(arr) && !isPlainObject(arr)) {\n    return arr;\n  }\n\n  var result = init;\n  each(arr, function (data, i) {\n    result = fn(result, data, i);\n  });\n  return result;\n};\n\nexport default reduce;","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\n\nvar remove = function remove(arr, predicate) {\n  /**\n   * const arr = [1, 2, 3, 4]\n   * const evens = remove(arr, n => n % 2 == 0)\n   * console.log(arr) // => [1, 3]\n   * console.log(evens) // => [2, 4]\n   */\n  var result = [];\n\n  if (!isArrayLike(arr)) {\n    return result;\n  }\n\n  var i = -1;\n  var indexes = [];\n  var length = arr.length;\n\n  while (++i < length) {\n    var value = arr[i];\n\n    if (predicate(value, i, arr)) {\n      result.push(value);\n      indexes.push(i);\n    }\n  }\n\n  pullAt(arr, indexes);\n  return result;\n};\n\nexport default remove;","import isType from './is-type';\nexport default (function (str) {\n  return isType(str, 'String');\n});","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\n\nfunction sortBy(arr, key) {\n  var comparer;\n\n  if (isFunction(key)) {\n    comparer = function comparer(a, b) {\n      return key(a) - key(b);\n    };\n  } else {\n    var keys_1 = [];\n\n    if (isString(key)) {\n      keys_1.push(key);\n    } else if (isArray(key)) {\n      keys_1 = key;\n    }\n\n    comparer = function comparer(a, b) {\n      for (var i = 0; i < keys_1.length; i += 1) {\n        var prop = keys_1[i];\n\n        if (a[prop] > b[prop]) {\n          return 1;\n        }\n\n        if (a[prop] < b[prop]) {\n          return -1;\n        }\n      }\n\n      return 0;\n    };\n  }\n\n  arr.sort(comparer);\n  return arr;\n}\n\nexport default sortBy;","import contains from './contains';\nimport each from './each';\n\nvar uniq = function uniq(arr) {\n  var resultArr = [];\n  each(arr, function (item) {\n    if (!contains(resultArr, item)) {\n      resultArr.push(item);\n    }\n  });\n  return resultArr;\n};\n\nexport default uniq;","import uniq from './uniq';\n\nvar union = function union() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  return uniq([].concat.apply([], sources));\n};\n\nexport default union;","import isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n  var rst = [];\n  var tmpMap = {};\n\n  for (var i = 0; i < data.length; i++) {\n    var obj = data[i];\n    var value = obj[name];\n\n    if (!isNil(value)) {\n      // flatten\n      if (!isArray(value)) {\n        value = [value];\n      }\n\n      for (var j = 0; j < value.length; j++) {\n        var val = value[j]; // unique\n\n        if (!tmpMap[val]) {\n          rst.push(val);\n          tmpMap[val] = true;\n        }\n      }\n    }\n  }\n\n  return rst;\n});","import isArrayLike from './is-array-like';\nexport default function head(o) {\n  if (isArrayLike(o)) {\n    return o[0];\n  }\n\n  return undefined;\n}","import isArrayLike from './is-array-like';\nexport default function last(o) {\n  if (isArrayLike(o)) {\n    var arr = o;\n    return arr[arr.length - 1];\n  }\n\n  return undefined;\n}","import isArray from './is-array';\nimport isString from './is-string';\n\nfunction startsWith(arr, e) {\n  return isArray(arr) || isString(arr) ? arr[0] === e : false;\n}\n\nexport default startsWith;","import isArray from './is-array';\nimport isString from './is-string';\n\nfunction endsWith(arr, e) {\n  return isArray(arr) || isString(arr) ? arr[arr.length - 1] === e : false;\n}\n\nexport default endsWith;","/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function every(arr, func) {\n  for (var i = 0; i < arr.length; i++) {\n    if (!func(arr[i], i)) return false;\n  }\n\n  return true;\n};\n\nexport default every;","/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function some(arr, func) {\n  for (var i = 0; i < arr.length; i++) {\n    if (func(arr[i], i)) return true;\n  }\n\n  return false;\n};\n\nexport default some;","import isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction groupBy(data, condition) {\n  if (!condition || !isArray(data)) {\n    return {};\n  }\n\n  var result = {}; // 兼容方法和 字符串的写法\n\n  var predicate = isFunction(condition) ? condition : function (item) {\n    return item[condition];\n  };\n  var key;\n\n  for (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    key = predicate(item);\n\n    if (hasOwnProperty.call(result, key)) {\n      result[key].push(item);\n    } else {\n      result[key] = [item];\n    }\n  }\n\n  return result;\n}\n\nexport default groupBy;","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\n\nvar groupToMap = function groupToMap(data, condition) {\n  if (!condition) {\n    return {\n      0: data\n    };\n  }\n\n  if (!isFunction(condition)) {\n    var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n\n    condition = function condition(row) {\n      var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n\n      for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n        unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n      }\n\n      return unique;\n    };\n  }\n\n  var groups = groupBy(data, condition);\n  return groups;\n};\n\nexport default groupToMap;","import groupToMap from './group-to-map';\nexport default (function (data, condition) {\n  if (!condition) {\n    // 没有条件，则自身改成数组\n    return [data];\n  }\n\n  var groups = groupToMap(data, condition);\n  var array = [];\n\n  for (var i in groups) {\n    array.push(groups[i]);\n  }\n\n  return array;\n});","/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n  return obj['_wrap_' + action];\n}\n\nexport default getWrapBehavior;","/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n  if (obj['_wrap_' + action]) {\n    return obj['_wrap_' + action];\n  }\n\n  var method = function method(e) {\n    obj[action](e);\n  };\n\n  obj['_wrap_' + action] = method;\n  return method;\n}\n\nexport default wrapBehavior;","var numColorCache = {};\n\nfunction numberToColor(num) {\n  // 增加缓存\n  var color = numColorCache[num];\n\n  if (!color) {\n    var str = num.toString(16);\n\n    for (var i = str.length; i < 6; i++) {\n      str = '0' + str;\n    }\n\n    color = '#' + str;\n    numColorCache[num] = color;\n  }\n\n  return color;\n}\n\nexport default numberToColor;","import isArray from './is-array';\n\nfunction parseRadius(radius) {\n  var r1 = 0,\n      r2 = 0,\n      r3 = 0,\n      r4 = 0;\n\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  return {\n    r1: r1,\n    r2: r2,\n    r3: r3,\n    r4: r4\n  };\n}\n\nexport default parseRadius;","var clamp = function clamp(a, min, max) {\n  if (a < min) {\n    return min;\n  } else if (a > max) {\n    return max;\n  }\n\n  return a;\n};\n\nexport default clamp;","var fixedBase = function fixedBase(v, base) {\n  var str = base.toString();\n  var index = str.indexOf('.');\n\n  if (index === -1) {\n    return Math.round(v);\n  }\n\n  var length = str.substr(index + 1).length;\n\n  if (length > 20) {\n    length = 20;\n  }\n\n  return parseFloat(v.toFixed(length));\n};\n\nexport default fixedBase;","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\n\nvar isNumber = function isNumber(value) {\n  return isType(value, 'Number');\n};\n\nexport default isNumber;","import isNumber from './is-number';\n\nvar isDecimal = function isDecimal(num) {\n  return isNumber(num) && num % 1 !== 0;\n};\n\nexport default isDecimal;","import isNumber from './is-number';\n\nvar isEven = function isEven(num) {\n  return isNumber(num) && num % 2 === 0;\n};\n\nexport default isEven;","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n  return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;","import isNumber from './is-number';\n\nvar isNegative = function isNegative(num) {\n  return isNumber(num) && num < 0;\n};\n\nexport default isNegative;","var PRECISION = 0.00001; // numbers less than this is considered as 0\n\nexport default function isNumberEqual(a, b, precision) {\n  if (precision === void 0) {\n    precision = PRECISION;\n  }\n\n  return Math.abs(a - b) < precision;\n}\n;","import isNumber from './is-number';\n\nvar isOdd = function isOdd(num) {\n  return isNumber(num) && num % 2 !== 0;\n};\n\nexport default isOdd;","import isNumber from './is-number';\n\nvar isPositive = function isPositive(num) {\n  return isNumber(num) && num > 0;\n};\n\nexport default isPositive;","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\n\nexport default (function (arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n\n  var max = arr[0];\n  var maxData;\n\n  if (isFunction(fn)) {\n    maxData = fn(arr[0]);\n  } else {\n    maxData = arr[0][fn];\n  }\n\n  var data;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n\n    if (data > maxData) {\n      max = val;\n      maxData = data;\n    }\n  });\n  return max;\n});","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\n\nexport default (function (arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n\n  var min = arr[0];\n  var minData;\n\n  if (isFunction(fn)) {\n    minData = fn(arr[0]);\n  } else {\n    minData = arr[0][fn];\n  }\n\n  var data;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n\n    if (data < minData) {\n      min = val;\n      minData = data;\n    }\n  });\n  return min;\n});","var mod = function mod(n, m) {\n  return (n % m + m) % m;\n};\n\nexport default mod;","var DEGREE = 180 / Math.PI;\n\nvar toDegree = function toDegree(radian) {\n  return DEGREE * radian;\n};\n\nexport default toDegree;","export default parseInt;","var RADIAN = Math.PI / 180;\n\nvar toRadian = function toRadian(degree) {\n  return RADIAN * degree;\n};\n\nexport default toRadian;","import each from './each';\nexport default each;","export default (function (obj, key) {\n  return obj.hasOwnProperty(key);\n});","import has from './has';\nexport default has;","import each from './each';\nimport isFunction from './is-function'; // @ts-ignore\n\nvar values = Object.values ? function (obj) {\n  return Object.values(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(value);\n    }\n  });\n  return result;\n};\nexport default values;","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) {\n  return contains(values(obj), value);\n});","import isNil from './is-nil';\nexport default (function (value) {\n  if (isNil(value)) return '';\n  return value.toString();\n});","import toString from './to-string';\n\nvar lowerCase = function lowerCase(str) {\n  return toString(str).toLowerCase();\n};\n\nexport default lowerCase;","import toString from './to-string';\n\nvar lowerFirst = function lowerFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\nexport default lowerFirst;","function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n\n    return o[name] === undefined ? '' : o[name];\n  });\n}\n\nexport default substitute;","import toString from './to-string';\n\nvar upperCase = function upperCase(str) {\n  return toString(str).toUpperCase();\n};\n\nexport default upperCase;","import toString from './to-string';\n\nvar upperFirst = function upperFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nexport default upperFirst;","var toString = {}.toString;\n\nvar getType = function getType(value) {\n  return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\n\nexport default getType;","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isArguments = function isArguments(value) {\n  return isType(value, 'Arguments');\n};\n\nexport default isArguments;","/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isBoolean = function isBoolean(value) {\n  return isType(value, 'Boolean');\n};\n\nexport default isBoolean;","import isType from './is-type';\n\nvar isDate = function isDate(value) {\n  return isType(value, 'Date');\n};\n\nexport default isDate;","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\n\nvar isError = function isError(value) {\n  return isType(value, 'Error');\n};\n\nexport default isError;","/**\n * 判断是否为有限数\n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n  return isNumber(value) && isFinite(value);\n}","var isNull = function isNull(value) {\n  return value === null;\n};\n\nexport default isNull;","var objectProto = Object.prototype;\n\nvar isPrototype = function isPrototype(value) {\n  var Ctor = value && value.constructor;\n  var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n};\n\nexport default isPrototype;","import isType from './is-type';\n\nvar isRegExp = function isRegExp(str) {\n  return isType(str, 'RegExp');\n};\n\nexport default isRegExp;","var isUndefined = function isUndefined(value) {\n  return value === undefined;\n};\n\nexport default isUndefined;","/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function isElement(o) {\n  return o instanceof Element || o instanceof HTMLDocument;\n};\n\nexport default isElement;","export default function requestAnimationFrame(fn) {\n  var method = window.requestAnimationFrame || window.webkitRequestAnimationFrame || // @ts-ignore\n  window.mozRequestAnimationFrame || // @ts-ignore\n  window.msRequestAnimationFrame || function (f) {\n    return setTimeout(f, 16);\n  };\n\n  return method(fn);\n}\n;","export default function cancelAnimationFrame(handler) {\n  var method = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || // @ts-ignore\n  window.mozCancelAnimationFrame || // @ts-ignore\n  window.msCancelAnimationFrame || clearTimeout;\n  method(handler);\n}\n;","// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n      dist[key] = obj[key];\n    }\n  }\n}\n\nexport default function mix(dist, src1, src2, src3) {\n  if (src1) _mix(dist, src1);\n  if (src2) _mix(dist, src2);\n  if (src3) _mix(dist, src3);\n  return dist;\n}","import mix from './mix';\nimport isFunction from './is-function';\n\nvar augment = function augment() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var c = args[0];\n\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n\n    if (isFunction(obj)) {\n      obj = obj.prototype;\n    }\n\n    mix(c.prototype, obj);\n  }\n};\n\nexport default augment;","import isArray from './is-array';\n\nvar clone = function clone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var rst;\n\n  if (isArray(obj)) {\n    rst = [];\n\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (typeof obj[i] === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n\n    for (var k in obj) {\n      if (typeof obj[k] === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nexport default clone;","function debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n\n    var later = function later() {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\nexport default debounce;","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\n\nexport default (function (f, resolver) {\n  if (!isFunction(f)) {\n    throw new TypeError('Expected a function');\n  }\n\n  var memoized = function memoized() {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n\n\n    var key = resolver ? resolver.apply(this, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    var result = f.apply(this, args); // 缓存起来\n\n    cache.set(key, result);\n    return result;\n  };\n\n  memoized.cache = new Map();\n  return memoized;\n});","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level, maxLevel) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      var value = src[key];\n\n      if (value !== null && isPlainObject(value)) {\n        if (!isPlainObject(dist[key])) {\n          dist[key] = {};\n        }\n\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (isArray(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n} // todo 重写\n\n\nvar deepMix = function deepMix(rst) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < args.length; i += 1) {\n    _deepMix(rst, args[i]);\n  }\n\n  return rst;\n};\n\nexport default deepMix;","import mix from './mix';\nimport isFunction from './is-function';\n\nvar extend = function extend(subclass, superclass, overrides, staticOverrides) {\n  // 如果只提供父类构造函数，则自动生成子类构造函数\n  if (!isFunction(superclass)) {\n    overrides = superclass;\n    superclass = subclass;\n\n    subclass = function subclass() {};\n  }\n\n  var create = Object.create ? function (proto, c) {\n    return Object.create(proto, {\n      constructor: {\n        value: c\n      }\n    });\n  } : function (proto, c) {\n    function Tmp() {}\n\n    Tmp.prototype = proto;\n    var o = new Tmp();\n    o.constructor = c;\n    return o;\n  };\n  var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n\n  subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n\n  subclass.superclass = create(superclass.prototype, superclass);\n  mix(superObj, overrides);\n  mix(subclass, staticOverrides);\n  return subclass;\n};\n\nexport default extend;","import isArrayLike from './is-array-like';\n\nvar indexOf = function indexOf(arr, obj) {\n  if (!isArrayLike(arr)) {\n    return -1;\n  }\n\n  var m = Array.prototype.indexOf;\n\n  if (m) {\n    return m.call(arr, obj);\n  }\n\n  var index = -1;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i] === obj) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n};\n\nexport default indexOf;","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEmpty(value) {\n  /**\n   * isEmpty(null) => true\n   * isEmpty() => true\n   * isEmpty(true) => true\n   * isEmpty(1) => true\n   * isEmpty([1, 2, 3]) => false\n   * isEmpty('abc') => false\n   * isEmpty({ a: 1 }) => false\n   */\n  if (isNil(value)) {\n    return true;\n  }\n\n  if (isArrayLike(value)) {\n    return !value.length;\n  }\n\n  var type = getType(value);\n\n  if (type === 'Map' || type === 'Set') {\n    return !value.size;\n  }\n\n  if (isPrototype(value)) {\n    return !Object.keys(value).length;\n  }\n\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEmpty;","import isObjectLike from './is-object-like';\nimport isArrayLike from './is-array-like';\nimport isString from './is-string';\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  if (!value || !other) {\n    return false;\n  }\n\n  if (isString(value) || isString(other)) {\n    return false;\n  }\n\n  if (isArrayLike(value) || isArrayLike(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  if (isObjectLike(value) || isObjectLike(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < valueKeys.length; i++) {\n      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  return false;\n};\n\nexport default isEqual;","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\n\nexport default (function (value, other, fn) {\n  if (!isFunction(fn)) {\n    return isEqual(value, other);\n  }\n\n  return !!fn(value, other);\n});","import isArrayLike from './is-array-like';\n\nvar map = function map(arr, func) {\n  if (!isArrayLike(arr)) {\n    // @ts-ignore\n    return arr;\n  }\n\n  var result = [];\n\n  for (var index = 0; index < arr.length; index++) {\n    var value = arr[index];\n    result.push(func(value, index));\n  }\n\n  return result;\n};\n\nexport default map;","import isNil from './is-nil';\nimport isObject from './is-object';\n\nvar identity = function identity(v) {\n  return v;\n};\n\nexport default (function (object, func) {\n  if (func === void 0) {\n    func = identity;\n  }\n\n  var r = {};\n\n  if (isObject(object) && !isNil(object)) {\n    Object.keys(object).forEach(function (key) {\n      // @ts-ignore\n      r[key] = func(object[key], key);\n    });\n  }\n\n  return r;\n});","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\n\nexport default (function (obj, key, defaultValue) {\n  var p = 0;\n  var keyArr = isString(key) ? key.split('.') : key;\n\n  while (obj && p < keyArr.length) {\n    obj = obj[keyArr[p++]];\n  }\n\n  return obj === undefined || p < keyArr.length ? defaultValue : obj;\n});","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\n\nexport default (function (obj, path, value) {\n  var o = obj;\n  var keyArr = isString(path) ? path.split('.') : path;\n  keyArr.forEach(function (key, idx) {\n    // 不是最后一个\n    if (idx < keyArr.length - 1) {\n      if (!isObject(o[key])) {\n        o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n      }\n\n      o = o[key];\n    } else {\n      o[key] = value;\n    }\n  });\n  return obj;\n});","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n  if (object === null || !isPlainObject(object)) {\n    return {};\n  }\n\n  var result = {};\n  each(keys, function (key) {\n    if (hasOwnProperty.call(object, key)) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n});","export default (function (func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function throttled() {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n});","import isArrayLike from './is-array-like';\nexport default (function (value) {\n  return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});","var map = {};\nexport default (function (prefix) {\n  prefix = prefix || 'g';\n\n  if (!map[prefix]) {\n    map[prefix] = 1;\n  } else {\n    map[prefix] += 1;\n  }\n\n  return prefix + map[prefix];\n});","export default (function () {});","export default (function (v) {\n  return v;\n});","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n  if (isNil(o)) {\n    return 0;\n  }\n\n  if (isArraylike(o)) {\n    return o.length;\n  }\n\n  return Object.keys(o).length;\n}","/**\n * k-v 存储\n */\nvar default_1 =\n/** @class */\nfunction () {\n  function default_1() {\n    this.map = {};\n  }\n\n  default_1.prototype.has = function (key) {\n    return this.map[key] !== undefined;\n  };\n\n  default_1.prototype.get = function (key, def) {\n    var v = this.map[key];\n    return v === undefined ? def : v;\n  };\n\n  default_1.prototype.set = function (key, value) {\n    this.map[key] = value;\n  };\n\n  default_1.prototype.clear = function () {\n    this.map = {};\n  };\n\n  default_1.prototype.delete = function (key) {\n    delete this.map[key];\n  };\n\n  default_1.prototype.size = function () {\n    return Object.keys(this.map).length;\n  };\n\n  return default_1;\n}();\n\nexport default default_1;","// array\nexport { default as contains, default as includes } from './contains';\nexport { default as difference } from './difference';\nexport { default as find } from './find';\nexport { default as findIndex } from './find-index';\nexport { default as firstValue } from './first-value';\nexport { default as flatten } from './flatten';\nexport { default as flattenDeep } from './flatten-deep';\nexport { default as getRange } from './get-range';\nexport { default as pull } from './pull';\nexport { default as pullAt } from './pull-at';\nexport { default as reduce } from './reduce';\nexport { default as remove } from './remove';\nexport { default as sortBy } from './sort-by';\nexport { default as union } from './union';\nexport { default as uniq } from './uniq';\nexport { default as valuesOfKey } from './values-of-key';\nexport { default as head } from './head';\nexport { default as last } from './last';\nexport { default as startsWith } from './starts-with';\nexport { default as endsWith } from './ends-with';\nexport { default as filter } from './filter';\nexport { default as every } from './every';\nexport { default as some } from './some';\nexport { default as group } from './group';\nexport { default as groupBy } from './group-by';\nexport { default as groupToMap } from './group-to-map'; // event\n\nexport { default as getWrapBehavior } from './get-wrap-behavior';\nexport { default as wrapBehavior } from './wrap-behavior'; // format\n\nexport { default as number2color } from './number2color';\nexport { default as parseRadius } from './parse-radius'; // math\n\nexport { default as clamp } from './clamp';\nexport { default as fixedBase } from './fixed-base';\nexport { default as isDecimal } from './is-decimal';\nexport { default as isEven } from './is-even';\nexport { default as isInteger } from './is-integer';\nexport { default as isNegative } from './is-negative';\nexport { default as isNumberEqual } from './is-number-equal';\nexport { default as isOdd } from './is-odd';\nexport { default as isPositive } from './is-positive';\nexport { default as maxBy } from './max-by';\nexport { default as minBy } from './min-by';\nexport { default as mod } from './mod';\nexport { default as toDegree } from './to-degree';\nexport { default as toInteger } from './to-integer';\nexport { default as toRadian } from './to-radian'; // object\n\nexport { default as forIn } from './for-in';\nexport { default as has } from './has';\nexport { default as hasKey } from './has-key';\nexport { default as hasValue } from './has-value';\nexport { default as keys } from './keys';\nexport { default as isMatch } from './is-match';\nexport { default as values } from './values'; // string\n\nexport { default as lowerCase } from './lower-case';\nexport { default as lowerFirst } from './lower-first';\nexport { default as substitute } from './substitute';\nexport { default as upperCase } from './upper-case';\nexport { default as upperFirst } from './upper-first'; // type\n\nexport { default as getType } from './get-type';\nexport { default as isArguments } from './is-arguments';\nexport { default as isArray } from './is-array';\nexport { default as isArrayLike } from './is-array-like';\nexport { default as isBoolean } from './is-boolean';\nexport { default as isDate } from './is-date';\nexport { default as isError } from './is-error';\nexport { default as isFunction } from './is-function';\nexport { default as isFinite } from './is-finite';\nexport { default as isNil } from './is-nil';\nexport { default as isNull } from './is-null';\nexport { default as isNumber } from './is-number';\nexport { default as isObject } from './is-object';\nexport { default as isObjectLike } from './is-object-like';\nexport { default as isPlainObject } from './is-plain-object';\nexport { default as isPrototype } from './is-prototype';\nexport { default as isRegExp } from './is-reg-exp';\nexport { default as isString } from './is-string';\nexport { default as isType } from './is-type';\nexport { default as isUndefined } from './is-undefined';\nexport { default as isElement } from './is-element';\nexport { default as requestAnimationFrame } from './request-animation-frame';\nexport { default as clearAnimationFrame } from './clear-animation-frame'; // other\n\nexport { default as augment } from './augment';\nexport { default as clone } from './clone';\nexport { default as debounce } from './debounce';\nexport { default as memoize } from './memoize';\nexport { default as deepMix } from './deep-mix';\nexport { default as each } from './each';\nexport { default as extend } from './extend';\nexport { default as indexOf } from './index-of';\nexport { default as isEmpty } from './is-empty';\nexport { default as isEqual } from './is-equal';\nexport { default as isEqualWith } from './is-equal-with';\nexport { default as map } from './map';\nexport { default as mapValues } from './map-values';\nexport { default as mix, default as assign } from './mix';\nexport { default as get } from './get';\nexport { default as set } from './set';\nexport { default as pick } from './pick';\nexport { default as throttle } from './throttle';\nexport { default as toArray } from './to-array';\nexport { default as toString } from './to-string';\nexport { default as uniqueId } from './unique-id';\nexport { default as noop } from './noop';\nexport { default as identity } from './identity';\nexport { default as size } from './size'; // 不知道为什么，需要把这个 export，不然 ts 会报类型错误\n\nexport { default as Cache } from './cache';","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport function __createBinding(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n}\nexport function __exportStar(m, exports) {\n  for (var p in m) {\n    if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n;\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result.default = mod;\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  privateMap.set(receiver, value);\n  return value;\n}","!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.G = e() : t.G = e();\n}(window, function () {\n  return function (t) {\n    var e = {};\n\n    function n(r) {\n      if (e[r]) return e[r].exports;\n      var i = e[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = t, n.c = e, n.d = function (t, e, r) {\n      n.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (t, e) {\n      if (1 & e && (t = n(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var i in t) {\n        n.d(r, i, function (e) {\n          return t[e];\n        }.bind(null, i));\n      }\n      return r;\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return n.d(e, \"a\", e), e;\n    }, n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.p = \"\", n(n.s = 21);\n  }([function (t, e, n) {\n    var r;\n    r = function r() {\n      return function (t) {\n        var e = {};\n\n        function n(r) {\n          if (e[r]) return e[r].exports;\n          var i = e[r] = {\n            i: r,\n            l: !1,\n            exports: {}\n          };\n          return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n        }\n\n        return n.m = t, n.c = e, n.d = function (t, e, r) {\n          n.o(t, e) || Object.defineProperty(t, e, {\n            configurable: !1,\n            enumerable: !0,\n            get: r\n          });\n        }, n.n = function (t) {\n          var e = t && t.__esModule ? function () {\n            return t.default;\n          } : function () {\n            return t;\n          };\n          return n.d(e, \"a\", e), e;\n        }, n.o = function (t, e) {\n          return Object.prototype.hasOwnProperty.call(t, e);\n        }, n.p = \"\", n(n.s = 40);\n      }([function (t, e, n) {\n        var r = n(16),\n            i = n(1);\n\n        t.exports = function (t, e) {\n          if (t) if (i(t)) for (var n = 0, a = t.length; n < a && !1 !== e(t[n], n); n++) {\n            ;\n          } else if (r(t)) for (var o in t) {\n            if (t.hasOwnProperty(o) && !1 === e(t[o], o)) break;\n          }\n        };\n      }, function (t, e, n) {\n        var r = n(2),\n            i = Array.isArray ? Array.isArray : function (t) {\n          return r(t, \"Array\");\n        };\n        t.exports = i;\n      }, function (t, e) {\n        var n = {}.toString;\n\n        t.exports = function (t, e) {\n          return n.call(t) === \"[object \" + e + \"]\";\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Function\");\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null !== t && \"function\" != typeof t && isFinite(t.length);\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null == t;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Number\");\n        };\n      }, function (t, e, n) {\n        var r = n(13),\n            i = n(2);\n\n        t.exports = function (t) {\n          if (!r(t) || !i(t, \"Object\")) return !1;\n          if (null === Object.getPrototypeOf(t)) return !0;\n\n          for (var e = t; null !== Object.getPrototypeOf(e);) {\n            e = Object.getPrototypeOf(e);\n          }\n\n          return Object.getPrototypeOf(t) === e;\n        };\n      }, function (t, e, n) {\n        var r = n(5);\n\n        t.exports = function (t) {\n          return r(t) ? \"\" : t.toString();\n        };\n      }, function (t, e, n) {\n        var r = n(4),\n            i = Array.prototype.indexOf;\n\n        t.exports = function (t, e) {\n          return !!r(t) && i.call(t, e) > -1;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"String\");\n        };\n      }, function (t, e) {\n        function n(t, e) {\n          for (var n in e) {\n            e.hasOwnProperty(n) && \"constructor\" !== n && void 0 !== e[n] && (t[n] = e[n]);\n          }\n        }\n\n        t.exports = function (t, e, r, i) {\n          return e && n(t, e), r && n(t, r), i && n(t, i), t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(4);\n\n        t.exports = function (t, e) {\n          if (!i(t)) return t;\n          var n = [];\n          return r(t, function (t, r) {\n            e(t, r) && n.push(t);\n          }), n;\n        };\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        };\n\n        t.exports = function (t) {\n          return \"object\" === (void 0 === t ? \"undefined\" : n(t)) && null !== t;\n        };\n      }, function (t, e, n) {\n        var r = n(4);\n\n        t.exports = function (t) {\n          return r(t) ? Array.prototype.slice.call(t) : [];\n        };\n      }, function (t, e) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.setMatrixArrayType = function (t) {\n          e.ARRAY_TYPE = t;\n        }, e.toRadian = function (t) {\n          return t * r;\n        }, e.equals = function (t, e) {\n          return Math.abs(t - e) <= n * Math.max(1, Math.abs(t), Math.abs(e));\n        };\n        var n = e.EPSILON = 1e-6;\n        e.ARRAY_TYPE = \"undefined\" != typeof Float32Array ? Float32Array : Array, e.RANDOM = Math.random;\n        var r = Math.PI / 180;\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        };\n\n        t.exports = function (t) {\n          var e = void 0 === t ? \"undefined\" : n(t);\n          return null !== t && \"object\" === e || \"function\" === e;\n        };\n      }, function (t, e, n) {\n        var r = n(18),\n            i = n(5);\n\n        t.exports = function (t, e) {\n          var n = r(e),\n              a = n.length;\n          if (i(t)) return !a;\n\n          for (var o = 0; o < a; o += 1) {\n            var s = n[o];\n            if (e[s] !== t[s] || !(s in t)) return !1;\n          }\n\n          return !0;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(3),\n            a = Object.keys ? function (t) {\n          return Object.keys(t);\n        } : function (t) {\n          var e = [];\n          return r(t, function (n, r) {\n            i(t) && \"prototype\" === r || e.push(r);\n          }), e;\n        };\n        t.exports = a;\n      }, function (t, e, n) {\n        var r = n(4),\n            i = Array.prototype.splice;\n\n        t.exports = function (t, e) {\n          if (!r(t)) return [];\n\n          for (var n = t ? e.length : 0, a = n - 1; n--;) {\n            var o = void 0,\n                s = e[n];\n            n !== a && s === o || (o = s, i.call(t, s, 1));\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(9);\n\n        t.exports = function (t) {\n          var e = [];\n          return r(t, function (t) {\n            i(e, t) || e.push(t);\n          }), e;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          return t < e ? e : t > n ? n : t;\n        };\n      }, function (t, e) {\n        t.exports = parseInt;\n      }, function (t, e, n) {\n        var r = n(89);\n        r.translate = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromTranslation(i, n), r.multiply(t, i, e);\n        }, r.rotate = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromRotation(i, n), r.multiply(t, i, e);\n        }, r.scale = function (t, e, n) {\n          var i = new Array(9);\n          return r.fromScaling(i, n), r.multiply(t, i, e);\n        }, t.exports = r;\n      }, function (t, e, n) {\n        var r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        },\n            i = n(1);\n\n        t.exports = function t(e) {\n          if (\"object\" !== (void 0 === e ? \"undefined\" : r(e)) || null === e) return e;\n          var n = void 0;\n\n          if (i(e)) {\n            n = [];\n\n            for (var a = 0, o = e.length; a < o; a++) {\n              \"object\" === r(e[a]) && null != e[a] ? n[a] = t(e[a]) : n[a] = e[a];\n            }\n          } else for (var s in n = {}, e) {\n            \"object\" === r(e[s]) && null != e[s] ? n[s] = t(e[s]) : n[s] = e[s];\n          }\n\n          return n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t.hasOwnProperty(e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(3),\n            a = Object.values ? function (t) {\n          return Object.values(t);\n        } : function (t) {\n          var e = [];\n          return r(t, function (n, r) {\n            i(t) && \"prototype\" === r || e.push(n);\n          }), e;\n        };\n        t.exports = a;\n      }, function (t, e, n) {\n        var r = n(28);\n\n        t.exports = function (t, e, n, i, a) {\n          if (a) return [[\"M\", +t + +a, e], [\"l\", n - 2 * a, 0], [\"a\", a, a, 0, 0, 1, a, a], [\"l\", 0, i - 2 * a], [\"a\", a, a, 0, 0, 1, -a, a], [\"l\", 2 * a - n, 0], [\"a\", a, a, 0, 0, 1, -a, -a], [\"l\", 0, 2 * a - i], [\"a\", a, a, 0, 0, 1, a, -a], [\"z\"]];\n          var o = [[\"M\", t, e], [\"l\", n, 0], [\"l\", 0, i], [\"l\", -n, 0], [\"z\"]];\n          return o.parsePathArray = r, o;\n        };\n      }, function (t, e) {\n        var n = /,?([a-z]),?/gi;\n\n        t.exports = function (t) {\n          return t.join(\",\").replace(n, \"$1\");\n        };\n      }, function (t, e, n) {\n        var r = n(30),\n            i = function t(e, n, r, i, a, o, s, u, c, l) {\n          r === i && (r += 1);\n\n          var h = 120 * Math.PI / 180,\n              f = Math.PI / 180 * (+a || 0),\n              p = [],\n              d = void 0,\n              v = void 0,\n              y = void 0,\n              g = void 0,\n              x = void 0,\n              m = function m(t, e, n) {\n            return {\n              x: t * Math.cos(n) - e * Math.sin(n),\n              y: t * Math.sin(n) + e * Math.cos(n)\n            };\n          };\n\n          if (l) v = l[0], y = l[1], g = l[2], x = l[3];else {\n            e = (d = m(e, n, -f)).x, n = d.y, u = (d = m(u, c, -f)).x, c = d.y, e === u && n === c && (u += 1, c += 1);\n            var b = (e - u) / 2,\n                M = (n - c) / 2,\n                w = b * b / (r * r) + M * M / (i * i);\n            w > 1 && (r *= w = Math.sqrt(w), i *= w);\n\n            var _ = r * r,\n                P = i * i,\n                A = (o === s ? -1 : 1) * Math.sqrt(Math.abs((_ * P - _ * M * M - P * b * b) / (_ * M * M + P * b * b)));\n\n            g = A * r * M / i + (e + u) / 2, x = A * -i * b / r + (n + c) / 2, v = Math.asin(((n - x) / i).toFixed(9)), y = Math.asin(((c - x) / i).toFixed(9)), v = e < g ? Math.PI - v : v, y = u < g ? Math.PI - y : y, v < 0 && (v = 2 * Math.PI + v), y < 0 && (y = 2 * Math.PI + y), s && v > y && (v -= 2 * Math.PI), !s && y > v && (y -= 2 * Math.PI);\n          }\n          var S = y - v;\n\n          if (Math.abs(S) > h) {\n            var k = y,\n                O = u,\n                T = c;\n            y = v + h * (s && y > v ? 1 : -1), p = t(u = g + r * Math.cos(y), c = x + i * Math.sin(y), r, i, a, 0, s, O, T, [y, k, g, x]);\n          }\n\n          S = y - v;\n          var I = Math.cos(v),\n              C = Math.sin(v),\n              E = Math.cos(y),\n              j = Math.sin(y),\n              N = Math.tan(S / 4),\n              L = 4 / 3 * r * N,\n              B = 4 / 3 * i * N,\n              q = [e, n],\n              R = [e + L * C, n - B * I],\n              F = [u + L * j, c - B * E],\n              D = [u, c];\n          if (R[0] = 2 * q[0] - R[0], R[1] = 2 * q[1] - R[1], l) return [R, F, D].concat(p);\n\n          for (var W = [], Y = 0, H = (p = [R, F, D].concat(p).join().split(\",\")).length; Y < H; Y++) {\n            W[Y] = Y % 2 ? m(p[Y - 1], p[Y], f).y : m(p[Y], p[Y + 1], f).x;\n          }\n\n          return W;\n        },\n            a = function a(t, e, n, r) {\n          return [t, e, n, r, n, r];\n        },\n            o = function o(t, e, n, r, i, a) {\n          return [1 / 3 * t + 2 / 3 * n, 1 / 3 * e + 2 / 3 * r, 1 / 3 * i + 2 / 3 * n, 1 / 3 * a + 2 / 3 * r, i, a];\n        };\n\n        t.exports = function (t, e) {\n          var n = r(t),\n              s = e && r(e),\n              u = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n          },\n              c = {\n            x: 0,\n            y: 0,\n            bx: 0,\n            by: 0,\n            X: 0,\n            Y: 0,\n            qx: null,\n            qy: null\n          },\n              l = [],\n              h = [],\n              f = \"\",\n              p = \"\",\n              d = void 0,\n              v = function v(t, e, n) {\n            var r = void 0,\n                s = void 0;\n            if (!t) return [\"C\", e.x, e.y, e.x, e.y, e.x, e.y];\n\n            switch (!(t[0] in {\n              T: 1,\n              Q: 1\n            }) && (e.qx = e.qy = null), t[0]) {\n              case \"M\":\n                e.X = t[1], e.Y = t[2];\n                break;\n\n              case \"A\":\n                t = [\"C\"].concat(i.apply(0, [e.x, e.y].concat(t.slice(1))));\n                break;\n\n              case \"S\":\n                \"C\" === n || \"S\" === n ? (r = 2 * e.x - e.bx, s = 2 * e.y - e.by) : (r = e.x, s = e.y), t = [\"C\", r, s].concat(t.slice(1));\n                break;\n\n              case \"T\":\n                \"Q\" === n || \"T\" === n ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = [\"C\"].concat(o(e.x, e.y, e.qx, e.qy, t[1], t[2]));\n                break;\n\n              case \"Q\":\n                e.qx = t[1], e.qy = t[2], t = [\"C\"].concat(o(e.x, e.y, t[1], t[2], t[3], t[4]));\n                break;\n\n              case \"L\":\n                t = [\"C\"].concat(a(e.x, e.y, t[1], t[2]));\n                break;\n\n              case \"H\":\n                t = [\"C\"].concat(a(e.x, e.y, t[1], e.y));\n                break;\n\n              case \"V\":\n                t = [\"C\"].concat(a(e.x, e.y, e.x, t[1]));\n                break;\n\n              case \"Z\":\n                t = [\"C\"].concat(a(e.x, e.y, e.X, e.Y));\n            }\n\n            return t;\n          },\n              y = function y(t, e) {\n            if (t[e].length > 7) {\n              t[e].shift();\n\n              for (var r = t[e]; r.length;) {\n                l[e] = \"A\", s && (h[e] = \"A\"), t.splice(e++, 0, [\"C\"].concat(r.splice(0, 6)));\n              }\n\n              t.splice(e, 1), d = Math.max(n.length, s && s.length || 0);\n            }\n          },\n              g = function g(t, e, r, i, a) {\n            t && e && \"M\" === t[a][0] && \"M\" !== e[a][0] && (e.splice(a, 0, [\"M\", i.x, i.y]), r.bx = 0, r.by = 0, r.x = t[a][1], r.y = t[a][2], d = Math.max(n.length, s && s.length || 0));\n          };\n\n          d = Math.max(n.length, s && s.length || 0);\n\n          for (var x = 0; x < d; x++) {\n            n[x] && (f = n[x][0]), \"C\" !== f && (l[x] = f, x && (p = l[x - 1])), n[x] = v(n[x], u, p), \"A\" !== l[x] && \"C\" === f && (l[x] = \"C\"), y(n, x), s && (s[x] && (f = s[x][0]), \"C\" !== f && (h[x] = f, x && (p = h[x - 1])), s[x] = v(s[x], c, p), \"A\" !== h[x] && \"C\" === f && (h[x] = \"C\"), y(s, x)), g(n, s, u, c, x), g(s, n, c, u, x);\n            var m = n[x],\n                b = s && s[x],\n                M = m.length,\n                w = s && b.length;\n            u.x = m[M - 2], u.y = m[M - 1], u.bx = parseFloat(m[M - 4]) || u.x, u.by = parseFloat(m[M - 3]) || u.y, c.bx = s && (parseFloat(b[w - 4]) || c.x), c.by = s && (parseFloat(b[w - 3]) || c.y), c.x = s && b[w - 2], c.y = s && b[w - 1];\n          }\n\n          return s ? [n, s] : n;\n        };\n      }, function (t, e, n) {\n        var r = n(31),\n            i = n(32);\n\n        function a(t, e, n, r, i) {\n          var a = [];\n\n          if (null === i && null === r && (r = n), t = +t, e = +e, n = +n, r = +r, null !== i) {\n            var o = Math.PI / 180,\n                s = t + n * Math.cos(-r * o),\n                u = t + n * Math.cos(-i * o);\n            a = [[\"M\", s, e + n * Math.sin(-r * o)], [\"A\", n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * o)]];\n          } else a = [[\"M\", t, e], [\"m\", 0, -r], [\"a\", n, r, 0, 1, 1, 0, 2 * r], [\"a\", n, r, 0, 1, 1, 0, -2 * r], [\"z\"]];\n\n          return a;\n        }\n\n        t.exports = function (t) {\n          if (!(t = r(t)) || !t.length) return [[\"M\", 0, 0]];\n          var e = [],\n              n = 0,\n              o = 0,\n              s = 0,\n              u = 0,\n              c = 0,\n              l = void 0,\n              h = void 0;\n          \"M\" === t[0][0] && (s = n = +t[0][1], u = o = +t[0][2], c++, e[0] = [\"M\", n, o]);\n\n          for (var f, p, d = 3 === t.length && \"M\" === t[0][0] && \"R\" === t[1][0].toUpperCase() && \"Z\" === t[2][0].toUpperCase(), v = c, y = t.length; v < y; v++) {\n            if (e.push(f = []), (l = (p = t[v])[0]) !== l.toUpperCase()) switch (f[0] = l.toUpperCase(), f[0]) {\n              case \"A\":\n                f[1] = p[1], f[2] = p[2], f[3] = p[3], f[4] = p[4], f[5] = p[5], f[6] = +p[6] + n, f[7] = +p[7] + o;\n                break;\n\n              case \"V\":\n                f[1] = +p[1] + o;\n                break;\n\n              case \"H\":\n                f[1] = +p[1] + n;\n                break;\n\n              case \"R\":\n                for (var g = 2, x = (h = [n, o].concat(p.slice(1))).length; g < x; g++) {\n                  h[g] = +h[g] + n, h[++g] = +h[g] + o;\n                }\n\n                e.pop(), e = e.concat(i(h, d));\n                break;\n\n              case \"O\":\n                e.pop(), (h = a(n, o, p[1], p[2])).push(h[0]), e = e.concat(h);\n                break;\n\n              case \"U\":\n                e.pop(), e = e.concat(a(n, o, p[1], p[2], p[3])), f = [\"U\"].concat(e[e.length - 1].slice(-2));\n                break;\n\n              case \"M\":\n                s = +p[1] + n, u = +p[2] + o;\n                break;\n\n              default:\n                for (var m = 1, b = p.length; m < b; m++) {\n                  f[m] = +p[m] + (m % 2 ? n : o);\n                }\n\n            } else if (\"R\" === l) h = [n, o].concat(p.slice(1)), e.pop(), e = e.concat(i(h, d)), f = [\"R\"].concat(p.slice(-2));else if (\"O\" === l) e.pop(), (h = a(n, o, p[1], p[2])).push(h[0]), e = e.concat(h);else if (\"U\" === l) e.pop(), e = e.concat(a(n, o, p[1], p[2], p[3])), f = [\"U\"].concat(e[e.length - 1].slice(-2));else for (var M = 0, w = p.length; M < w; M++) {\n              f[M] = p[M];\n            }\n            if (\"O\" !== (l = l.toUpperCase())) switch (f[0]) {\n              case \"Z\":\n                n = +s, o = +u;\n                break;\n\n              case \"H\":\n                n = f[1];\n                break;\n\n              case \"V\":\n                o = f[1];\n                break;\n\n              case \"M\":\n                s = f[f.length - 2], u = f[f.length - 1];\n                break;\n\n              default:\n                n = f[f.length - 2], o = f[f.length - 1];\n            }\n          }\n\n          return e;\n        };\n      }, function (t, e) {\n        var n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        },\n            r = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\",\n            i = new RegExp(\"([a-z])[\" + r + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + r + \"]*,?[\" + r + \"]*)+)\", \"ig\"),\n            a = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + r + \"]*,?[\" + r + \"]*\", \"ig\");\n\n        t.exports = function (t) {\n          if (!t) return null;\n          if ((void 0 === t ? \"undefined\" : n(t)) === n([])) return t;\n          var e = {\n            a: 7,\n            c: 6,\n            o: 2,\n            h: 1,\n            l: 2,\n            m: 2,\n            r: 4,\n            q: 4,\n            s: 4,\n            t: 2,\n            v: 1,\n            u: 3,\n            z: 0\n          },\n              r = [];\n          return String(t).replace(i, function (t, n, i) {\n            var o = [],\n                s = n.toLowerCase();\n            if (i.replace(a, function (t, e) {\n              e && o.push(+e);\n            }), \"m\" === s && o.length > 2 && (r.push([n].concat(o.splice(0, 2))), s = \"l\", n = \"m\" === n ? \"l\" : \"L\"), \"o\" === s && 1 === o.length && r.push([n, o[0]]), \"r\" === s) r.push([n].concat(o));else for (; o.length >= e[s] && (r.push([n].concat(o.splice(0, e[s]))), e[s]);) {\n              ;\n            }\n          }), r;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {\n            var a = [{\n              x: +t[r - 2],\n              y: +t[r - 1]\n            }, {\n              x: +t[r],\n              y: +t[r + 1]\n            }, {\n              x: +t[r + 2],\n              y: +t[r + 3]\n            }, {\n              x: +t[r + 4],\n              y: +t[r + 5]\n            }];\n            e ? r ? i - 4 === r ? a[3] = {\n              x: +t[0],\n              y: +t[1]\n            } : i - 2 === r && (a[2] = {\n              x: +t[0],\n              y: +t[1]\n            }, a[3] = {\n              x: +t[2],\n              y: +t[3]\n            }) : a[0] = {\n              x: +t[i - 2],\n              y: +t[i - 1]\n            } : i - 4 === r ? a[3] = a[2] : r || (a[0] = {\n              x: +t[r],\n              y: +t[r + 1]\n            }), n.push([\"C\", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]);\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          return r(t).toLowerCase();\n        };\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          return r(t).toUpperCase();\n        };\n      }, function (t, e) {\n        var n = {}.toString;\n\n        t.exports = function (t) {\n          return n.call(t).replace(/^\\[object /, \"\").replace(/\\]$/, \"\");\n        };\n      }, function (t, e) {\n        var n = Object.prototype;\n\n        t.exports = function (t) {\n          var e = t && t.constructor;\n          return t === (\"function\" == typeof e && e.prototype || n);\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(1),\n            a = n(38);\n\n        t.exports = function (t, e) {\n          if (!e) return {\n            0: t\n          };\n\n          if (!r(e)) {\n            var n = i(e) ? e : e.replace(/\\s+/g, \"\").split(\"*\");\n\n            e = function e(t) {\n              for (var e = \"_\", r = 0, i = n.length; r < i; r++) {\n                e += t[n[r]] && t[n[r]].toString();\n              }\n\n              return e;\n            };\n          }\n\n          return a(t, e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(1),\n            a = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t, e) {\n          if (!e || !i(t)) return t;\n          var n = {},\n              o = null;\n          return r(t, function (t) {\n            o = e(t), a.call(n, o) ? n[o].push(t) : n[o] = [t];\n          }), n;\n        };\n      }, function (t, e, n) {\n        var r = n(13),\n            i = n(4),\n            a = n(10);\n\n        t.exports = function t(e, n) {\n          if (e === n) return !0;\n          if (!e || !n) return !1;\n          if (a(e) || a(n)) return !1;\n\n          if (i(e) || i(n)) {\n            if (e.length !== n.length) return !1;\n\n            for (var o = !0, s = 0; s < e.length && (o = t(e[s], n[s])); s++) {\n              ;\n            }\n\n            return o;\n          }\n\n          if (r(e) || r(n)) {\n            var u = Object.keys(e),\n                c = Object.keys(n);\n            if (u.length !== c.length) return !1;\n\n            for (var l = !0, h = 0; h < u.length && (l = t(e[u[h]], n[u[h]])); h++) {\n              ;\n            }\n\n            return l;\n          }\n\n          return !1;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(11),\n            a = n(41),\n            o = n(53),\n            s = n(67),\n            u = n(70),\n            c = n(74),\n            l = n(88),\n            h = n(95),\n            f = n(99),\n            p = n(105),\n            d = n(111),\n            v = {\n          DOMUtil: a,\n          DomUtil: a,\n          MatrixUtil: l,\n          PathUtil: f,\n          arrayUtil: o,\n          domUtil: a,\n          eventUtil: s,\n          formatUtil: u,\n          mathUtil: c,\n          matrixUtil: l,\n          objectUtil: h,\n          stringUtil: p,\n          pathUtil: f,\n          typeUtil: d,\n          augment: n(119),\n          clone: n(24),\n          debounce: n(120),\n          deepMix: n(121),\n          each: r,\n          extend: n(122),\n          filter: n(12),\n          group: n(123),\n          groupBy: n(38),\n          groupToMap: n(37),\n          indexOf: n(124),\n          isEmpty: n(125),\n          isEqual: n(39),\n          isEqualWith: n(126),\n          map: n(127),\n          mix: i,\n          pick: n(128),\n          throttle: n(129),\n          toArray: n(14),\n          toString: n(8),\n          uniqueId: n(130)\n        };\n        r([a, o, s, u, c, l, h, f, p, d], function (t) {\n          i(v, t);\n        }), t.exports = v;\n      }, function (t, e, n) {\n        t.exports = {\n          addEventListener: n(42),\n          createDom: n(43),\n          getBoundingClientRect: n(44),\n          getHeight: n(45),\n          getOuterHeight: n(46),\n          getOuterWidth: n(47),\n          getRatio: n(48),\n          getStyle: n(49),\n          getWidth: n(50),\n          modifyCSS: n(51),\n          requestAnimationFrame: n(52)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          if (t) {\n            if (t.addEventListener) return t.addEventListener(e, n, !1), {\n              remove: function remove() {\n                t.removeEventListener(e, n, !1);\n              }\n            };\n            if (t.attachEvent) return t.attachEvent(\"on\" + e, n), {\n              remove: function remove() {\n                t.detachEvent(\"on\" + e, n);\n              }\n            };\n          }\n        };\n      }, function (t, e) {\n        var n = document.createElement(\"table\"),\n            r = document.createElement(\"tr\"),\n            i = /^\\s*<(\\w+|!)[^>]*>/,\n            a = {\n          tr: document.createElement(\"tbody\"),\n          tbody: n,\n          thead: n,\n          tfoot: n,\n          td: r,\n          th: r,\n          \"*\": document.createElement(\"div\")\n        };\n\n        t.exports = function (t) {\n          var e = i.test(t) && RegExp.$1;\n          e in a || (e = \"*\");\n          var n = a[e];\n          t = t.replace(/(^\\s*)|(\\s*$)/g, \"\"), n.innerHTML = \"\" + t;\n          var r = n.childNodes[0];\n          return n.removeChild(r), r;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t && t.getBoundingClientRect) {\n            var n = t.getBoundingClientRect(),\n                r = document.documentElement.clientTop,\n                i = document.documentElement.clientLeft;\n            return {\n              top: n.top - r,\n              bottom: n.bottom - r,\n              left: n.left - i,\n              right: n.right - i\n            };\n          }\n\n          return e || null;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getStyle(t, \"height\", e);\n          return \"auto\" === n && (n = t.offsetHeight), parseFloat(n);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getHeight(t, e),\n              r = parseFloat(this.getStyle(t, \"borderTopWidth\")) || 0,\n              i = parseFloat(this.getStyle(t, \"paddingTop\")) || 0,\n              a = parseFloat(this.getStyle(t, \"paddingBottom\")) || 0;\n          return n + r + (parseFloat(this.getStyle(t, \"borderBottomWidth\")) || 0) + i + a;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getWidth(t, e),\n              r = parseFloat(this.getStyle(t, \"borderLeftWidth\")) || 0,\n              i = parseFloat(this.getStyle(t, \"paddingLeft\")) || 0,\n              a = parseFloat(this.getStyle(t, \"paddingRight\")) || 0;\n          return n + r + (parseFloat(this.getStyle(t, \"borderRightWidth\")) || 0) + i + a;\n        };\n      }, function (t, e) {\n        t.exports = function () {\n          return window.devicePixelRatio ? window.devicePixelRatio : 2;\n        };\n      }, function (t, e, n) {\n        var r = n(5);\n\n        t.exports = function (t, e, n) {\n          try {\n            return window.getComputedStyle ? window.getComputedStyle(t, null)[e] : t.currentStyle[e];\n          } catch (t) {\n            return r(n) ? null : n;\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = this.getStyle(t, \"width\", e);\n          return \"auto\" === n && (n = t.offsetWidth), parseFloat(n);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t) for (var n in e) {\n            e.hasOwnProperty(n) && (t.style[n] = e[n]);\n          }\n          return t;\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return (window.requestAnimationFrame || window.webkitRequestAnimationFrame || function (t) {\n            return setTimeout(t, 16);\n          })(t);\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          contains: n(9),\n          difference: n(54),\n          find: n(55),\n          firstValue: n(56),\n          flatten: n(57),\n          flattenDeep: n(58),\n          getRange: n(59),\n          merge: n(60),\n          pull: n(61),\n          pullAt: n(19),\n          reduce: n(62),\n          remove: n(63),\n          sortBy: n(64),\n          union: n(65),\n          uniq: n(20),\n          valuesOfKey: n(66)\n        };\n      }, function (t, e, n) {\n        var r = n(12),\n            i = n(9);\n\n        t.exports = function (t) {\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          return r(t, function (t) {\n            return !i(e, t);\n          });\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(7),\n            a = n(17);\n\n        t.exports = function (t, e) {\n          var n = void 0;\n          if (r(e) && (n = e), i(e) && (n = function n(t) {\n            return a(t, e);\n          }), n) for (var o = 0; o < t.length; o += 1) {\n            if (n(t[o])) return t[o];\n          }\n          return null;\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(1);\n\n        t.exports = function (t, e) {\n          for (var n = null, a = 0; a < t.length; a++) {\n            var o = t[a][e];\n\n            if (!r(o)) {\n              n = i(o) ? o[0] : o;\n              break;\n            }\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(0);\n\n        t.exports = function (t) {\n          if (!r(t)) return t;\n          var e = [];\n          return i(t, function (t) {\n            r(t) ? i(t, function (t) {\n              e.push(t);\n            }) : e.push(t);\n          }), e;\n        };\n      }, function (t, e, n) {\n        var r = n(1);\n\n        t.exports = function t(e) {\n          var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          if (r(e)) for (var i = 0; i < e.length; i += 1) {\n            t(e[i], n);\n          } else n.push(e);\n          return n;\n        };\n      }, function (t, e, n) {\n        var r = n(12),\n            i = n(1);\n\n        t.exports = function (t) {\n          if (!(t = r(t, function (t) {\n            return !isNaN(t);\n          })).length) return {\n            min: 0,\n            max: 0\n          };\n\n          if (i(t[0])) {\n            for (var e = [], n = 0; n < t.length; n++) {\n              e = e.concat(t[n]);\n            }\n\n            t = e;\n          }\n\n          var a = Math.max.apply(null, t);\n          return {\n            min: Math.min.apply(null, t),\n            max: a\n          };\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          for (var e = [], n = 0; n < t.length; n++) {\n            e = e.concat(t[n]);\n          }\n\n          return e;\n        };\n      }, function (t, e) {\n        var n = Array.prototype,\n            r = n.splice,\n            i = n.indexOf,\n            a = n.slice;\n\n        t.exports = function (t) {\n          for (var e = a.call(arguments, 1), n = 0; n < e.length; n++) {\n            for (var o = e[n], s = -1; (s = i.call(t, o)) > -1;) {\n              r.call(t, s, 1);\n            }\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(7),\n            a = n(0);\n\n        t.exports = function (t, e, n) {\n          if (!r(t) && !i(t)) return t;\n          var o = n;\n          return a(t, function (t, n) {\n            o = e(o, t, n);\n          }), o;\n        };\n      }, function (t, e, n) {\n        var r = n(4),\n            i = n(19);\n\n        t.exports = function (t, e) {\n          var n = [];\n          if (!r(t)) return n;\n\n          for (var a = -1, o = [], s = t.length; ++a < s;) {\n            var u = t[a];\n            e(u, a, t) && (n.push(u), o.push(a));\n          }\n\n          return i(t, o), n;\n        };\n      }, function (t, e, n) {\n        var r = n(10),\n            i = n(3),\n            a = n(1);\n\n        t.exports = function (t, e) {\n          var n = void 0;\n          if (i(e)) n = function n(t, _n) {\n            return e(t) - e(_n);\n          };else {\n            var o = [];\n            r(e) ? o.push(e) : a(e) && (o = e), n = function n(t, e) {\n              for (var n = 0; n < o.length; n += 1) {\n                var r = o[n];\n                if (t[r] > e[r]) return 1;\n                if (t[r] < e[r]) return -1;\n              }\n\n              return 0;\n            };\n          }\n          return t.sort(n), t;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(14),\n            a = n(20);\n\n        t.exports = function () {\n          var t = [],\n              e = i(arguments);\n          return r(e, function (e) {\n            t = t.concat(e);\n          }), a(t);\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(1),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          for (var n = [], o = {}, s = 0; s < t.length; s++) {\n            var u = t[s][e];\n            r(u) || (i(u) || (u = [u]), a(u, function (t) {\n              o[t] || (n.push(t), o[t] = !0);\n            }));\n          }\n\n          return n;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          getWrapBehavior: n(68),\n          wrapBehavior: n(69)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t[\"_wrap_\" + e];\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          if (t[\"_wrap_\" + e]) return t[\"_wrap_\" + e];\n\n          var n = function n(_n2) {\n            t[e](_n2);\n          };\n\n          return t[\"_wrap_\" + e] = n, n;\n        };\n      }, function (t, e, n) {\n        var r = n(71);\n        t.exports = {\n          number2color: r,\n          numberToColor: r,\n          parsePath: n(72),\n          parseRadius: n(73)\n        };\n      }, function (t, e) {\n        var n = {};\n\n        t.exports = function (t) {\n          var e = n[t];\n\n          if (!e) {\n            for (var r = t.toString(16), i = r.length; i < 6; i++) {\n              r = \"0\" + r;\n            }\n\n            e = \"#\" + r, n[t] = e;\n          }\n\n          return e;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(10),\n            a = n(0),\n            o = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n            s = /[^\\s\\,]+/gi;\n\n        t.exports = function (t) {\n          return r(t = t || []) ? t : i(t) ? (t = t.match(o), a(t, function (e, n) {\n            if ((e = e.match(s))[0].length > 1) {\n              var r = e[0].charAt(0);\n              e.splice(1, 0, e[0].substr(1)), e[0] = r;\n            }\n\n            a(e, function (t, n) {\n              isNaN(t) || (e[n] = +t);\n            }), t[n] = e;\n          }), t) : void 0;\n        };\n      }, function (t, e, n) {\n        var r = n(1);\n\n        t.exports = function (t) {\n          var e = 0,\n              n = 0,\n              i = 0,\n              a = 0;\n          return r(t) ? 1 === t.length ? e = n = i = a = t[0] : 2 === t.length ? (e = i = t[0], n = a = t[1]) : 3 === t.length ? (e = t[0], n = a = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], a = t[3]) : e = n = i = a = t, {\n            r1: e,\n            r2: n,\n            r3: i,\n            r4: a\n          };\n        };\n      }, function (t, e, n) {\n        var r = n(75);\n        t.exports = {\n          clamp: n(21),\n          fixedBase: n(76),\n          isDecimal: n(77),\n          isEven: n(78),\n          isInteger: n(79),\n          isNegative: n(80),\n          isNumberEqual: r,\n          isOdd: n(81),\n          isPositive: n(82),\n          maxBy: n(83),\n          minBy: n(84),\n          mod: n(85),\n          snapEqual: r,\n          toDegree: n(86),\n          toInt: n(22),\n          toInteger: n(22),\n          toRadian: n(87)\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e-5;\n          return Math.abs(t - e) < n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          var n = e.toString(),\n              r = n.indexOf(\".\");\n          if (-1 === r) return Math.round(t);\n          var i = n.substr(r + 1).length;\n          return i > 20 && (i = 20), parseFloat(t.toFixed(i));\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 1 != 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 2 == 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6),\n            i = Number.isInteger ? Number.isInteger : function (t) {\n          return r(t) && t % 1 == 0;\n        };\n        t.exports = i;\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t < 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t % 2 != 0;\n        };\n      }, function (t, e, n) {\n        var r = n(6);\n\n        t.exports = function (t) {\n          return r(t) && t > 0;\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(3),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          if (r(t)) {\n            var n = t[0],\n                o = void 0;\n            o = i(e) ? e(t[0]) : t[0][e];\n            var s = void 0;\n            return a(t, function (t) {\n              (s = i(e) ? e(t) : t[e]) > o && (n = t, o = s);\n            }), n;\n          }\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(3),\n            a = n(0);\n\n        t.exports = function (t, e) {\n          if (r(t)) {\n            var n = t[0],\n                o = void 0;\n            o = i(e) ? e(t[0]) : t[0][e];\n            var s = void 0;\n            return a(t, function (t) {\n              (s = i(e) ? e(t) : t[e]) < o && (n = t, o = s);\n            }), n;\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return (t % e + e) % e;\n        };\n      }, function (t, e) {\n        var n = 180 / Math.PI;\n\n        t.exports = function (t) {\n          return n * t;\n        };\n      }, function (t, e) {\n        var n = Math.PI / 180;\n\n        t.exports = function (t) {\n          return n * t;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          mat3: n(23),\n          vec2: n(90),\n          vec3: n(92),\n          transform: n(94)\n        };\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.sub = e.mul = void 0, e.create = function () {\n          var t = new r.ARRAY_TYPE(9);\n          return r.ARRAY_TYPE != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[5] = 0, t[6] = 0, t[7] = 0), t[0] = 1, t[4] = 1, t[8] = 1, t;\n        }, e.fromMat4 = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[4], t[4] = e[5], t[5] = e[6], t[6] = e[8], t[7] = e[9], t[8] = e[10], t;\n        }, e.clone = function (t) {\n          var e = new r.ARRAY_TYPE(9);\n          return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e;\n        }, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[4] = e[4], t[5] = e[5], t[6] = e[6], t[7] = e[7], t[8] = e[8], t;\n        }, e.fromValues = function (t, e, n, i, a, o, s, u, c) {\n          var l = new r.ARRAY_TYPE(9);\n          return l[0] = t, l[1] = e, l[2] = n, l[3] = i, l[4] = a, l[5] = o, l[6] = s, l[7] = u, l[8] = c, l;\n        }, e.set = function (t, e, n, r, i, a, o, s, u, c) {\n          return t[0] = e, t[1] = n, t[2] = r, t[3] = i, t[4] = a, t[5] = o, t[6] = s, t[7] = u, t[8] = c, t;\n        }, e.identity = function (t) {\n          return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.transpose = function (t, e) {\n          if (t === e) {\n            var n = e[1],\n                r = e[2],\n                i = e[5];\n            t[1] = e[3], t[2] = e[6], t[3] = n, t[5] = e[7], t[6] = r, t[7] = i;\n          } else t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8];\n\n          return t;\n        }, e.invert = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8],\n              h = l * o - s * c,\n              f = -l * a + s * u,\n              p = c * a - o * u,\n              d = n * h + r * f + i * p;\n          return d ? (d = 1 / d, t[0] = h * d, t[1] = (-l * r + i * c) * d, t[2] = (s * r - i * o) * d, t[3] = f * d, t[4] = (l * n - i * u) * d, t[5] = (-s * n + i * a) * d, t[6] = p * d, t[7] = (-c * n + r * u) * d, t[8] = (o * n - r * a) * d, t) : null;\n        }, e.adjoint = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8];\n          return t[0] = o * l - s * c, t[1] = i * c - r * l, t[2] = r * s - i * o, t[3] = s * u - a * l, t[4] = n * l - i * u, t[5] = i * a - n * s, t[6] = a * c - o * u, t[7] = r * u - n * c, t[8] = n * o - r * a, t;\n        }, e.determinant = function (t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2],\n              i = t[3],\n              a = t[4],\n              o = t[5],\n              s = t[6],\n              u = t[7],\n              c = t[8];\n          return e * (c * a - o * u) + n * (-c * i + o * s) + r * (u * i - a * s);\n        }, e.multiply = i, e.translate = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = n[0],\n              p = n[1];\n          return t[0] = r, t[1] = i, t[2] = a, t[3] = o, t[4] = s, t[5] = u, t[6] = f * r + p * o + c, t[7] = f * i + p * s + l, t[8] = f * a + p * u + h, t;\n        }, e.rotate = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = Math.sin(n),\n              p = Math.cos(n);\n          return t[0] = p * r + f * o, t[1] = p * i + f * s, t[2] = p * a + f * u, t[3] = p * o - f * r, t[4] = p * s - f * i, t[5] = p * u - f * a, t[6] = c, t[7] = l, t[8] = h, t;\n        }, e.scale = function (t, e, n) {\n          var r = n[0],\n              i = n[1];\n          return t[0] = r * e[0], t[1] = r * e[1], t[2] = r * e[2], t[3] = i * e[3], t[4] = i * e[4], t[5] = i * e[5], t[6] = e[6], t[7] = e[7], t[8] = e[8], t;\n        }, e.fromTranslation = function (t, e) {\n          return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = e[0], t[7] = e[1], t[8] = 1, t;\n        }, e.fromRotation = function (t, e) {\n          var n = Math.sin(e),\n              r = Math.cos(e);\n          return t[0] = r, t[1] = n, t[2] = 0, t[3] = -n, t[4] = r, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.fromScaling = function (t, e) {\n          return t[0] = e[0], t[1] = 0, t[2] = 0, t[3] = 0, t[4] = e[1], t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t;\n        }, e.fromMat2d = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = 0, t[3] = e[2], t[4] = e[3], t[5] = 0, t[6] = e[4], t[7] = e[5], t[8] = 1, t;\n        }, e.fromQuat = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = n + n,\n              s = r + r,\n              u = i + i,\n              c = n * o,\n              l = r * o,\n              h = r * s,\n              f = i * o,\n              p = i * s,\n              d = i * u,\n              v = a * o,\n              y = a * s,\n              g = a * u;\n          return t[0] = 1 - h - d, t[3] = l - g, t[6] = f + y, t[1] = l + g, t[4] = 1 - c - d, t[7] = p - v, t[2] = f - y, t[5] = p + v, t[8] = 1 - c - h, t;\n        }, e.normalFromMat4 = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = e[3],\n              o = e[4],\n              s = e[5],\n              u = e[6],\n              c = e[7],\n              l = e[8],\n              h = e[9],\n              f = e[10],\n              p = e[11],\n              d = e[12],\n              v = e[13],\n              y = e[14],\n              g = e[15],\n              x = n * s - r * o,\n              m = n * u - i * o,\n              b = n * c - a * o,\n              M = r * u - i * s,\n              w = r * c - a * s,\n              _ = i * c - a * u,\n              P = l * v - h * d,\n              A = l * y - f * d,\n              S = l * g - p * d,\n              k = h * y - f * v,\n              O = h * g - p * v,\n              T = f * g - p * y,\n              I = x * T - m * O + b * k + M * S - w * A + _ * P;\n\n          return I ? (I = 1 / I, t[0] = (s * T - u * O + c * k) * I, t[1] = (u * S - o * T - c * A) * I, t[2] = (o * O - s * S + c * P) * I, t[3] = (i * O - r * T - a * k) * I, t[4] = (n * T - i * S + a * A) * I, t[5] = (r * S - n * O - a * P) * I, t[6] = (v * _ - y * w + g * M) * I, t[7] = (y * b - d * _ - g * m) * I, t[8] = (d * w - v * b + g * x) * I, t) : null;\n        }, e.projection = function (t, e, n) {\n          return t[0] = 2 / e, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = -2 / n, t[5] = 0, t[6] = -1, t[7] = 1, t[8] = 1, t;\n        }, e.str = function (t) {\n          return \"mat3(\" + t[0] + \", \" + t[1] + \", \" + t[2] + \", \" + t[3] + \", \" + t[4] + \", \" + t[5] + \", \" + t[6] + \", \" + t[7] + \", \" + t[8] + \")\";\n        }, e.frob = function (t) {\n          return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2) + Math.pow(t[4], 2) + Math.pow(t[5], 2) + Math.pow(t[6], 2) + Math.pow(t[7], 2) + Math.pow(t[8], 2));\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t[3] = e[3] + n[3], t[4] = e[4] + n[4], t[5] = e[5] + n[5], t[6] = e[6] + n[6], t[7] = e[7] + n[7], t[8] = e[8] + n[8], t;\n        }, e.subtract = a, e.multiplyScalar = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t[3] = e[3] * n, t[4] = e[4] * n, t[5] = e[5] * n, t[6] = e[6] * n, t[7] = e[7] * n, t[8] = e[8] * n, t;\n        }, e.multiplyScalarAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t[2] = e[2] + n[2] * r, t[3] = e[3] + n[3] * r, t[4] = e[4] + n[4] * r, t[5] = e[5] + n[5] * r, t[6] = e[6] + n[6] * r, t[7] = e[7] + n[7] * r, t[8] = e[8] + n[8] * r, t;\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1] && t[2] === e[2] && t[3] === e[3] && t[4] === e[4] && t[5] === e[5] && t[6] === e[6] && t[7] === e[7] && t[8] === e[8];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              i = t[1],\n              a = t[2],\n              o = t[3],\n              s = t[4],\n              u = t[5],\n              c = t[6],\n              l = t[7],\n              h = t[8],\n              f = e[0],\n              p = e[1],\n              d = e[2],\n              v = e[3],\n              y = e[4],\n              g = e[5],\n              x = e[6],\n              m = e[7],\n              b = e[8];\n          return Math.abs(n - f) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(f)) && Math.abs(i - p) <= r.EPSILON * Math.max(1, Math.abs(i), Math.abs(p)) && Math.abs(a - d) <= r.EPSILON * Math.max(1, Math.abs(a), Math.abs(d)) && Math.abs(o - v) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(v)) && Math.abs(s - y) <= r.EPSILON * Math.max(1, Math.abs(s), Math.abs(y)) && Math.abs(u - g) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(g)) && Math.abs(c - x) <= r.EPSILON * Math.max(1, Math.abs(c), Math.abs(x)) && Math.abs(l - m) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(m)) && Math.abs(h - b) <= r.EPSILON * Math.max(1, Math.abs(h), Math.abs(b));\n        };\n\n        var r = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function i(t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = e[3],\n              s = e[4],\n              u = e[5],\n              c = e[6],\n              l = e[7],\n              h = e[8],\n              f = n[0],\n              p = n[1],\n              d = n[2],\n              v = n[3],\n              y = n[4],\n              g = n[5],\n              x = n[6],\n              m = n[7],\n              b = n[8];\n          return t[0] = f * r + p * o + d * c, t[1] = f * i + p * s + d * l, t[2] = f * a + p * u + d * h, t[3] = v * r + y * o + g * c, t[4] = v * i + y * s + g * l, t[5] = v * a + y * u + g * h, t[6] = x * r + m * o + b * c, t[7] = x * i + m * s + b * l, t[8] = x * a + m * u + b * h, t;\n        }\n\n        function a(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t[3] = e[3] - n[3], t[4] = e[4] - n[4], t[5] = e[5] - n[5], t[6] = e[6] - n[6], t[7] = e[7] - n[7], t[8] = e[8] - n[8], t;\n        }\n\n        e.mul = i, e.sub = a;\n      }, function (t, e, n) {\n        var r = n(91),\n            i = n(21);\n        r.angle = function (t, e) {\n          var n = r.dot(t, e) / (r.length(t) * r.length(e));\n          return Math.acos(i(n, -1, 1));\n        }, r.direction = function (t, e) {\n          return t[0] * e[1] - e[0] * t[1];\n        }, r.angleTo = function (t, e, n) {\n          var i = r.angle(t, e),\n              a = r.direction(t, e) >= 0;\n          return n ? a ? 2 * Math.PI - i : i : a ? i : 2 * Math.PI - i;\n        }, r.vertical = function (t, e, n) {\n          return n ? (t[0] = e[1], t[1] = -1 * e[0]) : (t[0] = -1 * e[1], t[1] = e[0]), t;\n        }, t.exports = r;\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.forEach = e.sqrLen = e.sqrDist = e.dist = e.div = e.mul = e.sub = e.len = void 0, e.create = a, e.clone = function (t) {\n          var e = new i.ARRAY_TYPE(2);\n          return e[0] = t[0], e[1] = t[1], e;\n        }, e.fromValues = function (t, e) {\n          var n = new i.ARRAY_TYPE(2);\n          return n[0] = t, n[1] = e, n;\n        }, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t;\n        }, e.set = function (t, e, n) {\n          return t[0] = e, t[1] = n, t;\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t;\n        }, e.subtract = o, e.multiply = s, e.divide = u, e.ceil = function (t, e) {\n          return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t;\n        }, e.floor = function (t, e) {\n          return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t;\n        }, e.min = function (t, e, n) {\n          return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t;\n        }, e.max = function (t, e, n) {\n          return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t;\n        }, e.round = function (t, e) {\n          return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t;\n        }, e.scale = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t;\n        }, e.scaleAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t;\n        }, e.distance = c, e.squaredDistance = l, e.length = h, e.squaredLength = f, e.negate = function (t, e) {\n          return t[0] = -e[0], t[1] = -e[1], t;\n        }, e.inverse = function (t, e) {\n          return t[0] = 1 / e[0], t[1] = 1 / e[1], t;\n        }, e.normalize = function (t, e) {\n          var n = e[0],\n              r = e[1],\n              i = n * n + r * r;\n          return i > 0 && (i = 1 / Math.sqrt(i), t[0] = e[0] * i, t[1] = e[1] * i), t;\n        }, e.dot = function (t, e) {\n          return t[0] * e[0] + t[1] * e[1];\n        }, e.cross = function (t, e, n) {\n          var r = e[0] * n[1] - e[1] * n[0];\n          return t[0] = t[1] = 0, t[2] = r, t;\n        }, e.lerp = function (t, e, n, r) {\n          var i = e[0],\n              a = e[1];\n          return t[0] = i + r * (n[0] - i), t[1] = a + r * (n[1] - a), t;\n        }, e.random = function (t, e) {\n          e = e || 1;\n          var n = 2 * i.RANDOM() * Math.PI;\n          return t[0] = Math.cos(n) * e, t[1] = Math.sin(n) * e, t;\n        }, e.transformMat2 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[2] * i, t[1] = n[1] * r + n[3] * i, t;\n        }, e.transformMat2d = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[2] * i + n[4], t[1] = n[1] * r + n[3] * i + n[5], t;\n        }, e.transformMat3 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[3] * i + n[6], t[1] = n[1] * r + n[4] * i + n[7], t;\n        }, e.transformMat4 = function (t, e, n) {\n          var r = e[0],\n              i = e[1];\n          return t[0] = n[0] * r + n[4] * i + n[12], t[1] = n[1] * r + n[5] * i + n[13], t;\n        }, e.rotate = function (t, e, n, r) {\n          var i = e[0] - n[0],\n              a = e[1] - n[1],\n              o = Math.sin(r),\n              s = Math.cos(r);\n          return t[0] = i * s - a * o + n[0], t[1] = i * o + a * s + n[1], t;\n        }, e.angle = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              i = e[0],\n              a = e[1],\n              o = n * n + r * r;\n          o > 0 && (o = 1 / Math.sqrt(o));\n          var s = i * i + a * a;\n          s > 0 && (s = 1 / Math.sqrt(s));\n          var u = (n * i + r * a) * o * s;\n          return u > 1 ? 0 : u < -1 ? Math.PI : Math.acos(u);\n        }, e.str = function (t) {\n          return \"vec2(\" + t[0] + \", \" + t[1] + \")\";\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              a = e[0],\n              o = e[1];\n          return Math.abs(n - a) <= i.EPSILON * Math.max(1, Math.abs(n), Math.abs(a)) && Math.abs(r - o) <= i.EPSILON * Math.max(1, Math.abs(r), Math.abs(o));\n        };\n\n        var r,\n            i = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function a() {\n          var t = new i.ARRAY_TYPE(2);\n          return i.ARRAY_TYPE != Float32Array && (t[0] = 0, t[1] = 0), t;\n        }\n\n        function o(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t;\n        }\n\n        function s(t, e, n) {\n          return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t;\n        }\n\n        function u(t, e, n) {\n          return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t;\n        }\n\n        function c(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1];\n          return Math.sqrt(n * n + r * r);\n        }\n\n        function l(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1];\n          return n * n + r * r;\n        }\n\n        function h(t) {\n          var e = t[0],\n              n = t[1];\n          return Math.sqrt(e * e + n * n);\n        }\n\n        function f(t) {\n          var e = t[0],\n              n = t[1];\n          return e * e + n * n;\n        }\n\n        e.len = h, e.sub = o, e.mul = s, e.div = u, e.dist = c, e.sqrDist = l, e.sqrLen = f, e.forEach = (r = a(), function (t, e, n, i, a, o) {\n          var s = void 0,\n              u = void 0;\n\n          for (e || (e = 2), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n; s < u; s += e) {\n            r[0] = t[s], r[1] = t[s + 1], a(r, r, o), t[s] = r[0], t[s + 1] = r[1];\n          }\n\n          return t;\n        });\n      }, function (t, e, n) {\n        var r = n(93);\n        t.exports = r;\n      }, function (t, e, n) {\n        Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        }), e.forEach = e.sqrLen = e.len = e.sqrDist = e.dist = e.div = e.mul = e.sub = void 0, e.create = a, e.clone = function (t) {\n          var e = new i.ARRAY_TYPE(3);\n          return e[0] = t[0], e[1] = t[1], e[2] = t[2], e;\n        }, e.length = o, e.fromValues = s, e.copy = function (t, e) {\n          return t[0] = e[0], t[1] = e[1], t[2] = e[2], t;\n        }, e.set = function (t, e, n, r) {\n          return t[0] = e, t[1] = n, t[2] = r, t;\n        }, e.add = function (t, e, n) {\n          return t[0] = e[0] + n[0], t[1] = e[1] + n[1], t[2] = e[2] + n[2], t;\n        }, e.subtract = u, e.multiply = c, e.divide = l, e.ceil = function (t, e) {\n          return t[0] = Math.ceil(e[0]), t[1] = Math.ceil(e[1]), t[2] = Math.ceil(e[2]), t;\n        }, e.floor = function (t, e) {\n          return t[0] = Math.floor(e[0]), t[1] = Math.floor(e[1]), t[2] = Math.floor(e[2]), t;\n        }, e.min = function (t, e, n) {\n          return t[0] = Math.min(e[0], n[0]), t[1] = Math.min(e[1], n[1]), t[2] = Math.min(e[2], n[2]), t;\n        }, e.max = function (t, e, n) {\n          return t[0] = Math.max(e[0], n[0]), t[1] = Math.max(e[1], n[1]), t[2] = Math.max(e[2], n[2]), t;\n        }, e.round = function (t, e) {\n          return t[0] = Math.round(e[0]), t[1] = Math.round(e[1]), t[2] = Math.round(e[2]), t;\n        }, e.scale = function (t, e, n) {\n          return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t;\n        }, e.scaleAndAdd = function (t, e, n, r) {\n          return t[0] = e[0] + n[0] * r, t[1] = e[1] + n[1] * r, t[2] = e[2] + n[2] * r, t;\n        }, e.distance = h, e.squaredDistance = f, e.squaredLength = p, e.negate = function (t, e) {\n          return t[0] = -e[0], t[1] = -e[1], t[2] = -e[2], t;\n        }, e.inverse = function (t, e) {\n          return t[0] = 1 / e[0], t[1] = 1 / e[1], t[2] = 1 / e[2], t;\n        }, e.normalize = d, e.dot = v, e.cross = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = n[0],\n              s = n[1],\n              u = n[2];\n          return t[0] = i * u - a * s, t[1] = a * o - r * u, t[2] = r * s - i * o, t;\n        }, e.lerp = function (t, e, n, r) {\n          var i = e[0],\n              a = e[1],\n              o = e[2];\n          return t[0] = i + r * (n[0] - i), t[1] = a + r * (n[1] - a), t[2] = o + r * (n[2] - o), t;\n        }, e.hermite = function (t, e, n, r, i, a) {\n          var o = a * a,\n              s = o * (2 * a - 3) + 1,\n              u = o * (a - 2) + a,\n              c = o * (a - 1),\n              l = o * (3 - 2 * a);\n          return t[0] = e[0] * s + n[0] * u + r[0] * c + i[0] * l, t[1] = e[1] * s + n[1] * u + r[1] * c + i[1] * l, t[2] = e[2] * s + n[2] * u + r[2] * c + i[2] * l, t;\n        }, e.bezier = function (t, e, n, r, i, a) {\n          var o = 1 - a,\n              s = o * o,\n              u = a * a,\n              c = s * o,\n              l = 3 * a * s,\n              h = 3 * u * o,\n              f = u * a;\n          return t[0] = e[0] * c + n[0] * l + r[0] * h + i[0] * f, t[1] = e[1] * c + n[1] * l + r[1] * h + i[1] * f, t[2] = e[2] * c + n[2] * l + r[2] * h + i[2] * f, t;\n        }, e.random = function (t, e) {\n          e = e || 1;\n          var n = 2 * i.RANDOM() * Math.PI,\n              r = 2 * i.RANDOM() - 1,\n              a = Math.sqrt(1 - r * r) * e;\n          return t[0] = Math.cos(n) * a, t[1] = Math.sin(n) * a, t[2] = r * e, t;\n        }, e.transformMat4 = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2],\n              o = n[3] * r + n[7] * i + n[11] * a + n[15];\n          return o = o || 1, t[0] = (n[0] * r + n[4] * i + n[8] * a + n[12]) / o, t[1] = (n[1] * r + n[5] * i + n[9] * a + n[13]) / o, t[2] = (n[2] * r + n[6] * i + n[10] * a + n[14]) / o, t;\n        }, e.transformMat3 = function (t, e, n) {\n          var r = e[0],\n              i = e[1],\n              a = e[2];\n          return t[0] = r * n[0] + i * n[3] + a * n[6], t[1] = r * n[1] + i * n[4] + a * n[7], t[2] = r * n[2] + i * n[5] + a * n[8], t;\n        }, e.transformQuat = function (t, e, n) {\n          var r = n[0],\n              i = n[1],\n              a = n[2],\n              o = n[3],\n              s = e[0],\n              u = e[1],\n              c = e[2],\n              l = i * c - a * u,\n              h = a * s - r * c,\n              f = r * u - i * s,\n              p = i * f - a * h,\n              d = a * l - r * f,\n              v = r * h - i * l,\n              y = 2 * o;\n          return l *= y, h *= y, f *= y, p *= 2, d *= 2, v *= 2, t[0] = s + l + p, t[1] = u + h + d, t[2] = c + f + v, t;\n        }, e.rotateX = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[0], a[1] = i[1] * Math.cos(r) - i[2] * Math.sin(r), a[2] = i[1] * Math.sin(r) + i[2] * Math.cos(r), t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.rotateY = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[2] * Math.sin(r) + i[0] * Math.cos(r), a[1] = i[1], a[2] = i[2] * Math.cos(r) - i[0] * Math.sin(r), t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.rotateZ = function (t, e, n, r) {\n          var i = [],\n              a = [];\n          return i[0] = e[0] - n[0], i[1] = e[1] - n[1], i[2] = e[2] - n[2], a[0] = i[0] * Math.cos(r) - i[1] * Math.sin(r), a[1] = i[0] * Math.sin(r) + i[1] * Math.cos(r), a[2] = i[2], t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t;\n        }, e.angle = function (t, e) {\n          var n = s(t[0], t[1], t[2]),\n              r = s(e[0], e[1], e[2]);\n          d(n, n), d(r, r);\n          var i = v(n, r);\n          return i > 1 ? 0 : i < -1 ? Math.PI : Math.acos(i);\n        }, e.str = function (t) {\n          return \"vec3(\" + t[0] + \", \" + t[1] + \", \" + t[2] + \")\";\n        }, e.exactEquals = function (t, e) {\n          return t[0] === e[0] && t[1] === e[1] && t[2] === e[2];\n        }, e.equals = function (t, e) {\n          var n = t[0],\n              r = t[1],\n              a = t[2],\n              o = e[0],\n              s = e[1],\n              u = e[2];\n          return Math.abs(n - o) <= i.EPSILON * Math.max(1, Math.abs(n), Math.abs(o)) && Math.abs(r - s) <= i.EPSILON * Math.max(1, Math.abs(r), Math.abs(s)) && Math.abs(a - u) <= i.EPSILON * Math.max(1, Math.abs(a), Math.abs(u));\n        };\n\n        var r,\n            i = function (t) {\n          if (t && t.__esModule) return t;\n          var e = {};\n          if (null != t) for (var n in t) {\n            Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n          }\n          return e.default = t, e;\n        }(n(15));\n\n        function a() {\n          var t = new i.ARRAY_TYPE(3);\n          return i.ARRAY_TYPE != Float32Array && (t[0] = 0, t[1] = 0, t[2] = 0), t;\n        }\n\n        function o(t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2];\n          return Math.sqrt(e * e + n * n + r * r);\n        }\n\n        function s(t, e, n) {\n          var r = new i.ARRAY_TYPE(3);\n          return r[0] = t, r[1] = e, r[2] = n, r;\n        }\n\n        function u(t, e, n) {\n          return t[0] = e[0] - n[0], t[1] = e[1] - n[1], t[2] = e[2] - n[2], t;\n        }\n\n        function c(t, e, n) {\n          return t[0] = e[0] * n[0], t[1] = e[1] * n[1], t[2] = e[2] * n[2], t;\n        }\n\n        function l(t, e, n) {\n          return t[0] = e[0] / n[0], t[1] = e[1] / n[1], t[2] = e[2] / n[2], t;\n        }\n\n        function h(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1],\n              i = e[2] - t[2];\n          return Math.sqrt(n * n + r * r + i * i);\n        }\n\n        function f(t, e) {\n          var n = e[0] - t[0],\n              r = e[1] - t[1],\n              i = e[2] - t[2];\n          return n * n + r * r + i * i;\n        }\n\n        function p(t) {\n          var e = t[0],\n              n = t[1],\n              r = t[2];\n          return e * e + n * n + r * r;\n        }\n\n        function d(t, e) {\n          var n = e[0],\n              r = e[1],\n              i = e[2],\n              a = n * n + r * r + i * i;\n          return a > 0 && (a = 1 / Math.sqrt(a), t[0] = e[0] * a, t[1] = e[1] * a, t[2] = e[2] * a), t;\n        }\n\n        function v(t, e) {\n          return t[0] * e[0] + t[1] * e[1] + t[2] * e[2];\n        }\n\n        e.sub = u, e.mul = c, e.div = l, e.dist = h, e.sqrDist = f, e.len = o, e.sqrLen = p, e.forEach = (r = a(), function (t, e, n, i, a, o) {\n          var s = void 0,\n              u = void 0;\n\n          for (e || (e = 3), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n; s < u; s += e) {\n            r[0] = t[s], r[1] = t[s + 1], r[2] = t[s + 2], a(r, r, o), t[s] = r[0], t[s + 1] = r[1], t[s + 2] = r[2];\n          }\n\n          return t;\n        });\n      }, function (t, e, n) {\n        var r = n(24),\n            i = n(0),\n            a = n(23);\n\n        t.exports = function (t, e) {\n          return t = r(t), i(e, function (e) {\n            switch (e[0]) {\n              case \"t\":\n                a.translate(t, t, [e[1], e[2]]);\n                break;\n\n              case \"s\":\n                a.scale(t, t, [e[1], e[2]]);\n                break;\n\n              case \"r\":\n                a.rotate(t, t, e[1]);\n                break;\n\n              case \"m\":\n                a.multiply(t, t, e[1]);\n                break;\n\n              default:\n                return !1;\n            }\n          }), t;\n        };\n      }, function (t, e, n) {\n        t.exports = {\n          forIn: n(96),\n          has: n(25),\n          hasKey: n(97),\n          hasValue: n(98),\n          keys: n(18),\n          isMatch: n(17),\n          values: n(26)\n        };\n      }, function (t, e, n) {\n        t.exports = n(0);\n      }, function (t, e, n) {\n        t.exports = n(25);\n      }, function (t, e, n) {\n        var r = n(9),\n            i = n(26);\n\n        t.exports = function (t, e) {\n          return r(i(t), e);\n        };\n      }, function (t, e, n) {\n        var r = n(100),\n            i = n(30),\n            a = n(29),\n            o = n(32);\n        t.exports = {\n          catmullRom2Bezier: o,\n          catmullRomToBezier: o,\n          fillPath: n(101),\n          fillPathByDiff: n(102),\n          formatPath: n(104),\n          intersection: r,\n          pathIntersection: r,\n          parsePathArray: n(28),\n          parsePathString: n(31),\n          pathToAbsolute: i,\n          path2absolute: i,\n          pathTocurve: a,\n          path2curve: a,\n          rectPath: n(27)\n        };\n      }, function (t, e, n) {\n        var r = n(1),\n            i = n(27),\n            a = n(29),\n            o = function o(t, e, n, r, i) {\n          return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n        },\n            s = function s(t, e, n, r, i, a, _s, u, c) {\n          null === c && (c = 1);\n\n          for (var l = (c = c > 1 ? 1 : c < 0 ? 0 : c) / 2, h = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], f = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], p = 0, d = 0; d < 12; d++) {\n            var v = l * h[d] + l,\n                y = o(v, t, n, i, _s),\n                g = o(v, e, r, a, u),\n                x = y * y + g * g;\n            p += f[d] * Math.sqrt(x);\n          }\n\n          return l * p;\n        },\n            u = function u(t, e, n, r, i, a, o, s) {\n          for (var u = [], c = [[], []], l = void 0, h = void 0, f = void 0, p = void 0, d = 0; d < 2; ++d) {\n            if (0 === d ? (h = 6 * t - 12 * n + 6 * i, l = -3 * t + 9 * n - 9 * i + 3 * o, f = 3 * n - 3 * t) : (h = 6 * e - 12 * r + 6 * a, l = -3 * e + 9 * r - 9 * a + 3 * s, f = 3 * r - 3 * e), Math.abs(l) < 1e-12) {\n              if (Math.abs(h) < 1e-12) continue;\n              (p = -f / h) > 0 && p < 1 && u.push(p);\n            } else {\n              var v = h * h - 4 * f * l,\n                  y = Math.sqrt(v);\n\n              if (!(v < 0)) {\n                var g = (-h + y) / (2 * l);\n                g > 0 && g < 1 && u.push(g);\n                var x = (-h - y) / (2 * l);\n                x > 0 && x < 1 && u.push(x);\n              }\n            }\n          }\n\n          for (var m = u.length, b = m, M = void 0; m--;) {\n            M = 1 - (p = u[m]), c[0][m] = M * M * M * t + 3 * M * M * p * n + 3 * M * p * p * i + p * p * p * o, c[1][m] = M * M * M * e + 3 * M * M * p * r + 3 * M * p * p * a + p * p * p * s;\n          }\n\n          return c[0][b] = t, c[1][b] = e, c[0][b + 1] = o, c[1][b + 1] = s, c[0].length = c[1].length = b + 2, {\n            min: {\n              x: Math.min.apply(0, c[0]),\n              y: Math.min.apply(0, c[1])\n            },\n            max: {\n              x: Math.max.apply(0, c[0]),\n              y: Math.max.apply(0, c[1])\n            }\n          };\n        },\n            c = function c(t, e, n, r, i, a, o, s) {\n          if (!(Math.max(t, n) < Math.min(i, o) || Math.min(t, n) > Math.max(i, o) || Math.max(e, r) < Math.min(a, s) || Math.min(e, r) > Math.max(a, s))) {\n            var u = (t - n) * (a - s) - (e - r) * (i - o);\n\n            if (u) {\n              var c = ((t * r - e * n) * (i - o) - (t - n) * (i * s - a * o)) / u,\n                  l = ((t * r - e * n) * (a - s) - (e - r) * (i * s - a * o)) / u,\n                  h = +c.toFixed(2),\n                  f = +l.toFixed(2);\n              if (!(h < +Math.min(t, n).toFixed(2) || h > +Math.max(t, n).toFixed(2) || h < +Math.min(i, o).toFixed(2) || h > +Math.max(i, o).toFixed(2) || f < +Math.min(e, r).toFixed(2) || f > +Math.max(e, r).toFixed(2) || f < +Math.min(a, s).toFixed(2) || f > +Math.max(a, s).toFixed(2))) return {\n                x: c,\n                y: l\n              };\n            }\n          }\n        },\n            l = function l(t, e, n) {\n          return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;\n        },\n            h = function h(t, e, n, r) {\n          return null === t && (t = e = n = r = 0), null === e && (e = t.y, n = t.width, r = t.height, t = t.x), {\n            x: t,\n            y: e,\n            width: n,\n            w: n,\n            height: r,\n            h: r,\n            x2: t + n,\n            y2: e + r,\n            cx: t + n / 2,\n            cy: e + r / 2,\n            r1: Math.min(n, r) / 2,\n            r2: Math.max(n, r) / 2,\n            r0: Math.sqrt(n * n + r * r) / 2,\n            path: i(t, e, n, r),\n            vb: [t, e, n, r].join(\" \")\n          };\n        },\n            f = function f(t, e, n, i, a, o, s, c) {\n          r(t) || (t = [t, e, n, i, a, o, s, c]);\n          var l = u.apply(null, t);\n          return h(l.min.x, l.min.y, l.max.x - l.min.x, l.max.y - l.min.y);\n        },\n            p = function p(t, e, n, r, i, a, o, s, u) {\n          var c = 1 - u,\n              l = Math.pow(c, 3),\n              h = Math.pow(c, 2),\n              f = u * u,\n              p = f * u,\n              d = t + 2 * u * (n - t) + f * (i - 2 * n + t),\n              v = e + 2 * u * (r - e) + f * (a - 2 * r + e),\n              y = n + 2 * u * (i - n) + f * (o - 2 * i + n),\n              g = r + 2 * u * (a - r) + f * (s - 2 * a + r);\n          return {\n            x: l * t + 3 * h * u * n + 3 * c * u * u * i + p * o,\n            y: l * e + 3 * h * u * r + 3 * c * u * u * a + p * s,\n            m: {\n              x: d,\n              y: v\n            },\n            n: {\n              x: y,\n              y: g\n            },\n            start: {\n              x: c * t + u * n,\n              y: c * e + u * r\n            },\n            end: {\n              x: c * i + u * o,\n              y: c * a + u * s\n            },\n            alpha: 90 - 180 * Math.atan2(d - y, v - g) / Math.PI\n          };\n        },\n            d = function d(t, e, n) {\n          if (!function (t, e) {\n            return t = h(t), e = h(e), l(e, t.x, t.y) || l(e, t.x2, t.y) || l(e, t.x, t.y2) || l(e, t.x2, t.y2) || l(t, e.x, e.y) || l(t, e.x2, e.y) || l(t, e.x, e.y2) || l(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y);\n          }(f(t), f(e))) return n ? 0 : [];\n\n          for (var r = ~~(s.apply(0, t) / 8), i = ~~(s.apply(0, e) / 8), a = [], o = [], u = {}, d = n ? 0 : [], v = 0; v < r + 1; v++) {\n            var y = p.apply(0, t.concat(v / r));\n            a.push({\n              x: y.x,\n              y: y.y,\n              t: v / r\n            });\n          }\n\n          for (var g = 0; g < i + 1; g++) {\n            var x = p.apply(0, e.concat(g / i));\n            o.push({\n              x: x.x,\n              y: x.y,\n              t: g / i\n            });\n          }\n\n          for (var m = 0; m < r; m++) {\n            for (var b = 0; b < i; b++) {\n              var M = a[m],\n                  w = a[m + 1],\n                  _ = o[b],\n                  P = o[b + 1],\n                  A = Math.abs(w.x - M.x) < .001 ? \"y\" : \"x\",\n                  S = Math.abs(P.x - _.x) < .001 ? \"y\" : \"x\",\n                  k = c(M.x, M.y, w.x, w.y, _.x, _.y, P.x, P.y);\n\n              if (k) {\n                if (u[k.x.toFixed(4)] === k.y.toFixed(4)) continue;\n                u[k.x.toFixed(4)] = k.y.toFixed(4);\n\n                var O = M.t + Math.abs((k[A] - M[A]) / (w[A] - M[A])) * (w.t - M.t),\n                    T = _.t + Math.abs((k[S] - _[S]) / (P[S] - _[S])) * (P.t - _.t);\n\n                O >= 0 && O <= 1 && T >= 0 && T <= 1 && (n ? d++ : d.push({\n                  x: k.x,\n                  y: k.y,\n                  t1: O,\n                  t2: T\n                }));\n              }\n            }\n          }\n\n          return d;\n        };\n\n        t.exports = function (t, e) {\n          return function (t, e, n) {\n            t = a(t), e = a(e);\n\n            for (var r = void 0, i = void 0, o = void 0, s = void 0, u = void 0, c = void 0, l = void 0, h = void 0, f = void 0, p = void 0, v = n ? 0 : [], y = 0, g = t.length; y < g; y++) {\n              var x = t[y];\n              if (\"M\" === x[0]) r = u = x[1], i = c = x[2];else {\n                \"C\" === x[0] ? (f = [r, i].concat(x.slice(1)), r = f[6], i = f[7]) : (f = [r, i, r, i, u, c, u, c], r = u, i = c);\n\n                for (var m = 0, b = e.length; m < b; m++) {\n                  var M = e[m];\n                  if (\"M\" === M[0]) o = l = M[1], s = h = M[2];else {\n                    \"C\" === M[0] ? (p = [o, s].concat(M.slice(1)), o = p[6], s = p[7]) : (p = [o, s, o, s, l, h, l, h], o = l, s = h);\n                    var w = d(f, p, n);\n                    if (n) v += w;else {\n                      for (var _ = 0, P = w.length; _ < P; _++) {\n                        w[_].segment1 = y, w[_].segment2 = m, w[_].bez1 = f, w[_].bez2 = p;\n                      }\n\n                      v = v.concat(w);\n                    }\n                  }\n                }\n              }\n            }\n\n            return v;\n          }(t, e);\n        };\n      }, function (t, e) {\n        function n(t, e) {\n          var n = [],\n              r = [];\n          return t.length && function t(e, i) {\n            if (1 === e.length) n.push(e[0]), r.push(e[0]);else {\n              for (var a = [], o = 0; o < e.length - 1; o++) {\n                0 === o && n.push(e[0]), o === e.length - 2 && r.push(e[o + 1]), a[o] = [(1 - i) * e[o][0] + i * e[o + 1][0], (1 - i) * e[o][1] + i * e[o + 1][1]];\n              }\n\n              t(a, i);\n            }\n          }(t, e), {\n            left: n,\n            right: r.reverse()\n          };\n        }\n\n        function r(t, e, r) {\n          if (1 === r) return [[].concat(t)];\n          var i = [];\n          if (\"L\" === e[0] || \"C\" === e[0] || \"Q\" === e[0]) i = i.concat(function (t, e, r) {\n            var i = [[t[1], t[2]]];\n            r = r || 2;\n            var a = [];\n            \"A\" === e[0] ? (i.push(e[6]), i.push(e[7])) : \"C\" === e[0] ? (i.push([e[1], e[2]]), i.push([e[3], e[4]]), i.push([e[5], e[6]])) : \"S\" === e[0] || \"Q\" === e[0] ? (i.push([e[1], e[2]]), i.push([e[3], e[4]])) : i.push([e[1], e[2]]);\n\n            for (var o = i, s = 1 / r, u = 0; u < r - 1; u++) {\n              var c = n(o, s / (1 - s * u));\n              a.push(c.left), o = c.right;\n            }\n\n            return a.push(o), a.map(function (t) {\n              var e = [];\n              return 4 === t.length && (e.push(\"C\"), e = e.concat(t[2])), t.length >= 3 && (3 === t.length && e.push(\"Q\"), e = e.concat(t[1])), 2 === t.length && e.push(\"L\"), e = e.concat(t[t.length - 1]);\n            });\n          }(t, e, r));else {\n            var a = [].concat(t);\n            \"M\" === a[0] && (a[0] = \"L\");\n\n            for (var o = 0; o <= r - 1; o++) {\n              i.push(a);\n            }\n          }\n          return i;\n        }\n\n        t.exports = function (t, e) {\n          if (1 === t.length) return t;\n          var n = t.length - 1,\n              i = e.length - 1,\n              a = n / i,\n              o = [];\n\n          if (1 === t.length && \"M\" === t[0][0]) {\n            for (var s = 0; s < i - n; s++) {\n              t.push(t[0]);\n            }\n\n            return t;\n          }\n\n          for (var u = 0; u < i; u++) {\n            var c = Math.floor(a * u);\n            o[c] = (o[c] || 0) + 1;\n          }\n\n          var l = o.reduce(function (e, i, a) {\n            return a === n ? e.concat(t[n]) : e.concat(r(t[a], t[a + 1], i));\n          }, []);\n          return l.unshift(t[0]), \"Z\" !== e[i] && \"z\" !== e[i] || l.push(\"Z\"), l;\n        };\n      }, function (t, e, n) {\n        var r = n(103);\n\n        function i(t, e, n) {\n          var r = null,\n              i = n;\n          return e < i && (i = e, r = \"add\"), t < i && (i = t, r = \"del\"), {\n            type: r,\n            min: i\n          };\n        }\n\n        t.exports = function (t, e) {\n          var n = function (t, e) {\n            var n = t.length,\n                a = e.length,\n                o = void 0,\n                s = void 0,\n                u = 0;\n            if (0 === n || 0 === a) return null;\n\n            for (var c = [], l = 0; l <= n; l++) {\n              c[l] = [], c[l][0] = {\n                min: l\n              };\n            }\n\n            for (var h = 0; h <= a; h++) {\n              c[0][h] = {\n                min: h\n              };\n            }\n\n            for (var f = 1; f <= n; f++) {\n              o = t[f - 1];\n\n              for (var p = 1; p <= a; p++) {\n                s = e[p - 1], u = r(o, s) ? 0 : 1;\n                var d = c[f - 1][p].min + 1,\n                    v = c[f][p - 1].min + 1,\n                    y = c[f - 1][p - 1].min + u;\n                c[f][p] = i(d, v, y);\n              }\n            }\n\n            return c;\n          }(t, e),\n              a = t.length,\n              o = e.length,\n              s = [],\n              u = 1,\n              c = 1;\n\n          if (n[a][o] !== a) {\n            for (var l = 1; l <= a; l++) {\n              var h = n[l][l].min;\n              c = l;\n\n              for (var f = u; f <= o; f++) {\n                n[l][f].min < h && (h = n[l][f].min, c = f);\n              }\n\n              u = c, n[l][u].type && s.push({\n                index: l - 1,\n                type: n[l][u].type\n              });\n            }\n\n            for (var p = s.length - 1; p >= 0; p--) {\n              u = s[p].index, \"add\" === s[p].type ? t.splice(u, 0, [].concat(t[u])) : t.splice(u, 1);\n            }\n          }\n\n          if ((a = t.length) < o) for (var d = 0; d < o - a; d++) {\n            \"z\" === t[a - 1][0] || \"Z\" === t[a - 1][0] ? t.splice(a - 2, 0, t[a - 2]) : t.push(t[a - 1]);\n          }\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = n(0);\n\n        t.exports = function (t, e) {\n          if (t.length !== e.length) return !1;\n          var n = !0;\n          return r(t, function (t, r) {\n            if (t !== e[r]) return n = !1, !1;\n          }), n;\n        };\n      }, function (t, e) {\n        function n(t) {\n          var e = [];\n\n          switch (t[0]) {\n            case \"M\":\n            case \"L\":\n              e.push([t[1], t[2]]);\n              break;\n\n            case \"A\":\n              e.push([t[6], t[7]]);\n              break;\n\n            case \"Q\":\n              e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n              break;\n\n            case \"T\":\n              e.push([t[1], t[2]]);\n              break;\n\n            case \"C\":\n              e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);\n              break;\n\n            case \"S\":\n              e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n              break;\n\n            case \"H\":\n            case \"V\":\n              e.push([t[1], t[1]]);\n          }\n\n          return e;\n        }\n\n        function r(t, e, r) {\n          for (var i = [].concat(t), a = void 0, o = 1 / (r + 1), s = n(e)[0], u = 1; u <= r; u++) {\n            o *= u, 0 === (a = Math.floor(t.length * o)) ? i.unshift([s[0] * o + t[a][0] * (1 - o), s[1] * o + t[a][1] * (1 - o)]) : i.splice(a, 0, [s[0] * o + t[a][0] * (1 - o), s[1] * o + t[a][1] * (1 - o)]);\n          }\n\n          return i;\n        }\n\n        t.exports = function (t, e) {\n          if (t.length <= 1) return t;\n\n          for (var i = void 0, a = 0; a < e.length; a++) {\n            if (t[a][0] !== e[a][0]) switch (i = n(t[a]), e[a][0]) {\n              case \"M\":\n                t[a] = [\"M\"].concat(i[0]);\n                break;\n\n              case \"L\":\n                t[a] = [\"L\"].concat(i[0]);\n                break;\n\n              case \"A\":\n                t[a] = [].concat(e[a]), t[a][6] = i[0][0], t[a][7] = i[0][1];\n                break;\n\n              case \"Q\":\n                if (i.length < 2) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 1);\n                }\n\n                t[a] = [\"Q\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              case \"T\":\n                t[a] = [\"T\"].concat(i[0]);\n                break;\n\n              case \"C\":\n                if (i.length < 3) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 2);\n                }\n\n                t[a] = [\"C\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              case \"S\":\n                if (i.length < 2) {\n                  if (!(a > 0)) {\n                    t[a] = e[a];\n                    break;\n                  }\n\n                  i = r(i, t[a - 1], 1);\n                }\n\n                t[a] = [\"S\"].concat(i.reduce(function (t, e) {\n                  return t.concat(e);\n                }, []));\n                break;\n\n              default:\n                t[a] = e[a];\n            }\n          }\n\n          return t;\n        };\n      }, function (t, e, n) {\n        var r = {\n          lc: n(106),\n          lowerCase: n(33),\n          lowerFirst: n(107),\n          substitute: n(108),\n          uc: n(109),\n          upperCase: n(34),\n          upperFirst: n(110)\n        };\n        t.exports = r;\n      }, function (t, e, n) {\n        t.exports = n(33);\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          var e = r(t);\n          return e.charAt(0).toLowerCase() + e.substring(1);\n        };\n      }, function (t, e) {\n        t.exports = function (t, e) {\n          return t && e ? t.replace(/\\\\?\\{([^{}]+)\\}/g, function (t, n) {\n            return \"\\\\\" === t.charAt(0) ? t.slice(1) : void 0 === e[n] ? \"\" : e[n];\n          }) : t;\n        };\n      }, function (t, e, n) {\n        t.exports = n(34);\n      }, function (t, e, n) {\n        var r = n(8);\n\n        t.exports = function (t) {\n          var e = r(t);\n          return e.charAt(0).toUpperCase() + e.substring(1);\n        };\n      }, function (t, e, n) {\n        var r = n(2),\n            i = {\n          getType: n(35),\n          isArray: n(1),\n          isArrayLike: n(4),\n          isBoolean: n(112),\n          isFunction: n(3),\n          isNil: n(5),\n          isNull: n(113),\n          isNumber: n(6),\n          isObject: n(16),\n          isObjectLike: n(13),\n          isPlainObject: n(7),\n          isPrototype: n(36),\n          isType: r,\n          isUndefined: n(114),\n          isString: n(10),\n          isRegExp: n(115),\n          isDate: n(116),\n          isArguments: n(117),\n          isError: n(118)\n        };\n        t.exports = i;\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Boolean\");\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return null === t;\n        };\n      }, function (t, e) {\n        t.exports = function (t) {\n          return void 0 === t;\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"RegExp\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Date\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Arguments\");\n        };\n      }, function (t, e, n) {\n        var r = n(2);\n\n        t.exports = function (t) {\n          return r(t, \"Error\");\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(14),\n            a = n(11);\n\n        t.exports = function (t) {\n          for (var e = i(arguments), n = 1; n < e.length; n++) {\n            var o = e[n];\n            r(o) && (o = o.prototype), a(t.prototype, o);\n          }\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          var r = void 0;\n          return function () {\n            var i = this,\n                a = arguments,\n                o = function o() {\n              r = null, n || t.apply(i, a);\n            },\n                s = n && !r;\n\n            clearTimeout(r), r = setTimeout(o, e), s && t.apply(i, a);\n          };\n        };\n      }, function (t, e, n) {\n        var r = n(7),\n            i = n(1);\n\n        function a(t, e, n, o) {\n          for (var s in n = n || 0, o = o || 5, e) {\n            if (e.hasOwnProperty(s)) {\n              var u = e[s];\n              null !== u && r(u) ? (r(t[s]) || (t[s] = {}), n < o ? a(t[s], u, n + 1, o) : t[s] = e[s]) : i(u) ? (t[s] = [], t[s] = t[s].concat(u)) : void 0 !== u && (t[s] = u);\n            }\n          }\n        }\n\n        t.exports = function () {\n          for (var t = new Array(arguments.length), e = t.length, n = 0; n < e; n++) {\n            t[n] = arguments[n];\n          }\n\n          for (var r = t[0], i = 1; i < e; i++) {\n            a(r, t[i]);\n          }\n\n          return r;\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(11);\n\n        t.exports = function (t, e, n, a) {\n          r(e) || (n = e, e = t, t = function t() {});\n          var o = Object.create ? function (t, e) {\n            return Object.create(t, {\n              constructor: {\n                value: e\n              }\n            });\n          } : function (t, e) {\n            function n() {}\n\n            n.prototype = t;\n            var r = new n();\n            return r.constructor = e, r;\n          },\n              s = o(e.prototype, t);\n          return t.prototype = i(s, t.prototype), t.superclass = o(e.prototype, e), i(s, n), i(t, a), t;\n        };\n      }, function (t, e, n) {\n        var r = n(37);\n\n        t.exports = function (t, e) {\n          if (!e) return [t];\n          var n = r(t, e),\n              i = [];\n\n          for (var a in n) {\n            i.push(n[a]);\n          }\n\n          return i;\n        };\n      }, function (t, e, n) {\n        var r = n(4);\n\n        t.exports = function (t, e) {\n          if (!r(t)) return -1;\n          var n = Array.prototype.indexOf;\n          if (n) return n.call(t, e);\n\n          for (var i = -1, a = 0; a < t.length; a++) {\n            if (t[a] === e) {\n              i = a;\n              break;\n            }\n          }\n\n          return i;\n        };\n      }, function (t, e, n) {\n        var r = n(5),\n            i = n(4),\n            a = n(35),\n            o = n(36),\n            s = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t) {\n          if (r(t)) return !0;\n          if (i(t)) return !t.length;\n          var e = a(t);\n          if (\"Map\" === e || \"Set\" === e) return !t.size;\n          if (o(t)) return !Object.keys(t).length;\n\n          for (var n in t) {\n            if (s.call(t, n)) return !1;\n          }\n\n          return !0;\n        };\n      }, function (t, e, n) {\n        var r = n(3),\n            i = n(39);\n\n        t.exports = function (t, e, n) {\n          return r(n) ? !!n(t, e) : i(t, e);\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(4);\n\n        t.exports = function (t, e) {\n          if (!i(t)) return t;\n          var n = [];\n          return r(t, function (t, r) {\n            n.push(e(t, r));\n          }), n;\n        };\n      }, function (t, e, n) {\n        var r = n(0),\n            i = n(7),\n            a = Object.prototype.hasOwnProperty;\n\n        t.exports = function (t, e) {\n          if (null === t || !i(t)) return {};\n          var n = {};\n          return r(e, function (e) {\n            a.call(t, e) && (n[e] = t[e]);\n          }), n;\n        };\n      }, function (t, e) {\n        t.exports = function (t, e, n) {\n          var r = void 0,\n              i = void 0,\n              a = void 0,\n              o = void 0,\n              s = 0;\n          n || (n = {});\n\n          var u = function u() {\n            s = !1 === n.leading ? 0 : Date.now(), r = null, o = t.apply(i, a), r || (i = a = null);\n          },\n              c = function c() {\n            var c = Date.now();\n            s || !1 !== n.leading || (s = c);\n            var l = e - (c - s);\n            return i = this, a = arguments, l <= 0 || l > e ? (r && (clearTimeout(r), r = null), s = c, o = t.apply(i, a), r || (i = a = null)) : r || !1 === n.trailing || (r = setTimeout(u, l)), o;\n          };\n\n          return c.cancel = function () {\n            clearTimeout(r), s = 0, r = i = a = null;\n          }, c;\n        };\n      }, function (t, e) {\n        var n,\n            r = (n = {}, function (t) {\n          return n[t = t || \"g\"] ? n[t] += 1 : n[t] = 1, t + n[t];\n        });\n        t.exports = r;\n      }]);\n    }, t.exports = r();\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"__extends\", function () {\n      return i;\n    }), n.d(e, \"__assign\", function () {\n      return _a;\n    }), n.d(e, \"__rest\", function () {\n      return o;\n    }), n.d(e, \"__decorate\", function () {\n      return s;\n    }), n.d(e, \"__param\", function () {\n      return u;\n    }), n.d(e, \"__metadata\", function () {\n      return c;\n    }), n.d(e, \"__awaiter\", function () {\n      return l;\n    }), n.d(e, \"__generator\", function () {\n      return h;\n    }), n.d(e, \"__createBinding\", function () {\n      return f;\n    }), n.d(e, \"__exportStar\", function () {\n      return p;\n    }), n.d(e, \"__values\", function () {\n      return d;\n    }), n.d(e, \"__read\", function () {\n      return v;\n    }), n.d(e, \"__spread\", function () {\n      return y;\n    }), n.d(e, \"__spreadArrays\", function () {\n      return g;\n    }), n.d(e, \"__await\", function () {\n      return x;\n    }), n.d(e, \"__asyncGenerator\", function () {\n      return m;\n    }), n.d(e, \"__asyncDelegator\", function () {\n      return b;\n    }), n.d(e, \"__asyncValues\", function () {\n      return M;\n    }), n.d(e, \"__makeTemplateObject\", function () {\n      return w;\n    }), n.d(e, \"__importStar\", function () {\n      return _;\n    }), n.d(e, \"__importDefault\", function () {\n      return P;\n    }), n.d(e, \"__classPrivateFieldGet\", function () {\n      return A;\n    }), n.d(e, \"__classPrivateFieldSet\", function () {\n      return S;\n    });\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    \n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    \n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n\n    var _r = function r(t, e) {\n      return (_r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (t, e) {\n        t.__proto__ = e;\n      } || function (t, e) {\n        for (var n in e) {\n          e.hasOwnProperty(n) && (t[n] = e[n]);\n        }\n      })(t, e);\n    };\n\n    function i(t, e) {\n      function n() {\n        this.constructor = t;\n      }\n\n      _r(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n    }\n\n    var _a = function a() {\n      return (_a = Object.assign || function (t) {\n        for (var e, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in e = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n          }\n        }\n\n        return t;\n      }).apply(this, arguments);\n    };\n\n    function o(t, e) {\n      var n = {};\n\n      for (var r in t) {\n        Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);\n      }\n\n      if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n\n        for (r = Object.getOwnPropertySymbols(t); i < r.length; i++) {\n          e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);\n        }\n      }\n\n      return n;\n    }\n\n    function s(t, e, n, r) {\n      var i,\n          a = arguments.length,\n          o = a < 3 ? e : null === r ? r = Object.getOwnPropertyDescriptor(e, n) : r;\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(t, e, n, r);else for (var s = t.length - 1; s >= 0; s--) {\n        (i = t[s]) && (o = (a < 3 ? i(o) : a > 3 ? i(e, n, o) : i(e, n)) || o);\n      }\n      return a > 3 && o && Object.defineProperty(e, n, o), o;\n    }\n\n    function u(t, e) {\n      return function (n, r) {\n        e(n, r, t);\n      };\n    }\n\n    function c(t, e) {\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.metadata) return Reflect.metadata(t, e);\n    }\n\n    function l(t, e, n, r) {\n      return new (n || (n = Promise))(function (i, a) {\n        function o(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function s(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function u(t) {\n          var e;\n          t.done ? i(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(o, s);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    }\n\n    function h(t, e) {\n      var n,\n          r,\n          i,\n          a,\n          o = {\n        label: 0,\n        sent: function sent() {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return a = {\n        next: s(0),\n        throw: s(1),\n        return: s(2)\n      }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n        return this;\n      }), a;\n\n      function s(a) {\n        return function (s) {\n          return function (a) {\n            if (n) throw new TypeError(\"Generator is already executing.\");\n\n            for (; o;) {\n              try {\n                if (n = 1, r && (i = 2 & a[0] ? r.return : a[0] ? r.throw || ((i = r.return) && i.call(r), 0) : r.next) && !(i = i.call(r, a[1])).done) return i;\n\n                switch (r = 0, i && (a = [2 & a[0], i.value]), a[0]) {\n                  case 0:\n                  case 1:\n                    i = a;\n                    break;\n\n                  case 4:\n                    return o.label++, {\n                      value: a[1],\n                      done: !1\n                    };\n\n                  case 5:\n                    o.label++, r = a[1], a = [0];\n                    continue;\n\n                  case 7:\n                    a = o.ops.pop(), o.trys.pop();\n                    continue;\n\n                  default:\n                    if (!(i = o.trys, (i = i.length > 0 && i[i.length - 1]) || 6 !== a[0] && 2 !== a[0])) {\n                      o = 0;\n                      continue;\n                    }\n\n                    if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {\n                      o.label = a[1];\n                      break;\n                    }\n\n                    if (6 === a[0] && o.label < i[1]) {\n                      o.label = i[1], i = a;\n                      break;\n                    }\n\n                    if (i && o.label < i[2]) {\n                      o.label = i[2], o.ops.push(a);\n                      break;\n                    }\n\n                    i[2] && o.ops.pop(), o.trys.pop();\n                    continue;\n                }\n\n                a = e.call(t, o);\n              } catch (t) {\n                a = [6, t], r = 0;\n              } finally {\n                n = i = 0;\n              }\n            }\n\n            if (5 & a[0]) throw a[1];\n            return {\n              value: a[0] ? a[1] : void 0,\n              done: !0\n            };\n          }([a, s]);\n        };\n      }\n    }\n\n    function f(t, e, n, r) {\n      void 0 === r && (r = n), t[r] = e[n];\n    }\n\n    function p(t, e) {\n      for (var n in t) {\n        \"default\" === n || e.hasOwnProperty(n) || (e[n] = t[n]);\n      }\n    }\n\n    function d(t) {\n      var e = \"function\" == typeof Symbol && Symbol.iterator,\n          n = e && t[e],\n          r = 0;\n      if (n) return n.call(t);\n      if (t && \"number\" == typeof t.length) return {\n        next: function next() {\n          return t && r >= t.length && (t = void 0), {\n            value: t && t[r++],\n            done: !t\n          };\n        }\n      };\n      throw new TypeError(e ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n    }\n\n    function v(t, e) {\n      var n = \"function\" == typeof Symbol && t[Symbol.iterator];\n      if (!n) return t;\n      var r,\n          i,\n          a = n.call(t),\n          o = [];\n\n      try {\n        for (; (void 0 === e || e-- > 0) && !(r = a.next()).done;) {\n          o.push(r.value);\n        }\n      } catch (t) {\n        i = {\n          error: t\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return o;\n    }\n\n    function y() {\n      for (var t = [], e = 0; e < arguments.length; e++) {\n        t = t.concat(v(arguments[e]));\n      }\n\n      return t;\n    }\n\n    function g() {\n      for (var t = 0, e = 0, n = arguments.length; e < n; e++) {\n        t += arguments[e].length;\n      }\n\n      var r = Array(t),\n          i = 0;\n\n      for (e = 0; e < n; e++) {\n        for (var a = arguments[e], o = 0, s = a.length; o < s; o++, i++) {\n          r[i] = a[o];\n        }\n      }\n\n      return r;\n    }\n\n    function x(t) {\n      return this instanceof x ? (this.v = t, this) : new x(t);\n    }\n\n    function m(t, e, n) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var r,\n          i = n.apply(t, e || []),\n          a = [];\n      return r = {}, o(\"next\"), o(\"throw\"), o(\"return\"), r[Symbol.asyncIterator] = function () {\n        return this;\n      }, r;\n\n      function o(t) {\n        i[t] && (r[t] = function (e) {\n          return new Promise(function (n, r) {\n            a.push([t, e, n, r]) > 1 || s(t, e);\n          });\n        });\n      }\n\n      function s(t, e) {\n        try {\n          (n = i[t](e)).value instanceof x ? Promise.resolve(n.value.v).then(u, c) : l(a[0][2], n);\n        } catch (t) {\n          l(a[0][3], t);\n        }\n\n        var n;\n      }\n\n      function u(t) {\n        s(\"next\", t);\n      }\n\n      function c(t) {\n        s(\"throw\", t);\n      }\n\n      function l(t, e) {\n        t(e), a.shift(), a.length && s(a[0][0], a[0][1]);\n      }\n    }\n\n    function b(t) {\n      var e, n;\n      return e = {}, r(\"next\"), r(\"throw\", function (t) {\n        throw t;\n      }), r(\"return\"), e[Symbol.iterator] = function () {\n        return this;\n      }, e;\n\n      function r(r, i) {\n        e[r] = t[r] ? function (e) {\n          return (n = !n) ? {\n            value: x(t[r](e)),\n            done: \"return\" === r\n          } : i ? i(e) : e;\n        } : i;\n      }\n    }\n\n    function M(t) {\n      if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n      var e,\n          n = t[Symbol.asyncIterator];\n      return n ? n.call(t) : (t = d(t), e = {}, r(\"next\"), r(\"throw\"), r(\"return\"), e[Symbol.asyncIterator] = function () {\n        return this;\n      }, e);\n\n      function r(n) {\n        e[n] = t[n] && function (e) {\n          return new Promise(function (r, i) {\n            (function (t, e, n, r) {\n              Promise.resolve(r).then(function (e) {\n                t({\n                  value: e,\n                  done: n\n                });\n              }, e);\n            })(r, i, (e = t[n](e)).done, e.value);\n          });\n        };\n      }\n    }\n\n    function w(t, e) {\n      return Object.defineProperty ? Object.defineProperty(t, \"raw\", {\n        value: e\n      }) : t.raw = e, t;\n    }\n\n    function _(t) {\n      if (t && t.__esModule) return t;\n      var e = {};\n      if (null != t) for (var n in t) {\n        Object.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      }\n      return e.default = t, e;\n    }\n\n    function P(t) {\n      return t && t.__esModule ? t : {\n        default: t\n      };\n    }\n\n    function A(t, e) {\n      if (!e.has(t)) throw new TypeError(\"attempted to get private field on non-instance\");\n      return e.get(t);\n    }\n\n    function S(t, e, n) {\n      if (!e.has(t)) throw new TypeError(\"attempted to set private field on non-instance\");\n      return e.set(t, n), n;\n    }\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function t(t, e, n, r) {\n        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === n && (n = 0), void 0 === r && (r = 0), this.height = r, this.width = n, this.x = this.minX = t, this.y = this.minY = e;\n        var i = this.maxX = t + n,\n            a = this.maxY = e + r;\n        this.tl = {\n          x: t,\n          y: e\n        }, this.tr = {\n          x: i,\n          y: e\n        }, this.bl = {\n          x: t,\n          y: a\n        }, this.br = {\n          x: i,\n          y: a\n        }, this.bottom = 0, this.left = this.x, this.right = 0, this.top = this.y;\n      }\n\n      return t.fromRange = function (e, n, r, i) {\n        return new t(e, n, r - e, i - n);\n      }, t.prototype.equals = function (t) {\n        return this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height;\n      }, t;\n    }();\n\n    e.default = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(10),\n        o = n(4),\n        s = {\n      matrix: \"matrix\",\n      path: \"path\",\n      points: \"points\",\n      lineDash: \"lineDash\"\n    };\n\n    var u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.isShape = !0, e;\n      }\n\n      return r.__extends(e, t), e.prototype.createPath = function (t) {}, e.prototype.afterPath = function (t) {}, e.prototype.isPointInPath = function (t, e) {\n        return !1;\n      }, e.prototype.drawInner = function (t) {\n        var e = this.attrs;\n        this.createPath(t);\n        var n = t.globalAlpha;\n\n        if (this.hasFill()) {\n          var r = e.fillOpacity;\n          i.isNil(r) || 1 === r ? t.fill() : (t.globalAlpha = r, t.fill(), t.globalAlpha = n);\n        }\n\n        if (this.hasStroke() && this.attrs.lineWidth > 0) {\n          var a = e.strokeOpacity;\n          i.isNil(a) || 1 === a || (t.globalAlpha = a), t.stroke();\n        }\n\n        this.afterPath(t);\n      }, e.prototype.isHitBox = function () {\n        return !0;\n      }, e.prototype.isHit = function (t, e) {\n        var n = [t, e, 1];\n\n        if (this.invert(n), this.isHitBox()) {\n          var r = this.getBBox();\n          if (r && !o.box(r.minX, r.maxX, r.minY, r.maxY, n[0], n[1])) return !1;\n        }\n\n        var i = this.attrs.clip;\n        return i ? (i.invert(n, this.get(\"canvas\")), !!i.isPointInPath(n[0], n[1]) && this.isPointInPath(n[0], n[1])) : this.isPointInPath(n[0], n[1]);\n      }, e.prototype.calculateBox = function () {\n        return null;\n      }, e.prototype.getHitLineWidth = function () {\n        var t = this.attrs,\n            e = t.lineAppendWidth || 0;\n        return (t.lineWidth || 0) + e;\n      }, e.prototype.clearTotalMatrix = function () {\n        this.cfg.totalMatrix = null, this.cfg.region = null;\n      }, e.prototype.clearBBox = function () {\n        this.cfg.box = null, this.cfg.region = null;\n      }, e.prototype.getBBox = function () {\n        var t = this.get(\"box\");\n        return t || (t = this.calculateBox()) && this.set(\"box\", t), t;\n      }, e.prototype.clone = function () {\n        var t = null,\n            n = this.attrs,\n            r = {};\n        return i.each(n, function (t, e) {\n          s[e] && i.isArray(n[e]) ? r[e] = function (t) {\n            for (var e = [], n = 0; n < t.length; n++) {\n              i.isArray(t[n]) ? e.push([].concat(t[n])) : e.push(t[n]);\n            }\n\n            return e;\n          }(n[e]) : r[e] = n[e];\n        }), (t = new e({\n          attrs: r\n        })).cfg.zIndex = this.cfg.zIndex, t;\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.box = e.circle = e.rect = e.arcline = e.quadraticline = e.cubicline = e.polyline = e.line = void 0;\n    var r = n(12),\n        i = n(19),\n        a = n(13),\n        o = n(7);\n\n    function s(t, e, n, i, a, o, s) {\n      var c = r.box(t, e, n, i, a);\n      if (!u(c.minX, c.maxX, c.minY, c.maxY, o, s)) return !1;\n      var l = r.pointDistance(t, e, n, i, o, s);\n      return !isNaN(l) && l <= a / 2;\n    }\n\n    function u(t, e, n, r, i, a) {\n      return t <= i && i <= e && n <= a && a <= r;\n    }\n\n    e.line = s, e.polyline = function (t, e, n, r) {\n      var i = t.length - 1;\n      if (i < 1) return !1;\n\n      for (var a = 0; a < i; a++) {\n        if (s(t[a][0], t[a][1], t[a + 1][0], t[a + 1][1], e, n, r)) return !0;\n      }\n\n      return !1;\n    }, e.cubicline = function (t, e, n, r, i, o, s, u, c, l, h) {\n      return a.pointDistance(t, e, n, r, i, o, s, u, l, h) <= c / 2;\n    }, e.quadraticline = function (t, e, n, r, a, o, s, u, c) {\n      return i.pointDistance(t, e, n, r, a, o, u, c) <= s / 2;\n    }, e.arcline = function (t, e, n, r, i, a, s, u, c) {\n      return o.pointDistance(t, e, n, r, i, a, u, c) <= s / 2;\n    }, e.rect = function (t, e, n, r, i, a) {\n      return t <= i && i <= t + n && e <= a && a <= e + r;\n    }, e.circle = function (t, e, n, r, i) {\n      return Math.pow(r - t, 2) + Math.pow(i - e, 2) <= Math.pow(n, 2);\n    }, e.box = u;\n  },, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.parsePath = e.parseRadius = void 0;\n    var r = n(0),\n        i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n        a = /[^\\s\\,]+/gi;\n    e.parseRadius = function (t) {\n      var e = 0,\n          n = 0,\n          i = 0,\n          a = 0;\n      return r.isArray(t) ? 1 === t.length ? e = n = i = a = t[0] : 2 === t.length ? (e = i = t[0], n = a = t[1]) : 3 === t.length ? (e = t[0], n = a = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], a = t[3]) : e = n = i = a = t, {\n        r1: e,\n        r2: n,\n        r3: i,\n        r4: a\n      };\n    }, e.parsePath = function (t) {\n      return t = t || [], r.isArray(t) ? t : r.isString(t) ? (t = t.match(i), r.each(t, function (e, n) {\n        if ((e = e.match(a))[0].length > 1) {\n          var i = e[0].charAt(0);\n          e.splice(1, 0, e[0].substr(1)), e[0] = i;\n        }\n\n        r.each(e, function (t, n) {\n          isNaN(t) || (e[n] = +t);\n        }), t[n] = e;\n      }), t) : void 0;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.projectPoint = e.box = e.pointDistance = e.nearAngle = void 0;\n\n    var r = n(0),\n        i = n(2),\n        a = function a(t, e, n, r) {\n      return {\n        x: Math.cos(r) * n + t,\n        y: Math.sin(r) * n + e\n      };\n    },\n        o = function o(t, e, n, r) {\n      var i, a;\n      return r ? t < e ? (i = e - t, a = 2 * Math.PI - n + t) : t > n && (i = 2 * Math.PI - t + e, a = t - n) : (i = t - e, a = n - t), i > a ? n : e;\n    };\n\n    e.nearAngle = function (t, e, n, i) {\n      var a = 0;\n      return n - e >= 2 * Math.PI && (a = 2 * Math.PI), e = r.mod(e, 2 * Math.PI), n = r.mod(n, 2 * Math.PI) + a, t = r.mod(t, 2 * Math.PI), i ? e >= n ? t > n && t < e ? t : o(t, n, e, !0) : t < e || t > n ? t : o(t, e, n, !1) : e <= n ? e < t && t < n ? t : o(t, e, n, !0) : t > e || t < n ? t : o(t, n, e, !1);\n    }, e.pointDistance = function (t, n, i, a, o, s, u, c, l) {\n      var h = [u, c],\n          f = [t, n],\n          p = r.vec2.subtract([], h, f),\n          d = r.vec2.angleTo([1, 0], p);\n      d = e.nearAngle(d, a, o, s);\n      var v = [i * Math.cos(d) + t, i * Math.sin(d) + n];\n      return l ? {\n        x: v[0],\n        y: v[1]\n      } : r.vec2.distance(v, h);\n    }, e.box = function (t, n, r, o, s, u) {\n      var c = Math.PI / 2,\n          l = Math.PI,\n          h = 3 * Math.PI / 2,\n          f = [],\n          p = e.nearAngle(0, o, s, u);\n      0 === p && f.push(a(t, n, r, 0)), (p = e.nearAngle(c, o, s, u)) === c && f.push(a(t, n, r, c)), (p = e.nearAngle(l, o, s, u)) === l && f.push(a(t, n, r, l)), (p = e.nearAngle(h, o, s, u)) === h && f.push(a(t, n, r, h)), f.push(a(t, n, r, o)), f.push(a(t, n, r, s));\n      var d = f.map(function (t) {\n        return t.x;\n      }),\n          v = f.map(function (t) {\n        return t.y;\n      });\n      return i.default.fromRange(Math.min.apply(Math, d), Math.min.apply(Math, v), Math.max.apply(Math, d), Math.max.apply(Math, v));\n    }, e.projectPoint = function (t, n, r, i, a, o, s, u) {\n      return e.pointDistance(t, n, r, i, a, o, s, u, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(4),\n        a = n(13),\n        o = n(19),\n        s = n(39),\n        u = n(2),\n        c = r.vec3,\n        l = r.mat3,\n        h = [\"m\", \"l\", \"c\", \"a\", \"q\", \"h\", \"v\", \"t\", \"s\", \"z\"];\n\n    function f(t, e, n) {\n      return {\n        x: n.x + t,\n        y: n.y + e\n      };\n    }\n\n    function p(t, e) {\n      return {\n        x: e.x + (e.x - t.x),\n        y: e.y + (e.y - t.y)\n      };\n    }\n\n    function d(t) {\n      return Math.sqrt(t[0] * t[0] + t[1] * t[1]);\n    }\n\n    function v(t, e) {\n      return (t[0] * e[0] + t[1] * e[1]) / (d(t) * d(e));\n    }\n\n    function y(t, e) {\n      return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(v(t, e));\n    }\n\n    var g = function () {\n      function t(t, e, n) {\n        this.preSegment = e, this.isLast = n, this.init(t, e);\n      }\n\n      return t.prototype.init = function (t, e) {\n        var n = t[0];\n        e = e || {\n          endPoint: {\n            x: 0,\n            y: 0\n          }\n        };\n        var i,\n            a,\n            o,\n            s,\n            u = h.indexOf(n) >= 0,\n            c = u ? n.toUpperCase() : n,\n            l = t,\n            d = e.endPoint,\n            g = l[1],\n            x = l[2];\n\n        switch (c) {\n          default:\n            break;\n\n          case \"M\":\n            s = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, this.command = \"M\", this.params = [d, s], this.subStart = s, this.endPoint = s;\n            break;\n\n          case \"L\":\n            s = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"H\":\n            s = u ? f(g, 0, d) : {\n              x: g,\n              y: d.y\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"V\":\n            s = u ? f(0, g, d) : {\n              x: d.x,\n              y: g\n            }, this.command = \"L\", this.params = [d, s], this.subStart = e.subStart, this.endPoint = s, this.endTangent = function () {\n              return [s.x - d.x, s.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - s.x, d.y - s.y];\n            };\n            break;\n\n          case \"Q\":\n            u ? (i = f(g, x, d), a = f(l[3], l[4], d)) : (i = {\n              x: g,\n              y: x\n            }, a = {\n              x: l[3],\n              y: l[4]\n            }), this.command = \"Q\", this.params = [d, i, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - i.x, a.y - i.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            };\n            break;\n\n          case \"T\":\n            a = u ? f(g, x, d) : {\n              x: g,\n              y: x\n            }, \"Q\" === e.command ? (i = p(e.params[1], d), this.command = \"Q\", this.params = [d, i, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - i.x, a.y - i.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            }) : (this.command = \"TL\", this.params = [d, a], this.subStart = e.subStart, this.endPoint = a, this.endTangent = function () {\n              return [a.x - d.x, a.y - d.y];\n            }, this.startTangent = function () {\n              return [d.x - a.x, d.y - a.y];\n            });\n            break;\n\n          case \"C\":\n            u ? (i = f(g, x, d), a = f(l[3], l[4], d), o = f(l[5], l[6], d)) : (i = {\n              x: g,\n              y: x\n            }, a = {\n              x: l[3],\n              y: l[4]\n            }, o = {\n              x: l[5],\n              y: l[6]\n            }), this.command = \"C\", this.params = [d, i, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            };\n            break;\n\n          case \"S\":\n            u ? (a = f(g, x, d), o = f(l[3], l[4], d)) : (a = {\n              x: g,\n              y: x\n            }, o = {\n              x: l[3],\n              y: l[4]\n            }), \"C\" === e.command ? (i = p(e.params[2], d), this.command = \"C\", this.params = [d, i, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - i.x, d.y - i.y];\n            }) : (this.command = \"SQ\", this.params = [d, a, o], this.subStart = e.subStart, this.endPoint = o, this.endTangent = function () {\n              return [o.x - a.x, o.y - a.y];\n            }, this.startTangent = function () {\n              return [d.x - a.x, d.y - a.y];\n            });\n            break;\n\n          case \"A\":\n            var m = g,\n                b = x,\n                M = l[3],\n                w = l[4],\n                _ = l[5];\n            s = u ? f(l[6], l[7], d) : {\n              x: l[6],\n              y: l[7]\n            }, this.command = \"A\";\n\n            var P = function (t, e, n, i, a, o, s) {\n              var u = r.mod(r.toRadian(s), 2 * Math.PI),\n                  c = t.x,\n                  l = t.y,\n                  h = e.x,\n                  f = e.y,\n                  p = Math.cos(u) * (c - h) / 2 + Math.sin(u) * (l - f) / 2,\n                  d = -1 * Math.sin(u) * (c - h) / 2 + Math.cos(u) * (l - f) / 2,\n                  g = p * p / (a * a) + d * d / (o * o);\n              g > 1 && (a *= Math.sqrt(g), o *= Math.sqrt(g));\n              var x = a * a * (d * d) + o * o * (p * p),\n                  m = Math.sqrt((a * a * (o * o) - x) / x);\n              n === i && (m *= -1), isNaN(m) && (m = 0);\n\n              var b = m * a * d / o,\n                  M = m * -o * p / a,\n                  w = (c + h) / 2 + Math.cos(u) * b - Math.sin(u) * M,\n                  _ = (l + f) / 2 + Math.sin(u) * b + Math.cos(u) * M,\n                  P = y([1, 0], [(p - b) / a, (d - M) / o]),\n                  A = [(p - b) / a, (d - M) / o],\n                  S = [(-1 * p - b) / a, (-1 * d - M) / o],\n                  k = y(A, S);\n\n              return v(A, S) <= -1 && (k = Math.PI), v(A, S) >= 1 && (k = 0), 0 === i && k > 0 && (k -= 2 * Math.PI), 1 === i && k < 0 && (k += 2 * Math.PI), [t, w, _, a, o, P, k, u, i];\n            }(d, s, w, _, m, b, M);\n\n            this.params = P;\n            var A = e.subStart;\n            this.subStart = A, this.endPoint = s;\n            var S = P[5] % (2 * Math.PI);\n            r.isNumberEqual(S, 2 * Math.PI) && (S = 0);\n            var k = P[6] % (2 * Math.PI);\n            r.isNumberEqual(k, 2 * Math.PI) && (k = 0);\n            var O = .001;\n            this.startTangent = function () {\n              0 === _ && (O *= -1);\n              var t = P[3] * Math.cos(S - O) + P[1],\n                  e = P[4] * Math.sin(S - O) + P[2];\n              return [t - A.x, e - A.y];\n            }, this.endTangent = function () {\n              var t = P[6];\n              t - 2 * Math.PI < 1e-4 && (t = 0);\n              var e = P[3] * Math.cos(S + t + O) + P[1],\n                  n = P[4] * Math.sin(S + t - O) + P[2];\n              return [d.x - e, d.y - n];\n            };\n            break;\n\n          case \"Z\":\n            this.command = \"Z\", this.params = [d, e.subStart], this.subStart = e.subStart, this.endPoint = e.subStart;\n        }\n      }, t.prototype.isInside = function (t, e, n) {\n        var r = this.command,\n            a = this.params,\n            o = this.box;\n        if (o && !i.box(o.minX, o.maxX, o.minY, o.maxY, t, e)) return !1;\n\n        switch (r) {\n          default:\n            break;\n\n          case \"M\":\n            return !1;\n\n          case \"TL\":\n          case \"L\":\n          case \"Z\":\n            return i.line(a[0].x, a[0].y, a[1].x, a[1].y, n, t, e);\n\n          case \"SQ\":\n          case \"Q\":\n            return i.quadraticline(a[0].x, a[0].y, a[1].x, a[1].y, a[2].x, a[2].y, n, t, e);\n\n          case \"C\":\n            return i.cubicline(a[0].x, a[0].y, a[1].x, a[1].y, a[2].x, a[2].y, a[3].x, a[3].y, n, t, e);\n\n          case \"A\":\n            var s = a,\n                u = s[1],\n                h = s[2],\n                f = s[3],\n                p = s[4],\n                d = s[5],\n                v = s[6],\n                y = s[7],\n                g = s[8],\n                x = f > p ? f : p,\n                m = f > p ? 1 : f / p,\n                b = f > p ? p / f : 1;\n            s = [t, e, 1];\n            var M = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n            return l.translate(M, M, [-u, -h]), l.rotate(M, M, -y), l.scale(M, M, [1 / m, 1 / b]), c.transformMat3(s, s, M), i.arcline(0, 0, x, d, d + v, 1 - g, n, s[0], s[1]);\n        }\n\n        return !1;\n      }, t.prototype.draw = function (t) {\n        var e,\n            n,\n            r,\n            i = this.command,\n            a = this.params;\n\n        switch (i) {\n          default:\n            break;\n\n          case \"M\":\n            t.moveTo(a[1].x, a[1].y);\n            break;\n\n          case \"TL\":\n          case \"L\":\n            t.lineTo(a[1].x, a[1].y);\n            break;\n\n          case \"SQ\":\n          case \"Q\":\n            e = a[1], n = a[2], t.quadraticCurveTo(e.x, e.y, n.x, n.y);\n            break;\n\n          case \"C\":\n            e = a[1], n = a[2], r = a[3], t.bezierCurveTo(e.x, e.y, n.x, n.y, r.x, r.y);\n            break;\n\n          case \"A\":\n            var o = a,\n                s = o[1],\n                u = o[2],\n                c = o[3],\n                l = o[4],\n                h = o[5],\n                f = o[6],\n                p = o[7],\n                d = o[8],\n                v = c > l ? c : l,\n                y = c > l ? 1 : c / l,\n                g = c > l ? l / c : 1;\n            t.translate(s, u), t.rotate(p), t.scale(y, g), t.arc(0, 0, v, h, h + f, 1 - d), t.scale(1 / y, 1 / g), t.rotate(-p), t.translate(-s, -u);\n            break;\n\n          case \"Z\":\n            t.closePath();\n        }\n      }, t.prototype.getBBox = function (t) {\n        var e,\n            n,\n            r,\n            i,\n            c = t / 2,\n            l = this.params;\n\n        switch (this.command) {\n          default:\n          case \"M\":\n          case \"Z\":\n            break;\n\n          case \"TL\":\n          case \"L\":\n            this.box = u.default.fromRange(Math.min(l[0].x, l[1].x) - c, Math.min(l[0].y, l[1].y) - c, Math.max(l[0].x, l[1].x) + c, Math.max(l[0].y, l[1].y) + c);\n            break;\n\n          case \"SQ\":\n          case \"Q\":\n            for (r = 0, i = (n = o.extrema(l[0].x, l[1].x, l[2].x)).length; r < i; r++) {\n              n[r] = o.at(l[0].x, l[1].x, l[2].x, n[r]);\n            }\n\n            for (n.push(l[0].x, l[2].x), r = 0, i = (e = o.extrema(l[0].y, l[1].y, l[2].y)).length; r < i; r++) {\n              e[r] = o.at(l[0].y, l[1].y, l[2].y, e);\n            }\n\n            e.push(l[0].y, l[2].y), this.box = u.default.fromRange(Math.min.apply(Math, n) - c, Math.min.apply(Math, e) - c, Math.max.apply(Math, n) + c, Math.max.apply(Math, e) + c);\n            break;\n\n          case \"C\":\n            for (r = 0, i = (n = a.extrema(l[0].x, l[1].x, l[2].x, l[3].x)).length; r < i; r++) {\n              n[r] = a.at(l[0].x, l[1].x, l[2].x, l[3].x, n[r]);\n            }\n\n            for (r = 0, i = (e = a.extrema(l[0].y, l[1].y, l[2].y, l[3].y)).length; r < i; r++) {\n              e[r] = a.at(l[0].y, l[1].y, l[2].y, l[3].y, e[r]);\n            }\n\n            n.push(l[0].x, l[3].x), e.push(l[0].y, l[3].y), this.box = u.default.fromRange(Math.min.apply(Math, n) - c, Math.min.apply(Math, e) - c, Math.max.apply(Math, n) + c, Math.max.apply(Math, e) + c);\n            break;\n\n          case \"A\":\n            var h = l,\n                f = h[1],\n                p = h[2],\n                d = h[3],\n                v = h[4],\n                y = h[5],\n                g = h[6],\n                x = h[7],\n                m = h[8],\n                b = y,\n                M = y + g,\n                w = s.xExtrema(x, d, v),\n                _ = 1 / 0,\n                P = -1 / 0,\n                A = [b, M];\n\n            for (r = 2 * -Math.PI; r <= 2 * Math.PI; r += Math.PI) {\n              var S = w + r;\n              1 === m ? b < S && S < M && A.push(S) : M < S && S < b && A.push(S);\n            }\n\n            for (r = 0, i = A.length; r < i; r++) {\n              var k = s.xAt(x, d, v, f, A[r]);\n              k < _ && (_ = k), k > P && (P = k);\n            }\n\n            var O = s.yExtrema(x, d, v),\n                T = 1 / 0,\n                I = -1 / 0,\n                C = [b, M];\n\n            for (r = 2 * -Math.PI; r <= 2 * Math.PI; r += Math.PI) {\n              var E = O + r;\n              1 === m ? b < E && E < M && C.push(E) : M < E && E < b && C.push(E);\n            }\n\n            for (r = 0, i = C.length; r < i; r++) {\n              var j = s.yAt(x, d, v, p, C[r]);\n              j < T && (T = j), j > I && (I = j);\n            }\n\n            this.box = u.default.fromRange(_ - c, T - c, P + c, I + c);\n        }\n      }, t;\n    }();\n\n    e.default = g;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.addEndArrow = e.addStartArrow = void 0;\n    var r = n(6),\n        i = n(8),\n        a = Math.PI,\n        o = Math.sin,\n        s = Math.cos,\n        u = Math.atan2,\n        c = a / 3;\n\n    function l(t, e, n, r, i, l, h) {\n      var f, p, d, v, y, g, x;\n\n      if (!e.fill) {\n        var m = e.arrowLength || 10,\n            b = e.arrowAngle ? e.arrowAngle * a / 180 : c;\n        x = u(r - l, n - i), y = Math.abs(e.lineWidth * s(x)) / 2, g = Math.abs(e.lineWidth * o(x)) / 2, h && (y = -y, g = -g), f = i + m * s(x + b / 2), p = l + m * o(x + b / 2), d = i + m * s(x - b / 2), v = l + m * o(x - b / 2), t.beginPath(), t.moveTo(f - y, p - g), t.lineTo(i - y, l - g), t.lineTo(d - y, v - g), t.moveTo(i - y, l - g), t.lineTo(i + y, l + g), t.moveTo(i, l), t.stroke();\n      }\n    }\n\n    function h(t, e, n, a, o, s, u) {\n      var c = u ? e.startArrow : e.endArrow,\n          l = c.d,\n          h = 0,\n          f = o - n,\n          p = s - a,\n          d = Math.atan(f / p);\n      0 === p && f < 0 ? h = Math.PI : f > 0 && p > 0 ? h = Math.PI / 2 - d : f < 0 && p < 0 ? h = -Math.PI / 2 - d : f >= 0 && p < 0 ? h = -d - Math.PI / 2 : f <= 0 && p > 0 && (h = Math.PI / 2 - d);\n\n      var v = function (t) {\n        var e,\n            n = [],\n            a = r.parsePath(t.path);\n\n        if (Array.isArray(a) && 0 !== a.length && (\"M\" === a[0][0] || \"m\" === a[0][0])) {\n          for (var o = a.length, s = 0; s < a.length; s++) {\n            var u = a[s];\n            e = new i.default(u, e, s === o - 1), n.push(e);\n          }\n\n          return n;\n        }\n      }(c);\n\n      if (v) {\n        l && (u ? (o += Math.sin(Math.abs(d)) * l, s = s + Math.cos(Math.abs(d)) * l - .5 * t.lineWidth) : (o -= Math.sin(Math.abs(d)) * l, s = s - Math.cos(Math.abs(d)) * l + .5 * t.lineWidth)), t.save(), t.beginPath(), t.translate(o, s), t.rotate(h);\n\n        for (var y = 0; y < v.length; y++) {\n          v[y].draw(t);\n        }\n\n        t.setTransform(1, 0, 0, 1, 0, 0), t.fillStyle = t.strokeStyle, t.fill(), t.restore();\n      }\n    }\n\n    e.addStartArrow = function (t, e, n, r, i, a) {\n      \"object\" == typeof e.startArrow ? h(t, e, n, r, i, a, !0) : e.startArrow && l(t, e, n, r, i, a, !0);\n    }, e.addEndArrow = function (t, e, n, r, i, a) {\n      \"object\" == typeof e.endArrow ? h(t, e, n, r, i, a, !1) : e.endArrow && l(t, e, n, r, i, a, !1);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(36),\n        o = {\n      delay: \"delay\",\n      rotate: \"rotate\"\n    },\n        s = {\n      fill: \"fill\",\n      stroke: \"stroke\",\n      fillStyle: \"fillStyle\",\n      strokeStyle: \"strokeStyle\"\n    };\n\n    function u(t, e) {\n      var n = {},\n          r = e.attrs;\n\n      for (var i in t.attrs) {\n        n[i] = r[i];\n      }\n\n      return n;\n    }\n\n    var c = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.initTransform(), n.initAnimate(), n;\n      }\n\n      return r.__extends(e, t), e.prototype.initAnimate = function () {\n        this.setSilent(\"animable\", !0), this.setSilent(\"animating\", !1);\n      }, e.prototype.animate = function (t, e, n, r, a) {\n        void 0 === r && (r = i.noop), void 0 === a && (a = 0);\n        this.set(\"animating\", !0);\n        var c = this.get(\"timeline\");\n        c || (c = this.get(\"canvas\").get(\"timeline\"), this.setSilent(\"timeline\", c));\n        var l = this.get(\"animators\") || [];\n        c.timer || c.initTimer(), i.isNumber(r) && (a = r, r = null), i.isFunction(n) ? (r = n, n = \"easeLinear\") : n = n || \"easeLinear\";\n\n        var h = function (t, e) {\n          var n = {\n            matrix: null,\n            attrs: {}\n          },\n              r = e.attrs;\n\n          for (var a in t) {\n            if (\"transform\" === a) n.matrix = i.transform(e.getMatrix(), t[a]);else if (\"rotate\" === a) n.matrix = i.transform(e.getMatrix(), [[\"r\", t[a]]]);else if (\"matrix\" === a) n.matrix = t[a];else {\n              if (s[a] && /^[r,R,L,l]{1}[\\s]*\\(/.test(t[a])) continue;\n              o[a] || r[a] === t[a] || (n.attrs[a] = t[a]);\n            }\n          }\n\n          return n;\n        }(t, this),\n            f = {\n          fromAttrs: u(h, this),\n          toAttrs: h.attrs,\n          fromMatrix: i.clone(this.getMatrix()),\n          toMatrix: h.matrix,\n          duration: e,\n          easing: n,\n          callback: r,\n          delay: a,\n          startTime: c.getTime(),\n          id: i.uniqueId(),\n          onFrame: null\n        };\n\n        t.onFrame && (f.onFrame = t.onFrame), l.length > 0 ? l = function (t, e) {\n          if (e.onFrame) return t;\n          var n = e.delay,\n              r = Object.prototype.hasOwnProperty;\n          return i.each(e.toAttrs, function (e, a) {\n            i.each(t, function (t) {\n              n < t.startTime + t.duration && r.call(t.toAttrs, a) && (delete t.toAttrs[a], delete t.fromAttrs[a]);\n            });\n          }), e.toMatrix && i.each(t, function (t) {\n            n < t.startTime + t.duration && t.toMatrix && delete t.toMatrix;\n          }), t;\n        }(l, f) : c.addAnimator(this), l.push(f), this.setSilent(\"animators\", l), this.setSilent(\"pause\", {\n          isPaused: !1\n        });\n      }, e.prototype.stopAnimate = function () {\n        var t = this,\n            e = this.get(\"animators\");\n        i.each(e, function (e) {\n          e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), e.toMatrix && t.attr(\"matrix\", e.toMatrix), e.callback && e.callback();\n        }), this.setSilent(\"animating\", !1), this.setSilent(\"animators\", []);\n      }, e.prototype.pauseAnimate = function () {\n        var t = this.get(\"timeline\");\n        return this.setSilent(\"pause\", {\n          isPaused: !0,\n          pauseTime: t.getTime()\n        }), this;\n      }, e.prototype.resumeAnimate = function () {\n        var t = this.get(\"timeline\").getTime(),\n            e = this.get(\"animators\"),\n            n = this.get(\"pause\").pauseTime;\n        return i.each(e, function (e) {\n          e.startTime = e.startTime + (t - n), e._paused = !1, e._pauseTime = null;\n        }), this.setSilent(\"pause\", {\n          isPaused: !1\n        }), this.setSilent(\"animators\", e), this;\n      }, e;\n    }(a.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t, e, n, r) {\n        this.x = 0, this.y = 0, this.clientX = 0, this.clientY = 0, this.cfg = {}, this.bubbles = !1, this.cancelable = !1, this.timeStamp = new Date().getTime(), this.defaultPrevented = !1, this.propagationStopped = !1, this.type = t, this.event = e, this.bubbles = !!n, this.cancelable = !!r;\n      }\n\n      return t.prototype.preventDefault = function () {\n        this.defaultPrevented = this.cancelable && !0;\n      }, t.prototype.stopPropagation = function () {\n        this.propagationStopped = !0;\n      }, t.prototype.remove = function () {\n        this.cfg.removed = !0;\n      }, t.prototype.clone = function () {\n        return r.clone(this);\n      }, t.prototype.toString = function () {\n        return \"[Event (type=\" + this.type + \")]\";\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.len = e.box = e.pointDistance = e.at = void 0;\n    var r = n(0),\n        i = n(2);\n    e.at = function (t, e, n) {\n      return (e - t) * n + t;\n    }, e.pointDistance = function (t, e, n, i, a, o) {\n      var s = [n - t, i - e];\n      if (r.vec2.exactEquals(s, [0, 0])) return NaN;\n      var u = [-s[1], s[0]];\n      r.vec2.normalize(u, u);\n      var c = [a - t, o - e];\n      return Math.abs(r.vec2.dot(c, u));\n    }, e.box = function (t, e, n, r, a) {\n      var o = a / 2;\n      return i.default.fromRange(Math.min(t, n) - o, Math.min(e, r) - o, Math.max(t, n) + o, Math.max(e, r) + o);\n    }, e.len = function (t, e, n, r) {\n      return Math.sqrt((n - t) * (n - t) + (r - e) * (r - e));\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.projectPoint = e.len = e.extrema = e.pointDistance = e.derivativeAt = e.at = void 0;\n    var r = n(0),\n        i = r.vec2;\n\n    function a(t, e, n, r, i) {\n      var a = 1 - i;\n      return a * a * (a * r + 3 * i * n) + i * i * (i * t + 3 * a * e);\n    }\n\n    function o(t, e, n, r, o, s, u, c, l, h, f) {\n      var p,\n          d,\n          v,\n          y,\n          g,\n          x,\n          m,\n          b,\n          M = .005,\n          w = 1 / 0,\n          _ = [l, h];\n\n      for (d = 0; d < 1; d += .05) {\n        v = [a(t, n, o, u, d), a(e, r, s, c, d)], (y = i.squaredDistance(_, v)) < w && (p = d, w = y);\n      }\n\n      w = 1 / 0;\n\n      for (var P = 0; P < 32 && !(M < 1e-4); P++) {\n        b = p + M, v = [a(t, n, o, u, m = p - M), a(e, r, s, c, m)], y = i.squaredDistance(_, v), m >= 0 && y < w ? (p = m, w = y) : (x = [a(t, n, o, u, b), a(e, r, s, c, b)], g = i.squaredDistance(_, x), b <= 1 && g < w ? (p = b, w = g) : M *= .5);\n      }\n\n      return f ? {\n        x: a(t, n, o, u, p),\n        y: a(e, r, s, c, p)\n      } : Math.sqrt(w);\n    }\n\n    function s(t, e, n, r, i) {\n      return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n    }\n\n    e.at = a, e.derivativeAt = function (t, e, n, r, i) {\n      var a = 1 - i;\n      return 3 * (((e - t) * a + 2 * (n - e) * i) * a + (r - n) * i * i);\n    }, e.pointDistance = o, e.extrema = function (t, e, n, i) {\n      var a,\n          o,\n          s,\n          u = 3 * t - 9 * e + 9 * n - 3 * i,\n          c = 6 * e - 12 * n + 6 * i,\n          l = 3 * n - 3 * i,\n          h = [];\n      if (r.isNumberEqual(u, 0)) r.isNumberEqual(c, 0) || (a = -l / c) >= 0 && a <= 1 && h.push(a);else {\n        var f = c * c - 4 * u * l;\n        r.isNumberEqual(f, 0) ? h.push(-c / (2 * u)) : f > 0 && (o = (-c - (s = Math.sqrt(f))) / (2 * u), (a = (-c + s) / (2 * u)) >= 0 && a <= 1 && h.push(a), o >= 0 && o <= 1 && h.push(o));\n      }\n      return h;\n    }, e.len = function (t, e, n, i, a, o, u, c, l) {\n      r.isNil(l) && (l = 1);\n\n      for (var h = (l = l > 1 ? 1 : l < 0 ? 0 : l) / 2, f = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], p = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], d = 0, v = 0; v < 12; v++) {\n        var y = h * f[v] + h,\n            g = s(y, t, n, a, u),\n            x = s(y, e, i, o, c),\n            m = g * g + x * x;\n        d += p[v] * Math.sqrt(m);\n      }\n\n      return h * d;\n    }, e.projectPoint = function (t, e, n, r, i, a, s, u, c, l) {\n      return o(t, e, n, r, i, a, s, u, c, l, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.rectPath = e.pathTocurve = e.pathToAbsolute = e.parsePathString = e.parsePathArray = e.intersection = e.formatPath = e.fillPathByDiff = e.fillPath = e.catmullRomToBezier = void 0;\n\n    var r = n(0),\n        i = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\",\n        a = new RegExp(\"([a-z])[\" + i + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + i + \"]*,?[\" + i + \"]*)+)\", \"ig\"),\n        o = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + i + \"]*,?[\" + i + \"]*\", \"ig\"),\n        s = function s(t) {\n      if (!t) return null;\n      if (typeof t == typeof []) return t;\n      var e = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0\n      },\n          n = [];\n      return String(t).replace(a, function (r, i, a) {\n        var s = [],\n            u = i.toLowerCase();\n        if (a.replace(o, function (t, e) {\n          e && s.push(+e);\n        }), \"m\" === u && s.length > 2 && (n.push([i].concat(s.splice(0, 2))), u = \"l\", i = \"m\" === i ? \"l\" : \"L\"), \"o\" === u && 1 === s.length && n.push([i, s[0]]), \"r\" === u) n.push([i].concat(s));else for (; s.length >= e[u] && (n.push([i].concat(s.splice(0, e[u]))), e[u]);) {\n          ;\n        }\n        return t;\n      }), n;\n    };\n\n    e.parsePathString = s;\n\n    var u = function u(t, e) {\n      for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {\n        var a = [{\n          x: +t[r - 2],\n          y: +t[r - 1]\n        }, {\n          x: +t[r],\n          y: +t[r + 1]\n        }, {\n          x: +t[r + 2],\n          y: +t[r + 3]\n        }, {\n          x: +t[r + 4],\n          y: +t[r + 5]\n        }];\n        e ? r ? i - 4 === r ? a[3] = {\n          x: +t[0],\n          y: +t[1]\n        } : i - 2 === r && (a[2] = {\n          x: +t[0],\n          y: +t[1]\n        }, a[3] = {\n          x: +t[2],\n          y: +t[3]\n        }) : a[0] = {\n          x: +t[i - 2],\n          y: +t[i - 1]\n        } : i - 4 === r ? a[3] = a[2] : r || (a[0] = {\n          x: +t[r],\n          y: +t[r + 1]\n        }), n.push([\"C\", (-a[0].x + 6 * a[1].x + a[2].x) / 6, (-a[0].y + 6 * a[1].y + a[2].y) / 6, (a[1].x + 6 * a[2].x - a[3].x) / 6, (a[1].y + 6 * a[2].y - a[3].y) / 6, a[2].x, a[2].y]);\n      }\n\n      return n;\n    };\n\n    e.catmullRomToBezier = u;\n\n    var c = function c(t, e, n, r, i) {\n      var a = [];\n\n      if (null === i && null === r && (r = n), t = +t, e = +e, n = +n, r = +r, null !== i) {\n        var o = Math.PI / 180,\n            s = t + n * Math.cos(-r * o),\n            u = t + n * Math.cos(-i * o);\n        a = [[\"M\", s, e + n * Math.sin(-r * o)], [\"A\", n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * o)]];\n      } else a = [[\"M\", t, e], [\"m\", 0, -r], [\"a\", n, r, 0, 1, 1, 0, 2 * r], [\"a\", n, r, 0, 1, 1, 0, -2 * r], [\"z\"]];\n\n      return a;\n    },\n        l = function l(t) {\n      if (!(t = s(t)) || !t.length) return [[\"M\", 0, 0]];\n      var e,\n          n,\n          r = [],\n          i = 0,\n          a = 0,\n          o = 0,\n          l = 0,\n          h = 0;\n      \"M\" === t[0][0] && (o = i = +t[0][1], l = a = +t[0][2], h++, r[0] = [\"M\", i, a]);\n\n      for (var f = 3 === t.length && \"M\" === t[0][0] && \"R\" === t[1][0].toUpperCase() && \"Z\" === t[2][0].toUpperCase(), p = void 0, d = void 0, v = h, y = t.length; v < y; v++) {\n        if (r.push(p = []), (e = (d = t[v])[0]) !== e.toUpperCase()) switch (p[0] = e.toUpperCase(), p[0]) {\n          case \"A\":\n            p[1] = d[1], p[2] = d[2], p[3] = d[3], p[4] = d[4], p[5] = d[5], p[6] = +d[6] + i, p[7] = +d[7] + a;\n            break;\n\n          case \"V\":\n            p[1] = +d[1] + a;\n            break;\n\n          case \"H\":\n            p[1] = +d[1] + i;\n            break;\n\n          case \"R\":\n            for (var g = 2, x = (n = [i, a].concat(d.slice(1))).length; g < x; g++) {\n              n[g] = +n[g] + i, n[++g] = +n[g] + a;\n            }\n\n            r.pop(), r = r.concat(u(n, f));\n            break;\n\n          case \"O\":\n            r.pop(), (n = c(i, a, d[1], d[2])).push(n[0]), r = r.concat(n);\n            break;\n\n          case \"U\":\n            r.pop(), r = r.concat(c(i, a, d[1], d[2], d[3])), p = [\"U\"].concat(r[r.length - 1].slice(-2));\n            break;\n\n          case \"M\":\n            o = +d[1] + i, l = +d[2] + a;\n            break;\n\n          default:\n            for (g = 1, x = d.length; g < x; g++) {\n              p[g] = +d[g] + (g % 2 ? i : a);\n            }\n\n        } else if (\"R\" === e) n = [i, a].concat(d.slice(1)), r.pop(), r = r.concat(u(n, f)), p = [\"R\"].concat(d.slice(-2));else if (\"O\" === e) r.pop(), (n = c(i, a, d[1], d[2])).push(n[0]), r = r.concat(n);else if (\"U\" === e) r.pop(), r = r.concat(c(i, a, d[1], d[2], d[3])), p = [\"U\"].concat(r[r.length - 1].slice(-2));else for (var m = 0, b = d.length; m < b; m++) {\n          p[m] = d[m];\n        }\n        if (\"O\" !== (e = e.toUpperCase())) switch (p[0]) {\n          case \"Z\":\n            i = +o, a = +l;\n            break;\n\n          case \"H\":\n            i = p[1];\n            break;\n\n          case \"V\":\n            a = p[1];\n            break;\n\n          case \"M\":\n            o = p[p.length - 2], l = p[p.length - 1];\n            break;\n\n          default:\n            i = p[p.length - 2], a = p[p.length - 1];\n        }\n      }\n\n      return r;\n    };\n\n    e.pathToAbsolute = l;\n\n    var h = function h(t, e, n, r) {\n      return [t, e, n, r, n, r];\n    },\n        f = function f(t, e, n, r, i, a) {\n      return [1 / 3 * t + 2 / 3 * n, 1 / 3 * e + 2 / 3 * r, 1 / 3 * i + 2 / 3 * n, 1 / 3 * a + 2 / 3 * r, i, a];\n    },\n        p = function p(t, e, n, r, i, a, o, s, u, c) {\n      n === r && (n += 1);\n\n      var l,\n          h,\n          f,\n          d,\n          v,\n          y = 120 * Math.PI / 180,\n          g = Math.PI / 180 * (+i || 0),\n          x = [],\n          m = function m(t, e, n) {\n        return {\n          x: t * Math.cos(n) - e * Math.sin(n),\n          y: t * Math.sin(n) + e * Math.cos(n)\n        };\n      };\n\n      if (c) h = c[0], f = c[1], d = c[2], v = c[3];else {\n        t = (l = m(t, e, -g)).x, e = l.y, s = (l = m(s, u, -g)).x, u = l.y, t === s && e === u && (s += 1, u += 1);\n        var b = (t - s) / 2,\n            M = (e - u) / 2,\n            w = b * b / (n * n) + M * M / (r * r);\n        w > 1 && (n *= w = Math.sqrt(w), r *= w);\n\n        var _ = n * n,\n            P = r * r,\n            A = (a === o ? -1 : 1) * Math.sqrt(Math.abs((_ * P - _ * M * M - P * b * b) / (_ * M * M + P * b * b)));\n\n        d = A * n * M / r + (t + s) / 2, v = A * -r * b / n + (e + u) / 2, h = Math.asin(((e - v) / r).toFixed(9)), f = Math.asin(((u - v) / r).toFixed(9)), h = t < d ? Math.PI - h : h, f = s < d ? Math.PI - f : f, h < 0 && (h = 2 * Math.PI + h), f < 0 && (f = 2 * Math.PI + f), o && h > f && (h -= 2 * Math.PI), !o && f > h && (f -= 2 * Math.PI);\n      }\n      var S = f - h;\n\n      if (Math.abs(S) > y) {\n        var k = f,\n            O = s,\n            T = u;\n        f = h + y * (o && f > h ? 1 : -1), s = d + n * Math.cos(f), u = v + r * Math.sin(f), x = p(s, u, n, r, i, 0, o, O, T, [f, k, d, v]);\n      }\n\n      S = f - h;\n      var I = Math.cos(h),\n          C = Math.sin(h),\n          E = Math.cos(f),\n          j = Math.sin(f),\n          N = Math.tan(S / 4),\n          L = 4 / 3 * n * N,\n          B = 4 / 3 * r * N,\n          q = [t, e],\n          R = [t + L * C, e - B * I],\n          F = [s + L * j, u - B * E],\n          D = [s, u];\n      if (R[0] = 2 * q[0] - R[0], R[1] = 2 * q[1] - R[1], c) return [R, F, D].concat(x);\n\n      for (var W = [], Y = 0, H = (x = [R, F, D].concat(x).join().split(\",\")).length; Y < H; Y++) {\n        W[Y] = Y % 2 ? m(x[Y - 1], x[Y], g).y : m(x[Y], x[Y + 1], g).x;\n      }\n\n      return W;\n    },\n        d = function d(t, e) {\n      var n,\n          r = l(t),\n          i = e && l(e),\n          a = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null\n      },\n          o = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null\n      },\n          s = [],\n          u = [],\n          c = \"\",\n          d = \"\",\n          v = function v(t, e, n) {\n        var r, i;\n        if (!t) return [\"C\", e.x, e.y, e.x, e.y, e.x, e.y];\n\n        switch (!(t[0] in {\n          T: 1,\n          Q: 1\n        }) && (e.qx = e.qy = null), t[0]) {\n          case \"M\":\n            e.X = t[1], e.Y = t[2];\n            break;\n\n          case \"A\":\n            t = [\"C\"].concat(p.apply(0, [e.x, e.y].concat(t.slice(1))));\n            break;\n\n          case \"S\":\n            \"C\" === n || \"S\" === n ? (r = 2 * e.x - e.bx, i = 2 * e.y - e.by) : (r = e.x, i = e.y), t = [\"C\", r, i].concat(t.slice(1));\n            break;\n\n          case \"T\":\n            \"Q\" === n || \"T\" === n ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = [\"C\"].concat(f(e.x, e.y, e.qx, e.qy, t[1], t[2]));\n            break;\n\n          case \"Q\":\n            e.qx = t[1], e.qy = t[2], t = [\"C\"].concat(f(e.x, e.y, t[1], t[2], t[3], t[4]));\n            break;\n\n          case \"L\":\n            t = [\"C\"].concat(h(e.x, e.y, t[1], t[2]));\n            break;\n\n          case \"H\":\n            t = [\"C\"].concat(h(e.x, e.y, t[1], e.y));\n            break;\n\n          case \"V\":\n            t = [\"C\"].concat(h(e.x, e.y, e.x, t[1]));\n            break;\n\n          case \"Z\":\n            t = [\"C\"].concat(h(e.x, e.y, e.X, e.Y));\n        }\n\n        return t;\n      },\n          y = function y(t, e) {\n        if (t[e].length > 7) {\n          t[e].shift();\n\n          for (var a = t[e]; a.length;) {\n            s[e] = \"A\", i && (u[e] = \"A\"), t.splice(e++, 0, [\"C\"].concat(a.splice(0, 6)));\n          }\n\n          t.splice(e, 1), n = Math.max(r.length, i && i.length || 0);\n        }\n      },\n          g = function g(t, e, a, o, s) {\n        t && e && \"M\" === t[s][0] && \"M\" !== e[s][0] && (e.splice(s, 0, [\"M\", o.x, o.y]), a.bx = 0, a.by = 0, a.x = t[s][1], a.y = t[s][2], n = Math.max(r.length, i && i.length || 0));\n      };\n\n      n = Math.max(r.length, i && i.length || 0);\n\n      for (var x = 0; x < n; x++) {\n        r[x] && (c = r[x][0]), \"C\" !== c && (s[x] = c, x && (d = s[x - 1])), r[x] = v(r[x], a, d), \"A\" !== s[x] && \"C\" === c && (s[x] = \"C\"), y(r, x), i && (i[x] && (c = i[x][0]), \"C\" !== c && (u[x] = c, x && (d = u[x - 1])), i[x] = v(i[x], o, d), \"A\" !== u[x] && \"C\" === c && (u[x] = \"C\"), y(i, x)), g(r, i, a, o, x), g(i, r, o, a, x);\n        var m = r[x],\n            b = i && i[x],\n            M = m.length,\n            w = i && b.length;\n        a.x = m[M - 2], a.y = m[M - 1], a.bx = parseFloat(m[M - 4]) || a.x, a.by = parseFloat(m[M - 3]) || a.y, o.bx = i && (parseFloat(b[w - 4]) || o.x), o.by = i && (parseFloat(b[w - 3]) || o.y), o.x = i && b[w - 2], o.y = i && b[w - 1];\n      }\n\n      return i ? [r, i] : r;\n    };\n\n    e.pathTocurve = d;\n\n    var v = /,?([a-z]),?/gi,\n        y = function y(t) {\n      return t.join(\",\").replace(v, \"$1\");\n    };\n\n    e.parsePathArray = y;\n\n    var g = function g(t, e, n, r, i) {\n      return t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n;\n    },\n        x = function x(t, e, n, r, i, a, o, s, u) {\n      null === u && (u = 1);\n\n      for (var c = (u = u > 1 ? 1 : u < 0 ? 0 : u) / 2, l = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], h = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], f = 0, p = 0; p < 12; p++) {\n        var d = c * l[p] + c,\n            v = g(d, t, n, i, o),\n            y = g(d, e, r, a, s),\n            x = v * v + y * y;\n        f += h[p] * Math.sqrt(x);\n      }\n\n      return c * f;\n    },\n        m = function m(t, e, n, r, i, a, o, s) {\n      for (var u, c, l, h, f = [], p = [[], []], d = 0; d < 2; ++d) {\n        if (0 === d ? (c = 6 * t - 12 * n + 6 * i, u = -3 * t + 9 * n - 9 * i + 3 * o, l = 3 * n - 3 * t) : (c = 6 * e - 12 * r + 6 * a, u = -3 * e + 9 * r - 9 * a + 3 * s, l = 3 * r - 3 * e), Math.abs(u) < 1e-12) {\n          if (Math.abs(c) < 1e-12) continue;\n          (h = -l / c) > 0 && h < 1 && f.push(h);\n        } else {\n          var v = c * c - 4 * l * u,\n              y = Math.sqrt(v);\n\n          if (!(v < 0)) {\n            var g = (-c + y) / (2 * u);\n            g > 0 && g < 1 && f.push(g);\n            var x = (-c - y) / (2 * u);\n            x > 0 && x < 1 && f.push(x);\n          }\n        }\n      }\n\n      for (var m, b = f.length, M = b; b--;) {\n        m = 1 - (h = f[b]), p[0][b] = m * m * m * t + 3 * m * m * h * n + 3 * m * h * h * i + h * h * h * o, p[1][b] = m * m * m * e + 3 * m * m * h * r + 3 * m * h * h * a + h * h * h * s;\n      }\n\n      return p[0][M] = t, p[1][M] = e, p[0][M + 1] = o, p[1][M + 1] = s, p[0].length = p[1].length = M + 2, {\n        min: {\n          x: Math.min.apply(0, p[0]),\n          y: Math.min.apply(0, p[1])\n        },\n        max: {\n          x: Math.max.apply(0, p[0]),\n          y: Math.max.apply(0, p[1])\n        }\n      };\n    },\n        b = function b(t, e, n, r, i, a, o, s) {\n      if (!(Math.max(t, n) < Math.min(i, o) || Math.min(t, n) > Math.max(i, o) || Math.max(e, r) < Math.min(a, s) || Math.min(e, r) > Math.max(a, s))) {\n        var u = (t - n) * (a - s) - (e - r) * (i - o);\n\n        if (u) {\n          var c = ((t * r - e * n) * (i - o) - (t - n) * (i * s - a * o)) / u,\n              l = ((t * r - e * n) * (a - s) - (e - r) * (i * s - a * o)) / u,\n              h = +c.toFixed(2),\n              f = +l.toFixed(2);\n          if (!(h < +Math.min(t, n).toFixed(2) || h > +Math.max(t, n).toFixed(2) || h < +Math.min(i, o).toFixed(2) || h > +Math.max(i, o).toFixed(2) || f < +Math.min(e, r).toFixed(2) || f > +Math.max(e, r).toFixed(2) || f < +Math.min(a, s).toFixed(2) || f > +Math.max(a, s).toFixed(2))) return {\n            x: c,\n            y: l\n          };\n        }\n      }\n    },\n        M = function M(t, e, n) {\n      return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;\n    },\n        w = function w(t, e, n, r, i) {\n      if (i) return [[\"M\", +t + +i, e], [\"l\", n - 2 * i, 0], [\"a\", i, i, 0, 0, 1, i, i], [\"l\", 0, r - 2 * i], [\"a\", i, i, 0, 0, 1, -i, i], [\"l\", 2 * i - n, 0], [\"a\", i, i, 0, 0, 1, -i, -i], [\"l\", 0, 2 * i - r], [\"a\", i, i, 0, 0, 1, i, -i], [\"z\"]];\n      var a = [[\"M\", t, e], [\"l\", n, 0], [\"l\", 0, r], [\"l\", -n, 0], [\"z\"]];\n      return a.parsePathArray = y, a;\n    };\n\n    e.rectPath = w;\n\n    var _ = function _(t, e, n, r) {\n      return null === t && (t = e = n = r = 0), null === e && (e = t.y, n = t.width, r = t.height, t = t.x), {\n        x: t,\n        y: e,\n        width: n,\n        w: n,\n        height: r,\n        h: r,\n        x2: t + n,\n        y2: e + r,\n        cx: t + n / 2,\n        cy: e + r / 2,\n        r1: Math.min(n, r) / 2,\n        r2: Math.max(n, r) / 2,\n        r0: Math.sqrt(n * n + r * r) / 2,\n        path: w(t, e, n, r),\n        vb: [t, e, n, r].join(\" \")\n      };\n    },\n        P = function P(t, e, n, i, a, o, s, u) {\n      r.isArray(t) || (t = [t, e, n, i, a, o, s, u]);\n      var c = m.apply(null, t);\n      return _(c.min.x, c.min.y, c.max.x - c.min.x, c.max.y - c.min.y);\n    },\n        A = function A(t, e, n, r, i, a, o, s, u) {\n      var c = 1 - u,\n          l = Math.pow(c, 3),\n          h = Math.pow(c, 2),\n          f = u * u,\n          p = f * u,\n          d = t + 2 * u * (n - t) + f * (i - 2 * n + t),\n          v = e + 2 * u * (r - e) + f * (a - 2 * r + e),\n          y = n + 2 * u * (i - n) + f * (o - 2 * i + n),\n          g = r + 2 * u * (a - r) + f * (s - 2 * a + r);\n      return {\n        x: l * t + 3 * h * u * n + 3 * c * u * u * i + p * o,\n        y: l * e + 3 * h * u * r + 3 * c * u * u * a + p * s,\n        m: {\n          x: d,\n          y: v\n        },\n        n: {\n          x: y,\n          y: g\n        },\n        start: {\n          x: c * t + u * n,\n          y: c * e + u * r\n        },\n        end: {\n          x: c * i + u * o,\n          y: c * a + u * s\n        },\n        alpha: 90 - 180 * Math.atan2(d - y, v - g) / Math.PI\n      };\n    },\n        S = function S(t, e, n) {\n      if (!function (t, e) {\n        return t = _(t), e = _(e), M(e, t.x, t.y) || M(e, t.x2, t.y) || M(e, t.x, t.y2) || M(e, t.x2, t.y2) || M(t, e.x, e.y) || M(t, e.x2, e.y) || M(t, e.x, e.y2) || M(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y);\n      }(P(t), P(e))) return n ? 0 : [];\n\n      for (var r = ~~(x.apply(0, t) / 8), i = ~~(x.apply(0, e) / 8), a = [], o = [], s = {}, u = n ? 0 : [], c = 0; c < r + 1; c++) {\n        var l = A.apply(0, t.concat(c / r));\n        a.push({\n          x: l.x,\n          y: l.y,\n          t: c / r\n        });\n      }\n\n      for (c = 0; c < i + 1; c++) {\n        l = A.apply(0, e.concat(c / i));\n        o.push({\n          x: l.x,\n          y: l.y,\n          t: c / i\n        });\n      }\n\n      for (c = 0; c < r; c++) {\n        for (var h = 0; h < i; h++) {\n          var f = a[c],\n              p = a[c + 1],\n              d = o[h],\n              v = o[h + 1],\n              y = Math.abs(p.x - f.x) < .001 ? \"y\" : \"x\",\n              g = Math.abs(v.x - d.x) < .001 ? \"y\" : \"x\",\n              m = b(f.x, f.y, p.x, p.y, d.x, d.y, v.x, v.y);\n\n          if (m) {\n            if (s[m.x.toFixed(4)] === m.y.toFixed(4)) continue;\n            s[m.x.toFixed(4)] = m.y.toFixed(4);\n            var w = f.t + Math.abs((m[y] - f[y]) / (p[y] - f[y])) * (p.t - f.t),\n                S = d.t + Math.abs((m[g] - d[g]) / (v[g] - d[g])) * (v.t - d.t);\n            w >= 0 && w <= 1 && S >= 0 && S <= 1 && (n ? u += 1 : u.push({\n              x: m.x,\n              y: m.y,\n              t1: w,\n              t2: S\n            }));\n          }\n        }\n      }\n\n      return u;\n    };\n\n    function k(t, e) {\n      var n = [],\n          r = [];\n      return t.length && function t(e, i) {\n        if (1 === e.length) n.push(e[0]), r.push(e[0]);else {\n          for (var a = [], o = 0; o < e.length - 1; o++) {\n            0 === o && n.push(e[0]), o === e.length - 2 && r.push(e[o + 1]), a[o] = [(1 - i) * e[o][0] + i * e[o + 1][0], (1 - i) * e[o][1] + i * e[o + 1][1]];\n          }\n\n          t(a, i);\n        }\n      }(t, e), {\n        left: n,\n        right: r.reverse()\n      };\n    }\n\n    e.intersection = function (t, e) {\n      return function (t, e, n) {\n        var r, i, a, o, s, u, c, l, h, f;\n        t = d(t), e = d(e);\n\n        for (var p = n ? 0 : [], v = 0, y = t.length; v < y; v++) {\n          var g = t[v];\n          if (\"M\" === g[0]) r = s = g[1], i = u = g[2];else {\n            \"C\" === g[0] ? (h = [r, i].concat(g.slice(1)), r = h[6], i = h[7]) : (h = [r, i, r, i, s, u, s, u], r = s, i = u);\n\n            for (var x = 0, m = e.length; x < m; x++) {\n              var b = e[x];\n              if (\"M\" === b[0]) a = c = b[1], o = l = b[2];else {\n                \"C\" === b[0] ? (f = [a, o].concat(b.slice(1)), a = f[6], o = f[7]) : (f = [a, o, a, o, c, l, c, l], a = c, o = l);\n                var M = S(h, f, n);\n                if (n) p += M;else {\n                  for (var w = 0, _ = M.length; w < _; w++) {\n                    M[w].segment1 = v, M[w].segment2 = x, M[w].bez1 = h, M[w].bez2 = f;\n                  }\n\n                  p = p.concat(M);\n                }\n              }\n            }\n          }\n        }\n\n        return p;\n      }(t, e);\n    };\n\n    var O = function O(t, e, n) {\n      if (1 === n) return [[].concat(t)];\n      var r = [];\n      if (\"L\" === e[0] || \"C\" === e[0] || \"Q\" === e[0]) r = r.concat(function (t, e, n) {\n        var r = [[t[1], t[2]]];\n        n = n || 2;\n        var i = [];\n        \"A\" === e[0] ? (r.push(e[6]), r.push(e[7])) : \"C\" === e[0] ? (r.push([e[1], e[2]]), r.push([e[3], e[4]]), r.push([e[5], e[6]])) : \"S\" === e[0] || \"Q\" === e[0] ? (r.push([e[1], e[2]]), r.push([e[3], e[4]])) : r.push([e[1], e[2]]);\n\n        for (var a = r, o = 1 / n, s = 0; s < n - 1; s++) {\n          var u = k(a, o / (1 - o * s));\n          i.push(u.left), a = u.right;\n        }\n\n        return i.push(a), i.map(function (t) {\n          var e = [];\n          return 4 === t.length && (e.push(\"C\"), e = e.concat(t[2])), t.length >= 3 && (3 === t.length && e.push(\"Q\"), e = e.concat(t[1])), 2 === t.length && e.push(\"L\"), e = e.concat(t[t.length - 1]);\n        });\n      }(t, e, n));else {\n        var i = [].concat(t);\n        \"M\" === i[0] && (i[0] = \"L\");\n\n        for (var a = 0; a <= n - 1; a++) {\n          r.push(i);\n        }\n      }\n      return r;\n    };\n\n    e.fillPath = function (t, e) {\n      if (1 === t.length) return t;\n      var n = t.length - 1,\n          r = e.length - 1,\n          i = n / r,\n          a = [];\n\n      if (1 === t.length && \"M\" === t[0][0]) {\n        for (var o = 0; o < r - n; o++) {\n          t.push(t[0]);\n        }\n\n        return t;\n      }\n\n      for (o = 0; o < r; o++) {\n        var s = Math.floor(i * o);\n        a[s] = (a[s] || 0) + 1;\n      }\n\n      var u = a.reduce(function (e, r, i) {\n        return i === n ? e.concat(t[n]) : e.concat(O(t[i], t[i + 1], r));\n      }, []);\n      return u.unshift(t[0]), \"Z\" !== e[r] && \"z\" !== e[r] || u.push(\"Z\"), u;\n    };\n\n    var T = function T(t, e) {\n      if (t.length !== e.length) return !1;\n      var n = !0;\n      return r.each(t, function (t, r) {\n        if (t !== e[r]) return n = !1, !1;\n      }), n;\n    };\n\n    function I(t, e, n) {\n      var r = null,\n          i = n;\n      return e < i && (i = e, r = \"add\"), t < i && (i = t, r = \"del\"), {\n        type: r,\n        min: i\n      };\n    }\n\n    function C(t, e, n) {\n      for (var r, i = [].concat(t), a = 1 / (n + 1), o = E(e)[0], s = 1; s <= n; s++) {\n        a *= s, 0 === (r = Math.floor(t.length * a)) ? i.unshift([o[0] * a + t[r][0] * (1 - a), o[1] * a + t[r][1] * (1 - a)]) : i.splice(r, 0, [o[0] * a + t[r][0] * (1 - a), o[1] * a + t[r][1] * (1 - a)]);\n      }\n\n      return i;\n    }\n\n    function E(t) {\n      var e = [];\n\n      switch (t[0]) {\n        case \"M\":\n        case \"L\":\n          e.push([t[1], t[2]]);\n          break;\n\n        case \"A\":\n          e.push([t[6], t[7]]);\n          break;\n\n        case \"Q\":\n          e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n          break;\n\n        case \"T\":\n          e.push([t[1], t[2]]);\n          break;\n\n        case \"C\":\n          e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);\n          break;\n\n        case \"S\":\n          e.push([t[3], t[4]]), e.push([t[1], t[2]]);\n          break;\n\n        case \"H\":\n        case \"V\":\n          e.push([t[1], t[1]]);\n      }\n\n      return e;\n    }\n\n    e.fillPathByDiff = function (t, e) {\n      var n = function (t, e) {\n        var n,\n            r,\n            i = t.length,\n            a = e.length,\n            o = 0;\n        if (0 === i || 0 === a) return null;\n\n        for (var s = [], u = 0; u <= i; u++) {\n          s[u] = [], s[u][0] = {\n            min: u\n          };\n        }\n\n        for (var c = 0; c <= a; c++) {\n          s[0][c] = {\n            min: c\n          };\n        }\n\n        for (u = 1; u <= i; u++) {\n          n = t[u - 1];\n\n          for (c = 1; c <= a; c++) {\n            r = e[c - 1], o = T(n, r) ? 0 : 1;\n            var l = s[u - 1][c].min + 1,\n                h = s[u][c - 1].min + 1,\n                f = s[u - 1][c - 1].min + o;\n            s[u][c] = I(l, h, f);\n          }\n        }\n\n        return s;\n      }(t, e),\n          r = t.length,\n          i = e.length,\n          a = [],\n          o = 1,\n          s = 1;\n\n      if (n[r][i] !== r) {\n        for (var u = 1; u <= r; u++) {\n          var c = n[u][u].min;\n          s = u;\n\n          for (var l = o; l <= i; l++) {\n            n[u][l].min < c && (c = n[u][l].min, s = l);\n          }\n\n          o = s, n[u][o].type && a.push({\n            index: u - 1,\n            type: n[u][o].type\n          });\n        }\n\n        for (u = a.length - 1; u >= 0; u--) {\n          o = a[u].index, \"add\" === a[u].type ? t.splice(o, 0, [].concat(t[o])) : t.splice(o, 1);\n        }\n      }\n\n      var h = i - (r = t.length);\n      if (r < i) for (u = 0; u < h; u++) {\n        \"z\" === t[r - 1][0] || \"Z\" === t[r - 1][0] ? t.splice(r - 2, 0, t[r - 2]) : t.push(t[r - 1]), r += 1;\n      }\n      return t;\n    };\n\n    e.formatPath = function (t, e) {\n      if (t.length <= 1) return t;\n\n      for (var n, r = 0; r < e.length; r++) {\n        if (t[r][0] !== e[r][0]) switch (n = E(t[r]), e[r][0]) {\n          case \"M\":\n            t[r] = [\"M\"].concat(n[0]);\n            break;\n\n          case \"L\":\n            t[r] = [\"L\"].concat(n[0]);\n            break;\n\n          case \"A\":\n            t[r] = [].concat(e[r]), t[r][6] = n[0][0], t[r][7] = n[0][1];\n            break;\n\n          case \"Q\":\n            if (n.length < 2) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 1);\n            }\n\n            t[r] = [\"Q\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          case \"T\":\n            t[r] = [\"T\"].concat(n[0]);\n            break;\n\n          case \"C\":\n            if (n.length < 3) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 2);\n            }\n\n            t[r] = [\"C\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          case \"S\":\n            if (n.length < 2) {\n              if (!(r > 0)) {\n                t[r] = e[r];\n                break;\n              }\n\n              n = C(n, t[r - 1], 1);\n            }\n\n            t[r] = [\"S\"].concat(n.reduce(function (t, e) {\n              return t.concat(e);\n            }, []));\n            break;\n\n          default:\n            t[r] = e[r];\n        }\n      }\n\n      return t;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(43);\n    Object.defineProperty(e, \"Arc\", {\n      enumerable: !0,\n      get: function get() {\n        return r.default;\n      }\n    });\n    var i = n(44);\n    Object.defineProperty(e, \"Circle\", {\n      enumerable: !0,\n      get: function get() {\n        return i.default;\n      }\n    });\n    var a = n(45);\n    Object.defineProperty(e, \"Dom\", {\n      enumerable: !0,\n      get: function get() {\n        return a.default;\n      }\n    });\n    var o = n(46);\n    Object.defineProperty(e, \"Ellipse\", {\n      enumerable: !0,\n      get: function get() {\n        return o.default;\n      }\n    });\n    var s = n(47);\n    Object.defineProperty(e, \"Fan\", {\n      enumerable: !0,\n      get: function get() {\n        return s.default;\n      }\n    });\n    var u = n(48);\n    Object.defineProperty(e, \"Image\", {\n      enumerable: !0,\n      get: function get() {\n        return u.default;\n      }\n    });\n    var c = n(49);\n    Object.defineProperty(e, \"Line\", {\n      enumerable: !0,\n      get: function get() {\n        return c.default;\n      }\n    });\n    var l = n(18);\n    Object.defineProperty(e, \"Marker\", {\n      enumerable: !0,\n      get: function get() {\n        return l.default;\n      }\n    });\n    var h = n(50);\n    Object.defineProperty(e, \"Path\", {\n      enumerable: !0,\n      get: function get() {\n        return h.default;\n      }\n    });\n    var f = n(51);\n    Object.defineProperty(e, \"Polygon\", {\n      enumerable: !0,\n      get: function get() {\n        return f.default;\n      }\n    });\n    var p = n(52);\n    Object.defineProperty(e, \"Polyline\", {\n      enumerable: !0,\n      get: function get() {\n        return p.default;\n      }\n    });\n    var d = n(53);\n    Object.defineProperty(e, \"Rect\", {\n      enumerable: !0,\n      get: function get() {\n        return d.default;\n      }\n    });\n    var v = n(54);\n    Object.defineProperty(e, \"Text\", {\n      enumerable: !0,\n      get: function get() {\n        return v.default;\n      }\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r,\n        i = n(0);\n    document && (r = i.createDom('<canvas width=\"500\" height=\"500\"></canvas>')), e.default = function (t, e, n) {\n      var i = n.get(\"canvas\"),\n          a = (r = r || i.get(\"offscreenCanvas\")).getContext(\"2d\");\n      return n.createPath(a), a.isPointInPath(t, e);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    (function (t) {\n      var n = this && this.__spreadArrays || function () {\n        for (var t = 0, e = 0, n = arguments.length; e < n; e++) {\n          t += arguments[e].length;\n        }\n\n        var r = Array(t),\n            i = 0;\n\n        for (e = 0; e < n; e++) {\n          for (var a = arguments[e], o = 0, s = a.length; o < s; o++, i++) {\n            r[i] = a[o];\n          }\n        }\n\n        return r;\n      };\n\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n\n      var r = function r(t, e, n) {\n        this.name = t, this.version = e, this.os = n;\n      };\n\n      e.BrowserInfo = r;\n\n      var i = function i(e) {\n        this.version = e, this.name = \"node\", this.os = t.platform;\n      };\n\n      e.NodeInfo = i;\n\n      var a = function a() {\n        this.bot = !0, this.name = \"bot\", this.version = null, this.os = null;\n      };\n\n      e.BotInfo = a;\n      var o = [[\"aol\", /AOLShield\\/([0-9\\._]+)/], [\"edge\", /Edge\\/([0-9\\._]+)/], [\"edge-ios\", /EdgiOS\\/([0-9\\._]+)/], [\"yandexbrowser\", /YaBrowser\\/([0-9\\._]+)/], [\"vivaldi\", /Vivaldi\\/([0-9\\.]+)/], [\"kakaotalk\", /KAKAOTALK\\s([0-9\\.]+)/], [\"samsung\", /SamsungBrowser\\/([0-9\\.]+)/], [\"silk\", /\\bSilk\\/([0-9._-]+)\\b/], [\"miui\", /MiuiBrowser\\/([0-9\\.]+)$/], [\"beaker\", /BeakerBrowser\\/([0-9\\.]+)/], [\"edge-chromium\", /Edg\\/([0-9\\.]+)/], [\"chromium-webview\", /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/], [\"chrome\", /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/], [\"phantomjs\", /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/], [\"crios\", /CriOS\\/([0-9\\.]+)(:?\\s|$)/], [\"firefox\", /Firefox\\/([0-9\\.]+)(?:\\s|$)/], [\"fxios\", /FxiOS\\/([0-9\\.]+)/], [\"opera-mini\", /Opera Mini.*Version\\/([0-9\\.]+)/], [\"opera\", /Opera\\/([0-9\\.]+)(?:\\s|$)/], [\"opera\", /OPR\\/([0-9\\.]+)(:?\\s|$)/], [\"ie\", /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/], [\"ie\", /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/], [\"ie\", /MSIE\\s(7\\.0)/], [\"bb10\", /BB10;\\sTouch.*Version\\/([0-9\\.]+)/], [\"android\", /Android\\s([0-9\\.]+)/], [\"ios\", /Version\\/([0-9\\._]+).*Mobile.*Safari.*/], [\"safari\", /Version\\/([0-9\\._]+).*Safari/], [\"facebook\", /FBAV\\/([0-9\\.]+)/], [\"instagram\", /Instagram\\s([0-9\\.]+)/], [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Mobile/], [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/], [\"searchbot\", /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],\n          s = [[\"iOS\", /iP(hone|od|ad)/], [\"Android OS\", /Android/], [\"BlackBerry OS\", /BlackBerry|BB10/], [\"Windows Mobile\", /IEMobile/], [\"Amazon OS\", /Kindle/], [\"Windows 3.11\", /Win16/], [\"Windows 95\", /(Windows 95)|(Win95)|(Windows_95)/], [\"Windows 98\", /(Windows 98)|(Win98)/], [\"Windows 2000\", /(Windows NT 5.0)|(Windows 2000)/], [\"Windows XP\", /(Windows NT 5.1)|(Windows XP)/], [\"Windows Server 2003\", /(Windows NT 5.2)/], [\"Windows Vista\", /(Windows NT 6.0)/], [\"Windows 7\", /(Windows NT 6.1)/], [\"Windows 8\", /(Windows NT 6.2)/], [\"Windows 8.1\", /(Windows NT 6.3)/], [\"Windows 10\", /(Windows NT 10.0)/], [\"Windows ME\", /Windows ME/], [\"Open BSD\", /OpenBSD/], [\"Sun OS\", /SunOS/], [\"Chrome OS\", /CrOS/], [\"Linux\", /(Linux)|(X11)/], [\"Mac OS\", /(Mac_PowerPC)|(Macintosh)/], [\"QNX\", /QNX/], [\"BeOS\", /BeOS/], [\"OS/2\", /OS\\/2/], [\"Search Bot\", /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];\n\n      function u(t) {\n        var e = \"\" !== t && o.reduce(function (e, n) {\n          var r = n[0],\n              i = n[1];\n          if (e) return e;\n          var a = i.exec(t);\n          return !!a && [r, a];\n        }, !1);\n        if (!e) return null;\n        var i = e[0],\n            s = e[1];\n        if (\"searchbot\" === i) return new a();\n        var u = s[1] && s[1].split(/[._]/).slice(0, 3);\n        return u ? u.length < 3 && (u = n(u, function (t) {\n          for (var e = [], n = 0; n < t; n++) {\n            e.push(\"0\");\n          }\n\n          return e;\n        }(3 - u.length))) : u = [], new r(i, u.join(\".\"), c(t));\n      }\n\n      function c(t) {\n        for (var e = 0, n = s.length; e < n; e++) {\n          var r = s[e],\n              i = r[0];\n          if (r[1].test(t)) return i;\n        }\n\n        return null;\n      }\n\n      function l() {\n        return void 0 !== t && t.version ? new i(t.version.slice(1)) : null;\n      }\n\n      e.detect = function (t) {\n        return t ? u(t) : \"undefined\" != typeof navigator ? u(navigator.userAgent) : l();\n      }, e.parseUserAgent = u, e.detectOS = c, e.getNodeVersion = l;\n    }).call(this, n(23));\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(6),\n        o = n(3),\n        s = n(8),\n        u = n(4),\n        c = n(2),\n        l = n(40),\n        h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.type = \"marker\", e.canFill = !0, e.canStroke = !0, e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          path: null,\n          x: 0,\n          y: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            a = n.radius,\n            o = this.getHitLineWidth();\n        return u.circle(r, i, a + o / 2, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.radius,\n            i = this.getHitLineWidth() / 2 + r;\n        return c.default.fromRange(e - i, n - i, e + i, n + i);\n      }, e.prototype._getPath = function () {\n        var t,\n            e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.radius,\n            o = e.symbol || \"circle\";\n        return (t = i.isFunction(o) ? o : l.default.get(o)) ? t(n, r, a) : (console.warn(t + \" symbol is not exist.\"), null);\n      }, e.prototype.createPath = function (t) {\n        var e = this.cfg.segments;\n\n        if (!e || this.cfg.hasUpdate) {\n          var n,\n              r = a.parsePath(this._getPath());\n          t.beginPath(), e = [];\n\n          for (o = 0; o < r.length; o++) {\n            var i = r[o];\n            n = new s.default(i, n, o === r.length - 1), e.push(n), n.draw(t);\n          }\n\n          this.cfg.segments = e, this.cfg.hasUpdate = !1;\n        } else {\n          t.beginPath();\n\n          for (var o = 0; o < e.length; o++) {\n            e[o].draw(t);\n          }\n        }\n      }, e.symbolsFactory = l.default, e;\n    }(o.default);\n\n    e.default = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.projectPoint = e.extrema = e.pointDistance = e.at = void 0;\n    var r = n(0),\n        i = r.vec2;\n\n    function a(t, e, n, r) {\n      var i = 1 - r;\n      return i * (i * t + 2 * r * e) + r * r * n;\n    }\n\n    function o(t, e, n, r, o, s, u, c, l) {\n      var h,\n          f,\n          p,\n          d,\n          v,\n          y,\n          g,\n          x = .005,\n          m = 1 / 0,\n          b = [u, c];\n\n      for (v = 0; v < 1; v += .05) {\n        p = [a(t, n, o, v), a(e, r, s, v)], (f = i.squaredDistance(b, p)) < m && (h = v, m = f);\n      }\n\n      for (m = 1 / 0, g = 0; g < 32 && !(x < 1e-4); g++) {\n        var M = h - x,\n            w = h + x;\n        p = [a(t, n, o, M), a(e, r, s, M)], f = i.squaredDistance(b, p), M >= 0 && f < m ? (h = M, m = f) : (d = [a(t, n, o, w), a(e, r, s, w)], y = i.squaredDistance(b, d), w <= 1 && y < m ? (h = w, m = y) : x *= .5);\n      }\n\n      return l ? {\n        x: a(t, n, o, h),\n        y: a(e, r, s, h)\n      } : Math.sqrt(m);\n    }\n\n    e.at = a, e.pointDistance = o, e.extrema = function (t, e, n) {\n      var i = t + n - 2 * e;\n      if (r.isNumberEqual(i, 0)) return [.5];\n      var a = (t - e) / i;\n      return a <= 1 && a >= 0 ? [a] : [];\n    }, e.projectPoint = function (t, e, n, r, i, a, s, u) {\n      return o(t, e, n, r, i, a, s, u, !0);\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0),\n        a = n(10),\n        o = n(2),\n        s = n(15),\n        u = {};\n\n    function c(t, e, n) {\n      for (var r, i = t.length - 1; i >= 0; i--) {\n        var a = t[i];\n        if (a.cfg.visible && a.cfg.capture && !a.destroyed && !a.removed && (a.isGroup ? r = a.getShape(e, n) : a.isHit(e, n) && (r = a)), r) break;\n      }\n\n      return r;\n    }\n\n    var l = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.isGroup = !0, n.type = \"group\", n.canFill = !0, n.canStroke = !0, n.set(\"children\", []), n.set(\"tobeRemoved\", []), n._beforeRenderUI(), n._renderUI(), n._bindUI(), n;\n      }\n\n      return r.__extends(e, t), e.prototype._beforeRenderUI = function () {}, e.prototype._renderUI = function () {}, e.prototype._bindUI = function () {}, e.prototype.addShape = function (t, e) {\n        var n = this.get(\"canvas\");\n        e = e || {};\n        var r = u[t];\n\n        if (r || (r = i.upperFirst(t), u[t] = r), e.attrs && n) {\n          var a = e.attrs;\n\n          if (\"text\" === t) {\n            var o = n.get(\"fontFamily\");\n            o && (a.fontFamily = a.fontFamily ? a.fontFamily : o);\n          }\n        }\n\n        e.canvas = n, e.type = t;\n        var c = new s[r](e);\n        return this.add(c), c;\n      }, e.prototype.addGroup = function (t, n) {\n        var r,\n            a = this.get(\"canvas\");\n        if (n = i.mix({}, n), i.isFunction(t)) n ? (n.canvas = a, n.parent = this, r = new t(n)) : r = new t({\n          canvas: a,\n          parent: this\n        }), this.add(r);else if (i.isObject(t)) t.canvas = a, r = new e(t), this.add(r);else {\n          if (void 0 !== t) return !1;\n          r = new e(), this.add(r);\n        }\n        return r;\n      }, e.prototype.renderBack = function (t, e) {\n        var n = this.get(\"backShape\"),\n            r = this.getBBox();\n        return i.mix(e, {\n          x: r.x - t[3],\n          y: r.y - t[0],\n          width: r.width + t[1] + t[3],\n          height: r.height + t[0] + t[2]\n        }), n ? n.attr(e) : n = this.addShape(\"rect\", {\n          zIndex: -1,\n          attrs: e\n        }), this.set(\"backShape\", n), this.sort(), n;\n      }, e.prototype.removeChild = function (e, n) {\n        if (arguments.length >= 2) this.contain(e) && e.remove(n);else {\n          if (1 === arguments.length) {\n            if (!i.isBoolean(e)) return this.contain(e) && e.remove(!0), this;\n            n = e;\n          }\n\n          0 === arguments.length && (n = !0), t.prototype.remove.call(this, n);\n        }\n        return this;\n      }, e.prototype.add = function (t) {\n        var e = this,\n            n = e.get(\"children\");\n        if (i.isArray(t)) i.each(t, function (t) {\n          var n = t.get(\"parent\");\n          n && n.removeChild(t, !1), e._setCfgProperty(t);\n        }), e.cfg.children = n.concat(t);else {\n          var r = t,\n              a = r.get(\"parent\");\n          a && a.removeChild(r, !1), e._setCfgProperty(r), n.push(r);\n        }\n        return e;\n      }, e.prototype._setCfgProperty = function (t) {\n        var e = this.cfg;\n        t.set(\"parent\", this), t.set(\"canvas\", e.canvas), e.timeline && t.set(\"timeline\", e.timeline);\n      }, e.prototype.contain = function (t) {\n        return this.get(\"children\").indexOf(t) > -1;\n      }, e.prototype.getChildByIndex = function (t) {\n        return this.get(\"children\")[t];\n      }, e.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n      }, e.prototype.getLast = function () {\n        var t = this.get(\"children\").length - 1;\n        return this.getChildByIndex(t);\n      }, e.prototype.getBBox = function () {\n        var t = 1 / 0,\n            e = -1 / 0,\n            n = 1 / 0,\n            r = -1 / 0,\n            a = this.get(\"children\");\n        return a.length > 0 ? i.each(a, function (i) {\n          if (i.get(\"visible\")) {\n            var a = i.getBBox();\n            if (!a) return !0;\n            var o = a.tl,\n                s = a.tr,\n                u = a.bl,\n                c = a.br,\n                l = [o.x, o.y, 1],\n                h = [u.x, u.y, 1],\n                f = [s.x, s.y, 1],\n                p = [c.x, c.y, 1];\n            i.apply(l), i.apply(h), i.apply(f), i.apply(p);\n            var d = Math.min(l[0], h[0], f[0], p[0]),\n                v = Math.max(l[0], h[0], f[0], p[0]),\n                y = Math.min(l[1], h[1], f[1], p[1]),\n                g = Math.max(l[1], h[1], f[1], p[1]);\n            d < t && (t = d), v > e && (e = v), y < n && (n = y), g > r && (r = g);\n          }\n        }) : (t = 0, e = 0, n = 0, r = 0), new o.default(t, n, e - t, r - n);\n      }, e.prototype.getCount = function () {\n        return this.get(\"children\").length;\n      }, e.prototype.sort = function () {\n        var t,\n            e = this.get(\"children\");\n        return i.each(e, function (t, e) {\n          return t._INDEX = e, t;\n        }), e.sort((t = function t(_t2, e) {\n          return _t2.get(\"zIndex\") - e.get(\"zIndex\");\n        }, function (e, n) {\n          var r = t(e, n);\n          return 0 === r ? e._INDEX - n._INDEX : r;\n        })), this;\n      }, e.prototype.findById = function (t) {\n        return this.find(function (e) {\n          return e.get(\"id\") === t;\n        });\n      }, e.prototype.find = function (t) {\n        if (i.isString(t)) return this.findById(t);\n        var e = this.get(\"children\"),\n            n = null;\n        return i.each(e, function (e) {\n          if (t(e) ? n = e : e.find && (n = e.find(t)), n) return !1;\n        }), n;\n      }, e.prototype.findAll = function (t) {\n        var e = this.get(\"children\"),\n            n = [],\n            r = [];\n        return i.each(e, function (e) {\n          t(e) && n.push(e), e.findAllBy && (r = e.findAllBy(t), n = n.concat(r));\n        }), n;\n      }, e.prototype.findBy = function (t) {\n        var e = this.get(\"children\"),\n            n = null;\n        return i.each(e, function (e) {\n          if (t(e) ? n = e : e.findBy && (n = e.findBy(t)), n) return !1;\n        }), n;\n      }, e.prototype.findAllBy = function (t) {\n        var e = this.get(\"children\"),\n            n = [],\n            r = [];\n        return i.each(e, function (e) {\n          t(e) && n.push(e), e.findAllBy && (r = e.findAllBy(t), n = n.concat(r));\n        }), n;\n      }, e.prototype.getShape = function (t, e, n) {\n        var r,\n            i = this.attrs.clip,\n            a = this.cfg.children;\n\n        if (i) {\n          var o = [t, e, 1];\n          i.invert(o, this.get(\"canvas\")), i.isPointInPath(o[0], o[1]) && (r = c(a, t, e));\n        } else r = c(a, t, e);\n\n        return r;\n      }, e.prototype.clearTotalMatrix = function () {\n        if (this.get(\"totalMatrix\")) {\n          this.setSilent(\"totalMatrix\", null);\n\n          for (var t = this.cfg.children, e = 0; e < t.length; e++) {\n            t[e].clearTotalMatrix();\n          }\n        }\n      }, e.prototype.clear = function (t) {\n        if (!this.destroyed) {\n          for (var e = this.cfg.children, n = e.length - 1; n >= 0; n--) {\n            e[n].remove(!0, t);\n          }\n\n          return this.cfg.children = [], this;\n        }\n      }, e.prototype.destroy = function () {\n        this.destroyed || (this.clear(), t.prototype.destroy.call(this));\n      }, e.prototype.clone = function () {\n        var t = this.cfg.children,\n            n = new e();\n        return i.each(t, function (t) {\n          n.add(t.clone());\n        }), n;\n      }, e;\n    }(a.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Shapes = e.Shape = e.PathUtil = e.PathSegment = e.Group = e.Event = e.Element = e.Canvas = e.BBox = e.version = void 0;\n    var r = n(1),\n        i = n(2);\n    e.BBox = i.default;\n    var a = n(22);\n    e.Canvas = a.default;\n    var o = n(10);\n    e.Element = o.default;\n    var s = n(11);\n    e.Event = s.default;\n    var u = n(20);\n    e.Group = u.default;\n    var c = n(8);\n    e.PathSegment = c.default;\n    var l = n(3);\n    e.Shape = l.default;\n    var h = n(14);\n    e.PathUtil = h;\n    var f = n(15);\n    e.Shapes = f;\n    var p = n(55);\n    e.version = p.version, r.__exportStar(n(15), e), r.__exportStar(n(56), e);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(17),\n        o = n(24),\n        s = n(11),\n        u = n(42),\n        c = n(20),\n        l = a.detect(),\n        h = l && \"firefox\" === l.name,\n        f = [\"click\", \"mousedown\", \"mouseup\", \"dblclick\", \"contextmenu\", \"mouseenter\", \"mouseleave\", \"mouseover\", \"mouseout\", \"mousemove\", \"wheel\"],\n        p = null,\n        d = null,\n        v = null,\n        y = function (t) {\n      function e(e) {\n        var n = t.call(this, r.__assign({\n          eventEnable: !0,\n          width: null,\n          height: null,\n          widthCanvas: null,\n          heightCanvas: null,\n          widthStyle: null,\n          heightStyle: null,\n          containerDOM: null,\n          canvasDOM: null,\n          pixelRatio: null,\n          renderer: \"canvas\",\n          supportCSSTransform: !1\n        }, e)) || this;\n        return n._setGlobalParam(), n._setContainer(), n._initPainter(), n._scale(), n.get(\"eventEnable\") && n.registerEvent(), n;\n      }\n\n      return r.__extends(e, t), e.prototype._scale = function () {\n        if (\"svg\" !== this.cfg.renderType) {\n          var t = this.get(\"pixelRatio\");\n          this.scale(t, t);\n        }\n      }, e.prototype._setGlobalParam = function () {\n        var t = this.get(\"renderer\") || \"canvas\";\n        \"svg\" === t ? this.set(\"pixelRatio\", 1) : this.get(\"pixelRatio\") || this.set(\"pixelRatio\", i.getRatio()), this.cfg.renderType = t;\n        var e = o[t];\n        this.cfg.renderer = e, this.cfg.canvas = this;\n        var n = new u.default(this);\n        this.cfg.timeline = n;\n      }, e.prototype._setContainer = function () {\n        var t = this.get(\"containerId\"),\n            e = this.get(\"containerDOM\");\n        !e && document && (e = document.getElementById(t), this.set(\"containerDOM\", e)), e && i.modifyCSS(e, {\n          position: \"relative\"\n        });\n      }, e.prototype._initPainter = function () {\n        var t = this.get(\"containerDOM\"),\n            e = this.get(\"context\"),\n            n = new this.cfg.renderer.painter(t, e);\n        this.cfg.painter = n, this.cfg.canvasDOM = this.cfg.el = n.canvas, this.changeSize(this.get(\"width\"), this.get(\"height\"));\n      }, e.prototype._resize = function () {\n        var t = this.get(\"canvasDOM\"),\n            e = this.get(\"widthCanvas\"),\n            n = this.get(\"heightCanvas\"),\n            r = this.get(\"widthStyle\"),\n            i = this.get(\"heightStyle\");\n        t.style.width = r, t.style.height = i, t.setAttribute(\"width\", e), t.setAttribute(\"height\", n);\n      }, e.prototype.getWidth = function () {\n        var t = this.get(\"pixelRatio\");\n        return this.get(\"width\") * t;\n      }, e.prototype.getHeight = function () {\n        var t = this.get(\"pixelRatio\");\n        return this.get(\"height\") * t;\n      }, e.prototype.changeSize = function (t, e) {\n        var n = this.get(\"pixelRatio\"),\n            r = t * n,\n            i = e * n;\n        this.set(\"widthCanvas\", r), this.set(\"heightCanvas\", i), this.set(\"widthStyle\", t + \"px\"), this.set(\"heightStyle\", e + \"px\"), this.set(\"width\", t), this.set(\"height\", e), this._resize();\n      }, e.prototype.getPointByEvent = function (t) {\n        if (this.get(\"supportCSSTransform\")) {\n          var e = this.get(\"pixelRatio\") || 1;\n          if (h && !i.isNil(t.layerX) && t.layerX !== t.offsetX) return {\n            x: t.layerX * e,\n            y: t.layerY * e\n          };\n          if (!i.isNil(t.offsetX)) return {\n            x: t.offsetX * e,\n            y: t.offsetY * e\n          };\n        }\n\n        var n = this.getClientByEvent(t),\n            r = n.x,\n            a = n.y;\n        return this.getPointByClient(r, a);\n      }, e.prototype.getClientByEvent = function (t) {\n        var e = t;\n        return t.touches && (e = \"touchend\" === t.type ? t.changedTouches[0] : t.touches[0]), {\n          x: e.clientX,\n          y: e.clientY\n        };\n      }, e.prototype.getPointByClient = function (t, e) {\n        var n = this.get(\"el\"),\n            r = this.get(\"pixelRatio\") || 1,\n            i = n.getBoundingClientRect();\n        return {\n          x: (t - i.left) * r,\n          y: (e - i.top) * r\n        };\n      }, e.prototype.getClientByPoint = function (t, e) {\n        var n = this.get(\"el\").getBoundingClientRect(),\n            r = this.get(\"pixelRatio\") || 1;\n        return {\n          clientX: t / r + n.left,\n          clientY: e / r + n.top\n        };\n      }, e.prototype.draw = function () {\n        this.cfg.painter.draw(this);\n      }, e.prototype.getShape = function (e, n, r) {\n        return 3 === arguments.length && this.cfg.renderer.getShape ? this.cfg.renderer.getShape.call(this, e, n, r) : t.prototype.getShape.call(this, e, n);\n      }, e.prototype.getRenderer = function () {\n        return this.cfg.renderType;\n      }, e.prototype._drawSync = function () {\n        this.cfg.painter.drawSync(this);\n      }, e.prototype.destroy = function () {\n        var e = this.cfg,\n            n = e.containerDOM,\n            r = e.canvasDOM;\n        r && n && n.removeChild(r), e.timeline.stop(), t.prototype.destroy.call(this);\n      }, e.prototype.registerEvent = function () {\n        var t = this,\n            e = this.get(\"el\");\n        i.each(f, function (n) {\n          e.addEventListener(n, function (e) {\n            t._triggerEvent(n, e);\n          }, !1);\n        }), e.addEventListener(\"touchstart\", function (e) {\n          i.isEmpty(e.targetTouches) || t._triggerEvent(\"touchstart\", e);\n        }, !1), e.addEventListener(\"touchmove\", function (e) {\n          i.isEmpty(e.targetTouches) || t._triggerEvent(\"touchmove\", e);\n        }, !1), e.addEventListener(\"touchend\", function (e) {\n          i.isEmpty(e.changedTouches) || t._triggerEvent(\"touchend\", e);\n        }, !1);\n      }, e.prototype._getEmitter = function (t, e) {\n        if (t) {\n          if (!i.isEmpty(t.getEvents())) return t;\n          var n = t.get(\"parent\");\n          if (n && !e.propagationStopped) return this._getEmitter(n, e);\n        }\n      }, e.prototype._getEventObj = function (t, e, n, r) {\n        var i = new s.default(t, e, !0, !0);\n        return i.x = n.x, i.y = n.y, i.clientX = e.clientX, i.clientY = e.clientY, i.target = r, i.currentTarget = this._getEmitter(r, i), i;\n      }, e.prototype._triggerEvent = function (t, e) {\n        var n = this.getPointByEvent(e),\n            r = this.getShape(n.x, n.y, e),\n            i = this.get(\"el\");\n\n        if (v && \"svg\" === this.getRenderer() && (r = this.getShape(n.x, n.y)), \"mousemove\" === t) {\n          if (p && p !== r && (this._emitEvent(\"mouseout\", e, n, p), this._emitEvent(\"mouseleave\", e, n, p), v && this._emitEvent(\"dragleave\", e, n, p), p.destroyed || p.removed || (i.style.cursor = p.attr(\"cursor\") || \"default\")), v && (this._emitEvent(\"drag\", e, n, v), this._emitEvent(\"mousemove\", e, n, r || this)), r) v || (d === r ? (v = r, d = null, this._emitEvent(\"dragstart\", e, n, r)) : this._emitEvent(\"mousemove\", e, n, r)), p !== r && (this._emitEvent(\"mouseenter\", e, n, r), this._emitEvent(\"mouseover\", e, n, r), v && this._emitEvent(\"dragenter\", e, n, r));else {\n            var a = this._getEventObj(\"mousemove\", e, n, this);\n\n            this.emit(\"mousemove\", a);\n          }\n          p = r;\n        } else this._emitEvent(t, e, n, r || this), v || \"mousedown\" !== t || (d = r), \"mouseup\" === t && (d = null, v && (v.cfg.capture = !0, this._emitEvent(\"dragend\", e, n, v), v = null, this._emitEvent(\"drop\", e, n, r || this)));\n\n        r && !r.destroyed && (i.style.cursor = r.attr(\"cursor\") || \"default\");\n      }, e.prototype._emitEvent = function (t, e, n, r) {\n        var i = this._getEventObj(t, e, n, r),\n            a = this._getEmitter(r, e);\n\n        return a && a.emit(t, i), a;\n      }, e;\n    }(c.default);\n\n    e.default = y;\n  }, function (t, e) {\n    var n,\n        r,\n        i = t.exports = {};\n\n    function a() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function o() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function s(t) {\n      if (n === setTimeout) return setTimeout(t, 0);\n      if ((n === a || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0);\n\n      try {\n        return n(t, 0);\n      } catch (e) {\n        try {\n          return n.call(null, t, 0);\n        } catch (e) {\n          return n.call(this, t, 0);\n        }\n      }\n    }\n\n    !function () {\n      try {\n        n = \"function\" == typeof setTimeout ? setTimeout : a;\n      } catch (t) {\n        n = a;\n      }\n\n      try {\n        r = \"function\" == typeof clearTimeout ? clearTimeout : o;\n      } catch (t) {\n        r = o;\n      }\n    }();\n    var u,\n        c = [],\n        l = !1,\n        h = -1;\n\n    function f() {\n      l && u && (l = !1, u.length ? c = u.concat(c) : h = -1, c.length && p());\n    }\n\n    function p() {\n      if (!l) {\n        var t = s(f);\n        l = !0;\n\n        for (var e = c.length; e;) {\n          for (u = c, c = []; ++h < e;) {\n            u && u[h].run();\n          }\n\n          h = -1, e = c.length;\n        }\n\n        u = null, l = !1, function (t) {\n          if (r === clearTimeout) return clearTimeout(t);\n          if ((r === o || !r) && clearTimeout) return r = clearTimeout, clearTimeout(t);\n\n          try {\n            r(t);\n          } catch (e) {\n            try {\n              return r.call(null, t);\n            } catch (e) {\n              return r.call(this, t);\n            }\n          }\n        }(t);\n      }\n    }\n\n    function d(t, e) {\n      this.fun = t, this.array = e;\n    }\n\n    function v() {}\n\n    i.nextTick = function (t) {\n      var e = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) {\n        e[n - 1] = arguments[n];\n      }\n      c.push(new d(t, e)), 1 !== c.length || l || s(p);\n    }, d.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, i.title = \"browser\", i.browser = !0, i.env = {}, i.argv = [], i.version = \"\", i.versions = {}, i.on = v, i.addListener = v, i.once = v, i.off = v, i.removeListener = v, i.removeAllListeners = v, i.emit = v, i.prependListener = v, i.prependOnceListener = v, i.listeners = function (t) {\n      return [];\n    }, i.binding = function (t) {\n      throw new Error(\"process.binding is not supported\");\n    }, i.cwd = function () {\n      return \"/\";\n    }, i.chdir = function (t) {\n      throw new Error(\"process.chdir is not supported\");\n    }, i.umask = function () {\n      return 0;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.svg = e.canvas = void 0;\n    var r = n(25);\n    e.canvas = r;\n    var i = n(28);\n    e.svg = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(26);\n    Object.defineProperty(e, \"painter\", {\n      enumerable: !0,\n      get: function get() {\n        return r.default;\n      }\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(27),\n        a = [\"fillStyle\", \"font\", \"globalAlpha\", \"lineCap\", \"lineWidth\", \"lineJoin\", \"miterLimit\", \"shadowBlur\", \"shadowColor\", \"shadowOffsetX\", \"shadowOffsetY\", \"strokeStyle\", \"textAlign\", \"textBaseline\", \"lineDash\", \"lineDashOffset\"],\n        o = function () {\n      function t(t, e) {\n        if (!t) return this.type = \"canvas\", this.canvas = e.canvas, this.context = e, this;\n        var n = r.uniqueId(\"canvas_\"),\n            i = r.createDom('<canvas id=\"' + n + '\"></canvas>');\n        return t.appendChild(i), this.type = \"canvas\", this.canvas = i, this.context = i.getContext(\"2d\"), this;\n      }\n\n      return t.prototype.beforeDraw = function () {\n        var t = this.canvas;\n        this.context && this.context.clearRect(0, 0, t.width, t.height);\n      }, t.prototype.draw = function (t) {\n        var e = this;\n        e.animateHandler ? e.toDraw = !0 : function n() {\n          e.animateHandler = r.requestAnimationFrame(function () {\n            e.animateHandler = void 0, e.toDraw && n();\n          }), e.beforeDraw();\n\n          try {\n            e._drawGroup(t);\n          } catch (t) {\n            console.warn(\"error in draw canvas, detail as:\"), console.warn(t);\n          } finally {\n            e.toDraw = !1;\n          }\n        }();\n      }, t.prototype.drawSync = function (t) {\n        this.beforeDraw(), this._drawGroup(t);\n      }, t.prototype._drawGroup = function (t) {\n        if (!t.removed && !t.destroyed && t.cfg.visible) {\n          var e = t.cfg.children,\n              n = null;\n          this.setContext(t);\n\n          for (var r = 0; r < e.length; r++) {\n            n = e[r], e[r].isGroup ? this._drawGroup(n) : this._drawShape(n);\n          }\n\n          this.restoreContext(t);\n        }\n      }, t.prototype._drawShape = function (t) {\n        t.removed || t.destroyed || !t.cfg.visible || (this.setContext(t), t.drawInner(this.context), this.restoreContext(t), t.cfg.attrs = t.attrs, t.cfg.hasUpdate = !1);\n      }, t.prototype.setContext = function (t) {\n        var e = this.context,\n            n = t.attrs.clip;\n        e.save(), n && (n.resetTransform(e), n.createPath(e), e.clip()), this.resetContext(t), t.resetTransform(e);\n      }, t.prototype.restoreContext = function (t) {\n        this.context.restore();\n      }, t.prototype.resetContext = function (t) {\n        var e = this.context,\n            n = t.attrs;\n        if (!t.isGroup) for (var o in n) {\n          if (a.indexOf(o) > -1) {\n            var s = n[o];\n            \"fillStyle\" === o && (s = i.parseStyle(s, t, e)), \"strokeStyle\" === o && (s = i.parseStyle(s, t, e)), \"lineDash\" === o && e.setLineDash ? r.isArray(s) ? e.setLineDash(s) : r.isString(s) && e.setLineDash(s.split(\" \")) : e[o] = s;\n          }\n        }\n      }, t;\n    }();\n\n    e.default = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.parseStyle = e.parsePath = void 0;\n    var r = n(0),\n        i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,\n        a = /[^\\s\\,]+/gi,\n        o = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        s = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        u = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,\n        c = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\n    function l(t, e) {\n      var n = t.match(c);\n      r.each(n, function (t) {\n        t = t.split(\":\"), e.addColorStop(t[0], t[1]);\n      });\n    }\n\n    e.parsePath = function (t) {\n      return t = t || [], r.isArray(t) ? t : r.isString(t) ? (t = t.match(i), r.each(t, function (e, n) {\n        if ((e = e.match(a))[0].length > 1) {\n          var i = e[0].charAt(0);\n          e.splice(1, 0, e[0].substr(1)), e[0] = i;\n        }\n\n        r.each(e, function (t, n) {\n          isNaN(t) || (e[n] = +t);\n        }), t[n] = e;\n      }), t) : void 0;\n    }, e.parseStyle = function (t, e, n) {\n      if (r.isString(t)) {\n        if (\"(\" === t[1] || \"(\" === t[2]) {\n          if (\"l\" === t[0]) return function (t, e, n) {\n            var i,\n                a,\n                s = o.exec(t),\n                u = r.mod(r.toRadian(parseFloat(s[1])), 2 * Math.PI),\n                c = s[2],\n                h = e.getBBox(),\n                f = h.maxX,\n                p = h.maxY;\n            u >= 0 && u < .5 * Math.PI ? (i = {\n              x: h.x,\n              y: h.y\n            }, a = {\n              x: f,\n              y: p\n            }) : .5 * Math.PI <= u && u < Math.PI ? (i = {\n              x: f,\n              y: h.y\n            }, a = {\n              x: h.x,\n              y: p\n            }) : Math.PI <= u && u < 1.5 * Math.PI ? (i = {\n              x: f,\n              y: p\n            }, a = {\n              x: h.x,\n              y: h.y\n            }) : (i = {\n              x: h.x,\n              y: p\n            }, a = {\n              x: f,\n              y: h.y\n            });\n            var d = Math.tan(u),\n                v = d * d,\n                y = (a.x - i.x + d * (a.y - i.y)) / (v + 1) + i.x,\n                g = d * (a.x - i.x + d * (a.y - i.y)) / (v + 1) + i.y,\n                x = n.createLinearGradient(i.x, i.y, y, g);\n            return l(c, x), x;\n          }(t, e, n);\n          if (\"r\" === t[0]) return function (t, e, n) {\n            var r = s.exec(t),\n                i = parseFloat(r[1]),\n                a = parseFloat(r[2]),\n                o = parseFloat(r[3]),\n                u = r[4];\n\n            if (0 === o) {\n              var h = u.match(c);\n              return h[h.length - 1].split(\":\")[1];\n            }\n\n            var f = e.getBBox(),\n                p = f.maxX,\n                d = f.maxY,\n                v = p - f.x,\n                y = d - f.y,\n                g = Math.sqrt(v * v + y * y) / 2,\n                x = n.createRadialGradient(f.x + v * i, f.y + y * a, o * g, f.x + v / 2, f.y + y / 2, g);\n            return l(u, x), x;\n          }(t, e, n);\n          if (\"p\" === t[0]) return function (t, e, n) {\n            if (e.get(\"patternSource\") && e.get(\"patternSource\") === t) return e.get(\"pattern\");\n            var r,\n                i,\n                a = u.exec(t),\n                o = a[1],\n                s = a[2];\n\n            function c() {\n              r = n.createPattern(i, o), e.setSilent(\"pattern\", r), e.setSilent(\"patternSource\", t);\n            }\n\n            switch (o) {\n              case \"a\":\n                o = \"repeat\";\n                break;\n\n              case \"x\":\n                o = \"repeat-x\";\n                break;\n\n              case \"y\":\n                o = \"repeat-y\";\n                break;\n\n              case \"n\":\n                o = \"no-repeat\";\n                break;\n\n              default:\n                o = \"no-repeat\";\n            }\n\n            return i = new Image(), s.match(/^data:/i) || (i.crossOrigin = \"Anonymous\"), i.src = s, i.complete ? c() : (i.onload = c, i.src = i.src), r;\n          }(t, e, n);\n        }\n\n        return t;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(29);\n    Object.defineProperty(e, \"painter\", {\n      enumerable: !0,\n      get: function get() {\n        return r.default;\n      }\n    });\n    var i = n(41);\n    Object.defineProperty(e, \"getShape\", {\n      enumerable: !0,\n      get: function get() {\n        return i.default;\n      }\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(17),\n        a = n(30),\n        o = n(6),\n        s = (n(18).default.symbolsFactory, {\n      rect: \"path\",\n      circle: \"circle\",\n      line: \"line\",\n      path: \"path\",\n      marker: \"path\",\n      text: \"text\",\n      polygon: \"polygon\",\n      image: \"image\",\n      ellipse: \"ellipse\",\n      dom: \"foreignObject\",\n      fan: \"path\",\n      group: \"g\"\n    }),\n        u = {\n      opacity: \"opacity\",\n      fillStyle: \"fill\",\n      strokeOpacity: \"stroke-opacity\",\n      fillOpacity: \"fill-opacity\",\n      strokeStyle: \"stroke\",\n      x: \"x\",\n      y: \"y\",\n      r: \"r\",\n      width: \"width\",\n      height: \"height\",\n      x1: \"x1\",\n      x2: \"x2\",\n      y1: \"y1\",\n      y2: \"y2\",\n      lineCap: \"stroke-linecap\",\n      lineJoin: \"stroke-linejoin\",\n      lineWidth: \"stroke-width\",\n      lineDash: \"stroke-dasharray\",\n      lineDashOffset: \"stroke-dashoffset\",\n      miterLimit: \"stroke-miterlimit\",\n      font: \"font\",\n      fontSize: \"font-size\",\n      fontStyle: \"font-style\",\n      fontVariant: \"font-variant\",\n      fontWeight: \"font-weight\",\n      fontFamily: \"font-family\",\n      startArrow: \"marker-start\",\n      endArrow: \"marker-end\",\n      path: \"d\",\n      class: \"class\",\n      id: \"id\",\n      style: \"style\",\n      preserveAspectRatio: \"preserveAspectRatio\"\n    },\n        c = {\n      top: \"before-edge\",\n      middle: \"central\",\n      bottom: \"after-edge\",\n      alphabetic: \"baseline\",\n      hanging: \"hanging\"\n    },\n        l = {\n      top: \"text-before-edge\",\n      middle: \"central\",\n      bottom: \"text-after-edge\",\n      alphabetic: \"alphabetic\",\n      hanging: \"hanging\"\n    },\n        h = {\n      left: \"left\",\n      start: \"left\",\n      center: \"middle\",\n      right: \"end\",\n      end: \"end\"\n    },\n        f = function () {\n      function t(t) {\n        if (this.toDraw = !1, this.type = \"svg\", this.removed = !1, this.destroyed = !1, !t) return null;\n        var e = r.uniqueId(\"canvas_\"),\n            n = r.createDom('<svg id=\"' + e + '\"></svg>');\n        return t.appendChild(n), this.type = \"svg\", this.canvas = n, this.context = new a.default(n), this.toDraw = !1, this;\n      }\n\n      return t.prototype.draw = function (t) {\n        var e = this;\n        e.animateHandler ? e.toDraw = !0 : function n() {\n          e.animateHandler = r.requestAnimationFrame(function () {\n            e.animateHandler = void 0, e.toDraw && n();\n          });\n\n          try {\n            e._drawChildren(t);\n          } catch (t) {\n            console.warn(\"error in draw canvas, detail as:\"), console.warn(t);\n          } finally {\n            e.toDraw = !1;\n          }\n        }();\n      }, t.prototype.drawSync = function (t) {\n        this._drawChildren(t);\n      }, t.prototype._drawGroup = function (t, e) {\n        var n = t.cfg;\n        t.removed || t.destroyed || (n.tobeRemoved && (r.each(n.tobeRemoved, function (t) {\n          t.parentNode && t.parentNode.removeChild(t);\n        }), n.tobeRemoved = []), this._drawShape(t, e), n.children && n.children.length > 0 && this._drawChildren(t));\n      }, t.prototype._drawChildren = function (t) {\n        var e,\n            n = t.cfg.children;\n        if (n) for (var r = 0; r < n.length; r++) {\n          (e = n[r]).isGroup ? this._drawGroup(e, r) : this._drawShape(e, r);\n        }\n      }, t.prototype._drawShape = function (t, e) {\n        var n = t.attrs,\n            r = t.cfg,\n            i = r.el;\n        t.removed || t.destroyed ? i && i.parentNode.removeChild(r.el) : (!i && r.parent && (this._createDom(t, e), this._updateShape(t)), i = r.el, !1 !== r.visible ? (r.visible && i.hasAttribute(\"visibility\") && i.removeAttribute(\"visibility\"), r.hasUpdate && this._updateShape(t), n.clip && n.clip.cfg.hasUpdate && this._updateShape(n.clip)) : i.setAttribute(\"visibility\", \"hidden\"));\n      }, t.prototype._updateShape = function (t) {\n        var e = t.attrs,\n            n = t.cfg.attrs;\n        if (n) if (t.cfg.el || this._createDom(t), \"clip\" in e && this._setClip(t, e.clip), (\"shadowOffsetX\" in e || \"shadowOffsetY\" in e || \"shadowBlur\" in e || \"shadowColor\" in e) && this._setShadow(t), \"text\" !== t.type) {\n          for (var i in \"fan\" === t.type && this._updateFan(t), \"marker\" === t.type && t.cfg.el.setAttribute(\"d\", this._assembleMarker(t, e)), \"rect\" === t.type && t.cfg.el.setAttribute(\"d\", this._assembleRect(e)), e) {\n            e[i] !== n[i] && this._setAttribute(t, i, e[i]);\n          }\n\n          t.cfg.attrs = r.deepMix({}, t.attrs), t.cfg.hasUpdate = !1;\n        } else this._updateText(t);\n      }, t.prototype._setAttribute = function (t, e, n) {\n        var i = t.type,\n            a = t.attrs,\n            o = t.cfg.el,\n            s = this.context;\n        if (\"marker\" !== i && \"rect\" !== i || !~[\"x\", \"y\", \"radius\", \"r\"].indexOf(e)) if (~[\"circle\", \"ellipse\"].indexOf(i) && ~[\"x\", \"y\"].indexOf(e)) o.setAttribute(\"c\" + e, parseInt(n, 10));else {\n          if (\"polygon\" === i && \"points\" === e) return n && 0 !== n.length || (n = \"\"), r.isArray(n) && (n = (n = n.map(function (t) {\n            return t[0] + \",\" + t[1];\n          })).join(\" \")), void o.setAttribute(\"points\", n);\n          if (\"path\" !== e) {\n            if (\"img\" !== e) {\n              if (\"transform\" === e) return n ? void this._setTransform(t) : void o.removeAttribute(\"transform\");\n              if (\"rotate\" === e) return n ? void this._setTransform(t) : void o.removeAttribute(\"transform\");\n              if (\"matrix\" !== e) {\n                if (\"fillStyle\" !== e && \"strokeStyle\" !== e) {\n                  if (\"clip\" !== e) if (~e.indexOf(\"Arrow\")) {\n                    if (e = u[e], n) {\n                      var c = null;\n                      c = \"boolean\" == typeof n ? s.getDefaultArrow(a, e) : s.addArrow(a, e), o.setAttribute(e, \"url(#\" + c + \")\"), t.cfg[e] = c;\n                    } else t.cfg[e] = null, o.removeAttribute(e);\n                  } else \"html\" === e && (\"string\" == typeof n ? o.innerHTML = n : (o.innerHTML = \"\", o.appendChild(n))), u[e] && o.setAttribute(u[e], n);\n                } else this._setColor(t, e, n);\n              } else this._setTransform(t);\n            } else this._setImage(t, n);\n          } else r.isArray(n) && o.setAttribute(\"d\", this._formatPath(n));\n        }\n      }, t.prototype._createDom = function (t, e) {\n        var n = s[t.type],\n            r = t.attrs,\n            i = t.cfg.parent;\n        if (!n) throw new Error(\"the type\" + t.type + \"is not supported by svg\");\n        var a = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n\n        if (t.cfg.id && (a.id = t.cfg.id), t.cfg.el = a, i) {\n          var o = i.cfg.el;\n          if (void 0 === e) o.appendChild(a);else {\n            var u = i.cfg.el.childNodes;\n            \"svg\" === o.tagName && (e += 1), u.length <= e ? o.appendChild(a) : o.insertBefore(a, u[e]);\n          }\n        }\n\n        return t.cfg.attrs = {}, \"text\" === t.type ? (a.setAttribute(\"paint-order\", \"stroke\"), a.setAttribute(\"style\", \"stroke-linecap:butt; stroke-linejoin:miter;\")) : (r.stroke || r.strokeStyle || a.setAttribute(\"stroke\", \"none\"), r.fill || r.fillStyle || a.setAttribute(\"fill\", \"none\")), a;\n      }, t.prototype._assembleMarker = function (t, e) {\n        var n = t._getPath();\n\n        return r.isArray(n) ? n.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\") : n;\n      }, t.prototype._assembleRect = function (t) {\n        var e = t.x,\n            n = t.y,\n            i = t.width,\n            a = t.height,\n            s = t.radius;\n        if (!s) return \"M \" + e + \",\" + n + \" l \" + i + \",0 l 0,\" + a + \" l\" + -i + \" 0 z\";\n        var u = o.parseRadius(s);\n        return r.isArray(s) ? 1 === s.length ? u.r1 = u.r2 = u.r3 = u.r4 = s[0] : 2 === s.length ? (u.r1 = u.r3 = s[0], u.r2 = u.r4 = s[1]) : 3 === s.length ? (u.r1 = s[0], u.r2 = u.r4 = s[1], u.r3 = s[2]) : (u.r1 = s[0], u.r2 = s[1], u.r3 = s[2], u.r4 = s[3]) : u.r1 = u.r2 = u.r3 = u.r4 = s, [[\"M \" + (e + u.r1) + \",\" + n], [\"l \" + (i - u.r1 - u.r2) + \",0\"], [\"a \" + u.r2 + \",\" + u.r2 + \",0,0,1,\" + u.r2 + \",\" + u.r2], [\"l 0,\" + (a - u.r2 - u.r3)], [\"a \" + u.r3 + \",\" + u.r3 + \",0,0,1,\" + -u.r3 + \",\" + u.r3], [\"l \" + (u.r3 + u.r4 - i) + \",0\"], [\"a \" + u.r4 + \",\" + u.r4 + \",0,0,1,\" + -u.r4 + \",\" + -u.r4], [\"l 0,\" + (u.r4 + u.r1 - a)], [\"a \" + u.r1 + \",\" + u.r1 + \",0,0,1,\" + u.r1 + \",\" + -u.r1], [\"z\"]].join(\" \");\n      }, t.prototype._formatPath = function (t) {\n        return ~(t = t.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\")).indexOf(\"NaN\") ? \"\" : t;\n      }, t.prototype._setTransform = function (t) {\n        for (var e = t.attrs.matrix, n = t.cfg.el, r = [], i = 0; i < 9; i += 3) {\n          r.push(e[i] + \",\" + e[i + 1]);\n        }\n\n        -1 === (r = r.join(\",\")).indexOf(\"NaN\") ? n.setAttribute(\"transform\", \"matrix(\" + r + \")\") : console.warn(\"invalid matrix:\", e);\n      }, t.prototype._setImage = function (t, e) {\n        var n = t.attrs,\n            i = t.cfg.el;\n        if (r.isString(e)) i.setAttribute(\"href\", e);else if (e instanceof Image) n.width || (i.setAttribute(\"width\", e.width), t.attrs.width = e.width), n.height || (i.setAttribute(\"height\", e.height), t.attrs.height = e.height), i.setAttribute(\"href\", e.src);else if (e instanceof HTMLElement && r.isString(e.nodeName) && \"CANVAS\" === e.nodeName.toUpperCase()) i.setAttribute(\"href\", e.toDataURL());else if (e instanceof ImageData) {\n          var a = document.createElement(\"canvas\");\n          a.setAttribute(\"width\", \"\" + e.width), a.setAttribute(\"height\", \"\" + e.height), a.getContext(\"2d\").putImageData(e, 0, 0), n.width || (i.setAttribute(\"width\", e.width), t.attrs.width = e.width), n.height || (i.setAttribute(\"height\", e.height), t.attrs.height = e.height), i.setAttribute(\"href\", a.toDataURL());\n        }\n      }, t.prototype._updateFan = function (t) {\n        function e(t, e, n) {\n          return {\n            x: e * Math.cos(t) + n.x,\n            y: e * Math.sin(t) + n.y\n          };\n        }\n\n        var n = t.attrs,\n            i = t.cfg,\n            a = {\n          x: n.x,\n          y: n.y\n        },\n            o = [],\n            s = n.startAngle,\n            u = n.endAngle;\n        r.isNumberEqual(u - s, 2 * Math.PI) && (u -= 1e-5);\n        var c = e(s, n.re, a),\n            l = e(u, n.re, a),\n            h = u > s ? 1 : 0,\n            f = Math.abs(u - s) > Math.PI ? 1 : 0,\n            p = n.rs,\n            d = n.re,\n            v = e(s, n.rs, a),\n            y = e(u, n.rs, a);\n        n.rs > 0 ? (o.push(\"M \" + l.x + \",\" + l.y), o.push(\"L \" + y.x + \",\" + y.y), o.push(\"A \" + p + \",\" + p + \",0,\" + f + \",\" + (1 === h ? 0 : 1) + \",\" + v.x + \",\" + v.y), o.push(\"L \" + c.x + \" \" + c.y)) : (o.push(\"M \" + a.x + \",\" + a.y), o.push(\"L \" + c.x + \",\" + c.y)), o.push(\"A \" + d + \",\" + d + \",0,\" + f + \",\" + h + \",\" + l.x + \",\" + l.y), n.rs > 0 ? o.push(\"L \" + y.x + \",\" + y.y) : o.push(\"Z\"), i.el.setAttribute(\"d\", o.join(\" \"));\n      }, t.prototype._updateText = function (t) {\n        var e = t.attrs,\n            n = t.cfg.attrs,\n            r = t.cfg.el;\n\n        for (var i in this._setFont(t), e) {\n          if (e[i] !== n[i]) {\n            if (\"text\" === i) {\n              this._setText(t, \"\" + e[i]);\n\n              continue;\n            }\n\n            if (\"fillStyle\" === i || \"strokeStyle\" === i) {\n              this._setColor(t, i, e[i]);\n\n              continue;\n            }\n\n            if (\"matrix\" === i) {\n              this._setTransform(t);\n\n              continue;\n            }\n\n            u[i] && r.setAttribute(u[i], e[i]);\n          }\n        }\n\n        t.cfg.attrs = Object.assign({}, t.attrs), t.cfg.hasUpdate = !1;\n      }, t.prototype._setFont = function (t) {\n        var e = t.get(\"el\"),\n            n = t.attrs,\n            r = n.fontSize,\n            a = i.detect();\n        a && \"firefox\" === a.name ? e.setAttribute(\"dominant-baseline\", l[n.textBaseline] || \"alphabetic\") : e.setAttribute(\"alignment-baseline\", c[n.textBaseline] || \"baseline\"), e.setAttribute(\"text-anchor\", h[n.textAlign] || \"left\"), r && +r < 12 && (n.matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1], t.transform([[\"t\", -n.x, -n.y], [\"s\", +r / 12, +r / 12], [\"t\", n.x, n.y]]));\n      }, t.prototype._setText = function (t, e) {\n        var n = t.cfg.el,\n            i = t.attrs.textBaseline || \"bottom\";\n        if (e) {\n          if (~e.indexOf(\"\\n\")) {\n            var a = t.attrs.x,\n                o = e.split(\"\\n\"),\n                s = o.length - 1,\n                u = \"\";\n            r.each(o, function (t, e) {\n              0 === e ? \"alphabetic\" === i ? u += '<tspan x=\"' + a + '\" dy=\"' + -s + 'em\">' + t + \"</tspan>\" : \"top\" === i ? u += '<tspan x=\"' + a + '\" dy=\"0.9em\">' + t + \"</tspan>\" : \"middle\" === i ? u += '<tspan x=\"' + a + '\" dy=\"' + -(s - 1) / 2 + 'em\">' + t + \"</tspan>\" : \"bottom\" === i ? u += '<tspan x=\"' + a + '\" dy=\"-' + (s + .3) + 'em\">' + t + \"</tspan>\" : \"hanging\" === i && (u += '<tspan x=\"' + a + '\" dy=\"' + (-(s - 1) - .3) + 'em\">' + t + \"</tspan>\") : u += '<tspan x=\"' + a + '\" dy=\"1em\">' + t + \"</tspan>\";\n            }), n.innerHTML = u;\n          } else n.innerHTML = e;\n        } else n.innerHTML = \"\";\n      }, t.prototype._setClip = function (t, e) {\n        var n = t.cfg.el;\n        if (e) {\n          if (n.hasAttribute(\"clip-path\")) e.cfg.hasUpdate && this._updateShape(e);else {\n            this._createDom(e), this._updateShape(e);\n            var r = this.context.addClip(e);\n            n.setAttribute(\"clip-path\", \"url(#\" + r + \")\");\n          }\n        } else n.removeAttribute(\"clip-path\");\n      }, t.prototype._setColor = function (t, e, n) {\n        var r = t.cfg.el,\n            i = this.context;\n        if (n) {\n          if (n = n.trim(), /^[r,R,L,l]{1}[\\s]*\\(/.test(n)) (a = i.find(\"gradient\", n)) || (a = i.addGradient(n)), r.setAttribute(u[e], \"url(#\" + a + \")\");else if (/^[p,P]{1}[\\s]*\\(/.test(n)) {\n            var a;\n            (a = i.find(\"pattern\", n)) || (a = i.addPattern(n)), r.setAttribute(u[e], \"url(#\" + a + \")\");\n          } else r.setAttribute(u[e], n);\n        } else r.setAttribute(u[e], \"none\");\n      }, t.prototype._setShadow = function (t) {\n        var e = t.cfg.el,\n            n = t.attrs,\n            r = {\n          dx: n.shadowOffsetX,\n          dy: n.shadowOffsetY,\n          blur: n.shadowBlur,\n          color: n.shadowColor\n        };\n\n        if (r.dx || r.dy || r.blur || r.color) {\n          var i = this.context.find(\"filter\", r);\n          i || (i = this.context.addShadow(r)), e.setAttribute(\"filter\", \"url(#\" + i + \")\");\n        } else e.removeAttribute(\"filter\");\n      }, t;\n    }();\n\n    e.default = f;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(31),\n        a = n(32),\n        o = n(33),\n        s = n(34),\n        u = n(35),\n        c = function () {\n      function t(t) {\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\"),\n            n = r.uniqueId(\"defs_\");\n        e.id = n, t.appendChild(e), this.children = [], this.defaultArrow = {}, this.el = e, this.canvas = t;\n      }\n\n      return t.prototype.find = function (t, e) {\n        for (var n = this.children, r = null, i = 0; i < n.length; i++) {\n          if (n[i].match(t, e)) {\n            r = n[i].id;\n            break;\n          }\n        }\n\n        return r;\n      }, t.prototype.findById = function (t) {\n        for (var e = this.children, n = null, r = 0; r < e.length; r++) {\n          if (e[r].id === t) {\n            n = e[r];\n            break;\n          }\n        }\n\n        return n;\n      }, t.prototype.add = function (t) {\n        this.children.push(t), t.canvas = this.canvas, t.parent = this;\n      }, t.prototype.getDefaultArrow = function (t, e) {\n        var n = t.stroke || t.strokeStyle;\n        if (this.defaultArrow[n]) return this.defaultArrow[n].id;\n        var r = new o.default(t, e);\n        return this.defaultArrow[n] = r, this.el.appendChild(r.el), r.id;\n      }, t.prototype.addGradient = function (t) {\n        var e = new i.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addArrow = function (t, e) {\n        var n = new o.default(t, e);\n        return this.el.appendChild(n.el), n.id;\n      }, t.prototype.addShadow = function (t) {\n        var e = new a.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addPattern = function (t) {\n        var e = new u.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t.prototype.addClip = function (t) {\n        var e = new s.default(t);\n        return this.el.appendChild(e.el), this.add(e), e.id;\n      }, t;\n    }();\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        a = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i,\n        o = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\n    function s(t) {\n      var e = t.match(o);\n      if (!e) return \"\";\n      var n = \"\";\n      return e.sort(function (t, e) {\n        return t = t.split(\":\"), e = e.split(\":\"), Number(t[0]) - Number(e[0]);\n      }), r.each(e, function (t) {\n        t = t.split(\":\"), n += '<stop offset=\"' + t[0] + '\" stop-color=\"' + t[1] + '\"></stop>';\n      }), n;\n    }\n\n    var u = function () {\n      function t(t) {\n        this.cfg = {};\n        var e,\n            n,\n            o,\n            u,\n            c,\n            l,\n            h,\n            f = null,\n            p = r.uniqueId(\"gradient_\");\n        return \"l\" === t.toLowerCase()[0] ? function (t, e) {\n          var n,\n              a,\n              o = i.exec(t),\n              u = r.mod(r.toRadian(parseFloat(o[1])), 2 * Math.PI),\n              c = o[2];\n          u >= 0 && u < .5 * Math.PI ? (n = {\n            x: 0,\n            y: 0\n          }, a = {\n            x: 1,\n            y: 1\n          }) : .5 * Math.PI <= u && u < Math.PI ? (n = {\n            x: 1,\n            y: 0\n          }, a = {\n            x: 0,\n            y: 1\n          }) : Math.PI <= u && u < 1.5 * Math.PI ? (n = {\n            x: 1,\n            y: 1\n          }, a = {\n            x: 0,\n            y: 0\n          }) : (n = {\n            x: 0,\n            y: 1\n          }, a = {\n            x: 1,\n            y: 0\n          });\n          var l = Math.tan(u),\n              h = l * l,\n              f = (a.x - n.x + l * (a.y - n.y)) / (h + 1) + n.x,\n              p = l * (a.x - n.x + l * (a.y - n.y)) / (h + 1) + n.y;\n          e.setAttribute(\"x1\", n.x), e.setAttribute(\"y1\", n.y), e.setAttribute(\"x2\", f), e.setAttribute(\"y2\", p), e.innerHTML = s(c);\n        }(t, f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\")) : (f = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\"), e = t, n = f, o = a.exec(e), u = parseFloat(o[1]), c = parseFloat(o[2]), l = parseFloat(o[3]), h = o[4], n.setAttribute(\"cx\", u), n.setAttribute(\"cy\", c), n.setAttribute(\"r\", l), n.innerHTML = s(h)), f.setAttribute(\"id\", p), this.el = f, this.id = p, this.cfg = t, this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        return this.cfg === e;\n      }, t;\n    }();\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = {\n      shadowColor: \"color\",\n      shadowOpacity: \"opacity\",\n      shadowBlur: \"blur\",\n      shadowOffsetX: \"dx\",\n      shadowOffsetY: \"dy\"\n    },\n        a = {\n      x: \"-40%\",\n      y: \"-40%\",\n      width: \"200%\",\n      height: \"200%\"\n    },\n        o = function () {\n      function t(t) {\n        this.type = \"filter\", this.cfg = {}, this.type = \"filter\";\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"filter\");\n        return r.each(a, function (t, n) {\n          e.setAttribute(n, t);\n        }), this.el = e, this.id = r.uniqueId(\"filter_\"), this.el.id = this.id, this.cfg = t, this._parseShadow(t, e), this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        if (this.type !== t) return !1;\n        var n = !0,\n            i = this.cfg;\n        return r.each(Object.keys(i), function (t) {\n          if (i[t] !== e[t]) return n = !1, !1;\n        }), n;\n      }, t.prototype.update = function (t, e) {\n        var n = this.cfg;\n        return n[i[t]] = e, this._parseShadow(n, this.el), this;\n      }, t.prototype._parseShadow = function (t, e) {\n        var n = '<feDropShadow\\n      dx=\"' + (t.dx || 0) + '\"\\n      dy=\"' + (t.dy || 0) + '\"\\n      stdDeviation=\"' + (t.blur ? t.blur / 10 : 0) + '\"\\n      flood-color=\"' + (t.color ? t.color : \"#000\") + '\"\\n      flood-opacity=\"' + (t.opacity ? t.opacity : 1) + '\"\\n      />';\n        e.innerHTML = n;\n      }, t;\n    }();\n\n    e.default = o;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t, e) {\n        this.cfg = {};\n        var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"marker\"),\n            i = r.uniqueId(\"marker_\");\n        n.setAttribute(\"id\", i);\n        var a = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        a.setAttribute(\"stroke\", \"none\"), a.setAttribute(\"fill\", t.stroke || \"#000\"), n.appendChild(a), n.setAttribute(\"overflow\", \"visible\"), n.setAttribute(\"orient\", \"auto-start-reverse\"), this.el = n, this.child = a, this.id = i;\n        var o = t[\"marker-start\" === e ? \"startArrow\" : \"endArrow\"];\n        return this.stroke = t.stroke || \"#000\", !0 === o ? this._setDefaultPath(e, a) : this._setMarker(t.lineWidth, a), this;\n      }\n\n      return t.prototype.match = function () {\n        return !1;\n      }, t.prototype._setDefaultPath = function (t, e) {\n        var n = this.el;\n        e.setAttribute(\"d\", \"M0,0 L6,3 L0,6 L3,3Z\"), n.setAttribute(\"refX\", \"3\"), n.setAttribute(\"refY\", \"3\");\n      }, t.prototype._setMarker = function (t, e) {\n        var n = this.el,\n            i = this.cfg.path,\n            a = this.cfg.d;\n        r.isArray(i) && (i = i.map(function (t) {\n          return t.join(\" \");\n        }).join(\"\")), e.setAttribute(\"d\", i), n.appendChild(e), a && n.setAttribute(\"refX\", \"\" + a / t);\n      }, t.prototype.update = function (t) {\n        var e = this.child;\n        e.attr ? e.attr(\"fill\", t) : e.setAttribute(\"fill\", t);\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = function () {\n      function t(t) {\n        this.type = \"clip\", this.cfg = {};\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        this.el = e, this.id = r.uniqueId(\"clip_\"), e.id = this.id;\n        var n = t.cfg.el;\n        return e.appendChild(n.cloneNode(!0)), this.cfg = t, this;\n      }\n\n      return t.prototype.match = function () {\n        return !1;\n      }, t.prototype.remove = function () {\n        var t = this.el;\n        t.parentNode.removeChild(t);\n      }, t;\n    }();\n\n    e.default = i;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i,\n        a = function () {\n      function t(t) {\n        this.cfg = {};\n        var e = document.createElementNS(\"http://www.w3.org/2000/svg\", \"pattern\");\n        e.setAttribute(\"patternUnits\", \"userSpaceOnUse\");\n        var n = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n        e.appendChild(n);\n        var a = r.uniqueId(\"pattern_\");\n        e.id = a, this.el = e, this.id = a, this.cfg = t;\n        var o = i.exec(t)[2];\n        n.setAttribute(\"href\", o);\n        var s = new Image();\n\n        function u() {\n          e.setAttribute(\"width\", \"\" + s.width), e.setAttribute(\"height\", \"\" + s.height);\n        }\n\n        return o.match(/^data:/i) || (s.crossOrigin = \"Anonymous\"), s.src = o, s.complete ? u() : (s.onload = u, s.src = s.src), this;\n      }\n\n      return t.prototype.match = function (t, e) {\n        return this.cfg === e;\n      }, t;\n    }();\n\n    e.default = a;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0);\n\n    function a(t) {\n      return 1 === t[0] && 0 === t[1] && 0 === t[3] && 1 === t[4] && 0 === t[6] && 0 === t[7];\n    }\n\n    function o(t) {\n      return 0 === t[1] && 0 === t[3] && 0 === t[6] && 0 === t[7];\n    }\n\n    function s(t, e) {\n      a(e) || (o(e) ? (t[0] *= e[0], t[4] *= e[4]) : i.mat3.multiply(t, t, e));\n    }\n\n    var u = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this, e) || this;\n        return n.canFill = !1, n.canStroke = !1, n.attrs = {}, n.attrs = {\n          opacity: 1,\n          fillOpacity: 1,\n          strokeOpacity: 1,\n          matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1]\n        }, n.attr(r.__assign(r.__assign({}, n.getDefaultAttrs()), n.cfg.attrs)), n.cfg.attrs = {}, n;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {};\n      }, e.prototype.attr = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) {\n          t[e] = arguments[e];\n        }\n\n        var n = t[0],\n            r = t[1];\n        if (!n) return this.attrs;\n\n        if (i.isObject(n)) {\n          for (var a in n) {\n            this._setAttr(a, n[a]);\n          }\n\n          return this.clearBBox(), this.cfg.hasUpdate = !0, this;\n        }\n\n        return 2 === t.length ? (this._setAttr(n, r), this.clearBBox(), this.cfg.hasUpdate = !0, this) : this.attrs[n];\n      }, e.prototype._afterSetAttrPath = function (t) {}, e.prototype._setAttr = function (t, e) {\n        var n = this.attrs;\n        n[t] = e, \"fill\" !== t && \"stroke\" !== t ? \"opacity\" !== t ? \"clip\" === t && e ? this._setClip(e) : \"path\" !== t ? \"transform\" !== t ? \"rotate\" === t && this.rotateAtStart(e) : this.transform(e) : this._afterSetAttrPath(e) : n.globalAlpha = e : n[t + \"Style\"] = e;\n      }, e.prototype.clearBBox = function () {\n        this.setSilent(\"box\", null);\n      }, e.prototype.hasFill = function () {\n        return this.canFill && this.attrs.fillStyle;\n      }, e.prototype.hasStroke = function () {\n        return this.canStroke && this.attrs.strokeStyle;\n      }, e.prototype._setClip = function (t) {\n        t.cfg.renderer = this.cfg.renderer, t.cfg.canvas = this.cfg.canvas, t.cfg.parent = this.cfg.parent, t.hasFill = function () {\n          return !0;\n        };\n      }, e.prototype.initTransform = function () {}, e.prototype.resetMatrix = function () {\n        this.attr(\"matrix\", [1, 0, 0, 0, 1, 0, 0, 0, 1]);\n      }, e.prototype.translate = function (t, e) {\n        var n = this.attrs.matrix;\n        return i.mat3.translate(n, n, [t, e]), this.clearTotalMatrix(), this.attr(\"matrix\", n), this;\n      }, e.prototype.rotate = function (t) {\n        var e = this.attrs.matrix;\n        return i.mat3.rotate(e, e, t), this.clearTotalMatrix(), this.attr(\"matrix\", e), this;\n      }, e.prototype.scale = function (t, e) {\n        var n = this.attrs.matrix;\n        return i.mat3.scale(n, n, [t, e]), this.clearTotalMatrix(), this.attr(\"matrix\", n), this;\n      }, e.prototype.rotateAtStart = function (t) {\n        var e = this.attrs.x || 0,\n            n = this.attrs.y || 0;\n        return Math.abs(t) > 2 * Math.PI && (t = t / 180 * Math.PI), this.transform([[\"t\", -e, -n], [\"r\", t], [\"t\", e, n]]);\n      }, e.prototype.move = function (t, e) {\n        var n = this.get(\"x\") || 0,\n            r = this.get(\"y\") || 0;\n        return this.translate(t - n, e - r), this.set(\"x\", t), this.set(\"y\", e), this;\n      }, e.prototype.transform = function (t) {\n        var e = this,\n            n = this.attrs.matrix;\n        return i.each(t, function (t) {\n          switch (t[0]) {\n            case \"t\":\n              e.translate(t[1], t[2]);\n              break;\n\n            case \"s\":\n              e.scale(t[1], t[2]);\n              break;\n\n            case \"r\":\n              e.rotate(t[1]);\n              break;\n\n            case \"m\":\n              e.attr(\"matrix\", i.mat3.multiply([], n, t[1])), e.clearTotalMatrix();\n          }\n        }), this;\n      }, e.prototype.setTransform = function (t) {\n        return this.attr(\"matrix\", [1, 0, 0, 0, 1, 0, 0, 0, 1]), this.transform(t);\n      }, e.prototype.getMatrix = function () {\n        return this.attr(\"matrix\");\n      }, e.prototype.setMatrix = function (t) {\n        return this.attr(\"matrix\", t), this.clearTotalMatrix(), this;\n      }, e.prototype.apply = function (t, e) {\n        var n;\n        return n = e ? this._getMatrixByRoot(e) : this.attr(\"matrix\"), i.vec3.transformMat3(t, t, n), this;\n      }, e.prototype._getMatrixByRoot = function (t) {\n        t = t || this;\n\n        for (var e = this, n = []; e !== t;) {\n          n.unshift(e), e = e.get(\"parent\");\n        }\n\n        n.unshift(e);\n        var r = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        return i.each(n, function (t) {\n          i.mat3.multiply(r, t.attr(\"matrix\"), r);\n        }), r;\n      }, e.prototype.getTotalMatrix = function () {\n        var t = this.cfg.totalMatrix;\n\n        if (!t) {\n          t = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n          var e = this.cfg.parent;\n          if (e) s(t, e.getTotalMatrix());\n          s(t, this.attr(\"matrix\")), this.cfg.totalMatrix = t;\n        }\n\n        return t;\n      }, e.prototype.clearTotalMatrix = function () {}, e.prototype.invert = function (t) {\n        var e = this.getTotalMatrix();\n        if (o(e)) t[0] /= e[0], t[1] /= e[4];else {\n          var n = i.mat3.invert([], e);\n          n && i.vec3.transformMat3(t, t, n);\n        }\n        return this;\n      }, e.prototype.resetTransform = function (t) {\n        var e = this.attr(\"matrix\");\n        a(e) || t.transform(e[0], e[1], e[3], e[4], e[6], e[7]);\n      }, e;\n    }(n(37).default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(38),\n        a = n(0),\n        o = n(11),\n        s = [\"click\", \"mousedown\", \"mouseup\", \"dblclick\", \"contextmenu\", \"mouseover\", \"mouseout\", \"mousemove\", \"wheel\", \"touchstart\", \"touchend\", \"touchmove\", \"dragstart\", \"drag\", \"dragend\", \"dragenter\", \"dragleave\", \"drop\"],\n        u = function (t) {\n      function e(e) {\n        void 0 === e && (e = {});\n        var n = t.call(this) || this;\n        return n.destroyed = !1, n.removed = !1, n.cfg = r.__assign(r.__assign({\n          canvas: null,\n          capture: !0,\n          context: null,\n          parent: null,\n          visible: !0,\n          zIndex: 0\n        }, e), n.getDefaultCfg()), n;\n      }\n\n      return r.__extends(e, t), e.prototype.emit = function (e, n) {\n        for (var i = [], a = 2; a < arguments.length; a++) {\n          i[a - 2] = arguments[a];\n        }\n\n        if (t.prototype.emit.apply(this, r.__spreadArrays([e, n], i)), !(n instanceof o.default && n.propagationStopped) && s.indexOf(e) >= 0) {\n          var u = this.cfg.parent;\n          !u || u.removed || u.destroyed || u.emit.apply(u, r.__spreadArrays([e, n], i));\n        }\n      }, e.prototype.set = function (t, e) {\n        return \"zIndex\" === t && this._beforeSetZIndex && this._beforeSetZIndex(e), \"loading\" === t && this._beforeSetLoading && this._beforeSetLoading(e), this.cfg[t] = e, this;\n      }, e.prototype.setSilent = function (t, e) {\n        this.cfg[t] = e;\n      }, e.prototype.get = function (t) {\n        return this.cfg[t];\n      }, e.prototype.show = function () {\n        return this.cfg.visible = !0, this;\n      }, e.prototype.hide = function () {\n        return this.cfg.visible = !1, this;\n      }, e.prototype.remove = function (t, e) {\n        var n = this.cfg,\n            r = n.parent,\n            i = n.el;\n        return r && !r.destroyed && a.pull(r.get(\"children\"), this), i && (e ? r && r.cfg.tobeRemoved.push(i) : i.parentNode.removeChild(i)), (t || void 0 === t) && this.destroy(), this;\n      }, e.prototype.destroy = function () {\n        this.destroyed || (this.off(), this.cfg = {}, this.destroyed = !0);\n      }, e.prototype.getParent = function () {\n        return this.cfg.parent;\n      }, e.prototype.getDefaultCfg = function () {\n        return {};\n      }, e.prototype.toFront = function () {\n        var t = this.cfg,\n            e = t.parent;\n\n        if (e) {\n          var n = e.cfg.children,\n              r = t.el,\n              i = n.indexOf(this);\n          n.splice(i, 1), n.push(this), r && (r.parentNode.removeChild(r), t.el = null);\n        }\n      }, e.prototype.toBack = function () {\n        var t = this.cfg,\n            e = t.parent;\n\n        if (e) {\n          var n = e.cfg.children,\n              r = t.el,\n              i = n.indexOf(this);\n\n          if (n.splice(i, 1), n.unshift(this), r) {\n            var a = r.parentNode;\n            a.removeChild(r), a.insertBefore(r, a.firstChild);\n          }\n        }\n      }, e.prototype._beforeSetZIndex = function (t) {\n        var e = this.cfg.parent;\n        this.cfg.zIndex = t, a.isNil(e) || e.sort();\n        var n = this.cfg.el;\n\n        if (n) {\n          var r = e.cfg.children,\n              i = r.indexOf(this),\n              o = n.parentNode;\n          o.removeChild(n), i === r.length - 1 ? o.appendChild(n) : o.insertBefore(n, o.childNodes[i]);\n        }\n\n        return t;\n      }, e.prototype._beforeSetLoading = function (t) {}, e.prototype.setZIndex = function (t) {\n        return this.cfg.zIndex = t, this._beforeSetZIndex(t);\n      }, e.prototype.clone = function () {\n        return a.clone(this);\n      }, e.prototype.getBBox = function () {}, e;\n    }(i.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e);\n\n    var r = function () {\n      function t() {\n        this._events = {};\n      }\n\n      return t.prototype.on = function (t, e, n) {\n        return this._events[t] || (this._events[t] = []), this._events[t].push({\n          callback: e,\n          once: !!n\n        }), this;\n      }, t.prototype.once = function (t, e) {\n        return this.on(t, e, !0), this;\n      }, t.prototype.emit = function (t) {\n        for (var e = this, n = [], r = 1; r < arguments.length; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        var i = this._events[t] || [],\n            a = this._events[\"*\"] || [],\n            o = function o(r) {\n          for (var i = r.length, a = 0; a < i; a++) {\n            if (r[a]) {\n              var o = r[a],\n                  s = o.callback;\n              o.once && (r.splice(a, 1), 0 === r.length && delete e._events[t], i--, a--), s.apply(e, n);\n            }\n          }\n        };\n\n        o(i), o(a);\n      }, t.prototype.off = function (t, e) {\n        if (t) {\n          if (e) {\n            for (var n = this._events[t] || [], r = n.length, i = 0; i < r; i++) {\n              n[i].callback === e && (n.splice(i, 1), r--, i--);\n            }\n\n            0 === n.length && delete this._events[t];\n          } else delete this._events[t];\n        } else this._events = {};\n        return this;\n      }, t.prototype.getEvents = function () {\n        return this._events;\n      }, t;\n    }();\n\n    e.default = r;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.yExtrema = e.xExtrema = e.yAt = e.xAt = void 0, e.xAt = function (t, e, n, r, i) {\n      return e * Math.cos(t) * Math.cos(i) - n * Math.sin(t) * Math.sin(i) + r;\n    }, e.yAt = function (t, e, n, r, i) {\n      return e * Math.sin(t) * Math.cos(i) + n * Math.cos(t) * Math.sin(i) + r;\n    }, e.xExtrema = function (t, e, n) {\n      return Math.atan(-n / e * Math.tan(t));\n    }, e.yExtrema = function (t, e, n) {\n      return Math.atan(n / (e * Math.tan(t)));\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = {\n      circle: function circle(t, e, n) {\n        return [[\"M\", t, e], [\"m\", -n, 0], [\"a\", n, n, 0, 1, 0, 2 * n, 0], [\"a\", n, n, 0, 1, 0, 2 * -n, 0]];\n      },\n      square: function square(t, e, n) {\n        return [[\"M\", t - n, e - n], [\"L\", t + n, e - n], [\"L\", t + n, e + n], [\"L\", t - n, e + n], [\"Z\"]];\n      },\n      diamond: function diamond(t, e, n) {\n        return [[\"M\", t - n, e], [\"L\", t, e - n], [\"L\", t + n, e], [\"L\", t, e + n], [\"Z\"]];\n      },\n      triangle: function triangle(t, e, n) {\n        var r = n * Math.sin(1 / 3 * Math.PI);\n        return [[\"M\", t - n, e + r], [\"L\", t, e - r], [\"L\", t + n, e + r], [\"z\"]];\n      },\n      triangleDown: function triangleDown(t, e, n) {\n        var r = n * Math.sin(1 / 3 * Math.PI);\n        return [[\"M\", t - n, e - r], [\"L\", t + n, e - r], [\"L\", t, e + r], [\"Z\"]];\n      }\n    };\n    e.default = {\n      get: function get(t) {\n        return r[t];\n      },\n      register: function register(t, e) {\n        r[t] = e;\n      },\n      remove: function remove(t) {\n        delete r[t];\n      },\n      getAll: function getAll() {\n        return r;\n      }\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = {\n      svg: \"svg\",\n      circle: \"circle\",\n      rect: \"rect\",\n      text: \"text\",\n      path: \"path\",\n      foreignObject: \"foreignObject\",\n      polygon: \"polygon\",\n      ellipse: \"ellipse\",\n      image: \"image\"\n    };\n\n    e.default = function (t, e, n) {\n      var i = n.target || n.srcElement;\n\n      if (!r[i.tagName]) {\n        for (var a = i.parentNode; a && !r[a.tagName];) {\n          a = a.parentNode;\n        }\n\n        i = a;\n      }\n\n      return this.cfg.el === i ? this : this.find(function (t) {\n        return t.cfg && t.cfg.el === i;\n      });\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(59),\n        a = n(58),\n        o = n(57),\n        s = n(14);\n\n    function u(t, e, n) {\n      var i,\n          u = e.startTime;\n      if (n < u + e.delay || e.isPaused) return !1;\n      var c = e.duration,\n          l = e.easing;\n      if (n = n - u - e.delay, e.toAttrs.repeat) i = n % c / c, i = a[l](i);else {\n        if (!((i = n / c) < 1)) return e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), e.toMatrix && t.setMatrix(e.toMatrix), !0;\n        i = a[l](i);\n      }\n\n      if (e.onFrame) {\n        var h = e.onFrame(i);\n        t.attr(h);\n      } else !function (t, e, n) {\n        var i = {},\n            a = e.toAttrs,\n            u = e.fromAttrs,\n            c = e.toMatrix;\n\n        if (!t.destroyed) {\n          var l;\n\n          for (var h in a) {\n            if (!r.isEqual(u[h], a[h])) if (\"path\" === h) {\n              var f = a[h],\n                  p = u[h];\n              f.length > p.length ? (f = s.parsePathString(a[h]), p = s.parsePathString(u[h]), p = s.fillPathByDiff(p, f), p = s.formatPath(p, f), e.fromAttrs.path = p, e.toAttrs.path = f) : e.pathFormatted || (f = s.parsePathString(a[h]), p = s.parsePathString(u[h]), p = s.formatPath(p, f), e.fromAttrs.path = p, e.toAttrs.path = f, e.pathFormatted = !0), i[h] = [];\n\n              for (var d = 0; d < f.length; d++) {\n                for (var v = f[d], y = p[d], g = [], x = 0; x < v.length; x++) {\n                  r.isNumber(v[x]) && y && r.isNumber(y[x]) ? (l = o.interpolate(y[x], v[x]), g.push(l(n))) : g.push(v[x]);\n                }\n\n                i[h].push(g);\n              }\n            } else l = o.interpolate(u[h], a[h]), i[h] = l(n);\n          }\n\n          if (c) {\n            var m = o.interpolateArray(e.fromMatrix, c)(n);\n            t.setMatrix(m);\n          }\n\n          t.attr(i);\n        }\n      }(t, e, i);\n\n      return !1;\n    }\n\n    var c = function () {\n      function t(t) {\n        this.animators = [], this.current = 0, this.timer = null, this.canvas = t;\n      }\n\n      return t.prototype.initTimer = function () {\n        var t,\n            e,\n            n,\n            r = this,\n            a = this;\n        a.timer = i.timer(function (i) {\n          if (a.current = i, r.animators.length > 0) {\n            for (var o = r.animators.length - 1; o >= 0; o--) {\n              if ((t = r.animators[o]).destroyed) a.removeAnimator(o);else {\n                if (!t.get(\"pause\").isPaused) for (var s = (e = t.get(\"animators\")).length - 1; s >= 0; s--) {\n                  n = e[s], u(t, n, i) && (e.splice(s, 1), !1, n.callback && n.callback());\n                }\n                0 === e.length && a.removeAnimator(o);\n              }\n            }\n\n            r.canvas.draw();\n          }\n        });\n      }, t.prototype.addAnimator = function (t) {\n        this.animators.push(t);\n      }, t.prototype.removeAnimator = function (t) {\n        this.animators.splice(t, 1);\n      }, t.prototype.isAnimating = function () {\n        return !!this.animators.length;\n      }, t.prototype.stop = function () {\n        this.timer && this.timer.stop();\n      }, t.prototype.stopAllAnimations = function () {\n        this.animators.forEach(function (t) {\n          t.stopAnimate();\n        }), this.animators = [], this.canvas.draw();\n      }, t.prototype.getTime = function () {\n        return this.current;\n      }, t;\n    }();\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(3),\n        a = n(7),\n        o = n(9),\n        s = n(4),\n        u = n(2);\n\n    function c(t, e, n) {\n      return t + e * Math.cos(n);\n    }\n\n    function l(t, e, n) {\n      return t + e * Math.sin(n);\n    }\n\n    var h = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"arc\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: 0,\n          clockwise: !1,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            a = n.r,\n            o = n.startAngle,\n            u = n.endAngle,\n            c = n.clockwise,\n            l = this.getHitLineWidth();\n        return !!this.hasStroke() && s.arcline(r, i, a, o, u, c, l, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.r,\n            i = t.startAngle,\n            o = t.endAngle,\n            s = t.clockwise,\n            c = this.getHitLineWidth(),\n            l = c / 2,\n            h = a.box(e, n, r, i, o, s);\n        return new u.default(h.x - l, h.y - l, h.width + c, h.height + c);\n      }, e.prototype.getStartTangent = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.startAngle,\n            i = t.r,\n            a = t.clockwise,\n            o = Math.PI / 180;\n        a && (o *= -1);\n        var s = [],\n            u = c(e, i, r + o),\n            h = l(n, i, r + o),\n            f = c(e, i, r),\n            p = l(n, i, r);\n        return s.push([u, h]), s.push([f, p]), s;\n      }, e.prototype.getEndTangent = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.endAngle,\n            i = t.r,\n            a = t.clockwise,\n            o = Math.PI / 180,\n            s = [];\n        a && (o *= -1);\n        var u = c(e, i, r + o),\n            h = l(n, i, r + o),\n            f = c(e, i, r),\n            p = l(n, i, r);\n        return s.push([f, p]), s.push([u, h]), s;\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.r,\n            a = e.startAngle,\n            o = e.endAngle,\n            s = e.clockwise;\n        (t = t || this.get(\"context\")).beginPath(), t.arc(n, r, i, a, o, s);\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs;\n\n        if (t = t || this.get(\"context\"), e.startArrow) {\n          var n = this.getStartTangent();\n          o.addStartArrow(t, e, n[0][0], n[0][1], n[1][0], n[1][1]);\n        }\n\n        if (e.endArrow) {\n          var r = this.getEndTangent();\n          o.addEndArrow(t, e, r[0][0], r[0][1], r[1][0], r[1][1]);\n        }\n      }, e;\n    }(i.default);\n\n    e.default = h;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(4),\n        o = n(2),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"circle\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          r: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x,\n            i = n.y,\n            o = n.r,\n            s = this.getHitLineWidth(),\n            u = this.hasFill(),\n            c = this.hasStroke();\n        return u && c ? a.circle(r, i, o, t, e) || a.arcline(r, i, o, 0, 2 * Math.PI, !1, s, t, e) : u ? a.circle(r, i, o, t, e) : !!c && a.arcline(r, i, o, 0, 2 * Math.PI, !1, s, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.r,\n            i = this.getHitLineWidth() / 2 + r;\n        return o.default.fromRange(e - i, n - i, e + i, n + i);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.r;\n        t.beginPath(), t.arc(n, r, i, 0, 2 * Math.PI, !1), t.closePath();\n      }, e;\n    }(i.default);\n\n    e.default = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(4),\n        o = n(2),\n        s = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"dom\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.isPointInPath = function (t, e) {\n        if (!this.cfg.el) return !1;\n        var n = this.cfg.el.getBBox();\n        return a.box(n.x, n.x + n.width, n.y, n.y + n.height, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.width,\n            i = t.height,\n            a = this.getHitLineWidth() / 2;\n        return new o.default(e - a, n - a, r, i);\n      }, e;\n    }(i.default);\n\n    e.default = s;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"ellipse\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          rx: 1,\n          ry: 1,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = this.hasFill(),\n            a = this.hasStroke(),\n            s = n.x,\n            u = n.y,\n            c = n.rx,\n            l = n.ry,\n            h = this.getHitLineWidth(),\n            f = c > l ? c : l,\n            p = c > l ? 1 : c / l,\n            d = c > l ? l / c : 1,\n            v = [t, e, 1],\n            y = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        i.mat3.scale(y, y, [p, d]), i.mat3.translate(y, y, [s, u]);\n        var g = i.mat3.invert([], y);\n        return i.vec3.transformMat3(v, v, g), r && a ? o.circle(0, 0, f, v[0], v[1]) || o.arcline(0, 0, f, 0, 2 * Math.PI, !1, h, v[0], v[1]) : r ? o.circle(0, 0, f, v[0], v[1]) : !!a && o.arcline(0, 0, f, 0, 2 * Math.PI, !1, h, v[0], v[1]);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.rx,\n            i = t.ry,\n            a = this.getHitLineWidth(),\n            o = r + a / 2,\n            u = i + a / 2;\n        return s.default.fromRange(e - o, n - u, e + o, n + u);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.rx,\n            o = e.ry;\n        t = t || this.get(\"context\");\n        var s = a > o ? a : o,\n            u = a > o ? 1 : a / o,\n            c = a > o ? o / a : 1,\n            l = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        i.mat3.scale(l, l, [u, c]), i.mat3.translate(l, l, [n, r]), t.beginPath(), t.save(), t.transform(l[0], l[1], l[3], l[4], l[6], l[7]), t.arc(0, 0, s, 0, 2 * Math.PI), t.restore(), t.closePath();\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(7),\n        o = n(3),\n        s = n(4),\n        u = n(2),\n        c = n(7),\n        l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"fan\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          rs: 0,\n          re: 0,\n          startAngle: 0,\n          endAngle: 0,\n          clockwise: !1,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            o = n.hasStroke(),\n            u = n.attrs,\n            c = u.x,\n            l = u.y,\n            h = u.rs,\n            f = u.re,\n            p = u.startAngle,\n            d = u.endAngle,\n            v = u.clockwise,\n            y = [t - c, e - l],\n            g = i.vec2.angleTo([1, 0], y);\n\n        function x() {\n          var t = a.nearAngle(g, p, d, v);\n\n          if (i.isNumberEqual(g, t)) {\n            var e = i.vec2.squaredLength(y);\n            if (h * h <= e && e <= f * f) return !0;\n          }\n\n          return !1;\n        }\n\n        function m() {\n          var r = n.getHitLineWidth(),\n              i = {\n            x: Math.cos(p) * h + c,\n            y: Math.sin(p) * h + l\n          },\n              a = {\n            x: Math.cos(p) * f + c,\n            y: Math.sin(p) * f + l\n          },\n              o = {\n            x: Math.cos(d) * h + c,\n            y: Math.sin(d) * h + l\n          },\n              u = {\n            x: Math.cos(d) * f + c,\n            y: Math.sin(d) * f + l\n          };\n          return !!s.line(i.x, i.y, a.x, a.y, r, t, e) || !!s.line(o.x, o.y, u.x, u.y, r, t, e) || !!s.arcline(c, l, h, p, d, v, r, t, e) || !!s.arcline(c, l, f, p, d, v, r, t, e);\n        }\n\n        return r && o ? x() || m() : r ? x() : !!o && m();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.rs,\n            i = t.re,\n            a = t.startAngle,\n            o = t.endAngle,\n            s = t.clockwise,\n            l = this.getHitLineWidth(),\n            h = c.box(e, n, r, a, o, s),\n            f = c.box(e, n, i, a, o, s),\n            p = Math.min(h.minX, f.minX),\n            d = Math.min(h.minY, f.minY),\n            v = Math.max(h.maxX, f.maxX),\n            y = Math.max(h.maxY, f.maxY),\n            g = l / 2;\n        return u.default.fromRange(p - g, d - g, v + g, y + g);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.rs,\n            a = e.re,\n            o = e.startAngle,\n            s = e.endAngle,\n            u = e.clockwise,\n            c = {\n          x: Math.cos(o) * i + n,\n          y: Math.sin(o) * i + r\n        },\n            l = {\n          x: Math.cos(o) * a + n,\n          y: Math.sin(o) * a + r\n        },\n            h = {\n          x: Math.cos(s) * i + n,\n          y: Math.sin(s) * i + r\n        };\n        (t = t || this.get(\"context\")).beginPath(), t.moveTo(c.x, c.y), t.lineTo(l.x, l.y), t.arc(n, r, a, o, s, u), t.lineTo(h.x, h.y), t.arc(n, r, i, s, o, !u), t.closePath();\n      }, e;\n    }(o.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.type = \"image\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          img: null,\n          width: 0,\n          height: 0,\n          sx: null,\n          sy: null,\n          swidth: null,\n          sheight: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs;\n        if (this.get(\"toDraw\") || !n.img) return !1;\n        this.cfg.attrs && this.cfg.attrs.img === n.img || this._setAttrImg();\n        var r = n.x,\n            i = n.y,\n            a = n.width,\n            s = n.height;\n        return o.rect(r, i, a, s, t, e);\n      }, e.prototype.isHitBox = function () {\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs;\n        return this.cfg.attrs && this.cfg.attrs.img === t.img || this._setAttrImg(), new s.default(t.x, t.y, t.width, t.height);\n      }, e.prototype._beforeSetLoading = function (t) {\n        var e = this.get(\"canvas\");\n        return !1 === t && !0 === this.get(\"toDraw\") && (this.cfg.loading = !1, e.draw()), t;\n      }, e.prototype._setAttrImg = function () {\n        var t = this,\n            e = t.attrs,\n            n = e.img;\n        if (!i.isString(n)) return n instanceof Image ? (e.width || t.attr(\"width\", n.width), e.height || t.attr(\"height\", n.height), n) : n instanceof HTMLElement && i.isString(n.nodeName) && \"CANVAS\" === n.nodeName.toUpperCase() ? (e.width || t.attr(\"width\", Number(n.getAttribute(\"width\"))), e.height || t.attr(\"height\", Number(n.getAttribute(\"height\"))), n) : n instanceof ImageData ? (e.width || t.attr(\"width\", n.width), e.height || t.attr(\"height\", n.height), n) : null;\n        var r = new Image();\n        r.onload = function () {\n          if (t.get(\"destroyed\")) return !1;\n          t.attr(\"imgSrc\", n), t.attr(\"img\", r);\n          var e = t.get(\"callback\");\n          e && e.call(t), t.set(\"loading\", !1);\n        }, r.src = n, r.crossOrigin = \"Anonymous\", t.set(\"loading\", !0);\n      }, e.prototype.drawInner = function (t) {\n        this.cfg.hasUpdate && this._setAttrImg(), this.get(\"loading\") ? this.set(\"toDraw\", !0) : (this._drawImage(t), this.cfg.hasUpdate = !1);\n      }, e.prototype._drawImage = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            a = e.img,\n            o = e.width,\n            s = e.height,\n            u = e.sx,\n            c = e.sy,\n            l = e.swidth,\n            h = e.sheight;\n        this.set(\"toDraw\", !1);\n        var f = a;\n\n        if (f instanceof ImageData && ((f = new Image()).src = a), f instanceof Image || f instanceof HTMLImageElement && i.isString(f.nodeName) && \"CANVAS\" === f.nodeName.toUpperCase()) {\n          if (i.isNil(u) || i.isNil(c) || i.isNil(l) || i.isNil(h)) return void t.drawImage(f, n, r, o, s);\n          if (!(i.isNil(u) || i.isNil(c) || i.isNil(l) || i.isNil(h))) return void t.drawImage(f, u, c, l, h, n, r, o, s);\n        }\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(9),\n        o = n(12),\n        s = n(4),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"line\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs,\n            r = n.x1,\n            i = n.y1,\n            a = n.x2,\n            o = n.y2,\n            u = this.getHitLineWidth();\n        return !!this.hasStroke() && s.line(r, i, a, o, u, t, e);\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x1,\n            n = t.y1,\n            r = t.x2,\n            i = t.y2,\n            a = this.getHitLineWidth();\n        return o.box(e, n, r, i, a);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x1,\n            r = e.y1,\n            i = e.x2,\n            a = e.y2;\n        (t = t || this.get(\"context\")).beginPath(), t.moveTo(n, r), t.lineTo(i, a);\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = e.x1,\n            r = e.y1,\n            i = e.x2,\n            o = e.y2;\n        t = t || this.get(\"context\"), e.startArrow && a.addStartArrow(t, e, i, o, n, r), e.endArrow && a.addEndArrow(t, e, n, r, i, o);\n      }, e.prototype.getPoint = function (t) {\n        var e = this.attrs;\n        return {\n          x: o.at(e.x1, e.x2, t),\n          y: o.at(e.y1, e.y2, t)\n        };\n      }, e;\n    }(i.default);\n\n    e.default = u;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(8),\n        s = n(6),\n        u = n(9),\n        c = n(14),\n        l = n(13),\n        h = n(16),\n        f = n(2),\n        p = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"path\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          path: null,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.get(\"segments\"),\n            a = n.hasFill(),\n            o = n.hasStroke();\n\n        function s() {\n          if (!i.isEmpty(r)) {\n            for (var a = n.getHitLineWidth(), o = 0, s = r.length; o < s; o++) {\n              if (r[o].isInside(t, e, a)) return !0;\n            }\n\n            return !1;\n          }\n        }\n\n        return a && o ? h.default(t, e, n) || s() : a ? h.default(t, e, n) : !!o && s();\n      }, e.prototype._afterSetAttrPath = function (t) {\n        if (i.isNil(t)) return this.setSilent(\"segments\", null), void this.setSilent(\"box\", void 0);\n        var e,\n            n = s.parsePath(t),\n            r = [];\n\n        if (i.isArray(n) && 0 !== n.length && (\"M\" === n[0][0] || \"m\" === n[0][0])) {\n          for (var a = n.length, u = 0; u < n.length; u++) {\n            var c = n[u];\n            e = new o.default(c, e, u === a - 1), r.push(e);\n          }\n\n          this.setSilent(\"segments\", r), this.setSilent(\"tCache\", null), this.setSilent(\"box\", null);\n        }\n      }, e.prototype.calculateBox = function () {\n        var t = this.get(\"segments\");\n        if (!t) return null;\n        var e = this.getHitLineWidth(),\n            n = 1 / 0,\n            r = -1 / 0,\n            a = 1 / 0,\n            o = -1 / 0;\n        return i.each(t, function (t) {\n          t.getBBox(e);\n          var i = t.box;\n\n          if (i) {\n            i.x < n && (n = i.x);\n            var s = i.maxX;\n            s > r && (r = s), i.y < a && (a = i.y);\n            var u = i.maxY;\n            u > o && (o = u);\n          }\n        }), n === 1 / 0 || a === 1 / 0 ? new f.default(0, 0, 0, 0) : new f.default(n, a, r - n, o - a);\n      }, e.prototype._setTcache = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = 0,\n            o = 0,\n            s = [],\n            u = this.cfg.curve;\n        u && (i.each(u, function (t, e) {\n          n = u[e + 1], r = t.length, n && (a += l.len(t[r - 2], t[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]));\n        }), i.each(u, function (i, c) {\n          n = u[c + 1], r = i.length, n && ((t = [])[0] = o / a, e = l.len(i[r - 2], i[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]), o += e, t[1] = o / a, s.push(t));\n        }), this.cfg.tCache = s);\n      }, e.prototype._calculateCurve = function () {\n        var t = this.attrs.path;\n        this.cfg.curve = c.pathTocurve(t);\n      }, e.prototype.getStartTangent = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = this.get(\"segments\");\n        if (a.length > 1) if (t = a[0].endPoint, e = a[1].endPoint, n = a[1].startTangent, r = [], i.isFunction(n)) {\n          var o = n();\n          r.push([t.x - o[0], t.y - o[1]]), r.push([t.x, t.y]);\n        } else r.push([e.x, e.y]), r.push([t.x, t.y]);\n        return r;\n      }, e.prototype.getEndTangent = function () {\n        var t,\n            e,\n            n,\n            r,\n            a = this.get(\"segments\"),\n            o = a.length;\n        if (o > 1) if (t = a[o - 2].endPoint, e = a[o - 1].endPoint, n = a[o - 1].endTangent, r = [], i.isFunction(n)) {\n          var s = n();\n          r.push([e.x - s[0], e.y - s[1]]), r.push([e.x, e.y]);\n        } else r.push([t.x, t.y]), r.push([e.x, e.y]);\n        return r;\n      }, e.prototype.getPoint = function (t) {\n        var e,\n            n,\n            r = this.cfg.tCache;\n        r || (this._calculateCurve(), this._setTcache(), r = this.cfg.tCache);\n        var a = this.cfg.curve;\n        if (!r) return a ? {\n          x: a[0][1],\n          y: a[0][2]\n        } : null;\n        i.each(r, function (r, i) {\n          t >= r[0] && t <= r[1] && (e = (t - r[0]) / (r[1] - r[0]), n = i);\n        });\n        var o = a[n];\n        if (i.isNil(o) || i.isNil(n)) return null;\n        var s = o.length,\n            u = a[n + 1];\n        return {\n          x: l.at(o[s - 2], u[1], u[3], u[5], 1 - e),\n          y: l.at(o[s - 1], u[2], u[4], u[6], 1 - e)\n        };\n      }, e.prototype.createPath = function (t) {\n        var e = this.get(\"segments\");\n\n        if (i.isArray(e)) {\n          (t = t || this.get(\"context\")).beginPath();\n\n          for (var n = e.length, r = 0; r < n; r++) {\n            e[r].draw(t);\n          }\n        }\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = this.get(\"segments\"),\n            r = e.path;\n\n        if (t = t || this.get(\"context\"), i.isArray(n) && 1 !== n.length && (e.startArrow || e.endArrow) && \"z\" !== r[r.length - 1] && \"Z\" !== r[r.length - 1] && !e.fill) {\n          var a = this.getStartTangent();\n          u.addStartArrow(t, e, a[0][0], a[0][1], a[1][0], a[1][1]);\n          var o = this.getEndTangent();\n          u.addEndArrow(t, e, o[0][0], o[0][1], o[1][0], o[1][1]);\n        }\n      }, e;\n    }(a.default);\n\n    e.default = p;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(16),\n        u = n(2),\n        c = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"polygon\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          points: null,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            i = n.hasStroke();\n\n        function a() {\n          var r = n.attrs.points;\n          if (r.length < 2) return !1;\n          var i = n.getHitLineWidth(),\n              a = r.slice(0);\n          return r.length >= 3 && a.push(r[0]), o.polyline(a, i, t, e);\n        }\n\n        return r && i ? s.default(t, e, n) || a() : r ? s.default(t, e, n) : !!i && a();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs.points,\n            e = this.getHitLineWidth();\n        if (!t || 0 === t.length) return null;\n        var n = 1 / 0,\n            r = 1 / 0,\n            a = -1 / 0,\n            o = -1 / 0;\n        i.each(t, function (t) {\n          var e = t[0],\n              i = t[1];\n          e < n && (n = e), e > a && (a = e), i < r && (r = i), i > o && (o = i);\n        });\n        var s = e / 2;\n        return u.default.fromRange(n - s, r - s, a + s, o + s);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs.points;\n        e.length < 2 || ((t = t || this.get(\"context\")).beginPath(), i.each(e, function (e, n) {\n          0 === n ? t.moveTo(e[0], e[1]) : t.lineTo(e[0], e[1]);\n        }), t.closePath());\n      }, e;\n    }(a.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(9),\n        s = n(12),\n        u = n(4),\n        c = n(2),\n        l = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canStroke = !0, e.type = \"polyline\", e.tCache = null, e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          points: null,\n          lineWidth: 1,\n          startArrow: !1,\n          endArrow: !1,\n          tCache: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.attrs;\n\n        if (this.hasStroke()) {\n          var r = n.points;\n          if (r.length < 2) return !1;\n          var i = n.lineWidth;\n          return u.polyline(r, i, t, e);\n        }\n\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = this.getHitLineWidth(),\n            n = t.points;\n        if (!n || 0 === n.length) return null;\n        var r = 1 / 0,\n            a = 1 / 0,\n            o = -1 / 0,\n            s = -1 / 0;\n        i.each(n, function (t) {\n          var e = t[0],\n              n = t[1];\n          e < r && (r = e), e > o && (o = e), n < a && (a = n), n > s && (s = n);\n        });\n        var u = e / 2;\n        return c.default.fromRange(r - u, a - u, o + u, s + u);\n      }, e.prototype._setTcache = function () {\n        var t,\n            e,\n            n = this.attrs.points,\n            r = 0,\n            a = 0,\n            o = [];\n        n && 0 !== n.length && (i.each(n, function (t, e) {\n          n[e + 1] && (r += s.len(t[0], t[1], n[e + 1][0], n[e + 1][1]));\n        }), r <= 0 || (i.each(n, function (i, u) {\n          n[u + 1] && ((t = [])[0] = a / r, e = s.len(i[0], i[1], n[u + 1][0], n[u + 1][1]), a += e, t[1] = a / r, o.push(t));\n        }), this.tCache = o));\n      }, e.prototype.createPath = function (t) {\n        var e,\n            n,\n            r = this.attrs.points;\n\n        if (!(r.length < 2)) {\n          for ((t = t || this.get(\"context\")).beginPath(), t.moveTo(r[0][0], r[0][1]), n = 1, e = r.length - 1; n < e; n++) {\n            t.lineTo(r[n][0], r[n][1]);\n          }\n\n          t.lineTo(r[e][0], r[e][1]);\n        }\n      }, e.prototype.getStartTangent = function () {\n        var t = this.attrs.points,\n            e = [];\n        return e.push([t[1][0], t[1][1]]), e.push([t[0][0], t[0][1]]), e;\n      }, e.prototype.getEndTangent = function () {\n        var t = this.attrs.points,\n            e = t.length - 1,\n            n = [];\n        return n.push([t[e - 1][0], t[e - 1][1]]), n.push([t[e][0], t[e][1]]), n;\n      }, e.prototype.afterPath = function (t) {\n        var e = this.attrs,\n            n = e.points,\n            r = n.length - 1;\n        t = t || this.get(\"context\"), e.startArrow && o.addStartArrow(t, e, n[1][0], n[1][1], n[0][0], n[0][1]), e.endArrow && o.addEndArrow(t, e, n[r - 1][0], n[r - 1][1], n[r][0], n[r][1]);\n      }, e.prototype.getPoint = function (t) {\n        var e,\n            n,\n            r = this.attrs.points,\n            a = this.tCache;\n        return a || (this._setTcache(), a = this.tCache), i.each(a, function (r, i) {\n          t >= r[0] && t <= r[1] && (e = (t - r[0]) / (r[1] - r[0]), n = i);\n        }), {\n          x: s.at(r[n][0], r[n + 1][0], e),\n          y: s.at(r[n][1], r[n + 1][1], e)\n        };\n      }, e;\n    }(a.default);\n\n    e.default = l;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(3),\n        a = n(6),\n        o = n(4),\n        s = n(16),\n        u = n(2),\n        c = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"rect\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          radius: 0,\n          lineWidth: 1\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this,\n            r = n.hasFill(),\n            i = n.hasStroke();\n\n        function a() {\n          var r = n.attrs,\n              i = r.x,\n              a = r.y,\n              s = r.width,\n              u = r.height,\n              c = r.radius,\n              l = n.getHitLineWidth();\n\n          if (0 === c) {\n            var h = l / 2;\n            return o.line(i - h, a, i + s + h, a, l, t, e) || o.line(i + s, a - h, i + s, a + u + h, l, t, e) || o.line(i + s + h, a + u, i - h, a + u, l, t, e) || o.line(i, a + u + h, i, a - h, l, t, e);\n          }\n\n          return o.line(i + c, a, i + s - c, a, l, t, e) || o.line(i + s, a + c, i + s, a + u - c, l, t, e) || o.line(i + s - c, a + u, i + c, a + u, l, t, e) || o.line(i, a + u - c, i, a + c, l, t, e) || o.arcline(i + s - c, a + c, c, 1.5 * Math.PI, 2 * Math.PI, !1, l, t, e) || o.arcline(i + s - c, a + u - c, c, 0, .5 * Math.PI, !1, l, t, e) || o.arcline(i + c, a + u - c, c, .5 * Math.PI, Math.PI, !1, l, t, e) || o.arcline(i + c, a + c, c, Math.PI, 1.5 * Math.PI, !1, l, t, e);\n        }\n\n        return r && i ? s.default(t, e, n) || a() : r ? s.default(t, e, n) : !!i && a();\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = t.x,\n            n = t.y,\n            r = t.width,\n            i = t.height,\n            a = this.getHitLineWidth() / 2;\n        return u.default.fromRange(e - a, n - a, e + r + a, n + i + a);\n      }, e.prototype.createPath = function (t) {\n        var e = this.attrs,\n            n = e.x,\n            r = e.y,\n            i = e.width,\n            o = e.height,\n            s = e.radius;\n        if ((t = t || this.get(\"context\")).beginPath(), 0 === s) t.rect(n, r, i, o);else {\n          var u = a.parseRadius(s);\n          t.moveTo(n + u.r1, r), t.lineTo(n + i - u.r2, r), 0 !== u.r2 && t.arc(n + i - u.r2, r + u.r2, u.r2, -Math.PI / 2, 0), t.lineTo(n + i, r + o - u.r3), 0 !== u.r3 && t.arc(n + i - u.r3, r + o - u.r3, u.r3, 0, Math.PI / 2), t.lineTo(n + u.r4, r + o), 0 !== u.r4 && t.arc(n + u.r4, r + o - u.r4, u.r4, Math.PI / 2, Math.PI), t.lineTo(n, r + u.r1), 0 !== u.r1 && t.arc(n + u.r1, r + u.r1, u.r1, Math.PI, 1.5 * Math.PI), t.closePath();\n        }\n      }, e;\n    }(i.default);\n\n    e.default = c;\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(1),\n        i = n(0),\n        a = n(3),\n        o = n(4),\n        s = n(2),\n        u = function (t) {\n      function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.canFill = !0, e.canStroke = !0, e.type = \"text\", e;\n      }\n\n      return r.__extends(e, t), e.prototype.getDefaultAttrs = function () {\n        return {\n          x: 0,\n          y: 0,\n          text: null,\n          lineHeight: 1,\n          lineWidth: 1,\n          lineCount: 1,\n          fontSize: 12,\n          fontFamily: \"sans-serif\",\n          fontStyle: \"normal\",\n          fontWeight: \"normal\",\n          fontVariant: \"normal\",\n          textAlign: \"start\",\n          textBaseline: \"bottom\",\n          textArr: null\n        };\n      }, e.prototype.isPointInPath = function (t, e) {\n        var n = this.getBBox();\n        if (this.hasFill() || this.hasStroke()) return o.box(n.x, n.maxX, n.minY, n.maxY, t, e);\n      }, e.prototype.initTransform = function () {\n        var t = this.attrs.fontSize;\n        t && +t < 12 && this.transform([[\"t\", -1 * this.attrs.x, -1 * this.attrs.y], [\"s\", +t / 12, +t / 12], [\"t\", this.attrs.x, this.attrs.y]]);\n      }, e.prototype._assembleFont = function () {\n        var t = this.attrs,\n            e = t.fontSize,\n            n = t.fontFamily,\n            r = t.fontWeight,\n            i = t.fontStyle,\n            a = t.fontVariant;\n        t.font = [i, a, r, e + \"px\", n].join(\" \");\n      }, e.prototype._setAttrText = function () {\n        var t = this.attrs,\n            e = t.text,\n            n = null;\n\n        if (i.isString(e) && -1 !== e.indexOf(\"\\n\")) {\n          var r = (n = e.split(\"\\n\")).length;\n          t.lineCount = r;\n        }\n\n        t.textArr = n;\n      }, e.prototype._getTextHeight = function () {\n        var t = this.attrs,\n            e = t.lineCount,\n            n = 1 * t.fontSize;\n        return e > 1 ? n * e + this._getSpaceingY() * (e - 1) : n;\n      }, e.prototype.isHitBox = function () {\n        return !1;\n      }, e.prototype.calculateBox = function () {\n        var t = this.attrs,\n            e = this.cfg;\n        e.attrs && !e.hasUpdate || (this._assembleFont(), this._setAttrText()), t.textArr || this._setAttrText();\n        var n = t.x,\n            r = t.y,\n            i = this.measureText();\n        if (!i) return new s.default(n, r, 0, 0);\n\n        var a = this._getTextHeight(),\n            o = t.textAlign,\n            u = t.textBaseline,\n            c = this.getHitLineWidth(),\n            l = {\n          x: n,\n          y: r - a\n        };\n\n        o && (\"end\" === o || \"right\" === o ? l.x -= i : \"center\" === o && (l.x -= i / 2)), u && (\"top\" === u ? l.y += a : \"middle\" === u && (l.y += a / 2)), this.set(\"startPoint\", l);\n        var h = c / 2;\n        return s.default.fromRange(l.x - h, l.y - h, l.x + i + h, l.y + a + h);\n      }, e.prototype._getSpaceingY = function () {\n        var t = this.attrs,\n            e = t.lineHeight,\n            n = 1 * t.fontSize;\n        return e ? e - n : .14 * n;\n      }, e.prototype.drawInner = function (t) {\n        var e = this.attrs,\n            n = this.cfg;\n        n.attrs && !n.hasUpdate || (this._assembleFont(), this._setAttrText()), t.font = e.font;\n        var r = e.text;\n\n        if (!i.isNil(r)) {\n          var a = e.textArr,\n              o = e.x,\n              s = e.y,\n              u = e.maxWidth;\n\n          if (t.beginPath(), this.hasStroke()) {\n            var c = e.strokeOpacity;\n            i.isNil(c) || 1 === c || (t.globalAlpha = c), a ? this._drawTextArr(t, !1) : i.isNil(u) ? t.strokeText(r, o, s) : t.strokeText(r, o, s, u), t.globalAlpha = 1;\n          }\n\n          if (this.hasFill()) {\n            var l = e.fillOpacity;\n            i.isNil(l) || 1 === l || (t.globalAlpha = l), a ? this._drawTextArr(t, !0) : i.isNil(u) ? t.fillText(r, o, s) : t.fillText(r, o, s, u);\n          }\n\n          n.hasUpdate = !1;\n        }\n      }, e.prototype._drawTextArr = function (t, e) {\n        var n,\n            r = this.attrs.textArr,\n            a = this.attrs.textBaseline,\n            o = 1 * this.attrs.fontSize,\n            s = this._getSpaceingY(),\n            u = this.attrs.x,\n            c = this.attrs.y,\n            l = this.attrs.maxWidth,\n            h = this.getBBox(),\n            f = h.maxY - h.minY;\n\n        i.each(r, function (r, h) {\n          n = c + h * (s + o) - f + o, \"middle\" === a && (n += f - o - (f - o) / 2), \"top\" === a && (n += f - o), e ? i.isNil(l) ? t.fillText(r, u, n) : t.fillText(r, u, n, l) : i.isNil(l) ? t.strokeText(r, u, n) : t.strokeText(r, u, n, l);\n        });\n      }, e.prototype.measureText = function () {\n        var t,\n            e = this.attrs,\n            n = e.text,\n            r = e.font,\n            a = e.textArr,\n            o = 0;\n\n        if (!i.isNil(n)) {\n          var s = document.createElement(\"canvas\").getContext(\"2d\");\n          return s.save(), s.font = r, a ? i.each(a, function (e) {\n            t = s.measureText(e).width, o < t && (o = t), s.restore();\n          }) : (o = s.measureText(n).width, s.restore()), i.isNil(e.maxWidth) || (o = Math.min(e.maxWidth, o)), o;\n        }\n      }, e;\n    }(a.default);\n\n    e.default = u;\n  }, function (t) {\n    t.exports = JSON.parse('{\"name\":\"@antv/g\",\"version\":\"3.5.0-beta.6\",\"description\":\"A canvas library which providing 2d draw for G2.\",\"keywords\":[\"canvas\",\"svg\",\"G\",\"G2\",\"G6\",\"2d draw\"],\"main\":\"lib/index.js\",\"module\":\"esm/index.js\",\"browser\":\"dist/g.min.js\",\"types\":\"lib/index.d.ts\",\"files\":[\"package.json\",\"lib\",\"esm\",\"dist\",\"LICENSE\",\"README.md\"],\"homepage\":\"https://github.com/antvis/g\",\"author\":\"https://github.com/orgs/antvis/people\",\"repository\":{\"type\":\"git\",\"url\":\"git@github.com:antvis/g.git\"},\"bugs\":{\"url\":\"https://github.com/antvis/g/issues\"},\"scripts\":{\"test\":\"torch --compile --renderer --opts __tests__/mocha.opts\",\"test-live\":\"torch --compile --renderer --interactive --opts __tests__/mocha.opts\",\"build\":\"run-s clean lib\",\"clean\":\"rimraf lib esm\",\"lib\":\"run-p lib:*\",\"lib:cjs\":\"loose-tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib\",\"lib:esm\":\"loose-tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm\",\"lib:umd\":\"webpack --config webpack.config.js --mode production\",\"lint\":\"exit 0\",\"coverage\":\"exit 0\",\"tsc\":\"loose-tsc --noEmit\",\"prettier\":\"prettier --write \\'*.{js,ts,json,md}\\'\"},\"husky\":{\"hooks\":{\"pre-commit\":\"run-s lint\"}},\"lint-staged\":{\"*.{js,json,md}\":[\"prettier --write\",\"git add\"],\"*.{ts}\":[\"tslint -c tslint.json --fix\",\"prettier --write\",\"git add\"]},\"dependencies\":{\"@antv/event-emitter\":\"^0.1.0\",\"@antv/gl-matrix\":\"~2.7.1\",\"@antv/util\":\"~1.3.1\",\"d3-ease\":\"~1.0.3\",\"d3-interpolate\":\"~1.1.5\",\"d3-timer\":\"~1.0.6\",\"detect-browser\":\"^4.8.0\"},\"devDependencies\":{\"@antv/torch\":\"^1.0.3\",\"@babel/cli\":\"^7.1.5\",\"@babel/core\":\"^7.1.6\",\"@babel/plugin-proposal-class-properties\":\"^7.1.0\",\"@babel/plugin-proposal-object-rest-spread\":\"^7.0.0\",\"@babel/preset-env\":\"^7.2.0\",\"@babel/preset-typescript\":\"^7.1.0\",\"@commitlint/cli\":\"^7.2.1\",\"@commitlint/config-angular\":\"^7.1.2\",\"@types/lodash\":\"^4.14.119\",\"@types/node\":\"^10.12.18\",\"babel-eslint\":\"^10.0.1\",\"babel-loader\":\"^8.0.0\",\"babel-plugin-transform-remove-strict-mode\":\"~0.0.2\",\"benchmark\":\"^2.1.4\",\"chai\":\"~4.0.1\",\"eslint\":\"^5.10.0\",\"eslint-config-egg\":\"^7.1.0\",\"eslint-config-prettier\":\"^6.1.0\",\"event-simulate\":\"~1.0.0\",\"git-contributor\":\"~1.0.8\",\"husky\":\"^1.3.1\",\"lint-staged\":\"^9.2.3\",\"loose-tsc\":\"^0.0.1\",\"npm-run-all\":\"^4.1.5\",\"prettier\":\"^1.18.2\",\"rimraf\":\"^3.0.0\",\"source-map-support\":\"^0.5.9\",\"ts-loader\":\"^5.3.1\",\"ts-node\":\"^7.0.1\",\"tslint\":\"^5.12.0\",\"tslint-config-airbnb\":\"^5.11.1\",\"tslint-config-prettier\":\"^1.18.0\",\"typescript\":\"^3.2.2\",\"webpack\":\"^4.26.1\",\"webpack-cli\":\"^3.1.2\"}}');\n  }, function (t, e, n) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"interpolate\", function () {\n      return nt;\n    }), n.d(e, \"interpolateArray\", function () {\n      return X;\n    }), n.d(e, \"interpolateBasis\", function () {\n      return N;\n    }), n.d(e, \"interpolateBasisClosed\", function () {\n      return L;\n    }), n.d(e, \"interpolateDate\", function () {\n      return z;\n    }), n.d(e, \"interpolateNumber\", function () {\n      return Q;\n    }), n.d(e, \"interpolateObject\", function () {\n      return V;\n    }), n.d(e, \"interpolateRound\", function () {\n      return rt;\n    }), n.d(e, \"interpolateString\", function () {\n      return et;\n    }), n.d(e, \"interpolateTransformCss\", function () {\n      return ut;\n    }), n.d(e, \"interpolateTransformSvg\", function () {\n      return ct;\n    }), n.d(e, \"interpolateZoom\", function () {\n      return ft;\n    }), n.d(e, \"interpolateRgb\", function () {\n      return W;\n    }), n.d(e, \"interpolateRgbBasis\", function () {\n      return H;\n    }), n.d(e, \"interpolateRgbBasisClosed\", function () {\n      return U;\n    }), n.d(e, \"interpolateHsl\", function () {\n      return dt;\n    }), n.d(e, \"interpolateHslLong\", function () {\n      return vt;\n    }), n.d(e, \"interpolateLab\", function () {\n      return Ct;\n    }), n.d(e, \"interpolateHcl\", function () {\n      return jt;\n    }), n.d(e, \"interpolateHclLong\", function () {\n      return Nt;\n    }), n.d(e, \"interpolateCubehelix\", function () {\n      return Qt;\n    }), n.d(e, \"interpolateCubehelixLong\", function () {\n      return Vt;\n    }), n.d(e, \"quantize\", function () {\n      return Zt;\n    });\n\n    var r = function r(t, e, n) {\n      t.prototype = e.prototype = n, n.constructor = t;\n    };\n\n    function i(t, e) {\n      var n = Object.create(t.prototype);\n\n      for (var r in e) {\n        n[r] = e[r];\n      }\n\n      return n;\n    }\n\n    function a() {}\n\n    var o = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n        s = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n        u = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n        c = /^#([0-9a-f]{3,8})$/,\n        l = new RegExp(\"^rgb\\\\(\" + [o, o, o] + \"\\\\)$\"),\n        h = new RegExp(\"^rgb\\\\(\" + [u, u, u] + \"\\\\)$\"),\n        f = new RegExp(\"^rgba\\\\(\" + [o, o, o, s] + \"\\\\)$\"),\n        p = new RegExp(\"^rgba\\\\(\" + [u, u, u, s] + \"\\\\)$\"),\n        d = new RegExp(\"^hsl\\\\(\" + [s, u, u] + \"\\\\)$\"),\n        v = new RegExp(\"^hsla\\\\(\" + [s, u, u, s] + \"\\\\)$\"),\n        y = {\n      aliceblue: 15792383,\n      antiquewhite: 16444375,\n      aqua: 65535,\n      aquamarine: 8388564,\n      azure: 15794175,\n      beige: 16119260,\n      bisque: 16770244,\n      black: 0,\n      blanchedalmond: 16772045,\n      blue: 255,\n      blueviolet: 9055202,\n      brown: 10824234,\n      burlywood: 14596231,\n      cadetblue: 6266528,\n      chartreuse: 8388352,\n      chocolate: 13789470,\n      coral: 16744272,\n      cornflowerblue: 6591981,\n      cornsilk: 16775388,\n      crimson: 14423100,\n      cyan: 65535,\n      darkblue: 139,\n      darkcyan: 35723,\n      darkgoldenrod: 12092939,\n      darkgray: 11119017,\n      darkgreen: 25600,\n      darkgrey: 11119017,\n      darkkhaki: 12433259,\n      darkmagenta: 9109643,\n      darkolivegreen: 5597999,\n      darkorange: 16747520,\n      darkorchid: 10040012,\n      darkred: 9109504,\n      darksalmon: 15308410,\n      darkseagreen: 9419919,\n      darkslateblue: 4734347,\n      darkslategray: 3100495,\n      darkslategrey: 3100495,\n      darkturquoise: 52945,\n      darkviolet: 9699539,\n      deeppink: 16716947,\n      deepskyblue: 49151,\n      dimgray: 6908265,\n      dimgrey: 6908265,\n      dodgerblue: 2003199,\n      firebrick: 11674146,\n      floralwhite: 16775920,\n      forestgreen: 2263842,\n      fuchsia: 16711935,\n      gainsboro: 14474460,\n      ghostwhite: 16316671,\n      gold: 16766720,\n      goldenrod: 14329120,\n      gray: 8421504,\n      green: 32768,\n      greenyellow: 11403055,\n      grey: 8421504,\n      honeydew: 15794160,\n      hotpink: 16738740,\n      indianred: 13458524,\n      indigo: 4915330,\n      ivory: 16777200,\n      khaki: 15787660,\n      lavender: 15132410,\n      lavenderblush: 16773365,\n      lawngreen: 8190976,\n      lemonchiffon: 16775885,\n      lightblue: 11393254,\n      lightcoral: 15761536,\n      lightcyan: 14745599,\n      lightgoldenrodyellow: 16448210,\n      lightgray: 13882323,\n      lightgreen: 9498256,\n      lightgrey: 13882323,\n      lightpink: 16758465,\n      lightsalmon: 16752762,\n      lightseagreen: 2142890,\n      lightskyblue: 8900346,\n      lightslategray: 7833753,\n      lightslategrey: 7833753,\n      lightsteelblue: 11584734,\n      lightyellow: 16777184,\n      lime: 65280,\n      limegreen: 3329330,\n      linen: 16445670,\n      magenta: 16711935,\n      maroon: 8388608,\n      mediumaquamarine: 6737322,\n      mediumblue: 205,\n      mediumorchid: 12211667,\n      mediumpurple: 9662683,\n      mediumseagreen: 3978097,\n      mediumslateblue: 8087790,\n      mediumspringgreen: 64154,\n      mediumturquoise: 4772300,\n      mediumvioletred: 13047173,\n      midnightblue: 1644912,\n      mintcream: 16121850,\n      mistyrose: 16770273,\n      moccasin: 16770229,\n      navajowhite: 16768685,\n      navy: 128,\n      oldlace: 16643558,\n      olive: 8421376,\n      olivedrab: 7048739,\n      orange: 16753920,\n      orangered: 16729344,\n      orchid: 14315734,\n      palegoldenrod: 15657130,\n      palegreen: 10025880,\n      paleturquoise: 11529966,\n      palevioletred: 14381203,\n      papayawhip: 16773077,\n      peachpuff: 16767673,\n      peru: 13468991,\n      pink: 16761035,\n      plum: 14524637,\n      powderblue: 11591910,\n      purple: 8388736,\n      rebeccapurple: 6697881,\n      red: 16711680,\n      rosybrown: 12357519,\n      royalblue: 4286945,\n      saddlebrown: 9127187,\n      salmon: 16416882,\n      sandybrown: 16032864,\n      seagreen: 3050327,\n      seashell: 16774638,\n      sienna: 10506797,\n      silver: 12632256,\n      skyblue: 8900331,\n      slateblue: 6970061,\n      slategray: 7372944,\n      slategrey: 7372944,\n      snow: 16775930,\n      springgreen: 65407,\n      steelblue: 4620980,\n      tan: 13808780,\n      teal: 32896,\n      thistle: 14204888,\n      tomato: 16737095,\n      turquoise: 4251856,\n      violet: 15631086,\n      wheat: 16113331,\n      white: 16777215,\n      whitesmoke: 16119285,\n      yellow: 16776960,\n      yellowgreen: 10145074\n    };\n\n    function g() {\n      return this.rgb().formatHex();\n    }\n\n    function x() {\n      return this.rgb().formatRgb();\n    }\n\n    function m(t) {\n      var e, n;\n      return t = (t + \"\").trim().toLowerCase(), (e = c.exec(t)) ? (n = e[1].length, e = parseInt(e[1], 16), 6 === n ? b(e) : 3 === n ? new P(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e, 1) : 8 === n ? M(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, (255 & e) / 255) : 4 === n ? M(e >> 12 & 15 | e >> 8 & 240, e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, ((15 & e) << 4 | 15 & e) / 255) : null) : (e = l.exec(t)) ? new P(e[1], e[2], e[3], 1) : (e = h.exec(t)) ? new P(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, 1) : (e = f.exec(t)) ? M(e[1], e[2], e[3], e[4]) : (e = p.exec(t)) ? M(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, e[4]) : (e = d.exec(t)) ? O(e[1], e[2] / 100, e[3] / 100, 1) : (e = v.exec(t)) ? O(e[1], e[2] / 100, e[3] / 100, e[4]) : y.hasOwnProperty(t) ? b(y[t]) : \"transparent\" === t ? new P(NaN, NaN, NaN, 0) : null;\n    }\n\n    function b(t) {\n      return new P(t >> 16 & 255, t >> 8 & 255, 255 & t, 1);\n    }\n\n    function M(t, e, n, r) {\n      return r <= 0 && (t = e = n = NaN), new P(t, e, n, r);\n    }\n\n    function w(t) {\n      return t instanceof a || (t = m(t)), t ? new P((t = t.rgb()).r, t.g, t.b, t.opacity) : new P();\n    }\n\n    function _(t, e, n, r) {\n      return 1 === arguments.length ? w(t) : new P(t, e, n, null == r ? 1 : r);\n    }\n\n    function P(t, e, n, r) {\n      this.r = +t, this.g = +e, this.b = +n, this.opacity = +r;\n    }\n\n    function A() {\n      return \"#\" + k(this.r) + k(this.g) + k(this.b);\n    }\n\n    function S() {\n      var t = this.opacity;\n      return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? \")\" : \", \" + t + \")\");\n    }\n\n    function k(t) {\n      return ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? \"0\" : \"\") + t.toString(16);\n    }\n\n    function O(t, e, n, r) {\n      return r <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN), new C(t, e, n, r);\n    }\n\n    function T(t) {\n      if (t instanceof C) return new C(t.h, t.s, t.l, t.opacity);\n      if (t instanceof a || (t = m(t)), !t) return new C();\n      if (t instanceof C) return t;\n      var e = (t = t.rgb()).r / 255,\n          n = t.g / 255,\n          r = t.b / 255,\n          i = Math.min(e, n, r),\n          o = Math.max(e, n, r),\n          s = NaN,\n          u = o - i,\n          c = (o + i) / 2;\n      return u ? (s = e === o ? (n - r) / u + 6 * (n < r) : n === o ? (r - e) / u + 2 : (e - n) / u + 4, u /= c < .5 ? o + i : 2 - o - i, s *= 60) : u = c > 0 && c < 1 ? 0 : s, new C(s, u, c, t.opacity);\n    }\n\n    function I(t, e, n, r) {\n      return 1 === arguments.length ? T(t) : new C(t, e, n, null == r ? 1 : r);\n    }\n\n    function C(t, e, n, r) {\n      this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function E(t, e, n) {\n      return 255 * (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e);\n    }\n\n    function j(t, e, n, r, i) {\n      var a = t * t,\n          o = a * t;\n      return ((1 - 3 * t + 3 * a - o) * e + (4 - 6 * a + 3 * o) * n + (1 + 3 * t + 3 * a - 3 * o) * r + o * i) / 6;\n    }\n\n    r(a, m, {\n      copy: function copy(t) {\n        return Object.assign(new this.constructor(), this, t);\n      },\n      displayable: function displayable() {\n        return this.rgb().displayable();\n      },\n      hex: g,\n      formatHex: g,\n      formatHsl: function formatHsl() {\n        return T(this).formatHsl();\n      },\n      formatRgb: x,\n      toString: x\n    }), r(P, _, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new P(this.r * t, this.g * t, this.b * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new P(this.r * t, this.g * t, this.b * t, this.opacity);\n      },\n      rgb: function rgb() {\n        return this;\n      },\n      displayable: function displayable() {\n        return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n      },\n      hex: A,\n      formatHex: A,\n      formatRgb: S,\n      toString: S\n    })), r(C, I, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new C(this.h, this.s, this.l * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new C(this.h, this.s, this.l * t, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = this.h % 360 + 360 * (this.h < 0),\n            e = isNaN(t) || isNaN(this.s) ? 0 : this.s,\n            n = this.l,\n            r = n + (n < .5 ? n : 1 - n) * e,\n            i = 2 * n - r;\n        return new P(E(t >= 240 ? t - 240 : t + 120, i, r), E(t, i, r), E(t < 120 ? t + 240 : t - 120, i, r), this.opacity);\n      },\n      displayable: function displayable() {\n        return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n      },\n      formatHsl: function formatHsl() {\n        var t = this.opacity;\n        return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + 100 * (this.s || 0) + \"%, \" + 100 * (this.l || 0) + \"%\" + (1 === t ? \")\" : \", \" + t + \")\");\n      }\n    }));\n\n    var N = function N(t) {\n      var e = t.length - 1;\n      return function (n) {\n        var r = n <= 0 ? n = 0 : n >= 1 ? (n = 1, e - 1) : Math.floor(n * e),\n            i = t[r],\n            a = t[r + 1],\n            o = r > 0 ? t[r - 1] : 2 * i - a,\n            s = r < e - 1 ? t[r + 2] : 2 * a - i;\n        return j((n - r / e) * e, o, i, a, s);\n      };\n    },\n        L = function L(t) {\n      var e = t.length;\n      return function (n) {\n        var r = Math.floor(((n %= 1) < 0 ? ++n : n) * e),\n            i = t[(r + e - 1) % e],\n            a = t[r % e],\n            o = t[(r + 1) % e],\n            s = t[(r + 2) % e];\n        return j((n - r / e) * e, i, a, o, s);\n      };\n    },\n        B = function B(t) {\n      return function () {\n        return t;\n      };\n    };\n\n    function q(t, e) {\n      return function (n) {\n        return t + n * e;\n      };\n    }\n\n    function R(t, e) {\n      var n = e - t;\n      return n ? q(t, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : B(isNaN(t) ? e : t);\n    }\n\n    function F(t) {\n      return 1 == (t = +t) ? D : function (e, n) {\n        return n - e ? function (t, e, n) {\n          return t = Math.pow(t, n), e = Math.pow(e, n) - t, n = 1 / n, function (r) {\n            return Math.pow(t + r * e, n);\n          };\n        }(e, n, t) : B(isNaN(e) ? n : e);\n      };\n    }\n\n    function D(t, e) {\n      var n = e - t;\n      return n ? q(t, n) : B(isNaN(t) ? e : t);\n    }\n\n    var W = function t(e) {\n      var n = F(e);\n\n      function r(t, e) {\n        var r = n((t = _(t)).r, (e = _(e)).r),\n            i = n(t.g, e.g),\n            a = n(t.b, e.b),\n            o = D(t.opacity, e.opacity);\n        return function (e) {\n          return t.r = r(e), t.g = i(e), t.b = a(e), t.opacity = o(e), t + \"\";\n        };\n      }\n\n      return r.gamma = t, r;\n    }(1);\n\n    function Y(t) {\n      return function (e) {\n        var n,\n            r,\n            i = e.length,\n            a = new Array(i),\n            o = new Array(i),\n            s = new Array(i);\n\n        for (n = 0; n < i; ++n) {\n          r = _(e[n]), a[n] = r.r || 0, o[n] = r.g || 0, s[n] = r.b || 0;\n        }\n\n        return a = t(a), o = t(o), s = t(s), r.opacity = 1, function (t) {\n          return r.r = a(t), r.g = o(t), r.b = s(t), r + \"\";\n        };\n      };\n    }\n\n    var H = Y(N),\n        U = Y(L),\n        X = function X(t, e) {\n      var n,\n          r = e ? e.length : 0,\n          i = t ? Math.min(r, t.length) : 0,\n          a = new Array(i),\n          o = new Array(r);\n\n      for (n = 0; n < i; ++n) {\n        a[n] = nt(t[n], e[n]);\n      }\n\n      for (; n < r; ++n) {\n        o[n] = e[n];\n      }\n\n      return function (t) {\n        for (n = 0; n < i; ++n) {\n          o[n] = a[n](t);\n        }\n\n        return o;\n      };\n    },\n        z = function z(t, e) {\n      var n = new Date();\n      return e -= t = +t, function (r) {\n        return n.setTime(t + e * r), n;\n      };\n    },\n        Q = function Q(t, e) {\n      return e -= t = +t, function (n) {\n        return t + e * n;\n      };\n    },\n        V = function V(t, e) {\n      var n,\n          r = {},\n          i = {};\n\n      for (n in null !== t && \"object\" == typeof t || (t = {}), null !== e && \"object\" == typeof e || (e = {}), e) {\n        n in t ? r[n] = nt(t[n], e[n]) : i[n] = e[n];\n      }\n\n      return function (t) {\n        for (n in r) {\n          i[n] = r[n](t);\n        }\n\n        return i;\n      };\n    },\n        Z = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n        G = new RegExp(Z.source, \"g\");\n\n    var $,\n        K,\n        J,\n        tt,\n        et = function et(t, e) {\n      var n,\n          r,\n          i,\n          a = Z.lastIndex = G.lastIndex = 0,\n          o = -1,\n          s = [],\n          u = [];\n\n      for (t += \"\", e += \"\"; (n = Z.exec(t)) && (r = G.exec(e));) {\n        (i = r.index) > a && (i = e.slice(a, i), s[o] ? s[o] += i : s[++o] = i), (n = n[0]) === (r = r[0]) ? s[o] ? s[o] += r : s[++o] = r : (s[++o] = null, u.push({\n          i: o,\n          x: Q(n, r)\n        })), a = G.lastIndex;\n      }\n\n      return a < e.length && (i = e.slice(a), s[o] ? s[o] += i : s[++o] = i), s.length < 2 ? u[0] ? function (t) {\n        return function (e) {\n          return t(e) + \"\";\n        };\n      }(u[0].x) : function (t) {\n        return function () {\n          return t;\n        };\n      }(e) : (e = u.length, function (t) {\n        for (var n, r = 0; r < e; ++r) {\n          s[(n = u[r]).i] = n.x(t);\n        }\n\n        return s.join(\"\");\n      });\n    },\n        nt = function nt(t, e) {\n      var n,\n          r = typeof e;\n      return null == e || \"boolean\" === r ? B(e) : (\"number\" === r ? Q : \"string\" === r ? (n = m(e)) ? (e = n, W) : et : e instanceof m ? W : e instanceof Date ? z : Array.isArray(e) ? X : \"function\" != typeof e.valueOf && \"function\" != typeof e.toString || isNaN(e) ? V : Q)(t, e);\n    },\n        rt = function rt(t, e) {\n      return e -= t = +t, function (n) {\n        return Math.round(t + e * n);\n      };\n    },\n        it = 180 / Math.PI,\n        at = {\n      translateX: 0,\n      translateY: 0,\n      rotate: 0,\n      skewX: 0,\n      scaleX: 1,\n      scaleY: 1\n    },\n        ot = function ot(t, e, n, r, i, a) {\n      var o, s, u;\n      return (o = Math.sqrt(t * t + e * e)) && (t /= o, e /= o), (u = t * n + e * r) && (n -= t * u, r -= e * u), (s = Math.sqrt(n * n + r * r)) && (n /= s, r /= s, u /= s), t * r < e * n && (t = -t, e = -e, u = -u, o = -o), {\n        translateX: i,\n        translateY: a,\n        rotate: Math.atan2(e, t) * it,\n        skewX: Math.atan(u) * it,\n        scaleX: o,\n        scaleY: s\n      };\n    };\n\n    function st(t, e, n, r) {\n      function i(t) {\n        return t.length ? t.pop() + \" \" : \"\";\n      }\n\n      return function (a, o) {\n        var s = [],\n            u = [];\n        return a = t(a), o = t(o), function (t, r, i, a, o, s) {\n          if (t !== i || r !== a) {\n            var u = o.push(\"translate(\", null, e, null, n);\n            s.push({\n              i: u - 4,\n              x: Q(t, i)\n            }, {\n              i: u - 2,\n              x: Q(r, a)\n            });\n          } else (i || a) && o.push(\"translate(\" + i + e + a + n);\n        }(a.translateX, a.translateY, o.translateX, o.translateY, s, u), function (t, e, n, a) {\n          t !== e ? (t - e > 180 ? e += 360 : e - t > 180 && (t += 360), a.push({\n            i: n.push(i(n) + \"rotate(\", null, r) - 2,\n            x: Q(t, e)\n          })) : e && n.push(i(n) + \"rotate(\" + e + r);\n        }(a.rotate, o.rotate, s, u), function (t, e, n, a) {\n          t !== e ? a.push({\n            i: n.push(i(n) + \"skewX(\", null, r) - 2,\n            x: Q(t, e)\n          }) : e && n.push(i(n) + \"skewX(\" + e + r);\n        }(a.skewX, o.skewX, s, u), function (t, e, n, r, a, o) {\n          if (t !== n || e !== r) {\n            var s = a.push(i(a) + \"scale(\", null, \",\", null, \")\");\n            o.push({\n              i: s - 4,\n              x: Q(t, n)\n            }, {\n              i: s - 2,\n              x: Q(e, r)\n            });\n          } else 1 === n && 1 === r || a.push(i(a) + \"scale(\" + n + \",\" + r + \")\");\n        }(a.scaleX, a.scaleY, o.scaleX, o.scaleY, s, u), a = o = null, function (t) {\n          for (var e, n = -1, r = u.length; ++n < r;) {\n            s[(e = u[n]).i] = e.x(t);\n          }\n\n          return s.join(\"\");\n        };\n      };\n    }\n\n    var ut = st(function (t) {\n      return \"none\" === t ? at : ($ || ($ = document.createElement(\"DIV\"), K = document.documentElement, J = document.defaultView), $.style.transform = t, t = J.getComputedStyle(K.appendChild($), null).getPropertyValue(\"transform\"), K.removeChild($), t = t.slice(7, -1).split(\",\"), ot(+t[0], +t[1], +t[2], +t[3], +t[4], +t[5]));\n    }, \"px, \", \"px)\", \"deg)\"),\n        ct = st(function (t) {\n      return null == t ? at : (tt || (tt = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\")), tt.setAttribute(\"transform\", t), (t = tt.transform.baseVal.consolidate()) ? (t = t.matrix, ot(t.a, t.b, t.c, t.d, t.e, t.f)) : at);\n    }, \", \", \")\", \")\"),\n        lt = Math.SQRT2;\n\n    function ht(t) {\n      return ((t = Math.exp(t)) + 1 / t) / 2;\n    }\n\n    var ft = function ft(t, e) {\n      var n,\n          r,\n          i = t[0],\n          a = t[1],\n          o = t[2],\n          s = e[0],\n          u = e[1],\n          c = e[2],\n          l = s - i,\n          h = u - a,\n          f = l * l + h * h;\n      if (f < 1e-12) r = Math.log(c / o) / lt, n = function n(t) {\n        return [i + t * l, a + t * h, o * Math.exp(lt * t * r)];\n      };else {\n        var p = Math.sqrt(f),\n            d = (c * c - o * o + 4 * f) / (2 * o * 2 * p),\n            v = (c * c - o * o - 4 * f) / (2 * c * 2 * p),\n            y = Math.log(Math.sqrt(d * d + 1) - d),\n            g = Math.log(Math.sqrt(v * v + 1) - v);\n        r = (g - y) / lt, n = function n(t) {\n          var e,\n              n = t * r,\n              s = ht(y),\n              u = o / (2 * p) * (s * (e = lt * n + y, ((e = Math.exp(2 * e)) - 1) / (e + 1)) - function (t) {\n            return ((t = Math.exp(t)) - 1 / t) / 2;\n          }(y));\n\n          return [i + u * l, a + u * h, o * s / ht(lt * n + y)];\n        };\n      }\n      return n.duration = 1e3 * r, n;\n    };\n\n    function pt(t) {\n      return function (e, n) {\n        var r = t((e = I(e)).h, (n = I(n)).h),\n            i = D(e.s, n.s),\n            a = D(e.l, n.l),\n            o = D(e.opacity, n.opacity);\n        return function (t) {\n          return e.h = r(t), e.s = i(t), e.l = a(t), e.opacity = o(t), e + \"\";\n        };\n      };\n    }\n\n    var dt = pt(R),\n        vt = pt(D),\n        yt = Math.PI / 180,\n        gt = 180 / Math.PI,\n        xt = 6 / 29,\n        mt = 3 * xt * xt;\n\n    function bt(t) {\n      if (t instanceof wt) return new wt(t.l, t.a, t.b, t.opacity);\n      if (t instanceof Tt) return It(t);\n      t instanceof P || (t = w(t));\n\n      var e,\n          n,\n          r = St(t.r),\n          i = St(t.g),\n          a = St(t.b),\n          o = _t((.2225045 * r + .7168786 * i + .0606169 * a) / 1);\n\n      return r === i && i === a ? e = n = o : (e = _t((.4360747 * r + .3850649 * i + .1430804 * a) / .96422), n = _t((.0139322 * r + .0971045 * i + .7141733 * a) / .82521)), new wt(116 * o - 16, 500 * (e - o), 200 * (o - n), t.opacity);\n    }\n\n    function Mt(t, e, n, r) {\n      return 1 === arguments.length ? bt(t) : new wt(t, e, n, null == r ? 1 : r);\n    }\n\n    function wt(t, e, n, r) {\n      this.l = +t, this.a = +e, this.b = +n, this.opacity = +r;\n    }\n\n    function _t(t) {\n      return t > .008856451679035631 ? Math.pow(t, 1 / 3) : t / mt + 4 / 29;\n    }\n\n    function Pt(t) {\n      return t > xt ? t * t * t : mt * (t - 4 / 29);\n    }\n\n    function At(t) {\n      return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);\n    }\n\n    function St(t) {\n      return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);\n    }\n\n    function kt(t) {\n      if (t instanceof Tt) return new Tt(t.h, t.c, t.l, t.opacity);\n      if (t instanceof wt || (t = bt(t)), 0 === t.a && 0 === t.b) return new Tt(NaN, 0 < t.l && t.l < 100 ? 0 : NaN, t.l, t.opacity);\n      var e = Math.atan2(t.b, t.a) * gt;\n      return new Tt(e < 0 ? e + 360 : e, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity);\n    }\n\n    function Ot(t, e, n, r) {\n      return 1 === arguments.length ? kt(t) : new Tt(t, e, n, null == r ? 1 : r);\n    }\n\n    function Tt(t, e, n, r) {\n      this.h = +t, this.c = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function It(t) {\n      if (isNaN(t.h)) return new wt(t.l, 0, 0, t.opacity);\n      var e = t.h * yt;\n      return new wt(t.l, Math.cos(e) * t.c, Math.sin(e) * t.c, t.opacity);\n    }\n\n    function Ct(t, e) {\n      var n = D((t = Mt(t)).l, (e = Mt(e)).l),\n          r = D(t.a, e.a),\n          i = D(t.b, e.b),\n          a = D(t.opacity, e.opacity);\n      return function (e) {\n        return t.l = n(e), t.a = r(e), t.b = i(e), t.opacity = a(e), t + \"\";\n      };\n    }\n\n    function Et(t) {\n      return function (e, n) {\n        var r = t((e = Ot(e)).h, (n = Ot(n)).h),\n            i = D(e.c, n.c),\n            a = D(e.l, n.l),\n            o = D(e.opacity, n.opacity);\n        return function (t) {\n          return e.h = r(t), e.c = i(t), e.l = a(t), e.opacity = o(t), e + \"\";\n        };\n      };\n    }\n\n    r(wt, Mt, i(a, {\n      brighter: function brighter(t) {\n        return new wt(this.l + 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);\n      },\n      darker: function darker(t) {\n        return new wt(this.l - 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = (this.l + 16) / 116,\n            e = isNaN(this.a) ? t : t + this.a / 500,\n            n = isNaN(this.b) ? t : t - this.b / 200;\n        return new P(At(3.1338561 * (e = .96422 * Pt(e)) - 1.6168667 * (t = 1 * Pt(t)) - .4906146 * (n = .82521 * Pt(n))), At(-.9787684 * e + 1.9161415 * t + .033454 * n), At(.0719453 * e - .2289914 * t + 1.4052427 * n), this.opacity);\n      }\n    })), r(Tt, Ot, i(a, {\n      brighter: function brighter(t) {\n        return new Tt(this.h, this.c, this.l + 18 * (null == t ? 1 : t), this.opacity);\n      },\n      darker: function darker(t) {\n        return new Tt(this.h, this.c, this.l - 18 * (null == t ? 1 : t), this.opacity);\n      },\n      rgb: function rgb() {\n        return It(this).rgb();\n      }\n    }));\n    var jt = Et(R),\n        Nt = Et(D),\n        Lt = -.14861,\n        Bt = 1.78277,\n        qt = -.29227,\n        Rt = -.90649,\n        Ft = 1.97294,\n        Dt = Ft * Rt,\n        Wt = Ft * Bt,\n        Yt = Bt * qt - Rt * Lt;\n\n    function Ht(t) {\n      if (t instanceof Xt) return new Xt(t.h, t.s, t.l, t.opacity);\n      t instanceof P || (t = w(t));\n      var e = t.r / 255,\n          n = t.g / 255,\n          r = t.b / 255,\n          i = (Yt * r + Dt * e - Wt * n) / (Yt + Dt - Wt),\n          a = r - i,\n          o = (Ft * (n - i) - qt * a) / Rt,\n          s = Math.sqrt(o * o + a * a) / (Ft * i * (1 - i)),\n          u = s ? Math.atan2(o, a) * gt - 120 : NaN;\n      return new Xt(u < 0 ? u + 360 : u, s, i, t.opacity);\n    }\n\n    function Ut(t, e, n, r) {\n      return 1 === arguments.length ? Ht(t) : new Xt(t, e, n, null == r ? 1 : r);\n    }\n\n    function Xt(t, e, n, r) {\n      this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;\n    }\n\n    function zt(t) {\n      return function e(n) {\n        function r(e, r) {\n          var i = t((e = Ut(e)).h, (r = Ut(r)).h),\n              a = D(e.s, r.s),\n              o = D(e.l, r.l),\n              s = D(e.opacity, r.opacity);\n          return function (t) {\n            return e.h = i(t), e.s = a(t), e.l = o(Math.pow(t, n)), e.opacity = s(t), e + \"\";\n          };\n        }\n\n        return n = +n, r.gamma = e, r;\n      }(1);\n    }\n\n    r(Xt, Ut, i(a, {\n      brighter: function brighter(t) {\n        return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new Xt(this.h, this.s, this.l * t, this.opacity);\n      },\n      darker: function darker(t) {\n        return t = null == t ? .7 : Math.pow(.7, t), new Xt(this.h, this.s, this.l * t, this.opacity);\n      },\n      rgb: function rgb() {\n        var t = isNaN(this.h) ? 0 : (this.h + 120) * yt,\n            e = +this.l,\n            n = isNaN(this.s) ? 0 : this.s * e * (1 - e),\n            r = Math.cos(t),\n            i = Math.sin(t);\n        return new P(255 * (e + n * (Lt * r + Bt * i)), 255 * (e + n * (qt * r + Rt * i)), 255 * (e + n * (Ft * r)), this.opacity);\n      }\n    }));\n\n    var Qt = zt(R),\n        Vt = zt(D),\n        Zt = function Zt(t, e) {\n      for (var n = new Array(e), r = 0; r < e; ++r) {\n        n[r] = t(r / (e - 1));\n      }\n\n      return n;\n    };\n  }, function (t, e, n) {\n    \"use strict\";\n\n    function r(t) {\n      return +t;\n    }\n\n    function i(t) {\n      return t * t;\n    }\n\n    function a(t) {\n      return t * (2 - t);\n    }\n\n    function o(t) {\n      return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n    }\n\n    function s(t) {\n      return t * t * t;\n    }\n\n    function u(t) {\n      return --t * t * t + 1;\n    }\n\n    function c(t) {\n      return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n    }\n\n    n.r(e), n.d(e, \"easeLinear\", function () {\n      return r;\n    }), n.d(e, \"easeQuad\", function () {\n      return o;\n    }), n.d(e, \"easeQuadIn\", function () {\n      return i;\n    }), n.d(e, \"easeQuadOut\", function () {\n      return a;\n    }), n.d(e, \"easeQuadInOut\", function () {\n      return o;\n    }), n.d(e, \"easeCubic\", function () {\n      return c;\n    }), n.d(e, \"easeCubicIn\", function () {\n      return s;\n    }), n.d(e, \"easeCubicOut\", function () {\n      return u;\n    }), n.d(e, \"easeCubicInOut\", function () {\n      return c;\n    }), n.d(e, \"easePoly\", function () {\n      return f;\n    }), n.d(e, \"easePolyIn\", function () {\n      return l;\n    }), n.d(e, \"easePolyOut\", function () {\n      return h;\n    }), n.d(e, \"easePolyInOut\", function () {\n      return f;\n    }), n.d(e, \"easeSin\", function () {\n      return g;\n    }), n.d(e, \"easeSinIn\", function () {\n      return v;\n    }), n.d(e, \"easeSinOut\", function () {\n      return y;\n    }), n.d(e, \"easeSinInOut\", function () {\n      return g;\n    }), n.d(e, \"easeExp\", function () {\n      return b;\n    }), n.d(e, \"easeExpIn\", function () {\n      return x;\n    }), n.d(e, \"easeExpOut\", function () {\n      return m;\n    }), n.d(e, \"easeExpInOut\", function () {\n      return b;\n    }), n.d(e, \"easeCircle\", function () {\n      return _;\n    }), n.d(e, \"easeCircleIn\", function () {\n      return M;\n    }), n.d(e, \"easeCircleOut\", function () {\n      return w;\n    }), n.d(e, \"easeCircleInOut\", function () {\n      return _;\n    }), n.d(e, \"easeBounce\", function () {\n      return S;\n    }), n.d(e, \"easeBounceIn\", function () {\n      return A;\n    }), n.d(e, \"easeBounceOut\", function () {\n      return S;\n    }), n.d(e, \"easeBounceInOut\", function () {\n      return k;\n    }), n.d(e, \"easeBack\", function () {\n      return I;\n    }), n.d(e, \"easeBackIn\", function () {\n      return O;\n    }), n.d(e, \"easeBackOut\", function () {\n      return T;\n    }), n.d(e, \"easeBackInOut\", function () {\n      return I;\n    }), n.d(e, \"easeElastic\", function () {\n      return j;\n    }), n.d(e, \"easeElasticIn\", function () {\n      return E;\n    }), n.d(e, \"easeElasticOut\", function () {\n      return j;\n    }), n.d(e, \"easeElasticInOut\", function () {\n      return N;\n    });\n\n    var l = function t(e) {\n      function n(t) {\n        return Math.pow(t, e);\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        h = function t(e) {\n      function n(t) {\n        return 1 - Math.pow(1 - t, e);\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        f = function t(e) {\n      function n(t) {\n        return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n      }\n\n      return e = +e, n.exponent = t, n;\n    }(3),\n        p = Math.PI,\n        d = p / 2;\n\n    function v(t) {\n      return 1 - Math.cos(t * d);\n    }\n\n    function y(t) {\n      return Math.sin(t * d);\n    }\n\n    function g(t) {\n      return (1 - Math.cos(p * t)) / 2;\n    }\n\n    function x(t) {\n      return Math.pow(2, 10 * t - 10);\n    }\n\n    function m(t) {\n      return 1 - Math.pow(2, -10 * t);\n    }\n\n    function b(t) {\n      return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n    }\n\n    function M(t) {\n      return 1 - Math.sqrt(1 - t * t);\n    }\n\n    function w(t) {\n      return Math.sqrt(1 - --t * t);\n    }\n\n    function _(t) {\n      return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n    }\n\n    var P = 7.5625;\n\n    function A(t) {\n      return 1 - S(1 - t);\n    }\n\n    function S(t) {\n      return (t = +t) < 4 / 11 ? P * t * t : t < 8 / 11 ? P * (t -= 6 / 11) * t + 3 / 4 : t < 10 / 11 ? P * (t -= 9 / 11) * t + 15 / 16 : P * (t -= 21 / 22) * t + 63 / 64;\n    }\n\n    function k(t) {\n      return ((t *= 2) <= 1 ? 1 - S(1 - t) : S(t - 1) + 1) / 2;\n    }\n\n    var O = function t(e) {\n      function n(t) {\n        return t * t * ((e + 1) * t - e);\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        T = function t(e) {\n      function n(t) {\n        return --t * t * ((e + 1) * t + e) + 1;\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        I = function t(e) {\n      function n(t) {\n        return ((t *= 2) < 1 ? t * t * ((e + 1) * t - e) : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2;\n      }\n\n      return e = +e, n.overshoot = t, n;\n    }(1.70158),\n        C = 2 * Math.PI,\n        E = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return e * Math.pow(2, 10 * --t) * Math.sin((r - t) / n);\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3),\n        j = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return 1 - e * Math.pow(2, -10 * (t = +t)) * Math.sin((t + r) / n);\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3),\n        N = function t(e, n) {\n      var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= C);\n\n      function i(t) {\n        return ((t = 2 * t - 1) < 0 ? e * Math.pow(2, 10 * t) * Math.sin((r - t) / n) : 2 - e * Math.pow(2, -10 * t) * Math.sin((r + t) / n)) / 2;\n      }\n\n      return i.amplitude = function (e) {\n        return t(e, n * C);\n      }, i.period = function (n) {\n        return t(e, n);\n      }, i;\n    }(1, .3);\n  }, function (t, e, n) {\n    \"use strict\";\n\n    n.r(e), n.d(e, \"now\", function () {\n      return p;\n    }), n.d(e, \"timer\", function () {\n      return y;\n    }), n.d(e, \"timerFlush\", function () {\n      return g;\n    }), n.d(e, \"timeout\", function () {\n      return M;\n    }), n.d(e, \"interval\", function () {\n      return w;\n    });\n    var r,\n        i,\n        a = 0,\n        o = 0,\n        s = 0,\n        u = 0,\n        c = 0,\n        l = 0,\n        h = \"object\" == typeof performance && performance.now ? performance : Date,\n        f = \"object\" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (t) {\n      setTimeout(t, 17);\n    };\n\n    function p() {\n      return c || (f(d), c = h.now() + l);\n    }\n\n    function d() {\n      c = 0;\n    }\n\n    function v() {\n      this._call = this._time = this._next = null;\n    }\n\n    function y(t, e, n) {\n      var r = new v();\n      return r.restart(t, e, n), r;\n    }\n\n    function g() {\n      p(), ++a;\n\n      for (var t, e = r; e;) {\n        (t = c - e._time) >= 0 && e._call.call(null, t), e = e._next;\n      }\n\n      --a;\n    }\n\n    function x() {\n      c = (u = h.now()) + l, a = o = 0;\n\n      try {\n        g();\n      } finally {\n        a = 0, function () {\n          var t,\n              e,\n              n = r,\n              a = 1 / 0;\n\n          for (; n;) {\n            n._call ? (a > n._time && (a = n._time), t = n, n = n._next) : (e = n._next, n._next = null, n = t ? t._next = e : r = e);\n          }\n\n          i = t, b(a);\n        }(), c = 0;\n      }\n    }\n\n    function m() {\n      var t = h.now(),\n          e = t - u;\n      e > 1e3 && (l -= e, u = t);\n    }\n\n    function b(t) {\n      a || (o && (o = clearTimeout(o)), t - c > 24 ? (t < 1 / 0 && (o = setTimeout(x, t - h.now() - l)), s && (s = clearInterval(s))) : (s || (u = h.now(), s = setInterval(m, 1e3)), a = 1, f(x)));\n    }\n\n    v.prototype = y.prototype = {\n      constructor: v,\n      restart: function restart(t, e, n) {\n        if (\"function\" != typeof t) throw new TypeError(\"callback is not a function\");\n        n = (null == n ? p() : +n) + (null == e ? 0 : +e), this._next || i === this || (i ? i._next = this : r = this, i = this), this._call = t, this._time = n, b();\n      },\n      stop: function stop() {\n        this._call && (this._call = null, this._time = 1 / 0, b());\n      }\n    };\n\n    var M = function M(t, e, n) {\n      var r = new v();\n      return e = null == e ? 0 : +e, r.restart(function (n) {\n        r.stop(), t(n + e);\n      }, e, n), r;\n    },\n        w = function w(t, e, n) {\n      var r = new v(),\n          i = e;\n      return null == e ? (r.restart(t, e, n), r) : (e = +e, n = null == n ? p() : +n, r.restart(function a(o) {\n        o += i, r.restart(a, i += e, n), t(o);\n      }, e, n), r);\n    };\n  }]);\n});","export default function addEventListener(target, eventType, callback) {\n  if (target) {\n    if (typeof target.addEventListener === 'function') {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      }; // @ts-ignore\n    }\n\n    if (typeof target.attachEvent === 'function') {\n      // @ts-ignore\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          // @ts-ignore\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  }\n}","/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\n\nfunction initConstants() {\n  TABLE = document.createElement('table');\n  TABLE_TR = document.createElement('tr');\n  FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n  CONTAINERS = {\n    tr: document.createElement('tbody'),\n    tbody: TABLE,\n    thead: TABLE,\n    tfoot: TABLE,\n    td: TABLE_TR,\n    th: TABLE_TR,\n    '*': document.createElement('div')\n  };\n}\n\nexport default function createDom(str) {\n  if (!TABLE) {\n    initConstants();\n  }\n\n  var name = FRAGMENT_REG.test(str) && RegExp.$1;\n\n  if (!name || !(name in CONTAINERS)) {\n    name = '*';\n  }\n\n  var container = CONTAINERS[name];\n  str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n  container.innerHTML = '' + str;\n  var dom = container.childNodes[0];\n  container.removeChild(dom);\n  return dom;\n}","/**\n * 获取样式\n * @param  {Object} dom DOM节点\n * @param  {String} name 样式名\n * @param  {Any} defaultValue 默认值\n * @return {String} 属性值\n */\nexport default function getStyle(dom, name, defaultValue) {\n  var v;\n\n  try {\n    v = window.getComputedStyle ? window.getComputedStyle(dom, null)[name] : dom.style[name]; // 一般不会走到这个逻辑，dom.style 获取的是标签 style 属性，也不准确\n  } catch (e) {// do nothing\n  } finally {\n    v = v === undefined ? defaultValue : v;\n  }\n\n  return v;\n}","import getStyle from './get-style';\nexport default function getHeight(el, defaultValue) {\n  var height = getStyle(el, 'height', defaultValue);\n\n  if (height === 'auto') {\n    height = el.offsetHeight;\n  }\n\n  return parseFloat(height);\n}","import getStyle from './get-style';\nimport getHeight from './get-height';\nexport default function getOuterHeight(el, defaultValue) {\n  var height = getHeight(el, defaultValue);\n  var bTop = parseFloat(getStyle(el, 'borderTopWidth')) || 0;\n  var pTop = parseFloat(getStyle(el, 'paddingTop')) || 0;\n  var pBottom = parseFloat(getStyle(el, 'paddingBottom')) || 0;\n  var bBottom = parseFloat(getStyle(el, 'borderBottomWidth')) || 0;\n  var mTop = parseFloat(getStyle(el, 'marginTop')) || 0;\n  var mBottom = parseFloat(getStyle(el, 'marginBottom')) || 0;\n  return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\n}","import getStyle from './get-style';\nexport default function getHeight(el, defaultValue) {\n  var width = getStyle(el, 'width', defaultValue);\n\n  if (width === 'auto') {\n    width = el.offsetWidth;\n  }\n\n  return parseFloat(width);\n}","import getStyle from './get-style';\nimport getWidth from './get-width';\nexport default function getOuterWidth(el, defaultValue) {\n  var width = getWidth(el, defaultValue);\n  var bLeft = parseFloat(getStyle(el, 'borderLeftWidth')) || 0;\n  var pLeft = parseFloat(getStyle(el, 'paddingLeft')) || 0;\n  var pRight = parseFloat(getStyle(el, 'paddingRight')) || 0;\n  var bRight = parseFloat(getStyle(el, 'borderRightWidth')) || 0;\n  var mRight = parseFloat(getStyle(el, 'marginRight')) || 0;\n  var mLeft = parseFloat(getStyle(el, 'marginLeft')) || 0;\n  return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\n}","export default function getRatio() {\n  return window.devicePixelRatio ? window.devicePixelRatio : 2;\n}","export default function modifyCSS(dom, css) {\n  if (dom) {\n    for (var key in css) {\n      if (css.hasOwnProperty(key)) {\n        dom.style[key] = css[key];\n      }\n    }\n  }\n\n  return dom;\n}","// dom\nexport { default as addEventListener } from './add-event-listener';\nexport { default as createDom } from './create-dom';\nexport { default as getHeight } from './get-height';\nexport { default as getOuterHeight } from './get-outer-height';\nexport { default as getOuterWidth } from './get-outer-width';\nexport { default as getRatio } from './get-ratio';\nexport { default as getStyle } from './get-style';\nexport { default as getWidth } from './get-width';\nexport { default as modifyCSS } from './modify-css';","const env = process.env.REACT_APP_ENV; // 环境变量 [ dev/test/prod ]\r\n\r\nconst apis = {\r\n  dev: {\r\n    cms: '//dev.cms.demo.com/api',\r\n    gms: '//dev.gms.demo.com/api'\r\n  },\r\n  test: {\r\n    cms: '//test.cms.demo.com/api',\r\n    gms: '//test.gms.demo.com/api'\r\n  },\r\n  prod: {\r\n    cms: '//cms.demo.com/api',\r\n    gms: '//gms.demo.com/api'\r\n  }\r\n};\r\n\r\nconst urls = {\r\n  dev: {\r\n    baidu: 'dev.baidu.com',\r\n    ali: 'dev.ali.com',\r\n    qq: 'dev.qq.com'\r\n  },\r\n  test: {\r\n    baidu: 'test.baidu.com',\r\n    ali: 'test.ali.com',\r\n    qq: 'test.qq.com'\r\n  },\r\n  prod: {\r\n    baidu: 'https://baidu.com',\r\n    ali: 'https://ali.com',\r\n    qq: 'https://qq.com'\r\n  }\r\n};\r\n\r\nexport const api =  apis[env];\r\nexport const url =  urls[env];\r\n","import axios from 'axios';\r\nimport { Modal, message } from 'antd';\r\nimport { api } from 'config/domain';\r\nimport handleObject from 'utils/handleObject';\r\n\r\naxios.defaults.baseURL = api.cms;\r\naxios.defaults.withCredentials = true;\r\naxios.defaults.timeout = 2000;\r\n\r\nconst CancelToken = axios.CancelToken;\r\n\r\n//处理请求失败\r\nconst onFetchFail = (err, reject) => {\r\n  message.error(err);\r\n  reject(err);\r\n}\r\n\r\n//处理请求成功\r\nconst onFetchSuccess = (res, resolve, reject) => {\r\n  //服务器端请求错误\r\n  if (res.status !== 200) {\r\n    return onFetchFail('服务器异常', reject);\r\n  }\r\n\r\n  //bug: 业务服务判断\r\n  const status = res.data.status;\r\n\r\n  //业务请求-正常\r\n  if (status === 200) {\r\n    return resolve(res.data.data);\r\n  }\r\n\r\n  //业务请求-未登录\r\n  if (status === 301) {\r\n    Modal.destroyAll();\r\n    Modal.confirm({\r\n      title: '提示',\r\n      content: res.data.message,\r\n      onOk: () => window.location.href = '/login'\r\n    });\r\n    return reject(res.data.message);\r\n  }\r\n\r\n  //业务请求-其他错误\r\n  return onFetchFail(res.data.message, reject);\r\n}\r\n\r\nexport default {\r\n  get: (url = '', data = {}, config = {}) => {\r\n    //设置取消请求钩子\r\n    if (config.cancelToken) {\r\n      config.cancelToken = new CancelToken(config.cancelToken);\r\n    }\r\n\r\n    const cleanData = handleObject.clean(data, true);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(url, { params: cleanData, ...config })\r\n      .then(res => onFetchSuccess(res, resolve, reject))\r\n      .catch(err => onFetchFail(err.message, reject));\r\n    });\r\n  },\r\n  post: (url = '', data = {}, config = {}) => {\r\n    //设置取消请求钩子\r\n    if (config.cancelToken) {\r\n      config.cancelToken = new CancelToken(config.cancelToken);\r\n    }\r\n\r\n    const cleanData = handleObject.clean(data, true);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(url, { param: cleanData }, config)\r\n      .then(res => onFetchSuccess(res, resolve, reject))\r\n      .catch(err => onFetchFail(err.message, reject));\r\n    });\r\n  },\r\n  upload: (url = '', data = {}, config = {}) => {\r\n    //设置取消请求钩子\r\n    if (config.cancelToken) {\r\n      config.cancelToken = new CancelToken(config.cancelToken);\r\n    }\r\n    \r\n    return new Promise((resolve, reject) => {\r\n      axios.post(url, data, { headers:{'Content-Type':'multipart/form-data'}, ...config })\r\n      .then(res => onFetchSuccess(res, resolve, reject))\r\n      .catch(err => onFetchFail(err.message, reject));\r\n    });\r\n  },\r\n}\r\n","/**\r\n * 功能：去除对象值为空(null,undefined,NaN,'')的属性\r\n * @param {object} obj 处理对象\r\n * @param {boolean} includeEmptyString 是否保留空字符串，默认false\r\n */\r\nconst cleanObject = (obj, includeEmptyString) => {\r\n  if (!obj || typeof obj !== 'object' || (typeof obj === 'object' && Array.isArray(obj))) {\r\n    return obj;\r\n  };\r\n\r\n  const newObj = {};\r\n  for(let attr in obj) {\r\n    if (obj[attr] === '') {\r\n      if (includeEmptyString) newObj[attr] = '';\r\n    } else if (typeof obj[attr] === 'string') {\r\n      newObj[attr] = obj[attr].trim();\r\n    } else if (obj[attr] === 0 ) {\r\n      newObj[attr] = 0;\r\n    } else if (obj[attr]) {\r\n      newObj[attr] = obj[attr];\r\n    }\r\n  }\r\n  return newObj;\r\n}\r\n\r\nexport default {\r\n  clean: cleanObject\r\n};\r\n","/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @returns {function|null}\n */\nexport default function createChainedFunction() {\n  var args = [].slice.call(arguments, 0);\n\n  if (args.length === 1) {\n    return args[0];\n  }\n\n  return function chainedFunction() {\n    for (var i = 0; i < args.length; i++) {\n      if (args[i] && args[i].apply) {\n        args[i].apply(this, arguments);\n      }\n    }\n  };\n}","import addDOMEventListener from 'add-dom-event-listener';\nimport ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n  return addDOMEventListener(target, eventType, callback, option);\n}","var WILDCARD = '*';\n/* event-emitter */\n\nvar EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * 监听一个事件\n   * @param evt\n   * @param callback\n   * @param once\n   */\n\n\n  EventEmitter.prototype.on = function (evt, callback, once) {\n    if (!this._events[evt]) {\n      this._events[evt] = [];\n    }\n\n    this._events[evt].push({\n      callback: callback,\n      once: !!once\n    });\n\n    return this;\n  };\n  /**\n   * 监听一个事件一次\n   * @param evt\n   * @param callback\n   */\n\n\n  EventEmitter.prototype.once = function (evt, callback) {\n    this.on(evt, callback, true);\n    return this;\n  };\n  /**\n   * 触发一个事件\n   * @param evt\n   * @param args\n   */\n\n\n  EventEmitter.prototype.emit = function (evt) {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var events = this._events[evt] || [];\n    var wildcardEvents = this._events[WILDCARD] || []; // 实际的处理 emit 方法\n\n    var doEmit = function doEmit(es) {\n      var length = es.length;\n\n      for (var i = 0; i < length; i++) {\n        if (!es[i]) {\n          continue;\n        }\n\n        var _a = es[i],\n            callback = _a.callback,\n            once = _a.once;\n\n        if (once) {\n          es.splice(i, 1);\n\n          if (es.length === 0) {\n            delete _this._events[evt];\n          }\n\n          length--;\n          i--;\n        }\n\n        callback.apply(_this, args);\n      }\n    };\n\n    doEmit(events);\n    doEmit(wildcardEvents);\n  };\n  /**\n   * 取消监听一个事件，或者一个channel\n   * @param evt\n   * @param callback\n   */\n\n\n  EventEmitter.prototype.off = function (evt, callback) {\n    if (!evt) {\n      // evt 为空全部清除\n      this._events = {};\n    } else {\n      if (!callback) {\n        // evt 存在，callback 为空，清除事件所有方法\n        delete this._events[evt];\n      } else {\n        // evt 存在，callback 存在，清除匹配的\n        var events = this._events[evt] || [];\n        var length_1 = events.length;\n\n        for (var i = 0; i < length_1; i++) {\n          if (events[i].callback === callback) {\n            events.splice(i, 1);\n            length_1--;\n            i--;\n          }\n        }\n\n        if (events.length === 0) {\n          delete this._events[evt];\n        }\n      }\n    }\n\n    return this;\n  };\n  /* 当前所有的事件 */\n\n\n  EventEmitter.prototype.getEvents = function () {\n    return this._events;\n  };\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;","export default function contains(root, n) {\n  var node = n;\n\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar ContainerRender = /*#__PURE__*/function (_React$Component) {\n  _inherits(ContainerRender, _React$Component);\n\n  var _super = _createSuper(ContainerRender);\n\n  function ContainerRender() {\n    var _this;\n\n    _classCallCheck(this, ContainerRender);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.removeContainer = function () {\n      if (_this.container) {\n        ReactDOM.unmountComponentAtNode(_this.container);\n\n        _this.container.parentNode.removeChild(_this.container);\n\n        _this.container = null;\n      }\n    };\n\n    _this.renderComponent = function (props, ready) {\n      var _this$props = _this.props,\n          visible = _this$props.visible,\n          getComponent = _this$props.getComponent,\n          forceRender = _this$props.forceRender,\n          getContainer = _this$props.getContainer,\n          parent = _this$props.parent;\n\n      if (visible || parent._component || forceRender) {\n        if (!_this.container) {\n          _this.container = getContainer();\n        }\n\n        ReactDOM.unstable_renderSubtreeIntoContainer(parent, getComponent(props), _this.container, function callback() {\n          if (ready) {\n            ready.call(this);\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ContainerRender, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.autoDestroy) {\n        this.removeContainer();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children({\n        renderComponent: this.renderComponent,\n        removeContainer: this.removeContainer\n      });\n    }\n  }]);\n\n  return ContainerRender;\n}(React.Component);\n\nContainerRender.propTypes = {\n  autoMount: PropTypes.bool,\n  autoDestroy: PropTypes.bool,\n  visible: PropTypes.bool,\n  forceRender: PropTypes.bool,\n  parent: PropTypes.any,\n  getComponent: PropTypes.func.isRequired,\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired\n};\nContainerRender.defaultProps = {\n  autoMount: true,\n  autoDestroy: true,\n  forceRender: false\n};\nexport { ContainerRender as default };","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = /*#__PURE__*/function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  var _super = _createSuper(Portal);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Portal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createContainer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var didUpdate = this.props.didUpdate;\n\n      if (didUpdate) {\n        didUpdate(prevProps);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeContainer();\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer() {\n      this._container = this.props.getContainer();\n      this.forceUpdate();\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer() {\n      if (this._container) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this._container) {\n        return ReactDOM.createPortal(this.props.children, this._container);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  didUpdate: PropTypes.func\n};\nexport { Portal as default };","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = addEventListener;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventObject = require('./EventObject');\n\nvar _EventObject2 = _interopRequireDefault(_EventObject);\n\nfunction addEventListener(target, eventType, callback, option) {\n  function wrapCallback(e) {\n    var ne = new _EventObject2['default'](e);\n    callback.call(target, ne);\n  }\n\n  if (target.addEventListener) {\n    var _ret = function () {\n      var useCapture = false;\n\n      if (typeof option === 'object') {\n        useCapture = option.capture || false;\n      } else if (typeof option === 'boolean') {\n        useCapture = option;\n      }\n\n      target.addEventListener(eventType, wrapCallback, option || false);\n      return {\n        v: {\n          remove: function remove() {\n            target.removeEventListener(eventType, wrapCallback, useCapture);\n          }\n        }\n      };\n    }();\n\n    if (typeof _ret === 'object') return _ret.v;\n  } else if (target.attachEvent) {\n    target.attachEvent('on' + eventType, wrapCallback);\n    return {\n      remove: function remove() {\n        target.detachEvent('on' + eventType, wrapCallback);\n      }\n    };\n  }\n}\n\nmodule.exports = exports['default'];","import { map, memoize, isString, each } from '@antv/util';\nvar RGB_REG = /rgba?\\(([\\s.,0-9]+)\\)/;\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\nvar isGradientColor = function isGradientColor(val) {\n  return /^[r,R,L,l]{1}[\\s]*\\(/.test(val);\n}; // 创建辅助 tag 取颜色\n\n\nvar createTmp = function createTmp() {\n  var i = document.createElement('i');\n  i.title = 'Web Colour Picker';\n  i.style.display = 'none';\n  document.body.appendChild(i);\n  return i;\n}; // 获取颜色之间的插值\n\n\nvar getValue = function getValue(start, end, percent, index) {\n  return start[index] + (end[index] - start[index]) * percent;\n}; // 数组转换成颜色\n\n\nfunction arr2rgb(arr) {\n  return \"#\" + toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]);\n} // rgb 颜色转换成数组\n\n\nvar rgb2arr = function rgb2arr(str) {\n  return [parseInt(str.substr(1, 2), 16), parseInt(str.substr(3, 2), 16), parseInt(str.substr(5, 2), 16)];\n}; // 将数值从 0-255 转换成16进制字符串\n\n\nvar toHex = function toHex(value) {\n  var x16Value = Math.round(value).toString(16);\n  return x16Value.length === 1 ? \"0\" + x16Value : x16Value;\n}; // 计算颜色\n\n\nvar calColor = function calColor(points, percent) {\n  var fixedPercent = isNaN(Number(percent)) || percent < 0 ? 0 : percent > 1 ? 1 : Number(percent);\n  var steps = points.length - 1;\n  var step = Math.floor(steps * fixedPercent);\n  var left = steps * fixedPercent - step;\n  var start = points[step];\n  var end = step === steps ? start : points[step + 1];\n  return arr2rgb([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n}; // 用于给 toRGB 的缓存（使用 memoize 方法替换）\n// const colorCache = {};\n\n\nvar iEl;\n/**\n * 将颜色转换到 rgb 的格式\n * @param {color} color 颜色\n * @return 将颜色转换到 '#ffffff' 的格式\n */\n\nvar toRGB = function toRGB(color) {\n  // 如果已经是 rgb的格式\n  if (color[0] === '#' && color.length === 7) {\n    return color;\n  }\n\n  if (!iEl) {\n    // 防止防止在页头报错\n    iEl = createTmp();\n  }\n\n  iEl.style.color = color;\n  var rst = document.defaultView.getComputedStyle(iEl, '').getPropertyValue('color');\n  var matches = RGB_REG.exec(rst);\n  var cArray = matches[1].split(/\\s*,\\s*/).map(function (s) {\n    return Number(s);\n  });\n  rst = arr2rgb(cArray);\n  return rst;\n};\n/**\n * 获取渐变函数\n * @param colors 多个颜色\n * @return 颜色值\n */\n\n\nvar gradient = function gradient(colors) {\n  var colorArray = isString(colors) ? colors.split('-') : colors;\n  var points = map(colorArray, function (color) {\n    return rgb2arr(color.indexOf('#') === -1 ? toRGB(color) : color);\n  }); // 返回一个函数\n\n  return function (percent) {\n    return calColor(points, percent);\n  };\n};\n\nvar toCSSGradient = function toCSSGradient(gradientColor) {\n  if (isGradientColor(gradientColor)) {\n    var cssColor_1;\n    var steps = void 0;\n\n    if (gradientColor[0] === 'l') {\n      // 线性渐变\n      var arr = regexLG.exec(gradientColor);\n      var angle = +arr[1] + 90; // css 和 g 的渐变起始角度不同\n\n      steps = arr[2];\n      cssColor_1 = \"linear-gradient(\" + angle + \"deg, \";\n    } else if (gradientColor[0] === 'r') {\n      // 径向渐变\n      cssColor_1 = 'radial-gradient(';\n      var arr = regexRG.exec(gradientColor);\n      steps = arr[4];\n    }\n\n    var colorStops_1 = steps.match(regexColorStop);\n    each(colorStops_1, function (item, index) {\n      var itemArr = item.split(':');\n      cssColor_1 += itemArr[1] + \" \" + itemArr[0] * 100 + \"%\";\n\n      if (index !== colorStops_1.length - 1) {\n        cssColor_1 += ', ';\n      }\n    });\n    cssColor_1 += ')';\n    return cssColor_1;\n  }\n\n  return gradientColor;\n};\n\nexport default {\n  rgb2arr: rgb2arr,\n  gradient: gradient,\n  toRGB: memoize(toRGB),\n  toCSSGradient: toCSSGradient\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_type_1 = require(\"./is-type\");\n\nexports.default = function (value) {\n  return Array.isArray ? Array.isArray(value) : is_type_1.default(value, 'Array');\n};","/**\n * @ignore\n * event object for dom\n * @author yiminghe@gmail.com\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventBaseObject = require('./EventBaseObject');\n\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar TRUE = true;\nvar FALSE = false;\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\n\nfunction isNullOrUndefined(w) {\n  return w === null || w === undefined;\n}\n\nvar eventNormalizers = [{\n  reg: /^key/,\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\n  fix: function fix(event, nativeEvent) {\n    if (isNullOrUndefined(event.which)) {\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\n    } // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\n\n\n    if (event.metaKey === undefined) {\n      event.metaKey = event.ctrlKey;\n    }\n  }\n}, {\n  reg: /^touch/,\n  props: ['touches', 'changedTouches', 'targetTouches']\n}, {\n  reg: /^hashchange$/,\n  props: ['newURL', 'oldURL']\n}, {\n  reg: /^gesturechange$/i,\n  props: ['rotation', 'scale']\n}, {\n  reg: /^(mousewheel|DOMMouseScroll)$/,\n  props: [],\n  fix: function fix(event, nativeEvent) {\n    var deltaX = undefined;\n    var deltaY = undefined;\n    var delta = undefined;\n    var wheelDelta = nativeEvent.wheelDelta;\n    var axis = nativeEvent.axis;\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\n    var detail = nativeEvent.detail; // ie/webkit\n\n    if (wheelDelta) {\n      delta = wheelDelta / 120;\n    } // gecko\n\n\n    if (detail) {\n      // press control e.detail == 1 else e.detail == 3\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\n    } // Gecko\n\n\n    if (axis !== undefined) {\n      if (axis === event.HORIZONTAL_AXIS) {\n        deltaY = 0;\n        deltaX = 0 - delta;\n      } else if (axis === event.VERTICAL_AXIS) {\n        deltaX = 0;\n        deltaY = delta;\n      }\n    } // Webkit\n\n\n    if (wheelDeltaY !== undefined) {\n      deltaY = wheelDeltaY / 120;\n    }\n\n    if (wheelDeltaX !== undefined) {\n      deltaX = -1 * wheelDeltaX / 120;\n    } // 默认 deltaY (ie)\n\n\n    if (!deltaX && !deltaY) {\n      deltaY = delta;\n    }\n\n    if (deltaX !== undefined) {\n      /**\n       * deltaX of mousewheel event\n       * @property deltaX\n       * @member Event.DomEvent.Object\n       */\n      event.deltaX = deltaX;\n    }\n\n    if (deltaY !== undefined) {\n      /**\n       * deltaY of mousewheel event\n       * @property deltaY\n       * @member Event.DomEvent.Object\n       */\n      event.deltaY = deltaY;\n    }\n\n    if (delta !== undefined) {\n      /**\n       * delta of mousewheel event\n       * @property delta\n       * @member Event.DomEvent.Object\n       */\n      event.delta = delta;\n    }\n  }\n}, {\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\n  fix: function fix(event, nativeEvent) {\n    var eventDoc = undefined;\n    var doc = undefined;\n    var body = undefined;\n    var target = event.target;\n    var button = nativeEvent.button; // Calculate pageX/Y if missing and clientX/Y available\n\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\n      eventDoc = target.ownerDocument || document;\n      doc = eventDoc.documentElement;\n      body = eventDoc.body;\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    } // which for click: 1 === left; 2 === middle; 3 === right\n    // do not use button\n\n\n    if (!event.which && button !== undefined) {\n      if (button & 1) {\n        event.which = 1;\n      } else if (button & 2) {\n        event.which = 3;\n      } else if (button & 4) {\n        event.which = 2;\n      } else {\n        event.which = 0;\n      }\n    } // add relatedTarget, if necessary\n\n\n    if (!event.relatedTarget && event.fromElement) {\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\n    }\n\n    return event;\n  }\n}];\n\nfunction retTrue() {\n  return TRUE;\n}\n\nfunction retFalse() {\n  return FALSE;\n}\n\nfunction DomEventObject(nativeEvent) {\n  var type = nativeEvent.type;\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\n\n  _EventBaseObject2['default'].call(this);\n\n  this.nativeEvent = nativeEvent; // in case dom event has been mark as default prevented by lower dom node\n\n  var isDefaultPrevented = retFalse;\n\n  if ('defaultPrevented' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\n  } else if ('getPreventDefault' in nativeEvent) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\n  } else if ('returnValue' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\n  }\n\n  this.isDefaultPrevented = isDefaultPrevented;\n  var fixFns = [];\n  var fixFn = undefined;\n  var l = undefined;\n  var prop = undefined;\n  var props = commonProps.concat();\n  eventNormalizers.forEach(function (normalizer) {\n    if (type.match(normalizer.reg)) {\n      props = props.concat(normalizer.props);\n\n      if (normalizer.fix) {\n        fixFns.push(normalizer.fix);\n      }\n    }\n  });\n  l = props.length; // clone properties of the original event object\n\n  while (l) {\n    prop = props[--l];\n    this[prop] = nativeEvent[prop];\n  } // fix target property, if necessary\n\n\n  if (!this.target && isNative) {\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\n  } // check if target is a text node (safari)\n\n\n  if (this.target && this.target.nodeType === 3) {\n    this.target = this.target.parentNode;\n  }\n\n  l = fixFns.length;\n\n  while (l) {\n    fixFn = fixFns[--l];\n    fixFn(this, nativeEvent);\n  }\n\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\n}\n\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\n  constructor: DomEventObject,\n  preventDefault: function preventDefault() {\n    var e = this.nativeEvent; // if preventDefault exists run it on the original event\n\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      // otherwise set the returnValue property of the original event to FALSE (IE)\n      e.returnValue = FALSE;\n    }\n\n    EventBaseObjectProto.preventDefault.call(this);\n  },\n  stopPropagation: function stopPropagation() {\n    var e = this.nativeEvent; // if stopPropagation exists run it on the original event\n\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\n      e.cancelBubble = TRUE;\n    }\n\n    EventBaseObjectProto.stopPropagation.call(this);\n  }\n});\nexports['default'] = DomEventObject;\nmodule.exports = exports['default'];","/**\n * @ignore\n * base event object for custom and dom event.\n * @author yiminghe@gmail.com\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction returnFalse() {\n  return false;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction EventBaseObject() {\n  this.timeStamp = Date.now();\n  this.target = undefined;\n  this.currentTarget = undefined;\n}\n\nEventBaseObject.prototype = {\n  isEventObject: 1,\n  constructor: EventBaseObject,\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse,\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n  },\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue; // fixed 1.2\n    // call stopPropagation implicitly\n\n    this.stopPropagation();\n  },\n  halt: function halt(immediate) {\n    if (immediate) {\n      this.stopImmediatePropagation();\n    } else {\n      this.stopPropagation();\n    }\n\n    this.preventDefault();\n  }\n};\nexports[\"default\"] = EventBaseObject;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\n\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Legend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Legend, _super);\n\n  function Legend(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * 图例类型\n       */\n      type: 'base',\n\n      /**\n       * 图例标题\n       */\n      title: null,\n\n      /**\n       * 图例项集合\n       */\n      items: null,\n\n      /**\n       * 图例文本显示格式化回调函数\n       */\n      formatter: null,\n\n      /**\n       * 图例整体在 X 轴方向的偏移量\n       */\n      offsetX: 0,\n\n      /**\n       * 图例整体在 Y 轴方向上的偏移量\n       */\n      offsetY: 0\n    }, cfg)) || this;\n\n    _this.init();\n\n    _this.render();\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * 渲染图例内容\n   */\n\n\n  Legend.prototype.render = function () {\n    this.renderTitle(); // 渲染标题\n\n    this.renderItems(); // 渲染图例项\n  };\n  /**\n   * @override\n   * 获取图例的宽度\n   */\n\n\n  Legend.prototype.getWidth = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.width;\n  };\n  /**\n   * @override\n   * 获取图例的高度\n   */\n\n\n  Legend.prototype.getHeight = function () {\n    var container = this.get('container');\n    var bbox = container.getBBox();\n    return bbox.height;\n  };\n  /**\n   * @override\n   * 获取图例BBox\n   */\n\n\n  Legend.prototype.getBBox = function () {\n    return this.get('container').getBBox();\n  };\n  /**\n   * @override\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  Legend.prototype.moveTo = function (x, y) {\n    var container = this.get('container');\n    container.move(x, y);\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 绘制图例\n   */\n\n\n  Legend.prototype.draw = function () {\n    this.get('canvas').draw();\n  };\n  /* 格式化 legend 显示数据 */\n\n\n  Legend.prototype.formatterValue = function (v) {\n    var formatter = this.get('formatter') || _.identity;\n\n    return formatter.call(this, v);\n  };\n\n  return Legend;\n}(base_1.default);\n\nexports.default = Legend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar event_emitter_1 = require(\"@antv/event-emitter\");\n\nvar Guide =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Guide, _super);\n\n  function Guide(cfg) {\n    var _this = _super.call(this) || this;\n\n    _this.cfg = tslib_1.__assign({\n      id: null,\n      // 容器\n      canvas: null,\n      container: null,\n      group: null,\n      // 交互属性\n      capture: true,\n      // props\n      // coord: null,\n      offsetX: 0,\n      offsetY: 0,\n      visible: true,\n      zIndex: 1\n    }, cfg);\n    _this.destroyed = false;\n    return _this;\n  } // 由于重构后影响太大了 所以使用any先\n\n\n  Guide.prototype.get = function (name) {\n    return this.cfg[name];\n  };\n\n  Guide.prototype.set = function (name, value) {\n    this.cfg[name] = value;\n    return this;\n  };\n\n  Guide.prototype.destroy = function () {\n    this.off();\n    this.destroyed = true;\n  };\n\n  return Guide;\n}(event_emitter_1.default);\n\nexports.Guide = Guide;\nexports.default = Guide;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // 滑块的宽度，高度 = 宽度 * 2\n\nvar const_1 = require(\"../../../const\");\n\nexports.SLIDER_WIDTH = 8;\nexports.SLIDER_HEIGHT = exports.SLIDER_WIDTH * 2;\nexports.SLIDER_CIRCLE_MAX_SIZE = exports.SLIDER_HEIGHT * 2;\nexports.TEXT_OFFSET = 4;\nexports.SliderBtnStyle = {\n  fill: '#fff',\n  // shadowOffsetX: -2,\n  // shadowOffsetY: 2,\n  shadowBlur: 10,\n  shadowColor: 'rgba(0,0,0,0.65)',\n  radius: 2\n};\nexports.SliderTextStyle = {\n  fill: '#333',\n  textAlign: 'center',\n  textBaseline: 'middle',\n  stroke: '#fff',\n  lineWidth: 5,\n  fontFamily: const_1.FONT_FAMILY\n};\nexports.SliderMiddleBackgroundStyle = {\n  fill: '#D9D9D9'\n};\nexports.SliderMiddleFrontendStyle = {\n  fill: 'rgb(64, 141, 251)'\n};\nexports.DefaultTitleStyle = {\n  fill: '#333',\n  textBaseline: 'top',\n  textAlign: 'start',\n  fontFamily: const_1.FONT_FAMILY\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar is_object_1 = require(\"./is-object\");\n\nfunction each(elements, func) {\n  if (!elements) {\n    return;\n  }\n\n  var rst;\n\n  if (is_array_1.default(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (is_object_1.default(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexports.default = each;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar toString = {}.toString;\n\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nexports.default = isType;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_type_1 = require(\"./is-type\");\n\nexports.default = function (str) {\n  return is_type_1.default(str, 'String');\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar base_1 = require(\"../base\");\n\nvar slider_1 = require(\"./components/slider\");\n\nvar constant_1 = require(\"./constant\");\n\nvar Continuous =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Continuous, _super);\n\n  function Continuous(cfg) {\n    var _this = this;\n\n    var backgroundStyle = cfg.backgroundStyle,\n        fillStyle = cfg.fillStyle,\n        textStyle = cfg.textStyle,\n        titleStyle = cfg.titleStyle,\n        otherCfg = tslib_1.__rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n\n    var _a = cfg.layout,\n        layout = _a === void 0 ? 'horizontal' : _a; // 放入主题中\n\n    var defaultSize = {\n      width: layout === 'horizontal' ? 156 : 16,\n      height: layout === 'horizontal' ? 16 : 156\n    };\n    _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({\n      /* title 间距 */\n      titleDistance: 16,\n\n      /* 布局默认水平 */\n      layout: 'horizontal',\n\n      /* 默认可交互 */\n      operational: true,\n\n      /* 滑块的样式： rect | circle */\n      handleIcon: 'rect',\n\n      /* 背景的样式 */\n      backgroundStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleBackgroundStyle), backgroundStyle),\n\n      /* slider 滑块前景色 */\n      fillStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleFrontendStyle), fillStyle),\n\n      /* 文本样式 */\n      textStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderTextStyle), textStyle),\n\n      /* 标题样式 */\n      titleStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.DefaultTitleStyle), titleStyle),\n\n      /* 宽度 */\n      width: 156,\n\n      /* 高度 */\n      height: 16\n    }, defaultSize), otherCfg)) || this;\n    return _this;\n  }\n\n  Continuous.prototype.init = function () {\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var legendGroup = container.addGroup();\n    this.set('legendGroup', legendGroup);\n    var itemsGroup = legendGroup.addGroup();\n    this.set('itemsGroup', itemsGroup); // 平移\n\n    legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n  };\n  /**\n   * 连续型 title，其实和分类的 canvas title 没有什么区别\n   */\n\n\n  Continuous.prototype.renderTitle = function () {\n    if (this.isShowTitle()) {\n      var title = this.get('title');\n      var container = this.get('legendGroup');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: tslib_1.__assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n  /**\n   * 连续性，直接 render 滑块即可\n   */\n\n\n  Continuous.prototype.renderItems = function () {\n    this.renderSlider();\n  }; // 绑定交互事件\n\n\n  Continuous.prototype.bindEvents = function () {\n    if (this.isOperational()) {// 滑块的鼠标拖拽事件\n      // 滑块更新数据之后的事件\n    }\n  };\n  /**\n  * 清空容器\n  */\n\n\n  Continuous.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  Continuous.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      // 将自己从父容器删除，并且销毁自己\n      if (container.get('parent')) {\n        container.remove(true);\n      }\n\n      container.destroy();\n    }\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Continuous.prototype.isHorizontal = function () {\n    return this.get('layout') === 'horizontal';\n  };\n  /* 是够可交互 */\n\n\n  Continuous.prototype.isOperational = function () {\n    return this.get('operational');\n  };\n  /* 是够显示标题 */\n\n\n  Continuous.prototype.isShowTitle = function () {\n    return !!this.get('title');\n  };\n  /* 滑块的配置 */\n\n\n  Continuous.prototype.getSliderConfig = function () {\n    return {\n      layout: this.get('layout'),\n      sliderType: this.get('handleIcon'),\n      sliderSize: this.get('handleSize'),\n      sliderStyle: this.get('handleStyle'),\n      operational: this.isOperational(),\n      // 宽高\n      width: this.get('width'),\n      height: this.get('height'),\n      min: _.head(this.get('items')).value,\n      max: _.last(this.get('items')).value,\n      // 初始的 range 范围，例如：[ 0, 0.9 ]\n      range: this.get('range') || [0, 1],\n      // 文本样式\n      textStyle: tslib_1.__assign({}, this.get('textStyle')),\n      // 格式化\n      formatter: this.formatterValue\n    };\n  }; // 渲染滑块（颜色和尺寸的效果是一致的）\n\n\n  Continuous.prototype.renderSlider = function () {\n    var _this = this;\n\n    var itemsGroup = this.get('itemsGroup'); // 创建 slider\n\n    var slider = new slider_1.default(this.getSliderConfig()); // 设置背景 group\n\n    slider.setBackground(this.createBackgroundGroup()); // 平移\n\n    if (this.isShowTitle()) {\n      var titleDistance = this.get('titleDistance');\n      var titleBbox = this.get('titleShape').getBBox();\n      var height = titleBbox.height; // 往下平移 title 间距\n\n      slider.translate(0, titleDistance + height);\n    } // 监听事件\n    // 值变更的时候，发送 itemfilter 事件。\n\n\n    slider.on('sliderchange', function (ev) {\n      var value = ev.value,\n          range = ev.range;\n      var itemFiltered = new g_1.Event('itemfilter', ev, true, true); // @ts-ignore todo 传值格式\n\n      itemFiltered.range = value;\n\n      _this.emit('itemfilter', itemFiltered);\n    });\n    itemsGroup.add(slider);\n    this.set('slider', slider);\n  };\n\n  return Continuous;\n}(base_1.default);\n\nexports.default = Continuous;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FONT_FAMILY = '\"-apple-system\", ' + '\"BlinkMacSystemFont\", ' + '\"Segoe UI\", ' + 'Roboto, ' + '\"Helvetica Neue\", ' + 'Helvetica, ' + '\"PingFang SC\", ' + '\"Hiragino Sans GB\", ' + '\"Microsoft YaHei\", ' + 'SimSun, ' + '\"sans-serif\"';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar base_1 = require(\"../base\");\n\nvar DEFAULT_THEME = {\n  layout: 'horizontal',\n  titleDistance: 15,\n  itemDistance: 5,\n  itemMarginBottom: 8,\n  wordSpacing: 8,\n  backgroundPadding: 0,\n  unSelectedColor: '#ccc',\n  offsetX: 0,\n  offsetY: 0\n};\n\nvar CategoryBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CategoryBase, _super);\n\n  function CategoryBase(cfg) {\n    return _super.call(this, tslib_1.__assign(tslib_1.__assign({\n      /**\n       * 鼠标 hover 到图例上的默认交互是否开启\n       */\n      hoverable: true,\n\n      /**\n       * 图例是否允许点击交互\n       */\n      clickable: true,\n\n      /**\n       * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n       */\n      selectedMode: 'multiple',\n\n      /**\n       * 是否允许全部取消，默认 false，即必须保留一个被选中\n       */\n      allowAllCanceled: false,\n\n      /**\n       * 图例项的顺序是否要逆序，默认为 false\n       */\n      reversed: false,\n\n      /**\n       * 是否自动换行，默认自动换行\n       */\n      autoWrap: true\n    }, DEFAULT_THEME), cfg)) || this;\n  }\n\n  return CategoryBase;\n}(base_1.default);\n\nexports.default = CategoryBase;","\"use strict\";\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar const_1 = require(\"../const\"); // tooltip 相关 dom 的 css 类名\n\n\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nexports.default = (_a = {}, // css style for tooltip\n_a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n  position: 'absolute',\n  display: 'none',\n  // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n  // whiteSpace: 'nowrap',\n  zIndex: 8,\n  transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' + 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' + 'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  boxShadow: '0px 0px 10px #aeaeae',\n  borderRadius: '3px',\n  color: 'rgb(87, 87, 87)',\n  fontSize: '12px',\n  fontFamily: const_1.FONT_FAMILY,\n  lineHeight: '20px',\n  padding: '10px 10px 6px 10px'\n}, _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_LIST_CLASS] = {\n  margin: 0,\n  listStyleType: 'none',\n  padding: 0\n}, _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n  marginBottom: '4px'\n}, _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n  width: '5px',\n  height: '5px',\n  borderRadius: '50%',\n  display: 'inline-block',\n  marginRight: '8px'\n}, _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n  display: 'inline-block',\n  float: 'right',\n  marginLeft: '30px'\n}, _a);","\"use strict\";\n/**\n * 提供绘制 shape 时的一些通用方法\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ = require(\"@antv/util\");\n\nfunction splitPoints(obj) {\n  var points = [];\n  var x = obj.x;\n  var y = obj.y;\n  y = _.isArray(y) ? y : [y];\n\n  _.each(y, function (yItem, index) {\n    var point = {\n      x: _.isArray(x) ? x[index] : x,\n      y: yItem\n    };\n    points.push(point);\n  });\n\n  return points;\n}\n\nexports.splitPoints = splitPoints; // rename addFillAttrs\n\nfunction setFillStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.fill = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.fillOpacity = opacity;\n  }\n}\n\nexports.setFillStyle = setFillStyle; // rename addStrokeAttrs\n\nfunction setStrokeStyle(attrs, cfg) {\n  var color = cfg.color,\n      opacity = cfg.opacity;\n\n  if (color) {\n    attrs.stroke = color;\n  }\n\n  if (_.isNumber(opacity)) {\n    attrs.opacity = attrs.strokeOpacity = opacity;\n  }\n}\n\nexports.setStrokeStyle = setStrokeStyle;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\n\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n\n;\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\n\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nvar sub = exports.sub = subtract;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\n\n\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\n\nvar len = exports.len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nvar sub = exports.sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nvar div = exports.div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nvar dist = exports.dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nvar sqrDist = exports.sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nvar sqrLen = exports.sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = exports.forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\n\n\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\n\nvar sub = exports.sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = exports.mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = exports.div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = exports.dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = exports.sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = exports.len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = exports.sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = exports.forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_object_like_1 = require(\"./is-object-like\");\n\nvar is_array_like_1 = require(\"./is-array-like\");\n\nvar is_string_1 = require(\"./is-string\");\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  if (!value || !other) {\n    return false;\n  }\n\n  if (is_string_1.default(value) || is_string_1.default(other)) {\n    return false;\n  }\n\n  if (is_array_like_1.default(value) || is_array_like_1.default(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  if (is_object_like_1.default(value) || is_object_like_1.default(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n\n    var rst = true;\n\n    for (var i = 0; i < valueKeys.length; i++) {\n      rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n\n      if (!rst) {\n        break;\n      }\n    }\n\n    return rst;\n  }\n\n  return false;\n};\n\nexports.default = isEqual;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nexports.default = isObjectLike;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nexports.default = isArrayLike;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar mod = function mod(n, m) {\n  return (n % m + m) % m;\n};\n\nexports.default = mod;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar RADIAN = Math.PI / 180;\n\nvar toRadian = function toRadian(degree) {\n  return RADIAN * degree;\n};\n\nexports.default = toRadian;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar base_1 = require(\"./base\");\n\nexports.Legend = base_1.default;\n\nvar continuous_1 = require(\"./continuous\");\n\nexports.Size = continuous_1.Size;\nexports.Color = continuous_1.Color;\n\nvar category_1 = require(\"./category\");\n\nexports.CanvasCategory = category_1.CanvasCategory;\nexports.HtmlCategory = category_1.HtmlCategory;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar size_1 = require(\"./size\");\n\nexports.Size = size_1.default;\n\nvar color_1 = require(\"./color\");\n\nexports.Color = color_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar base_1 = require(\"./base\"); // circle 的时候，背景的高度\n\n\nvar CircleBackgroundHalfHeight = 2;\n\nvar Size =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Size, _super);\n\n  function Size(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'size-legend'\n    }, cfg)) || this;\n  }\n\n  Size.prototype.getBackgroundShapeAttr = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var points = [];\n\n    if (this.get('handleIcon') === 'rect') {\n      points = this.isHorizontal() ? [[0, height], [0, height - 4], [width, 0], [width, height]] : [[0, 0], [width, 0], [width, height], [width - 4, height]];\n    } else {\n      points = this.isHorizontal() ? [[0, halfHeight + CircleBackgroundHalfHeight], [0, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight - CircleBackgroundHalfHeight], [width, halfHeight + CircleBackgroundHalfHeight]] : [[halfWidth + CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, 0], [halfWidth - CircleBackgroundHalfHeight, height], [halfWidth + CircleBackgroundHalfHeight, height]];\n    }\n\n    return {\n      points: points\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Size.prototype.createBackgroundGroup = function () {\n    var shapeAttribute = this.getBackgroundShapeAttr();\n    var backgroundStyle = this.get('backgroundStyle');\n    var fillStyle = this.get('fillStyle');\n    var background = new g_1.Polygon({\n      attrs: tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle)\n    });\n    var frontend = new g_1.Polygon({\n      attrs: tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle), fillStyle)\n    });\n    var group = new g_1.Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n\n  return Size;\n}(base_1.default);\n\nexports.default = Size;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar constant_1 = require(\"../constant\");\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\n\n\nvar Slider =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Slider, _super);\n\n  function Slider(cfg) {\n    var _this = _super.call(this) || this; // 拖拽过程中，更新 slider 状态位置\n\n\n    _this.onMouseMove = function (e) {\n      var clientX = e.clientX,\n          clientY = e.clientY;\n\n      _this.updateSliderStatus(clientX, clientY);\n    }; // 拖拽结束，清除事件\n\n\n    _this.onMouseUp = function () {\n      // 走到这里，理论上一定会存在方法\n      if (_this.clearAllEvents) {\n        _this.clearAllEvents();\n      }\n\n      _this.currentTarget = undefined;\n    }; // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n\n\n    var layout = cfg.layout,\n        sliderType = cfg.sliderType,\n        sliderSize = cfg.sliderSize,\n        operational = cfg.operational,\n        width = cfg.width,\n        height = cfg.height,\n        textStyle = cfg.textStyle,\n        min = cfg.min,\n        max = cfg.max,\n        range = cfg.range,\n        formatter = cfg.formatter;\n    _this.layout = layout;\n    _this.sliderType = sliderType;\n\n    var _a = sliderSize || [],\n        _b = _a[0],\n        w = _b === void 0 ? constant_1.SLIDER_WIDTH : _b,\n        _c = _a[1],\n        h = _c === void 0 ? constant_1.SLIDER_HEIGHT : _c;\n\n    _this.sliderSize = [w, h];\n    _this.operational = operational;\n    _this.width = width;\n    _this.height = height;\n    _this.min = min;\n    _this.max = max;\n    _this.range = range;\n    _this.textStyle = textStyle;\n    _this.formatter = formatter; // 创建初始的内容\n\n    _this.initialSlider();\n\n    return _this;\n  }\n  /**\n   * 外部设置 background\n   * @param bg\n   */\n\n\n  Slider.prototype.setBackground = function (bg) {\n    // 如果已经存在，那么先移除\n    if (this.backgroundGroup) {\n      // this.remove(true);\n      // this.backgroundGroup.remove(true);\n      // this.removeChild(this.backgroundGroup, true);\n      this.backgroundGroup.destroy();\n    }\n\n    var group = bg.group,\n        background = bg.background,\n        frontend = bg.frontend; // 然后添加\n\n    this.backgroundGroup = group;\n    this.backgroundGroup.set('zIndex', 0);\n\n    if (this.operational && this.rangeSliderShape && frontend) {\n      frontend.attr('clip', this.rangeSliderShape); // this.add(this.rangeSliderShape);\n    }\n\n    this.add(this.backgroundGroup);\n    this.sort();\n  };\n  /**\n   * 滚动条布局，是否为横向\n   * true  横向\n   * false 纵向\n   */\n\n\n  Slider.prototype.isHorizontal = function () {\n    return this.layout === 'horizontal';\n  };\n  /**\n   * 初始化滑块\n   * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n   */\n\n\n  Slider.prototype.initialSlider = function () {\n    if (this.operational) {\n      this.rangeSliderShape = this.createRangeSliderShape();\n      this.rangeSliderShape.set('zIndex', 1);\n      this.minSliderGroup = this.createMinSliderGroup();\n      this.minSliderGroup.set('zIndex', 2);\n      this.maxSliderGroup = this.createMaxSliderGroup();\n      this.maxSliderGroup.set('zIndex', 2);\n      var _a = this.range,\n          min = _a[0],\n          max = _a[1]; // 使用默认的 range 范围渲染 UI\n\n      this.renderUIWithRange(min, max);\n    } // 绑定事件\n\n\n    this.bindEvent();\n  };\n  /* 滑块 hover 的鼠标样式 */\n\n\n  Slider.prototype.getSliderCursor = function () {\n    return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n  };\n  /* 小滑块的区域样式 */\n\n\n  Slider.prototype.createMinSliderGroup = function () {\n    var group = this.addGroup();\n    this.minSliderShape = this.createSliderButton(group, true);\n    this.minTextShape = this.createSliderText(group, true);\n    return group;\n  };\n  /* 大滑块的区域样式 */\n\n\n  Slider.prototype.createMaxSliderGroup = function () {\n    var group = this.addGroup();\n    this.maxSliderShape = this.createSliderButton(group, false);\n    this.maxTextShape = this.createSliderText(group, false);\n    return group;\n  };\n  /* 拖动两个滑块 button 中间，可以滑动整体 */\n\n\n  Slider.prototype.createRangeSliderShape = function () {\n    return this.addShape('rect', {\n      attrs: {\n        fill: '#fff',\n        fillOpacity: 0,\n        cursor: 'move'\n      }\n    });\n  };\n  /* rect 的属性信息 */\n\n\n  Slider.prototype.getRectButtonAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1]; // 前提，滑块的高度是宽度的一半\n\n    if (this.isHorizontal()) {\n      return {\n        x: isMin ? -sliderWidth : 0,\n        y: this.height / 2 - sliderHeight / 2,\n        width: sliderWidth,\n        height: sliderHeight\n      };\n    }\n\n    return {\n      x: this.width / 2 - sliderHeight / 2,\n      y: isMin ? 0 : -sliderWidth,\n      width: sliderHeight,\n      height: sliderWidth\n    };\n  };\n\n  Slider.prototype.getCircleButtonAttribute = function (isMin) {\n    // circle 坐标系为圆心\n    if (this.isHorizontal()) {\n      return {\n        x: 0,\n        y: this.height / 2,\n        r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2\n      };\n    }\n\n    return {\n      x: this.width / 2,\n      y: 0,\n      r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2\n    };\n  };\n  /**\n   * 创建滑块\n   * @param group\n   * @param isMin 是小滑块还是大滑块\n   */\n\n\n  Slider.prototype.createSliderButton = function (group, isMin) {\n    var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {}; // 不同的 slider 滑块\n\n    var buttonAttribute = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, buttonAttr), constant_1.SliderBtnStyle), {\n      cursor: this.getSliderCursor()\n    });\n\n    return group.addShape(this.sliderType, {\n      attrs: buttonAttribute\n    });\n  };\n\n  Slider.prototype.getRectTextAttribute = function (isMin) {\n    var _a = this.sliderSize,\n        sliderWidth = _a[0],\n        sliderHeight = _a[1];\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n      y: this.height / 2 + sliderHeight / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + sliderHeight / 2 + 4,\n      y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n\n  Slider.prototype.getCircleTextAttribute = function (isMin) {\n    return this.isHorizontal() ? {\n      // text 文本值\n      x: 0,\n      y: this.height / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      textAlign: 'center',\n      textBaseline: 'top'\n    } : {\n      x: this.width / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n      y: 0,\n      textAlign: 'left',\n      textBaseline: 'middle'\n    };\n  };\n  /**\n   * 创建滑块文字\n   * @param group\n   * @param isMin\n   */\n\n\n  Slider.prototype.createSliderText = function (group, isMin) {\n    var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) : this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n\n    var textAttr = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, this.textStyle), textAttribute), {\n      text: ''\n    });\n\n    return group.addShape('text', {\n      attrs: textAttr\n    });\n  }; // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n\n\n  Slider.prototype.bindEvent = function () {\n    if (this.operational) {\n      // 鼠标点击的时候，开始滑动\n      this.on('mousedown', this.onMouseDown);\n    }\n  };\n\n  Slider.prototype.onMouseDown = function (ev) {\n    // 当前触发的 shape\n    this.currentTarget = ev.target;\n    var originEvent = ev.event; // 阻止冒泡\n\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    var clientX = originEvent.clientX,\n        clientY = originEvent.clientY; // 鼠标坐标位置\n\n    this.pos = this.isHorizontal() ? clientX : clientY;\n    this.bindCanvasEvents();\n  };\n\n  Slider.prototype.bindCanvasEvents = function () {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n    var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n    var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp); // 清除所有事件的方法，在交互结束的时候执行\n\n    this.clearAllEvents = function () {\n      e1.remove();\n      e2.remove();\n      e3.remove();\n    };\n  };\n\n  Slider.prototype.isDragMin = function () {\n    return this.currentTarget === this.minSliderShape;\n  };\n\n  Slider.prototype.isDragMax = function () {\n    return this.currentTarget === this.maxSliderShape;\n  };\n\n  Slider.prototype.isDragAll = function () {\n    return this.currentTarget === this.rangeSliderShape;\n  };\n  /**\n   * 根据鼠标位置 x,y，更新滑块位置状态\n   * @param x\n   * @param y\n   */\n\n\n  Slider.prototype.updateSliderStatus = function (x, y) {\n    var _this = this;\n\n    var totalLength = this.isHorizontal() ? this.width : this.height;\n    var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n\n    var _a = this.range,\n        min = _a[0],\n        max = _a[1]; // 默认的 range\n\n    var prePosition = this.pos;\n    var currentPosition = this.isHorizontal() ? x : y; // 鼠标拖拽的长度\n\n    var diffLength = currentPosition - prePosition; // 鼠标拖拽的比例，用于做 range 计算\n\n    var diff = diffLength / totalLength * sign;\n    var newRange = [min, max]; // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n\n    if (this.isDragAll()) {\n      if (diff >= 0 && max + diff > 1) {\n        // max 超出\n        newRange = [min + (1 - max), 1];\n      } else if (diff < 0 && min + diff < 0) {\n        // min 超出\n        newRange = [0, max - min];\n      } else {\n        // 都没有超出\n        newRange = [min + diff, max + diff];\n      }\n    } else {\n      // 分别处理\n      if (this.isDragMin()) {\n        newRange[0] = this.getNewRange(min, diff);\n      }\n\n      if (this.isDragMax()) {\n        newRange[1] = this.getNewRange(max, diff);\n      } // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n\n\n      if (newRange[1] < newRange[0]) {\n        newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n      }\n    } // 更新状态\n\n\n    this.pos = currentPosition;\n    this.range = newRange; // 发送事件\n\n    this.emit('sliderchange', {\n      range: newRange,\n      value: newRange.map(function (r) {\n        return _this.getValue(r);\n      })\n    });\n    this.renderUIWithRange(newRange[0], newRange[1]); // 渲染 redraw\n\n    this.get('canvas').draw();\n  };\n  /* 根据 range 变更 ui */\n\n\n  Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n    var width = this.width;\n    var height = this.height; // resetMatrix 是 reset 的创建的属性\n\n    this.minSliderGroup.resetMatrix();\n    this.maxSliderGroup.resetMatrix(); // 修改滑块位置\n    // 横向，纵向的变换逻辑不一样\n\n    if (this.isHorizontal()) {\n      this.rangeSliderShape.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      this.minSliderGroup.translate(minRatio * width, 0);\n      this.maxSliderGroup.translate(maxRatio * width, 0);\n    } else {\n      this.rangeSliderShape.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      }); // 纵向图例，上大下小\n\n      this.minSliderGroup.translate(0, (1 - minRatio) * height);\n      this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n    } // 更新文本\n\n\n    this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n    this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio))); // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n\n    if (this.sliderType === 'circle') {\n      this.minSliderShape.attr({\n        r: (constant_1.SLIDER_HEIGHT + minRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2\n      });\n      this.maxSliderShape.attr({\n        r: (constant_1.SLIDER_HEIGHT + maxRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2\n      });\n    }\n  };\n  /**\n   * 在原来 range 的基础上，增加一个 diff\n   * @param range\n   * @param diff\n   */\n\n\n  Slider.prototype.getNewRange = function (range, diff) {\n    var r = diff + range;\n    return r > 1 ? 1 : r < 0 ? 0 : r;\n  };\n\n  Slider.prototype.getValue = function (ratio) {\n    var v = this.min + (this.max - this.min) * ratio;\n    return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n  };\n\n  return Slider;\n}(g_1.Group);\n\nexports.default = Slider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar _ = require(\"@antv/util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar color_util_1 = require(\"@antv/color-util\");\n\nvar base_1 = require(\"./base\");\n\nvar constant_1 = require(\"./constant\");\n\nvar Color =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Color, _super);\n\n  function Color(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'color-legend'\n    }, cfg)) || this;\n  }\n  /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n\n\n  Color.prototype.calculatePercent = function (items) {\n    var min = _.head(items).value;\n\n    var max = _.last(items).value;\n\n    var diff = max - min;\n    return _.map(items, function (item) {\n      return tslib_1.__assign(tslib_1.__assign({}, item), {\n        percentage: (Number(item.value) - min) / diff\n      });\n    });\n  };\n  /* 颜色是否分段 */\n\n\n  Color.prototype.isSegment = function () {\n    return !!this.get('isSegment');\n  };\n  /* 可交互的情况 */\n\n\n  Color.prototype.getOperationalGroup = function () {\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var backgroundStyle = this.get('backgroundStyle');\n    var fill = '';\n    var rgbColor;\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (v) {\n        rgbColor = color_util_1.default.toRGB(v.color);\n        fill += v.percentage + \":\" + rgbColor + \" \";\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (v) {\n        rgbColor = color_util_1.default.toRGB(v.color);\n        fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n      });\n    }\n\n    var background = new g_1.Rect({\n      attrs: tslib_1.__assign({\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        strokeOpacity: 0\n      }, backgroundStyle)\n    });\n    var frontend = new g_1.Rect({\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    });\n    var group = new g_1.Group();\n\n    if (this.isOperational()) {\n      group.add(background);\n      group.add(frontend);\n    } else {\n      // 不可交互的时候，不需要 frontend\n      group.add(frontend);\n    }\n\n    return {\n      group: group,\n      background: background,\n      frontend: frontend\n    };\n  };\n  /**\n   * 不可交互的情况：\n   * 1. 无滑块\n   * 2. 可以连续和分段\n   * 3. 分段的时候下面有文字\n   */\n\n\n  Color.prototype.getUnOperationalGroup = function () {\n    var _this = this;\n\n    var width = this.get('width');\n    var height = this.get('height');\n    var items = this.calculatePercent(this.get('items'));\n    var textStyle = this.get('textStyle');\n    var group = new g_1.Group();\n    var fill = '';\n    var rgbColor;\n    var path = [];\n    var isize = items.length; // gradient color distributed according to the percentage\n\n    if (this.isHorizontal()) {\n      fill += 'l (0) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', item.percentage * width, 0]);\n          path.push(['L', item.percentage * width, height]);\n        }\n\n        rgbColor = color_util_1.default.toRGB(items[i].color);\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = color_util_1.default.toRGB(items[i - 1].color);\n          fill += item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        fill += item.percentage + \":\" + rgbColor + \" \";\n        group.addShape('text', {\n          attrs: tslib_1.__assign(tslib_1.__assign({\n            x: item.percentage * width,\n            y: height + constant_1.TEXT_OFFSET,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textBaseline: 'top',\n            textAlign: 'center'\n          })\n        });\n      });\n    } else {\n      fill += 'l (90) ';\n\n      _.each(items, function (item, i) {\n        if (i !== 0 && i !== isize - 1) {\n          path.push(['M', 0, height - item.percentage * height]);\n          path.push(['L', width, height - item.percentage * height]);\n        }\n\n        rgbColor = color_util_1.default.toRGB(items[i].color);\n        fill += 1 - item.percentage + \":\" + rgbColor + \" \"; // one color instead of gradient color for a block while isSegment === true\n\n        if (_this.isSegment() && i > 0) {\n          var preRgbColor = color_util_1.default.toRGB(items[i - 1].color);\n          fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n        }\n\n        group.addShape('text', {\n          attrs: tslib_1.__assign(tslib_1.__assign({\n            x: width + constant_1.TEXT_OFFSET,\n            y: (1 - item.percentage) * height,\n            text: \"\" + _this.formatterValue(item.value)\n          }, textStyle), {\n            textAlign: 'start',\n            textBaseline: 'middle'\n          })\n        });\n      });\n    }\n\n    var background = group.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        fill: fill,\n        strokeOpacity: 0\n      }\n    }); // the white line segment to seperate color blocks\n\n    group.addShape('path', {\n      attrs: {\n        path: path,\n        lineWidth: 1,\n        stroke: '#fff'\n      }\n    });\n    return {\n      group: group,\n      background: background,\n      frontend: undefined\n    };\n  };\n  /* 背景的样式，size 和 color 的背景完全不一样 */\n\n\n  Color.prototype.createBackgroundGroup = function () {\n    return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n  };\n\n  return Color;\n}(base_1.default);\n\nexports.default = Color;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar canvas_1 = require(\"./canvas\");\n\nexports.CanvasCategory = canvas_1.default;\n\nvar html_1 = require(\"./html\");\n\nexports.HtmlCategory = html_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar arrow_1 = require(\"./arrow\");\n\nvar base_1 = require(\"./base\");\n\nvar CanvasLegend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CanvasLegend, _super);\n\n  function CanvasLegend(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'category-legend'\n    }, cfg)) || this;\n  }\n\n  CanvasLegend.prototype.init = function () {\n    this.isFlipped = false;\n    var container = this.get('container');\n    this.set('canvas', container.get('canvas'));\n    var itemsGroup = container.addGroup();\n    this.set('itemsGroup', itemsGroup);\n\n    if (this.get('flipPage')) {\n      this.set('autoWrap', true);\n    }\n  };\n\n  CanvasLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var container = this.get('container');\n      var titleStyle = this.get('titleStyle');\n      var titleShape = container.addShape('text', {\n        attrs: tslib_1.__assign({\n          x: 0,\n          y: 0,\n          text: title\n        }, titleStyle)\n      });\n      titleShape.name = 'legend-title';\n      this.set('titleShape', titleShape);\n    }\n  };\n\n  CanvasLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (this.get('reversed')) {\n      items.reverse();\n    }\n\n    util_1.each(items, function (item) {\n      _this._addItem(item);\n    });\n\n    var _a = this._getMaxItemSize(),\n        maxItemWidth = _a.maxItemWidth,\n        maxItemHeight = _a.maxItemHeight;\n\n    this.set('maxItemWidth', maxItemWidth);\n    this.set('maxItemHeight', maxItemHeight);\n    var needPageFlip = this.isNeedFlip();\n\n    if (this.get('autoWrap')) {\n      this._adjustItems();\n    } // 默认自动换行\n\n\n    if (needPageFlip) {\n      this.flipPage();\n    }\n\n    this._adjustPositionOffset();\n\n    this._renderBack();\n  };\n\n  CanvasLegend.prototype.isNeedFlip = function () {\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsBBox = this.get('itemsGroup').getBBox();\n    var layout = this.get('layout');\n\n    if (this.get('flipPage')) {\n      if (layout === 'vertical' && maxHeight < itemsBBox.height) {\n        return true;\n      }\n\n      if (layout === 'horizontal' && maxWidth < itemsBBox.width) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CanvasLegend.prototype.flipPage = function () {\n    var _this = this;\n\n    this.isFlipped = true;\n    var maxItemWidth = this.get('maxItemWidth');\n    var maxItemHeight = this.get('maxItemHeight');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var itemsGroup = this.get('itemsGroup');\n    var itemsBBox = itemsGroup.getBBox();\n    var layout = this.get('layout');\n\n    var paginationCfg = this._getPaginationCfg(); // 根据layout创建clip\n\n\n    var pageNumber = 0;\n    var mode = 'up-down'; // 上下翻页\n\n    var x = itemsBBox.tl.x;\n    var y = itemsBBox.tl.y; // 翻页器位置\n\n    var size = 0; // 翻页器尺寸\n\n    var clip = new g_1.Rect({\n      attrs: {\n        x: x,\n        y: y,\n        width: maxWidth - paginationCfg.size,\n        height: maxHeight\n      }\n    });\n\n    if (layout === 'horizontal') {\n      var width = Math.max(maxWidth, itemsBBox.width);\n      clip.attr('width', width);\n      clip.attr('height', maxItemHeight);\n      this.set('maxWidth', width);\n      this.set('maxHeight', maxItemHeight);\n      pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n      x = x + width - paginationCfg.size; // temp:padding\n\n      y = Math.ceil(y + maxItemHeight / 2);\n      size = maxItemHeight;\n\n      if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n        var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n        this.set('offsetY', offsetY);\n      }\n    }\n\n    if (layout === 'vertical') {\n      clip.attr('width', maxItemWidth);\n      var height = Math.max(maxHeight, itemsBBox.height);\n      clip.attr('height', height);\n      this.set('maxWidth', maxItemWidth);\n      this.set('maxHeight', height);\n      pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n      y = y + height + 10; // temp: padding\n\n      mode = 'left-right';\n      size = maxItemWidth;\n    } // 应用clip\n\n\n    itemsGroup.attr('clip', clip);\n    this.set('clip', clip); // 绘制翻页器UI\n\n    var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n    this.flipUI = flipUI; // 加入交互\n\n    var currentIndex = 1;\n    var arrow1 = flipUI.arrows[0];\n    var arrow2 = flipUI.arrows[1];\n    arrow1.on('click', function () {\n      if (currentIndex > 1) {\n        currentIndex -= 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = util_1.clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] += dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] += dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n\n        _this.get('canvas').draw();\n      }\n    });\n    arrow2.on('click', function () {\n      if (currentIndex < pageNumber) {\n        currentIndex += 1;\n        flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n        var matrix = util_1.clone(itemsGroup.attr('matrix'));\n\n        if (layout === 'vertical') {\n          var dist = _this.get('itemDistance') + maxItemWidth;\n          matrix[6] -= dist;\n        } else {\n          var dist = maxItemHeight + _this.get('itemMarginBottom');\n\n          matrix[7] -= dist;\n        }\n\n        itemsGroup.stopAnimate();\n        itemsGroup.animate({\n          matrix: matrix\n        }, 100);\n      }\n    });\n  };\n\n  CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n    var paginationCfg = this._getPaginationCfg();\n\n    var container = this.get('container');\n    var group = container.addGroup();\n    var arrows = [];\n    var text;\n\n    if (mode === 'left-right') {\n      // left arrow\n      var la = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x + paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'left'\n      }));\n      group.add(la.shape);\n      arrows.push(la.shape); // right arrow\n\n      var ra = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x + size - paginationCfg.arrow.width / 2,\n        y: y,\n        direction: 'right'\n      }));\n      group.add(ra.shape);\n      arrows.push(ra.shape); // text\n\n      text = group.addShape('text', {\n        attrs: util_1.mix({}, paginationCfg.text, {\n          x: x + size / 2,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    } else {\n      // upper arrow\n      var height = this._getHorizontalPaginationHeight();\n\n      var ua = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y - height / 2 + paginationCfg.arrow.height / 2,\n        direction: 'up'\n      }));\n      group.add(ua.shape);\n      arrows.push(ua.shape); // lower arrow\n\n      var da = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n        x: x,\n        y: y + height / 2 - paginationCfg.arrow.height / 2,\n        direction: 'down'\n      }));\n      group.add(da.shape);\n      arrows.push(da.shape); // text\n\n      text = group.addShape('text', {\n        attrs: util_1.mix({}, paginationCfg.text, {\n          x: x,\n          y: y,\n          text: \"1 / \" + pageNumber\n        })\n      });\n    }\n\n    return {\n      arrows: arrows,\n      text: text,\n      container: group\n    };\n  };\n\n  CanvasLegend.prototype._getPaginationCfg = function () {\n    var defaultCfg = {\n      arrow: {\n        x: 0,\n        y: 0,\n        width: 10,\n        height: 8,\n        attrs: {\n          fill: '#ccc',\n          cursor: 'pointer'\n        },\n        direction: 'right'\n      },\n      text: {\n        fontSize: 12,\n        fill: '#ccc',\n        textAlign: 'center',\n        textBaseline: 'middle'\n      },\n      size: 40\n    }; // todo: 允许用户自行配置样式\n\n    return defaultCfg;\n  };\n\n  CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n    var GAP = 2;\n\n    var cfg = this._getPaginationCfg();\n\n    return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n  };\n\n  CanvasLegend.prototype.bindEvents = function () {\n    var itemsGroup = this.get('itemsGroup');\n\n    if (this.get('hoverable')) {\n      itemsGroup.on('mousemove', util_1.wrapBehavior(this, '_onMousemove'));\n      itemsGroup.on('mouseleave', util_1.wrapBehavior(this, '_onMouseleave'));\n    }\n\n    if (this.get('clickable')) {\n      itemsGroup.on('click', util_1.wrapBehavior(this, '_onClick'));\n    }\n  };\n  /**\n   * 清空容器\n   */\n\n\n  CanvasLegend.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      container.clear();\n    }\n  };\n  /**\n   * 销毁\n   */\n\n\n  CanvasLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('container');\n\n    if (container && !container.destroyed) {\n      if (container.get('parent')) {\n        container.remove();\n      }\n\n      container.destroy();\n    }\n  };\n\n  CanvasLegend.prototype.getCheckedCount = function () {\n    var itemsGroup = this.get('itemsGroup');\n    var items = itemsGroup.get('children');\n    var checkedArr = util_1.filter(items, function (item) {\n      return item.get('checked');\n    });\n    return checkedArr.length;\n  };\n\n  CanvasLegend.prototype.getWidth = function () {\n    return this.getBBox().width;\n  };\n\n  CanvasLegend.prototype.getHeight = function () {\n    return this.getBBox().height;\n  };\n\n  CanvasLegend.prototype.getBBox = function () {\n    if (this.isFlipped) {\n      var clip = this.get('clip');\n      var fliperContainer = this.flipUI.container;\n      return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n    }\n\n    return this.get('container').getBBox();\n  };\n\n  CanvasLegend.prototype._adjustPositionOffset = function () {\n    var offsetX = this.get('offsetX');\n    var offsetY = this.get('offsetY');\n    var container = this.get('container');\n    container.move(offsetX, offsetY);\n  };\n\n  CanvasLegend.prototype._addItem = function (item) {\n    var itemsGroup = this.get('itemsGroup');\n\n    var x = this._getNextX();\n\n    var y = this._getNextY();\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemGroup = itemsGroup.addGroup({\n      x: x,\n      y: y,\n      value: item.value,\n      checked: item.checked\n    });\n    var textStyle = this.get('textStyle');\n    var wordSpace = this.get('wordSpacing');\n    var startX = 0;\n\n    if (item.marker) {\n      // 如果有marker添加marker\n      var markerAttrs = Object.assign({}, item.marker, {\n        x: item.marker.radius + x,\n        y: y\n      });\n\n      if (!item.checked) {\n        if (markerAttrs.fill) {\n          markerAttrs.fill = unSelectedColor;\n        }\n\n        if (markerAttrs.stroke) {\n          markerAttrs.stroke = unSelectedColor;\n        }\n      }\n\n      var markerShape = itemGroup.addShape('marker', {\n        type: 'marker',\n        attrs: markerAttrs\n      });\n      markerShape.attr('cursor', 'pointer');\n      markerShape.name = 'legend-marker';\n      startX += markerShape.getBBox().width + wordSpace;\n    }\n\n    var textAttrs = Object.assign({}, textStyle, {\n      x: startX + x,\n      y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n      text: this.formatterValue(item.value)\n    });\n\n    if (!item.checked) {\n      Object.assign(textAttrs, {\n        fill: unSelectedColor\n      });\n    }\n\n    var textShape = itemGroup.addShape('text', {\n      attrs: textAttrs\n    });\n    textShape.attr('cursor', 'pointer');\n    textShape.name = 'legend-text';\n    var bbox = itemGroup.getBBox();\n    var itemWidth = this.get('itemWidth');\n    var wrapperShape = itemGroup.addShape('rect', {\n      attrs: {\n        x: x,\n        y: y - bbox.height / 2,\n        fill: '#fff',\n        fillOpacity: 0,\n        width: itemWidth || bbox.width,\n        height: bbox.height\n      }\n    });\n    wrapperShape.attr('cursor', 'pointer');\n    wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n\n    wrapperShape.name = 'legend-item';\n    itemGroup.name = 'legendGroup';\n    return itemGroup;\n  }; // 获取的图例元素 X 位置\n\n\n  CanvasLegend.prototype._getNextX = function () {\n    var layout = this.get('layout');\n    var itemDistance = this.get('itemDistance');\n    var itemsGroup = this.get('itemsGroup');\n    var itemWidth = this.get('itemWidth');\n    var children = itemsGroup.get('children');\n    var nextX = 0;\n\n    if (layout === 'horizontal') {\n      // 水平布局\n      util_1.each(children, function (item) {\n        nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n      });\n    }\n\n    return nextX;\n  };\n\n  CanvasLegend.prototype._getNextY = function () {\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var layout = this.get('layout');\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var nextY = titleDistance;\n\n    if (titleShape) {\n      nextY += titleShape.getBBox().height;\n    }\n\n    if (layout === 'vertical') {\n      // 竖直布局\n      util_1.each(children, function (item) {\n        nextY += item.getBBox().height + itemMarginBottom;\n      });\n    }\n\n    return nextY;\n  };\n\n  CanvasLegend.prototype._adjustHorizontal = function () {\n    var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n    var itemsGroup = this.get('itemsGroup');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxWidth') - margin;\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDistance = this.get('titleDistance');\n    var row = 0;\n    var rowLength = 0;\n    var width;\n    var height;\n    var box;\n    var itemWidth = this.get('itemWidth');\n\n    if (itemsGroup.getBBox().width > maxLength) {\n      util_1.each(children, function (child) {\n        box = child.getBBox();\n        width = itemWidth || box.width;\n        height = box.height + itemMarginBottom;\n\n        if (maxLength - rowLength < width) {\n          row++;\n          rowLength = 0;\n        }\n\n        child.move(rowLength, row * height + titleDistance);\n        rowLength += width + itemDistance;\n      });\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._adjustVertical = function () {\n    var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n\n    var itemsGroup = this.get('itemsGroup');\n    var titleShape = this.get('titleShape');\n    var children = itemsGroup.get('children');\n    var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n\n    var itemDistance = this.get('itemDistance');\n    var itemMarginBottom = this.get('itemMarginBottom');\n    var titleDisatance = this.get('titleDistance');\n    var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n    var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n    var colLength = titleHeight + itemsGroup.getBBox().height;\n    var width;\n    var height;\n    var box;\n    maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n    var totalLength = 0;\n\n    if (colLength > maxLength) {\n      util_1.each(children, function (child, index) {\n        box = child.getBBox();\n        width = box.width;\n        height = box.height;\n        /*if (index > 0) {\n          maxItemWidth = itemWidth + itemDistance;\n        }*/\n\n        if (maxLength - colLength < height) {\n          // 剩余高度不能满足一行，增加一列\n          colLength = titleHeight;\n\n          if (index > 0) {\n            totalLength += maxItemWidth;\n          }\n\n          child.move(totalLength, titleHeight);\n        } else {\n          child.move(totalLength, colLength);\n        }\n\n        colLength += height + itemMarginBottom;\n      });\n    }\n  };\n\n  CanvasLegend.prototype._adjustItems = function () {\n    var layout = this.get('layout');\n    layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n  };\n\n  CanvasLegend.prototype._renderBack = function () {\n    var container = this.get('container');\n    var padding = this.get('backgroundPadding');\n    var backAttrs = this.get('backgroundStyle');\n\n    if (util_1.isNumber(padding)) {\n      padding = [padding, padding, padding, padding];\n    }\n\n    if (!backAttrs) {\n      return;\n    }\n\n    container.renderBack(padding, backAttrs);\n  };\n\n  CanvasLegend.prototype._onMousemove = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseover = new g_1.Event('itemmouseover', ev, true, true);\n      itemMouseover.item = this._findItem(item);\n      itemMouseover.checked = item.get('checked');\n      this.emit('itemmouseover', itemMouseover);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onMouseleave = function (ev) {\n    var item = this._getLegendItem(ev.target);\n\n    if (item && item.get('checked')) {\n      var itemMouseleave = new g_1.Event('itemmouseleave', ev, true, true);\n      itemMouseleave.item = this._findItem(item);\n      itemMouseleave.checked = item.get('checked');\n      this.emit('itemmouseleave', itemMouseleave);\n      this.get('canvas').draw();\n    }\n  };\n\n  CanvasLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var clickedItem = this._getLegendItem(ev.target);\n\n    if (clickedItem && !clickedItem.get('destroyed')) {\n      var checked = clickedItem.get('checked');\n\n      if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n        return;\n      }\n\n      var mode = this.get('selectedMode');\n\n      var item_1 = this._findItem(clickedItem);\n\n      var itemClick = new g_1.Event('itemclick', ev, true, true);\n      itemClick.item = item_1;\n      itemClick.currentTarget = clickedItem;\n      itemClick.checked = mode === 'single' ? true : !checked;\n      var unSelectedColor_1 = this.get('unSelectedColor');\n      var checkColor_1 = this.get('textStyle').fill;\n      var markerItem_1;\n      var textItem_1;\n      var legendItem_1;\n\n      if (mode === 'single') {\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        util_1.each(children, function (child) {\n          markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n          textItem_1 = _this._findShapeByName(child, 'legend-text');\n          legendItem_1 = _this._findShapeByName(child, 'legend-item');\n\n          if (child !== clickedItem) {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', unSelectedColor_1);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', unSelectedColor_1);\n            }\n\n            textItem_1.attr('fill', unSelectedColor_1);\n            markerItem_1.set('checked', false);\n            markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n            textItem_1.set('checked', false);\n            legendItem_1.set('checked', false);\n            child.set('checked', false);\n          } else {\n            if (markerItem_1.attr('fill')) {\n              markerItem_1.attr('fill', item_1.marker.fill);\n            }\n\n            if (markerItem_1.attr('stroke')) {\n              markerItem_1.attr('stroke', item_1.marker.stroke);\n            }\n\n            textItem_1.attr('fill', checkColor_1);\n            markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n            markerItem_1.set('checked', true);\n            textItem_1.set('checked', true);\n            legendItem_1.set('checked', true);\n            child.set('checked', true);\n          }\n        });\n      } else {\n        markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n        textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n        legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n\n        if (markerItem_1.attr('fill')) {\n          markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n        }\n\n        if (markerItem_1.attr('stroke')) {\n          markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n        }\n\n        textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n        clickedItem.set('checked', !checked);\n        markerItem_1.set('checked', !checked);\n        textItem_1.set('checked', !checked);\n        legendItem_1.set('checked', !checked);\n      }\n\n      this.emit('itemclick', itemClick);\n      this.get('canvas').draw();\n    }\n\n    return;\n  };\n\n  CanvasLegend.prototype._getLegendItem = function (target) {\n    var item = target.get('parent');\n\n    if (item && item.name === 'legendGroup') {\n      return item;\n    }\n\n    return null;\n  };\n\n  CanvasLegend.prototype._findItem = function (refer) {\n    var items = this.get('items');\n    var rst = null;\n    var value = refer instanceof g_1.Group ? refer.get('value') : refer;\n    util_1.each(items, function (item) {\n      if (item.value === value) {\n        rst = item;\n        return false;\n      }\n    });\n    return rst;\n  };\n\n  CanvasLegend.prototype._findShapeByName = function (group, name) {\n    return group.findBy(function (node) {\n      return node.name === name;\n    });\n  };\n\n  CanvasLegend.prototype._getMaxItemSize = function () {\n    var maxItemWidth = -Infinity;\n    var maxItemHeight = -Infinity;\n    var itemGroup = this.get('itemsGroup');\n    var items = itemGroup.get('children');\n    util_1.each(items, function (item) {\n      var i = item;\n      var bbox = i.getBBox();\n\n      if (maxItemWidth < bbox.width) {\n        maxItemWidth = bbox.width;\n      }\n\n      if (maxItemHeight < bbox.height) {\n        maxItemHeight = bbox.height;\n      }\n    });\n    return {\n      maxItemWidth: maxItemWidth,\n      maxItemHeight: maxItemHeight\n    };\n  };\n\n  CanvasLegend.prototype._mergeBBox = function (bboxes) {\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var minY = Infinity;\n    var maxY = -Infinity;\n    util_1.each(bboxes, function (bbox) {\n      var box = bbox;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n    return new g_1.BBox(minX, minY, maxX - minX, maxY - minY);\n  };\n\n  return CanvasLegend;\n}(base_1.default);\n\nexports.default = CanvasLegend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar G = require(\"@antv/g\");\n\nvar _ = require(\"@antv/util\");\n\nvar dir_mapper = {\n  right: 90 * Math.PI / 180,\n  left: (360 - 90) * Math.PI / 180,\n  up: 0,\n  down: 180 * Math.PI / 180\n};\n\nvar Arrow =\n/** @class */\nfunction () {\n  function Arrow(cfg) {\n    this.width = 10;\n    this.height = 10;\n    this.direction = 'right';\n\n    _.assign(this, cfg);\n\n    this._init();\n  }\n\n  Arrow.prototype._init = function () {\n    var centerX = this.width / 2;\n    var centerY = this.height / 2;\n    var points = [{\n      x: 0,\n      y: -centerY\n    }, {\n      x: -centerX,\n      y: centerY\n    }, {\n      x: centerX,\n      y: centerY\n    }];\n    this.shape = new G.Path({\n      attrs: _.deepMix({\n        path: [['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['Z']]\n      }, this.attrs)\n    });\n    var transformMatrix = [];\n    /** rotate */\n\n    transformMatrix.push(['r', dir_mapper[this.direction]]);\n    /** transform */\n\n    transformMatrix.push(['t', this.x, this.y]);\n    this.shape.transform(transformMatrix);\n  };\n\n  return Arrow;\n}();\n\nexports.default = Arrow;","\"use strict\";\n/**\n * @description 使用 HTML 进行渲染的图例\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar g_1 = require(\"@antv/g\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar DEFAULT_THEME = {\n  backgroundStyle: {\n    position: 'absolute',\n    overflow: 'auto',\n    top: 0,\n    left: 0\n  },\n  titleStyle: {\n    marginBottom: '4px'\n  },\n  listStyle: {\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0\n  },\n  itemStyle: {\n    cursor: 'pointer',\n    marginBottom: '5px',\n    marginRight: '16px',\n    userSelect: 'none'\n  },\n  markerStyle: {\n    width: '9px',\n    height: '9px',\n    borderRadius: '50%',\n    display: 'inline-block',\n    marginRight: '8px',\n    verticalAlign: 'middle'\n  },\n  pagination: {\n    activeColor: '#000',\n    inactiveColor: '#ccc',\n    arrowSize: 8,\n    animation: true\n  }\n};\n\nfunction _findParentNode(node, className) {\n  var nodeClass = node.className;\n\n  if (Util.isNil(nodeClass)) {\n    return node;\n  }\n\n  nodeClass = nodeClass.split(' ');\n\n  if (nodeClass.indexOf(className) > -1) {\n    return node;\n  }\n\n  if (node.parentNode) {\n    if (node.parentNode.className === className) {\n      return node.parentNode;\n    }\n\n    return _findParentNode(node.parentNode, className);\n  }\n\n  return null;\n}\n\nfunction _findNodeByClass(node, className) {\n  return node.getElementsByClassName(className)[0];\n}\n\nvar HTMLLegend =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(HTMLLegend, _super);\n\n  function HTMLLegend(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      type: 'html-legend',\n      prefixClassName: 'g2-legend',\n      pagination: true,\n      highlight: false\n    }, cfg)) || this;\n  }\n\n  HTMLLegend.prototype.init = function () {\n    // 初始化 HTML dom\n    var fontFamily = this.get('fontFamily'); // const width = this.get('width');\n    // const height = this.get('height');\n\n    var layout = this.get('layout');\n    var maxWidth = this.get('maxWidth');\n    var maxHeight = this.get('maxHeight');\n    var prefixClassName = this.get('prefixClassName');\n    var containerTpl = this.get('containerTpl');\n\n    if (!containerTpl) {\n      containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n    }\n\n    var legendContainer = domUtil.createDom(containerTpl);\n    var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n    domUtil.modifyCSS(legendContainer, tslib_1.__assign({\n      fontFamily: fontFamily,\n      maxHeight: maxHeight + \"px\",\n      // width: 'auto',\n      width: '100%',\n      height: 'auto'\n    }, backgroundStyle));\n\n    if (layout === 'horizontal') {\n      domUtil.modifyCSS(legendContainer, {\n        maxWidth: maxWidth + \"px\"\n      });\n    }\n\n    var container = this.get('container');\n\n    if (!container) {\n      // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n      var canvas = this.get('canvas');\n      var mountNode = canvas.get('el').parentNode;\n      mountNode.appendChild(legendContainer);\n    } else if (/^\\#/.test(container)) {\n      // 如果传入 dom 节点的 id\n      var id = container.replace('#', '');\n      container = document.getElementById(id);\n      container.appendChild(legendContainer);\n    } else {\n      // 传入 dom 节点\n      container.appendChild(legendContainer);\n    }\n\n    this.set('_legendContainer', legendContainer);\n  }; // 渲染标题\n\n\n  HTMLLegend.prototype.renderTitle = function () {\n    var title = this.get('title');\n\n    if (title) {\n      var prefixClassName = this.get('prefixClassName');\n      var legendContainer = this.get('_legendContainer');\n\n      var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n\n      if (!titleContainer) {\n        titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n        legendContainer.appendChild(titleContainer);\n      }\n\n      titleContainer.innerHTML = title;\n      var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n      domUtil.modifyCSS(titleContainer, titleStyle);\n      this.set('_titleContainer', titleContainer);\n    }\n  }; // 渲染图例项\n\n\n  HTMLLegend.prototype.renderItems = function () {\n    var _this = this;\n\n    var items = this.get('items');\n\n    if (!items || !items.length) {\n      return;\n    }\n\n    var legendContainer = this.get('_legendContainer');\n    var layout = this.get('layout');\n    var prefixClassName = this.get('prefixClassName');\n    var reversed = this.get('reversed');\n\n    if (reversed) {\n      items.reverse();\n    }\n\n    var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n\n    if (!itemGroupContainer) {\n      itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n    }\n\n    var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n\n    if (layout === 'horizontal') {\n      // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n      // @todo ie是否会有兼容问题？\n      listStyle.width = 'max-content';\n    }\n\n    domUtil.modifyCSS(itemGroupContainer, listStyle); // 用于支持分页逻辑\n\n    var clipContainer = domUtil.createDom('<div></div>');\n    legendContainer.appendChild(clipContainer);\n    clipContainer.appendChild(itemGroupContainer);\n    this.set('_clipContainer', clipContainer);\n    this.set('_itemGroupContainer', itemGroupContainer);\n    var itemTpl = this.get('itemTpl');\n\n    if (!itemTpl) {\n      itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n    }\n\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n\n    var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n\n    if (layout === 'horizontal') {\n      itemStyle.display = 'inline-block';\n    } else if (layout === 'vertical') {\n      itemStyle.display = 'block';\n    }\n\n    var itemMap = {};\n    Util.each(items, function (item, index) {\n      var checked = item.checked;\n\n      var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n\n\n      var originColor = item.marker.fill || item.marker.stroke;\n      var color = checked ? originColor : unSelectedColor;\n      var itemDom;\n\n      if (Util.isFunction(itemTpl)) {\n        // 用户声明了回调\n        var domStr = itemTpl(value, color, checked, index);\n        itemDom = domUtil.createDom(domStr);\n      } else {\n        itemDom = domUtil.createDom(itemTpl);\n\n        var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n\n        textDom.innerHTML = value;\n      }\n\n      itemStyle.color = color; // 设置为当前状态对应的文本颜色\n\n      markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n\n      domUtil.modifyCSS(itemDom, itemStyle);\n      itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n\n      itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n\n      itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n\n      var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n\n      if (markerDom) {\n        domUtil.modifyCSS(markerDom, markerStyle);\n      }\n\n      itemGroupContainer.appendChild(itemDom);\n      itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n    });\n    this.set('_itemMap', itemMap);\n\n    if (layout === 'horizontal') {\n      this._renderHorizontalPagination();\n    } else {\n      this._renderPagination();\n    }\n  };\n\n  HTMLLegend.prototype.bindEvents = function () {\n    var _this = this;\n\n    var itemGroupContainer = this.get('_itemGroupContainer');\n\n    if (!itemGroupContainer) {\n      return;\n    }\n\n    if (this.get('clickable')) {\n      itemGroupContainer.onclick = function (ev) {\n        return _this._onClick(ev);\n      };\n    }\n\n    if (this.get('hoverable')) {\n      itemGroupContainer.onmousemove = function (ev) {\n        return _this._onMousemove(ev);\n      };\n\n      itemGroupContainer.onmouseout = function (ev) {\n        return _this._onMouseout(ev);\n      };\n    }\n  };\n  /**\n   * 获取图例的宽度\n   */\n\n\n  HTMLLegend.prototype.getWidth = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterWidth(container);\n  };\n  /**\n   * 获取图例的高度\n   */\n\n\n  HTMLLegend.prototype.getHeight = function () {\n    var container = this.get('_legendContainer');\n    return domUtil.getOuterHeight(container);\n  };\n  /**\n   * 获取图例的BBox\n   */\n\n\n  HTMLLegend.prototype.getBBox = function () {\n    return new g_1.BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n  };\n  /**\n   * 将图例移动至 (x, y）坐标点位置\n   * @param x x 坐标\n   * @param y y 坐标\n   */\n\n\n  HTMLLegend.prototype.moveTo = function (x, y) {\n    var container = this.get('_legendContainer');\n    domUtil.modifyCSS(container, {\n      left: x + \"px\",\n      top: y + \"px\"\n    });\n    this.set('x', x);\n    this.set('y', y);\n  };\n  /**\n   * 销毁\n   */\n\n\n  HTMLLegend.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var container = this.get('_legendContainer');\n\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  };\n\n  HTMLLegend.prototype.draw = function () {\n    // HTML Legend 不需要调用 canvas.draw();\n    return null;\n  };\n\n  HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n    if (markerDom) {\n      markerDom.style.background = color;\n    }\n\n    itemDom.style.color = color;\n    itemDom.setAttribute('data-checked', checked);\n  };\n\n  HTMLLegend.prototype._onClick = function (ev) {\n    var _this = this;\n\n    var items = this.get('items');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n      // 用户点击到了 list 容器上\n      return;\n    }\n\n    var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n\n    var itemMap = this.get('_itemMap');\n    var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')]; // if (!clickedItem) {\n    //   return;\n    // }\n\n    var originColor = clickedItemDom.getAttribute('data-color');\n    var selectedMode = this.get('selectedMode');\n    var unSelectedColor = this.get('unSelectedColor');\n    var itemNodes = itemGroupContainer.childNodes;\n\n    if (selectedMode === 'single') {\n      // 单选模式\n      clickedItem.checked = true; // 更新选中状态\n      // 其他图例项全部置灰\n\n      Util.each(itemNodes, function (child) {\n        if (child !== clickedItemDom) {\n          // tslint:disable-next-line: no-shadowed-variable\n          var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n\n          _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n\n          var childItem = itemMap[child.getAttribute('data-value')];\n          childItem.checked = false;\n        } else {\n          _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n        }\n      });\n    } else {\n      // 混合模式\n      var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n      var count_1 = 0;\n      Util.each(itemNodes, function (child) {\n        if (child.getAttribute('data-checked') === 'true') {\n          count_1++;\n        }\n      });\n\n      if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n        return;\n      } // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n\n\n      clickedItem.checked = !clickedItem.checked;\n\n      if (isCurrentChecked) {\n        this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n      } else {\n        this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n      }\n    }\n\n    this.emit('itemclick', {\n      item: clickedItem,\n      currentTarget: clickedItemDom,\n      checked: selectedMode === 'single' ? true : clickedItem.checked\n    });\n  };\n\n  HTMLLegend.prototype._onMousemove = function (ev) {\n    var lastActiveItem = this.get('_lastActiveItem');\n    var items = this.get('items');\n    var itemMap = this.get('_itemMap');\n    var prefixClassName = this.get('prefixClassName');\n    var LIST_CLASS = prefixClassName + \"-list\";\n    var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n    var target = ev.target;\n    var targetClassName = target.className.split(' ');\n\n    if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n      // 用户 move 到了 list 容器上\n      return;\n    }\n\n    var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n\n    var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n\n    if (hoveredItem) {\n      var highlight = this.get('highlight');\n\n      if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n        // 只有选中状态才应用样式\n        hoveredItemDom.className += ' active';\n\n        if (highlight) {\n          // 如果开启高亮效果\n          var itemGroupContainer = this.get('_itemGroupContainer');\n          var itemNodes = itemGroupContainer.childNodes;\n          itemNodes.forEach(function (itemNode) {\n            if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n              itemNode.className += ' inactive';\n            }\n          });\n        }\n\n        this.set('_lastActiveItem', hoveredItem);\n      }\n\n      this.emit('itemmouseover', {\n        item: hoveredItem,\n        currentTarget: hoveredItemDom,\n        checked: hoveredItem.checked\n      });\n    }\n  };\n\n  HTMLLegend.prototype._onMouseout = function (ev) {\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var itemNodes = itemGroupContainer.childNodes;\n    itemNodes.forEach(function (node) {\n      var className = node.className.split(' ');\n      Util.remove(className, function (a) {\n        return a === 'active' || a === 'inactive';\n      });\n      node.className = className.join(' ');\n    });\n    this.set('_lastActiveItem', null);\n    this.emit('itemmouseleave', ev);\n  };\n\n  HTMLLegend.prototype._renderPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        height: this.get('maxHeight') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerHeight = this.getHeight(); // legend 容器的高度\n\n      var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n\n      var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n\n      var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n\n      var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxHeight: itemGroupContainerHeight + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n\n      var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n\n      var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n\n      var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n\n      var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_1;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_1 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_1 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n      domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_1 = 1;\n      var translateY_1 = 0;\n\n      prePageButton_1.onclick = function () {\n        if (currentPage_1 === 1) {\n          return;\n        }\n\n        currentPage_1 -= 1;\n        translateY_1 += deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === 1) {\n          domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n        }\n      };\n\n      nextPageButton_1.onclick = function () {\n        if (currentPage_1 === pageSize_1) {\n          return;\n        }\n\n        currentPage_1 += 1;\n        translateY_1 -= deltaHeight_1;\n        currentPageNum_1.innerHTML = currentPage_1;\n        domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n        domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateY(\" + translateY_1 + \"px)\"\n        });\n\n        if (currentPage_1 === pageSize_1) {\n          domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n        }\n      };\n    }\n  };\n\n  HTMLLegend.prototype._renderHorizontalPagination = function () {\n    var pagination = this.get('pagination');\n    var legendContainer = this.get('_legendContainer');\n    var itemGroupContainer = this.get('_itemGroupContainer');\n    var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n\n    if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n      // 满足分页条件\n      domUtil.modifyCSS(legendContainer, {\n        overflow: 'hidden',\n        width: this.get('maxWidth') + \"px\"\n      }); // 如果允许分页，则禁止滚动\n\n      var paginationDom = domUtil.createDom(paginationDomStr);\n      legendContainer.appendChild(paginationDom);\n      var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n      // const titleHeight = this.get('_titleContainer') ?\n      // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n\n      var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n\n      var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n\n      var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n      // 剪切区域的样式设置\n\n      var clipContainer = this.get('_clipContainer');\n      domUtil.modifyCSS(clipContainer, {\n        maxWidth: itemGroupContainerWidth + \"px\",\n        overflow: 'hidden'\n      });\n      var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n\n      var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n      // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n\n      var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n\n      var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n\n      var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n\n      var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n\n      var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n\n      totalPageNum.innerHTML = pageSize_2;\n      var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n      var activeStyle_2 = {\n        cursor: 'pointer',\n        border: paginationCfg.activeColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      var inactiveStyle_2 = {\n        cursor: 'default',\n        border: paginationCfg.inactiveColor + \" solid\",\n        borderWidth: '2px 2px 0 0',\n        width: paginationCfg.arrowSize + \"px\",\n        height: paginationCfg.arrowSize + \"px\"\n      };\n      domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n      domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n\n      if (paginationCfg.animation) {\n        // 允许分页的滚动动画\n        domUtil.modifyCSS(itemGroupContainer, {\n          transition: 'transform .3s ease-in'\n        });\n      }\n\n      var currentPage_2 = 1;\n      var translateX_1 = 0;\n\n      prePageButton_2.onclick = function () {\n        if (currentPage_2 === 1) {\n          return;\n        }\n\n        currentPage_2 -= 1;\n        translateX_1 += deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === 1) {\n          domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n        }\n      };\n\n      nextPageButton_2.onclick = function () {\n        if (currentPage_2 === pageSize_2) {\n          return;\n        }\n\n        currentPage_2 += 1;\n        translateX_1 -= deltaWidth_1;\n        currentPageNum_2.innerHTML = currentPage_2;\n        domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n        domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n        domUtil.modifyCSS(itemGroupContainer, {\n          transform: \"translateX(\" + translateX_1 + \"px)\"\n        });\n\n        if (currentPage_2 === pageSize_2) {\n          domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n        }\n      };\n    }\n  };\n\n  return HTMLLegend;\n}(base_1.default);\n\nexports.default = HTMLLegend;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar clone = function clone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  var rst;\n\n  if (is_array_1.default(obj)) {\n    rst = [];\n\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (typeof obj[i] === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n\n    for (var k in obj) {\n      if (typeof obj[k] === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nexports.default = clone;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar domUtil = require(\"@antv/dom-util\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"./base\");\n\nvar crosshair_1 = require(\"./crosshair\");\n\nvar theme_1 = require(\"./theme\");\n\nvar position_1 = require(\"./util/position\");\n\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\n\nvar find = function find(dom, cls) {\n  return dom.getElementsByClassName(cls)[0];\n};\n\nvar mergeStyles = function mergeStyles(styles, cfg) {\n  // todo\n  Object.keys(styles).forEach(function (k) {\n    if (cfg[k]) {\n      styles[k] = Util.mix(styles[k], cfg[k]);\n    }\n  });\n  return styles;\n};\n\nvar HtmlTooltip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(HtmlTooltip, _super);\n\n  function HtmlTooltip(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * tooltip 容器模板\n       * @type {String}\n       */\n      containerTpl: \"<div class=\\\"\" + CONTAINER_CLASS + \"\\\">\\n        <div class=\\\"\" + TITLE_CLASS + \"\\\"></div>\\n        <ul class=\\\"\" + LIST_CLASS + \"\\\"></ul>\\n        </div>\",\n\n      /**\n       * tooltip 列表项模板\n       * @type {String}\n       */\n      itemTpl: \"<li data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></span>\\n        {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n\n      /**\n       * tooltip html内容\n       * @type {String}\n       */\n      htmlContent: null,\n\n      /**\n       * tooltip 内容跟随鼠标移动\n       * @type {Boolean}\n       */\n      follow: true,\n\n      /**\n       * 是否允许鼠标停留在 tooltip 上，默认不允许\n       * @type {Boolean}\n       */\n      enterable: false\n    }, cfg)) || this;\n\n    var style = theme_1.default;\n    _this.style = mergeStyles(style, cfg);\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    } // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = crosshair.type === 'rect' ? _this.get('backgroundGroup') : _this.get('frontgroundGroup');\n      var crosshairGroup = new crosshair_1.default(Util.mix({\n        plot: plot,\n        panelRange: _this.get('panelRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    return _this;\n  }\n\n  HtmlTooltip.prototype._init_ = function () {\n    var containerTpl = this.get('containerTpl');\n    var outterNode = this.get('canvas').get('el').parentNode;\n    var container;\n\n    if (!this.get('htmlContent')) {\n      if (/^\\#/.test(containerTpl)) {\n        // 如果传入 dom 节点的 id\n        var id = containerTpl.replace('#', '');\n        container = document.getElementById(id);\n      } else {\n        container = domUtil.createDom(containerTpl);\n      }\n    } else {\n      container = this._getHtmlContent();\n    }\n\n    this.set('container', container);\n    domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n    outterNode.appendChild(container);\n    outterNode.style.position = 'relative';\n  };\n\n  HtmlTooltip.prototype.render = function () {\n    this.clear();\n\n    if (this.get('htmlContent')) {\n      var outterNode = this.get('canvas').get('el').parentNode;\n\n      var container = this._getHtmlContent();\n\n      outterNode.appendChild(container);\n      domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n      this.set('container', container);\n    } else {\n      this._renderTpl();\n    }\n  };\n\n  HtmlTooltip.prototype._renderTpl = function () {\n    var _this = this;\n\n    var showTitle = this.get('showTitle');\n    var titleContent = this.get('titleContent');\n    var container = this.get('container');\n    var titleDom = find(container, TITLE_CLASS);\n    var listDom = find(container, LIST_CLASS);\n    var items = this.get('items');\n\n    if (titleDom && showTitle) {\n      domUtil.modifyCSS(titleDom, this.style[TITLE_CLASS]);\n      titleDom.innerHTML = titleContent;\n    }\n\n    if (listDom) {\n      domUtil.modifyCSS(listDom, this.style[LIST_CLASS]);\n      Util.each(items, function (item, index) {\n        listDom.appendChild(_this._addItem(item, index));\n      });\n    }\n  };\n\n  HtmlTooltip.prototype.clear = function () {\n    var container = this.get('container');\n\n    if (container && this.get('htmlContent')) {\n      container.remove();\n    } else {\n      var titleDom = find(container, TITLE_CLASS);\n      var listDom = find(container, LIST_CLASS);\n\n      if (titleDom) {\n        titleDom.innerHTML = '';\n      }\n\n      if (listDom) {\n        listDom.innerHTML = '';\n      }\n    }\n  };\n\n  HtmlTooltip.prototype.show = function () {\n    var container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.show();\n    }\n\n    _super.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.hide = function () {\n    var container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n\n    _super.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  HtmlTooltip.prototype.destroy = function () {\n    var container = this.get('container');\n    var containerTpl = this.get('containerTpl');\n\n    if (container && !/^\\#/.test(containerTpl)) {\n      container.parentNode.removeChild(container);\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      crosshairGroup.destroy();\n    }\n\n    var markerGroup = this.get('markerGroup');\n\n    if (markerGroup) {\n      markerGroup.remove();\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  HtmlTooltip.prototype._addItem = function (item, index) {\n    var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n\n    var itemDiv = Util.substitute(itemTpl, Util.mix( // @ts-ignore\n    {\n      // @ts-ignore\n      index: index\n    }, item));\n    var itemDOM = domUtil.createDom(itemDiv);\n    domUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n    var markerDom = find(itemDOM, MARKER_CLASS);\n\n    if (markerDom) {\n      domUtil.modifyCSS(markerDom, this.style[MARKER_CLASS]);\n    }\n\n    var valueDom = find(itemDOM, VALUE_CLASS);\n\n    if (valueDom) {\n      domUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n    }\n\n    return itemDOM;\n  };\n\n  HtmlTooltip.prototype._getHtmlContent = function () {\n    var htmlContent = this.get('htmlContent');\n    var title = this.get('titleContent');\n    var items = this.get('items');\n    var html = htmlContent(title, items);\n    var ele;\n\n    if (Util.isElement(html)) {\n      ele = html;\n    } else {\n      ele = domUtil.createDom(html);\n    }\n\n    return ele;\n  };\n\n  HtmlTooltip.prototype.setPosition = function (oldx, oldy, target) {\n    // todo any 是 Shape\n    var x = oldx;\n    var y = oldy;\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = domUtil.getWidth(outterNode);\n    var viewHeight = domUtil.getHeight(outterNode);\n    var containerWidth = container.clientWidth;\n    var containerHeight = container.clientHeight;\n    var endx = x;\n    var endy = y;\n    var position;\n    var prePosition = this.get('prePosition') || {\n      x: 0,\n      y: 0\n    }; // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n\n    if (!containerWidth) {\n      container.style.display = 'block';\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n      container.style.display = 'none';\n    }\n\n    if (this.get('enterable')) {\n      y = y - container.clientHeight / 2;\n      position = [x, y];\n\n      if (prePosition && x - prePosition.x > 0) {\n        // 留 1px 防止鼠标点击事件无法在画布上触发\n        x -= container.clientWidth + 1;\n      } else {\n        x += 1;\n      }\n    } else if (this.get('position')) {\n      position = position_1.defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = position_1.constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPanel')) {\n      // tooltip 必须限制在绘图区域内\n      var panelRange = this.get('panelRange');\n      var panelGroup = this.get('panelGroup');\n      var panelClip = panelGroup.attr('clip');\n      position = position_1.constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    this.set('prePosition', position); // 记录上次的位置\n\n    var follow = this.get('follow');\n\n    if (follow) {\n      container.style.left = x + \"px\";\n      container.style.top = y + \"px\";\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _super.prototype.setPosition.call(this, x, y);\n  };\n\n  return HtmlTooltip;\n}(base_1.default);\n\nexports.default = HtmlTooltip;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Tooltip, _super);\n\n  function Tooltip(cfg) {\n    return _super.call(this, tslib_1.__assign({\n      /**\n       * 右下角坐标\n       */\n      x: 0,\n\n      /**\n       * y 右下角坐标\n       */\n      y: 0,\n\n      /**\n       * tooltip 记录项\n       */\n      items: null,\n\n      /**\n       * tooltip 标题\n       * @type {Array}\n       */\n      titleContent: null,\n\n      /**\n       * 是否展示 title\n       * @type {Boolean}\n       */\n      showTitle: true,\n\n      /**\n       * 视图范围\n       * @type {Object}\n       */\n      panelRange: null,\n\n      /**\n       * 将 tooltip 展示在指定区域内\n       * @type {Boolean}\n       */\n      inPanel: true,\n\n      /**\n       * tooltip 辅助线配置\n       * @type {Object}\n       */\n      crosshairs: null\n    }, cfg)) || this;\n  }\n\n  Tooltip.prototype.isContentChange = function (title, items) {\n    var titleContent = this.get('titleContent');\n    var lastItems = this.get('items');\n    var isChanged = !(title === titleContent && lastItems.length === items.length);\n\n    if (!isChanged) {\n      Util.each(items, function (item, index) {\n        var preItem = lastItems[index];\n        var keys = Object.keys(item);\n        isChanged = keys.some(function (key) {\n          return !Util.isObject(item[key]) && item[key] !== preItem[key];\n        });\n\n        if (isChanged) {\n          return false;\n        }\n      });\n    }\n\n    return isChanged;\n  };\n\n  Tooltip.prototype.setContent = function (title, items) {\n    this.set('items', items);\n    this.set('titleContent', title);\n    this.render();\n    return this;\n  };\n\n  Tooltip.prototype.setPosition = function (x, y, target) {\n    this.set('x', x);\n    this.set('y', y);\n  };\n\n  Tooltip.prototype.setMarkers = function (markerItems, markerCfg) {\n    var markerGroup = this.get('markerGroup');\n    var frontgroundGroup = this.get('frontgroundGroup');\n\n    if (!markerGroup) {\n      markerGroup = frontgroundGroup.addGroup({\n        zIndex: 1,\n        capture: false\n      });\n      this.set('markerGroup', markerGroup);\n    } else {\n      markerGroup.clear();\n    }\n\n    Util.each(markerItems, function (item) {\n      markerGroup.addShape('marker', {\n        color: item.color,\n        attrs: Util.mix({\n          fill: item.color,\n          symbol: 'circle',\n          shadowColor: item.color\n        }, markerCfg, {\n          x: item.x,\n          y: item.y\n        })\n      });\n    });\n    this.set('markerItems', markerItems);\n  };\n\n  Tooltip.prototype.clearMarkers = function () {\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.clear();\n  };\n\n  Tooltip.prototype.render = function () {};\n\n  Tooltip.prototype.clear = function () {};\n\n  Tooltip.prototype.show = function () {\n    this.set('visible', true);\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.set('visible', false);\n  };\n\n  return Tooltip;\n}(base_1.default);\n\nexports.default = Tooltip;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Util = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar Crosshair =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Crosshair, _super);\n\n  function Crosshair(cfg) {\n    var _this = _super.call(this, tslib_1.__assign({\n      /**\n       * crosshair的类型\n       */\n      type: null,\n\n      /**\n       * 画在哪层视图\n       */\n      plot: null,\n\n      /**\n       * x轴上，移动到位置的偏移量\n       */\n      panelRange: null,\n\n      /**\n       * 默认rect crosshair样式\n       * @type {Object}\n       */\n      rectStyle: {\n        fill: '#CCD6EC',\n        opacity: 0.3\n      },\n\n      /**\n       * 默认line crosshair样式\n       */\n      lineStyle: {\n        stroke: 'rgba(0, 0, 0, 0.25)',\n        lineWidth: 1\n      },\n      isTransposed: false\n    }, cfg)) || this;\n\n    _this._init_();\n\n    _this.render();\n\n    return _this;\n  }\n\n  Crosshair.prototype._init_ = function () {\n    var plot = this.get('plot');\n    var group = plot.addGroup();\n    this.set('container', group);\n  };\n\n  Crosshair.prototype._addLineShape = function (attrs, type) {\n    var container = this.get('container');\n    var shape = container.addShape('line', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set(\"crossLineShape\" + type, shape);\n    return shape;\n  };\n\n  Crosshair.prototype._renderHorizontalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: panelRange ? panelRange.bl.x : canvas.get('width'),\n      y1: 0,\n      x2: panelRange ? panelRange.br.x : 0,\n      y2: 0\n    }, style);\n\n    this._addLineShape(attrs, 'X');\n  };\n\n  Crosshair.prototype._renderVerticalLine = function (canvas, panelRange) {\n    // todo\n    var style = Util.mix(this.get('lineStyle'), this.get('style'));\n    var attrs = Util.mix({\n      x1: 0,\n      y1: panelRange ? panelRange.bl.y : canvas.get('height'),\n      x2: 0,\n      y2: panelRange ? panelRange.tl.y : 0\n    }, style);\n\n    this._addLineShape(attrs, 'Y');\n  };\n\n  Crosshair.prototype._renderBackground = function (canvas, panelRange) {\n    var style = Util.mix(this.get('rectStyle'), this.get('style'));\n    var container = this.get('container');\n    var attrs = Util.mix({\n      x: panelRange ? panelRange.tl.x : 0,\n      y: panelRange ? panelRange.tl.y : canvas.get('height'),\n      width: panelRange ? panelRange.br.x - panelRange.bl.x : canvas.get('width'),\n      height: panelRange ? Math.abs(panelRange.tl.y - panelRange.bl.y) : canvas.get('height')\n    }, style);\n    var shape = container.addShape('rect', {\n      attrs: attrs,\n      capture: false\n    }); // shape.hide();\n\n    this.set('crosshairsRectShape', shape);\n    return shape;\n  };\n\n  Crosshair.prototype._updateRectShape = function (items) {\n    var offset;\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n    var isTransposed = this.get('isTransposed');\n    var firstItem = items[0];\n    var lastItem = items[items.length - 1];\n    var dim = isTransposed ? 'y' : 'x';\n    var attr = isTransposed ? 'height' : 'width';\n    var startDim = firstItem[dim];\n\n    if (items.length > 1 && firstItem[dim] > lastItem[dim]) {\n      startDim = lastItem[dim];\n    }\n\n    if (this.get('width')) {\n      // 用户定义了 width\n      crosshairsRectShape.attr(dim, startDim - this.get('crosshairs').width / 2);\n      crosshairsRectShape.attr(attr, this.get('width'));\n    } else {\n      if (Util.isArray(firstItem.point[dim]) && !firstItem.size) {\n        // 直方图\n        var width = firstItem.point[dim][1] - firstItem.point[dim][0];\n        crosshairsRectShape.attr(dim, firstItem.point[dim][0]);\n        crosshairsRectShape.attr(attr, width);\n      } else {\n        offset = 3 * firstItem.size / 4;\n        crosshairsRectShape.attr(dim, startDim - offset);\n\n        if (items.length === 1) {\n          crosshairsRectShape.attr(attr, 3 * firstItem.size / 2);\n        } else {\n          crosshairsRectShape.attr(attr, Math.abs(lastItem[dim] - firstItem[dim]) + 2 * offset);\n        }\n      }\n    }\n  };\n\n  Crosshair.prototype.render = function () {\n    var canvas = this.get('canvas');\n    var panelRange = this.get('panelRange');\n    var isTransposed = this.get('isTransposed');\n    this.clear();\n\n    switch (this.get('type')) {\n      case 'x':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        break;\n\n      case 'y':\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'cross':\n        this._renderHorizontalLine(canvas, panelRange);\n\n        this._renderVerticalLine(canvas, panelRange);\n\n        break;\n\n      case 'rect':\n        this._renderBackground(canvas, panelRange);\n\n        break;\n\n      default:\n        isTransposed ? this._renderHorizontalLine(canvas, panelRange) : this._renderVerticalLine(canvas, panelRange);\n    }\n  };\n\n  Crosshair.prototype.show = function () {\n    var container = this.get('container'); // super.show();\n\n    container.show();\n  };\n\n  Crosshair.prototype.hide = function () {\n    var container = this.get('container'); // super.hide();\n\n    container.hide();\n  };\n\n  Crosshair.prototype.clear = function () {\n    var container = this.get('container');\n    this.set('crossLineShapeX', null);\n    this.set('crossLineShapeY', null);\n    this.set('crosshairsRectShape', null); // super.clear();\n\n    container.clear();\n  };\n\n  Crosshair.prototype.destroy = function () {\n    var container = this.get('container');\n\n    _super.prototype.destroy.call(this);\n\n    container.remove();\n  };\n\n  Crosshair.prototype.setPosition = function (x, y, items) {\n    var crossLineShapeX = this.get('crossLineShapeX');\n    var crossLineShapeY = this.get('crossLineShapeY');\n    var crosshairsRectShape = this.get('crosshairsRectShape');\n\n    if (crossLineShapeY && !crossLineShapeY.get('destroyed')) {\n      // 第一次进入时，画布需要单独绘制，所以需要先设定corss的位置\n      crossLineShapeY.move(x, 0);\n    }\n\n    if (crossLineShapeX && !crossLineShapeX.get('destroyed')) {\n      crossLineShapeX.move(0, y);\n    }\n\n    if (crosshairsRectShape && !crosshairsRectShape.get('destroyed')) {\n      this._updateRectShape(items);\n    }\n  };\n\n  return Crosshair;\n}(base_1.default);\n\nexports.default = Crosshair;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar GAP = 20;\n\nfunction defaultPosition(x, y, position, containerWidth, containerHeight, target) {\n  var newx = x;\n  var newy = y; // todo any 是 Shape\n\n  var rectWidth = 0;\n  var rectHeight = 0;\n  var gap = 20;\n\n  if (target) {\n    var rect = target.getBBox();\n    rectWidth = rect.width;\n    rectHeight = rect.height;\n    newx = rect.x;\n    newy = rect.y;\n    gap = 5;\n  }\n\n  switch (position) {\n    case 'inside':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'top':\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy - containerHeight - gap;\n      break;\n\n    case 'left':\n      newx = newx - containerWidth - gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'right':\n      newx = newx + rectWidth + gap;\n      newy = newy + rectHeight / 2 - containerHeight / 2;\n      break;\n\n    case 'bottom':\n    default:\n      newx = newx + rectWidth / 2 - containerWidth / 2;\n      newy = newy + rectHeight + gap;\n      break;\n  }\n\n  return [newx, newy];\n}\n\nexports.defaultPosition = defaultPosition;\n\nfunction constraintPositionInBoundary(x, y, width, height, viewWidth, viewHeight) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width + GAP > viewWidth) {\n    newx -= width + GAP;\n    newx = newx < 0 ? 0 : newx;\n  } else if (newx + GAP < 0) {\n    newx = GAP;\n  } else {\n    newx += GAP;\n  }\n\n  if (newy + height + GAP > viewHeight) {\n    newy -= height + GAP;\n    newy = newy < 0 ? 0 : newy;\n  } else if (newy + GAP < 0) {\n    newy = GAP;\n  } else {\n    newy += GAP;\n  }\n\n  return [newx, newy];\n}\n\nexports.constraintPositionInBoundary = constraintPositionInBoundary;\n\nfunction constraintPositionInPanel(x, y, width, height, panelRange, onlyHorizontal) {\n  var newx = x;\n  var newy = y;\n\n  if (newx + width > panelRange.tr.x) {\n    newx -= width + 2 * GAP;\n  }\n\n  if (newx < panelRange.tl.x) {\n    newx = panelRange.tl.x;\n  }\n\n  if (!onlyHorizontal) {\n    if (newy + height > panelRange.bl.y) {\n      newy -= height + 2 * GAP;\n    }\n\n    if (newy < panelRange.tl.y) {\n      newy = panelRange.tl.y;\n    }\n  }\n\n  return [newx, newy];\n}\n\nexports.constraintPositionInPanel = constraintPositionInPanel;"],"sourceRoot":""}